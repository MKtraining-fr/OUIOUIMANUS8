var d4=Object.defineProperty;var f4=(e,t,n)=>t in e?d4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Eg=(e,t,n)=>f4(e,typeof t!="symbol"?t+"":t,n);function h4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Og={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function p4(){if(dS)return Sc;dS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Sc.Fragment=t,Sc.jsx=n,Sc.jsxs=n,Sc}var fS;function g4(){return fS||(fS=1,Og.exports=p4()),Og.exports}var u=g4(),Ag={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function v4(){if(hS)return Me;hS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function O(R,L,V){this.props=R,this.context=L,this.refs=S,this.updater=V||w}O.prototype.isReactComponent={},O.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},O.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=O.prototype;function A(R,L,V){this.props=R,this.context=L,this.refs=S,this.updater=V||w}var C=A.prototype=new N;C.constructor=A,j(C,O.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function k(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function q(R,L,V){var X=V.ref;return{$$typeof:e,type:R,key:L,ref:X!==void 0?X:null,props:V}}function $(R,L){return q(R.type,L,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function H(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(V){return L[V]})}var ae=/\/+/g;function z(R,L){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):L.toString(36)}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(k,k):(R.status="pending",R.then(function(L){R.status==="pending"&&(R.status="fulfilled",R.value=L)},function(L){R.status==="pending"&&(R.status="rejected",R.reason=L)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function I(R,L,V,X,te){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var pe=!1;if(R===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(R.$$typeof){case e:case t:pe=!0;break;case p:return pe=R._init,I(pe(R._payload),L,V,X,te)}}if(pe)return te=te(R),pe=X===""?"."+z(R,0):X,T(te)?(V="",pe!=null&&(V=pe.replace(ae,"$&/")+"/"),I(te,L,V,"",function(je){return je})):te!=null&&(F(te)&&(te=$(te,V+(te.key==null||R&&R.key===te.key?"":(""+te.key).replace(ae,"$&/")+"/")+pe)),L.push(te)),1;pe=0;var ke=X===""?".":X+":";if(T(R))for(var ie=0;ie<R.length;ie++)X=R[ie],fe=ke+z(X,ie),pe+=I(X,L,V,fe,te);else if(ie=_(R),typeof ie=="function")for(R=ie.call(R),ie=0;!(X=R.next()).done;)X=X.value,fe=ke+z(X,ie++),pe+=I(X,L,V,fe,te);else if(fe==="object"){if(typeof R.then=="function")return I(K(R),L,V,X,te);throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(R,L,V){if(R==null)return R;var X=[],te=0;return I(R,X,"","",function(fe){return L.call(V,fe,te++)}),X}function W(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(V){(R._status===0||R._status===-1)&&(R._status=1,R._result=V)},function(V){(R._status===0||R._status===-1)&&(R._status=2,R._result=V)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var ue=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},re={map:Y,forEach:function(R,L,V){Y(R,function(){L.apply(this,arguments)},V)},count:function(R){var L=0;return Y(R,function(){L++}),L},toArray:function(R){return Y(R,function(L){return L})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Me.Activity=g,Me.Children=re,Me.Component=O,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=A,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Me.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},Me.cache=function(R){return function(){return R.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(R,L,V){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var X=j({},R.props),te=R.key;if(L!=null)for(fe in L.key!==void 0&&(te=""+L.key),L)!D.call(L,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&L.ref===void 0||(X[fe]=L[fe]);var fe=arguments.length-2;if(fe===1)X.children=V;else if(1<fe){for(var pe=Array(fe),ke=0;ke<fe;ke++)pe[ke]=arguments[ke+2];X.children=pe}return q(R.type,te,X)},Me.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Me.createElement=function(R,L,V){var X,te={},fe=null;if(L!=null)for(X in L.key!==void 0&&(fe=""+L.key),L)D.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(te[X]=L[X]);var pe=arguments.length-2;if(pe===1)te.children=V;else if(1<pe){for(var ke=Array(pe),ie=0;ie<pe;ie++)ke[ie]=arguments[ie+2];te.children=ke}if(R&&R.defaultProps)for(X in pe=R.defaultProps,pe)te[X]===void 0&&(te[X]=pe[X]);return q(R,fe,te)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(R){return{$$typeof:d,render:R}},Me.isValidElement=F,Me.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:W}},Me.memo=function(R,L){return{$$typeof:h,type:R,compare:L===void 0?null:L}},Me.startTransition=function(R){var L=M.T,V={};M.T=V;try{var X=R(),te=M.S;te!==null&&te(V,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(k,ue)}catch(fe){ue(fe)}finally{L!==null&&V.types!==null&&(L.types=V.types),M.T=L}},Me.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Me.use=function(R){return M.H.use(R)},Me.useActionState=function(R,L,V){return M.H.useActionState(R,L,V)},Me.useCallback=function(R,L){return M.H.useCallback(R,L)},Me.useContext=function(R){return M.H.useContext(R)},Me.useDebugValue=function(){},Me.useDeferredValue=function(R,L){return M.H.useDeferredValue(R,L)},Me.useEffect=function(R,L){return M.H.useEffect(R,L)},Me.useEffectEvent=function(R){return M.H.useEffectEvent(R)},Me.useId=function(){return M.H.useId()},Me.useImperativeHandle=function(R,L,V){return M.H.useImperativeHandle(R,L,V)},Me.useInsertionEffect=function(R,L){return M.H.useInsertionEffect(R,L)},Me.useLayoutEffect=function(R,L){return M.H.useLayoutEffect(R,L)},Me.useMemo=function(R,L){return M.H.useMemo(R,L)},Me.useOptimistic=function(R,L){return M.H.useOptimistic(R,L)},Me.useReducer=function(R,L,V){return M.H.useReducer(R,L,V)},Me.useRef=function(R){return M.H.useRef(R)},Me.useState=function(R){return M.H.useState(R)},Me.useSyncExternalStore=function(R,L,V){return M.H.useSyncExternalStore(R,L,V)},Me.useTransition=function(){return M.H.useTransition()},Me.version="19.2.0",Me}var mS;function yl(){return mS||(mS=1,Ag.exports=v4()),Ag.exports}var b=yl();const Vn=Wr(b),y4=h4({__proto__:null,default:Vn},[b]);var Cg={exports:{}},Nc={},Tg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function b4(){return pS||(pS=1,(function(e){function t(I,Y){var W=I.length;I.push(Y);e:for(;0<W;){var ue=W-1>>>1,re=I[ue];if(0<i(re,Y))I[ue]=Y,I[W]=re,W=ue;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Y=I[0],W=I.pop();if(W!==Y){I[0]=W;e:for(var ue=0,re=I.length,R=re>>>1;ue<R;){var L=2*(ue+1)-1,V=I[L],X=L+1,te=I[X];if(0>i(V,W))X<re&&0>i(te,V)?(I[ue]=te,I[X]=W,ue=X):(I[ue]=V,I[L]=W,ue=L);else if(X<re&&0>i(te,W))I[ue]=te,I[X]=W,ue=X;else break e}}return Y}function i(I,Y){var W=I.sortIndex-Y.sortIndex;return W!==0?W:I.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,v=3,_=!1,w=!1,j=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=I)r(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function T(I){if(j=!1,C(I),!w)if(n(f)!==null)w=!0,k||(k=!0,H());else{var Y=n(h);Y!==null&&K(T,Y.startTime-I)}}var k=!1,M=-1,D=5,q=-1;function $(){return S?!0:!(e.unstable_now()-q<D)}function F(){if(S=!1,k){var I=e.unstable_now();q=I;var Y=!0;try{e:{w=!1,j&&(j=!1,N(M),M=-1),_=!0;var W=v;try{t:{for(C(I),g=n(f);g!==null&&!(g.expirationTime>I&&$());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,v=g.priorityLevel;var re=ue(g.expirationTime<=I);if(I=e.unstable_now(),typeof re=="function"){g.callback=re,C(I),Y=!0;break t}g===n(f)&&r(f),C(I)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var R=n(h);R!==null&&K(T,R.startTime-I),Y=!1}}break e}finally{g=null,v=W,_=!1}Y=void 0}}finally{Y?H():k=!1}}}var H;if(typeof A=="function")H=function(){A(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,z=ae.port2;ae.port1.onmessage=F,H=function(){z.postMessage(null)}}else H=function(){O(F,0)};function K(I,Y){M=O(function(){I(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var W=v;v=Y;try{return I()}finally{v=W}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=v;v=I;try{return Y()}finally{v=W}},e.unstable_scheduleCallback=function(I,Y,W){var ue=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,I={id:p++,callback:Y,priorityLevel:I,startTime:W,expirationTime:re,sortIndex:-1},W>ue?(I.sortIndex=W,t(h,I),n(f)===null&&I===n(h)&&(j?(N(M),M=-1):j=!0,K(T,W-ue))):(I.sortIndex=re,t(f,I),w||_||(w=!0,k||(k=!0,H()))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var Y=v;return function(){var W=v;v=Y;try{return I.apply(this,arguments)}finally{v=W}}}})(kg)),kg}var gS;function x4(){return gS||(gS=1,Tg.exports=b4()),Tg.exports}var Pg={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function _4(){if(vS)return Nn;vS=1;var e=yl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},Nn.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Nn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Nn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Nn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Nn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Nn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Nn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Nn.requestFormReset=function(f){r.d.r(f)},Nn.unstable_batchedUpdates=function(f,h){return f(h)},Nn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Nn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Nn.version="19.2.0",Nn}var yS;function CA(){if(yS)return Pg.exports;yS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=_4(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function w4(){if(bS)return Nc;bS=1;var e=x4(),t=yl(),n=CA();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return f(y),a;if(x===m)return f(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=x;else{for(var E=!1,P=y.child;P;){if(P===c){E=!0,c=y,m=x;break}if(P===m){E=!0,m=y,c=x;break}P=P.sibling}if(!E){for(P=x.child;P;){if(P===c){E=!0,c=x,m=y;break}if(P===m){E=!0,m=x,c=y;break}P=P.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case O:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case C:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:z(a.type)||"Memo";case D:o=a._payload,a=a._init;try{return z(a(o))}catch{}}return null}var K=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],re=-1;function R(a){return{current:a}}function L(a){0>re||(a.current=ue[re],ue[re]=null,re--)}function V(a,o){re++,ue[re]=a.current,a.current=o}var X=R(null),te=R(null),fe=R(null),pe=R(null);function ke(a,o){switch(V(fe,o),V(te,a),V(X,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Rj(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Rj(o),a=Dj(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(X),V(X,a)}function ie(){L(X),L(te),L(fe)}function je(a){a.memoizedState!==null&&V(pe,a);var o=X.current,c=Dj(o,a.type);o!==c&&(V(te,a),V(X,c))}function Pe(a){te.current===a&&(L(X),L(te)),pe.current===a&&(L(pe),xc._currentValue=W)}var ce,At;function Le(a){if(ce===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ce=o&&o[1]||"",At=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+a+At}var Ct=!1;function Tt(a,o){if(!a||Ct)return"";Ct=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var Z=ne}Reflect.construct(a,[],le)}else{try{le.call()}catch(ne){Z=ne}a.call(le.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),E=x[0],P=x[1];if(E&&P){var U=E.split(`
`),J=P.split(`
`);for(y=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(m===U.length||y===J.length)for(m=U.length-1,y=J.length-1;1<=m&&0<=y&&U[m]!==J[y];)y--;for(;1<=m&&0<=y;m--,y--)if(U[m]!==J[y]){if(m!==1||y!==1)do if(m--,y--,0>y||U[m]!==J[y]){var se=`
`+U[m].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=m&&0<=y);break}}}finally{Ct=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Le(c):""}function Ht(a,o){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Tt(a.type,!1);case 11:return Tt(a.type.render,!1);case 1:return Tt(a.type,!0);case 31:return Le("Activity");default:return""}}function Xn(a){try{var o="",c=null;do o+=Ht(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ge=Object.prototype.hasOwnProperty,Xe=e.unstable_scheduleCallback,Ge=e.unstable_cancelCallback,ut=e.unstable_shouldYield,kt=e.unstable_requestPaint,Ye=e.unstable_now,Dr=e.unstable_getCurrentPriorityLevel,pa=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,me=e.unstable_LowPriority,Oe=e.unstable_IdlePriority,Qe=e.log,Je=e.unstable_setDisableYieldValue,Pt=null,De=null;function rt(a){if(typeof Qe=="function"&&Je(a),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Pt,a)}catch{}}var vt=Math.clz32?Math.clz32:it,Mt=Math.log,Ae=Math.LN2;function it(a){return a>>>=0,a===0?32:31-(Mt(a)/Ae|0)|0}var Ut=256,ln=262144,Ir=4194304;function Ft(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xs(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,x=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var P=m&134217727;return P!==0?(m=P&~x,m!==0?y=Ft(m):(E&=P,E!==0?y=Ft(E):c||(c=P&~a,c!==0&&(y=Ft(c))))):(P=m&~x,P!==0?y=Ft(P):E!==0?y=Ft(E):c||(c=m&~a,c!==0&&(y=Ft(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Ml(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function JR(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p_(){var a=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),a}function mm(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Rl(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ZR(a,o,c,m,y,x){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var P=a.entanglements,U=a.expirationTimes,J=a.hiddenUpdates;for(c=E&~c;0<c;){var se=31-vt(c),le=1<<se;P[se]=0,U[se]=-1;var Z=J[se];if(Z!==null)for(J[se]=null,se=0;se<Z.length;se++){var ne=Z[se];ne!==null&&(ne.lane&=-536870913)}c&=~le}m!==0&&g_(a,m,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(E&~o))}function g_(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-vt(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function v_(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-vt(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function y_(a,o){var c=o&-o;return c=(c&42)!==0?1:pm(c),(c&(a.suspendedLanes|o))!==0?0:c}function pm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function b_(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:aS(a.type))}function x_(a,o){var c=Y.p;try{return Y.p=a,o()}finally{Y.p=c}}var ri=Math.random().toString(36).slice(2),vn="__reactFiber$"+ri,In="__reactProps$"+ri,Qs="__reactContainer$"+ri,vm="__reactEvents$"+ri,eD="__reactListeners$"+ri,tD="__reactHandles$"+ri,__="__reactResources$"+ri,Dl="__reactMarker$"+ri;function ym(a){delete a[vn],delete a[In],delete a[vm],delete a[eD],delete a[tD]}function Js(a){var o=a[vn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Qs]||c[vn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=qj(a);a!==null;){if(c=a[vn])return c;a=qj(a)}return o}a=c,c=a.parentNode}return null}function Zs(a){if(a=a[vn]||a[Qs]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Il(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function eo(a){var o=a[__];return o||(o=a[__]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function cn(a){a[Dl]=!0}var w_=new Set,j_={};function Yi(a,o){to(a,o),to(a+"Capture",o)}function to(a,o){for(j_[a]=o,a=0;a<o.length;a++)w_.add(o[a])}var nD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),S_={},N_={};function rD(a){return ge.call(N_,a)?!0:ge.call(S_,a)?!1:nD.test(a)?N_[a]=!0:(S_[a]=!0,!1)}function $u(a,o,c){if(rD(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function zu(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function ga(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function mr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function E_(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function aD(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,x=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){c=""+E,x.call(this,E)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function bm(a){if(!a._valueTracker){var o=E_(a)?"checked":"value";a._valueTracker=aD(a,o,""+a[o])}}function O_(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=E_(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Bu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var iD=/[\n"\\]/g;function pr(a){return a.replace(iD,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xm(a,o,c,m,y,x,E,P){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),o!=null?E==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+mr(o)):a.value!==""+mr(o)&&(a.value=""+mr(o)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),o!=null?_m(a,E,mr(o)):c!=null?_m(a,E,mr(c)):m!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+mr(P):a.removeAttribute("name")}function A_(a,o,c,m,y,x,E,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){bm(a);return}c=c!=null?""+mr(c):"",o=o!=null?""+mr(o):c,P||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=P?a.checked:!!m,a.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),bm(a)}function _m(a,o,c){o==="number"&&Bu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function no(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+mr(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function C_(a,o,c){if(o!=null&&(o=""+mr(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+mr(c):""}function T_(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=mr(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),bm(a)}function ro(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var sD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function k_(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||sD.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function P_(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&k_(a,y,m)}else for(var x in o)o.hasOwnProperty(x)&&k_(a,x,o[x])}function wm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qu(a){return lD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function va(){}var jm=null;function Sm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ao=null,io=null;function M_(a){var o=Zs(a);if(o&&(a=o.stateNode)){var c=a[In]||null;e:switch(a=o.stateNode,o.type){case"input":if(xm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+pr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[In]||null;if(!y)throw Error(r(90));xm(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&O_(m)}break e;case"textarea":C_(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&no(a,!!c.multiple,o,!1)}}}var Nm=!1;function R_(a,o,c){if(Nm)return a(o,c);Nm=!0;try{var m=a(o);return m}finally{if(Nm=!1,(ao!==null||io!==null)&&(Cd(),ao&&(o=ao,a=io,io=ao=null,M_(o),a)))for(o=0;o<a.length;o++)M_(a[o])}}function Ll(a,o){var c=a.stateNode;if(c===null)return null;var m=c[In]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=!1;if(ya)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Em=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Em=!1}var ai=null,Om=null,Hu=null;function D_(){if(Hu)return Hu;var a,o=Om,c=o.length,m,y="value"in ai?ai.value:ai.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var E=c-a;for(m=1;m<=E&&o[c-m]===y[x-m];m++);return Hu=y.slice(a,1<m?1-m:void 0)}function Fu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ku(){return!0}function I_(){return!1}function Ln(a){function o(c,m,y,x,E){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(c=a[P],this[P]=c?c(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ku:I_,this.isPropagationStopped=I_,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),o}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=Ln(Vi),$l=g({},Vi,{view:0,detail:0}),cD=Ln($l),Am,Cm,zl,Yu=g({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==zl&&(zl&&a.type==="mousemove"?(Am=a.screenX-zl.screenX,Cm=a.screenY-zl.screenY):Cm=Am=0,zl=a),Am)},movementY:function(a){return"movementY"in a?a.movementY:Cm}}),L_=Ln(Yu),uD=g({},Yu,{dataTransfer:0}),dD=Ln(uD),fD=g({},$l,{relatedTarget:0}),Tm=Ln(fD),hD=g({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),mD=Ln(hD),pD=g({},Vi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gD=Ln(pD),vD=g({},Vi,{data:0}),U_=Ln(vD),yD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _D(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=xD[a])?!!o[a]:!1}function km(){return _D}var wD=g({},$l,{key:function(a){if(a.key){var o=yD[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Fu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(a){return a.type==="keypress"?Fu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),jD=Ln(wD),SD=g({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$_=Ln(SD),ND=g({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),ED=Ln(ND),OD=g({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),AD=Ln(OD),CD=g({},Yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),TD=Ln(CD),kD=g({},Vi,{newState:0,oldState:0}),PD=Ln(kD),MD=[9,13,27,32],Pm=ya&&"CompositionEvent"in window,Bl=null;ya&&"documentMode"in document&&(Bl=document.documentMode);var RD=ya&&"TextEvent"in window&&!Bl,z_=ya&&(!Pm||Bl&&8<Bl&&11>=Bl),B_=" ",q_=!1;function H_(a,o){switch(a){case"keyup":return MD.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var so=!1;function DD(a,o){switch(a){case"compositionend":return F_(o);case"keypress":return o.which!==32?null:(q_=!0,B_);case"textInput":return a=o.data,a===B_&&q_?null:a;default:return null}}function ID(a,o){if(so)return a==="compositionend"||!Pm&&H_(a,o)?(a=D_(),Hu=Om=ai=null,so=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return z_&&o.locale!=="ko"?null:o.data;default:return null}}var LD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!LD[a.type]:o==="textarea"}function G_(a,o,c,m){ao?io?io.push(m):io=[m]:ao=m,o=Id(o,"onChange"),0<o.length&&(c=new Gu("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var ql=null,Hl=null;function UD(a){Aj(a,0)}function Vu(a){var o=Il(a);if(O_(o))return a}function Y_(a,o){if(a==="change")return o}var V_=!1;if(ya){var Mm;if(ya){var Rm="oninput"in document;if(!Rm){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Rm=typeof W_.oninput=="function"}Mm=Rm}else Mm=!1;V_=Mm&&(!document.documentMode||9<document.documentMode)}function X_(){ql&&(ql.detachEvent("onpropertychange",Q_),Hl=ql=null)}function Q_(a){if(a.propertyName==="value"&&Vu(Hl)){var o=[];G_(o,Hl,a,Sm(a)),R_(UD,o)}}function $D(a,o,c){a==="focusin"?(X_(),ql=o,Hl=c,ql.attachEvent("onpropertychange",Q_)):a==="focusout"&&X_()}function zD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vu(Hl)}function BD(a,o){if(a==="click")return Vu(o)}function qD(a,o){if(a==="input"||a==="change")return Vu(o)}function HD(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Qn=typeof Object.is=="function"?Object.is:HD;function Fl(a,o){if(Qn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!ge.call(o,y)||!Qn(a[y],o[y]))return!1}return!0}function J_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Z_(a,o){var c=J_(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=J_(c)}}function ew(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?ew(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function tw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Bu(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Bu(a.document)}return o}function Dm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var FD=ya&&"documentMode"in document&&11>=document.documentMode,oo=null,Im=null,Kl=null,Lm=!1;function nw(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lm||oo==null||oo!==Bu(m)||(m=oo,"selectionStart"in m&&Dm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kl&&Fl(Kl,m)||(Kl=m,m=Id(Im,"onSelect"),0<m.length&&(o=new Gu("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=oo)))}function Wi(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var lo={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Um={},rw={};ya&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Xi(a){if(Um[a])return Um[a];if(!lo[a])return a;var o=lo[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in rw)return Um[a]=o[c];return a}var aw=Xi("animationend"),iw=Xi("animationiteration"),sw=Xi("animationstart"),KD=Xi("transitionrun"),GD=Xi("transitionstart"),YD=Xi("transitioncancel"),ow=Xi("transitionend"),lw=new Map,$m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$m.push("scrollEnd");function Lr(a,o){lw.set(a,o),Yi(o,[a])}var Wu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},gr=[],co=0,zm=0;function Xu(){for(var a=co,o=zm=co=0;o<a;){var c=gr[o];gr[o++]=null;var m=gr[o];gr[o++]=null;var y=gr[o];gr[o++]=null;var x=gr[o];if(gr[o++]=null,m!==null&&y!==null){var E=m.pending;E===null?y.next=y:(y.next=E.next,E.next=y),m.pending=y}x!==0&&cw(c,y,x)}}function Qu(a,o,c,m){gr[co++]=a,gr[co++]=o,gr[co++]=c,gr[co++]=m,zm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Bm(a,o,c,m){return Qu(a,o,c,m),Ju(a)}function Qi(a,o){return Qu(a,null,null,o),Ju(a)}function cw(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,m=x.alternate,m!==null&&(m.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-vt(c),a=x.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),x):null}function Ju(a){if(50<hc)throw hc=0,Xp=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var uo={};function VD(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(a,o,c,m){return new VD(a,o,c,m)}function qm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ba(a,o){var c=a.alternate;return c===null?(c=Jn(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function uw(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Zu(a,o,c,m,y,x){var E=0;if(m=a,typeof a=="function")qm(a)&&(E=1);else if(typeof a=="string")E=Z3(a,c,X.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=Jn(31,c,o,y),a.elementType=q,a.lanes=x,a;case j:return Ji(c.children,y,x,o);case S:E=8,y|=24;break;case O:return a=Jn(12,c,o,y|2),a.elementType=O,a.lanes=x,a;case T:return a=Jn(13,c,o,y),a.elementType=T,a.lanes=x,a;case k:return a=Jn(19,c,o,y),a.elementType=k,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:E=10;break e;case N:E=9;break e;case C:E=11;break e;case M:E=14;break e;case D:E=16,m=null;break e}E=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=Jn(E,c,o,y),o.elementType=a,o.type=m,o.lanes=x,o}function Ji(a,o,c,m){return a=Jn(7,a,m,o),a.lanes=c,a}function Hm(a,o,c){return a=Jn(6,a,null,o),a.lanes=c,a}function dw(a){var o=Jn(18,null,null,0);return o.stateNode=a,o}function Fm(a,o,c){return o=Jn(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var fw=new WeakMap;function vr(a,o){if(typeof a=="object"&&a!==null){var c=fw.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Xn(o)},fw.set(a,o),o)}return{value:a,source:o,stack:Xn(o)}}var fo=[],ho=0,ed=null,Gl=0,yr=[],br=0,ii=null,Jr=1,Zr="";function xa(a,o){fo[ho++]=Gl,fo[ho++]=ed,ed=a,Gl=o}function hw(a,o,c){yr[br++]=Jr,yr[br++]=Zr,yr[br++]=ii,ii=a;var m=Jr;a=Zr;var y=32-vt(m)-1;m&=~(1<<y),c+=1;var x=32-vt(o)+y;if(30<x){var E=y-y%5;x=(m&(1<<E)-1).toString(32),m>>=E,y-=E,Jr=1<<32-vt(o)+y|c<<y|m,Zr=x+a}else Jr=1<<x|c<<y|m,Zr=a}function Km(a){a.return!==null&&(xa(a,1),hw(a,1,0))}function Gm(a){for(;a===ed;)ed=fo[--ho],fo[ho]=null,Gl=fo[--ho],fo[ho]=null;for(;a===ii;)ii=yr[--br],yr[br]=null,Zr=yr[--br],yr[br]=null,Jr=yr[--br],yr[br]=null}function mw(a,o){yr[br++]=Jr,yr[br++]=Zr,yr[br++]=ii,Jr=o.id,Zr=o.overflow,ii=a}var yn=null,xt=null,Ve=!1,si=null,xr=!1,Ym=Error(r(519));function oi(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(vr(o,a)),Ym}function pw(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[vn]=a,o[In]=m,c){case"dialog":Be("cancel",o),Be("close",o);break;case"iframe":case"object":case"embed":Be("load",o);break;case"video":case"audio":for(c=0;c<pc.length;c++)Be(pc[c],o);break;case"source":Be("error",o);break;case"img":case"image":case"link":Be("error",o),Be("load",o);break;case"details":Be("toggle",o);break;case"input":Be("invalid",o),A_(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Be("invalid",o);break;case"textarea":Be("invalid",o),T_(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||Pj(o.textContent,c)?(m.popover!=null&&(Be("beforetoggle",o),Be("toggle",o)),m.onScroll!=null&&Be("scroll",o),m.onScrollEnd!=null&&Be("scrollend",o),m.onClick!=null&&(o.onclick=va),o=!0):o=!1,o||oi(a,!0)}function gw(a){for(yn=a.return;yn;)switch(yn.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:yn=yn.return}}function mo(a){if(a!==yn)return!1;if(!Ve)return gw(a),Ve=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||dg(a.type,a.memoizedProps)),c=!c),c&&xt&&oi(a),gw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xt=Bj(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xt=Bj(a)}else o===27?(o=xt,_i(a.type)?(a=gg,gg=null,xt=a):xt=o):xt=yn?wr(a.stateNode.nextSibling):null;return!0}function Zi(){xt=yn=null,Ve=!1}function Vm(){var a=si;return a!==null&&(Bn===null?Bn=a:Bn.push.apply(Bn,a),si=null),a}function Yl(a){si===null?si=[a]:si.push(a)}var Wm=R(null),es=null,_a=null;function li(a,o,c){V(Wm,o._currentValue),o._currentValue=c}function wa(a){a._currentValue=Wm.current,L(Wm)}function Xm(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Qm(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var E=y.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=y;for(var U=0;U<o.length;U++)if(P.context===o[U]){x.lanes|=c,P=x.alternate,P!==null&&(P.lanes|=c),Xm(x.return,c,a),m||(E=null);break e}x=P.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(r(341));E.lanes|=c,x=E.alternate,x!==null&&(x.lanes|=c),Xm(E,c,a),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===a){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function po(a,o,c,m){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var P=y.type;Qn(y.pendingProps.value,E.value)||(a!==null?a.push(P):a=[P])}}else if(y===pe.current){if(E=y.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(xc):a=[xc])}y=y.return}a!==null&&Qm(o,a,c,m),o.flags|=262144}function td(a){for(a=a.firstContext;a!==null;){if(!Qn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ts(a){es=a,_a=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function bn(a){return vw(es,a)}function nd(a,o){return es===null&&ts(a),vw(a,o)}function vw(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},_a===null){if(a===null)throw Error(r(308));_a=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else _a=_a.next=o;return c}var WD=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},XD=e.unstable_scheduleCallback,QD=e.unstable_NormalPriority,Kt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new WD,data:new Map,refCount:0}}function Vl(a){a.refCount--,a.refCount===0&&XD(QD,function(){a.controller.abort()})}var Wl=null,Zm=0,go=0,vo=null;function JD(a,o){if(Wl===null){var c=Wl=[];Zm=0,go=ng(),vo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Zm++,o.then(yw,yw),o}function yw(){if(--Zm===0&&Wl!==null){vo!==null&&(vo.status="fulfilled");var a=Wl;Wl=null,go=0,vo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function ZD(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var bw=I.S;I.S=function(a,o){nj=Ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&JD(a,o),bw!==null&&bw(a,o)};var ns=R(null);function ep(){var a=ns.current;return a!==null?a:pt.pooledCache}function rd(a,o){o===null?V(ns,ns.current):V(ns,o.pool)}function xw(){var a=ep();return a===null?null:{parent:Kt._currentValue,pool:a}}var yo=Error(r(460)),tp=Error(r(474)),ad=Error(r(542)),id={then:function(){}};function _w(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ww(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(va,va),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Sw(a),a;default:if(typeof o.status=="string")o.then(va,va);else{if(a=pt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Sw(a),a}throw as=o,yo}}function rs(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(as=c,yo):c}}var as=null;function jw(){if(as===null)throw Error(r(459));var a=as;return as=null,a}function Sw(a){if(a===yo||a===ad)throw Error(r(483))}var bo=null,Xl=0;function sd(a){var o=Xl;return Xl+=1,bo===null&&(bo=[]),ww(bo,a,o)}function Ql(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function od(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Nw(a){function o(G,B){if(a){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function c(G,B){if(!a)return null;for(;B!==null;)o(G,B),B=B.sibling;return null}function m(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function y(G,B){return G=ba(G,B),G.index=0,G.sibling=null,G}function x(G,B,Q){return G.index=Q,a?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=67108866,B):Q):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function E(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function P(G,B,Q,oe){return B===null||B.tag!==6?(B=Hm(Q,G.mode,oe),B.return=G,B):(B=y(B,Q),B.return=G,B)}function U(G,B,Q,oe){var Ne=Q.type;return Ne===j?se(G,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===D&&rs(Ne)===B.type)?(B=y(B,Q.props),Ql(B,Q),B.return=G,B):(B=Zu(Q.type,Q.key,Q.props,null,G.mode,oe),Ql(B,Q),B.return=G,B)}function J(G,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Fm(Q,G.mode,oe),B.return=G,B):(B=y(B,Q.children||[]),B.return=G,B)}function se(G,B,Q,oe,Ne){return B===null||B.tag!==7?(B=Ji(Q,G.mode,oe,Ne),B.return=G,B):(B=y(B,Q),B.return=G,B)}function le(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Hm(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return Q=Zu(B.type,B.key,B.props,null,G.mode,Q),Ql(Q,B),Q.return=G,Q;case w:return B=Fm(B,G.mode,Q),B.return=G,B;case D:return B=rs(B),le(G,B,Q)}if(K(B)||H(B))return B=Ji(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return le(G,sd(B),Q);if(B.$$typeof===A)return le(G,nd(G,B),Q);od(G,B)}return null}function Z(G,B,Q,oe){var Ne=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:P(G,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===Ne?U(G,B,Q,oe):null;case w:return Q.key===Ne?J(G,B,Q,oe):null;case D:return Q=rs(Q),Z(G,B,Q,oe)}if(K(Q)||H(Q))return Ne!==null?null:se(G,B,Q,oe,null);if(typeof Q.then=="function")return Z(G,B,sd(Q),oe);if(Q.$$typeof===A)return Z(G,B,nd(G,Q),oe);od(G,Q)}return null}function ne(G,B,Q,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Q)||null,P(B,G,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return G=G.get(oe.key===null?Q:oe.key)||null,U(B,G,oe,Ne);case w:return G=G.get(oe.key===null?Q:oe.key)||null,J(B,G,oe,Ne);case D:return oe=rs(oe),ne(G,B,Q,oe,Ne)}if(K(oe)||H(oe))return G=G.get(Q)||null,se(B,G,oe,Ne,null);if(typeof oe.then=="function")return ne(G,B,Q,sd(oe),Ne);if(oe.$$typeof===A)return ne(G,B,Q,nd(B,oe),Ne);od(B,oe)}return null}function be(G,B,Q,oe){for(var Ne=null,Ze=null,_e=B,Ue=B=0,Ke=null;_e!==null&&Ue<Q.length;Ue++){_e.index>Ue?(Ke=_e,_e=null):Ke=_e.sibling;var et=Z(G,_e,Q[Ue],oe);if(et===null){_e===null&&(_e=Ke);break}a&&_e&&et.alternate===null&&o(G,_e),B=x(et,B,Ue),Ze===null?Ne=et:Ze.sibling=et,Ze=et,_e=Ke}if(Ue===Q.length)return c(G,_e),Ve&&xa(G,Ue),Ne;if(_e===null){for(;Ue<Q.length;Ue++)_e=le(G,Q[Ue],oe),_e!==null&&(B=x(_e,B,Ue),Ze===null?Ne=_e:Ze.sibling=_e,Ze=_e);return Ve&&xa(G,Ue),Ne}for(_e=m(_e);Ue<Q.length;Ue++)Ke=ne(_e,G,Ue,Q[Ue],oe),Ke!==null&&(a&&Ke.alternate!==null&&_e.delete(Ke.key===null?Ue:Ke.key),B=x(Ke,B,Ue),Ze===null?Ne=Ke:Ze.sibling=Ke,Ze=Ke);return a&&_e.forEach(function(Ei){return o(G,Ei)}),Ve&&xa(G,Ue),Ne}function Te(G,B,Q,oe){if(Q==null)throw Error(r(151));for(var Ne=null,Ze=null,_e=B,Ue=B=0,Ke=null,et=Q.next();_e!==null&&!et.done;Ue++,et=Q.next()){_e.index>Ue?(Ke=_e,_e=null):Ke=_e.sibling;var Ei=Z(G,_e,et.value,oe);if(Ei===null){_e===null&&(_e=Ke);break}a&&_e&&Ei.alternate===null&&o(G,_e),B=x(Ei,B,Ue),Ze===null?Ne=Ei:Ze.sibling=Ei,Ze=Ei,_e=Ke}if(et.done)return c(G,_e),Ve&&xa(G,Ue),Ne;if(_e===null){for(;!et.done;Ue++,et=Q.next())et=le(G,et.value,oe),et!==null&&(B=x(et,B,Ue),Ze===null?Ne=et:Ze.sibling=et,Ze=et);return Ve&&xa(G,Ue),Ne}for(_e=m(_e);!et.done;Ue++,et=Q.next())et=ne(_e,G,Ue,et.value,oe),et!==null&&(a&&et.alternate!==null&&_e.delete(et.key===null?Ue:et.key),B=x(et,B,Ue),Ze===null?Ne=et:Ze.sibling=et,Ze=et);return a&&_e.forEach(function(u4){return o(G,u4)}),Ve&&xa(G,Ue),Ne}function ht(G,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var Ne=Q.key;B!==null;){if(B.key===Ne){if(Ne=Q.type,Ne===j){if(B.tag===7){c(G,B.sibling),oe=y(B,Q.props.children),oe.return=G,G=oe;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===D&&rs(Ne)===B.type){c(G,B.sibling),oe=y(B,Q.props),Ql(oe,Q),oe.return=G,G=oe;break e}c(G,B);break}else o(G,B);B=B.sibling}Q.type===j?(oe=Ji(Q.props.children,G.mode,oe,Q.key),oe.return=G,G=oe):(oe=Zu(Q.type,Q.key,Q.props,null,G.mode,oe),Ql(oe,Q),oe.return=G,G=oe)}return E(G);case w:e:{for(Ne=Q.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(G,B.sibling),oe=y(B,Q.children||[]),oe.return=G,G=oe;break e}else{c(G,B);break}else o(G,B);B=B.sibling}oe=Fm(Q,G.mode,oe),oe.return=G,G=oe}return E(G);case D:return Q=rs(Q),ht(G,B,Q,oe)}if(K(Q))return be(G,B,Q,oe);if(H(Q)){if(Ne=H(Q),typeof Ne!="function")throw Error(r(150));return Q=Ne.call(Q),Te(G,B,Q,oe)}if(typeof Q.then=="function")return ht(G,B,sd(Q),oe);if(Q.$$typeof===A)return ht(G,B,nd(G,Q),oe);od(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(c(G,B.sibling),oe=y(B,Q),oe.return=G,G=oe):(c(G,B),oe=Hm(Q,G.mode,oe),oe.return=G,G=oe),E(G)):c(G,B)}return function(G,B,Q,oe){try{Xl=0;var Ne=ht(G,B,Q,oe);return bo=null,Ne}catch(_e){if(_e===yo||_e===ad)throw _e;var Ze=Jn(29,_e,null,G.mode);return Ze.lanes=oe,Ze.return=G,Ze}finally{}}}var is=Nw(!0),Ew=Nw(!1),ci=!1;function np(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ui(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function di(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(at&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Ju(a),cw(a,null,c),o}return Qu(a,m,o,c),Ju(a)}function Jl(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,v_(a,c)}}function ap(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=E:x=x.next=E,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var ip=!1;function Zl(){if(ip){var a=vo;if(a!==null)throw a}}function ec(a,o,c,m){ip=!1;var y=a.updateQueue;ci=!1;var x=y.firstBaseUpdate,E=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var U=P,J=U.next;U.next=null,E===null?x=J:E.next=J,E=U;var se=a.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==E&&(P===null?se.firstBaseUpdate=J:P.next=J,se.lastBaseUpdate=U))}if(x!==null){var le=y.baseState;E=0,se=J=U=null,P=x;do{var Z=P.lane&-536870913,ne=Z!==P.lane;if(ne?(Fe&Z)===Z:(m&Z)===Z){Z!==0&&Z===go&&(ip=!0),se!==null&&(se=se.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var be=a,Te=P;Z=o;var ht=c;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){le=be.call(ht,le,Z);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,Z=typeof be=="function"?be.call(ht,le,Z):be,Z==null)break e;le=g({},le,Z);break e;case 2:ci=!0}}Z=P.callback,Z!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=y.callbacks,ne===null?y.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(J=se=ne,U=le):se=se.next=ne,E|=Z;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);se===null&&(U=le),y.baseState=U,y.firstBaseUpdate=J,y.lastBaseUpdate=se,x===null&&(y.shared.lanes=0),gi|=E,a.lanes=E,a.memoizedState=le}}function Ow(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Aw(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Ow(c[a],o)}var xo=R(null),ld=R(0);function Cw(a,o){a=ka,V(ld,a),V(xo,o),ka=a|o.baseLanes}function sp(){V(ld,ka),V(xo,xo.current)}function op(){ka=ld.current,L(xo),L(ld)}var Zn=R(null),_r=null;function fi(a){var o=a.alternate;V($t,$t.current&1),V(Zn,a),_r===null&&(o===null||xo.current!==null||o.memoizedState!==null)&&(_r=a)}function lp(a){V($t,$t.current),V(Zn,a),_r===null&&(_r=a)}function Tw(a){a.tag===22?(V($t,$t.current),V(Zn,a),_r===null&&(_r=a)):hi()}function hi(){V($t,$t.current),V(Zn,Zn.current)}function er(a){L(Zn),_r===a&&(_r=null),L($t)}var $t=R(0);function cd(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mg(c)||pg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ja=0,Ie=null,dt=null,Gt=null,ud=!1,_o=!1,ss=!1,dd=0,tc=0,wo=null,e3=0;function It(){throw Error(r(321))}function cp(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Qn(a[c],o[c]))return!1;return!0}function up(a,o,c,m,y,x){return ja=x,Ie=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=a===null||a.memoizedState===null?h1:Np,ss=!1,x=c(m,y),ss=!1,_o&&(x=Pw(o,c,m,y)),kw(a),x}function kw(a){I.H=ac;var o=dt!==null&&dt.next!==null;if(ja=0,Gt=dt=Ie=null,ud=!1,tc=0,wo=null,o)throw Error(r(300));a===null||Yt||(a=a.dependencies,a!==null&&td(a)&&(Yt=!0))}function Pw(a,o,c,m){Ie=a;var y=0;do{if(_o&&(wo=null),tc=0,_o=!1,25<=y)throw Error(r(301));if(y+=1,Gt=dt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}I.H=m1,x=o(c,m)}while(_o);return x}function t3(){var a=I.H,o=a.useState()[0];return o=typeof o.then=="function"?nc(o):o,a=a.useState()[0],(dt!==null?dt.memoizedState:null)!==a&&(Ie.flags|=1024),o}function dp(){var a=dd!==0;return dd=0,a}function fp(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function hp(a){if(ud){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}ud=!1}ja=0,Gt=dt=Ie=null,_o=!1,tc=dd=0,wo=null}function kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ie.memoizedState=Gt=a:Gt=Gt.next=a,Gt}function zt(){if(dt===null){var a=Ie.alternate;a=a!==null?a.memoizedState:null}else a=dt.next;var o=Gt===null?Ie.memoizedState:Gt.next;if(o!==null)Gt=o,dt=a;else{if(a===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));dt=a,a={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Gt===null?Ie.memoizedState=Gt=a:Gt=Gt.next=a}return Gt}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(a){var o=tc;return tc+=1,wo===null&&(wo=[]),a=ww(wo,a,o),o=Ie,(Gt===null?o.memoizedState:Gt.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?h1:Np),a}function hd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nc(a);if(a.$$typeof===A)return bn(a)}throw Error(r(438,String(a)))}function mp(a){var o=null,c=Ie.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Ie.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=fd(),Ie.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=$;return o.index++,c}function Sa(a,o){return typeof o=="function"?o(a):o}function md(a){var o=zt();return pp(o,dt,a)}function pp(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,x=m.pending;if(x!==null){if(y!==null){var E=y.next;y.next=x.next,x.next=E}o.baseQueue=y=x,m.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var P=E=null,U=null,J=o,se=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(Fe&le)===le:(ja&le)===le){var Z=J.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===go&&(se=!0);else if((ja&Z)===Z){J=J.next,Z===go&&(se=!0);continue}else le={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(P=U=le,E=x):U=U.next=le,Ie.lanes|=Z,gi|=Z;le=J.action,ss&&c(x,le),x=J.hasEagerState?J.eagerState:c(x,le)}else Z={lane:le,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(P=U=Z,E=x):U=U.next=Z,Ie.lanes|=le,gi|=le;J=J.next}while(J!==null&&J!==o);if(U===null?E=x:U.next=P,!Qn(x,a.memoizedState)&&(Yt=!0,se&&(c=vo,c!==null)))throw c;a.memoizedState=x,a.baseState=E,a.baseQueue=U,m.lastRenderedState=x}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function gp(a){var o=zt(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do x=a(x,E.action),E=E.next;while(E!==y);Qn(x,o.memoizedState)||(Yt=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,m]}function Mw(a,o,c){var m=Ie,y=zt(),x=Ve;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var E=!Qn((dt||y).memoizedState,c);if(E&&(y.memoizedState=c,Yt=!0),y=y.queue,bp(Iw.bind(null,m,y,a),[a]),y.getSnapshot!==o||E||Gt!==null&&Gt.memoizedState.tag&1){if(m.flags|=2048,jo(9,{destroy:void 0},Dw.bind(null,m,y,c,o),null),pt===null)throw Error(r(349));x||(ja&127)!==0||Rw(m,o,c)}return c}function Rw(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ie.updateQueue,o===null?(o=fd(),Ie.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function Dw(a,o,c,m){o.value=c,o.getSnapshot=m,Lw(o)&&Uw(a)}function Iw(a,o,c){return c(function(){Lw(o)&&Uw(a)})}function Lw(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Qn(a,c)}catch{return!0}}function Uw(a){var o=Qi(a,2);o!==null&&qn(o,a,2)}function vp(a){var o=kn();if(typeof a=="function"){var c=a;if(a=c(),ss){rt(!0);try{c()}finally{rt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:a},o}function $w(a,o,c,m){return a.baseState=c,pp(a,dt,typeof m=="function"?m:Sa)}function n3(a,o,c,m,y){if(vd(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};I.T!==null?c(!0):x.isTransition=!1,m(x),c=o.pending,c===null?(x.next=o.pending=x,zw(o,x)):(x.next=c.next,o.pending=c.next=x)}}function zw(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var x=I.T,E={};I.T=E;try{var P=c(y,m),U=I.S;U!==null&&U(E,P),Bw(a,o,P)}catch(J){yp(a,o,J)}finally{x!==null&&E.types!==null&&(x.types=E.types),I.T=x}}else try{x=c(y,m),Bw(a,o,x)}catch(J){yp(a,o,J)}}function Bw(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){qw(a,o,m)},function(m){return yp(a,o,m)}):qw(a,o,c)}function qw(a,o,c){o.status="fulfilled",o.value=c,Hw(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,zw(a,c)))}function yp(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,Hw(o),o=o.next;while(o!==m)}a.action=null}function Hw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Fw(a,o){return o}function Kw(a,o){if(Ve){var c=pt.formState;if(c!==null){e:{var m=Ie;if(Ve){if(xt){t:{for(var y=xt,x=xr;y.nodeType!==8;){if(!x){y=null;break t}if(y=wr(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){xt=wr(y.nextSibling),m=y.data==="F!";break e}}oi(m)}m=!1}m&&(o=c[0])}}return c=kn(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fw,lastRenderedState:o},c.queue=m,c=u1.bind(null,Ie,m),m.dispatch=c,m=vp(!1),x=Sp.bind(null,Ie,!1,m.queue),m=kn(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=n3.bind(null,Ie,y,x,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function Gw(a){var o=zt();return Yw(o,dt,a)}function Yw(a,o,c){if(o=pp(a,o,Fw)[0],a=md(Sa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=nc(o)}catch(E){throw E===yo?ad:E}else m=o;o=zt();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(Ie.flags|=2048,jo(9,{destroy:void 0},r3.bind(null,y,c),null)),[m,x,a]}function r3(a,o){a.action=o}function Vw(a){var o=zt(),c=dt;if(c!==null)return Yw(o,c,a);zt(),o=o.memoizedState,c=zt();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function jo(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Ie.updateQueue,o===null&&(o=fd(),Ie.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function Ww(){return zt().memoizedState}function pd(a,o,c,m){var y=kn();Ie.flags|=a,y.memoizedState=jo(1|o,{destroy:void 0},c,m===void 0?null:m)}function gd(a,o,c,m){var y=zt();m=m===void 0?null:m;var x=y.memoizedState.inst;dt!==null&&m!==null&&cp(m,dt.memoizedState.deps)?y.memoizedState=jo(o,x,c,m):(Ie.flags|=a,y.memoizedState=jo(1|o,x,c,m))}function Xw(a,o){pd(8390656,8,a,o)}function bp(a,o){gd(2048,8,a,o)}function a3(a){Ie.flags|=4;var o=Ie.updateQueue;if(o===null)o=fd(),Ie.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function Qw(a){var o=zt().memoizedState;return a3({ref:o,nextImpl:a}),function(){if((at&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Jw(a,o){return gd(4,2,a,o)}function Zw(a,o){return gd(4,4,a,o)}function e1(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function t1(a,o,c){c=c!=null?c.concat([a]):null,gd(4,4,e1.bind(null,o,a),c)}function xp(){}function n1(a,o){var c=zt();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&cp(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function r1(a,o){var c=zt();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&cp(o,m[1]))return m[0];if(m=a(),ss){rt(!0);try{a()}finally{rt(!1)}}return c.memoizedState=[m,o],m}function _p(a,o,c){return c===void 0||(ja&1073741824)!==0&&(Fe&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=aj(),Ie.lanes|=a,gi|=a,c)}function a1(a,o,c,m){return Qn(c,o)?c:xo.current!==null?(a=_p(a,c,m),Qn(a,o)||(Yt=!0),a):(ja&42)===0||(ja&1073741824)!==0&&(Fe&261930)===0?(Yt=!0,a.memoizedState=c):(a=aj(),Ie.lanes|=a,gi|=a,o)}function i1(a,o,c,m,y){var x=Y.p;Y.p=x!==0&&8>x?x:8;var E=I.T,P={};I.T=P,Sp(a,!1,o,c);try{var U=y(),J=I.S;if(J!==null&&J(P,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=ZD(U,m);rc(a,o,se,rr(a))}else rc(a,o,m,rr(a))}catch(le){rc(a,o,{then:function(){},status:"rejected",reason:le},rr())}finally{Y.p=x,E!==null&&P.types!==null&&(E.types=P.types),I.T=E}}function i3(){}function wp(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=s1(a).queue;i1(a,y,o,W,c===null?i3:function(){return o1(a),c(m)})}function s1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function o1(a){var o=s1(a);o.next===null&&(o=a.alternate.memoizedState),rc(a,o.next.queue,{},rr())}function jp(){return bn(xc)}function l1(){return zt().memoizedState}function c1(){return zt().memoizedState}function s3(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=rr();a=ui(c);var m=di(o,a,c);m!==null&&(qn(m,o,c),Jl(m,o,c)),o={cache:Jm()},a.payload=o;return}o=o.return}}function o3(a,o,c){var m=rr();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},vd(a)?d1(o,c):(c=Bm(a,o,c,m),c!==null&&(qn(c,a,m),f1(c,o,m)))}function u1(a,o,c){var m=rr();rc(a,o,c,m)}function rc(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(vd(a))d1(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,P=x(E,c);if(y.hasEagerState=!0,y.eagerState=P,Qn(P,E))return Qu(a,o,y,0),pt===null&&Xu(),!1}catch{}finally{}if(c=Bm(a,o,y,m),c!==null)return qn(c,a,m),f1(c,o,m),!0}return!1}function Sp(a,o,c,m){if(m={lane:2,revertLane:ng(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},vd(a)){if(o)throw Error(r(479))}else o=Bm(a,c,m,2),o!==null&&qn(o,a,2)}function vd(a){var o=a.alternate;return a===Ie||o!==null&&o===Ie}function d1(a,o){_o=ud=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function f1(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,v_(a,c)}}var ac={readContext:bn,use:hd,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};ac.useEffectEvent=It;var h1={readContext:bn,use:hd,useCallback:function(a,o){return kn().memoizedState=[a,o===void 0?null:o],a},useContext:bn,useEffect:Xw,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,pd(4194308,4,e1.bind(null,o,a),c)},useLayoutEffect:function(a,o){return pd(4194308,4,a,o)},useInsertionEffect:function(a,o){pd(4,2,a,o)},useMemo:function(a,o){var c=kn();o=o===void 0?null:o;var m=a();if(ss){rt(!0);try{a()}finally{rt(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=kn();if(c!==void 0){var y=c(o);if(ss){rt(!0);try{c(o)}finally{rt(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=o3.bind(null,Ie,a),[m.memoizedState,a]},useRef:function(a){var o=kn();return a={current:a},o.memoizedState=a},useState:function(a){a=vp(a);var o=a.queue,c=u1.bind(null,Ie,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:xp,useDeferredValue:function(a,o){var c=kn();return _p(c,a,o)},useTransition:function(){var a=vp(!1);return a=i1.bind(null,Ie,a.queue,!0,!1),kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Ie,y=kn();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),pt===null)throw Error(r(349));(Fe&127)!==0||Rw(m,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,Xw(Iw.bind(null,m,x,a),[a]),m.flags|=2048,jo(9,{destroy:void 0},Dw.bind(null,m,x,c,o),null),c},useId:function(){var a=kn(),o=pt.identifierPrefix;if(Ve){var c=Zr,m=Jr;c=(m&~(1<<32-vt(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=dd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=e3++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:jp,useFormState:Kw,useActionState:Kw,useOptimistic:function(a){var o=kn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Sp.bind(null,Ie,!0,c),c.dispatch=o,[a,o]},useMemoCache:mp,useCacheRefresh:function(){return kn().memoizedState=s3.bind(null,Ie)},useEffectEvent:function(a){var o=kn(),c={impl:a};return o.memoizedState=c,function(){if((at&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Np={readContext:bn,use:hd,useCallback:n1,useContext:bn,useEffect:bp,useImperativeHandle:t1,useInsertionEffect:Jw,useLayoutEffect:Zw,useMemo:r1,useReducer:md,useRef:Ww,useState:function(){return md(Sa)},useDebugValue:xp,useDeferredValue:function(a,o){var c=zt();return a1(c,dt.memoizedState,a,o)},useTransition:function(){var a=md(Sa)[0],o=zt().memoizedState;return[typeof a=="boolean"?a:nc(a),o]},useSyncExternalStore:Mw,useId:l1,useHostTransitionStatus:jp,useFormState:Gw,useActionState:Gw,useOptimistic:function(a,o){var c=zt();return $w(c,dt,a,o)},useMemoCache:mp,useCacheRefresh:c1};Np.useEffectEvent=Qw;var m1={readContext:bn,use:hd,useCallback:n1,useContext:bn,useEffect:bp,useImperativeHandle:t1,useInsertionEffect:Jw,useLayoutEffect:Zw,useMemo:r1,useReducer:gp,useRef:Ww,useState:function(){return gp(Sa)},useDebugValue:xp,useDeferredValue:function(a,o){var c=zt();return dt===null?_p(c,a,o):a1(c,dt.memoizedState,a,o)},useTransition:function(){var a=gp(Sa)[0],o=zt().memoizedState;return[typeof a=="boolean"?a:nc(a),o]},useSyncExternalStore:Mw,useId:l1,useHostTransitionStatus:jp,useFormState:Vw,useActionState:Vw,useOptimistic:function(a,o){var c=zt();return dt!==null?$w(c,dt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:mp,useCacheRefresh:c1};m1.useEffectEvent=Qw;function Ep(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Op={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=rr(),y=ui(m);y.payload=o,c!=null&&(y.callback=c),o=di(a,y,m),o!==null&&(qn(o,a,m),Jl(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=rr(),y=ui(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=di(a,y,m),o!==null&&(qn(o,a,m),Jl(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=rr(),m=ui(c);m.tag=2,o!=null&&(m.callback=o),o=di(a,m,c),o!==null&&(qn(o,a,c),Jl(o,a,c))}};function p1(a,o,c,m,y,x,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,E):o.prototype&&o.prototype.isPureReactComponent?!Fl(c,m)||!Fl(y,x):!0}function g1(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&Op.enqueueReplaceState(o,o.state,null)}function os(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function v1(a){Wu(a)}function y1(a){console.error(a)}function b1(a){Wu(a)}function yd(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function x1(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ap(a,o,c){return c=ui(c),c.tag=3,c.payload={element:null},c.callback=function(){yd(a,o)},c}function _1(a){return a=ui(a),a.tag=3,a}function w1(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=m.value;a.payload=function(){return y(x)},a.callback=function(){x1(o,c,m)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){x1(o,c,m),typeof y!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function l3(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&po(o,c,y,!0),c=Zn.current,c!==null){switch(c.tag){case 31:case 13:return _r===null?Td():c.alternate===null&&Lt===0&&(Lt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===id?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Zp(a,m,y)),!1;case 22:return c.flags|=65536,m===id?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Zp(a,m,y)),!1}throw Error(r(435,c.tag))}return Zp(a,m,y),Td(),!1}if(Ve)return o=Zn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Ym&&(a=Error(r(422),{cause:m}),Yl(vr(a,c)))):(m!==Ym&&(o=Error(r(423),{cause:m}),Yl(vr(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=vr(m,c),y=Ap(a.stateNode,m,y),ap(a,y),Lt!==4&&(Lt=2)),!1;var x=Error(r(520),{cause:m});if(x=vr(x,c),fc===null?fc=[x]:fc.push(x),Lt!==4&&(Lt=2),o===null)return!0;m=vr(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Ap(c.stateNode,m,a),ap(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vi===null||!vi.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=_1(y),w1(y,a,c,m),ap(c,y),!1}c=c.return}while(c!==null);return!1}var Cp=Error(r(461)),Yt=!1;function xn(a,o,c,m){o.child=a===null?Ew(o,null,c,m):is(o,a.child,c,m)}function j1(a,o,c,m,y){c=c.render;var x=o.ref;if("ref"in m){var E={};for(var P in m)P!=="ref"&&(E[P]=m[P])}else E=m;return ts(o),m=up(a,o,c,E,x,y),P=dp(),a!==null&&!Yt?(fp(a,o,y),Na(a,o,y)):(Ve&&P&&Km(o),o.flags|=1,xn(a,o,m,y),o.child)}function S1(a,o,c,m,y){if(a===null){var x=c.type;return typeof x=="function"&&!qm(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,N1(a,o,x,m,y)):(a=Zu(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!Lp(a,y)){var E=x.memoizedProps;if(c=c.compare,c=c!==null?c:Fl,c(E,m)&&a.ref===o.ref)return Na(a,o,y)}return o.flags|=1,a=ba(x,m),a.ref=o.ref,a.return=o,o.child=a}function N1(a,o,c,m,y){if(a!==null){var x=a.memoizedProps;if(Fl(x,m)&&a.ref===o.ref)if(Yt=!1,o.pendingProps=m=x,Lp(a,y))(a.flags&131072)!==0&&(Yt=!0);else return o.lanes=a.lanes,Na(a,o,y)}return Tp(a,o,c,m,y)}function E1(a,o,c,m){var y=m.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~x}else m=0,o.child=null;return O1(a,o,x,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&rd(o,x!==null?x.cachePool:null),x!==null?Cw(o,x):sp(),Tw(o);else return m=o.lanes=536870912,O1(a,o,x!==null?x.baseLanes|c:c,c,m)}else x!==null?(rd(o,x.cachePool),Cw(o,x),hi(),o.memoizedState=null):(a!==null&&rd(o,null),sp(),hi());return xn(a,o,y,c),o.child}function ic(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function O1(a,o,c,m,y){var x=ep();return x=x===null?null:{parent:Kt._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&rd(o,null),sp(),Tw(o),a!==null&&po(a,o,m,!0),o.childLanes=y,null}function bd(a,o){return o=_d({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function A1(a,o,c){return is(o,a.child,null,c),a=bd(o,o.pendingProps),a.flags|=2,er(o),o.memoizedState=null,a}function c3(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Ve){if(m.mode==="hidden")return a=bd(o,m),o.lanes=536870912,ic(null,a);if(lp(o),(a=xt)?(a=zj(a,xr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ii!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},c=dw(a),c.return=o,o.child=c,yn=o,xt=null)):a=null,a===null)throw oi(o);return o.lanes=536870912,null}return bd(o,m)}var x=a.memoizedState;if(x!==null){var E=x.dehydrated;if(lp(o),y)if(o.flags&256)o.flags&=-257,o=A1(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Yt||po(a,o,c,!1),y=(c&a.childLanes)!==0,Yt||y){if(m=pt,m!==null&&(E=y_(m,c),E!==0&&E!==x.retryLane))throw x.retryLane=E,Qi(a,E),qn(m,a,E),Cp;Td(),o=A1(a,o,c)}else a=x.treeContext,xt=wr(E.nextSibling),yn=o,Ve=!0,si=null,xr=!1,a!==null&&mw(o,a),o=bd(o,m),o.flags|=4096;return o}return a=ba(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function xd(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Tp(a,o,c,m,y){return ts(o),c=up(a,o,c,m,void 0,y),m=dp(),a!==null&&!Yt?(fp(a,o,y),Na(a,o,y)):(Ve&&m&&Km(o),o.flags|=1,xn(a,o,c,y),o.child)}function C1(a,o,c,m,y,x){return ts(o),o.updateQueue=null,c=Pw(o,m,c,y),kw(a),m=dp(),a!==null&&!Yt?(fp(a,o,x),Na(a,o,x)):(Ve&&m&&Km(o),o.flags|=1,xn(a,o,c,x),o.child)}function T1(a,o,c,m,y){if(ts(o),o.stateNode===null){var x=uo,E=c.contextType;typeof E=="object"&&E!==null&&(x=bn(E)),x=new c(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Op,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},np(o),E=c.contextType,x.context=typeof E=="object"&&E!==null?bn(E):uo,x.state=o.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Ep(o,c,E,m),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Op.enqueueReplaceState(x,x.state,null),ec(o,m,x,y),Zl(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){x=o.stateNode;var P=o.memoizedProps,U=os(c,P);x.props=U;var J=x.context,se=c.contextType;E=uo,typeof se=="object"&&se!==null&&(E=bn(se));var le=c.getDerivedStateFromProps;se=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||J!==E)&&g1(o,x,m,E),ci=!1;var Z=o.memoizedState;x.state=Z,ec(o,m,x,y),Zl(),J=o.memoizedState,P||Z!==J||ci?(typeof le=="function"&&(Ep(o,c,le,m),J=o.memoizedState),(U=ci||p1(o,c,U,m,Z,J,E))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=J),x.props=m,x.state=J,x.context=E,m=U):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,rp(a,o),E=o.memoizedProps,se=os(c,E),x.props=se,le=o.pendingProps,Z=x.context,J=c.contextType,U=uo,typeof J=="object"&&J!==null&&(U=bn(J)),P=c.getDerivedStateFromProps,(J=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==le||Z!==U)&&g1(o,x,m,U),ci=!1,Z=o.memoizedState,x.state=Z,ec(o,m,x,y),Zl();var ne=o.memoizedState;E!==le||Z!==ne||ci||a!==null&&a.dependencies!==null&&td(a.dependencies)?(typeof P=="function"&&(Ep(o,c,P,m),ne=o.memoizedState),(se=ci||p1(o,c,se,m,Z,ne,U)||a!==null&&a.dependencies!==null&&td(a.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ne,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ne,U)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ne),x.props=m,x.state=ne,x.context=U,m=se):(typeof x.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=1024),m=!1)}return x=m,xd(a,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&m?(o.child=is(o,a.child,null,y),o.child=is(o,null,c,y)):xn(a,o,c,y),o.memoizedState=x.state,a=o.child):a=Na(a,o,y),a}function k1(a,o,c,m){return Zi(),o.flags|=256,xn(a,o,c,m),o.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(a){return{baseLanes:a,cachePool:xw()}}function Mp(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=nr),a}function P1(a,o,c){var m=o.pendingProps,y=!1,x=(o.flags&128)!==0,E;if((E=x)||(E=a!==null&&a.memoizedState===null?!1:($t.current&2)!==0),E&&(y=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ve){if(y?fi(o):hi(),(a=xt)?(a=zj(a,xr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ii!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},c=dw(a),c.return=o,o.child=c,yn=o,xt=null)):a=null,a===null)throw oi(o);return pg(a)?o.lanes=32:o.lanes=536870912,null}var P=m.children;return m=m.fallback,y?(hi(),y=o.mode,P=_d({mode:"hidden",children:P},y),m=Ji(m,y,c,null),P.return=o,m.return=o,P.sibling=m,o.child=P,m=o.child,m.memoizedState=Pp(c),m.childLanes=Mp(a,E,c),o.memoizedState=kp,ic(null,m)):(fi(o),Rp(o,P))}var U=a.memoizedState;if(U!==null&&(P=U.dehydrated,P!==null)){if(x)o.flags&256?(fi(o),o.flags&=-257,o=Dp(a,o,c)):o.memoizedState!==null?(hi(),o.child=a.child,o.flags|=128,o=null):(hi(),P=m.fallback,y=o.mode,m=_d({mode:"visible",children:m.children},y),P=Ji(P,y,c,null),P.flags|=2,m.return=o,P.return=o,m.sibling=P,o.child=m,is(o,a.child,null,c),m=o.child,m.memoizedState=Pp(c),m.childLanes=Mp(a,E,c),o.memoizedState=kp,o=ic(null,m));else if(fi(o),pg(P)){if(E=P.nextSibling&&P.nextSibling.dataset,E)var J=E.dgst;E=J,m=Error(r(419)),m.stack="",m.digest=E,Yl({value:m,source:null,stack:null}),o=Dp(a,o,c)}else if(Yt||po(a,o,c,!1),E=(c&a.childLanes)!==0,Yt||E){if(E=pt,E!==null&&(m=y_(E,c),m!==0&&m!==U.retryLane))throw U.retryLane=m,Qi(a,m),qn(E,a,m),Cp;mg(P)||Td(),o=Dp(a,o,c)}else mg(P)?(o.flags|=192,o.child=a.child,o=null):(a=U.treeContext,xt=wr(P.nextSibling),yn=o,Ve=!0,si=null,xr=!1,a!==null&&mw(o,a),o=Rp(o,m.children),o.flags|=4096);return o}return y?(hi(),P=m.fallback,y=o.mode,U=a.child,J=U.sibling,m=ba(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,J!==null?P=ba(J,P):(P=Ji(P,y,c,null),P.flags|=2),P.return=o,m.return=o,m.sibling=P,o.child=m,ic(null,m),m=o.child,P=a.child.memoizedState,P===null?P=Pp(c):(y=P.cachePool,y!==null?(U=Kt._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=xw(),P={baseLanes:P.baseLanes|c,cachePool:y}),m.memoizedState=P,m.childLanes=Mp(a,E,c),o.memoizedState=kp,ic(a.child,m)):(fi(o),c=a.child,a=c.sibling,c=ba(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(E=o.deletions,E===null?(o.deletions=[a],o.flags|=16):E.push(a)),o.child=c,o.memoizedState=null,c)}function Rp(a,o){return o=_d({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function _d(a,o){return a=Jn(22,a,null,o),a.lanes=0,a}function Dp(a,o,c){return is(o,a.child,null,c),a=Rp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function M1(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),Xm(a.return,o,c)}function Ip(a,o,c,m,y,x){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:x}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=c,E.tailMode=y,E.treeForkCount=x)}function R1(a,o,c){var m=o.pendingProps,y=m.revealOrder,x=m.tail;m=m.children;var E=$t.current,P=(E&2)!==0;if(P?(E=E&1|2,o.flags|=128):E&=1,V($t,E),xn(a,o,m,c),m=Ve?Gl:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&M1(a,c,o);else if(a.tag===19)M1(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&cd(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Ip(o,!1,y,c,x,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&cd(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Ip(o,!0,c,null,x,m);break;case"together":Ip(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Na(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),gi|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(po(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=ba(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ba(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Lp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&td(a)))}function u3(a,o,c){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),li(o,Kt,a.memoizedState.cache),Zi();break;case 27:case 5:je(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:li(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,lp(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(fi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?P1(a,o,c):(fi(o),a=Na(a,o,c),a!==null?a.sibling:null);fi(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(po(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return R1(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),V($t,$t.current),m)break;return null;case 22:return o.lanes=0,E1(a,o,c,o.pendingProps);case 24:li(o,Kt,a.memoizedState.cache)}return Na(a,o,c)}function D1(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Yt=!0;else{if(!Lp(a,c)&&(o.flags&128)===0)return Yt=!1,u3(a,o,c);Yt=(a.flags&131072)!==0}else Yt=!1,Ve&&(o.flags&1048576)!==0&&hw(o,Gl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=rs(o.elementType),o.type=a,typeof a=="function")qm(a)?(m=os(a,m),o.tag=1,o=T1(null,o,a,m,c)):(o.tag=0,o=Tp(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===C){o.tag=11,o=j1(null,o,a,m,c);break e}else if(y===M){o.tag=14,o=S1(null,o,a,m,c);break e}}throw o=z(a)||a,Error(r(306,o,""))}}return o;case 0:return Tp(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=os(m,o.pendingProps),T1(a,o,m,y,c);case 3:e:{if(ke(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;y=x.element,rp(a,o),ec(o,m,null,c);var E=o.memoizedState;if(m=E.cache,li(o,Kt,m),m!==x.cache&&Qm(o,[Kt],c,!0),Zl(),m=E.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=k1(a,o,m,c);break e}else if(m!==y){y=vr(Error(r(424)),o),Yl(y),o=k1(a,o,m,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(xt=wr(a.firstChild),yn=o,Ve=!0,si=null,xr=!0,c=Ew(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zi(),m===y){o=Na(a,o,c);break e}xn(a,o,m,c)}o=o.child}return o;case 26:return xd(a,o),a===null?(c=Gj(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ve||(c=o.type,a=o.pendingProps,m=Ld(fe.current).createElement(c),m[vn]=o,m[In]=a,_n(m,c,a),cn(m),o.stateNode=m):o.memoizedState=Gj(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return je(o),a===null&&Ve&&(m=o.stateNode=Hj(o.type,o.pendingProps,fe.current),yn=o,xr=!0,y=xt,_i(o.type)?(gg=y,xt=wr(m.firstChild)):xt=y),xn(a,o,o.pendingProps.children,c),xd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Ve&&((y=m=xt)&&(m=z3(m,o.type,o.pendingProps,xr),m!==null?(o.stateNode=m,yn=o,xt=wr(m.firstChild),xr=!1,y=!0):y=!1),y||oi(o)),je(o),y=o.type,x=o.pendingProps,E=a!==null?a.memoizedProps:null,m=x.children,dg(y,x)?m=null:E!==null&&dg(y,E)&&(o.flags|=32),o.memoizedState!==null&&(y=up(a,o,t3,null,null,c),xc._currentValue=y),xd(a,o),xn(a,o,m,c),o.child;case 6:return a===null&&Ve&&((a=c=xt)&&(c=B3(c,o.pendingProps,xr),c!==null?(o.stateNode=c,yn=o,xt=null,a=!0):a=!1),a||oi(o)),null;case 13:return P1(a,o,c);case 4:return ke(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=is(o,null,m,c):xn(a,o,m,c),o.child;case 11:return j1(a,o,o.type,o.pendingProps,c);case 7:return xn(a,o,o.pendingProps,c),o.child;case 8:return xn(a,o,o.pendingProps.children,c),o.child;case 12:return xn(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,li(o,o.type,m.value),xn(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,ts(o),y=bn(y),m=m(y),o.flags|=1,xn(a,o,m,c),o.child;case 14:return S1(a,o,o.type,o.pendingProps,c);case 15:return N1(a,o,o.type,o.pendingProps,c);case 19:return R1(a,o,c);case 31:return c3(a,o,c);case 22:return E1(a,o,c,o.pendingProps);case 24:return ts(o),m=bn(Kt),a===null?(y=ep(),y===null&&(y=pt,x=Jm(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:m,cache:y},np(o),li(o,Kt,y)):((a.lanes&c)!==0&&(rp(a,o),ec(o,null,null,c),Zl()),y=a.memoizedState,x=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),li(o,Kt,m)):(m=x.cache,li(o,Kt,m),m!==y.cache&&Qm(o,[Kt],c,!0))),xn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ea(a){a.flags|=4}function Up(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(lj())a.flags|=8192;else throw as=id,tp}else a.flags&=-16777217}function I1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Qj(o))if(lj())a.flags|=8192;else throw as=id,tp}function wd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?p_():536870912,a.lanes|=o,Oo|=o)}function sc(a,o){if(!Ve)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function _t(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function d3(a,o,c){var m=o.pendingProps;switch(Gm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(o),null;case 1:return _t(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),wa(Kt),ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(mo(o)?Ea(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vm())),_t(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(Ea(o),x!==null?(_t(o),I1(o,x)):(_t(o),Up(o,y,null,m,c))):x?x!==a.memoizedState?(Ea(o),_t(o),I1(o,x)):(_t(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&Ea(o),_t(o),Up(o,y,a,m,c)),null;case 27:if(Pe(o),c=fe.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ea(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return _t(o),null}a=X.current,mo(o)?pw(o):(a=Hj(y,m,c),o.stateNode=a,Ea(o))}return _t(o),null;case 5:if(Pe(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ea(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return _t(o),null}if(x=X.current,mo(o))pw(o);else{var E=Ld(fe.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?E.createElement(y,{is:m.is}):E.createElement(y)}}x[vn]=o,x[In]=m;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=x;e:switch(_n(x,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ea(o)}}return _t(o),Up(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Ea(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=fe.current,mo(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=yn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[vn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Pj(a.nodeValue,c)),a||oi(o,!0)}else a=Ld(a).createTextNode(m),a[vn]=o,o.stateNode=a}return _t(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=mo(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[vn]=o}else Zi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_t(o),a=!1}else c=Vm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(er(o),o):(er(o),null);if((o.flags&128)!==0)throw Error(r(558))}return _t(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=mo(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[vn]=o}else Zi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_t(o),y=!1}else y=Vm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(er(o),o):(er(o),null)}return er(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),wd(o,o.updateQueue),_t(o),null);case 4:return ie(),a===null&&sg(o.stateNode.containerInfo),_t(o),null;case 10:return wa(o.type),_t(o),null;case 19:if(L($t),m=o.memoizedState,m===null)return _t(o),null;if(y=(o.flags&128)!==0,x=m.rendering,x===null)if(y)sc(m,!1);else{if(Lt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=cd(a),x!==null){for(o.flags|=128,sc(m,!1),a=x.updateQueue,o.updateQueue=a,wd(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)uw(c,a),c=c.sibling;return V($t,$t.current&1|2),Ve&&xa(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Ye()>Od&&(o.flags|=128,y=!0,sc(m,!1),o.lanes=4194304)}else{if(!y)if(a=cd(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,wd(o,a),sc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ve)return _t(o),null}else 2*Ye()-m.renderingStartTime>Od&&c!==536870912&&(o.flags|=128,y=!0,sc(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(a=m.last,a!==null?a.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ye(),a.sibling=null,c=$t.current,V($t,y?c&1|2:c&1),Ve&&xa(o,m.treeForkCount),a):(_t(o),null);case 22:case 23:return er(o),op(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(_t(o),o.subtreeFlags&6&&(o.flags|=8192)):_t(o),c=o.updateQueue,c!==null&&wd(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&L(ns),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),wa(Kt),_t(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function f3(a,o){switch(Gm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return wa(Kt),ie(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 31:if(o.memoizedState!==null){if(er(o),o.alternate===null)throw Error(r(340));Zi()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(er(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Zi()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return L($t),null;case 4:return ie(),null;case 10:return wa(o.type),null;case 22:case 23:return er(o),op(),a!==null&&L(ns),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return wa(Kt),null;case 25:return null;default:return null}}function L1(a,o){switch(Gm(o),o.tag){case 3:wa(Kt),ie();break;case 26:case 27:case 5:Pe(o);break;case 4:ie();break;case 31:o.memoizedState!==null&&er(o);break;case 13:er(o);break;case 19:L($t);break;case 10:wa(o.type);break;case 22:case 23:er(o),op(),a!==null&&L(ns);break;case 24:wa(Kt)}}function oc(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var x=c.create,E=c.inst;m=x(),E.destroy=m}c=c.next}while(c!==y)}}catch(P){ot(o,o.return,P)}}function mi(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var x=y.next;m=x;do{if((m.tag&a)===a){var E=m.inst,P=E.destroy;if(P!==void 0){E.destroy=void 0,y=o;var U=c,J=P;try{J()}catch(se){ot(y,U,se)}}}m=m.next}while(m!==x)}}catch(se){ot(o,o.return,se)}}function U1(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{Aw(o,c)}catch(m){ot(a,a.return,m)}}}function $1(a,o,c){c.props=os(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){ot(a,o,m)}}function lc(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){ot(a,o,y)}}function ea(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){ot(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ot(a,o,y)}else c.current=null}function z1(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){ot(a,a.return,y)}}function $p(a,o,c){try{var m=a.stateNode;R3(m,a.type,c,o),m[In]=o}catch(y){ot(a,a.return,y)}}function B1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_i(a.type)||a.tag===4}function zp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||B1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_i(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Bp(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=va));else if(m!==4&&(m===27&&_i(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Bp(a,o,c),a=a.sibling;a!==null;)Bp(a,o,c),a=a.sibling}function jd(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&_i(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(jd(a,o,c),a=a.sibling;a!==null;)jd(a,o,c),a=a.sibling}function q1(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);_n(o,m,c),o[vn]=a,o[In]=c}catch(x){ot(a,a.return,x)}}var Oa=!1,Vt=!1,qp=!1,H1=typeof WeakSet=="function"?WeakSet:Set,un=null;function h3(a,o){if(a=a.containerInfo,cg=Fd,a=tw(a),Dm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var E=0,P=-1,U=-1,J=0,se=0,le=a,Z=null;t:for(;;){for(var ne;le!==c||y!==0&&le.nodeType!==3||(P=E+y),le!==x||m!==0&&le.nodeType!==3||(U=E+m),le.nodeType===3&&(E+=le.nodeValue.length),(ne=le.firstChild)!==null;)Z=le,le=ne;for(;;){if(le===a)break t;if(Z===c&&++J===y&&(P=E),Z===x&&++se===m&&(U=E),(ne=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=ne}c=P===-1||U===-1?null:{start:P,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ug={focusedElem:a,selectionRange:c},Fd=!1,un=o;un!==null;)if(o=un,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,un=a;else for(;un!==null;){switch(o=un,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,m=c.stateNode;try{var be=os(c.type,y);a=m.getSnapshotBeforeUpdate(be,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Te){ot(c,c.return,Te)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)hg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":hg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,un=a;break}un=o.return}}function F1(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ca(a,c),m&4&&oc(5,c);break;case 1:if(Ca(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(E){ot(c,c.return,E)}else{var y=os(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(c,c.return,E)}}m&64&&U1(c),m&512&&lc(c,c.return);break;case 3:if(Ca(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Aw(a,o)}catch(E){ot(c,c.return,E)}}break;case 27:o===null&&m&4&&q1(c);case 26:case 5:Ca(a,c),o===null&&m&4&&z1(c),m&512&&lc(c,c.return);break;case 12:Ca(a,c);break;case 31:Ca(a,c),m&4&&Y1(a,c);break;case 13:Ca(a,c),m&4&&V1(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=w3.bind(null,c),q3(a,c))));break;case 22:if(m=c.memoizedState!==null||Oa,!m){o=o!==null&&o.memoizedState!==null||Vt,y=Oa;var x=Vt;Oa=m,(Vt=o)&&!x?Ta(a,c,(c.subtreeFlags&8772)!==0):Ca(a,c),Oa=y,Vt=x}break;case 30:break;default:Ca(a,c)}}function K1(a){var o=a.alternate;o!==null&&(a.alternate=null,K1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ym(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var jt=null,Un=!1;function Aa(a,o,c){for(c=c.child;c!==null;)G1(a,o,c),c=c.sibling}function G1(a,o,c){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Pt,c)}catch{}switch(c.tag){case 26:Vt||ea(c,o),Aa(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Vt||ea(c,o);var m=jt,y=Un;_i(c.type)&&(jt=c.stateNode,Un=!1),Aa(a,o,c),vc(c.stateNode),jt=m,Un=y;break;case 5:Vt||ea(c,o);case 6:if(m=jt,y=Un,jt=null,Aa(a,o,c),jt=m,Un=y,jt!==null)if(Un)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(c.stateNode)}catch(x){ot(c,o,x)}else try{jt.removeChild(c.stateNode)}catch(x){ot(c,o,x)}break;case 18:jt!==null&&(Un?(a=jt,Uj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Do(a)):Uj(jt,c.stateNode));break;case 4:m=jt,y=Un,jt=c.stateNode.containerInfo,Un=!0,Aa(a,o,c),jt=m,Un=y;break;case 0:case 11:case 14:case 15:mi(2,c,o),Vt||mi(4,c,o),Aa(a,o,c);break;case 1:Vt||(ea(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&$1(c,o,m)),Aa(a,o,c);break;case 21:Aa(a,o,c);break;case 22:Vt=(m=Vt)||c.memoizedState!==null,Aa(a,o,c),Vt=m;break;default:Aa(a,o,c)}}function Y1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Do(a)}catch(c){ot(o,o.return,c)}}}function V1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Do(a)}catch(c){ot(o,o.return,c)}}function m3(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new H1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new H1),o;default:throw Error(r(435,a.tag))}}function Sd(a,o){var c=m3(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=j3.bind(null,a,m);m.then(y,y)}})}function $n(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],x=a,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 27:if(_i(P.type)){jt=P.stateNode,Un=!1;break e}break;case 5:jt=P.stateNode,Un=!1;break e;case 3:case 4:jt=P.stateNode.containerInfo,Un=!0;break e}P=P.return}if(jt===null)throw Error(r(160));G1(x,E,y),jt=null,Un=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)W1(o,a),o=o.sibling}var Ur=null;function W1(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$n(o,a),zn(a),m&4&&(mi(3,a,a.return),oc(3,a),mi(5,a,a.return));break;case 1:$n(o,a),zn(a),m&512&&(Vt||c===null||ea(c,c.return)),m&64&&Oa&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=Ur;if($n(o,a),zn(a),m&512&&(Vt||c===null||ea(c,c.return)),m&4){var x=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Dl]||x[vn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(m),y.head.insertBefore(x,y.querySelector("head > title"))),_n(x,m,c),x[vn]=a,cn(x),m=x;break e;case"link":var E=Wj("link","href",y).get(m+(c.href||""));if(E){for(var P=0;P<E.length;P++)if(x=E[P],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(P,1);break t}}x=y.createElement(m),_n(x,m,c),y.head.appendChild(x);break;case"meta":if(E=Wj("meta","content",y).get(m+(c.content||""))){for(P=0;P<E.length;P++)if(x=E[P],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(P,1);break t}}x=y.createElement(m),_n(x,m,c),y.head.appendChild(x);break;default:throw Error(r(468,m))}x[vn]=a,cn(x),m=x}a.stateNode=m}else Xj(y,a.type,a.stateNode);else a.stateNode=Vj(y,m,a.memoizedProps);else x!==m?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,m===null?Xj(y,a.type,a.stateNode):Vj(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&$p(a,a.memoizedProps,c.memoizedProps)}break;case 27:$n(o,a),zn(a),m&512&&(Vt||c===null||ea(c,c.return)),c!==null&&m&4&&$p(a,a.memoizedProps,c.memoizedProps);break;case 5:if($n(o,a),zn(a),m&512&&(Vt||c===null||ea(c,c.return)),a.flags&32){y=a.stateNode;try{ro(y,"")}catch(be){ot(a,a.return,be)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,$p(a,y,c!==null?c.memoizedProps:y)),m&1024&&(qp=!0);break;case 6:if($n(o,a),zn(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(be){ot(a,a.return,be)}}break;case 3:if(zd=null,y=Ur,Ur=Ud(o.containerInfo),$n(o,a),Ur=y,zn(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Do(o.containerInfo)}catch(be){ot(a,a.return,be)}qp&&(qp=!1,X1(a));break;case 4:m=Ur,Ur=Ud(a.stateNode.containerInfo),$n(o,a),zn(a),Ur=m;break;case 12:$n(o,a),zn(a);break;case 31:$n(o,a),zn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 13:$n(o,a),zn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ed=Ye()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 22:y=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,J=Oa,se=Vt;if(Oa=J||y,Vt=se||U,$n(o,a),Vt=se,Oa=J,zn(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||U||Oa||Vt||ls(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){U=c=o;try{if(x=U.stateNode,y)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{P=U.stateNode;var le=U.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;P.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(be){ot(U,U.return,be)}}}else if(o.tag===6){if(c===null){U=o;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(be){ot(U,U.return,be)}}}else if(o.tag===18){if(c===null){U=o;try{var ne=U.stateNode;y?$j(ne,!0):$j(U.stateNode,!1)}catch(be){ot(U,U.return,be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Sd(a,c))));break;case 19:$n(o,a),zn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 30:break;case 21:break;default:$n(o,a),zn(a)}}function zn(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(B1(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=zp(a);jd(a,x,y);break;case 5:var E=c.stateNode;c.flags&32&&(ro(E,""),c.flags&=-33);var P=zp(a);jd(a,P,E);break;case 3:case 4:var U=c.stateNode.containerInfo,J=zp(a);Bp(a,J,U);break;default:throw Error(r(161))}}catch(se){ot(a,a.return,se)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function X1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;X1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ca(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)F1(a,o.alternate,o),o=o.sibling}function ls(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:mi(4,o,o.return),ls(o);break;case 1:ea(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&$1(o,o.return,c),ls(o);break;case 27:vc(o.stateNode);case 26:case 5:ea(o,o.return),ls(o);break;case 22:o.memoizedState===null&&ls(o);break;case 30:ls(o);break;default:ls(o)}a=a.sibling}}function Ta(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,x=o,E=x.flags;switch(x.tag){case 0:case 11:case 15:Ta(y,x,c),oc(4,x);break;case 1:if(Ta(y,x,c),m=x,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){ot(m,m.return,J)}if(m=x,y=m.updateQueue,y!==null){var P=m.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Ow(U[y],P)}catch(J){ot(m,m.return,J)}}c&&E&64&&U1(x),lc(x,x.return);break;case 27:q1(x);case 26:case 5:Ta(y,x,c),c&&m===null&&E&4&&z1(x),lc(x,x.return);break;case 12:Ta(y,x,c);break;case 31:Ta(y,x,c),c&&E&4&&Y1(y,x);break;case 13:Ta(y,x,c),c&&E&4&&V1(y,x);break;case 22:x.memoizedState===null&&Ta(y,x,c),lc(x,x.return);break;case 30:break;default:Ta(y,x,c)}o=o.sibling}}function Hp(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Vl(c))}function Fp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Vl(a))}function $r(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Q1(a,o,c,m),o=o.sibling}function Q1(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:$r(a,o,c,m),y&2048&&oc(9,o);break;case 1:$r(a,o,c,m);break;case 3:$r(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Vl(a)));break;case 12:if(y&2048){$r(a,o,c,m),a=o.stateNode;try{var x=o.memoizedProps,E=x.id,P=x.onPostCommit;typeof P=="function"&&P(E,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){ot(o,o.return,U)}}else $r(a,o,c,m);break;case 31:$r(a,o,c,m);break;case 13:$r(a,o,c,m);break;case 23:break;case 22:x=o.stateNode,E=o.alternate,o.memoizedState!==null?x._visibility&2?$r(a,o,c,m):cc(a,o):x._visibility&2?$r(a,o,c,m):(x._visibility|=2,So(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Hp(E,o);break;case 24:$r(a,o,c,m),y&2048&&Fp(o.alternate,o);break;default:$r(a,o,c,m)}}function So(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,E=o,P=c,U=m,J=E.flags;switch(E.tag){case 0:case 11:case 15:So(x,E,P,U,y),oc(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?So(x,E,P,U,y):cc(x,E):(se._visibility|=2,So(x,E,P,U,y)),y&&J&2048&&Hp(E.alternate,E);break;case 24:So(x,E,P,U,y),y&&J&2048&&Fp(E.alternate,E);break;default:So(x,E,P,U,y)}o=o.sibling}}function cc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:cc(c,m),y&2048&&Hp(m.alternate,m);break;case 24:cc(c,m),y&2048&&Fp(m.alternate,m);break;default:cc(c,m)}o=o.sibling}}var uc=8192;function No(a,o,c){if(a.subtreeFlags&uc)for(a=a.child;a!==null;)J1(a,o,c),a=a.sibling}function J1(a,o,c){switch(a.tag){case 26:No(a,o,c),a.flags&uc&&a.memoizedState!==null&&e4(c,Ur,a.memoizedState,a.memoizedProps);break;case 5:No(a,o,c);break;case 3:case 4:var m=Ur;Ur=Ud(a.stateNode.containerInfo),No(a,o,c),Ur=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=uc,uc=16777216,No(a,o,c),uc=m):No(a,o,c));break;default:No(a,o,c)}}function Z1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function dc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];un=m,tj(m,a)}Z1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ej(a),a=a.sibling}function ej(a){switch(a.tag){case 0:case 11:case 15:dc(a),a.flags&2048&&mi(9,a,a.return);break;case 3:dc(a);break;case 12:dc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Nd(a)):dc(a);break;default:dc(a)}}function Nd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];un=m,tj(m,a)}Z1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:mi(8,o,o.return),Nd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Nd(o));break;default:Nd(o)}a=a.sibling}}function tj(a,o){for(;un!==null;){var c=un;switch(c.tag){case 0:case 11:case 15:mi(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,un=m;else e:for(c=a;un!==null;){m=un;var y=m.sibling,x=m.return;if(K1(m),m===c){un=null;break e}if(y!==null){y.return=x,un=y;break e}un=x}}}var p3={getCacheForType:function(a){var o=bn(Kt),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return bn(Kt).controller.signal}},g3=typeof WeakMap=="function"?WeakMap:Map,at=0,pt=null,ze=null,Fe=0,st=0,tr=null,pi=!1,Eo=!1,Kp=!1,ka=0,Lt=0,gi=0,cs=0,Gp=0,nr=0,Oo=0,fc=null,Bn=null,Yp=!1,Ed=0,nj=0,Od=1/0,Ad=null,vi=null,Zt=0,yi=null,Ao=null,Pa=0,Vp=0,Wp=null,rj=null,hc=0,Xp=null;function rr(){return(at&2)!==0&&Fe!==0?Fe&-Fe:I.T!==null?ng():b_()}function aj(){if(nr===0)if((Fe&536870912)===0||Ve){var a=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),nr=a}else nr=536870912;return a=Zn.current,a!==null&&(a.flags|=32),nr}function qn(a,o,c){(a===pt&&(st===2||st===9)||a.cancelPendingCommit!==null)&&(Co(a,0),bi(a,Fe,nr,!1)),Rl(a,c),((at&2)===0||a!==pt)&&(a===pt&&((at&2)===0&&(cs|=c),Lt===4&&bi(a,Fe,nr,!1)),ta(a))}function ij(a,o,c){if((at&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Ml(a,o),y=m?b3(a,o):Jp(a,o,!0),x=m;do{if(y===0){Eo&&!m&&bi(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!v3(c)){y=Jp(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var P=a;y=fc;var U=P.current.memoizedState.isDehydrated;if(U&&(Co(P,E).flags|=256),E=Jp(P,E,!1),E!==2){if(Kp&&!U){P.errorRecoveryDisabledLanes|=x,cs|=x,y=4;break e}x=Bn,Bn=y,x!==null&&(Bn===null?Bn=x:Bn.push.apply(Bn,x))}y=E}if(x=!1,y!==2)continue}}if(y===1){Co(a,0),bi(a,o,0,!0);break}e:{switch(m=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:bi(m,o,nr,!pi);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Ed+300-Ye(),10<y)){if(bi(m,o,nr,!pi),Xs(m,0,!0)!==0)break e;Pa=o,m.timeoutHandle=Ij(sj.bind(null,m,c,Bn,Ad,Yp,o,nr,cs,Oo,pi,x,"Throttled",-0,0),y);break e}sj(m,c,Bn,Ad,Yp,o,nr,cs,Oo,pi,x,null,-0,0)}}break}while(!0);ta(a)}function sj(a,o,c,m,y,x,E,P,U,J,se,le,Z,ne){if(a.timeoutHandle=-1,le=o.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},J1(o,x,le);var be=(x&62914560)===x?Ed-Ye():(x&4194048)===x?nj-Ye():0;if(be=t4(le,be),be!==null){Pa=x,a.cancelPendingCommit=be(mj.bind(null,a,o,x,c,m,y,E,P,U,se,le,null,Z,ne)),bi(a,x,E,!J);return}}mj(a,o,x,c,m,y,E,P,U)}function v3(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],x=y.getSnapshot;y=y.value;try{if(!Qn(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bi(a,o,c,m){o&=~Gp,o&=~cs,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var x=31-vt(y),E=1<<x;m[x]=-1,y&=~E}c!==0&&g_(a,c,o)}function Cd(){return(at&6)===0?(mc(0),!1):!0}function Qp(){if(ze!==null){if(st===0)var a=ze.return;else a=ze,_a=es=null,hp(a),bo=null,Xl=0,a=ze;for(;a!==null;)L1(a.alternate,a),a=a.return;ze=null}}function Co(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,L3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Pa=0,Qp(),pt=a,ze=c=ba(a.current,null),Fe=o,st=0,tr=null,pi=!1,Eo=Ml(a,o),Kp=!1,Oo=nr=Gp=cs=gi=Lt=0,Bn=fc=null,Yp=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-vt(m),x=1<<y;o|=a[y],m&=~x}return ka=o,Xu(),c}function oj(a,o){Ie=null,I.H=ac,o===yo||o===ad?(o=jw(),st=3):o===tp?(o=jw(),st=4):st=o===Cp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,tr=o,ze===null&&(Lt=1,yd(a,vr(o,a.current)))}function lj(){var a=Zn.current;return a===null?!0:(Fe&4194048)===Fe?_r===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?a===_r:!1}function cj(){var a=I.H;return I.H=ac,a===null?ac:a}function uj(){var a=I.A;return I.A=p3,a}function Td(){Lt=4,pi||(Fe&4194048)!==Fe&&Zn.current!==null||(Eo=!0),(gi&134217727)===0&&(cs&134217727)===0||pt===null||bi(pt,Fe,nr,!1)}function Jp(a,o,c){var m=at;at|=2;var y=cj(),x=uj();(pt!==a||Fe!==o)&&(Ad=null,Co(a,o)),o=!1;var E=Lt;e:do try{if(st!==0&&ze!==null){var P=ze,U=tr;switch(st){case 8:Qp(),E=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(o=!0);var J=st;if(st=0,tr=null,To(a,P,U,J),c&&Eo){E=0;break e}break;default:J=st,st=0,tr=null,To(a,P,U,J)}}y3(),E=Lt;break}catch(se){oj(a,se)}while(!0);return o&&a.shellSuspendCounter++,_a=es=null,at=m,I.H=y,I.A=x,ze===null&&(pt=null,Fe=0,Xu()),E}function y3(){for(;ze!==null;)dj(ze)}function b3(a,o){var c=at;at|=2;var m=cj(),y=uj();pt!==a||Fe!==o?(Ad=null,Od=Ye()+500,Co(a,o)):Eo=Ml(a,o);e:do try{if(st!==0&&ze!==null){o=ze;var x=tr;t:switch(st){case 1:st=0,tr=null,To(a,o,x,1);break;case 2:case 9:if(_w(x)){st=0,tr=null,fj(o);break}o=function(){st!==2&&st!==9||pt!==a||(st=7),ta(a)},x.then(o,o);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:_w(x)?(st=0,tr=null,fj(o)):(st=0,tr=null,To(a,o,x,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var P=ze;if(E?Qj(E):P.stateNode.complete){st=0,tr=null;var U=P.sibling;if(U!==null)ze=U;else{var J=P.return;J!==null?(ze=J,kd(J)):ze=null}break t}}st=0,tr=null,To(a,o,x,5);break;case 6:st=0,tr=null,To(a,o,x,6);break;case 8:Qp(),Lt=6;break e;default:throw Error(r(462))}}x3();break}catch(se){oj(a,se)}while(!0);return _a=es=null,I.H=m,I.A=y,at=c,ze!==null?0:(pt=null,Fe=0,Xu(),Lt)}function x3(){for(;ze!==null&&!ut();)dj(ze)}function dj(a){var o=D1(a.alternate,a,ka);a.memoizedProps=a.pendingProps,o===null?kd(a):ze=o}function fj(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=C1(c,o,o.pendingProps,o.type,void 0,Fe);break;case 11:o=C1(c,o,o.pendingProps,o.type.render,o.ref,Fe);break;case 5:hp(o);default:L1(c,o),o=ze=uw(o,ka),o=D1(c,o,ka)}a.memoizedProps=a.pendingProps,o===null?kd(a):ze=o}function To(a,o,c,m){_a=es=null,hp(o),bo=null,Xl=0;var y=o.return;try{if(l3(a,y,o,c,Fe)){Lt=1,yd(a,vr(c,a.current)),ze=null;return}}catch(x){if(y!==null)throw ze=y,x;Lt=1,yd(a,vr(c,a.current)),ze=null;return}o.flags&32768?(Ve||m===1?a=!0:Eo||(Fe&536870912)!==0?a=!1:(pi=a=!0,(m===2||m===9||m===3||m===6)&&(m=Zn.current,m!==null&&m.tag===13&&(m.flags|=16384))),hj(o,a)):kd(o)}function kd(a){var o=a;do{if((o.flags&32768)!==0){hj(o,pi);return}a=o.return;var c=d3(o.alternate,o,ka);if(c!==null){ze=c;return}if(o=o.sibling,o!==null){ze=o;return}ze=o=a}while(o!==null);Lt===0&&(Lt=5)}function hj(a,o){do{var c=f3(a.alternate,a);if(c!==null){c.flags&=32767,ze=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){ze=a;return}ze=a=c}while(a!==null);Lt=6,ze=null}function mj(a,o,c,m,y,x,E,P,U){a.cancelPendingCommit=null;do Pd();while(Zt!==0);if((at&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=zm,ZR(a,c,x,E,P,U),a===pt&&(ze=pt=null,Fe=0),Ao=o,yi=a,Pa=c,Vp=x,Wp=y,rj=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,S3(de,function(){return bj(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=I.T,I.T=null,y=Y.p,Y.p=2,E=at,at|=4;try{h3(a,o,c)}finally{at=E,Y.p=y,I.T=m}}Zt=1,pj(),gj(),vj()}}function pj(){if(Zt===1){Zt=0;var a=yi,o=Ao,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var m=Y.p;Y.p=2;var y=at;at|=4;try{W1(o,a);var x=ug,E=tw(a.containerInfo),P=x.focusedElem,U=x.selectionRange;if(E!==P&&P&&P.ownerDocument&&ew(P.ownerDocument.documentElement,P)){if(U!==null&&Dm(P)){var J=U.start,se=U.end;if(se===void 0&&(se=J),"selectionStart"in P)P.selectionStart=J,P.selectionEnd=Math.min(se,P.value.length);else{var le=P.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),be=P.textContent.length,Te=Math.min(U.start,be),ht=U.end===void 0?Te:Math.min(U.end,be);!ne.extend&&Te>ht&&(E=ht,ht=Te,Te=E);var G=Z_(P,Te),B=Z_(P,ht);if(G&&B&&(ne.rangeCount!==1||ne.anchorNode!==G.node||ne.anchorOffset!==G.offset||ne.focusNode!==B.node||ne.focusOffset!==B.offset)){var Q=le.createRange();Q.setStart(G.node,G.offset),ne.removeAllRanges(),Te>ht?(ne.addRange(Q),ne.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),ne.addRange(Q))}}}}for(le=[],ne=P;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<le.length;P++){var oe=le[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Fd=!!cg,ug=cg=null}finally{at=y,Y.p=m,I.T=c}}a.current=o,Zt=2}}function gj(){if(Zt===2){Zt=0;var a=yi,o=Ao,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var m=Y.p;Y.p=2;var y=at;at|=4;try{F1(a,o.alternate,o)}finally{at=y,Y.p=m,I.T=c}}Zt=3}}function vj(){if(Zt===4||Zt===3){Zt=0,kt();var a=yi,o=Ao,c=Pa,m=rj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Zt=5:(Zt=0,Ao=yi=null,yj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(vi=null),gm(c),o=o.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Pt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=I.T,y=Y.p,Y.p=2,I.T=null;try{for(var x=a.onRecoverableError,E=0;E<m.length;E++){var P=m[E];x(P.value,{componentStack:P.stack})}}finally{I.T=o,Y.p=y}}(Pa&3)!==0&&Pd(),ta(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Xp?hc++:(hc=0,Xp=a):hc=0,mc(0)}}function yj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Vl(o)))}function Pd(){return pj(),gj(),vj(),bj()}function bj(){if(Zt!==5)return!1;var a=yi,o=Vp;Vp=0;var c=gm(Pa),m=I.T,y=Y.p;try{Y.p=32>c?32:c,I.T=null,c=Wp,Wp=null;var x=yi,E=Pa;if(Zt=0,Ao=yi=null,Pa=0,(at&6)!==0)throw Error(r(331));var P=at;if(at|=4,ej(x.current),Q1(x,x.current,E,c),at=P,mc(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Pt,x)}catch{}return!0}finally{Y.p=y,I.T=m,yj(a,o)}}function xj(a,o,c){o=vr(c,o),o=Ap(a.stateNode,o,2),a=di(a,o,2),a!==null&&(Rl(a,2),ta(a))}function ot(a,o,c){if(a.tag===3)xj(a,a,c);else for(;o!==null;){if(o.tag===3){xj(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vi===null||!vi.has(m))){a=vr(c,a),c=_1(2),m=di(o,c,2),m!==null&&(w1(c,m,o,a),Rl(m,2),ta(m));break}}o=o.return}}function Zp(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new g3;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(Kp=!0,y.add(c),a=_3.bind(null,a,o,c),o.then(a,a))}function _3(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,pt===a&&(Fe&c)===c&&(Lt===4||Lt===3&&(Fe&62914560)===Fe&&300>Ye()-Ed?(at&2)===0&&Co(a,0):Gp|=c,Oo===Fe&&(Oo=0)),ta(a)}function _j(a,o){o===0&&(o=p_()),a=Qi(a,o),a!==null&&(Rl(a,o),ta(a))}function w3(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),_j(a,c)}function j3(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),_j(a,c)}function S3(a,o){return Xe(a,o)}var Md=null,ko=null,eg=!1,Rd=!1,tg=!1,xi=0;function ta(a){a!==ko&&a.next===null&&(ko===null?Md=ko=a:ko=ko.next=a),Rd=!0,eg||(eg=!0,E3())}function mc(a,o){if(!tg&&Rd){tg=!0;do for(var c=!1,m=Md;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var x=0;else{var E=m.suspendedLanes,P=m.pingedLanes;x=(1<<31-vt(42|a)+1)-1,x&=y&~(E&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,Nj(m,x))}else x=Fe,x=Xs(m,m===pt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Ml(m,x)||(c=!0,Nj(m,x));m=m.next}while(c);tg=!1}}function N3(){wj()}function wj(){Rd=eg=!1;var a=0;xi!==0&&I3()&&(a=xi);for(var o=Ye(),c=null,m=Md;m!==null;){var y=m.next,x=jj(m,o);x===0?(m.next=null,c===null?Md=y:c.next=y,y===null&&(ko=c)):(c=m,(a!==0||(x&3)!==0)&&(Rd=!0)),m=y}Zt!==0&&Zt!==5||mc(a),xi!==0&&(xi=0)}function jj(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var E=31-vt(x),P=1<<E,U=y[E];U===-1?((P&c)===0||(P&m)!==0)&&(y[E]=JR(P,o)):U<=o&&(a.expiredLanes|=P),x&=~P}if(o=pt,c=Fe,c=Xs(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(st===2||st===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ge(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Ml(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Ge(m),gm(c)){case 2:case 8:c=ni;break;case 32:c=de;break;case 268435456:c=Oe;break;default:c=de}return m=Sj.bind(null,a),c=Xe(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Ge(m),a.callbackPriority=2,a.callbackNode=null,2}function Sj(a,o){if(Zt!==0&&Zt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Pd()&&a.callbackNode!==c)return null;var m=Fe;return m=Xs(a,a===pt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(ij(a,m,o),jj(a,Ye()),a.callbackNode!=null&&a.callbackNode===c?Sj.bind(null,a):null)}function Nj(a,o){if(Pd())return null;ij(a,o,!0)}function E3(){U3(function(){(at&6)!==0?Xe(pa,N3):wj()})}function ng(){if(xi===0){var a=go;a===0&&(a=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),xi=a}return xi}function Ej(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qu(""+a)}function Oj(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function O3(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var x=Ej((y[In]||null).action),E=m.submitter;E&&(o=(o=E[In]||null)?Ej(o.formAction):E.getAttribute("formAction"),o!==null&&(x=o,E=null));var P=new Gu("action","action",null,m,y);a.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(xi!==0){var U=E?Oj(y,E):new FormData(y);wp(c,{pending:!0,data:U,method:y.method,action:x},null,U)}}else typeof x=="function"&&(P.preventDefault(),U=E?Oj(y,E):new FormData(y),wp(c,{pending:!0,data:U,method:y.method,action:x},x,U))},currentTarget:y}]})}}for(var rg=0;rg<$m.length;rg++){var ag=$m[rg],A3=ag.toLowerCase(),C3=ag[0].toUpperCase()+ag.slice(1);Lr(A3,"on"+C3)}Lr(aw,"onAnimationEnd"),Lr(iw,"onAnimationIteration"),Lr(sw,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(KD,"onTransitionRun"),Lr(GD,"onTransitionStart"),Lr(YD,"onTransitionCancel"),Lr(ow,"onTransitionEnd"),to("onMouseEnter",["mouseout","mouseover"]),to("onMouseLeave",["mouseout","mouseover"]),to("onPointerEnter",["pointerout","pointerover"]),to("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function Aj(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var E=m.length-1;0<=E;E--){var P=m[E],U=P.instance,J=P.currentTarget;if(P=P.listener,U!==x&&y.isPropagationStopped())break e;x=P,y.currentTarget=J;try{x(y)}catch(se){Wu(se)}y.currentTarget=null,x=U}else for(E=0;E<m.length;E++){if(P=m[E],U=P.instance,J=P.currentTarget,P=P.listener,U!==x&&y.isPropagationStopped())break e;x=P,y.currentTarget=J;try{x(y)}catch(se){Wu(se)}y.currentTarget=null,x=U}}}}function Be(a,o){var c=o[vm];c===void 0&&(c=o[vm]=new Set);var m=a+"__bubble";c.has(m)||(Cj(o,a,2,!1),c.add(m))}function ig(a,o,c){var m=0;o&&(m|=4),Cj(c,a,m,o)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function sg(a){if(!a[Dd]){a[Dd]=!0,w_.forEach(function(c){c!=="selectionchange"&&(T3.has(c)||ig(c,!1,a),ig(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Dd]||(o[Dd]=!0,ig("selectionchange",!1,o))}}function Cj(a,o,c,m){switch(aS(o)){case 2:var y=a4;break;case 8:y=i4;break;default:y=_g}c=y.bind(null,o,c,a),y=void 0,!Em||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function og(a,o,c,m,y){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var P=m.stateNode.containerInfo;if(P===y)break;if(E===4)for(E=m.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;P!==null;){if(E=Js(P),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){m=x=E;continue e}P=P.parentNode}}m=m.return}R_(function(){var J=x,se=Sm(c),le=[];e:{var Z=lw.get(a);if(Z!==void 0){var ne=Gu,be=a;switch(a){case"keypress":if(Fu(c)===0)break e;case"keydown":case"keyup":ne=jD;break;case"focusin":be="focus",ne=Tm;break;case"focusout":be="blur",ne=Tm;break;case"beforeblur":case"afterblur":ne=Tm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=L_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=dD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=ED;break;case aw:case iw:case sw:ne=mD;break;case ow:ne=AD;break;case"scroll":case"scrollend":ne=cD;break;case"wheel":ne=TD;break;case"copy":case"cut":case"paste":ne=gD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=$_;break;case"toggle":case"beforetoggle":ne=PD}var Te=(o&4)!==0,ht=!Te&&(a==="scroll"||a==="scrollend"),G=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var B=J,Q;B!==null;){var oe=B;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||G===null||(oe=Ll(B,G),oe!=null&&Te.push(gc(B,oe,Q))),ht)break;B=B.return}0<Te.length&&(Z=new ne(Z,be,null,c,se),le.push({event:Z,listeners:Te}))}}if((o&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",Z&&c!==jm&&(be=c.relatedTarget||c.fromElement)&&(Js(be)||be[Qs]))break e;if((ne||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(be=c.relatedTarget||c.toElement,ne=J,be=be?Js(be):null,be!==null&&(ht=s(be),Te=be.tag,be!==ht||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(ne=null,be=J),ne!==be)){if(Te=L_,oe="onMouseLeave",G="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(Te=$_,oe="onPointerLeave",G="onPointerEnter",B="pointer"),ht=ne==null?Z:Il(ne),Q=be==null?Z:Il(be),Z=new Te(oe,B+"leave",ne,c,se),Z.target=ht,Z.relatedTarget=Q,oe=null,Js(se)===J&&(Te=new Te(G,B+"enter",be,c,se),Te.target=Q,Te.relatedTarget=ht,oe=Te),ht=oe,ne&&be)t:{for(Te=k3,G=ne,B=be,Q=0,oe=G;oe;oe=Te(oe))Q++;oe=0;for(var Ne=B;Ne;Ne=Te(Ne))oe++;for(;0<Q-oe;)G=Te(G),Q--;for(;0<oe-Q;)B=Te(B),oe--;for(;Q--;){if(G===B||B!==null&&G===B.alternate){Te=G;break t}G=Te(G),B=Te(B)}Te=null}else Te=null;ne!==null&&Tj(le,Z,ne,Te,!1),be!==null&&ht!==null&&Tj(le,ht,be,Te,!0)}}e:{if(Z=J?Il(J):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var Ze=Y_;else if(K_(Z))if(V_)Ze=qD;else{Ze=zD;var _e=$D}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&wm(J.elementType)&&(Ze=Y_):Ze=BD;if(Ze&&(Ze=Ze(a,J))){G_(le,Ze,c,se);break e}_e&&_e(a,Z,J),a==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&_m(Z,"number",Z.value)}switch(_e=J?Il(J):window,a){case"focusin":(K_(_e)||_e.contentEditable==="true")&&(oo=_e,Im=J,Kl=null);break;case"focusout":Kl=Im=oo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,nw(le,c,se);break;case"selectionchange":if(FD)break;case"keydown":case"keyup":nw(le,c,se)}var Ue;if(Pm)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else so?H_(a,c)&&(Ke="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(z_&&c.locale!=="ko"&&(so||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&so&&(Ue=D_()):(ai=se,Om="value"in ai?ai.value:ai.textContent,so=!0)),_e=Id(J,Ke),0<_e.length&&(Ke=new U_(Ke,a,null,c,se),le.push({event:Ke,listeners:_e}),Ue?Ke.data=Ue:(Ue=F_(c),Ue!==null&&(Ke.data=Ue)))),(Ue=RD?DD(a,c):ID(a,c))&&(Ke=Id(J,"onBeforeInput"),0<Ke.length&&(_e=new U_("onBeforeInput","beforeinput",null,c,se),le.push({event:_e,listeners:Ke}),_e.data=Ue)),O3(le,a,J,c,se)}Aj(le,o)})}function gc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Id(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Ll(a,c),y!=null&&m.unshift(gc(a,y,x)),y=Ll(a,o),y!=null&&m.push(gc(a,y,x))),a.tag===3)return m;a=a.return}return[]}function k3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Tj(a,o,c,m,y){for(var x=o._reactName,E=[];c!==null&&c!==m;){var P=c,U=P.alternate,J=P.stateNode;if(P=P.tag,U!==null&&U===m)break;P!==5&&P!==26&&P!==27||J===null||(U=J,y?(J=Ll(c,x),J!=null&&E.unshift(gc(c,J,U))):y||(J=Ll(c,x),J!=null&&E.push(gc(c,J,U)))),c=c.return}E.length!==0&&a.push({event:o,listeners:E})}var P3=/\r\n?/g,M3=/\u0000|\uFFFD/g;function kj(a){return(typeof a=="string"?a:""+a).replace(P3,`
`).replace(M3,"")}function Pj(a,o){return o=kj(o),kj(a)===o}function ft(a,o,c,m,y,x){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ro(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ro(a,""+m);break;case"className":zu(a,"class",m);break;case"tabIndex":zu(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":zu(a,c,m);break;case"style":P_(a,m,x);break;case"data":if(o!=="object"){zu(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=qu(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&ft(a,o,"name",y.name,y,null),ft(a,o,"formEncType",y.formEncType,y,null),ft(a,o,"formMethod",y.formMethod,y,null),ft(a,o,"formTarget",y.formTarget,y,null)):(ft(a,o,"encType",y.encType,y,null),ft(a,o,"method",y.method,y,null),ft(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=qu(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=va);break;case"onScroll":m!=null&&Be("scroll",a);break;case"onScrollEnd":m!=null&&Be("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=qu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":Be("beforetoggle",a),Be("toggle",a),$u(a,"popover",m);break;case"xlinkActuate":ga(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ga(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ga(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ga(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ga(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ga(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ga(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ga(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ga(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$u(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=oD.get(c)||c,$u(a,c,m))}}function lg(a,o,c,m,y,x){switch(c){case"style":P_(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?ro(a,m):(typeof m=="number"||typeof m=="bigint")&&ro(a,""+m);break;case"onScroll":m!=null&&Be("scroll",a);break;case"onScrollEnd":m!=null&&Be("scrollend",a);break;case"onClick":m!=null&&(a.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!j_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[In]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof m=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):$u(a,c,m)}}}function _n(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",a),Be("load",a);var m=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var E=c[x];if(E!=null)switch(x){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ft(a,o,x,E,c,null)}}y&&ft(a,o,"srcSet",c.srcSet,c,null),m&&ft(a,o,"src",c.src,c,null);return;case"input":Be("invalid",a);var P=x=E=y=null,U=null,J=null;for(m in c)if(c.hasOwnProperty(m)){var se=c[m];if(se!=null)switch(m){case"name":y=se;break;case"type":E=se;break;case"checked":U=se;break;case"defaultChecked":J=se;break;case"value":x=se;break;case"defaultValue":P=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:ft(a,o,m,se,c,null)}}A_(a,x,P,U,J,E,y,!1);return;case"select":Be("invalid",a),m=E=x=null;for(y in c)if(c.hasOwnProperty(y)&&(P=c[y],P!=null))switch(y){case"value":x=P;break;case"defaultValue":E=P;break;case"multiple":m=P;default:ft(a,o,y,P,c,null)}o=x,c=E,a.multiple=!!m,o!=null?no(a,!!m,o,!1):c!=null&&no(a,!!m,c,!0);return;case"textarea":Be("invalid",a),x=y=m=null;for(E in c)if(c.hasOwnProperty(E)&&(P=c[E],P!=null))switch(E){case"value":m=P;break;case"defaultValue":y=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:ft(a,o,E,P,c,null)}T_(a,m,y,x);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(m=c[U],m!=null))switch(U){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ft(a,o,U,m,c,null)}return;case"dialog":Be("beforetoggle",a),Be("toggle",a),Be("cancel",a),Be("close",a);break;case"iframe":case"object":Be("load",a);break;case"video":case"audio":for(m=0;m<pc.length;m++)Be(pc[m],a);break;case"image":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"embed":case"source":case"link":Be("error",a),Be("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(m=c[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ft(a,o,J,m,c,null)}return;default:if(wm(o)){for(se in c)c.hasOwnProperty(se)&&(m=c[se],m!==void 0&&lg(a,o,se,m,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(m=c[P],m!=null&&ft(a,o,P,m,c,null))}function R3(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,E=null,P=null,U=null,J=null,se=null;for(ne in c){var le=c[ne];if(c.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=le;default:m.hasOwnProperty(ne)||ft(a,o,ne,null,m,le)}}for(var Z in m){var ne=m[Z];if(le=c[Z],m.hasOwnProperty(Z)&&(ne!=null||le!=null))switch(Z){case"type":x=ne;break;case"name":y=ne;break;case"checked":J=ne;break;case"defaultChecked":se=ne;break;case"value":E=ne;break;case"defaultValue":P=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:ne!==le&&ft(a,o,Z,ne,m,le)}}xm(a,E,P,U,J,se,x,y);return;case"select":ne=E=P=Z=null;for(x in c)if(U=c[x],c.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":ne=U;default:m.hasOwnProperty(x)||ft(a,o,x,null,m,U)}for(y in m)if(x=m[y],U=c[y],m.hasOwnProperty(y)&&(x!=null||U!=null))switch(y){case"value":Z=x;break;case"defaultValue":P=x;break;case"multiple":E=x;default:x!==U&&ft(a,o,y,x,m,U)}o=P,c=E,m=ne,Z!=null?no(a,!!c,Z,!1):!!m!=!!c&&(o!=null?no(a,!!c,o,!0):no(a,!!c,c?[]:"",!1));return;case"textarea":ne=Z=null;for(P in c)if(y=c[P],c.hasOwnProperty(P)&&y!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ft(a,o,P,null,m,y)}for(E in m)if(y=m[E],x=c[E],m.hasOwnProperty(E)&&(y!=null||x!=null))switch(E){case"value":Z=y;break;case"defaultValue":ne=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&ft(a,o,E,y,m,x)}C_(a,Z,ne);return;case"option":for(var be in c)if(Z=c[be],c.hasOwnProperty(be)&&Z!=null&&!m.hasOwnProperty(be))switch(be){case"selected":a.selected=!1;break;default:ft(a,o,be,null,m,Z)}for(U in m)if(Z=m[U],ne=c[U],m.hasOwnProperty(U)&&Z!==ne&&(Z!=null||ne!=null))switch(U){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ft(a,o,U,Z,m,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in c)Z=c[Te],c.hasOwnProperty(Te)&&Z!=null&&!m.hasOwnProperty(Te)&&ft(a,o,Te,null,m,Z);for(J in m)if(Z=m[J],ne=c[J],m.hasOwnProperty(J)&&Z!==ne&&(Z!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,o));break;default:ft(a,o,J,Z,m,ne)}return;default:if(wm(o)){for(var ht in c)Z=c[ht],c.hasOwnProperty(ht)&&Z!==void 0&&!m.hasOwnProperty(ht)&&lg(a,o,ht,void 0,m,Z);for(se in m)Z=m[se],ne=c[se],!m.hasOwnProperty(se)||Z===ne||Z===void 0&&ne===void 0||lg(a,o,se,Z,m,ne);return}}for(var G in c)Z=c[G],c.hasOwnProperty(G)&&Z!=null&&!m.hasOwnProperty(G)&&ft(a,o,G,null,m,Z);for(le in m)Z=m[le],ne=c[le],!m.hasOwnProperty(le)||Z===ne||Z==null&&ne==null||ft(a,o,le,Z,m,ne)}function Mj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],x=y.transferSize,E=y.initiatorType,P=y.duration;if(x&&P&&Mj(E)){for(E=0,P=y.responseEnd,m+=1;m<c.length;m++){var U=c[m],J=U.startTime;if(J>P)break;var se=U.transferSize,le=U.initiatorType;se&&Mj(le)&&(U=U.responseEnd,E+=se*(U<P?1:(P-J)/(U-J)))}if(--m,o+=8*(x+E)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var cg=null,ug=null;function Ld(a){return a.nodeType===9?a:a.ownerDocument}function Rj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dj(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function dg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fg=null;function I3(){var a=window.event;return a&&a.type==="popstate"?a===fg?!1:(fg=a,!0):(fg=null,!1)}var Ij=typeof setTimeout=="function"?setTimeout:void 0,L3=typeof clearTimeout=="function"?clearTimeout:void 0,Lj=typeof Promise=="function"?Promise:void 0,U3=typeof queueMicrotask=="function"?queueMicrotask:typeof Lj<"u"?function(a){return Lj.resolve(null).then(a).catch($3)}:Ij;function $3(a){setTimeout(function(){throw a})}function _i(a){return a==="head"}function Uj(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),Do(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")vc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,vc(c);for(var x=c.firstChild;x;){var E=x.nextSibling,P=x.nodeName;x[Dl]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=E}}else c==="body"&&vc(a.ownerDocument.body);c=y}while(c);Do(o)}function $j(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function hg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":hg(c),ym(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function z3(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Dl])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=wr(a.nextSibling),a===null)break}return null}function B3(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=wr(a.nextSibling),a===null))return null;return a}function zj(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wr(a.nextSibling),a===null))return null;return a}function mg(a){return a.data==="$?"||a.data==="$~"}function pg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function q3(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function wr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var gg=null;function Bj(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return wr(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function qj(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function Hj(a,o,c){switch(o=Ld(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function vc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ym(a)}var jr=new Map,Fj=new Set;function Ud(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ma=Y.d;Y.d={f:H3,r:F3,D:K3,C:G3,L:Y3,m:V3,X:X3,S:W3,M:Q3};function H3(){var a=Ma.f(),o=Cd();return a||o}function F3(a){var o=Zs(a);o!==null&&o.tag===5&&o.type==="form"?o1(o):Ma.r(a)}var Po=typeof document>"u"?null:document;function Kj(a,o,c){var m=Po;if(m&&typeof o=="string"&&o){var y=pr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Fj.has(y)||(Fj.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),_n(o,"link",a),cn(o),m.head.appendChild(o)))}}function K3(a){Ma.D(a),Kj("dns-prefetch",a,null)}function G3(a,o){Ma.C(a,o),Kj("preconnect",a,o)}function Y3(a,o,c){Ma.L(a,o,c);var m=Po;if(m&&a&&o){var y='link[rel="preload"][as="'+pr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+pr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+pr(c.imageSizes)+'"]')):y+='[href="'+pr(a)+'"]';var x=y;switch(o){case"style":x=Mo(a);break;case"script":x=Ro(a)}jr.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),jr.set(x,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(yc(x))||o==="script"&&m.querySelector(bc(x))||(o=m.createElement("link"),_n(o,"link",a),cn(o),m.head.appendChild(o)))}}function V3(a,o){Ma.m(a,o);var c=Po;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+pr(m)+'"][href="'+pr(a)+'"]',x=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ro(a)}if(!jr.has(x)&&(a=g({rel:"modulepreload",href:a},o),jr.set(x,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(x)))return}m=c.createElement("link"),_n(m,"link",a),cn(m),c.head.appendChild(m)}}}function W3(a,o,c){Ma.S(a,o,c);var m=Po;if(m&&a){var y=eo(m).hoistableStyles,x=Mo(a);o=o||"default";var E=y.get(x);if(!E){var P={loading:0,preload:null};if(E=m.querySelector(yc(x)))P.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=jr.get(x))&&vg(a,c);var U=E=m.createElement("link");cn(U),_n(U,"link",a),U._p=new Promise(function(J,se){U.onload=J,U.onerror=se}),U.addEventListener("load",function(){P.loading|=1}),U.addEventListener("error",function(){P.loading|=2}),P.loading|=4,$d(E,o,m)}E={type:"stylesheet",instance:E,count:1,state:P},y.set(x,E)}}}function X3(a,o){Ma.X(a,o);var c=Po;if(c&&a){var m=eo(c).hoistableScripts,y=Ro(a),x=m.get(y);x||(x=c.querySelector(bc(y)),x||(a=g({src:a,async:!0},o),(o=jr.get(y))&&yg(a,o),x=c.createElement("script"),cn(x),_n(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function Q3(a,o){Ma.M(a,o);var c=Po;if(c&&a){var m=eo(c).hoistableScripts,y=Ro(a),x=m.get(y);x||(x=c.querySelector(bc(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=jr.get(y))&&yg(a,o),x=c.createElement("script"),cn(x),_n(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function Gj(a,o,c,m){var y=(y=fe.current)?Ud(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Mo(c.href),c=eo(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Mo(c.href);var x=eo(y).hoistableStyles,E=x.get(a);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,E),(x=y.querySelector(yc(a)))&&!x._p&&(E.instance=x,E.state.loading=5),jr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},jr.set(a,c),x||J3(y,a,c,E.state))),o&&m===null)throw Error(r(528,""));return E}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ro(c),c=eo(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Mo(a){return'href="'+pr(a)+'"'}function yc(a){return'link[rel="stylesheet"]['+a+"]"}function Yj(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function J3(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),_n(o,"link",c),cn(o),a.head.appendChild(o))}function Ro(a){return'[src="'+pr(a)+'"]'}function bc(a){return"script[async]"+a}function Vj(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+pr(c.href)+'"]');if(m)return o.instance=m,cn(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),cn(m),_n(m,"style",y),$d(m,c.precedence,a),o.instance=m;case"stylesheet":y=Mo(c.href);var x=a.querySelector(yc(y));if(x)return o.state.loading|=4,o.instance=x,cn(x),x;m=Yj(c),(y=jr.get(y))&&vg(m,y),x=(a.ownerDocument||a).createElement("link"),cn(x);var E=x;return E._p=new Promise(function(P,U){E.onload=P,E.onerror=U}),_n(x,"link",m),o.state.loading|=4,$d(x,c.precedence,a),o.instance=x;case"script":return x=Ro(c.src),(y=a.querySelector(bc(x)))?(o.instance=y,cn(y),y):(m=c,(y=jr.get(x))&&(m=g({},c),yg(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),cn(y),_n(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,$d(m,c.precedence,a));return o.instance}function $d(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,x=y,E=0;E<m.length;E++){var P=m[E];if(P.dataset.precedence===o)x=P;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function vg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function yg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var zd=null;function Wj(a,o,c){if(zd===null){var m=new Map,y=zd=new Map;y.set(c,m)}else y=zd,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[Dl]||x[vn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(o)||"";E=a+E;var P=m.get(E);P?P.push(x):m.set(E,[x])}}return m}function Xj(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function Z3(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Qj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function e4(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Mo(m.href),x=o.querySelector(yc(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Bd.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,cn(x);return}x=o.ownerDocument||o,m=Yj(m),(y=jr.get(y))&&vg(m,y),x=x.createElement("link"),cn(x);var E=x;E._p=new Promise(function(P,U){E.onload=P,E.onerror=U}),_n(x,"link",m),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Bd.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var bg=0;function t4(a,o){return a.stylesheets&&a.count===0&&Hd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Hd(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&bg===0&&(bg=62500*D3());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Hd(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>bg?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var qd=null;function Hd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,qd=new Map,o.forEach(n4,a),qd=null,Bd.call(a))}function n4(a,o){if(!(o.state.loading&4)){var c=qd.get(a);if(c)var m=c.get(null);else{c=new Map,qd.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var E=y[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),m=E)}m&&c.set(null,m)}y=o.instance,E=y.getAttribute("data-precedence"),x=c.get(E)||m,x===m&&c.set(null,y),c.set(E,y),this.count++,m=Bd.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var xc={$$typeof:A,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function r4(a,o,c,m,y,x,E,P,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.hiddenUpdates=mm(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Jj(a,o,c,m,y,x,E,P,U,J,se,le){return a=new r4(a,o,c,E,U,J,se,le,P),o=1,x===!0&&(o|=24),x=Jn(3,null,null,o),a.current=x,x.stateNode=a,o=Jm(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:c,cache:o},np(x),a}function Zj(a){return a?(a=uo,a):uo}function eS(a,o,c,m,y,x){y=Zj(y),m.context===null?m.context=y:m.pendingContext=y,m=ui(o),m.payload={element:c},x=x===void 0?null:x,x!==null&&(m.callback=x),c=di(a,m,o),c!==null&&(qn(c,a,o),Jl(c,a,o))}function tS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function xg(a,o){tS(a,o),(a=a.alternate)&&tS(a,o)}function nS(a){if(a.tag===13||a.tag===31){var o=Qi(a,67108864);o!==null&&qn(o,a,67108864),xg(a,67108864)}}function rS(a){if(a.tag===13||a.tag===31){var o=rr();o=pm(o);var c=Qi(a,o);c!==null&&qn(c,a,o),xg(a,o)}}var Fd=!0;function a4(a,o,c,m){var y=I.T;I.T=null;var x=Y.p;try{Y.p=2,_g(a,o,c,m)}finally{Y.p=x,I.T=y}}function i4(a,o,c,m){var y=I.T;I.T=null;var x=Y.p;try{Y.p=8,_g(a,o,c,m)}finally{Y.p=x,I.T=y}}function _g(a,o,c,m){if(Fd){var y=wg(m);if(y===null)og(a,o,m,Kd,c),iS(a,m);else if(o4(y,a,o,c,m))m.stopPropagation();else if(iS(a,m),o&4&&-1<s4.indexOf(a)){for(;y!==null;){var x=Zs(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Ft(x.pendingLanes);if(E!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;E;){var U=1<<31-vt(E);P.entanglements[1]|=U,E&=~U}ta(x),(at&6)===0&&(Od=Ye()+500,mc(0))}}break;case 31:case 13:P=Qi(x,2),P!==null&&qn(P,x,2),Cd(),xg(x,2)}if(x=wg(m),x===null&&og(a,o,m,Kd,c),x===y)break;y=x}y!==null&&m.stopPropagation()}else og(a,o,m,null,c)}}function wg(a){return a=Sm(a),jg(a)}var Kd=null;function jg(a){if(Kd=null,a=Js(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=d(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Kd=a,null}function aS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case pa:return 2;case ni:return 8;case de:case me:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var Sg=!1,wi=null,ji=null,Si=null,_c=new Map,wc=new Map,Ni=[],s4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iS(a,o){switch(a){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":_c.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(o.pointerId)}}function jc(a,o,c,m,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},o!==null&&(o=Zs(o),o!==null&&nS(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function o4(a,o,c,m,y){switch(o){case"focusin":return wi=jc(wi,a,o,c,m,y),!0;case"dragenter":return ji=jc(ji,a,o,c,m,y),!0;case"mouseover":return Si=jc(Si,a,o,c,m,y),!0;case"pointerover":var x=y.pointerId;return _c.set(x,jc(_c.get(x)||null,a,o,c,m,y)),!0;case"gotpointercapture":return x=y.pointerId,wc.set(x,jc(wc.get(x)||null,a,o,c,m,y)),!0}return!1}function sS(a){var o=Js(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,x_(a.priority,function(){rS(c)});return}}else if(o===31){if(o=d(c),o!==null){a.blockedOn=o,x_(a.priority,function(){rS(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=wg(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);jm=m,c.target.dispatchEvent(m),jm=null}else return o=Zs(c),o!==null&&nS(o),a.blockedOn=c,!1;o.shift()}return!0}function oS(a,o,c){Gd(a)&&c.delete(o)}function l4(){Sg=!1,wi!==null&&Gd(wi)&&(wi=null),ji!==null&&Gd(ji)&&(ji=null),Si!==null&&Gd(Si)&&(Si=null),_c.forEach(oS),wc.forEach(oS)}function Yd(a,o){a.blockedOn===o&&(a.blockedOn=null,Sg||(Sg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,l4)))}var Vd=null;function lS(a){Vd!==a&&(Vd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vd===a&&(Vd=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(jg(m||c)===null)continue;break}var x=Zs(c);x!==null&&(a.splice(o,3),o-=3,wp(x,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function Do(a){function o(U){return Yd(U,a)}wi!==null&&Yd(wi,a),ji!==null&&Yd(ji,a),Si!==null&&Yd(Si,a),_c.forEach(o),wc.forEach(o);for(var c=0;c<Ni.length;c++){var m=Ni[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ni.length&&(c=Ni[0],c.blockedOn===null);)sS(c),c.blockedOn===null&&Ni.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],x=c[m+1],E=y[In]||null;if(typeof x=="function")E||lS(c);else if(E){var P=null;if(x&&x.hasAttribute("formAction")){if(y=x,E=x[In]||null)P=E.formAction;else if(jg(y)!==null)continue}else P=E.action;typeof P=="function"?c[m+1]=P:(c.splice(m,3),m-=3),lS(c)}}}function cS(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Ng(a){this._internalRoot=a}Wd.prototype.render=Ng.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=rr();eS(c,m,a,o,null,null)},Wd.prototype.unmount=Ng.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;eS(a.current,2,null,a,null,null),Cd(),o[Qs]=null}};function Wd(a){this._internalRoot=a}Wd.prototype.unstable_scheduleHydration=function(a){if(a){var o=b_();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Ni.length&&o!==0&&o<Ni[c].priority;c++);Ni.splice(c,0,a),c===0&&sS(a)}};var uS=t.version;if(uS!=="19.2.0")throw Error(r(527,uS,"19.2.0"));Y.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var c4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Pt=Xd.inject(c4),De=Xd}catch{}}return Nc.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=v1,x=y1,E=b1;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=Jj(a,1,!1,null,null,c,m,null,y,x,E,cS),a[Qs]=o.current,sg(a),new Ng(o)},Nc.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",x=v1,E=y1,P=b1,U=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),o=Jj(a,1,!0,o,c??null,m,y,U,x,E,P,cS),o.context=Zj(null),c=o.current,m=rr(),m=pm(m),y=ui(m),y.callback=null,di(c,y,m),c=m,o.current.lanes=c,Rl(o,c),ta(o),a[Qs]=o.current,sg(a),new Wd(o)},Nc.version="19.2.0",Nc}var xS;function j4(){if(xS)return Cg.exports;xS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cg.exports=w4(),Cg.exports}var S4=j4();const N4=Wr(S4);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _S="popstate";function E4(e={}){function t(r,i){let{pathname:s,search:l,hash:d}=r.location;return Ny("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wc(i)}return A4(t,n,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O4(){return Math.random().toString(36).substring(2,10)}function wS(e,t){return{usr:e.state,key:e.key,idx:t}}function Ny(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bl(t):t,state:n,key:t&&t.key||r||O4()}}function Wc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),O=S==null?null:S-h;h=S,f&&f({action:d,location:j.location,delta:O})}function v(S,O){d="PUSH";let N=Ny(j.location,S,O);h=p()+1;let A=wS(N,h),C=j.createHref(N);try{l.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}s&&f&&f({action:d,location:j.location,delta:1})}function _(S,O){d="REPLACE";let N=Ny(j.location,S,O);h=p();let A=wS(N,h),C=j.createHref(N);l.replaceState(A,"",C),s&&f&&f({action:d,location:j.location,delta:0})}function w(S){return C4(S)}let j={get action(){return d},get location(){return e(i,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(_S,g),f=S,()=>{i.removeEventListener(_S,g),f=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let O=w(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:_,go(S){return l.go(S)}};return j}function C4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Wc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function TA(e,t,n="/"){return T4(e,t,n,!1)}function T4(e,t,n,r){let i=typeof t=="string"?bl(t):t,s=Fa(i.pathname||"/",n);if(s==null)return null;let l=kA(e);k4(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=q4(s);d=z4(l[f],h,r)}return d}function kA(e,t=[],n=[],r="",i=!1){let s=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;Et(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=za([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kA(l.children,t,v,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:U4(g,l.index),routesMeta:v})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of PA(l.path))s(l,d,!0,h)}),t}function PA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=PA(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function k4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var P4=/^:[\w-]+$/,M4=3,R4=2,D4=1,I4=10,L4=-2,jS=e=>e==="*";function U4(e,t){let n=e.split("/"),r=n.length;return n.some(jS)&&(r+=L4),t&&(r+=R4),n.filter(i=>!jS(i)).reduce((i,s)=>i+(P4.test(s)?M4:s===""?D4:I4),r)}function $4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function z4(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=Rf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Rf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:za([s,g.pathname]),pathnameBase:G4(za([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=za([s,g.pathnameBase]))}return l}function Rf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=d[v]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=d[v];return g&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function B4(e,t=!1,n=!0){Vr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function q4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function H4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bl(e):e;return{pathname:n?n.startsWith("/")?n:F4(n,t):t,search:Y4(r),hash:V4(i)}}function F4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function z0(e){let t=K4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function B0(e,t,n,r=!1){let i;typeof e=="string"?i=bl(e):(i={...e},Et(!i.pathname||!i.pathname.includes("?"),Mg("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),Mg("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),Mg("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?t[g]:"/"}let f=H4(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var za=e=>e.join("/").replace(/\/\/+/g,"/"),G4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var MA=["POST","PUT","PATCH","DELETE"];new Set(MA);var X4=["GET",...MA];new Set(X4);var xl=b.createContext(null);xl.displayName="DataRouter";var Ah=b.createContext(null);Ah.displayName="DataRouterState";b.createContext(!1);var RA=b.createContext({isTransitioning:!1});RA.displayName="ViewTransition";var Q4=b.createContext(new Map);Q4.displayName="Fetchers";var J4=b.createContext(null);J4.displayName="Await";var Xr=b.createContext(null);Xr.displayName="Navigation";var hu=b.createContext(null);hu.displayName="Location";var Pr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var q0=b.createContext(null);q0.displayName="RouteError";function Z4(e,{relative:t}={}){Et(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Xr),{hash:i,pathname:s,search:l}=mu(e,{relative:t}),d=s;return n!=="/"&&(d=s==="/"?n:za([n,s])),r.createHref({pathname:d,search:l,hash:i})}function _l(){return b.useContext(hu)!=null}function Bi(){return Et(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(hu).location}var DA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IA(e){b.useContext(Xr).static||b.useLayoutEffect(e)}function ha(){let{isDataRoute:e}=b.useContext(Pr);return e?pI():eI()}function eI(){Et(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(xl),{basename:t,navigator:n}=b.useContext(Xr),{matches:r}=b.useContext(Pr),{pathname:i}=Bi(),s=JSON.stringify(z0(r)),l=b.useRef(!1);return IA(()=>{l.current=!0}),b.useCallback((f,h={})=>{if(Vr(l.current,DA),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=B0(f,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:za([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}var tI=b.createContext(null);function nI(e){let t=b.useContext(Pr).outlet;return b.useMemo(()=>t&&b.createElement(tI.Provider,{value:e},t),[t,e])}function rI(){let{matches:e}=b.useContext(Pr),t=e[e.length-1];return t?t.params:{}}function mu(e,{relative:t}={}){let{matches:n}=b.useContext(Pr),{pathname:r}=Bi(),i=JSON.stringify(z0(n));return b.useMemo(()=>B0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function aI(e,t){return LA(e,t)}function LA(e,t,n,r,i){var N;Et(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Xr),{matches:l}=b.useContext(Pr),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";UA(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Bi(),_;if(t){let A=typeof t=="string"?bl(t):t;Et(p==="/"||((N=A.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=v;let w=_.pathname||"/",j=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=TA(e,{pathname:j});Vr(g||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Vr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=cI(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:za([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:za([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,n,r,i);return t&&O?b.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function iI(){let e=mI(),t=W4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,l)}var sI=b.createElement(iI,null),oI=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Pr.Provider,{value:this.props.routeContext},b.createElement(q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lI({routeContext:e,match:t,children:n}){let r=b.useContext(xl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Pr.Provider,{value:e},n)}function cI(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Et(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let v,_=!1,w=null,j=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||sI,d&&(f<0&&g===0?(UA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,j=null):f===g&&(_=!0,j=p.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,g+1)),O=()=>{let N;return v?N=w:_?N=j:p.route.Component?N=b.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,b.createElement(lI,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(oI,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:O(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):O()},null)}function H0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uI(e){let t=b.useContext(xl);return Et(t,H0(e)),t}function dI(e){let t=b.useContext(Ah);return Et(t,H0(e)),t}function fI(e){let t=b.useContext(Pr);return Et(t,H0(e)),t}function F0(e){let t=fI(e),n=t.matches[t.matches.length-1];return Et(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hI(){return F0("useRouteId")}function mI(){var r;let e=b.useContext(q0),t=dI("useRouteError"),n=F0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function pI(){let{router:e}=uI("useNavigate"),t=F0("useNavigate"),n=b.useRef(!1);return IA(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{Vr(n.current,DA),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var SS={};function UA(e,t,n){!t&&!SS[e]&&(SS[e]=!0,Vr(!1,n))}b.memo(gI);function gI({routes:e,future:t,state:n,unstable_onError:r}){return LA(e,void 0,n,r,t)}function Df({to:e,replace:t,state:n,relative:r}){Et(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Xr);Vr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Pr),{pathname:l}=Bi(),d=ha(),f=B0(e,z0(s),l,r==="path"),h=JSON.stringify(f);return b.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function vI(e){return nI(e.context)}function En(e){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Et(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=bl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,_=b.useMemo(()=>{let w=Fa(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:v},navigationType:r}},[l,f,h,p,g,v,r]);return Vr(_!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:b.createElement(Xr.Provider,{value:d},b.createElement(hu.Provider,{children:t,value:_}))}function bI({children:e,location:t}){return aI(Ey(e),t)}function Ey(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,Ey(r.props.children,s));return}Et(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ey(r.props.children,s)),n.push(l)}),n}var Nf="get",Ef="application/x-www-form-urlencoded";function Ch(e){return e!=null&&typeof e.tagName=="string"}function xI(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function _I(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function wI(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function jI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SI(e,t){return e.button===0&&(!t||t==="_self")&&!jI(e)}var Qd=null;function NI(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var EI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(e){return e!=null&&!EI.has(e)?(Vr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):e}function OI(e,t){let n,r,i,s,l;if(_I(e)){let d=e.getAttribute("action");r=d?Fa(d,t):null,n=e.getAttribute("method")||Nf,i=Rg(e.getAttribute("enctype"))||Ef,s=new FormData(e)}else if(xI(e)||wI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Fa(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Nf,i=Rg(e.getAttribute("formenctype"))||Rg(d.getAttribute("enctype"))||Ef,s=new FormData(d,e),!NI()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nf,r=null,i=Ef,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function kI(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await CI(s,n);return l.links?l.links():[]}return[]}));return DI(r.flat(1).filter(TI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function NS(e,t,n,r,i,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PI(e,t,{includeHydrateFallback:n}={}){return MI(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function MI(e){return[...new Set(e)]}function RI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function DI(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(RI(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function $A(){let e=b.useContext(xl);return K0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function II(){let e=b.useContext(Ah);return K0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var G0=b.createContext(void 0);G0.displayName="FrameworkContext";function zA(){let e=b.useContext(G0);return K0(e,"You must render this element inside a <HydratedRouter> element"),e}function LI(e,t){let n=b.useContext(G0),[r,i]=b.useState(!1),[s,l]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let j=O=>{O.forEach(N=>{l(N.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),b.useEffect(()=>{if(r){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Ec(d,_),onBlur:Ec(f,w),onMouseEnter:Ec(h,_),onMouseLeave:Ec(p,w),onTouchStart:Ec(g,_)}]:[!1,v,{}]}function Ec(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function UI({page:e,...t}){let{router:n}=$A(),r=b.useMemo(()=>TA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(zI,{page:e,matches:r,...t}):null}function $I(e){let{manifest:t,routeModules:n}=zA(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return kI(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function zI({page:e,matches:t,...n}){let r=Bi(),{manifest:i,routeModules:s}=zA(),{basename:l}=$A(),{loaderData:d,matches:f}=II(),h=b.useMemo(()=>NS(e,t,f,i,r,"data"),[e,t,f,i,r]),p=b.useMemo(()=>NS(e,t,f,i,r,"assets"),[e,t,f,i,r]),g=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(O=>{var A;let N=i.routes[O.route.id];!N||!N.hasLoader||(!h.some(C=>C.route.id===O.route.id)&&O.route.id in d&&((A=s[O.route.id])!=null&&A.shouldRevalidate)||N.hasClientLoader?j=!0:w.add(O.route.id))}),w.size===0)return[];let S=AI(e,l,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[l,d,r,i,h,t,e,s]),v=b.useMemo(()=>PI(p,i),[p,i]),_=$I(p);return b.createElement(b.Fragment,null,g.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:j})=>b.createElement("link",{key:w,nonce:n.nonce,...j})))}function BI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var BA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BA&&(window.__reactRouterVersion="7.9.3")}catch{}function qI({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=E4({window:n,v5Compat:!0}));let i=r.current,[s,l]=b.useState({action:i.action,location:i.location}),d=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>i.listen(d),[i,d]),b.createElement(yI,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y0=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...v},_){let{basename:w}=b.useContext(Xr),j=typeof h=="string"&&qA.test(h),S,O=!1;if(typeof h=="string"&&j&&(S=h,BA))try{let q=new URL(window.location.href),$=h.startsWith("//")?new URL(q.protocol+h):new URL(h),F=Fa($.pathname,w);$.origin===q.origin&&F!=null?h=F+$.search+$.hash:O=!0}catch{Vr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Z4(h,{relative:i}),[A,C,T]=LI(r,v),k=KI(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function M(q){t&&t(q),q.defaultPrevented||k(q)}let D=b.createElement("a",{...v,...T,href:S||N,onClick:O||s?t:M,ref:BI(_,C),target:f,"data-discover":!j&&n==="render"?"true":void 0});return A&&!j?b.createElement(b.Fragment,null,D,b.createElement(UI,{page:N})):D});Y0.displayName="Link";var Oy=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=mu(l,{relative:h.relative}),v=Bi(),_=b.useContext(Ah),{navigator:w,basename:j}=b.useContext(Xr),S=_!=null&&XI(g)&&d===!0,O=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,N=v.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(N=N.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&j&&(A=Fa(A,j)||A);const C=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let T=N===O||!i&&N.startsWith(O)&&N.charAt(C)==="/",k=A!=null&&(A===O||!i&&A.startsWith(O)&&A.charAt(O.length)==="/"),M={isActive:T,isPending:k,isTransitioning:S},D=T?t:void 0,q;typeof r=="function"?q=r(M):q=[r,T?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(M):s;return b.createElement(Y0,{...h,"aria-current":D,className:q,ref:p,style:$,to:l,viewTransition:d},typeof f=="function"?f(M):f)});Oy.displayName="NavLink";var HI=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=Nf,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...v},_)=>{let w=VI(),j=WI(d,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&qA.test(d),N=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let C=A.nativeEvent.submitter,T=(C==null?void 0:C.getAttribute("formmethod"))||l;w(C||A.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return b.createElement("form",{ref:_,method:S,action:j,onSubmit:r?f:N,...v,"data-discover":!O&&e==="render"?"true":void 0})});HI.displayName="Form";function FI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HA(e){let t=b.useContext(xl);return Et(t,FI(e)),t}function KI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=ha(),f=Bi(),h=mu(e,{relative:s});return b.useCallback(p=>{if(SI(p,t)){p.preventDefault();let g=n!==void 0?n:Wc(f)===Wc(h);d(e,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[f,d,h,n,r,t,e,i,s,l])}var GI=0,YI=()=>`__${String(++GI)}__`;function VI(){let{router:e}=HA("useSubmit"),{basename:t}=b.useContext(Xr),n=hI();return b.useCallback(async(r,i={})=>{let{action:s,method:l,encType:d,formData:f,body:h}=OI(r,t);if(i.navigate===!1){let p=i.fetcherKey||YI();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function WI(e,{relative:t}={}){let{basename:n}=b.useContext(Xr),r=b.useContext(Pr);Et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...mu(e||".",{relative:t})},l=Bi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:za([n,s.pathname])),Wc(s)}function XI(e,{relative:t}={}){let n=b.useContext(RA);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=HA("useViewTransitionState"),i=mu(e,{relative:t});if(!n.isTransitioning)return!1;let s=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rf(i.pathname,l)!=null||Rf(i.pathname,s)!=null}var V0=CA();const Ay="active-customer-order",Cy="active-customer-order-id",QI=1440*60*1e3,JI=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},Xc=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(Ay),window.localStorage.removeItem(Cy);return}window.localStorage.setItem(Ay,JSON.stringify(e)),window.localStorage.removeItem(Cy)}catch(t){console.error("Failed to persist active order",t)}},il=()=>{if(typeof window>"u")return null;const e=JI(window.localStorage.getItem(Ay));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(Xc(null),null):e;const t=window.localStorage.getItem(Cy);if(t&&t.trim().length>0){const n={orderId:t};return Xc(n),n}return null},FA=(e,t)=>{if(!e){Xc(null);return}Xc(t?{orderId:e,expiresAt:t}:{orderId:e})},W0=()=>{Xc(null)},ZI="modulepreload",eL=function(e){return"/"+e},ES={},pu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(n.map(h=>{if(h=eL(h),h in ES)return;ES[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":ZI,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((_,w)=>{v.addEventListener("load",_),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},tL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class X0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class OS extends X0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AS extends X0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class CS extends X0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ty;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ty||(Ty={}));var nL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class rL{constructor(t,{headers:n={},customFetch:r,region:i=Ty.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=tL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nL(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:l,body:d,signal:f}=r;let h={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(h["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(h["Content-Type"]="application/json",v=JSON.stringify(d)));const _=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:f}).catch(O=>{throw O.name==="AbortError"?O:new OS(O)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new AS(_);if(!_.ok)throw new CS(_);let j=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield _.json():j==="application/octet-stream"?S=yield _.blob():j==="text/event-stream"?S=_:j==="multipart/form-data"?S=yield _.formData():S=yield _.text(),{data:S,error:null,response:_}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new OS(s)}:{data:null,error:s,response:s instanceof CS||s instanceof AS?s.context:void 0}}})}}var dn={},Io={},Lo={},Uo={},$o={},zo={},aL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=aL();const iL=sl.fetch,KA=sl.fetch.bind(sl),GA=sl.Headers,sL=sl.Request,oL=sl.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:GA,Request:sL,Response:oL,default:KA,fetch:iL},Symbol.toStringTag,{value:"Module"})),lL=m4(wl);var Jd={},TS;function YA(){if(TS)return Jd;TS=1,Object.defineProperty(Jd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Jd.default=e,Jd}var kS;function VA(){if(kS)return zo;kS=1;var e=zo&&zo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(lL),n=e(YA());class r{constructor(s){var l,d;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(d=s.isMaybeSingle)!==null&&d!==void 0?d:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,v,_;let w=null,j=null,S=null,O=h.status,N=h.statusText;if(h.ok){if(this.method!=="HEAD"){const k=await h.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=k:j=JSON.parse(k))}const C=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&T&&T.length>1&&(S=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,S=null,O=406,N="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await h.text();try{w=JSON.parse(C),Array.isArray(w)&&h.status===404&&(j=[],w=null,O=200,N="OK")}catch{h.status===404&&C===""?(O=204,N="No Content"):w={message:C}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,O=200,N="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:j,count:S,status:O,statusText:N}});return this.shouldThrowOnError||(f=f.catch(h=>{var p,g,v;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(g=h==null?void 0:h.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=h==null?void 0:h.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(s,l)}returns(){return this}overrideTypes(){return this}}return zo.default=r,zo}var PS;function WA(){if(PS)return $o;PS=1;var e=$o&&$o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(VA());class n extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var p;const g=[i?"analyze":null,s?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return $o.default=n,$o}var MS;function Q0(){if(MS)return Uo;MS=1;var e=Uo&&Uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(WA());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return Uo.default=n,Uo}var RS;function XA(){if(RS)return Lo;RS=1;var e=Lo&&Lo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lo,"__esModule",{value:!0});const t=e(Q0());class n{constructor(i,{headers:s={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(s),this.schema=l,this.fetch=d}select(i,s){const{head:l=!1,count:d}=s??{},f=l?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:l=!0}={}){var d;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var l;const d="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var s;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Lo.default=n,Lo}var DS;function cL(){if(DS)return Io;DS=1;var e=Io&&Io.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Io,"__esModule",{value:!0});const t=e(XA()),n=e(Q0());class r{constructor(s,{headers:l={},schema:d,fetch:f}={}){this.url=s,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(s){const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:d=!1,get:f=!1,count:h}={}){var p;let g;const v=new URL(`${this.url}/rpc/${s}`);let _;d||f?(g=d?"HEAD":"GET",Object.entries(l).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{v.searchParams.append(j,S)})):(g="POST",_=l);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:g,url:v,headers:w,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Io.default=r,Io}var IS;function uL(){if(IS)return dn;IS=1;var e=dn&&dn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(dn,"__esModule",{value:!0}),dn.PostgrestError=dn.PostgrestBuilder=dn.PostgrestTransformBuilder=dn.PostgrestFilterBuilder=dn.PostgrestQueryBuilder=dn.PostgrestClient=void 0;const t=e(cL());dn.PostgrestClient=t.default;const n=e(XA());dn.PostgrestQueryBuilder=n.default;const r=e(Q0());dn.PostgrestFilterBuilder=r.default;const i=e(WA());dn.PostgrestTransformBuilder=i.default;const s=e(VA());dn.PostgrestBuilder=s.default;const l=e(YA());return dn.PostgrestError=l.default,dn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},dn}var dL=uL();const fL=Wr(dL),{PostgrestClient:hL,PostgrestQueryBuilder:Zne,PostgrestFilterBuilder:ere,PostgrestTransformBuilder:tre,PostgrestBuilder:nre,PostgrestError:rre}=fL;class mL{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pL="2.74.0",gL=`realtime-js/${pL}`,vL="1.0.0",ky=1e4,yL=1e3,bL=100;var Bc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bc||(Bc={}));var tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tn||(tn={}));var qr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qr||(qr={}));var Py;(function(e){e.websocket="websocket"})(Py||(Py={}));var js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(js||(js={}));class xL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+s));l=l+s;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class QA{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(yt||(yt={}));const LS=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=_L(l,e,t,i),s),{}):{}},_L=(e,t,n,r)=>{const i=t.find(d=>d.name===e),s=i==null?void 0:i.type,l=n[e];return s&&!r.includes(s)?JA(s,l):My(l)},JA=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return NL(t,n)}switch(e){case yt.bool:return wL(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return jL(t);case yt.json:case yt.jsonb:return SL(t);case yt.timestamp:return EL(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return My(t);default:return My(t)}},My=e=>e,wL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},SL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},NL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const l=e.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>JA(t,d))}return e},EL=e=>typeof e=="string"?e.replace(" ","T"):e,ZA=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Dg{constructor(t,n,r={},i=ky){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var US;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(US||(US={}));class qc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qc.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=qc.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qc.syncDiff(this.state,i,s,l),d())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const v=p.map(S=>S.presence_ref),_=g.map(S=>S.presence_ref),w=p.filter(S=>_.indexOf(S.presence_ref)<0),j=g.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(d[h]=w),j.length>0&&(f[h]=j)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(_=>_.presence_ref),v=p.filter(_=>g.indexOf(_.presence_ref)<0);t[d].unshift(...v)}r(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $S;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($S||($S={}));var Hc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hc||(Hc={}));var Da;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Da||(Da={}));class J0{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dg(this,qr.join,this.params,this.timeout),this.rejoinTimer=new QA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new qc(this),this.broadcastEndpointURL=ZA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==tn.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Hc.PRESENCE]&&this.bindings[Hc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Da.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Da.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){t==null||t(Da.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,S=(w=j==null?void 0:j.length)!==null&&w!==void 0?w:0,O=[];for(let N=0;N<S;N++){const A=j[N],{filter:{event:C,schema:T,table:k,filter:M}}=A,D=_&&_[N];if(D&&D.event===C&&D.schema===T&&D.table===k&&D.filter===M)O.push(Object.assign(Object.assign({},A),{id:D.id}));else{this.unsubscribe(),this.state=tn.errored,t==null||t(Da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(Da.SUBSCRIBED);return}}).receive("error",_=>{this.state=tn.errored,t==null||t(Da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===tn.joined&&t===Hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Dg(this,qr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=qr;if(r&&[d,f,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var w,j,S;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(j=_.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(s=this.bindings[l])===null||s===void 0||s.filter(_=>{var w,j,S,O,N,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const C=_.id,T=(w=_.filter)===null||w===void 0?void 0:w.event;return C&&((j=n.ids)===null||j===void 0?void 0:j.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(N=(O=_==null?void 0:_.filter)===null||O===void 0?void 0:O.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:j,table:S,commit_timestamp:O,type:N,errors:A}=w;v=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:O,eventType:N,new:{},old:{},errors:A}),this._getPayloadRecords(w))}_.callback(v,r)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&J0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qr.close,{},t)}_onError(t){this._on(qr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=LS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=LS(t.columns,t.old_record)),n}}const Ig=()=>{},Zd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OL=[1e3,2e3,5e3,1e4],AL=1e4,CL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ky,this.transport=null,this.heartbeatIntervalMs=Zd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ig,this.ref=0,this.reconnectTimer=null,this.logger=Ig,this.conn=null,this.sendBuffer=[],this.serializer=new xL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>pu(async()=>{const{default:d}=await Promise.resolve().then(()=>wl);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...l)=>s(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Py.websocket}`,this.httpEndpoint=ZA(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vL}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bc.connecting:return js.Connecting;case Bc.open:return js.Open;case Bc.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new J0(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:l}=n,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${r} ${i} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,s,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([CL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:gL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(qr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new QA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,l,d,f,h,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ky,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Zd.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Ig,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(g=>OL[g-1]||AL),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Z0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class kL extends Z0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ry extends Z0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var PL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const eC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ML=()=>PL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pu(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),Dy=e=>{if(Array.isArray(e))return e.map(n=>Dy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Dy(r)}),t},RL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qs=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Lg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DL=(e,t,n)=>qs(void 0,void 0,void 0,function*(){const r=yield ML();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,l=(i==null?void 0:i.statusCode)||s+"";t(new kL(Lg(i),s,l))}).catch(i=>{t(new Ry(Lg(i),i))}):t(new Ry(Lg(e),e))}),IL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(RL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function gu(e,t,n,r,i,s){return qs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,IL(t,r,i,s)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>DL(f,d,r))})})}function If(e,t,n,r){return qs(this,void 0,void 0,function*(){return gu(e,"GET",t,n,r)})}function ra(e,t,n,r,i){return qs(this,void 0,void 0,function*(){return gu(e,"POST",t,r,i,n)})}function Iy(e,t,n,r,i){return qs(this,void 0,void 0,function*(){return gu(e,"PUT",t,r,i,n)})}function LL(e,t,n,r){return qs(this,void 0,void 0,function*(){return gu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tC(e,t,n,r,i){return qs(this,void 0,void 0,function*(){return gu(e,"DELETE",t,r,i,n)})}var UL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class $L{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return UL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xt(t))return{data:null,error:t};throw t}})}}var zL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class BL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new $L(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return zL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xt(t))return{data:null,error:t};throw t}})}}var Hn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const qL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=eC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Hn(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},zS),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),g=yield(t=="PUT"?Iy:ra)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Xt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Hn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:zS.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield Iy(this.fetch,d.toString(),f,{headers:p});return{data:{path:s,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Xt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ra(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+s.url),d=l.searchParams.get("token");if(!d)throw new Z0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Hn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ra(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Hn(this,void 0,void 0,function*(){try{const i=yield ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"",d=this._getFinalPath(t),f=()=>If(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new BL(f,this.shouldThrowOnError)}info(t){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield If(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}exists(t){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield LL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r)&&r instanceof Ry){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Hn(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Hn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},qL),n),{prefix:t||""});return{data:yield ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Hn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const FL="2.74.0",KL={"X-Client-Info":`storage-js/${FL}`};var Bo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class GL{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},KL),n),this.fetch=eC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Bo(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xt(t))return{data:null,error:t};throw t}})}getBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}createBucket(t){return Bo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ra(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Bo(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield ra(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}}class YL extends GL{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new HL(this.url,this.headers,t,this.fetch)}}const VL="2.74.0";let Uc="";typeof Deno<"u"?Uc="deno":typeof document<"u"?Uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uc="react-native":Uc="node";const WL={"X-Client-Info":`supabase-js-${Uc}/${VL}`},XL={headers:WL},QL={schema:"public"},JL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZL={};var e5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const t5=e=>{let t;return e?t=e:typeof fetch>"u"?t=KA:t=fetch,(...n)=>t(...n)},n5=()=>typeof Headers>"u"?GA:Headers,r5=(e,t,n)=>{const r=t5(n),i=n5();return(s,l)=>e5(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(s,Object.assign(Object.assign({},l),{headers:h}))})};var a5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function i5(e){return e.endsWith("/")?e:e+"/"}function s5(e,t){var n,r;const{db:i,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>a5(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function o5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(i5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nC="2.74.0",Qo=30*1e3,Ly=3,Ug=Ly*Qo,l5="http://localhost:9999",c5="supabase.auth.token",u5={"X-Client-Info":`gotrue-js/${nC}`},Uy="X-Supabase-Api-Version",rC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f5=600*1e3;class Qc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class h5 extends Qc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function m5(e){return Ce(e)&&e.name==="AuthApiError"}class Ss extends Qc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qi extends Qc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ci extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p5(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class qo extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ef extends qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tf extends qi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g5(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class BS extends qi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $y extends qi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $g(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class qS extends qi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zy extends qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HS=` 	
\r=`.split(""),v5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<HS.length;t+=1)e[HS[t].charCodeAt(0)]=-2;for(let t=0;t<Lf.length;t+=1)e[Lf[t].charCodeAt(0)]=t;return e})();function FS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lf[r]),t.queuedBits-=6}}function aC(e,t,n){const r=v5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function KS(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{x5(l,r,n)};for(let l=0;l<e.length;l+=1)aC(e.charCodeAt(l),i,s);return t.join("")}function y5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function b5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}y5(r,t)}}function x5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function tl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)aC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function _5(e){const t=[];return b5(e,n=>t.push(n)),new Uint8Array(t)}function Es(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>FS(i,n,r)),FS(null,n,r),t.join("")}function w5(e){return Math.round(Date.now()/1e3)+e}function j5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",us={tested:!1,writable:!1},iC=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(us.tested)return us.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),us.tested=!0,us.writable=!0}catch{us.tested=!0,us.writable=!1}return us.writable};function S5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const sC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},N5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ds=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class Th{constructor(){this.promise=new Th.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Th.promiseConstructor=Promise;function zg(e){const t=e.split(".");if(t.length!==3)throw new zy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!d5.test(t[r]))throw new zy("JWT not in base64url format");return{header:JSON.parse(KS(t[0])),payload:JSON.parse(KS(t[1])),signature:tl(t[2]),raw:{header:t[0],payload:t[1]}}}async function E5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function O5(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){r(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function A5(e){return("0"+e.toString(16)).substr(-2)}function C5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,A5).join("")}async function T5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function k5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await T5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,n=!1){const r=C5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Jo(e,`${t}-code-verifier`,i);const s=await k5(r);return[s,r===s?"plain":"s256"]}const P5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M5(e){const t=e.headers.get(Uy);if(!t||!t.match(P5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function R5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function D5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fo(e){if(!I5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GS(e){return JSON.parse(JSON.stringify(e))}var L5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U5=[502,503,504];async function YS(e){var t;if(!N5(e))throw new $y(ps(e),0);if(U5.includes(e.status))throw new $y(ps(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ss(ps(s),s)}let r;const i=M5(e);if(i&&i.getTime()>=rC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new qS(ps(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new qS(ps(n),e.status,n.weak_password.reasons);throw new h5(ps(n),e.status||500,r)}const $5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Re(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Uy]||(s[Uy]=rC["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await z5(e,t,n+d,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function z5(e,t,n,r,i,s){const l=$5(t,r,i,s);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new $y(ps(f),0)}if(d.ok||await YS(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await YS(f)}}function zr(e){var t;let n=null;H5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=w5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function VS(e){const t=zr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ri(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function B5(e){return{data:e,error:null}}function q5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,l=L5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function WS(e){return e}function H5(e){return e.access_token&&e.refresh_token&&e.expires_in}const qg=["global","local","others"];var F5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class K5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=qg[0]){if(qg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qg.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ri})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=F5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:q5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ri})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WS});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=j}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Fo(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ri})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fo(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ri})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fo(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ri})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fo(t.userId);try{const{data:n,error:r}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fo(t.userId),Fo(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WS});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=j}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}function XS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ko={debug:!!(globalThis&&iC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class G5 extends oC{}async function Y5(e,t,n){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new G5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ko.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function V5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function W5(e){return parseInt(e,16)}function X5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Q5(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=lC(e.address),w=p?`${p}://${r}`:r,j=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${_}

${j}`;let O=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(O+=`
Expiration Time: ${i.toISOString()}`),d&&(O+=`
Not Before: ${d.toISOString()}`),f&&(O+=`
Request ID: ${f}`),h){let N=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);N+=`
- ${A}`}O+=N}return`${S}
${O}`}class Wt extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Uf extends Wt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function J5({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(uC(l)){if(s.rp.id!==l)return new Wt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Z5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Wt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(uC(r)){if(n.rpId!==r)return new Wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var cC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class e6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const t6=new e6;function n6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=cC(e,["challenge","user","excludeCredentials"]),s=tl(t).buffer,l=Object.assign(Object.assign({},n),{id:tl(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:s,user:l});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:tl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function r6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=cC(e,["challenge","allowCredentials"]),i=tl(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:tl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function a6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Es(new Uint8Array(e.response.attestationObject)),clientDataJSON:Es(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function i6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Es(new Uint8Array(i.authenticatorData)),clientDataJSON:Es(new Uint8Array(i.clientDataJSON)),signature:Es(new Uint8Array(i.signature)),userHandle:i.userHandle?Es(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function QS(){var e,t;return!!(ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function s6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:J5({error:t,options:e})}}}async function o6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Uf("Browser returned unexpected credential type",t)}:{data:null,error:new Uf("Empty credential response",t)}}catch(t){return{data:null,error:Z5({error:t,options:e})}}}const l6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},c6={userVerification:"preferred",hints:["security-key"]};function $f(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))r[s]=l;else if(n(l))r[s]=l;else if(t(l)){const d=r[s];t(d)?r[s]=$f(d,l):r[s]=$f(l)}else r[s]=l}return r}function u6(e,t){return $f(l6,e,t||{})}function d6(e,t){return $f(c6,e,t||{})}class f6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=i??t6.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=u6(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:g}=await s6({publicKey:h,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=d6(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:g}=await o6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new Ss("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Qc("rpId is required for WebAuthn authentication")};try{if(!QS())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new Ss("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Qc("rpId is required for WebAuthn registration")};try{if(!QS())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new Ss("Unexpected error in register",l)}}}}V5();const h6={url:l5,storageKey:c5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function JS(e,t,n){return await n()}const Go={};class Jc{get jwks(){var t,n;return(n=(t=Go[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Go[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jc.nextInstanceID,Jc.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},h6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new K5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sC(i.fetch),this.lock=i.lock||JS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Y5:this.lock=JS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f6(this)},this.persistSession?(i.storage?this.storage=i.storage:iC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=XS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=XS(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=S5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ar()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),g5(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ce(n)?{error:n}:{error:new Ss("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:zr}),{data:l,error:d}=s;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:p,password:g,options:v}=t;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Ho(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:zr})}else if("phone"in t){const{phone:p,password:g,options:v}=t;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:zr})}else throw new ef("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:l,options:d}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:VS})}else if("phone"in t){const{phone:s,password:l,options:d}=t;n=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:VS})}else throw new ef("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,l,d,f,h,p,g,v;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:j,wallet:S,statement:O,options:N}=t;let A;if(ar())if(typeof S=="object")A=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")A=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const C=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=lC(T[0]);let M=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const q=await A.request({method:"eth_chainId"});M=W5(q)}const D={domain:C.host,address:k,statement:O,uri:C.href,version:"1",chainId:M,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=Q5(D),w=await A.request({method:"personal_sign",params:[X5(_),k]})}try{const{data:j,error:S}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:zr});if(S)throw S;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new qo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:S})}catch(j){if(Ce(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(t){var n,r,i,s,l,d,f,h,p,g,v,_;let w,j;if("message"in t)w=t.message,j=t.signature;else{const{chain:S,wallet:O,statement:N,options:A}=t;let C;if(ar())if(typeof O=="object")C=O;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))C=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=O}const T=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const k=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),N?{statement:N}:null));let M;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")M=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)M=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),j=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const k=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=k}}try{const{data:S,error:O}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Es(j)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:zr});if(O)throw O;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new qo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:O})}catch(S){if(Ce(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:zr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new qo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(Ce(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:l}=t,d=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zr}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new qo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ho(this.storage,this.storageKey));const{error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new ef("You must provide either an email or phone number.")}catch(d){if(Ce(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:zr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await Ho(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:B5})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ci;const{error:i}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:l}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:l,error:d}=await Re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new ef("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ug:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await ds(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Bg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,p))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ri}):await this._useSession(async n=>{var r,i,s;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ci}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ri})})}catch(n){if(Ce(n))return p5(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ci;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Ho(this.storage,this.storageKey));const{data:h,error:p}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Ri});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ci;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:l}=zg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ci;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ar())throw new tf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new BS("No code detected.");const{data:N,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new tf("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let v=p+g;f&&(v=parseInt(f));const _=v-p;_*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:j,error:S}=await this._getUser(s);if(S)throw S;const O={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(r){if(Ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(m5(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=j5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ho(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:v}=s;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ar()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zr}),{data:v,error:_}=g;return _?{data:{user:null,session:null},error:_}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new qo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:_})}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await O5(async i=>(i>0&&await E5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zr})),(i,s)=>{const l=200*Math.pow(2,i);return s&&$g(s)&&Date.now()+l-r<Qo})}catch(r){if(this._debug(n,"error",r),Ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ar()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ds(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Jo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Bg()}else if(i&&!i.user&&!i.user){const l=await ds(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Oi(this.storage,this.storageKey+"-user"),await Jo(this.storage,this.storageKey,i)):i.user=Bg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ug;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ug}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),$g(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Th;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Ci;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),Ce(s)){const l={data:null,error:s};return $g(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Jo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=GS(i);await Jo(this.storage,this.storageKey,s)}else{const i=GS(n);await Jo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Qo}ms, refresh threshold is ${Ly} ticks`),i<=Ly&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await Ho(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?a6(t.webauthn.credential_response):i6(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:n6(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:r6(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=zg(i.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+f5>i)return r;const{data:s,error:l}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};r=_.session.access_token}const{header:i,payload:s,signature:l,raw:{header:d,payload:f}}=zg(r);n!=null&&n.allowExpired||R5(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:s,header:i,signature:l},error:null}}const p=D5(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,_5(`${d}.${f}`)))throw new zy("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}}Jc.nextInstanceID=0;const m6=Jc;class p6 extends m6{constructor(t){super(t)}}var g6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class v6{constructor(t,n,r){var i,s,l;this.supabaseUrl=t,this.supabaseKey=n;const d=o5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:QL,realtime:ZL,auth:Object.assign(Object.assign({},JL),{storageKey:f}),global:XL},p=s5(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=r5(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new hL(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new YL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new rL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return g6(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:l,flowType:d,lock:f,debug:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p6({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:d,lock:f,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new TL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y6=(e,t,n)=>new v6(e,t,n);function b6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}b6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dC="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",fC=()=>{const e=Promise.reject(new Error(dC));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>fC()}})},x6=()=>{const e=fC(),t=async()=>{throw new Error(dC)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},_6=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},w6=()=>x6();let By;try{const e="https://epolcaohkaozcanyexau.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",n=_6(e);By=y6(n,t,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),By=w6()}const he=By,j6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",VITE_SUPABASE_URL:"https://epolcaohkaozcanyexau.supabase.co"},S6=j6,N6="https://api.cloudinary.com/v1_1",E6="cloudinary.com",O6=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),eb=e=>O6(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),hC=()=>Math.random().toString(36).slice(2,10),Fc=(e,t)=>e&&eb(e)||t,Yr=e=>{const t=S6[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},ZS=(e,t)=>{const n=Yr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: dfinissez la variable d'environnement ${e} pour ${t}.`);return n},tb=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const s=ZS("VITE_CLOUDINARY_CLOUD_NAME","les tlversements de mdias"),l=n??ZS("VITE_CLOUDINARY_UPLOAD_PRESET","les tlversements de mdias"),d=l,f=new FormData;f.append("file",e),f.append("upload_preset",l),t&&f.append("folder",t),r&&f.append("public_id",r),i!=null&&i.length&&f.append("tags",i.join(","));const h=await fetch(`${N6}/${s}/auto/upload`,{method:"POST",body:f}),p=await h.json();if(!h.ok||p.error){const v=(g=p.error)==null?void 0:g.message;throw v&&/upload preset/i.test(v)?new Error(`Le preset Cloudinary "${d}" est introuvable ou ne permet pas les tlversements non signs. Vrifiez sa configuration dans votre console Cloudinary (Settings  Upload  Upload presets).`):new Error(v??`chec du tlversement Cloudinary (statut ${h.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoy d'URL scurise pour le fichier tlvers.");return p.secure_url??p.url},ua=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(E6)?null:t}catch{return null}},A6=Yr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",e2=A6,mC=e=>{const t=ua(e);return t||e2||""},C6=async(e,t)=>{const n=Yr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=Yr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??Yr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?eb(t):void 0,s=i?`${i}-${hC()}`:void 0;return tb(e,{folder:Fc(n,"products"),uploadPreset:r,publicId:s,tags:["product"]})},T6=()=>Fc(Yr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),Zc=async(e,t)=>{const n=T6(),r=Yr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??Yr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=(t==null?void 0:t.publicId)??(e instanceof File&&e.name?eb(e.name.replace(/\.[^/.]+$/,"")):void 0),s=i?`${i}-${hC()}`:void 0,l=Array.from(new Set(["customization","custom-folder",...(t==null?void 0:t.tags)??[]]));return tb(e,{folder:n,uploadPreset:r,publicId:s,tags:l})},pC=async(e,t)=>{const n=Yr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=Yr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??Yr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[Fc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${Fc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${Fc(t.customerReference,"client")}`),tb(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},gC="ouiouipos:role-logins",vC=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},k6=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:s}=n;if(typeof r!="string"||typeof i!="string"||typeof s!="string")return null;const l=Date.parse(s);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},nb=()=>{const t=vC().getItem(gC);return k6(t)},yC=e=>{vC().setItem(gC,JSON.stringify(e.slice(-500)))},P6=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const s=nb();s.push(i),yC(s)}catch(s){console.warn("Unable to persist role login locally.",s)}return i},M6=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return nb().filter(r=>Date.parse(r.loginAt)>=t)},R6=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=nb().filter(r=>Date.parse(r.loginAt)>=t);yC(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),t2=e=>{const t=I6(e);return t.charAt(0).toUpperCase()+t.slice(1)},bC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),L6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...d},f)=>b.createElement("svg",{ref:f,...U6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bC("lucide",i),...!s&&!L6(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement($6,{ref:s,iconNode:t,className:bC(`lucide-${D6(t2(e))}`,`lucide-${e}`,r),...i}));return n.displayName=t2(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],rb=ve("armchair",z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xC=ve("arrow-left",B6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],H6=ve("bold",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],K6=ve("brush",F6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Y6=ve("calendar",G6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],W6=ve("chart-area",V6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Q6=ve("chart-no-axes-column",X6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Z6=ve("check",J6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],_C=ve("chef-hat",eU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wC=ve("chevron-down",tU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rU=ve("chevron-right",nU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jC=ve("chevron-up",aU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zf=ve("circle-check-big",iU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oU=ve("circle-check",sU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],cU=ve("circle-minus",lU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ab=ve("circle-plus",uU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fU=ve("circle-question-mark",dU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mU=ve("circle-x",hU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jl=ve("clock",pU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eu=ve("dollar-sign",gU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yU=ve("download",vU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],SC=ve("ellipsis-vertical",bU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_U=ve("external-link",xU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jU=ve("eye-off",wU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qy=ve("eye",SU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NC=ve("file-text",NU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],n2=ve("gift",EU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],AU=ve("grip-vertical",OU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],TU=ve("hand-platter",CU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PU=ve("history",kU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RU=ve("info",MU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],IU=ve("italic",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],UU=ve("layout-dashboard",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tu=ve("loader-circle",$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],BU=ve("log-in",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HU=ve("log-out",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],EC=ve("mail",FU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kh=ve("map-pin",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],OC=ve("menu",GU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],AC=ve("message-square",YU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M5 12h14",key:"1ays0h"}]],CC=ve("minus",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],XU=ve("package-check",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],JU=ve("package-plus",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zo=ve("package",ZU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t$=ve("palette",e$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],r$=ve("pen",n$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],i$=ve("pencil",a$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ph=ve("percent",s$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],TC=ve("phone",o$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vu=ve("plus",l$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],u$=ve("receipt",c$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],f$=ve("refresh-cw",d$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],m$=ve("save",h$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ib=ve("search",p$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],v$=ve("send",g$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b$=ve("settings",y$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_$=ve("shield",x$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kC=ve("shopping-bag",w$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],PC=ve("shopping-cart",j$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],MC=ve("soup",S$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],RC=ve("square-pen",N$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],O$=ve("strikethrough",E$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Bf=ve("tag",A$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hs=ve("trash-2",C$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sa=ve("triangle-alert",T$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],P$=ve("truck",k$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yu=ve("upload",M$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sb=ve("user",R$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hy=ve("users",D$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],L$=ve("utensils-crossed",I$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],$$=ve("utensils",U$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],la=ve("x",z$),Ka="/site-customizer",Gn=[{name:"Dashboard",href:"/dashboard",icon:UU,permissionKey:"/dashboard"},{name:" Emporter",href:"/para-llevar",icon:kC,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:rb,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:MC,permissionKey:"/cocina"},{name:"Personnalisation",href:Ka,icon:K6,permissionKey:Ka},{name:"Produits",href:"/produits",icon:L$,permissionKey:"/produits"},{name:"Ingrdients",href:"/ingredients",icon:Zo,permissionKey:"/ingredients"},{name:"Promotions",href:"/promotions",icon:Ph,permissionKey:"/promotions"},{name:"Rsum Ventes",href:"/resume-ventes",icon:W6,permissionKey:"/resume-ventes"}],DC={ADMIN:"admin"},ks="__home_page",IC=e=>{if(!e.active)return!1;const t=new Date,n=new Date(e.start_date),r=e.end_date?new Date(e.end_date):null;return!(t<n||r&&t>r||e.usage_limit&&e.usage_count>=e.usage_limit)},ob=e=>{const t=new Date,n=e.config;if(n.days_of_week&&n.days_of_week.length>0){const r=t.getDay();if(!n.days_of_week.includes(r))return!1}if(n.hours_of_day){const r=t.getHours(),i=t.getMinutes(),s=r*60+i,[l,d]=n.hours_of_day.start.split(":").map(Number),[f,h]=n.hours_of_day.end.split(":").map(Number),p=l*60+d,g=f*60+h;if(s<p||s>g)return!1}return!0},Mh=["review1","review2","review3","review4","review5","review6","review7"],B$=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],q$=["avatarUrl","highlightImageUrl","postImageUrl"],H$=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],F$=[...B$,...q$],K$=Mh.flatMap(e=>F$.map(t=>`instagramReviews.reviews.${e}.${t}`)),bu=[...H$,...K$],G$=bu.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),Y$=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),V$=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,W$=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,LC=typeof window<"u"&&typeof document<"u",X$=e=>{const t=e.trim().replace(/"|'/g,"");return V$.test(t)?t.toLowerCase():W$.test(t)?t.replace(/\s+/g,""):null},Q$=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},J$=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},UC=e=>{if(!Y$.has(e.tagName)){Q$(e);return}const t=J$(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(s=>s.trim()).filter(Boolean).find(s=>s.toLowerCase().startsWith("color"));if(i){const[,s]=i.split(":"),l=s?X$(s):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&UC(n)})},Z$=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),ez=e=>{const t=e??"";if(t.trim().length===0)return"";if(!LC)return Z$(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&UC(r)}),n.innerHTML.trim()},tz=e=>{if(!LC)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},r2=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),lb=e=>{if(!e)return null;const t=ez(e.html??""),n=r2(e.plainText??""),r=r2(tz(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},nz={review1:{name:"Laura Mndez",handle:"@laurita.eats",timeAgo:"hace 2 das",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story  Taco Tuesday ",highlightCaption:"Guardado en Destacadas",location:"Bogot  Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colors garnis d'herbes fraches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 das",message:"Estas arepas son lo ms: combinan ingredientes sper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel  Brunch entre amigas ",highlightCaption:"Comentarios llenos de antojos",location:"Medelln  Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dores et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastin Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aqu y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvi tema de conversacin.",highlight:"Post  Team Afterwork ",highlightCaption:"Reacciones de la oficina",location:"Barranquilla  Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ros",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El men tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cario. Increble experiencia.",highlight:"Carousel  Night Out ",highlightCaption:"Comentarios fijados",location:"Cali  Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Prez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me qued por la originalidad del men: el cheddar baa la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live  Burger Night ",highlightCaption:"Chat lleno de elogios",location:"Bogot  Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gmez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaos y fue xito total: tacos mini, dips calientes y una mesa que se vea divina para fotos. Todo lleg puntual y con instrucciones claras.",highlight:"Story  Fiesta privada ",highlightCaption:"Reseas con confeti",location:"Cartagena  Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet color avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maz dulce son mi nueva obsesin. Adems, la atencin es rapidsima.",highlight:"Reel  Veggie Lovers ",highlightCaption:"Comentarios verdes y felices",location:"Bogot  Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dores servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},qe=e=>e.trim(),cb=e=>typeof e=="string"&&e.trim().length>0,$C=(e,t)=>cb(e)?e.trim():t,zC=(e,t)=>cb(e)?e.trim():t,Kc=(e,t)=>cb(e)?e.trim():t,He=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},aa=(e,t)=>e===void 0?t??null:e===null?null:ua(e)??t??null,ia=e=>ua(e)??null,rz=(e,t)=>{const n={};return Mh.forEach(r=>{const i=t[r],s=(e==null?void 0:e[r])??{};n[r]={name:He(s==null?void 0:s.name,i.name),handle:He(s==null?void 0:s.handle,i.handle),timeAgo:He(s==null?void 0:s.timeAgo,i.timeAgo),message:He(s==null?void 0:s.message,i.message),highlight:He(s==null?void 0:s.highlight,i.highlight),highlightCaption:He(s==null?void 0:s.highlightCaption,i.highlightCaption),location:He(s==null?void 0:s.location,i.location),badgeLabel:He(s==null?void 0:s.badgeLabel,i.badgeLabel),postImageAlt:He(s==null?void 0:s.postImageAlt,i.postImageAlt),avatarUrl:aa(s==null?void 0:s.avatarUrl,i.avatarUrl),highlightImageUrl:aa(s==null?void 0:s.highlightImageUrl,i.highlightImageUrl),postImageUrl:aa(s==null?void 0:s.postImageUrl,i.postImageUrl)}}),n},az=e=>{const t={};return Mh.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:qe((r==null?void 0:r.name)??""),handle:qe((r==null?void 0:r.handle)??""),timeAgo:qe((r==null?void 0:r.timeAgo)??""),message:qe((r==null?void 0:r.message)??""),highlight:qe((r==null?void 0:r.highlight)??""),highlightCaption:qe((r==null?void 0:r.highlightCaption)??""),location:qe((r==null?void 0:r.location)??""),badgeLabel:qe((r==null?void 0:r.badgeLabel)??""),postImageAlt:qe((r==null?void 0:r.postImageAlt)??""),avatarUrl:ia(r==null?void 0:r.avatarUrl),highlightImageUrl:ia(r==null?void 0:r.highlightImageUrl),postImageUrl:ia(r==null?void 0:r.postImageUrl)}}),t},nf=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},BC=e=>{if(!e)return null;const t=nf(e.textColor??null),n=nf(e.fontFamily??null),r=nf(e.fontSize??null),i=nf(e.backgroundColor??null),s={};return t&&(s.textColor=t),n&&(s.fontFamily=n),r&&(s.fontSize=r),i&&(s.backgroundColor=i),Object.keys(s).length>0?s:null},iz=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const s=BC(n[i]??null);s&&(r[i]=s)}),r},sz=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const s=BC(n[i]??null);s&&(r[i]=s)}),r},oz=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const s=n[i],l=lb(s??null);l&&(r[i]=l)}),r},lz=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const s=n[i],l=lb(s??null);l&&(r[i]=l)}),r},cz=["image","video","audio","font","raw"],uz=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,dz=e=>cz.includes(e)?e:"raw",fz=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},hz=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},qC=e=>{if(!e)return null;const t=ua(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():uz(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",s=dz(e.type),l=hz(e.bytes),d=fz(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:s,createdAt:d}},mz=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>qC(r)).filter(Boolean):t.library}:t,pz=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>qC(i)).filter(Boolean):t.library}},HC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},FC={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},KC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},GC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},YC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},VC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},WC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},ub={library:[]},XC={},QC={},fs=(e,t)=>{var s,l,d,f;const n=((s=e==null?void 0:e.background)==null?void 0:s.type)==="image"?"image":"color",r=Kc((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?aa(((d=e==null?void 0:e.background)==null?void 0:d.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:Kc((f=e==null?void 0:e.background)==null?void 0:f.color,t.background.color),image:n==="image"?i:null},fontFamily:$C((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:zC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Kc((e==null?void 0:e.textColor)??null,t.textColor)}},hs=(e,t)=>{var s,l,d;const n=((s=e==null?void 0:e.background)==null?void 0:s.type)==="image"?"image":"color",r=Kc(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?ia(((d=e==null?void 0:e.background)==null?void 0:d.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:$C((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:zC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Kc((e==null?void 0:e.textColor)??null,t.textColor)}},qf={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:" propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:HC},hero:{title:"Le Got Authentique du Mexique",subtitle:"Des tacos prpars avec passion, des ingrdients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernires commandes",reorderCtaLabel:"Commander  nouveau",style:FC},about:{title:"Notre Histoire",description:"Fond par des passionns de la cuisine mexicaine, OUIOUITACOS est n d'un dsir simple : partager le got authentique des tacos faits maison. Chaque recette est un hritage familial, chaque ingrdient est choisi avec soin, et chaque plat est prpar avec le cur. Venez dcouvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:KC},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:GC},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cur pour notre cuisine : ambiance solaire, service attentionn et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:YC,reviews:Mh.reduce((e,t)=>(e[t]={...nz[t]},e),{})},findUs:{title:"Encuntranos",addressLabel:"Direccin",address:`Cra. 53 #75-98
Barranquilla, Atlntico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo  11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:VC},footer:{text:"Tous droits rservs.",style:WC},elementStyles:XC,elementRichText:QC,assets:ub},Fy=e=>{var n,r,i,s,l,d,f,h,p,g,v,_,w,j,S,O,N,A,C,T,k,M,D,q,$,F,H,ae,z,K,I,Y,W,ue,re,R,L,V,X,te,fe,pe,ke,ie,je,Pe,ce;const t=qf;return{navigation:{brand:He((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:aa((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:aa((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:He((l=(s=e==null?void 0:e.navigation)==null?void 0:s.links)==null?void 0:l.home,t.navigation.links.home),about:He((f=(d=e==null?void 0:e.navigation)==null?void 0:d.links)==null?void 0:f.about,t.navigation.links.about),menu:He((p=(h=e==null?void 0:e.navigation)==null?void 0:h.links)==null?void 0:p.menu,t.navigation.links.menu),contact:He((v=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:v.contact,t.navigation.links.contact),loginCta:He((w=(_=e==null?void 0:e.navigation)==null?void 0:_.links)==null?void 0:w.loginCta,t.navigation.links.loginCta)},style:fs((j=e==null?void 0:e.navigation)==null?void 0:j.style,t.navigation.style)},hero:{title:He((S=e==null?void 0:e.hero)==null?void 0:S.title,t.hero.title),subtitle:He((O=e==null?void 0:e.hero)==null?void 0:O.subtitle,t.hero.subtitle),ctaLabel:He((N=e==null?void 0:e.hero)==null?void 0:N.ctaLabel,t.hero.ctaLabel),backgroundImage:aa((A=e==null?void 0:e.hero)==null?void 0:A.backgroundImage,t.hero.backgroundImage),historyTitle:He((C=e==null?void 0:e.hero)==null?void 0:C.historyTitle,t.hero.historyTitle),reorderCtaLabel:He((T=e==null?void 0:e.hero)==null?void 0:T.reorderCtaLabel,t.hero.reorderCtaLabel),style:fs((k=e==null?void 0:e.hero)==null?void 0:k.style,t.hero.style)},about:{title:He((M=e==null?void 0:e.about)==null?void 0:M.title,t.about.title),description:He((D=e==null?void 0:e.about)==null?void 0:D.description,t.about.description),image:aa((q=e==null?void 0:e.about)==null?void 0:q.image,t.about.image),style:fs(($=e==null?void 0:e.about)==null?void 0:$.style,t.about.style)},menu:{title:He((F=e==null?void 0:e.menu)==null?void 0:F.title,t.menu.title),ctaLabel:He((H=e==null?void 0:e.menu)==null?void 0:H.ctaLabel,t.menu.ctaLabel),loadingLabel:He((ae=e==null?void 0:e.menu)==null?void 0:ae.loadingLabel,t.menu.loadingLabel),image:aa((z=e==null?void 0:e.menu)==null?void 0:z.image,t.menu.image),style:fs((K=e==null?void 0:e.menu)==null?void 0:K.style,t.menu.style)},instagramReviews:{title:He((I=e==null?void 0:e.instagramReviews)==null?void 0:I.title,t.instagramReviews.title),subtitle:He((Y=e==null?void 0:e.instagramReviews)==null?void 0:Y.subtitle,t.instagramReviews.subtitle),image:aa((W=e==null?void 0:e.instagramReviews)==null?void 0:W.image,t.instagramReviews.image),style:fs((ue=e==null?void 0:e.instagramReviews)==null?void 0:ue.style,t.instagramReviews.style),reviews:rz(((re=e==null?void 0:e.instagramReviews)==null?void 0:re.reviews)??null,t.instagramReviews.reviews)},findUs:{title:He((R=e==null?void 0:e.findUs)==null?void 0:R.title,t.findUs.title),addressLabel:He((L=e==null?void 0:e.findUs)==null?void 0:L.addressLabel,t.findUs.addressLabel),address:He((V=e==null?void 0:e.findUs)==null?void 0:V.address,t.findUs.address),cityLabel:He((X=e==null?void 0:e.findUs)==null?void 0:X.cityLabel,t.findUs.cityLabel),city:He((te=e==null?void 0:e.findUs)==null?void 0:te.city,t.findUs.city),hoursLabel:He((fe=e==null?void 0:e.findUs)==null?void 0:fe.hoursLabel,t.findUs.hoursLabel),hours:He((pe=e==null?void 0:e.findUs)==null?void 0:pe.hours,t.findUs.hours),mapLabel:He((ke=e==null?void 0:e.findUs)==null?void 0:ke.mapLabel,t.findUs.mapLabel),mapUrl:He((ie=e==null?void 0:e.findUs)==null?void 0:ie.mapUrl,t.findUs.mapUrl),style:fs((je=e==null?void 0:e.findUs)==null?void 0:je.style,t.findUs.style)},footer:{text:He((Pe=e==null?void 0:e.footer)==null?void 0:Pe.text,t.footer.text),style:fs((ce=e==null?void 0:e.footer)==null?void 0:ce.style,t.footer.style)},elementStyles:iz((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:oz((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:mz((e==null?void 0:e.assets)??null,ub)}},gz=e=>({navigation:{brand:qe(e.navigation.brand),brandLogo:ia(e.navigation.brandLogo)??null,staffLogo:ia(e.navigation.staffLogo)??null,links:{home:qe(e.navigation.links.home),about:qe(e.navigation.links.about),menu:qe(e.navigation.links.menu),contact:qe(e.navigation.links.contact),loginCta:qe(e.navigation.links.loginCta)},style:hs(e.navigation.style,HC)},hero:{title:qe(e.hero.title),subtitle:qe(e.hero.subtitle),ctaLabel:qe(e.hero.ctaLabel),backgroundImage:ia(e.hero.backgroundImage),historyTitle:qe(e.hero.historyTitle),reorderCtaLabel:qe(e.hero.reorderCtaLabel),style:hs(e.hero.style,FC)},about:{title:qe(e.about.title),description:qe(e.about.description),image:ia(e.about.image),style:hs(e.about.style,KC)},menu:{title:qe(e.menu.title),ctaLabel:qe(e.menu.ctaLabel),loadingLabel:qe(e.menu.loadingLabel),image:ia(e.menu.image),style:hs(e.menu.style,GC)},instagramReviews:{title:qe(e.instagramReviews.title),subtitle:qe(e.instagramReviews.subtitle),image:ia(e.instagramReviews.image),style:hs(e.instagramReviews.style,YC),reviews:az(e.instagramReviews.reviews??null)},findUs:{title:qe(e.findUs.title),addressLabel:qe(e.findUs.addressLabel),address:qe(e.findUs.address),cityLabel:qe(e.findUs.cityLabel),city:qe(e.findUs.city),hoursLabel:qe(e.findUs.hoursLabel),hours:qe(e.findUs.hours),mapLabel:qe(e.findUs.mapLabel),mapUrl:qe(e.findUs.mapUrl),style:hs(e.findUs.style,VC)},footer:{text:qe(e.footer.text),style:hs(e.footer.style,WC)},elementStyles:sz(e.elementStyles,XC),elementRichText:lz(e.elementRichText,QC),assets:pz(e.assets,ub)}),ki={},Of=e=>{ki[e]&&ki[e].forEach(t=>t())};let nl=null;const a2="site_content",vz="default",yz=()=>{if(!(nl||typeof he.channel!="function"))try{nl=he.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>Of("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>Of("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>Of("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(nl=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},$e=e=>{if(e.error)throw new Error(e.error.message);return e.data},Ns=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},Li=e=>{if(e)return new Date(e).getTime()},Ky=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},Oc=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},JC=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let s=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(s=s/1e3),n+s*r.qte_utilisee},0),bz=e=>{if(!e)return{permissions:{},homePage:void 0};const{[ks]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},i2=(e,t)=>{const n={...e};return t?n[ks]=t:delete n[ks],n},xz=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===DC.ADMIN||t==="administrateur"},_z=(e,t)=>{const n={...e};return Ka in n||(n[Ka]=xz(t)?"editor":"none"),n},Ac=(e,t)=>{const{permissions:n,homePage:r}=bz(e.permissions),i=_z(n,e.name),s={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(s.pin=e.pin),s},s2=e=>e!=null&&e.content?Fy(e.content):null,Af=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),ZC=e=>({id:e.id,nom:e.nom}),wz=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),Yo=(e,t)=>{const n=(e.product_recipes??[]).map(wz),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:mC(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=JC(n,t)),r},Cc=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),eT=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:Ky(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:Li(e.date_envoi)}),jz=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),Sz=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return jz(n,r)},Nz=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const s=n.findIndex(l=>Sz(l,i));s!==-1&&r.push(n.splice(s,1)[0])}),[...r,...n]},Ra=e=>{const t=(e.order_items??[]).map(eT),n=Ky(e.total),r=Ky(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:Li(e.date_creation)??Date.now(),date_envoi_cuisine:Li(e.date_envoi_cuisine),date_listo_cuisine:Li(e.date_listo_cuisine),date_servido:Li(e.date_servido),payment_status:e.payment_status,items:t,total:n??t.reduce((s,l)=>s+l.prix_unitaire*l.quantite,0),profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i},Ez=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:Li(e.sale_date)??Date.now()}),Oz=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},Gy=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:Oz(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},o2=async e=>{if(!e.commande_id)return Gy(e,new Map);const t=await he.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=Ns(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:Li(n.date_envoi_cuisine)}]]):new Map;return Gy(e,r)},Ti=()=>he.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        )
      `).order("date_creation",{ascending:!1}),Az=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,l2=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=he.from("products").select(Az(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},Cz=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Vo=async(e,t)=>{let r=await e(l2({...t,includeBestSellerColumns:!0}),!0);return Cz(r.error)&&(r=await e(l2({...t,includeBestSellerColumns:!1}),!1)),r},en=async e=>{const t=await Ti().eq("id",e).maybeSingle(),n=Ns(t);return n?Ra(n):null},Tz=async e=>{const t=await he.from("order_items").select(`
        id,
        order_id,
        produit_id,
        nom_produit,
        prix_unitaire,
        quantite,
        excluded_ingredients,
        commentaire,
        estado,
        date_envoi
      `).eq("order_id",e);return $e(t).map(eT)},c2=async e=>{if(e.items.length>0)return e;const t=await Tz(e.id);if(t.length===0)return await en(e.id)??e;const n=t.reduce((r,i)=>r+i.prix_unitaire*i.quantite,0);return{...e,items:t,total:e.total>0?e.total:n}},tT=["a_emporter","pedir_en_linea"],Cf=e=>tT.includes(e.type),kz=e=>{if(Cf(e)){const t=e.statut==="en_cours",n=e.estado_cocina==="recibido"||e.estado_cocina==="no_enviado";return t&&n&&e.items.length>0}return e.estado_cocina!=="recibido"?!1:e.items.some(t=>t.estado==="enviado")},gs=async()=>{const e=await he.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return $e(e).map(Af)},Pz=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,u2=async e=>{try{return await gs()}catch(t){if(Pz(t))return console.warn(`[api.${e}] Impossible de rcuprer les ingrdients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},Hg=async()=>{const e=await he.from("categories").select("id, nom").order("nom");return $e(e).map(ZC)},d2=async()=>{const e=await he.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=$e(e),n=t.map(l=>l.commande_id).filter(l=>!!l);let r=new Map;if(n.length>0){const l=await he.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),d=$e(l);r=new Map(d.map(f=>[f.id,{estado_cocina:f.estado_cocina,date_envoi_cuisine:Li(f.date_envoi_cuisine)}]))}const i=new Map,s=t.map(l=>l.id);if(s.length>0){const l=await he.from("orders").select("table_id").in("table_id",s).eq("estado_cocina","listo").in("statut",["en_cours"]);$e(l).forEach(f=>{const h=i.get(f.table_id)||0;i.set(f.table_id,h+1)})}return t.map(l=>({...Gy(l,r),readyOrdersCount:i.get(l.id)||0}))},Gc=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},Mz={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},Rz=e=>{const t=Mz[e],n=new Date(Gc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},Fg=async e=>{const{data:t}=await he.from("orders").select("id, estado_cocina, statut").eq("table_id",e).in("statut",["en_cours"]);if(!t||t.length===0){const{data:p}=await he.from("restaurant_tables").select("statut").eq("id",e).single();(p==null?void 0:p.statut)!=="libre"&&await he.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",e);return}const n=t.map(p=>p.id),{data:r}=await he.from("order_items").select("estado").in("order_id",n),i=r||[],s=i.some(p=>p.estado==="enviado"),l=i.some(p=>p.estado==="listo");i.some(p=>p.estado==="servido");const d=i.some(p=>p.estado==="en_attente"),f=i.every(p=>p.estado==="servido");let h;l?h="para_entregar":s||d?h="en_cuisine":f?h="para_pagar":h="en_cuisine",await he.from("restaurant_tables").update({statut:h}).eq("id",e)},f2=async e=>{const{data:t}=await he.from("orders").select("id, estado_cocina, statut").eq("table_id",tableId).in("statut",["en_cours"]);if(!t||t.length===0){await he.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",tableId);return}const n=t.map(h=>h.id),{data:r}=await he.from("order_items").select("estado").in("order_id",n),i=r||[],s=i.every(h=>h.estado==="servido"),l=i.every(h=>h.estado==="listo"||h.estado==="servido"),d=i.some(h=>h.estado==="enviado");let f;s?f="para_pagar":l?f="para_entregar":f="en_cuisine",await he.from("restaurant_tables").update({statut:f}).eq("id",tableId)},Pn={subscribe:(e,t)=>(ki[e]||(ki[e]=[]),ki[e].push(t),e==="orders_updated"&&yz(),()=>{var n;ki[e]=(ki[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=ki[e])==null?void 0:n.length)===0&&nl&&(typeof he.removeChannel=="function"&&he.removeChannel(nl),nl=null)}),publish:e=>{Of(e)}},Fn=e=>{(e==null?void 0:e.includeNotifications)!==!1&&Pn.publish("notifications_updated"),Pn.publish("orders_updated")},xe={notifications:Pn,getSiteContent:async()=>{const e=await he.from(a2).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=Ns(e);return s2(t)},updateSiteContent:async e=>{const t=gz(e),n=await he.from(a2).upsert({id:vz,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=$e(n),i=s2(r);if(!i)throw new Error("Contenu du site introuvable aprs la mise  jour.");return i},getRoles:async()=>{const e=await he.from("roles").select("id, name, pin, permissions").order("name");return $e(e).map(n=>Ac(n,!0))},getRoleById:async e=>{const t=await he.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=Ns(t);return n?Ac(n,!1):null},createRole:async e=>{const t=await he.from("roles").insert({name:e.name,pin:e.pin,permissions:i2(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=$e(t);return Pn.publish("notifications_updated"),Ac(n,!0)},updateRole:async(e,t)=>{const n=await he.from("roles").update({name:t.name,pin:t.pin,permissions:i2(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=$e(n);return Pn.publish("notifications_updated"),Ac(r,!0)},deleteRole:async e=>{const t=await he.from("roles").delete().eq("id",e);$e(t),Pn.publish("notifications_updated")},loginWithPin:async e=>{const t=await he.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=Ns(t);if(!n)return null;const r=Ac(n,!1);try{await P6(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rle",i)}return r},getDashboardStats:async(e="week")=>{const{config:t,start:n,end:r}=Rz(e),i=n.toISOString(),s=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const d=l.toISOString(),h=Gc().toISOString(),[p,g,v,_,w,j]=await Promise.all([d2(),gs(),Hg(),Vo(X=>X),Ti().eq("statut","finalisee").gte("date_creation",h),Ti().eq("statut","finalisee").gte("date_creation",d).lt("date_creation",s)]),O=$e(w).map(Ra),A=$e(j).map(Ra),C=A.filter(X=>X.date_creation>=n.getTime()),T=A.filter(X=>X.date_creation<n.getTime()),k=new Map(g.map(X=>[X.id,X])),M=$e(_),D=new Map(M.map(X=>{const te=Yo(X,k);return[te.id,te]})),q=C.reduce((X,te)=>X+(te.total??0),0),$=C.reduce((X,te)=>X+te.items.reduce((fe,pe)=>{const ke=D.get(pe.produitRef),ie=ke?JC(ke.recipe,k):0;return fe+(pe.prix_unitaire-ie)*pe.quantite},0),0),F=C.reduce((X,te)=>X+(te.couverts??0),0),H=C.length>0?q/C.length:0,ae=new Map(v.map(X=>[X.id,X.nom])),z=new Map;C.forEach(X=>{X.items.forEach(te=>{const fe=D.get(te.produitRef),pe=fe?ae.get(fe.categoria_id)??"Sans catgorie":"Sans catgorie";z.set(pe,(z.get(pe)??0)+te.prix_unitaire*te.quantite)})});const K=Array.from(z.entries()).map(([X,te])=>({name:X,value:te})),I=[...C].sort((X,te)=>te.date_creation-X.date_creation).slice(0,5),Y=Array.from(D.values()).filter(X=>X.is_best_seller).sort((X,te)=>{const fe=X.best_seller_rank??Number.POSITIVE_INFINITY,pe=te.best_seller_rank??Number.POSITIVE_INFINITY;return fe===pe?X.nom_produit.localeCompare(te.nom_produit):fe-pe}).slice(0,6),W=p.filter(X=>X.statut!=="libre").length,ue=p.reduce((X,te)=>X+(te.couverts??0),0),re=O.filter(X=>X.estado_cocina==="recibido").length,R=g.filter(X=>X.stock_actuel<=X.stock_minimum),L=(X,te,fe)=>{const pe=te.getTime(),ke=fe.getTime();return X.reduce((ie,je)=>je.date_creation>=pe&&je.date_creation<ke?ie+(je.total??0):ie,0)},V=Array.from({length:t.days}).map((X,te)=>{const fe=new Date(n);fe.setDate(fe.getDate()+te);const pe=new Date(fe);pe.setDate(pe.getDate()+1);const ke=new Date(l);ke.setDate(ke.getDate()+te);const ie=new Date(ke);return ie.setDate(ie.getDate()+1),{name:t.days===7?te===t.days-1?"Auj":`J-${t.days-1-te}`:fe.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:L(C,fe,pe),ventesPeriodePrecedente:L(T,ke,ie)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:s,ventesPeriode:q,beneficePeriode:$,clientsPeriode:F,panierMoyen:H,tablesOccupees:W,clientsActuels:ue,commandesEnCuisine:re,ingredientsStockBas:R,ventesPeriodeSeries:V,ventesParCategorie:K,recentOrders:I,bestSellerProducts:Y}},getSalesByProduct:async e=>{const t=h=>{if(h)return typeof h=="string"?h:h.toISOString()},n=t(e==null?void 0:e.start)??Gc().toISOString(),r=t(e==null?void 0:e.end);let i=he.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const s=await i,l=$e(s),d=new Map;l.forEach(h=>{const p=d.get(h.product_id)??{name:h.product_name,value:0};p.value+=h.total_price,d.set(h.product_id,p)});const f=Array.from(d.values()).sort((h,p)=>p.value-h.value);if(f.length>6){const h=f.slice(0,6),p=f.slice(6).reduce((g,v)=>g+v.value,0);return[...h,{name:"Autres",value:p}]}return f},getTables:async()=>d2(),createTable:async e=>{const t=await he.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=$e(t);return Fn(),o2(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await he.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=$e(r);return Fn(),o2(i)},deleteTable:async e=>{const t=await he.from("restaurant_tables").delete().eq("id",e);$e(t),Fn()},getIngredients:async()=>gs(),getProducts:async()=>{const[e,t]=await Promise.all([Vo(i=>i.neq("estado","archive")),u2("getProducts")]),n=$e(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>Yo(i,r))},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Vo((i,s)=>s?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),u2("getBestSellerProducts")]),n=$e(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,s)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,d=s.best_seller_rank??Number.POSITIVE_INFINITY;return l-d}).map(i=>Yo(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>Hg(),getKitchenOrders:async()=>{const e=await Ti().in("estado_cocina",["recibido","no_enviado"]).neq("statut","finalisee"),t=$e(e),n=await Promise.all(t.map(s=>c2(Ra(s)))),r=[];return n.filter(kz).forEach(s=>{const l=s.items.filter(h=>h.estado==="enviado"),d=l.length>0?l:Cf(s)?s.items:[];if(d.length===0)return;d.reduce((h,p)=>{const g=p.date_envoi??s.date_envoi_cuisine??s.date_creation,v=h.get(g)??[];return v.push(p),h.set(g,v),h},new Map).forEach((h,p)=>{r.push({...s,items:h,date_envoi_cuisine:p,ticketKey:`${s.id}-${p}`})})}),r.sort((s,l)=>{const d=s.date_envoi_cuisine??s.date_creation,f=l.date_envoi_cuisine??l.date_creation;return d-f})},getTakeawayOrders:async()=>{const e=await Ti().in("type",tT),t=$e(e),n=await Promise.all(t.map(r=>c2(Ra(r))));return{pending:n.filter(r=>r.statut==="pendiente_validacion"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await en(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await he.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=Ns(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await en(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await he.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),s=$e(i);return await he.from("restaurant_tables").update({statut:"en_cuisine",commande_id:s.id,couverts:n.couverts??n.capacite}).eq("id",e),Fn(),Ra(s)},cancelUnsentTableOrder:async e=>{const t=await en(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await he.from("order_items").delete().eq("order_id",e),await he.from("orders").delete().eq("id",e),t.table_id&&await he.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),Fn())},updateOrder:async(e,t,n)=>{const r=await en(e);if(!r)throw new Error("Order not found");if(r.items,t.items){const g=t.items.map(v=>{const _={order_id:e,produit_id:v.produitRef,nom_produit:v.nom_produit,prix_unitaire:v.prix_unitaire,quantite:v.quantite,excluded_ingredients:v.excluded_ingredients,commentaire:v.commentaire,estado:v.estado,date_envoi:Oc(v.date_envoi)??null};return Cc(v.id)&&(_.id=v.id),_});g.length>0&&await he.from("order_items").upsert(g,{defaultToNull:!1}),t.items}const{items:i,clientInfo:s,removedItemIds:l=[],...d}=t,f={};d.type&&(f.type=d.type),d.table_id!==void 0&&(f.table_id=d.table_id),d.table_nom!==void 0&&(f.table_nom=d.table_nom),d.couverts!==void 0&&(f.couverts=d.couverts),d.statut&&(f.statut=d.statut),d.estado_cocina&&(f.estado_cocina=d.estado_cocina),d.payment_status&&(f.payment_status=d.payment_status),d.payment_method!==void 0&&(f.payment_method=d.payment_method),d.payment_receipt_url!==void 0&&(f.payment_receipt_url=d.payment_receipt_url),d.receipt_url!==void 0&&(f.receipt_url=d.receipt_url),d.total!==void 0&&(f.total=d.total),d.profit!==void 0&&(f.profit=d.profit),d.date_creation!==void 0&&(f.date_creation=Oc(d.date_creation)),d.date_envoi_cuisine!==void 0&&(f.date_envoi_cuisine=Oc(d.date_envoi_cuisine)),d.date_listo_cuisine!==void 0&&(f.date_listo_cuisine=Oc(d.date_listo_cuisine)),d.date_servido!==void 0&&(f.date_servido=Oc(d.date_servido)),t.items&&(f.total=t.items.reduce((g,v)=>g+v.prix_unitaire*v.quantite,0));const h=l.filter(g=>Cc(g));h.length>0&&await he.from("order_items").delete().in("id",h),s&&(f.client_nom=(s==null?void 0:s.nom)??null,f.client_telephone=(s==null?void 0:s.telephone)??null,f.client_adresse=(s==null?void 0:s.adresse)??null),Object.keys(f).length>0&&await he.from("orders").update(f).eq("id",e),Fn({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const p=await en(e);if(!p)throw new Error("Order not found after update");return t.items?{...p,items:Nz(t.items,p.items)}:p},sendOrderToKitchen:async(e,t)=>{const n=await en(e);if(!n)throw new Error("Order not found");const r=n.items.filter(f=>f.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const f=new Set(t);return r.filter(h=>f.has(h.id))})();if(i.length===0)return n;const s=i.filter(f=>Cc(f.id)).map(f=>f.id);if(s.length===0)return n;const l=new Date().toISOString();await he.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",s),await he.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await he.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),Fn();const d=await en(e);if(!d)throw new Error("Order not found after sending to kitchen");return d},markOrderAsReady:async(e,t)=>{const n=new Date().toISOString(),r=await en(e);if(!r)throw new Error("Order not found");if(t!==void 0){const s=r.items.filter(f=>(f.date_envoi??r.date_envoi_cuisine??r.date_creation)===t);for(const f of s)await he.from("order_items").update({estado:"listo"}).eq("id",f.id);r.items.every(f=>(f.date_envoi??r.date_envoi_cuisine??r.date_creation)===t||f.estado==="listo"||f.estado==="servido")&&await he.from("orders").update({estado_cocina:"listo",date_listo_cuisine:n}).eq("id",e),r.table_id&&await Fg(r.table_id),Fn();const d=await en(e);if(!d)throw new Error("Order not found after ready update");return d}Fn();const i=await en(e);if(!i)throw new Error("Order not found after ready update");return i},markOrderAsServed:async e=>{const t=await en(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await he.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),await he.from("order_items").update({estado:"servido"}).eq("order_id",e).eq("estado","listo"),t.table_id&&await Fg(t.table_id),Fn();const r=await en(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await en(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await he.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i}).eq("id",e),r.table_id&&await Fg(r.table_id),Fn();const s=await en(e);if(!s)throw new Error("Order not found after finalization");const l=await f2();return{...s,profit:l}},submitCustomerOrder:async e=>{var l,d,f;const n=new Date().toISOString(),r=await he.from("orders").insert({type:"pedir_en_linea",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",payment_method:e.payment_method??null,total:e.items.reduce((h,p)=>h+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((d=e.clientInfo)==null?void 0:d.telephone)??null,client_adresse:((f=e.clientInfo)==null?void 0:f.adresse)??null,receipt_url:e.receipt_url??null}).select("*").single(),i=$e(r);if(e.items.length>0){const h=e.items.map(g=>{const v={order_id:i.id,produit_id:g.produitRef&&Cc(g.produitRef)?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients,commentaire:g.commentaire,estado:g.estado,date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null};return Cc(g.id)&&(v.id=g.id),v}),p=await he.from("order_items").insert(h,{defaultToNull:!1});if(p.error)throw console.error("Failed to insert order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}Fn();const s=await en(i.id);if(!s)throw new Error("Order not found after creation");return s},getCustomerOrderStatus:async e=>en(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await he.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",date_envoi_cuisine:t}).eq("id",e),await he.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),Fn();const n=await en(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await he.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),Fn();const t=await en(e);if(!t)throw new Error("Order not found after delivery");const n=await f2();return{...t,profit:n}},getNotificationCounts:async()=>{const e=await Ti(),n=$e(e).map(Ra);return{pendingTakeaway:n.filter(r=>Cf(r)&&r.statut==="pendiente_validacion").length,readyTakeaway:n.filter(r=>Cf(r)&&r.estado_cocina==="listo").length,kitchenOrders:(await xe.getKitchenOrders()).length,lowStockIngredients:(await gs()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=Gc(e),n=t.toISOString();R6(n);const[r,i,s,l]=await Promise.all([Ti().eq("statut","finalisee"),Hg(),gs(),Vo(M=>M)]);let d=[],f=!1;try{d=await M6(n)}catch(M){console.warn("Failed to fetch role logins for daily report",M),f=!0}const p=$e(r).map(Ra),g=t.getTime(),v=e.getTime(),_=p.filter(M=>{const D=M.date_servido??M.date_listo_cuisine??M.date_creation;return D>=g&&D<=v}),w=_.reduce((M,D)=>M+D.total,0),j=_.reduce((M,D)=>M+D.couverts,0),S=_.length>0?w/_.length:0,O=new Map(s.map(M=>[M.id,M])),N=$e(l),A=new Map(N.map(M=>{const D=Yo(M,O);return[D.id,D]})),C=new Map(i.map(M=>[M.id,M.nom])),T=new Map;_.forEach(M=>{M.items.forEach(D=>{const q=A.get(D.produitRef),$=q?C.get(q.categoria_id)??"Sans catgorie":"Sans catgorie",F=q?q.categoria_id:"unknown",H=T.get(F)??{categoryName:$,products:[]},ae=H.products.find(z=>z.id===D.produitRef);ae?(ae.quantity+=D.quantite,ae.totalSales+=D.prix_unitaire*D.quantite):H.products.push({id:D.produitRef,name:D.nom_produit,quantity:D.quantite,totalSales:D.prix_unitaire*D.quantite}),T.set(F,H)})}),T.forEach(M=>{M.products.sort((D,q)=>q.quantity-D.quantity)});const k=s.filter(M=>M.stock_actuel<=M.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:j,panierMoyen:S,ventesDuJour:w,soldProducts:Array.from(T.values()),lowStockIngredients:k,roleLogins:d,roleLoginsUnavailable:f}},getSalesHistory:async()=>{const e=await he.from("sales").select("*").order("sale_date",{ascending:!1});return $e(e).map(Ez)},getFinalizedOrders:async()=>{const e=await Ti().eq("statut","finalisee");return $e(e).map(Ra)},addIngredient:async e=>{const t=await he.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=$e(t);return Pn.publish("notifications_updated"),Af(n)},updateIngredient:async(e,t)=>{const n=await he.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=$e(n);return Pn.publish("notifications_updated"),Af(r)},deleteIngredient:async e=>{const t=await he.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1);if($e(t).length>0)throw new Error("Impossible de supprimer l'ingrdient car il est utilis dans une recette.");return await he.from("ingredients").delete().eq("id",e),Pn.publish("notifications_updated"),{success:!0}},resupplyIngredient:async(e,t,n)=>{const r=await he.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).maybeSingle(),i=Ns(r);if(!i)throw new Error("Ingredient not found");const s=i.prix_unitaire*i.stock_actuel,l=t*n,d=i.stock_actuel+t,f=d>0?(s+l)/d:0;await he.from("ingredients").update({stock_actuel:d,prix_unitaire:Number.isFinite(f)?f:0}).eq("id",e),await he.from("purchases").insert({ingredient_id:e,quantite_achetee:t,prix_total:l,date_achat:new Date().toISOString()}),Pn.publish("notifications_updated");const h=await he.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).single(),p=$e(h);return Af(p)},addProduct:async e=>{const t=await he.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:ua(e.image),is_best_seller:e.is_best_seller,best_seller_rank:e.is_best_seller?e.best_seller_rank:null}).select("id").single(),n=$e(t);e.recipe.length>0&&await he.from("product_recipes").insert(e.recipe.map(d=>({product_id:n.id,ingredient_id:d.ingredient_id,qte_utilisee:d.qte_utilisee}))),Pn.publish("notifications_updated");const r=await Vo(d=>d.eq("id",n.id).single()),i=$e(r),s=await gs(),l=new Map(s.map(d=>[d.id,d]));return Yo(i,l)},updateProduct:async(e,t)=>{const{recipe:n,...r}=t,i={};if(r.nom_produit!==void 0&&(i.nom_produit=r.nom_produit),r.description!==void 0&&(i.description=r.description??null),r.prix_vente!==void 0&&(i.prix_vente=r.prix_vente),r.categoria_id!==void 0&&(i.categoria_id=r.categoria_id),r.estado!==void 0&&(i.estado=r.estado),r.image!==void 0&&(i.image=ua(r.image)),r.best_seller_rank!==void 0&&(i.best_seller_rank=r.best_seller_rank),r.is_best_seller!==void 0&&(i.is_best_seller=r.is_best_seller,r.is_best_seller||(i.best_seller_rank=null)),Object.keys(i).length>0){const h=await he.from("products").update(i).eq("id",e);$e(h)}if(n){const h=await he.from("product_recipes").delete().eq("product_id",e);if($e(h),n.length>0){const p=await he.from("product_recipes").insert(n.map(g=>({product_id:e,ingredient_id:g.ingredient_id,qte_utilisee:g.qte_utilisee})));$e(p)}}Pn.publish("notifications_updated");const s=await Vo(h=>h.eq("id",e).single()),l=$e(s),d=await gs(),f=new Map(d.map(h=>[h.id,h]));return Yo(l,f)},deleteProduct:async e=>{await he.from("product_recipes").delete().eq("product_id",e),await he.from("products").delete().eq("id",e),Pn.publish("notifications_updated")},addCategory:async e=>{const t=await he.from("categories").insert({nom:e}).select("id, nom").single(),n=$e(t);return Pn.publish("notifications_updated"),ZC(n)},deleteCategory:async e=>{await he.from("categories").delete().eq("id",e),Pn.publish("notifications_updated")}};let rf=null;const xu=()=>{const[e,t]=b.useState(rf),[n,r]=b.useState(!0),[i,s]=b.useState(null),l=b.useCallback(async()=>{r(!0);try{const f=await xe.getSiteContent(),h=Fy(f??void 0);rf=h,t(h),s(null)}catch(f){console.error("Failed to fetch site content",f),rf=qf,t(qf),s(f instanceof Error?f.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),d=b.useCallback(async f=>{const h=await xe.updateSiteContent(f),p=Fy(h);return t(p),rf=p,p},[]);return b.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:d}},nT=b.createContext(void 0),Dz=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!h||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(h),v=JSON.parse(p);if(!(g!=null&&g.id)||v.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const _=await xe.getRoleById(g.id);_?(n(_),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(_)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:_.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(h){console.error("Failed to restore role:",h),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const s=b.useCallback(async f=>{i(!0);try{const h=await xe.loginWithPin(f);if(!h)throw new Error("PIN invalide");return n(h),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(h)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:h.id,authenticatedAt:Date.now()})),h}finally{i(!1)}},[]),l=b.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),d=b.useCallback(async()=>{if(t!=null&&t.id)try{const f=await xe.getRoleById(t.id);f?(n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()}))):l()}catch(f){console.error("Failed to refresh role:",f)}},[l,t==null?void 0:t.id]);return u.jsx(nT.Provider,{value:{role:t,loading:r,login:s,logout:l,refreshRole:d},children:e})},ma=()=>{const e=b.useContext(nT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Hf=e=>e==="editor"||e==="readonly",db=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Hf(n==null?void 0:n[t]))return t;const r=Gn.find(i=>Hf(n==null?void 0:n[i.permissionKey]));return r?r.href:null},Iz=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),Lz=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:s}=ma(),l=ha(),d=b.useRef(null),f=b.useRef(null),h=()=>{s(),l("/")},p=i==null?void 0:i.permissions,g=b.useMemo(()=>Gn.filter(j=>{const S=p==null?void 0:p[j.permissionKey];return Hf(S)}),[p]),v=b.useMemo(()=>g.find(j=>j.permissionKey===Ka),[g]),_=b.useMemo(()=>g.filter(j=>j.permissionKey!==Ka),[g]);b.useEffect(()=>{var A;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;f.current=document.activeElement;const S=d.current,O=S==null?void 0:S.querySelectorAll(Iz);(A=O==null?void 0:O[0])==null||A.focus();const N=C=>{if(C.key==="Escape"&&(C.preventDefault(),t()),C.key==="Tab"&&O&&O.length>0){const T=O[0],k=O[O.length-1];C.shiftKey?document.activeElement===T&&(C.preventDefault(),k.focus()):document.activeElement===k&&(C.preventDefault(),T.focus())}};return document.addEventListener("keydown",N),()=>{var C,T;document.removeEventListener("keydown",N),(T=(C=f.current)==null?void 0:C.focus)==null||T.call(C)}},[e,t]);const w=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),u.jsxs("aside",{ref:d,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegacin principal",children:[u.jsxs("div",{className:"app-sidebar__header",children:[u.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),u.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el men",children:u.jsx(la,{size:20})})]}),u.jsxs("div",{className:"app-sidebar__content",children:[u.jsx("div",{className:"app-sidebar__scroll-region",children:u.jsx("nav",{className:"app-sidebar__nav",children:_.map(j=>{let S=null;return n&&(j.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?S=u.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):j.href==="/ventes"&&n.readyForService>0?S=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):j.href==="/cocina"&&n.kitchenOrders>0?S=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):j.href==="/ingredients"&&n.lowStockIngredients>0&&(S=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),u.jsxs(Oy,{to:j.href,onClick:w,className:({isActive:O})=>`app-sidebar__nav-link${O?" is-active":""}`,children:[u.jsx(j.icon,{size:22}),u.jsx("span",{children:j.name}),S]},j.name)})})}),u.jsxs("div",{className:"app-sidebar__section",children:[v&&u.jsxs(Oy,{to:v.href,onClick:w,className:({isActive:j})=>`app-sidebar__action${j?" is-active":""}`,children:[u.jsx(v.icon,{size:22}),u.jsx("span",{className:"font-semibold",children:v.name})]}),u.jsxs("button",{onClick:()=>{r(),w()},className:"app-sidebar__action",children:[u.jsx(NC,{size:22}),u.jsx("span",{className:"font-semibold",children:"Reporte"})]}),u.jsxs("button",{onClick:h,className:"app-sidebar__action app-sidebar__action--logout",children:[u.jsx(HU,{size:22}),u.jsx("span",{className:"font-semibold",children:"Cerrar sesin"})]})]})]})]})]})},Tn=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const s={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=b.useId();return b.useEffect(()=>{if(!e)return;const d=f=>{f.key==="Escape"&&(f.preventDefault(),t())};return window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}},[e,t]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:u.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${s[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[u.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),u.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fentre modale",children:u.jsx(la,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},Uz=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),$z=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function rT(e){return Number.isFinite(e)?Math.round(e):0}function zz(e){return Uz.format(rT(e))}function Ee(e){return $z.format(rT(e))}const Kg=({icon:e,label:t,value:n})=>u.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[u.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),u.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),Bz=({isOpen:e,onClose:t})=>{const[n,r]=b.useState(null),[i,s]=b.useState(!0),[l,d]=b.useState(null);b.useEffect(()=>{e&&(async()=>{s(!0),d(null);try{const v=await xe.generateDailyReport();r(v)}catch(v){console.error("Error al generar el informe diario",v),r(null),d("No fue posible generar el informe diario. Intenta nuevamente ms tarde.")}finally{s(!1)}})()},[e]);const f=g=>{const v=new Map;return g.forEach(_=>{const w=new Date(_.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),j=v.get(_.roleName)??[];j.push(w),v.set(_.roleName,j)}),v},h=g=>{const v=[];if(v.push("*REPORTE OUIOUITACOS*"),v.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),v.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),v.push("---"),v.push("*Estadsticas del da*"),v.push(`- Ventas: *${Ee(g.ventesDuJour)}*`),v.push(`- Clientes: *${g.clientsDuJour}*`),v.push(`- Ticket promedio: *${Ee(g.panierMoyen)}*`),v.push("---"),v.push("*Productos vendidos*"),g.soldProducts.length===0?v.push("Ningn producto vendido."):g.soldProducts.forEach(_=>{v.push(`
_${_.categoryName}_`),_.products.forEach(w=>{v.push(`  - ${w.quantity}x ${w.name} (${Ee(w.totalSales)})`)})}),v.push("---"),v.push("*Inicios de sesin desde las 05:00*"),g.roleLoginsUnavailable)v.push("Inicios de sesin no disponibles en este dispositivo.");else{const _=f(g.roleLogins);_.size===0?v.push("No hay inicios de sesin registrados."):_.forEach((w,j)=>{v.push(`- ${j}: ${w.join(", ")}`)})}return v.push("---"),v.push("*Inventario bajo*"),g.lowStockIngredients.length===0?v.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(_=>{v.push(`- ${_.nom} (${_.stock_actuel} / ${_.stock_minimum} ${_.unite})`)}),encodeURIComponent(v.join(`
`))},p=()=>{if(!n)return;const v=`https://wa.me/?text=${h(n)}`;window.open(v,"_blank"),t()};return u.jsx(Tn,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&u.jsx("p",{children:"Generando el reporte..."}),!i&&l&&u.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&u.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&u.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&u.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[u.jsx(sa,{className:"mt-0.5 h-4 w-4"}),u.jsx("span",{children:"Los inicios de sesin de los roles no estn disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),u.jsxs("div",{className:"text-center border-b pb-4",children:[u.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),u.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsx(Kg,{icon:u.jsx(eu,{}),label:"Ventas del da",value:Ee(n.ventesDuJour)}),u.jsx(Kg,{icon:u.jsx(Hy,{}),label:"Clientes del da",value:n.clientsDuJour}),u.jsx(Kg,{icon:u.jsx(PC,{}),label:"Ticket promedio",value:Ee(n.panierMoyen)})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(Zo,{})," Productos vendidos"]}),u.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(v=>u.jsxs("li",{children:[v.quantity,"x ",v.name," - ",u.jsx("span",{className:"font-semibold",children:Ee(v.totalSales)})]},v.id))})]},g.categoryName))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(BU,{})," Inicios de sesin desde las 05:00"]}),n.roleLoginsUnavailable?u.jsx("p",{className:"text-gray-500",children:"Inicios de sesin no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=f(n.roleLogins);return g.size===0?u.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesin registrados desde las 05:00."}):u.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([v,_])=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[u.jsx("span",{className:"font-semibold text-gray-800",children:v}),u.jsx("span",{className:"text-sm text-gray-600",children:_.join(", ")})]},v))})})()]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(sa,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?u.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>u.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[u.jsx("span",{children:g.nom}),u.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):u.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),u.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[u.jsx(AC,{size:20})," Enviar por WhatsApp"]})]})]})})},qz=()=>{const[e,t]=b.useState(!1),{role:n}=ma(),[r,i]=b.useState(null),[s,l]=b.useState(!1),d=()=>t(!0),f=()=>t(!1);return b.useEffect(()=>{const h=async()=>{try{const g=await xe.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};h();const p=xe.notifications.subscribe("notifications_updated",h);return()=>{p()}},[]),b.useEffect(()=>{if(typeof window>"u")return;const h=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"app-shell",children:[u.jsx(Lz,{isOpen:e,onClose:f,notifications:r,onReportClick:()=>l(!0)}),u.jsxs("div",{className:"app-main",children:[u.jsxs("header",{className:"app-header",children:[u.jsx("button",{type:"button",onClick:d,className:"app-header__menu-button md:hidden","aria-label":"Abrir el men",children:u.jsx(OC,{size:24})}),u.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),u.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),u.jsx("main",{className:"app-content",children:u.jsx("div",{className:"app-content__inner",children:u.jsx(vI,{})})})]})]}),u.jsx(Bz,{isOpen:s,onClose:()=>l(!1)})]})},Hz=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(s=>s.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},aT=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var j,S,O;const[r,i]=b.useState(null),[s,l]=b.useState(!0),[d,f]=b.useState(!1),h=[{name:"Enviado",icon:NC},{name:"Validado",icon:zf},{name:"En preparacion",icon:_C},{name:"Listo",icon:XU}],p=b.useCallback(N=>N?N.statut==="finalisee"||N.estado_cocina==="servido"||N.estado_cocina==="entregada"||N.estado_cocina==="listo"?3:N.estado_cocina==="recibido"?2:N.statut==="en_cours"?1:N.statut==="pendiente_validacion"||N.estado_cocina==="no_enviado"?0:-1:-1,[]),g=b.useMemo(()=>p(r),[r,p]);b.useEffect(()=>{let N=!0,A;const C=async()=>{try{const T=await xe.getCustomerOrderStatus(e);if(N){if(i(T),(T==null?void 0:T.statut)==="finalisee"||(T==null?void 0:T.estado_cocina)==="servido"||(T==null?void 0:T.estado_cocina)==="entregada"){A&&clearInterval(A),Hz(T);const k=T.date_servido??Date.now();FA(T.id,k+QI)}if(!T){const k=il();(k==null?void 0:k.orderId)===e&&W0()}}}catch(T){console.error("Failed to fetch order status",T)}finally{N&&l(!1)}};return C(),A=setInterval(C,5e3),()=>{N=!1,clearInterval(A)}},[e]);const v=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",_=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",w=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return s?u.jsx("div",{className:_,children:"Chargement du suivi de commande..."}):r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:_,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),u.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),u.jsx("div",{className:"flex justify-between items-start mb-10 px-2",children:h.map((N,A)=>{const C=A===g,T=A===h.length-1,k=A<g||T&&v,D=["w-16 h-16 rounded-full flex items-center justify-center border-4 transition-all duration-300",k?"bg-green-500 border-green-500 text-white":"",!k&&C&&A===0?"waiting-status-indicator":"",!k&&C&&A!==0?"bg-brand-primary border-brand-primary text-brand-secondary animate-pulse":"",!k&&!C?"bg-gray-200 border-gray-300 text-gray-500":""].filter(Boolean).join(" ");return u.jsxs(Vn.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center text-center w-24",children:[u.jsx("div",{className:D,children:u.jsx(N.icon,{size:32})}),u.jsx("p",{className:`mt-2 text-sm md:text-base font-semibold break-words ${C?"font-bold text-brand-primary":`${n==="hero"?"text-gray-300":"text-gray-600"}`}`,children:N.name})]}),A<h.length-1&&u.jsx("div",{className:`flex-1 h-2 mt-8 transition-colors duration-500 ${k?"bg-green-500":"bg-gray-300"}`})]},N.name)})}),u.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4`,children:[u.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Rsum de la commande"}),u.jsx("div",{className:"space-y-2",children:r.items.map(N=>{const C=N.nom_produit==="Domicilio"&&N.prix_unitaire===0;return u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[u.jsxs("span",{children:[N.quantite,"x ",N.nom_produit]}),C?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-400 line-through",children:Ee(8e3)}),u.jsx("span",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("span",{children:Ee(N.prix_unitaire*N.quantite)})]},N.id)})}),(r.subtotal||r.total_discount||r.promo_code||r.applied_promotions)&&u.jsxs("div",{className:`border-t pt-3 mt-3 space-y-2 ${n==="hero"?"border-gray-500":"border-gray-300"}`,children:[r.subtotal&&r.subtotal!==r.total&&u.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{children:Ee(r.subtotal)})]}),r.applied_promotions&&r.applied_promotions.length>0&&u.jsx("div",{className:"space-y-1",children:r.applied_promotions.map((N,A)=>u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-green-400":"text-green-600"}`,children:[u.jsxs("span",{className:"text-sm",children:[" ",N.name]}),u.jsxs("span",{className:"text-sm font-semibold",children:["-",Ee(N.discount_amount)]})]},A))}),r.promo_code&&u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-green-400":"text-green-600"}`,children:[u.jsxs("span",{className:"text-sm",children:[" Code promo: ",r.promo_code]}),u.jsxs("span",{className:"text-sm font-semibold",children:["-",Ee(r.total_discount||0)]})]})]}),u.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:Ee(r.total)})]}),u.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(sb,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.nom]}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(TC,{size:16,className:"mr-2"}),(S=r.clientInfo)==null?void 0:S.telephone]}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(kh,{size:16,className:"mr-2"}),(O=r.clientInfo)==null?void 0:O.adresse]}),r.receipt_url&&u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center text-blue-400 hover:underline",children:[u.jsx(u$,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),u.jsxs("div",{className:"mt-8 text-center space-y-4",children:[v&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[u.jsx(zf,{size:16})," Pedido listo"]})}),u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis  jour automatiquement."}),u.jsx("button",{onClick:v?t:void 0,disabled:!v,className:`font-bold py-3 px-6 rounded-lg transition ${v?`${n==="hero"?"bg-gray-200 text-gray-800 hover:bg-gray-300":"bg-brand-primary text-brand-secondary hover:bg-brand-primary-dark"} cursor-pointer`:"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50"}`,children:"Volver"})]})]})]})}),u.jsx(Tn,{isOpen:d,onClose:()=>f(!1),title:"Justificatif de Paiement",children:r.receipt_url?u.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"Aucun justificatif fourni."})})]}):n==="hero"?null:u.jsx("div",{className:_,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Commande non trouve"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Nous n'avons pas pu retrouver votre commande."}),u.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})},Fz={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},Kz={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},fb=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},Gz=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(Fz))if(t.includes(n))return r;return null},Yz=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return Kz[r]??null},Vz=e=>{const t=Gz(e.format);return t||Yz(e.url)},Wz=e=>{const t=fb(e.name),n=Vz(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},Xz="data-custom-font-faces",iT=e=>{b.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(s=>s.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(s=>{const l=Wz(s),d=l.match(/font-family: "([^"]+)";/),f=d?d[1]:s.name;r.has(f)||(r.add(f),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(Xz,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},sT=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},Hr=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},hb=(e,t)=>{const n=Hr(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Fr=e=>({color:e.textColor,fontFamily:sT(e.fontFamily)}),Di=e=>({...Fr(e),fontSize:e.fontSize}),mb=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:sT((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},oT=(e,t)=>({...mb(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),lT=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},cT=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",s=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${s}=${l}`}},h2="/logo-brand.svg",Ba=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'lment modifiable "${e}"`)},uT=Vn.createContext(!0),We=({id:e,onEdit:t,children:n,label:r,className:i,buttonClassName:s,as:l="div"})=>{const d=["group relative",i].filter(Boolean).join(" "),f=Vn.useContext(uT),[h,p]=b.useState(!1);if(!f)return u.jsx(l,{className:d,children:n});const g=["customization-edit-button absolute z-30 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-white shadow-lg transition-all duration-200","opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500","hover:scale-110 hover:bg-blue-600 active:scale-95",s??"right-2 top-2"].filter(Boolean).join(" "),v=_=>{_.preventDefault(),_.stopPropagation();const w=Ba(e),j=_.currentTarget.getBoundingClientRect(),S=_.currentTarget.closest(`[data-zone="${w}"]`)??_.currentTarget.parentElement,O=(S==null?void 0:S.getBoundingClientRect())??null;t(e,{zone:w,anchor:j??O})};return u.jsxs(l,{className:d,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[u.jsx("button",{type:"button",onClick:v,className:g,"aria-label":r,"data-element-id":e,title:r,children:u.jsx(r$,{className:"h-4 w-4","aria-hidden":"true"})}),h&&u.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-blue-500 border-dashed rounded-lg opacity-50 animate-pulse"}),h&&u.jsxs("div",{className:"absolute z-40 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap",children:[r,u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]}),n]})},Wo=({children:e,className:t,zone:n,activeZone:r})=>{const s=["customization-section-card relative overflow-hidden rounded-3xl border bg-white shadow-sm transition-all",r===n?"active border-brand-primary/70 shadow-brand-primary/20 ring-2 ring-brand-primary/10":"border-gray-200",t].filter(Boolean).join(" ");return u.jsx("div",{className:s,"data-zone":n,children:e})},m2=({content:e,bestSellerProducts:t,onEdit:n,activeZone:r,showEditButtons:i=!0})=>{const s=Hr(e.navigation.style),l=Fr(e.navigation.style);Di(e.navigation.style);const d=e.navigation.brandLogo??h2,f=e.navigation.staffLogo??e.navigation.brandLogo??h2,h=hb(e.hero.style,e.hero.backgroundImage),p=Fr(e.hero.style),g=Di(e.hero.style),v=Hr(e.about.style),_=Fr(e.about.style);Di(e.about.style);const w=Hr(e.menu.style),j=Fr(e.menu.style),S=Di(e.menu.style),O=Hr(e.findUs.style),N=Fr(e.findUs.style),A=Hr(e.footer.style),C=Di(e.footer.style);iT(e.assets.library);const T=e.elementStyles??{},k=e.elementRichText??{},M=V=>{var fe;const X=k[V],te=(fe=X==null?void 0:X.html)==null?void 0:fe.trim();return te&&te.length>0?te:null},D=(V,X,te,fe)=>{const pe=M(V);return pe?Vn.createElement(X,{...te,dangerouslySetInnerHTML:{__html:pe}}):Vn.createElement(X,te,fe)},q={navigation:e.navigation.style,hero:e.hero.style,about:e.about.style,menu:e.menu.style,instagramReviews:e.instagramReviews.style,findUs:e.findUs.style,footer:e.footer.style},$=V=>T[V],F=V=>{const X=Ba(V);return mb(q[X],$(V))},H=V=>{const X=Ba(V);return oT(q[X],$(V))},ae=V=>{const X=Ba(V);return lT(q[X],$(V))},z=e.findUs.address.trim(),K=e.findUs.mapUrl,I=typeof K=="string"?K.trim():"",Y=I.length>0,W=!Y&&z.length>0?encodeURIComponent(z):"",ue=Y?I:W?`https://www.google.com/maps?q=${W}`:"https://www.google.com/maps",re=Y?cT(I,"output","embed"):W?`https://www.google.com/maps?q=${W}&output=embed`:"about:blank",R=Y||W.length>0,L=z.length>0?z:e.findUs.title;return u.jsx(uT.Provider,{value:i,children:u.jsxs("div",{className:"space-y-6 rounded-[2.5rem] border border-gray-200 bg-slate-50 p-6 shadow-inner",children:[u.jsx(Wo,{zone:"navigation",activeZone:r,children:u.jsx(We,{id:"navigation.style.background",label:"Modifier le fond de la navigation",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("header",{className:"login-header",style:s,children:u.jsxs("div",{className:"layout-container login-header__inner",style:l,children:[u.jsxs("div",{className:"login-brand",style:l,children:[u.jsx(We,{id:"navigation.brandLogo",label:"Modifier le logo principal",onEdit:n,as:"span",className:"inline-flex items-center",children:u.jsx("img",{src:d,alt:`Logo ${e.navigation.brand}`,className:"login-brand__logo"})}),u.jsx(We,{id:"navigation.brand",label:"Modifier le nom de la marque",onEdit:n,as:"span",className:"ml-3 inline-flex items-center",buttonClassName:"-right-3 -top-3",children:D("navigation.brand","span",{className:"login-brand__name",style:F("navigation.brand")},e.navigation.brand)})]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[u.jsx(We,{id:"navigation.links.home",label:"Modifier le lien Accueil",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.home","span",{className:"login-nav__link",style:H("navigation.links.home")},e.navigation.links.home)}),u.jsx(We,{id:"navigation.links.about",label:"Modifier le lien  propos",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.about","span",{className:"login-nav__link",style:H("navigation.links.about")},e.navigation.links.about)}),u.jsx(We,{id:"navigation.links.menu",label:"Modifier le lien Menu",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.menu","span",{className:"login-nav__link",style:H("navigation.links.menu")},e.navigation.links.menu)}),u.jsx(We,{id:"navigation.links.loginCta",label:"Modifier le bouton personnel",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("div",{className:"login-nav__staff-btn","aria-label":e.navigation.links.loginCta,role:"img",children:u.jsx(We,{id:"navigation.staffLogo",label:"Modifier le logo d'accs staff",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("img",{src:f,alt:"",className:"login-brand__logo","aria-hidden":"true"})})})})]})]})})})}),u.jsx(Wo,{zone:"hero",activeZone:r,children:u.jsx(We,{id:"hero.backgroundImage",label:"Modifier le visuel de fond du hero",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-hero",style:{...h,...p},children:u.jsx("div",{className:"section-hero__inner",children:u.jsxs("div",{className:"hero-content",style:p,children:[u.jsx(We,{id:"hero.title",label:"Modifier le titre du hero",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.title","h2",{className:"hero-title",style:F("hero.title")},e.hero.title)}),u.jsx(We,{id:"hero.subtitle",label:"Modifier le sous-titre du hero",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("hero.subtitle","p",{className:"hero-subtitle",style:H("hero.subtitle")},e.hero.subtitle)}),u.jsx(We,{id:"hero.ctaLabel",label:"Modifier le texte du bouton principal",onEdit:n,className:"mt-6 inline-flex",buttonClassName:"-right-3 -top-3",children:u.jsx("button",{type:"button",className:"ui-btn ui-btn-accent hero-cta",style:{...H("hero.ctaLabel"),...ae("hero.ctaLabel")},disabled:!0,children:D("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.ctaLabel")},e.hero.ctaLabel)})}),u.jsxs("div",{className:"hero-history mt-6",children:[u.jsx(We,{id:"hero.historyTitle",label:"Modifier le titre de l'historique",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.historyTitle","p",{className:"hero-history__title",style:H("hero.historyTitle")},e.hero.historyTitle)}),u.jsx(We,{id:"hero.reorderCtaLabel",label:"Modifier le bouton de rassort",onEdit:n,className:"hero-history__list",buttonClassName:"right-2 top-2",children:u.jsx(u.Fragment,{children:[0,1,2].map(V=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsx("p",{className:"hero-history__date",style:g,children:"Pedido del 12/03/2024"}),u.jsxs("p",{className:"hero-history__details",style:g,children:["2 article(s)  ",Ee(32e3)]})]}),u.jsx("button",{type:"button",className:"hero-history__cta",style:{...H("hero.reorderCtaLabel"),...ae("hero.reorderCtaLabel")},disabled:!0,children:D("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.reorderCtaLabel")},e.hero.reorderCtaLabel)})]},V))})})]})]})})})})}),u.jsx(Wo,{zone:"about",activeZone:r,children:u.jsx(We,{id:"about.style.background",label:"Modifier le fond de la section  propos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...v,..._},children:u.jsxs("div",{className:"section-inner section-inner--center",style:_,children:[u.jsx(We,{id:"about.title",label:"Modifier le titre  propos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("about.title","h2",{className:"section-title",style:F("about.title")},e.about.title)}),u.jsx(We,{id:"about.description",label:"Modifier la description  propos",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("about.description","p",{className:"section-text section-text--muted",style:H("about.description")},e.about.description)}),e.about.image&&u.jsx(We,{id:"about.image",label:"Modifier l'image  propos",onEdit:n,className:"mt-6 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.about.image,alt:e.about.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})})]})})})}),u.jsx(Wo,{zone:"menu",activeZone:r,children:u.jsx(We,{id:"menu.style.background",label:"Modifier le fond de la section Menu",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-muted",style:{...w,...j},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:j,children:[u.jsx(We,{id:"menu.title",label:"Modifier le titre du menu",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("menu.title","h2",{className:"section-title",style:F("menu.title")},e.menu.title)}),e.menu.image&&u.jsx(We,{id:"menu.image",label:"Modifier l'image du menu",onEdit:n,className:"mb-8 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.menu.image,alt:e.menu.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})}),u.jsx("div",{className:"menu-grid",children:t.length>0?t.map(V=>{const X=!!V.image;return u.jsxs("article",{className:"ui-card menu-card",children:[X?u.jsx("img",{src:V.image,alt:V.nom_produit,className:"h-40 w-full rounded-t-xl object-cover"}):u.jsx("div",{className:"h-40 w-full rounded-t-xl bg-gradient-to-br from-orange-200 via-amber-100 to-orange-50"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:j,children:V.nom_produit}),V.description&&u.jsx("p",{className:"menu-card__description",style:S,children:V.description}),u.jsx("p",{className:"menu-card__price",style:S,children:Ee(V.prix_vente)})]})]},V.id)}):u.jsx("div",{className:"col-span-full rounded-2xl border border-dashed border-slate-300 bg-white/70 p-6 text-center",children:u.jsx("p",{className:"text-sm text-slate-500",style:S,children:"Aucun best seller slectionn pour le moment."})})}),u.jsx(We,{id:"menu.ctaLabel",label:"Modifier le bouton de commande",onEdit:n,className:"section-actions mt-8",buttonClassName:"right-2 top-2",children:u.jsxs("div",{className:"section-actions",children:[u.jsx("button",{type:"button",className:"ui-btn ui-btn-primary hero-cta",style:{...H("menu.ctaLabel"),...ae("menu.ctaLabel")},disabled:!0,children:D("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("menu.ctaLabel")},e.menu.ctaLabel)}),u.jsx(We,{id:"menu.loadingLabel",label:"Modifier le texte de chargement",onEdit:n,className:"ml-4 inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("menu.loadingLabel","p",{className:"section-text section-text--muted",style:H("menu.loadingLabel")},e.menu.loadingLabel)})]})})]})})})}),u.jsx(Wo,{zone:"findUs",activeZone:r,children:u.jsx(We,{id:"findUs.style.background",label:"Modifier le fond de la section Encuntranos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...O,...N},children:u.jsxs("div",{className:"find-us-grid",style:N,children:[u.jsxs("div",{className:"find-us-panel",style:N,children:[u.jsx(We,{id:"findUs.title",label:"Modifier le titre Encuntranos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.title","h2",{className:"section-title",style:F("findUs.title")},e.findUs.title)}),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:N,children:[u.jsx(kh,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.addressLabel",label:"Modifier le libell de l'adresse",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.addressLabel","h3",{className:"find-us-detail__title",style:F("findUs.addressLabel")},e.findUs.addressLabel)}),u.jsx(We,{id:"findUs.address",label:"Modifier l'adresse",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.address","p",{className:"find-us-detail__text",style:H("findUs.address")},e.findUs.address)})]})]}),u.jsxs("div",{className:"find-us-detail",style:N,children:[u.jsx(jl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.hoursLabel",label:"Modifier le libell des horaires",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:F("findUs.hoursLabel")},e.findUs.hoursLabel)}),u.jsx(We,{id:"findUs.hours",label:"Modifier les horaires",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.hours","p",{className:"find-us-detail__text",style:H("findUs.hours")},e.findUs.hours)})]})]}),u.jsxs("div",{className:"find-us-detail",style:N,children:[u.jsx(EC,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.cityLabel",label:"Modifier le libell de l'email",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.cityLabel","h3",{className:"find-us-detail__title",style:F("findUs.cityLabel")},e.findUs.cityLabel)}),u.jsx(We,{id:"findUs.city",label:"Modifier l'email",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.city","p",{className:"find-us-detail__text",style:H("findUs.city")},e.findUs.city)})]})]})]})]}),u.jsx("div",{className:"find-us-map",style:N,children:R?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${L}`,src:re,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:ue,target:"_blank",rel:"noopener noreferrer",children:u.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libell du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})]}):u.jsx("div",{className:"find-us-map__placeholder",children:u.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libell du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})})]})})})}),u.jsx(Wo,{zone:"footer",activeZone:r,children:u.jsx(We,{id:"footer.style.background",label:"Modifier le fond du pied de page",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("footer",{className:"site-footer",style:{...A,...C},children:u.jsx("div",{className:"layout-container site-footer__inner",style:C,children:u.jsx(We,{id:"footer.text",label:"Modifier le texte du pied de page",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:u.jsxs("p",{style:H("footer.text"),children:[" ",new Date().getFullYear()," ",e.navigation.brand,"."," ",D("footer.text","span",{style:H("footer.text")},e.footer.text)]})})})})})})]})})},p2="/logo-brand.svg",Qz=qf,dT=Vn.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},s)=>{const l=g=>{e.length<n&&!i&&t(e+g)},d=()=>{e.length>0&&!i&&t(e.slice(0,-1))},f=g=>{if(i)return;const v=g.target.value.replace(/\D/g,"").slice(0,n);t(v)},h=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),d();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return u.jsxs("div",{className:"pin-input","aria-label":"Clavier numrique scuris",children:[u.jsx("input",{ref:s,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:f,onKeyDown:h,"aria-describedby":r,"aria-label":`Code PIN  ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),u.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,v)=>u.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[v]?"":""},v))}),u.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),u.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,v)=>u.jsx("button",{type:"button",onClick:()=>l(String(v+1)),className:"pin-pad__button",disabled:i,children:v+1},v+1)),u.jsx("div",{"aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),u.jsx("button",{type:"button",onClick:d,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});dT.displayName="PinInput";const Jz=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",Zz=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},e8=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(""),[i,s]=b.useState(""),[l,d]=b.useState(!1),f=b.useRef(null),{login:h}=ma(),p=ha(),{content:g}=xu(),[v,_]=b.useState(()=>g);b.useEffect(()=>{g&&_(g)},[g]);const w=v??Qz;iT(w.assets.library);const{navigation:j,hero:S,about:O,menu:N,findUs:A,footer:C}=w,T=j.brandLogo??p2,k=j.brandLogo??p2,M=Hr(j.style),D=Fr(j.style),q=hb(S.style,S.backgroundImage),$=Fr(S.style),F=Di(S.style),H=Hr(O.style),ae=Fr(O.style),z=Hr(N.style),K=Fr(N.style),I=Di(N.style),Y=Hr(A.style),W=Fr(A.style),ue=Hr(C.style),re=Di(C.style),R=w.elementStyles??{},L={navigation:j.style,hero:S.style,about:O.style,menu:N.style,instagramReviews:w.instagramReviews.style,findUs:A.style,footer:C.style},V=Ae=>R[Ae],X=Ae=>{const it=Ba(Ae);return mb(L[it],V(Ae))},te=Ae=>{const it=Ba(Ae);return oT(L[it],V(Ae))},fe=Ae=>{const it=Ba(Ae);return lT(L[it],V(Ae))},pe=w.elementRichText??{},ke=Ae=>{var ln;const it=pe[Ae],Ut=(ln=it==null?void 0:it.html)==null?void 0:ln.trim();return Ut&&Ut.length>0?Ut:null},ie=(Ae,it,Ut,ln)=>{const Ir=ke(Ae);return Ir?Vn.createElement(it,{...Ut,dangerouslySetInnerHTML:{__html:Ir}}):Vn.createElement(it,Ut,ln)},[je,Pe]=b.useState([]),[ce,At]=b.useState([]),[Le,Ct]=b.useState(!0),[Tt,Ht]=b.useState(!1),[Xn,ge]=b.useState(()=>il()),Xe=b.useCallback(async Ae=>{d(!0),s("");try{const it=await h(Ae),Ut=db(it)??"/dashboard";t(!1),r(""),p(Ut)}catch(it){console.error("Failed to authenticate with PIN",it);const Ut=it instanceof Error&&it.message?it.message:"PIN invalide";s(Ut),r(""),requestAnimationFrame(()=>{var ln;(ln=f.current)==null||ln.focus()})}finally{d(!1)}},[h,p]);b.useEffect(()=>{if(!e)return;const Ae=window.setTimeout(()=>{var it;(it=f.current)==null||it.focus()},0);return()=>window.clearTimeout(Ae)},[e]),b.useEffect(()=>{n.length===6&&!l&&Xe(n)},[n,l,Xe]),b.useEffect(()=>{if(!(typeof window>"u"))try{const Ae=window.localStorage.getItem("customer-order-history");if(!Ae)return;const it=JSON.parse(Ae);Array.isArray(it)&&At(it)}catch(Ae){console.error("Could not load order history",Ae)}},[]),b.useEffect(()=>{let Ae=!0;return(async()=>{try{const Ut=await xe.getBestSellerProducts();Ae&&Pe(Ut)}catch(Ut){console.error("Could not load best seller products",Ut)}finally{Ae&&Ct(!1)}})(),()=>{Ae=!1}},[]);const Ge=A.address.trim(),ut=A.mapUrl,kt=typeof ut=="string"?ut.trim():"",Ye=kt.length>0,Dr=!Ye&&Ge.length>0?encodeURIComponent(Ge):"",pa=Ye?kt:Dr?`https://www.google.com/maps?q=${Dr}`:"https://www.google.com/maps",ni=Ye?cT(kt,"output","embed"):Dr?`https://www.google.com/maps?q=${Dr}&output=embed`:"about:blank",de=Ye||Dr.length>0,me=Ge.length>0?Ge:A.title,Oe=(Xn==null?void 0:Xn.orderId)??null,Qe=je.slice(0,6),Je=Qe.length,Pt=Jz(Je),De=Zz(Je),rt=Ae=>{Ae.preventDefault(),n.length===6&&!l&&Xe(n)},vt=()=>{W0(),ge(null)},Mt=Ae=>{localStorage.setItem("customer-order-reorder-id",Ae),p("/commande-client")};return u.jsxs("div",{className:"login-page",children:[u.jsx("header",{className:"login-header",style:M,children:u.jsxs("div",{className:"layout-container login-header__inner",style:D,children:[u.jsxs("div",{className:"login-brand",style:D,children:[u.jsx("img",{src:T,alt:`Logo ${j.brand}`,className:"login-brand__logo"}),ie("navigation.brand","span",{className:"login-brand__name",style:X("navigation.brand")},j.brand)]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[ie("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:te("navigation.links.home")},j.links.home),ie("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:te("navigation.links.about")},j.links.about),ie("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:te("navigation.links.menu")},j.links.menu),u.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":j.links.loginCta,children:u.jsx("img",{src:k,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),u.jsx("button",{type:"button",onClick:()=>Ht(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:u.jsx(OC,{size:24})})]})}),Tt&&u.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:M,children:[u.jsx("button",{type:"button",onClick:()=>Ht(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:u.jsx(la,{size:28})}),u.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:D,children:[ie("navigation.links.home","a",{href:"#accueil",onClick:()=>Ht(!1),className:"login-menu-overlay__link",style:te("navigation.links.home")},j.links.home),ie("navigation.links.about","a",{href:"#apropos",onClick:()=>Ht(!1),className:"login-menu-overlay__link",style:te("navigation.links.about")},j.links.about),ie("navigation.links.menu","a",{href:"#menu",onClick:()=>Ht(!1),className:"login-menu-overlay__link",style:te("navigation.links.menu")},j.links.menu),u.jsx("button",{type:"button",onClick:()=>{t(!0),Ht(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":j.links.loginCta,children:u.jsx("img",{src:k,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),u.jsxs("main",{children:[u.jsx("section",{id:"accueil",className:"section section-hero",style:{...q,...$},children:u.jsx("div",{className:"section-hero__inner",children:Oe?u.jsx(aT,{orderId:Oe,onNewOrderClick:vt,variant:"hero"}):u.jsxs("div",{className:"hero-content",style:$,children:[ie("hero.title","h2",{className:"hero-title",style:X("hero.title")},S.title),ie("hero.subtitle","p",{className:"hero-subtitle",style:te("hero.subtitle")},S.subtitle),u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...te("hero.ctaLabel"),...fe("hero.ctaLabel")},children:ie("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:te("hero.ctaLabel")},S.ctaLabel)}),ce.length>0&&u.jsxs("div",{className:"hero-history",children:[ie("hero.historyTitle","p",{className:"hero-history__title",style:te("hero.historyTitle")},S.historyTitle),u.jsx("div",{className:"hero-history__list",children:ce.slice(0,3).map(Ae=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsxs("p",{className:"hero-history__date",style:F,children:["Pedido del ",new Date(Ae.date_creation).toLocaleDateString()]}),u.jsxs("p",{className:"hero-history__details",style:F,children:[Ae.items.length," article(s)  ",Ee(Ae.total)]})]}),u.jsx("button",{type:"button",onClick:()=>Mt(Ae.id),className:"hero-history__cta",style:{...te("hero.reorderCtaLabel"),...fe("hero.reorderCtaLabel")},children:ie("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:te("hero.reorderCtaLabel")},S.reorderCtaLabel)})]},Ae.id))})]})]})})}),u.jsx("section",{id:"apropos",className:"section section-surface",style:{...H,...ae},children:u.jsxs("div",{className:"section-inner section-inner--center",style:ae,children:[ie("about.title","h2",{className:"section-title",style:X("about.title")},O.title),ie("about.description","p",{className:"section-text section-text--muted",style:te("about.description")},O.description),O.image&&u.jsx("img",{src:O.image,alt:O.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),u.jsx("section",{id:"menu",className:"section section-muted",style:{...z,...K},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:K,children:[ie("menu.title","h2",{className:"section-title",style:X("menu.title")},N.title),N.image&&u.jsx("img",{src:N.image,alt:N.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),Le?ie("menu.loadingLabel","p",{className:"section-text section-text--muted",style:te("menu.loadingLabel")},N.loadingLabel):Qe.length>0?u.jsx("div",{className:Pt,children:Qe.map(Ae=>u.jsxs("article",{className:De,children:[u.jsx("img",{src:Ae.image,alt:Ae.nom_produit,className:"menu-card__media"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:K,children:Ae.nom_produit}),u.jsx("p",{className:"menu-card__description",style:I,children:Ae.description}),u.jsx("p",{className:"menu-card__price",style:I,children:Ee(Ae.prix_vente)})]})]},Ae.id))}):u.jsx("p",{className:"section-text section-text--muted",style:I,children:"Aucun produit best seller n'est disponible pour le moment."}),u.jsx("div",{className:"section-actions",children:u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...te("menu.ctaLabel"),...fe("menu.ctaLabel")},children:ie("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:te("menu.ctaLabel")},N.ctaLabel)})})]})}),u.jsx("section",{id:"find-us",className:"section section-surface",style:{...Y,...W},children:u.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:W,children:[u.jsxs("div",{className:"find-us-panel",style:W,children:[ie("findUs.title","h2",{className:"section-title",style:X("findUs.title")},A.title),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(kh,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[ie("findUs.addressLabel","h3",{className:"find-us-detail__title",style:X("findUs.addressLabel")},A.addressLabel),ie("findUs.address","p",{className:"find-us-detail__text",style:te("findUs.address")},A.address)]})]}),u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(jl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[ie("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:X("findUs.hoursLabel")},A.hoursLabel),ie("findUs.hours","p",{className:"find-us-detail__text",style:te("findUs.hours")},A.hours)]})]}),u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(EC,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[ie("findUs.cityLabel","h3",{className:"find-us-detail__title",style:X("findUs.cityLabel")},A.cityLabel),ie("findUs.city","p",{className:"find-us-detail__text",style:te("findUs.city")},A.city)]})]})]})]}),u.jsx("div",{className:"find-us-map",style:W,children:de?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${me}`,src:ni,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:pa,target:"_blank",rel:"noopener noreferrer",children:ie("findUs.mapLabel","span",{className:"find-us-map__label",style:te("findUs.mapLabel")},A.mapLabel)})]}):u.jsx("div",{className:"find-us-map__placeholder",children:ie("findUs.mapLabel","span",{className:"find-us-map__label",style:te("findUs.mapLabel")},A.mapLabel)})})]})})]}),u.jsx("footer",{className:"site-footer",style:{...ue,...re},children:u.jsx("div",{className:"layout-container site-footer__inner",style:re,children:u.jsxs("p",{style:te("footer.text"),children:[" ",new Date().getFullYear()," ",j.brand,"."," ",ie("footer.text","span",{style:te("footer.text")},C.text)]})})}),u.jsx(Tn,{isOpen:e,onClose:()=>{t(!1),r(""),s("")},title:"Connexion du personnel",size:"lg",children:u.jsx("div",{className:"login-modal",children:u.jsx("form",{onSubmit:rt,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:u.jsxs("div",{className:"login-modal__panel",children:[u.jsx(dT,{ref:f,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&u.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function fT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fT(e))&&(r&&(r+=" "),r+=t);return r}var Gg={},Yg={},g2;function t8(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Yg)),Yg}var Vg={},v2;function hT(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Vg)),Vg}var Wg={},y2;function mT(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Wg)),Wg}var Xg={},b2;function pb(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,l="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const h=n[s];d?h==="\\"&&s+1<i?(s++,l+=n[s]):h===d?d="":l+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,r.push(l),l=""):l+=h:h==="["?(f=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,s++}return l&&r.push(l),r}e.toPath=t})(Xg)),Xg}var x2;function gb(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t8(),n=hT(),r=mT(),i=pb();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(Gg)),Gg}var Qg,_2;function n8(){return _2||(_2=1,Qg=gb().get),Qg}var r8=n8();const Is=Wr(r8);var Jg={exports:{}},mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function a8(){if(w2)return mt;w2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case i:case r:case f:case h:case v:return j;default:switch(j=j&&j.$$typeof,j){case l:case d:case g:case p:return j;case s:return j;default:return S}}case t:return S}}}return mt.ContextConsumer=s,mt.ContextProvider=l,mt.Element=e,mt.ForwardRef=d,mt.Fragment=n,mt.Lazy=g,mt.Memo=p,mt.Portal=t,mt.Profiler=i,mt.StrictMode=r,mt.Suspense=f,mt.SuspenseList=h,mt.isContextConsumer=function(j){return w(j)===s},mt.isContextProvider=function(j){return w(j)===l},mt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},mt.isForwardRef=function(j){return w(j)===d},mt.isFragment=function(j){return w(j)===n},mt.isLazy=function(j){return w(j)===g},mt.isMemo=function(j){return w(j)===p},mt.isPortal=function(j){return w(j)===t},mt.isProfiler=function(j){return w(j)===i},mt.isStrictMode=function(j){return w(j)===r},mt.isSuspense=function(j){return w(j)===f},mt.isSuspenseList=function(j){return w(j)===h},mt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===i||j===r||j===f||j===h||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===p||j.$$typeof===l||j.$$typeof===s||j.$$typeof===d||j.$$typeof===_||j.getModuleId!==void 0)},mt.typeOf=w,mt}var j2;function i8(){return j2||(j2=1,Jg.exports=a8()),Jg.exports}var s8=i8(),hn=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,Os=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),da=e=>Se(e)||typeof e=="string",o8=0,nu=e=>{var t=++o8;return"".concat(e||"").concat(t)},Cn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return r;var s;if(Os(t)){if(n==null)return r;var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return ur(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},pT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Sn(e,t,n){return Se(e)&&Se(t)?e+n*(t-e):t}function l8(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Is(r,t))===n)}var mn=e=>e===null||typeof e>"u",_u=e=>mn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),c8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function vb(e){if(typeof e!="string")return!1;var t=c8;return t.includes(e)}var u8=["viewBox","children"],S2=["points","pathLength"],Zg={svg:u8,polygon:S2,polyline:S2},d8=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{vb(i)&&(r[i]=(s=>n[i](n,s)))}),r},f8=(e,t,n)=>r=>(e(t,n,r),null),wu=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];vb(i)&&typeof s=="function"&&(r||(r={}),r[i]=f8(s,t,n))}),r},h8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function gT(e){if(typeof e!="string")return!1;var t=h8;return t.includes(e)}function Hi(e){var t=Object.entries(e).filter(n=>{var[r]=n;return gT(r)});return Object.fromEntries(t)}var N2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",E2=null,ev=null,vT=e=>{if(e===E2&&Array.isArray(ev))return ev;var t=[];return b.Children.forEach(e,n=>{mn(n)||(s8.isFragment(n)?t=t.concat(vT(n.props.children)):t.push(n))}),ev=t,E2=e,t};function yb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>N2(i)):r=[N2(t)],vT(e).forEach(i=>{var s=Is(i,"type.displayName")||Is(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var m8=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=r&&(Zg==null?void 0:Zg[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&s.includes(t)||gT(t)),f=!!n&&vb(t);return l||d||f},rn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var l;m8((l=r)===null||l===void 0?void 0:l[s],s,t,n)&&(i[s]=r[s])}),i},p8=["children","width","height","viewBox","className","style","title","desc"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function g8(e,t){if(e==null)return{};var n,r,i=v8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bb=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=g8(e,p8),g=s||{width:r,height:i,x:0,y:0},v=ct("recharts-surface",l);return b.createElement("svg",Yy({},rn(p,!0,"svg"),{className:v,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),b.createElement("title",null,f),b.createElement("desc",null,h),n)}),y8=["children","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function b8(e,t){if(e==null)return{};var n,r,i=x8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=b8(e,y8),s=ct("recharts-layer",r);return b.createElement("g",Vy({className:s},rn(i,!0),{ref:t}),n)}),yT=b.createContext(null),_8=()=>b.useContext(yT);function bt(e){return function(){return e}}const bT=Math.cos,Ff=Math.sin,Qr=Math.sqrt,Kf=Math.PI,Rh=2*Kf,Wy=Math.PI,Xy=2*Wy,vs=1e-6,w8=Xy-vs;function xT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function j8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xT;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class S8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xT:j8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-t,h=i-n,p=l-t,g=d-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>vs)if(!(Math.abs(g*f-h*p)>vs)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,w=i-d,j=f*f+h*h,S=_*_+w*w,O=Math.sqrt(j),N=Math.sqrt(v),A=s*Math.tan((Wy-Math.acos((j+v-S)/(2*O*N)))/2),C=A/N,T=A/O;Math.abs(C-1)>vs&&this._append`L${t+C*p},${n+C*g}`,this._append`A${s},${s},0,0,${+(g*_>p*w)},${this._x1=t+T*f},${this._y1=n+T*h}`}}arc(t,n,r,i,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=t+d,p=n+f,g=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>vs||Math.abs(this._y1-p)>vs)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%Xy+Xy),v>w8?this._append`A${r},${r},0,1,${g},${t-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:v>vs&&this._append`A${r},${r},0,${+(v>=Wy)},${g},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new S8(t)}function _b(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _T(e){this._context=e}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dh(e){return new _T(e)}function wT(e){return e[0]}function jT(e){return e[1]}function ST(e,t){var n=bt(!0),r=null,i=Dh,s=null,l=xb(d);e=typeof e=="function"?e:e===void 0?wT:bt(e),t=typeof t=="function"?t:t===void 0?jT:bt(t);function d(f){var h,p=(f=_b(f)).length,g,v=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,f),+t(g,h,f));if(_)return s=null,_+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:bt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),d):r},d}function af(e,t,n){var r=null,i=bt(!0),s=null,l=Dh,d=null,f=xb(h);e=typeof e=="function"?e:e===void 0?wT:bt(+e),t=typeof t=="function"?t:bt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jT:bt(+n);function h(g){var v,_,w,j=(g=_b(g)).length,S,O=!1,N,A=new Array(j),C=new Array(j);for(s==null&&(d=l(N=f())),v=0;v<=j;++v){if(!(v<j&&i(S=g[v],v,g))===O)if(O=!O)_=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=v-1;w>=_;--w)d.point(A[w],C[w]);d.lineEnd(),d.areaEnd()}O&&(A[v]=+e(S,v,g),C[v]=+t(S,v,g),d.point(r?+r(S,v,g):A[v],n?+n(S,v,g):C[v]))}if(N)return d=null,N+""||null}function p(){return ST().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:bt(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:bt(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:bt(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:bt(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:bt(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:bt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:bt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class NT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function N8(e){return new NT(e,!0)}function E8(e){return new NT(e,!1)}const wb={draw(e,t){const n=Qr(t/Kf);e.moveTo(n,0),e.arc(0,0,n,0,Rh)}},O8={draw(e,t){const n=Qr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ET=Qr(1/3),A8=ET*2,C8={draw(e,t){const n=Qr(t/A8),r=n*ET;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},T8={draw(e,t){const n=Qr(t),r=-n/2;e.rect(r,r,n,n)}},k8=.8908130915292852,OT=Ff(Kf/10)/Ff(7*Kf/10),P8=Ff(Rh/10)*OT,M8=-bT(Rh/10)*OT,R8={draw(e,t){const n=Qr(t*k8),r=P8*n,i=M8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const l=Rh*s/5,d=bT(l),f=Ff(l);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*i,f*r+d*i)}e.closePath()}},tv=Qr(3),D8={draw(e,t){const n=-Qr(t/(tv*3));e.moveTo(0,n*2),e.lineTo(-tv*n,-n),e.lineTo(tv*n,-n),e.closePath()}},Sr=-.5,Nr=Qr(3)/2,Qy=1/Qr(12),I8=(Qy/2+1)*3,L8={draw(e,t){const n=Qr(t/I8),r=n/2,i=n*Qy,s=r,l=n*Qy+n,d=-s,f=l;e.moveTo(r,i),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(Sr*r-Nr*i,Nr*r+Sr*i),e.lineTo(Sr*s-Nr*l,Nr*s+Sr*l),e.lineTo(Sr*d-Nr*f,Nr*d+Sr*f),e.lineTo(Sr*r+Nr*i,Sr*i-Nr*r),e.lineTo(Sr*s+Nr*l,Sr*l-Nr*s),e.lineTo(Sr*d+Nr*f,Sr*f-Nr*d),e.closePath()}};function U8(e,t){let n=null,r=xb(i);e=typeof e=="function"?e:bt(e||wb),t=typeof t=="function"?t:bt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:bt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:bt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Gf(){}function Yf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $8(e){return new AT(e)}function CT(e){this._context=e}CT.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z8(e){return new CT(e)}function TT(e){this._context=e}TT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B8(e){return new TT(e)}function kT(e){this._context=e}kT.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function q8(e){return new kT(e)}function O2(e){return e<0?-1:1}function A2(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),d=(s*i+l*r)/(r+i);return(O2(s)+O2(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function C2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nv(e,t,n){var r=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-r)/3;e._context.bezierCurveTo(r+d,i+d*t,s-d,l-d*n,s,l)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nv(this,this._t0,C2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nv(this,C2(this,n=A2(this,e,t)),n);break;default:nv(this,this._t0,n=A2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function PT(e){this._context=new MT(e)}(PT.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function MT(e){this._context=e}MT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function H8(e){return new Vf(e)}function F8(e){return new PT(e)}function RT(e){this._context=e}RT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=T2(e),i=T2(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function T2(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function K8(e){return new RT(e)}function Ih(e,t){this._context=e,this._t=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function G8(e){return new Ih(e,.5)}function Y8(e){return new Ih(e,0)}function V8(e){return new Ih(e,1)}function ol(e,t){if((l=e.length)>1)for(var n=1,r,i,s=e[t[0]],l,d=s.length;n<l;++n)for(i=s,s=e[t[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Jy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function W8(e,t){return e[t]}function X8(e){const t=[];return t.key=e,t}function Q8(){var e=bt([]),t=Jy,n=ol,r=W8;function i(s){var l=Array.from(e.apply(this,arguments),X8),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,s)]).data=g;for(d=0,p=_b(t(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:bt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:bt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?Jy:typeof s=="function"?s:bt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??ol,i):n},i}function J8(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ol(e,t)}}function Z8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var l=0,d=0;l<i;++l)d+=e[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}ol(e,t)}}function eB(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[r][1]||0,v=p[r-1][1]||0,_=(g-v)/2,w=0;w<d;++w){var j=e[t[w]],S=j[r][1]||0,O=j[r-1][1]||0;_+=S-O}f+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ol(e,t)}}var tB=["type","size","sizeType"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function k2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(n),!0).forEach(function(r){nB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nB(e,t,n){return(t=rB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rB(e){var t=aB(e,"string");return typeof t=="symbol"?t:t+""}function aB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iB(e,t){if(e==null)return{};var n,r,i=sB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DT={symbolCircle:wb,symbolCross:O8,symbolDiamond:C8,symbolSquare:T8,symbolStar:R8,symbolTriangle:D8,symbolWye:L8},oB=Math.PI/180,lB=e=>{var t="symbol".concat(_u(e));return DT[t]||wb},cB=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*oB;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uB=(e,t)=>{DT["symbol".concat(_u(e))]=t},jb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=iB(e,tB),s=P2(P2({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var v=lB(l),_=U8().type(v).size(cB(n,r,l));return _()},{className:f,cx:h,cy:p}=s,g=rn(s,!0);return h===+h&&p===+p&&n===+n?b.createElement("path",Zy({},g,{className:ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};jb.registerSymbol=uB;function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return(t=fB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Er=32;class Nb extends b.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Er/2,s=Er/6,l=Er/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Er,y2:i,className:"recharts-legend-icon"});if(f==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Er,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return b.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Er/8,"h").concat(Er,"v").concat(Er*3/4,"h").concat(-Er,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var h=dB({},t);return delete h.legendIcon,b.cloneElement(t.legendIcon,h)}return b.createElement(jb,{fill:d,cx:i,cy:i,size:Er,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=this.props,d={x:0,y:0,width:Er,height:Er},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,_=ct({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?s:p.color,j=v?v(p.value,p,g):p.value;return b.createElement("li",e0({className:_,style:f,key:"legend-item-".concat(g)},wu(this.props,p,g)),b.createElement(bb,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(j," legend icon")},this.renderIcon(p,l)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},j))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Sb(Nb,"displayName","Legend");Sb(Nb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var rv={},av={},R2;function mB(){return R2||(R2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t})(av)),av}var iv={},D2;function IT(){return D2||(D2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(iv)),iv}var sv={},ov={},lv={},I2;function pB(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(lv)),lv}var L2;function Eb(){return L2||(L2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pB();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(ov)),ov}var cv={},U2;function gB(){return U2||(U2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cv)),cv}var $2;function vB(){return $2||($2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eb(),n=gB();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(sv)),sv}var uv={},dv={},z2;function yB(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(dv)),dv}var fv={},hv={},mv={},pv={},B2;function LT(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(pv)),pv}var gv={},q2;function UT(){return q2||(q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gv)),gv}var vv={},H2;function $T(){return H2||(H2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(vv)),vv}var F2;function bB(){return F2||(F2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob(),n=LT(),r=UT(),i=$T();function s(g,v,_){return typeof _!="function"?t.isMatch(g,v):l(g,v,function w(j,S,O,N,A,C){const T=_(j,S,O,N,A,C);return T!==void 0?!!T:l(j,S,w,C)},new Map)}function l(g,v,_,w){if(v===g)return!0;switch(typeof v){case"object":return d(g,v,_,w);case"function":return Object.keys(v).length>0?l(g,{...v},_,w):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function d(g,v,_,w){if(v==null)return!0;if(Array.isArray(v))return h(g,v,_,w);if(v instanceof Map)return f(g,v,_,w);if(v instanceof Set)return p(g,v,_,w);const j=Object.keys(v);if(g==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(v))return w.get(v)===g;w&&w.set(v,g);try{for(let S=0;S<j.length;S++){const O=j[S];if(!r.isPrimitive(g)&&!(O in g)||v[O]===void 0&&g[O]!==void 0||v[O]===null&&g[O]!==null||!_(g[O],v[O],O,g,v,w))return!1}return!0}finally{w&&w.delete(v)}}function f(g,v,_,w){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[j,S]of v.entries()){const O=g.get(j);if(_(O,S,j,g,v,w)===!1)return!1}return!0}function h(g,v,_,w){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const j=new Set;for(let S=0;S<v.length;S++){const O=v[S];let N=!1;for(let A=0;A<g.length;A++){if(j.has(A))continue;const C=g[A];let T=!1;if(_(C,O,S,g,v,w)&&(T=!0),T){j.add(A),N=!0;break}}if(!N)return!1}return!0}function p(g,v,_,w){return v.size===0?!0:g instanceof Set?h([...g],[...v],_,w):!1}e.isMatchWith=s,e.isSetMatch=p})(mv)),mv}var K2;function Ob(){return K2||(K2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bB();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(hv)),hv}var yv={},bv={},xv={},G2;function xB(){return G2||(G2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(xv)),xv}var _v={},Y2;function zT(){return Y2||(Y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(_v)),_v}var wv={},V2;function BT(){return V2||(V2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",_="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",D="[object BigInt64Array]",q="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=$,e.functionTag=g,e.int16ArrayTag=k,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=O})(wv)),wv}var jv={},W2;function _B(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(jv)),jv}var X2;function qT(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xB(),n=zT(),r=BT(),i=UT(),s=_B();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,_=new Map,w=void 0){const j=w==null?void 0:w(p,g,v,_);if(j!==void 0)return j;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const S=new Array(p.length);_.set(p,S);for(let O=0;O<p.length;O++)S[O]=d(p[O],O,v,_,w);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;_.set(p,S);for(const[O,N]of p)S.set(O,d(N,O,v,_,w));return S}if(p instanceof Set){const S=new Set;_.set(p,S);for(const O of p)S.add(d(O,void 0,v,_,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,S);for(let O=0;O<p.length;O++)S[O]=d(p[O],O,v,_,w);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,S),f(S,p,v,_,w),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return _.set(p,S),f(S,p,v,_,w),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return _.set(p,S),f(S,p,v,_,w),S}if(p instanceof Error){const S=new p.constructor;return _.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,v,_,w),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return _.set(p,S),f(S,p,v,_,w),S}return p}function f(p,g,v=p,_,w){const j=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<j.length;S++){const O=j[S],N=Object.getOwnPropertyDescriptor(p,O);(N==null||N.writable)&&(p[O]=d(g[O],O,v,_,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(bv)),bv}var Q2;function wB(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(yv)),yv}var J2;function jB(){return J2||(J2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob(),n=wB();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(fv)),fv}var Sv={},Nv={},Ev={},Z2;function SB(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),n=BT();function r(i,s){return t.cloneDeepWith(i,(l,d,f,h)=>{const p=s==null?void 0:s(l,d,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Ev)),Ev}var eN;function NB(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SB();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Nv)),Nv}var Ov={},Av={},tN;function HT(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Av)),Av}var Cv={},nN;function EB(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Cv)),Cv}var rN;function OB(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT(),n=HT(),r=EB(),i=pb();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(Ov)),Ov}var aN;function AB(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob(),n=mT(),r=NB(),i=gb(),s=OB();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(Sv)),Sv}var iN;function CB(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),n=yB(),r=jB(),i=AB();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=s})(uv)),uv}var sN;function TB(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mB(),n=IT(),r=vB(),i=CB();function s(l,d=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(d)):[]}e.uniqBy=s})(rv)),rv}var Tv,oN;function kB(){return oN||(oN=1,Tv=TB().uniqBy),Tv}var PB=kB();const lN=Wr(PB);function FT(e,t,n){return t===!0?lN(e,n):typeof t=="function"?lN(e,t):e}var kv={exports:{}},Pv={},Mv={exports:{}},Rv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function MB(){if(cN)return Rv;cN=1;var e=yl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,v){var _=v(),w=r({inst:{value:_,getSnapshot:v}}),j=w[0].inst,S=w[1];return s(function(){j.value=_,j.getSnapshot=v,f(j)&&S({inst:j})},[g,_,v]),i(function(){return f(j)&&S({inst:j}),g(function(){f(j)&&S({inst:j})})},[g]),l(_),_}function f(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!n(g,_)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Rv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Rv}var uN;function RB(){return uN||(uN=1,Mv.exports=MB()),Mv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN;function DB(){if(dN)return Pv;dN=1;var e=yl(),t=RB();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Pv.useSyncExternalStoreWithSelector=function(h,p,g,v,_){var w=s(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function O(k){if(!N){if(N=!0,A=k,k=v(k),_!==void 0&&j.hasValue){var M=j.value;if(_(M,k))return C=M}return C=k}if(M=C,r(A,k))return M;var D=v(k);return _!==void 0&&_(M,D)?(A=k,M):(A=k,C=D)}var N=!1,A,C,T=g===void 0?null:g;return[function(){return O(p())},T===null?void 0:function(){return O(T())}]},[p,g,v,_]);var S=i(h,w[0],w[1]);return l(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},Pv}var fN;function IB(){return fN||(fN=1,kv.exports=DB()),kv.exports}var LB=IB(),Ab=b.createContext(null),UB=e=>e,Dt=()=>{var e=b.useContext(Ab);return e?e.store.dispatch:UB},Tf=()=>{},$B=()=>Tf,zB=(e,t)=>e===t;function we(e){var t=b.useContext(Ab);return LB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$B,t?t.store.getState:Tf,t?t.store.getState:Tf,t?e:Tf,zB)}function BB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function HB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var hN=e=>Array.isArray(e)?e:[e];function FB(e){const t=Array.isArray(e[0])?e[0]:e;return HB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KB(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var GB=class{constructor(e){this.value=e}deref(){return this.value}},YB=typeof WeakRef<"u"?WeakRef:GB,VB=0,mN=1;function sf(){return{s:VB,v:void 0,o:null,p:null}}function KT(e,t={}){let n=sf();const{resultEqualityCheck:r}=t;let i,s=0;function l(){var g;let d=n;const{length:f}=arguments;for(let v=0,_=f;v<_;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=sf(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=sf(),j.set(w,d)):d=S}}const h=d;let p;if(d.s===mN)p=d.v;else if(p=e.apply(null,arguments),s++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new YB(p):p}return h.s=mN,h.v=p,p}return l.clearCache=()=>{n=sf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function WB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),BB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:_=KT,argsMemoizeOptions:w=[]}=p,j=hN(v),S=hN(w),O=FB(i),N=g(function(){return s++,h.apply(null,arguments)},...j),A=_(function(){l++;const T=KB(O,arguments);return d=N.apply(null,T),d},...S);return Object.assign(A,{resultFunc:h,memoizedResultFunc:N,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ee=WB(KT),XB=Object.assign((e,t=ee)=>{qB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>XB}),Dv={},Iv={},Lv={},pN;function QB(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=t(r),d=t(i);if(l===d&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=n})(Lv)),Lv}var Uv={},$v={},gN;function GT(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})($v)),$v}var vN;function JB(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Uv)),Uv}var yN;function ZB(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QB(),n=JB(),r=pb();function i(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(_=>String(_));const h=(_,w)=>{let j=_;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},p=(_,w)=>w==null||_==null?w:typeof _=="object"&&"key"in _?Object.hasOwn(w,_.key)?w[_.key]:h(w,_.path):typeof _=="function"?_(w):Array.isArray(_)?h(w,_):typeof w=="object"?w[_]:w,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:g.map(w=>p(w,_))})).slice().sort((_,w)=>{for(let j=0;j<g.length;j++){const S=t.compareValues(_.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(_=>_.original)}e.orderBy=i})(Iv)),Iv}var zv={},bN;function eq(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}e.flatten=t})(zv)),zv}var Bv={},xN;function YT(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT(),n=Eb(),r=LT(),i=$T();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],l):!1}e.isIterateeCall=s})(Bv)),Bv}var _N;function tq(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZB(),n=eq(),r=YT();function i(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,n.flatten(l),["asc"])}e.sortBy=i})(Dv)),Dv}var qv,wN;function nq(){return wN||(wN=1,qv=tq().sortBy),qv}var rq=nq();const Lh=Wr(rq);var VT=e=>e.legend.settings,aq=e=>e.legend.size,iq=e=>e.legend.payload,sq=ee([iq,VT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Lh(r,n):r});function oq(){return we(sq)}var of=1;function WT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>of||Math.abs(l.left-t.left)>of||Math.abs(l.top-t.top)>of||Math.abs(l.width-t.width)>of)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lq=typeof Symbol=="function"&&Symbol.observable||"@@observable",jN=lq,Hv=()=>Math.random().toString(36).substring(7).split("").join("."),cq={INIT:`@@redux/INIT${Hv()}`,REPLACE:`@@redux/REPLACE${Hv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hv()}`},Wf=cq;function Cb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XT(e,t,n){if(typeof e!="function")throw new Error(wn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wn(1));return n(XT)(e,t)}let r=e,i=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((S,O)=>{l.set(O,S)}))}function p(){if(f)throw new Error(wn(3));return i}function g(S){if(typeof S!="function")throw new Error(wn(4));if(f)throw new Error(wn(5));let O=!0;h();const N=d++;return l.set(N,S),function(){if(O){if(f)throw new Error(wn(6));O=!1,h(),l.delete(N),s=null}}}function v(S){if(!Cb(S))throw new Error(wn(7));if(typeof S.type>"u")throw new Error(wn(8));if(typeof S.type!="string")throw new Error(wn(17));if(f)throw new Error(wn(9));try{f=!0,i=r(i,S)}finally{f=!1}return(s=l).forEach(N=>{N()}),S}function _(S){if(typeof S!="function")throw new Error(wn(10));r=S,v({type:Wf.REPLACE})}function w(){const S=g;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(wn(11));function N(){const C=O;C.next&&C.next(p())}return N(),{unsubscribe:S(N)}},[jN](){return this}}}return v({type:Wf.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:_,[jN]:w}}function uq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wf.INIT})>"u")throw new Error(wn(12));if(typeof n(void 0,{type:Wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wn(13))})}function QT(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{uq(n)}catch(s){i=s}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],_=l[g],w=v(_,d);if(typeof w>"u")throw d&&d.type,new Error(wn(14));h[g]=w,f=f||w!==_}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function dq(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(wn(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Xf(...d)(i.dispatch),{...i,dispatch:s}}}function JT(e){return Cb(e)&&"type"in e&&typeof e.type=="string"}var ZT=Symbol.for("immer-nothing"),SN=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function Ls(e){return!!e&&!!e[dr]}function Ga(e){var t;return e?ek(e)||Array.isArray(e)||!!e[SN]||!!((t=e.constructor)!=null&&t[SN])||ju(e)||$h(e):!1}var fq=Object.prototype.constructor.toString();function ek(e){if(!e||typeof e!="object")return!1;const t=ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fq}function Qf(e,t){Uh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Uh(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:ju(e)?2:$h(e)?3:0}function t0(e,t){return Uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tk(e,t,n){const r=Uh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function hq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ju(e){return e instanceof Map}function $h(e){return e instanceof Set}function ys(e){return e.copy_||e.base_}function n0(e,t){if(ju(e))return new Map(e);if($h(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ek(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[dr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(ll(e),r)}else{const r=ll(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Tb(e,t=!1){return zh(e)||Ls(e)||!Ga(e)||(Uh(e)>1&&Object.defineProperties(e,{set:{value:lf},add:{value:lf},clear:{value:lf},delete:{value:lf}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Tb(n,!0))),e}function lf(){Kr(2)}function zh(e){return Object.isFrozen(e)}var mq={};function Us(e){const t=mq[e];return t||Kr(0,e),t}var ru;function nk(){return ru}function pq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NN(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function r0(e){a0(e),e.drafts_.forEach(gq),e.drafts_=null}function a0(e){e===ru&&(ru=e.parent_)}function EN(e){return ru=pq(ru,e)}function gq(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ON(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[dr].modified_&&(r0(t),Kr(4)),Ga(e)&&(e=Jf(t,e),t.parent_||Zf(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(n[dr].base_,e,t.patches_,t.inversePatches_)):e=Jf(t,n,[]),r0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ZT?e:void 0}function Jf(e,t,n){if(zh(t))return t;const r=t[dr];if(!r)return Qf(t,(i,s)=>AN(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Zf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,l=!1;r.type_===3&&(s=new Set(i),i.clear(),l=!0),Qf(s,(d,f)=>AN(e,r,i,d,f,n,l)),Zf(e,i,!1),n&&e.patches_&&Us("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function AN(e,t,n,r,i,s,l){if(Ls(i)){const d=s&&t&&t.type_!==3&&!t0(t.assigned_,r)?s.concat(r):void 0,f=Jf(e,i,d);if(tk(n,r,f),Ls(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ga(i)&&!zh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ju(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zf(e,i)}}function Zf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tb(t,n)}function vq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:nk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=kb;n&&(i=[r],s=au);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,d}var kb={get(e,t){if(t===dr)return e;const n=ys(e);if(!t0(n,t))return yq(e,n,t);const r=n[t];return e.finalized_||!Ga(r)?r:r===Fv(e.base_,t)?(Kv(e),e.copy_[t]=s0(r,e)):r},has(e,t){return t in ys(e)},ownKeys(e){return Reflect.ownKeys(ys(e))},set(e,t,n){const r=rk(ys(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Fv(ys(e),t),s=i==null?void 0:i[dr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(hq(n,i)&&(n!==void 0||t0(e.base_,t)))return!0;Kv(e),i0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Fv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kv(e),i0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){Kr(12)}},au={};Qf(kb,(e,t)=>{au[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});au.deleteProperty=function(e,t){return au.set.call(this,e,t,void 0)};au.set=function(e,t,n){return kb.set.call(this,e[0],t,n,e[0])};function Fv(e,t){const n=e[dr];return(n?ys(n):e)[t]}function yq(e,t,n){var i;const r=rk(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function rk(e,t){if(!(t in e))return;let n=ll(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ll(n)}}function i0(e){e.modified_||(e.modified_=!0,e.parent_&&i0(e.parent_))}function Kv(e){e.copy_||(e.copy_=n0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Kr(6),r!==void 0&&typeof r!="function"&&Kr(7);let i;if(Ga(t)){const s=EN(this),l=s0(t,void 0);let d=!0;try{i=n(l),d=!1}finally{d?r0(s):a0(s)}return NN(s,r),ON(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===ZT&&(i=void 0),this.autoFreeze_&&Tb(i,!0),r){const s=[],l=[];Us("Patches").generateReplacementPatches_(t,i,s,l),r(s,l)}return i}else Kr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let r,i;return[this.produce(t,n,(l,d)=>{r=l,i=d}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Kr(8),Ls(e)&&(e=qa(e));const t=EN(this),n=s0(e,void 0);return n[dr].isManual_=!0,a0(t),n}finishDraft(e,t){const n=e&&e[dr];(!n||!n.isManual_)&&Kr(9);const{scope_:r}=n;return NN(r,t),ON(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Us("Patches").applyPatches_;return Ls(e)?r(e,t):this.produce(e,i=>r(i,t))}};function s0(e,t){const n=ju(e)?Us("MapSet").proxyMap_(e,t):$h(e)?Us("MapSet").proxySet_(e,t):vq(e,t);return(t?t.scope_:nk()).drafts_.push(n),n}function qa(e){return Ls(e)||Kr(10,e),ak(e)}function ak(e){if(!Ga(e)||zh(e))return e;const t=e[dr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=n0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=n0(e,!0);return Qf(n,(r,i)=>{tk(n,r,ak(i))}),t&&(t.finalized_=!1),n}var xq=new bq,ik=xq.produce;function sk(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var _q=sk(),wq=sk,jq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)};function Tr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(cr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>JT(r)&&r.type===e,n}var ok=class $c extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$c.prototype)}static get[Symbol.species](){return $c}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $c(...t[0].concat(this)):new $c(...t.concat(this))}};function CN(e){return Ga(e)?ik(e,()=>{}):e}function cf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Sq(e){return typeof e=="boolean"}var Nq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new ok;return n&&(Sq(n)?l.push(_q):l.push(wq(n.extraArgument))),l},Eq="RTK_autoBatch",TN=e=>t=>{setTimeout(t,e)},Oq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TN(10):e.type==="callback"?e.queueNotification:TN(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[Eq]),s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},Aq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new ok(e);return r&&i.push(Oq(typeof r=="object"?r:void 0)),i};function Cq(e){const t=Nq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Cb(n))d=QT(n);else throw new Error(cr(1));let f;typeof r=="function"?f=r(t):f=t();let h=Xf;i&&(h=jq({trace:!1,...typeof i=="object"&&i}));const p=dq(...f),g=Aq(p);let v=typeof l=="function"?l(g):g();const _=h(...v);return XT(d,s,_)}function lk(e){const t={},n=[];let r;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(cr(28));if(d in t)throw new Error(cr(29));return t[d]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Tq(e){return typeof e=="function"}function kq(e,t){let[n,r,i]=lk(t),s;if(Tq(e))s=()=>CN(e());else{const d=CN(e);s=()=>d}function l(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ls(p)){const _=g(p,f);return _===void 0?p:_}else{if(Ga(p))return ik(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return l.getInitialState=s,l}var Pq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mq=(e=21)=>{let t="",n=e;for(;n--;)t+=Pq[Math.random()*64|0];return t},Rq=Symbol.for("rtk-slice-createasyncthunk");function Dq(e,t){return`${e}/${t}`}function Iq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Rq];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(cr(11));const d=(typeof i.reducers=="function"?i.reducers(Uq()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(cr(12));if(k in h.sliceCaseReducersByType)throw new Error(cr(13));return h.sliceCaseReducersByType[k]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],k={reducerName:C,type:Dq(s,C),createNotation:typeof i.reducers=="function"};zq(T)?qq(k,T,p,t):$q(k,T,p)});function g(){const[C={},T=[],k=void 0]=typeof i.extraReducers=="function"?lk(i.extraReducers):[i.extraReducers],M={...C,...h.sliceCaseReducersByType};return kq(i.initialState,D=>{for(let q in M)D.addCase(q,M[q]);for(let q of h.sliceMatchers)D.addMatcher(q.matcher,q.reducer);for(let q of T)D.addMatcher(q.matcher,q.reducer);k&&D.addDefaultCase(k)})}const v=C=>C,_=new Map,w=new WeakMap;let j;function S(C,T){return j||(j=g()),j(C,T)}function O(){return j||(j=g()),j.getInitialState()}function N(C,T=!1){function k(D){let q=D[C];return typeof q>"u"&&T&&(q=cf(w,k,O)),q}function M(D=v){const q=cf(_,T,()=>new WeakMap);return cf(q,D,()=>{const $={};for(const[F,H]of Object.entries(i.selectors??{}))$[F]=Lq(H,D,()=>cf(w,D,O),T);return $})}return{reducerPath:C,getSelectors:M,get selectors(){return M(k)},selectSlice:k}}const A={name:s,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,...N(l),injectInto(C,{reducerPath:T,...k}={}){const M=T??l;return C.inject({reducerPath:M,reducer:S},k),{...A,...N(M,!0)}}};return A}}function Lq(e,t,n,r){function i(s,...l){let d=t(s);return typeof d>"u"&&r&&(d=n()),e(d,...l)}return i.unwrapped=e,i}var hr=Iq();function Uq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function $q({type:e,reducerName:t,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Bq(r))throw new Error(cr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Tr(e,l):Tr(e))}function zq(e){return e._reducerDefinitionType==="asyncThunk"}function Bq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(cr(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=i(e,s,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||uf,pending:d||uf,rejected:f||uf,settled:h||uf})}function uf(){}var Hq="task",ck="listener",uk="completed",Pb="cancelled",Fq=`task-${Pb}`,Kq=`task-${uk}`,o0=`${ck}-${Pb}`,Gq=`${ck}-${uk}`,Bh=class{constructor(e){Eg(this,"name","TaskAbortError");Eg(this,"message");this.code=e,this.message=`${Hq} ${Pb} (reason: ${e})`}},Mb=(e,t)=>{if(typeof e!="function")throw new TypeError(cr(32))},eh=()=>{},dk=(e,t=eh)=>(e.catch(t),e),fk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ps=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ms=e=>{if(e.aborted){const{reason:t}=e;throw new Bh(t)}};function hk(e,t){let n=eh;return new Promise((r,i)=>{const s=()=>i(new Bh(e.reason));if(e.aborted){s();return}n=fk(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=eh})}var Yq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Bh?"cancelled":"rejected",error:n}}finally{t==null||t()}},th=e=>t=>dk(hk(e,t).then(n=>(Ms(e),n))),mk=e=>{const t=th(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:rl}=Object,kN={},qh="listenerMiddleware",Vq=(e,t)=>{const n=r=>fk(e,()=>Ps(r,e.reason));return(r,i)=>{Mb(r);const s=new AbortController;n(s);const l=Yq(async()=>{Ms(e),Ms(s.signal);const d=await r({pause:th(s.signal),delay:mk(s.signal),signal:s.signal});return Ms(s.signal),d},()=>Ps(s,Kq));return i!=null&&i.autoJoin&&t.push(l.catch(eh)),{result:th(e)(l),cancel(){Ps(s,Fq)}}}},Wq=(e,t)=>{const n=async(r,i)=>{Ms(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await hk(t,Promise.race(d));return Ms(t),f}finally{s()}};return(r,i)=>dk(n(r,i))},pk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Tr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(cr(21));return Mb(s),{predicate:i,type:t,effect:s}},gk=rl(e=>{const{type:t,predicate:n,effect:r}=pk(e);return{id:Mq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>gk}),PN=(e,t)=>{const{type:n,effect:r,predicate:i}=pk(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},l0=e=>{e.pending.forEach(t=>{Ps(t,o0)})},Xq=e=>()=>{e.forEach(l0),e.clear()},MN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},vk=rl(Tr(`${qh}/add`),{withTypes:()=>vk}),Qq=Tr(`${qh}/removeAll`),yk=rl(Tr(`${qh}/remove`),{withTypes:()=>yk}),Jq=(...e)=>{console.error(`${qh}/error`,...e)},Su=(e={})=>{const t=new Map,{extra:n,onError:r=Jq}=e;Mb(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&l0(p)}),s=p=>{const g=PN(t,p)??gk(p);return i(g)};rl(s,{withTypes:()=>s});const l=p=>{const g=PN(t,p);return g&&(g.unsubscribe(),p.cancelActive&&l0(g)),!!g};rl(l,{withTypes:()=>l});const d=async(p,g,v,_)=>{const w=new AbortController,j=Wq(s,w.signal),S=[];try{p.pending.add(w),await Promise.resolve(p.effect(g,rl({},v,{getOriginalState:_,condition:(O,N)=>j(O,N).then(Boolean),take:j,delay:mk(w.signal),pause:th(w.signal),extra:n,signal:w.signal,fork:Vq(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((O,N,A)=>{O!==w&&(Ps(O,o0),A.delete(O))})},cancel:()=>{Ps(w,o0),p.pending.delete(w)},throwIfCancelled:()=>{Ms(w.signal)}})))}catch(O){O instanceof Bh||MN(r,O,{raisedBy:"effect"})}finally{await Promise.all(S),Ps(w,Gq),p.pending.delete(w)}},f=Xq(t);return{middleware:p=>g=>v=>{if(!JT(v))return g(v);if(vk.match(v))return s(v.payload);if(Qq.match(v)){f();return}if(yk.match(v))return l(v.payload);let _=p.getState();const w=()=>{if(_===kN)throw new Error(cr(23));return _};let j;try{if(j=g(v),t.size>0){const S=p.getState(),O=Array.from(t.values());for(const N of O){let A=!1;try{A=N.predicate(v,S,_)}catch(C){A=!1,MN(r,C,{raisedBy:"predicate"})}A&&d(N,v,p,w)}}}finally{_=kN}return j},startListening:s,stopListening:l,clearListeners:f}};function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Zq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bk=hr({name:"chartLayout",initialState:Zq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:e7,setLayout:t7,setChartSize:n7,setScale:r7}=bk.actions,a7=bk.reducer;function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){i7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i7(e,t,n){return(t=s7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,l7=e=>e*180/Math.PI,Qt=(e,t,n,r)=>({x:e+Math.cos(-nh*r)*n,y:t+Math.sin(-nh*r)*n}),xk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},c7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},u7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,l=c7({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:l7(f),angleInRadian:f}},d7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},f7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return e+l*360},h7=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=u7({x:n,y:r},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=d7(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?DN(DN({},t),{},{radius:i,angle:f7(p,t)}):null};function _k(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return(t=p7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,n){return mn(e)||mn(t)?n:da(t)?Is(e,t,n):typeof t=="function"?t(e):n}var v7=(e,t,n,r,i)=>{var s,l=-1,d=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(hn(p-h)!==hn(g-p)){var _=[];if(hn(g-p)===hn(i[1]-i[0])){v=g;var w=p+i[1]-i[0];_[0]=Math.min(w,(w+h)/2),_[1]=Math.max(w,(w+h)/2)}else{v=h;var j=g+i[1]-i[0];_[0]=Math.min(p,(j+p)/2),_[1]=Math.max(p,(j+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>S[0]&&e<=S[1]||e>=_[0]&&e<=_[1]){({index:l}=n[f]);break}}else{var O=Math.min(h,g),N=Math.max(h,g);if(e>(O+p)/2&&e<=(N+p)/2){({index:l}=n[f]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:l}=t[A]);break}}return l},y7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Se(e[s]))return Ar(Ar({},e),{},{[s]:e[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Se(e[l]))return Ar(Ar({},e),{},{[l]:e[l]+(i||0)})}return e},Fs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",wk=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var i,s,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||l.push(t),s||l.push(n),l},jk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:_}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,j=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(j=_==="angleAxis"&&s&&s.length>=2?hn(s[0]-s[1])*2*j:j,g||v){var S=(g||v||[]).map((O,N)=>{var A=r?r.indexOf(O):O;return{coordinate:l(A)+j,value:O,offset:j,index:N}});return S.filter(O=>!ur(O.coordinate))}return f&&h?h.map((O,N)=>({coordinate:l(O)+j,value:O,index:N,offset:j})):l.ticks&&p!=null?l.ticks(p).map((O,N)=>({coordinate:l(O)+j,value:O,offset:j,index:N})):l.domain().map((O,N)=>({coordinate:l(O)+j,value:r?r[O]:O,index:N,offset:j}))},LN=1e-4,b7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-LN,s=Math.max(r[0],r[1])+LN,l=e(t[0]),d=e(t[n-1]);(l<i||l>s||d<i||d>s)&&e.domain([t[0],t[n-1]])}},x7=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(i[0]=n),(!Se(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},_7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,l=0;l<t;++l){var d=ur(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=i,e[l][n][1]=i+d,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+d,s=e[l][n][1])}},w7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var l=ur(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},j7={sign:_7,expand:J8,none:ol,silhouette:Z8,wiggle:eB,positive:w7},S7=(e,t,n)=>{var r=j7[n],i=Q8().keys(t).value((s,l)=>+Rt(s,l,0)).order(Jy).offset(r);return i(e)};function N7(e){return e==null?void 0:String(e)}var UN=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var d=Rt(s,t.dataKey,t.scale.domain()[l]);return mn(d)?null:t.scale(d)-i/2+r},E7=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},O7=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},A7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],C7=(e,t,n)=>{if(e!=null)return A7(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:l}=s,d=l.reduce((f,h)=>{var p=_k(h,t,n),g=O7(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},$N=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Lh(t,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function BN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Ar(Ar({},t),{},{dataKey:n,payload:r,value:i,name:s})}function Hh(e,t){if(e)return String(e);if(typeof t=="string")return t}function T7(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?h7({x:e,y:t},r):null}var k7=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:l}=r;return Ar(Ar(Ar({},r),Qt(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:f}=r;return Ar(Ar(Ar({},r),Qt(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},P7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Xa=e=>e.layout.width,Qa=e=>e.layout.height,M7=e=>e.layout.scale,Sk=e=>e.layout.margin,Fh=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kh=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Nk="data-recharts-item-index",Ek="data-recharts-item-data-key",Nu=60;function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=D7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D7(e){var t=I7(e,"string");return typeof t=="symbol"?t:t+""}function I7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L7=e=>e.brush.height;function U7(e){var t=Kh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Nu;return n+i}return n},0)}function $7(e){var t=Kh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Nu;return n+i}return n},0)}function z7(e){var t=Fh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function B7(e){var t=Fh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var an=ee([Xa,Qa,Sk,L7,U7,$7,z7,B7,VT,aq],(e,t,n,r,i,s,l,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},v=df(df({},g),p),_=v.bottom;v.bottom+=r,v=y7(v,f,h);var w=e-v.left-v.right,j=t-v.top-v.bottom;return df(df({brushBottom:_},v),{},{width:Math.max(w,0),height:Math.max(j,0)})}),q7=ee(an,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Db=ee(Xa,Qa,(e,t)=>({x:0,y:0,width:e,height:t})),H7=b.createContext(null),Mr=()=>b.useContext(H7)!=null,Gh=e=>e.brush,Yh=ee([Gh,an,Sk],(e,t,n)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Se(e.width)?e.width:t.width})),Ib=()=>{var e,t=Mr(),n=we(q7),r=we(Yh),i=(e=we(Gh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},F7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ok=()=>{var e;return(e=we(an))!==null&&e!==void 0?e:F7},Lb=()=>we(Xa),Ub=()=>we(Qa),K7=()=>we(e=>e.layout.margin),nt=e=>e.layout.layoutType,$b=()=>we(nt),G7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ak=hr({name:"legend",initialState:G7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:HN,setLegendSettings:Y7,addLegendPayload:Ck,removeLegendPayload:Tk}=Ak.actions,V7=Ak.reducer,W7=["contextPayload"];function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(null,arguments)}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){zb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zb(e,t,n){return(t=X7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J7(e,t){if(e==null)return{};var n,r,i=Z7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function e9(e){return e.value}function t9(e){var{contextPayload:t}=e,n=J7(e,W7),r=FT(t,e.payloadUniqBy,e9),i=cl(cl({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(Nb,i)}function n9(e,t,n,r,i,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cl(cl({},h),p)}function r9(e){var t=Dt();return b.useEffect(()=>{t(Y7(e))},[t,e]),null}function a9(e){var t=Dt();return b.useEffect(()=>(t(HN(e)),()=>{t(HN({width:0,height:0}))}),[t,e]),null}function i9(e){var t=oq(),n=_8(),r=K7(),{width:i,height:s,wrapperStyle:l,portal:d}=e,[f,h]=WT([t]),p=Lb(),g=Ub();if(p==null||g==null)return null;var v=p-(r.left||0)-(r.right||0),_=iu.getWidthOrHeight(e.layout,s,i,v),w=d?l:cl(cl({position:"absolute",width:(_==null?void 0:_.width)||i||"auto",height:(_==null?void 0:_.height)||s||"auto"},n9(l,e,r,p,g,f)),l),j=d??n;if(j==null)return null;var S=b.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},b.createElement(r9,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),b.createElement(a9,{width:f.width,height:f.height}),b.createElement(t9,c0({},e,_,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return V0.createPortal(S,j)}class iu extends b.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Se(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return b.createElement(i9,this.props)}}zb(iu,"displayName","Legend");zb(iu,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){s9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=l9(e,"string");return typeof t=="symbol"?t:t+""}function l9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c9(e){return Array.isArray(e)&&da(e[0])&&da(e[1])?e.join(" ~ "):e}var u9=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,_=()=>{if(s&&s.length){var T={padding:0,margin:0},k=(d?Lh(s,d):s).map((M,D)=>{if(M.type==="none")return null;var q=M.formatter||l||c9,{value:$,name:F}=M,H=$,ae=F;if(q){var z=q($,F,M,D,s);if(Array.isArray(z))[H,ae]=z;else if(z!=null)H=z;else return null}var K=Gv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},da(ae)?b.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,da(ae)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},H),b.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:T},k)}return null},w=Gv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=Gv({margin:0},i),S=!mn(p),O=S?p:"",N=ct("recharts-default-tooltip",f),A=ct("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(O=g(p,s));var C=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",u0({className:N,style:w},C),b.createElement("p",{className:A,style:j},b.isValidElement(O)?O:"".concat(O)),_())},Tc="recharts-tooltip-wrapper",d9={visibility:"hidden"};function f9(e){var{coordinate:t,translateX:n,translateY:r}=e;return ct(Tc,{["".concat(Tc,"-right")]:Se(n)&&t&&Se(t.x)&&n>=t.x,["".concat(Tc,"-left")]:Se(n)&&t&&Se(t.x)&&n<t.x,["".concat(Tc,"-bottom")]:Se(r)&&t&&Se(t.y)&&r>=t.y,["".concat(Tc,"-top")]:Se(r)&&t&&Se(t.y)&&r<t.y})}function GN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&Se(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=f[r];if(v==null)return 0;if(l[r]){var _=p,w=v;return _<w?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var j=g+d,S=v+h;return j>S?Math.max(p,v):Math.max(g,v)}function h9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function m9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:f}=e,h,p,g;return l.height>0&&l.width>0&&n?(p=GN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=GN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=h9({translateX:p,translateY:g,useTranslate3d:d})):h=d9,{cssProperties:h,cssClasses:f9({translateX:p,translateY:g,coordinate:n})}}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){d0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d0(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class v9 extends b.PureComponent{constructor(){super(...arguments),d0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),d0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:_,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:O}=this.props,{cssClasses:N,cssProperties:A}=m9({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:_}),C=O?{}:ff(ff({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=ff(ff({},C),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:T,ref:S},s)}}var y9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ks={devToolsEnabled:!1,isSsr:y9()},kk=()=>we(e=>e.rootProps.accessibilityLayer);function fr(e){return Number.isFinite(e)}function ul(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(null,arguments)}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){b9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b9(e,t,n){return(t=x9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e){var t=_9(e,"string");return typeof t=="symbol"?t:t+""}function _9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XN={curveBasisClosed:z8,curveBasisOpen:B8,curveBasis:$8,curveBumpX:N8,curveBumpY:E8,curveLinearClosed:q8,curveLinear:Dh,curveMonotoneX:H8,curveMonotoneY:F8,curveNatural:K8,curveStep:G8,curveStepAfter:V8,curveStepBefore:Y8},hf=e=>fr(e.x)&&fr(e.y),kc=e=>e.x,Pc=e=>e.y,w9=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(_u(e));return(n==="curveMonotone"||n==="curveBump")&&t?XN["".concat(n).concat(t==="vertical"?"Y":"X")]:XN[n]||Dh},j9=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,l=w9(t,i),d=s?n.filter(hf):n,f;if(Array.isArray(r)){var h=s?r.filter(g=>hf(g)):r,p=d.map((g,v)=>WN(WN({},g),{},{base:h[v]}));return i==="vertical"?f=af().y(Pc).x1(kc).x0(g=>g.base.x):f=af().x(kc).y1(Pc).y0(g=>g.base.y),f.defined(hf).curve(l),f(p)}return i==="vertical"&&Se(r)?f=af().y(Pc).x1(kc).x0(r):Se(r)?f=af().x(kc).y1(Pc).y0(r):f=ST().x(kc).y(Pc),f.defined(hf).curve(l),f(d)},Pk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?j9(e):r;return b.createElement("path",f0({},Hi(e),d8(e),{className:ct("recharts-curve",t),d:s===null?void 0:s,ref:i}))},S9=["x","y","top","left","width","height","className"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(r){E9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E9(e,t,n){return(t=O9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e,t){if(e==null)return{};var n,r,i=T9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var k9=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),P9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:d}=e,f=C9(e,S9),h=N9({x:t,y:n,top:r,left:i,width:s,height:l},f);return!Se(t)||!Se(n)||!Se(s)||!Se(l)||!Se(r)||!Se(i)?null:b.createElement("path",h0({},rn(h,!0),{className:ct("recharts-cross",d),d:k9(t,n,s,l,r,i)}))};function M9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function JN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(n),!0).forEach(function(r){D9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D9(e,t,n){return(t=I9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dn(e,t){var n=R9({},e),r=t,i=Object.keys(t),s=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}function U9(){}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){$9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Mk=(e,t,n)=>e.map(r=>"".concat(q9(r)," ").concat(t,"ms ").concat(n)).join(","),H9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),su=(e,t)=>Object.keys(t).reduce((n,r)=>eE(eE({},n),{},{[r]:e(r,t[r])}),{});function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){F9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=(e,t,n)=>e+(t-e)*n,m0=e=>{var{from:t,to:n}=e;return t!==n},Rk=(e,t,n)=>{var r=su((i,s)=>{if(m0(s)){var[l,d]=e(s.from,s.to,s.velocity);return jn(jn({},s),{},{from:l,velocity:d})}return s},t);return n<1?su((i,s)=>m0(s)?jn(jn({},s),{},{velocity:rh(s.velocity,r[i].velocity,n),from:rh(s.from,r[i].from,n)}):s,t):Rk(e,r,n-1)};function Y9(e,t,n,r,i,s){var l,d=r.reduce((v,_)=>jn(jn({},v),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),f=()=>su((v,_)=>_.from,d),h=()=>!Object.values(d).filter(m0).length,p=null,g=v=>{l||(l=v);var _=v-l,w=_/n.dt;d=Rk(n,d,w),i(jn(jn(jn({},e),t),f())),l=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{p()})}function V9(e,t,n,r,i,s,l){var d=null,f=i.reduce((g,v)=>jn(jn({},g),{},{[v]:[e[v],t[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/r,_=su((j,S)=>rh(...S,n(v)),f);if(s(jn(jn(jn({},e),t),_)),v<1)d=l.setTimeout(p);else{var w=su((j,S)=>rh(...S,n(1)),f);s(jn(jn(jn({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{d()})}const W9=(e,t,n,r,i,s)=>{var l=H9(e,t);return n.isStepper===!0?Y9(e,t,n,l,i,s):V9(e,t,n,r,l,i,s)};var ah=1e-4,Dk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Ik=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nE=(e,t)=>n=>{var r=Dk(e,t);return Ik(r,n)},X9=(e,t)=>n=>{var r=Dk(e,t),i=[...r.map((s,l)=>s*l).slice(1),0];return Ik(i,n)},rE=function(){for(var t,n,r,i,s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([t,r,n,i]=l);var h=nE(t,n),p=nE(r,i),g=X9(t,n),v=w=>w>1?1:w<0?0:w,_=w=>{for(var j=w>1?1:w,S=j,O=0;O<8;++O){var N=h(S)-j,A=g(S);if(Math.abs(N-j)<ah||A<ah)return p(S);S=v(S-N/A)}return p(S)};return _.isStepper=!1,_},Q9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*i/1e3,v=f*i/1e3+l;return Math.abs(v-d)<ah&&Math.abs(g)<ah?[d,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},J9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rE(e);case"spring":return Q9();default:if(e.split("(")[0]==="cubic-bezier")return rE(e)}return typeof e=="function"?e:null};function Z9(e){var t,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(s.bind(null,h),f);return}s(f),i=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class eH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function tH(){return Z9(new eH)}var nH=b.createContext(tH);function rH(e,t){var n=b.useContext(nH);return b.useMemo(()=>t??n(e),[e,t,n])}var aH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aE={t:0},Yv={t:1};function Vh(e){var t=Dn(e,aH),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=rH(t.animationId,t.animationManager),[g,v]=b.useState(n?aE:Yv),_=b.useRef(null);return b.useEffect(()=>{n||v(Yv)},[n]),b.useEffect(()=>{if(!n||!r)return U9;var w=W9(aE,Yv,J9(s),i,v,p.getTimeoutController()),j=()=>{_.current=w()};return p.start([f,l,j,i,d]),()=>{p.stop(),_.current&&_.current(),d()}},[n,r,i,s,l,f,d,p]),h(g.t)}function Wh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(nu(t)),r=b.useRef(e);return r.current!==e&&(n.current=nu(t),r.current=e),n.current}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){iH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iH(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(null,arguments)}var oE=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>s?s:i[g];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(t)),h+="L ".concat(e+n-d*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-d*p[2],",").concat(t+r)),h+="L ".concat(e+d*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);h="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+d*_,",").concat(t,`
            L `).concat(e+n-d*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n-d*_,",").concat(t+r,`
            L `).concat(e+d*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*_," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},lH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lk=e=>{var t=Dn(e,lH),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var z=n.current.getTotalLength();z&&i(z)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:_,isAnimationActive:w,isUpdateAnimationActive:j}=t,S=b.useRef(d),O=b.useRef(f),N=b.useRef(s),A=b.useRef(l),C=b.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=Wh(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var k=ct("recharts-rectangle",p);if(!j)return b.createElement("path",ih({},rn(t,!0),{className:k,d:oE(s,l,d,f,h)}));var M=S.current,D=O.current,q=N.current,$=A.current,F="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),ae=Mk(["strokeDasharray"],v,typeof g=="string"?g:void 0);return b.createElement(Vh,{animationId:T,key:T,canBegin:r>0,duration:v,easing:g,isActive:j,begin:_},z=>{var K=Sn(M,d,z),I=Sn(D,f,z),Y=Sn(q,s,z),W=Sn($,l,z);n.current&&(S.current=K,O.current=I,N.current=Y,A.current=W);var ue;return w?z>0?ue={transition:ae,strokeDasharray:H}:ue={strokeDasharray:F}:ue={strokeDasharray:H},b.createElement("path",ih({},rn(t,!0),{className:k,d:oE(Y,W,K,I,h),ref:n,style:sE(sE({},ue),t.style)}))})};function Uk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,l=Qt(t,n,r,i),d=Qt(t,n,r,s);return{points:[l,d],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}var cH=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},mf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+r,p=Math.asin(d/h)/nh,g=f?i:i+s*p,v=Qt(t,n,h,g),_=Qt(t,n,r,g),w=f?i-s*p:i,j=Qt(t,n,h*Math.cos(p*nh),w);return{center:v,circleTangency:_,lineTangency:j,theta:p}},$k=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=e,d=cH(s,l),f=s+d,h=Qt(t,n,i,s),p=Qt(t,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Qt(t,n,r,s),_=Qt(t,n,r,f);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},uH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=hn(h-f),{circleTangency:g,lineTangency:v,theta:_}=mf({cx:t,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=mf({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),O=d?Math.abs(f-h):Math.abs(f-h)-_-S;if(O<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$k({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:C,theta:T}=mf({cx:t,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:k,lineTangency:M,theta:D}=mf({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),q=d?Math.abs(f-h):Math.abs(f-h)-T-D;if(q<0&&s===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},dH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zk=e=>{var t=Dn(e,dH),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<i||h===p)return null;var v=ct("recharts-sector",g),_=s-i,w=Cn(l,_,0,!0),j;return w>0&&Math.abs(h-p)<360?j=uH({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,_/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):j=$k({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),b.createElement("path",p0({},rn(t,!0),{className:v,d:j}))};function fH(e,t,n){var r,i,s,l;if(e==="horizontal")r=t.x,s=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:h,outerRadius:p,angle:g}=t,v=Qt(d,f,h,g),_=Qt(d,f,p,g);r=v.x,i=v.y,s=_.x,l=_.y}else return Uk(t);return[{x:r,y:i},{x:s,y:l}]}var Vv={},Wv={},Xv={},lE;function hH(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Xv)),Xv}var cE;function mH(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Wv)),Wv}var uE;function pH(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT(),n=mH();function r(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}e.range=r})(Vv)),Vv}var Qv,dE;function gH(){return dE||(dE=1,Qv=pH().range),Qv}var vH=gH();const Bk=Wr(vH);function Ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bb(e){let t,n,r;e.length!==2?(t=Ui,n=(d,f)=>Ui(e(d),f),r=(d,f)=>e(d)-f):(t=e===Ui||e===yH?e:bH,n=e,r=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:l,right:s}}function bH(){return 0}function qk(e){return e===null?NaN:+e}function*xH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const _H=Bb(Ui),Eu=_H.right;Bb(qk).center;class fE extends Map{constructor(t,n=SH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(hE(this,t))}has(t){return super.has(hE(this,t))}set(t,n){return super.set(wH(this,t),n)}delete(t){return super.delete(jH(this,t))}}function hE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function wH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function jH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function SH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NH(e=Ui){if(e===Ui)return Hk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Hk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const EH=Math.sqrt(50),OH=Math.sqrt(10),AH=Math.sqrt(2);function sh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=EH?10:s>=OH?5:s>=AH?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=n&&n<2?sh(e,t,n*2):[d,f,h]}function g0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,l]=r?sh(t,e,n):sh(e,t,n);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function v0(e,t,n){return t=+t,e=+e,n=+n,sh(e,t,n)[2]}function y0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?v0(t,e,n):v0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function mE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Fk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Hk:NH(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(t-h*g/f+v)),w=Math.min(r,Math.floor(t+(f-h)*g/f+v));Fk(e,t,_,w,i)}const s=e[t];let l=n,d=r;for(Mc(e,n,t),i(e[r],s)>0&&Mc(e,n,r);l<d;){for(Mc(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[n],s)===0?Mc(e,n,d):(++d,Mc(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Mc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function CH(e,t,n){if(e=Float64Array.from(xH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return pE(e);if(t>=1)return mE(e);var r,i=(r-1)*t,s=Math.floor(i),l=mE(Fk(e,s).subarray(0,s+1)),d=pE(e.subarray(s+1));return l+(d-l)*(i-s)}}function TH(e,t,n=qk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),l=+n(e[s],s,e),d=+n(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function kH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b0=Symbol("implicit");function qb(){var e=new fE,t=[],n=[],r=b0;function i(s){let l=e.get(s);if(l===void 0){if(r!==b0)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fE;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return qb(t,n).unknown(r)},Rr.apply(i,arguments),i}function Hb(){var e=qb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,_=i<r,w=_?i:r,j=_?r:i;s=(j-w)/Math.max(1,v-f+h*2),d&&(s=Math.floor(s)),w+=(j-w-s*(v-f))*p,l=s*(1-f),d&&(w=Math.round(w),l=Math.round(l));var S=kH(v).map(function(O){return w+s*O});return n(_?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Hb(t(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Rr.apply(g(),arguments)}function Kk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kk(t())},e}function PH(){return Kk(Hb.apply(null,arguments).paddingInner(1))}function Fb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ou(){}var ou=.7,oh=1/ou,al="\\s*([+-]?\\d+)\\s*",lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MH=/^#([0-9a-f]{3,8})$/,RH=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),DH=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),IH=new RegExp(`^rgba\\(${al},${al},${al},${lu}\\)$`),LH=new RegExp(`^rgba\\(${ca},${ca},${ca},${lu}\\)$`),UH=new RegExp(`^hsl\\(${lu},${ca},${ca}\\)$`),$H=new RegExp(`^hsla\\(${lu},${ca},${ca},${lu}\\)$`),gE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fb(Ou,cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vE,formatHex:vE,formatHex8:zH,formatHsl:BH,formatRgb:yE,toString:yE});function vE(){return this.rgb().formatHex()}function zH(){return this.rgb().formatHex8()}function BH(){return Yk(this).formatHsl()}function yE(){return this.rgb().formatRgb()}function cu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bE(t):n===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RH.exec(e))?new Yn(t[1],t[2],t[3],1):(t=DH.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IH.exec(e))?pf(t[1],t[2],t[3],t[4]):(t=LH.exec(e))?pf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UH.exec(e))?wE(t[1],t[2]/100,t[3]/100,1):(t=$H.exec(e))?wE(t[1],t[2]/100,t[3]/100,t[4]):gE.hasOwnProperty(e)?bE(gE[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function bE(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function pf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Yn(e,t,n,r)}function qH(e){return e instanceof Ou||(e=cu(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function x0(e,t,n,r){return arguments.length===1?qH(e):new Yn(e,t,n,r??1)}function Yn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Fb(Yn,x0,Gk(Ou,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ou:Math.pow(ou,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn(Rs(this.r),Rs(this.g),Rs(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xE,formatHex:xE,formatHex8:HH,formatRgb:_E,toString:_E}));function xE(){return`#${As(this.r)}${As(this.g)}${As(this.b)}`}function HH(){return`#${As(this.r)}${As(this.g)}${As(this.b)}${As((isNaN(this.opacity)?1:this.opacity)*255)}`}function _E(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${Rs(this.r)}, ${Rs(this.g)}, ${Rs(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function As(e){return e=Rs(e),(e<16?"0":"")+e.toString(16)}function wE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gr(e,t,n,r)}function Yk(e){if(e instanceof Gr)return new Gr(e.h,e.s,e.l,e.opacity);if(e instanceof Ou||(e=cu(e)),!e)return new Gr;if(e instanceof Gr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,d=s-i,f=(s+i)/2;return d?(t===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-t)/d+2:l=(t-n)/d+4,d/=f<.5?s+i:2-s-i,l*=60):d=f>0&&f<1?0:l,new Gr(l,d,f,e.opacity)}function FH(e,t,n,r){return arguments.length===1?Yk(e):new Gr(e,t,n,r??1)}function Gr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Fb(Gr,FH,Gk(Ou,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ou:Math.pow(ou,e),new Gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Yn(Jv(e>=240?e-240:e+120,i,r),Jv(e,i,r),Jv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Gr(jE(this.h),gf(this.s),gf(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${jE(this.h)}, ${gf(this.s)*100}%, ${gf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jE(e){return e=(e||0)%360,e<0?e+360:e}function gf(e){return Math.max(0,Math.min(1,e||0))}function Jv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Kb=e=>()=>e;function KH(e,t){return function(n){return e+n*t}}function GH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function YH(e){return(e=+e)==1?Vk:function(t,n){return n-t?GH(t,n,e):Kb(isNaN(t)?n:t)}}function Vk(e,t){var n=t-e;return n?KH(e,n):Kb(isNaN(e)?t:e)}const SE=(function e(t){var n=YH(t);function r(i,s){var l=n((i=x0(i)).r,(s=x0(s)).r),d=n(i.g,s.g),f=n(i.b,s.b),h=Vk(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function VH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function WH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Sl(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(d){for(l=0;l<r;++l)s[l]=i[l](d);return s}}function QH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ch(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function JH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Sl(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var _0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zv=new RegExp(_0.source,"g");function ZH(e){return function(){return e}}function eF(e){return function(t){return e(t)+""}}function tF(e,t){var n=_0.lastIndex=Zv.lastIndex=0,r,i,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(r=_0.exec(e))&&(i=Zv.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:ch(r,i)})),n=Zv.lastIndex;return n<t.length&&(s=t.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?eF(f[0].x):ZH(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Sl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Kb(t):(n==="number"?ch:n==="string"?(r=cu(t))?(t=r,SE):tF:t instanceof cu?SE:t instanceof Date?QH:WH(t)?VH:Array.isArray(t)?XH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JH:ch)(e,t)}function Gb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function nF(e,t){t===void 0&&(t=e,e=Sl);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function rF(e){return function(){return e}}function uh(e){return+e}var NE=[0,1];function Rn(e){return e}function w0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rF(isNaN(t)?NaN:.5)}function aF(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function iF(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=w0(i,r),s=n(l,s)):(r=w0(r,i),s=n(s,l)),function(d){return s(r(d))}}function sF(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=w0(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(d){var f=Eu(e,d,1,r)-1;return s[f](i[f](d))}}function Au(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xh(){var e=NE,t=NE,n=Sl,r,i,s,l=Rn,d,f,h;function p(){var v=Math.min(e.length,t.length);return l!==Rn&&(l=aF(e[0],e[v-1])),d=v>2?sF:iF,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=d(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((h||(h=d(t,e.map(r),ch)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,uh),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Gb,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Rn,p()):l!==Rn},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,_){return r=v,i=_,p()}}function Yb(){return Xh()(Rn,Rn)}function oF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dl(e){return e=dh(Math.abs(e)),e?e[1]:NaN}function lF(e,t){return function(n,r){for(var i=n.length,s=[],l=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function cF(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uu(e){if(!(t=uF.exec(e)))throw new Error("invalid format: "+e);var t;return new Vb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uu.prototype=Vb.prototype;function Vb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dF(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Wk;function fF(e,t){var n=dh(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Wk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+dh(e,Math.max(0,t+s-1))[0]}function EE(e,t){var n=dh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EE(e*100,t),r:EE,s:fF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AE(e){return e}var CE=Array.prototype.map,TE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hF(e){var t=e.grouping===void 0||e.thousands===void 0?AE:lF(CE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?AE:cF(CE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=uu(g);var v=g.fill,_=g.align,w=g.sign,j=g.symbol,S=g.zero,O=g.width,N=g.comma,A=g.precision,C=g.trim,T=g.type;T==="n"?(N=!0,T="g"):OE[T]||(A===void 0&&(A=12),C=!0,T="g"),(S||v==="0"&&_==="=")&&(S=!0,v="0",_="=");var k=j==="$"?n:j==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",M=j==="$"?r:/[%p]/.test(T)?l:"",D=OE[T],q=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function $(F){var H=k,ae=M,z,K,I;if(T==="c")ae=D(F)+ae,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?f:D(Math.abs(F),A),C&&(F=dF(F)),Y&&+F==0&&w!=="+"&&(Y=!1),H=(Y?w==="("?w:d:w==="-"||w==="("?"":w)+H,ae=(T==="s"?TE[8+Wk/3]:"")+ae+(Y&&w==="("?")":""),q){for(z=-1,K=F.length;++z<K;)if(I=F.charCodeAt(z),48>I||I>57){ae=(I===46?i+F.slice(z+1):F.slice(z))+ae,F=F.slice(0,z);break}}}N&&!S&&(F=t(F,1/0));var W=H.length+F.length+ae.length,ue=W<O?new Array(O-W+1).join(v):"";switch(N&&S&&(F=t(ue+F,ue.length?O-ae.length:1/0),ue=""),_){case"<":F=H+F+ae+ue;break;case"=":F=H+ue+F+ae;break;case"^":F=ue.slice(0,W=ue.length>>1)+H+F+ae+ue.slice(W);break;default:F=ue+H+F+ae;break}return s(F)}return $.toString=function(){return g+""},$}function p(g,v){var _=h((g=uu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(dl(v)/3)))*3,j=Math.pow(10,-w),S=TE[8+w/3];return function(O){return _(j*O)+S}}return{format:h,formatPrefix:p}}var vf,Wb,Xk;mF({thousands:",",grouping:[3],currency:["$",""]});function mF(e){return vf=hF(e),Wb=vf.format,Xk=vf.formatPrefix,vf}function pF(e){return Math.max(0,-dl(Math.abs(e)))}function gF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dl(t)/3)))*3-dl(Math.abs(e)))}function vF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dl(t)-dl(e))+1}function Qk(e,t,n,r){var i=y0(e,t,n),s;switch(r=uu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=gF(i,l))&&(r.precision=s),Xk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=vF(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=pF(i))&&(r.precision=s-(r.type==="%")*2);break}}return Wb(r)}function Fi(e){var t=e.domain;return e.ticks=function(n){var r=t();return g0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Qk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],d=r[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=v0(l,d,n),h===f)return r[i]=l,r[s]=d,t(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function Jk(){var e=Yb();return e.copy=function(){return Au(e,Jk())},Rr.apply(e,arguments),Fi(e)}function Zk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Zk(e).unknown(t)},e=arguments.length?Array.from(e,uh):[0,1],Fi(n)}function eP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),e[n]=t.floor(i),e[r]=t.ceil(s),e}function kE(e){return Math.log(e)}function PE(e){return Math.exp(e)}function yF(e){return-Math.log(-e)}function bF(e){return-Math.exp(-e)}function xF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _F(e){return e===10?xF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ME(e){return(t,n)=>-e(-t,n)}function Xb(e){const t=e(kE,PE),n=t.domain;let r=10,i,s;function l(){return i=wF(r),s=_F(r),n()[0]<0?(i=ME(i),s=ME(s),e(yF,bF)):e(kE,PE),t}return t.base=function(d){return arguments.length?(r=+d,l()):r},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),_=i(p),w,j;const S=d==null?10:+d;let O=[];if(!(r%1)&&_-v<S){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(w=1;w<r;++w)if(j=v<0?w/s(-v):w*s(v),!(j<h)){if(j>p)break;O.push(j)}}else for(;v<=_;++v)for(w=r-1;w>=1;--w)if(j=v>0?w/s(-v):w*s(v),!(j<h)){if(j>p)break;O.push(j)}O.length*2<S&&(O=g0(h,p,S))}else O=g0(v,_,Math.min(_-v,S)).map(s);return g?O.reverse():O},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=uu(f)).precision==null&&(f.trim=!0),f=Wb(f)),d===1/0)return f;const h=Math.max(1,r*d/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},t.nice=()=>n(eP(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function tP(){const e=Xb(Xh()).domain([1,10]);return e.copy=()=>Au(e,tP()).base(e.base()),Rr.apply(e,arguments),e}function RE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Qb(e){var t=1,n=e(RE(t),DE(t));return n.constant=function(r){return arguments.length?e(RE(t=+r),DE(t)):t},Fi(n)}function nP(){var e=Qb(Xh());return e.copy=function(){return Au(e,nP()).constant(e.constant())},Rr.apply(e,arguments)}function IE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SF(e){return e<0?-e*e:e*e}function Jb(e){var t=e(Rn,Rn),n=1;function r(){return n===1?e(Rn,Rn):n===.5?e(jF,SF):e(IE(n),IE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fi(t)}function Zb(){var e=Jb(Xh());return e.copy=function(){return Au(e,Zb()).exponent(e.exponent())},Rr.apply(e,arguments),e}function NF(){return Zb.apply(null,arguments).exponent(.5)}function LE(e){return Math.sign(e)*e*e}function EF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rP(){var e=Yb(),t=[0,1],n=!1,r;function i(s){var l=EF(e(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return e.invert(LE(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,uh)).map(LE)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return rP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),Fi(i)}function aP(){var e=[],t=[],n=[],r;function i(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=TH(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:t[Eu(n,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ui),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return aP().domain(e).range(t).unknown(r)},Rr.apply(s,arguments)}function iP(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Eu(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return iP().domain([e,t]).range(i).unknown(s)},Rr.apply(Fi(l),arguments)}function sP(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Eu(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return sP().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const ey=new Date,ty=new Date;function sn(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},i.filter=s=>sn(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),n&&(i.count=(s,l)=>(ey.setTime(+s),ty.setTime(+l),e(ey),e(ty),Math.floor(n(ey,ty))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const fh=sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fh);fh.range;const Ua=1e3,Cr=Ua*60,$a=Cr*60,Ya=$a*24,ex=Ya*7,UE=Ya*30,ny=Ya*365,Cs=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCSeconds());Cs.range;const tx=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getMinutes());tx.range;const nx=sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getUTCMinutes());nx.range;const rx=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua-e.getMinutes()*Cr)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getHours());rx.range;const ax=sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCHours());ax.range;const Cu=sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cr)/Ya,e=>e.getDate()-1);Cu.range;const Qh=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>e.getUTCDate()-1);Qh.range;const oP=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>Math.floor(e/Ya));oP.range;function Gs(e){return sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/ex)}const Jh=Gs(0),hh=Gs(1),OF=Gs(2),AF=Gs(3),fl=Gs(4),CF=Gs(5),TF=Gs(6);Jh.range;hh.range;OF.range;AF.range;fl.range;CF.range;TF.range;function Ys(e){return sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ex)}const Zh=Ys(0),mh=Ys(1),kF=Ys(2),PF=Ys(3),hl=Ys(4),MF=Ys(5),RF=Ys(6);Zh.range;mh.range;kF.range;PF.range;hl.range;MF.range;RF.range;const ix=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ix.range;const sx=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sx.range;const Va=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Wa=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wa.range;function lP(e,t,n,r,i,s){const l=[[Cs,1,Ua],[Cs,5,5*Ua],[Cs,15,15*Ua],[Cs,30,30*Ua],[s,1,Cr],[s,5,5*Cr],[s,15,15*Cr],[s,30,30*Cr],[i,1,$a],[i,3,3*$a],[i,6,6*$a],[i,12,12*$a],[r,1,Ya],[r,2,2*Ya],[n,1,ex],[t,1,UE],[t,3,3*UE],[e,1,ny]];function d(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:f(h,p,g),w=_?_.range(h,+p+1):[];return v?w.reverse():w}function f(h,p,g){const v=Math.abs(p-h)/g,_=Bb(([,,S])=>S).right(l,v);if(_===l.length)return e.every(y0(h/ny,p/ny,g));if(_===0)return fh.every(Math.max(y0(h,p,g),1));const[w,j]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return w.every(j)}return[d,f]}const[DF,IF]=lP(Wa,sx,Zh,oP,ax,nx),[LF,UF]=lP(Va,ix,Jh,Cu,rx,tx);function ry(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ay(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $F(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Dc(i),p=Ic(i),g=Dc(s),v=Ic(s),_=Dc(l),w=Ic(l),j=Dc(d),S=Ic(d),O=Dc(f),N=Ic(f),A={a:Y,A:W,b:ue,B:re,c:null,d:FE,e:FE,f:lK,g:yK,G:xK,H:iK,I:sK,j:oK,L:cP,m:cK,M:uK,p:R,q:L,Q:YE,s:VE,S:dK,u:fK,U:hK,V:mK,w:pK,W:gK,x:null,X:null,y:vK,Y:bK,Z:_K,"%":GE},C={a:V,A:X,b:te,B:fe,c:null,d:KE,e:KE,f:NK,g:DK,G:LK,H:wK,I:jK,j:SK,L:dP,m:EK,M:OK,p:pe,q:ke,Q:YE,s:VE,S:AK,u:CK,U:TK,V:kK,w:PK,W:MK,x:null,X:null,y:RK,Y:IK,Z:UK,"%":GE},T={a:$,A:F,b:H,B:ae,c:z,d:qE,e:qE,f:tK,g:BE,G:zE,H:HE,I:HE,j:QF,L:eK,m:XF,M:JF,p:q,q:WF,Q:rK,s:aK,S:ZF,u:FF,U:KF,V:GF,w:HF,W:YF,x:K,X:I,y:BE,Y:zE,Z:VF,"%":nK};A.x=k(n,A),A.X=k(r,A),A.c=k(t,A),C.x=k(n,C),C.X=k(r,C),C.c=k(t,C);function k(ie,je){return function(Pe){var ce=[],At=-1,Le=0,Ct=ie.length,Tt,Ht,Xn;for(Pe instanceof Date||(Pe=new Date(+Pe));++At<Ct;)ie.charCodeAt(At)===37&&(ce.push(ie.slice(Le,At)),(Ht=$E[Tt=ie.charAt(++At)])!=null?Tt=ie.charAt(++At):Ht=Tt==="e"?" ":"0",(Xn=je[Tt])&&(Tt=Xn(Pe,Ht)),ce.push(Tt),Le=At+1);return ce.push(ie.slice(Le,At)),ce.join("")}}function M(ie,je){return function(Pe){var ce=Rc(1900,void 0,1),At=D(ce,ie,Pe+="",0),Le,Ct;if(At!=Pe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(je&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Le=ay(Rc(ce.y,0,1)),Ct=Le.getUTCDay(),Le=Ct>4||Ct===0?mh.ceil(Le):mh(Le),Le=Qh.offset(Le,(ce.V-1)*7),ce.y=Le.getUTCFullYear(),ce.m=Le.getUTCMonth(),ce.d=Le.getUTCDate()+(ce.w+6)%7):(Le=ry(Rc(ce.y,0,1)),Ct=Le.getDay(),Le=Ct>4||Ct===0?hh.ceil(Le):hh(Le),Le=Cu.offset(Le,(ce.V-1)*7),ce.y=Le.getFullYear(),ce.m=Le.getMonth(),ce.d=Le.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ct="Z"in ce?ay(Rc(ce.y,0,1)).getUTCDay():ry(Rc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ct+5)%7:ce.w+ce.U*7-(Ct+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,ay(ce)):ry(ce)}}function D(ie,je,Pe,ce){for(var At=0,Le=je.length,Ct=Pe.length,Tt,Ht;At<Le;){if(ce>=Ct)return-1;if(Tt=je.charCodeAt(At++),Tt===37){if(Tt=je.charAt(At++),Ht=T[Tt in $E?je.charAt(At++):Tt],!Ht||(ce=Ht(ie,Pe,ce))<0)return-1}else if(Tt!=Pe.charCodeAt(ce++))return-1}return ce}function q(ie,je,Pe){var ce=h.exec(je.slice(Pe));return ce?(ie.p=p.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function $(ie,je,Pe){var ce=_.exec(je.slice(Pe));return ce?(ie.w=w.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function F(ie,je,Pe){var ce=g.exec(je.slice(Pe));return ce?(ie.w=v.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function H(ie,je,Pe){var ce=O.exec(je.slice(Pe));return ce?(ie.m=N.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function ae(ie,je,Pe){var ce=j.exec(je.slice(Pe));return ce?(ie.m=S.get(ce[0].toLowerCase()),Pe+ce[0].length):-1}function z(ie,je,Pe){return D(ie,t,je,Pe)}function K(ie,je,Pe){return D(ie,n,je,Pe)}function I(ie,je,Pe){return D(ie,r,je,Pe)}function Y(ie){return l[ie.getDay()]}function W(ie){return s[ie.getDay()]}function ue(ie){return f[ie.getMonth()]}function re(ie){return d[ie.getMonth()]}function R(ie){return i[+(ie.getHours()>=12)]}function L(ie){return 1+~~(ie.getMonth()/3)}function V(ie){return l[ie.getUTCDay()]}function X(ie){return s[ie.getUTCDay()]}function te(ie){return f[ie.getUTCMonth()]}function fe(ie){return d[ie.getUTCMonth()]}function pe(ie){return i[+(ie.getUTCHours()>=12)]}function ke(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var je=k(ie+="",A);return je.toString=function(){return ie},je},parse:function(ie){var je=M(ie+="",!1);return je.toString=function(){return ie},je},utcFormat:function(ie){var je=k(ie+="",C);return je.toString=function(){return ie},je},utcParse:function(ie){var je=M(ie+="",!0);return je.toString=function(){return ie},je}}}var $E={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,zF=/^%/,BF=/[\\^$*+?|[\]().{}]/g;function tt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function qF(e){return e.replace(BF,"\\$&")}function Dc(e){return new RegExp("^(?:"+e.map(qF).join("|")+")","i")}function Ic(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function HF(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function FF(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function KF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function GF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function YF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zE(e,t,n){var r=pn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function BE(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function VF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function WF(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function XF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qE(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function QF(e,t,n){var r=pn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function HE(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function JF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ZF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function eK(e,t,n){var r=pn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function tK(e,t,n){var r=pn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nK(e,t,n){var r=zF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function rK(e,t,n){var r=pn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=pn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function FE(e,t){return tt(e.getDate(),t,2)}function iK(e,t){return tt(e.getHours(),t,2)}function sK(e,t){return tt(e.getHours()%12||12,t,2)}function oK(e,t){return tt(1+Cu.count(Va(e),e),t,3)}function cP(e,t){return tt(e.getMilliseconds(),t,3)}function lK(e,t){return cP(e,t)+"000"}function cK(e,t){return tt(e.getMonth()+1,t,2)}function uK(e,t){return tt(e.getMinutes(),t,2)}function dK(e,t){return tt(e.getSeconds(),t,2)}function fK(e){var t=e.getDay();return t===0?7:t}function hK(e,t){return tt(Jh.count(Va(e)-1,e),t,2)}function uP(e){var t=e.getDay();return t>=4||t===0?fl(e):fl.ceil(e)}function mK(e,t){return e=uP(e),tt(fl.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function pK(e){return e.getDay()}function gK(e,t){return tt(hh.count(Va(e)-1,e),t,2)}function vK(e,t){return tt(e.getFullYear()%100,t,2)}function yK(e,t){return e=uP(e),tt(e.getFullYear()%100,t,2)}function bK(e,t){return tt(e.getFullYear()%1e4,t,4)}function xK(e,t){var n=e.getDay();return e=n>=4||n===0?fl(e):fl.ceil(e),tt(e.getFullYear()%1e4,t,4)}function _K(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function KE(e,t){return tt(e.getUTCDate(),t,2)}function wK(e,t){return tt(e.getUTCHours(),t,2)}function jK(e,t){return tt(e.getUTCHours()%12||12,t,2)}function SK(e,t){return tt(1+Qh.count(Wa(e),e),t,3)}function dP(e,t){return tt(e.getUTCMilliseconds(),t,3)}function NK(e,t){return dP(e,t)+"000"}function EK(e,t){return tt(e.getUTCMonth()+1,t,2)}function OK(e,t){return tt(e.getUTCMinutes(),t,2)}function AK(e,t){return tt(e.getUTCSeconds(),t,2)}function CK(e){var t=e.getUTCDay();return t===0?7:t}function TK(e,t){return tt(Zh.count(Wa(e)-1,e),t,2)}function fP(e){var t=e.getUTCDay();return t>=4||t===0?hl(e):hl.ceil(e)}function kK(e,t){return e=fP(e),tt(hl.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function PK(e){return e.getUTCDay()}function MK(e,t){return tt(mh.count(Wa(e)-1,e),t,2)}function RK(e,t){return tt(e.getUTCFullYear()%100,t,2)}function DK(e,t){return e=fP(e),tt(e.getUTCFullYear()%100,t,2)}function IK(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function LK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hl(e):hl.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function UK(){return"+0000"}function GE(){return"%"}function YE(e){return+e}function VE(e){return Math.floor(+e/1e3)}var Xo,hP,mP;$K({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $K(e){return Xo=$F(e),hP=Xo.format,Xo.parse,mP=Xo.utcFormat,Xo.utcParse,Xo}function zK(e){return new Date(e)}function BK(e){return e instanceof Date?+e:+new Date(+e)}function ox(e,t,n,r,i,s,l,d,f,h){var p=Yb(),g=p.invert,v=p.domain,_=h(".%L"),w=h(":%S"),j=h("%I:%M"),S=h("%I %p"),O=h("%a %d"),N=h("%b %d"),A=h("%B"),C=h("%Y");function T(k){return(f(k)<k?_:d(k)<k?w:l(k)<k?j:s(k)<k?S:r(k)<k?i(k)<k?O:N:n(k)<k?A:C)(k)}return p.invert=function(k){return new Date(g(k))},p.domain=function(k){return arguments.length?v(Array.from(k,BK)):v().map(zK)},p.ticks=function(k){var M=v();return e(M[0],M[M.length-1],k??10)},p.tickFormat=function(k,M){return M==null?T:h(M)},p.nice=function(k){var M=v();return(!k||typeof k.range!="function")&&(k=t(M[0],M[M.length-1],k??10)),k?v(eP(M,k)):p},p.copy=function(){return Au(p,ox(e,t,n,r,i,s,l,d,f,h))},p}function qK(){return Rr.apply(ox(LF,UF,Va,ix,Jh,Cu,rx,tx,Cs,hP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HK(){return Rr.apply(ox(DF,IF,Wa,sx,Zh,Qh,ax,nx,Cs,mP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function em(){var e=0,t=1,n,r,i,s,l=Rn,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var _,w;return arguments.length?([_,w]=v,l=g(_,w),h):[l(0),l(1)]}}return h.range=p(Sl),h.rangeRound=p(Gb),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function Ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pP(){var e=Fi(em()(Rn));return e.copy=function(){return Ki(e,pP())},Ja.apply(e,arguments)}function gP(){var e=Xb(em()).domain([1,10]);return e.copy=function(){return Ki(e,gP()).base(e.base())},Ja.apply(e,arguments)}function vP(){var e=Qb(em());return e.copy=function(){return Ki(e,vP()).constant(e.constant())},Ja.apply(e,arguments)}function lx(){var e=Jb(em());return e.copy=function(){return Ki(e,lx()).exponent(e.exponent())},Ja.apply(e,arguments)}function FK(){return lx.apply(null,arguments).exponent(.5)}function yP(){var e=[],t=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Eu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ui),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>CH(e,s/r))},n.copy=function(){return yP(t).domain(e)},Ja.apply(n,arguments)}function tm(){var e=0,t=.5,n=1,r=1,i,s,l,d,f,h=Rn,p,g=!1,v;function _(j){return isNaN(j=+j)?v:(j=.5+((j=+p(j))-s)*(r*j<r*s?d:f),h(g?Math.max(0,Math.min(1,j)):j))}_.domain=function(j){return arguments.length?([e,t,n]=j,i=p(e=+e),s=p(t=+t),l=p(n=+n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[e,t,n]},_.clamp=function(j){return arguments.length?(g=!!j,_):g},_.interpolator=function(j){return arguments.length?(h=j,_):h};function w(j){return function(S){var O,N,A;return arguments.length?([O,N,A]=S,h=nF(j,[O,N,A]),_):[h(0),h(.5),h(1)]}}return _.range=w(Sl),_.rangeRound=w(Gb),_.unknown=function(j){return arguments.length?(v=j,_):v},function(j){return p=j,i=j(e),s=j(t),l=j(n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function bP(){var e=Fi(tm()(Rn));return e.copy=function(){return Ki(e,bP())},Ja.apply(e,arguments)}function xP(){var e=Xb(tm()).domain([.1,1,10]);return e.copy=function(){return Ki(e,xP()).base(e.base())},Ja.apply(e,arguments)}function _P(){var e=Qb(tm());return e.copy=function(){return Ki(e,_P()).constant(e.constant())},Ja.apply(e,arguments)}function cx(){var e=Jb(tm());return e.copy=function(){return Ki(e,cx()).exponent(e.exponent())},Ja.apply(e,arguments)}function KK(){return cx.apply(null,arguments).exponent(.5)}const zc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hb,scaleDiverging:bP,scaleDivergingLog:xP,scaleDivergingPow:cx,scaleDivergingSqrt:KK,scaleDivergingSymlog:_P,scaleIdentity:Zk,scaleImplicit:b0,scaleLinear:Jk,scaleLog:tP,scaleOrdinal:qb,scalePoint:PH,scalePow:Zb,scaleQuantile:aP,scaleQuantize:iP,scaleRadial:rP,scaleSequential:pP,scaleSequentialLog:gP,scaleSequentialPow:lx,scaleSequentialQuantile:yP,scaleSequentialSqrt:FK,scaleSequentialSymlog:vP,scaleSqrt:NF,scaleSymlog:nP,scaleThreshold:sP,scaleTime:qK,scaleUtc:HK,tickFormat:Qk},Symbol.toStringTag,{value:"Module"}));var Gi=e=>e.chartData,ux=ee([Gi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),dx=(e,t,n,r)=>r?ux(e):Gi(e);function ml(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fr(t)&&fr(n))return!0}return!1}function WE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(fr(n))i=n;else if(typeof n=="function")return;if(fr(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ml(l))return l}}function YK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ml(r))return WE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Se(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&$N.test(i)){var f=$N.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(Se(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&zN.test(s)){var p=zN.exec(s);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var v=[l,d];if(ml(v))return t==null?v:WE(v,t,n)}}}var Nl=1e9,VK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hx,Nt=!0,kr="[DecimalError] ",Ds=kr+"Invalid argument: ",fx=kr+"Exponent out of range: ",El=Math.floor,bs=Math.pow,WK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,fn=1e7,wt=7,wP=9007199254740991,ph=El(wP/wt),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(e){return Ha(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,n=t.constructor;return gt(Ha(t,new n(e),0,1),n.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return Jt(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(lr))throw Error(kr+"NaN");if(n.s<1)throw Error(kr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(Nt=!1,t=Ha(du(n,s),du(e,s),s),Nt=!0,gt(t,i))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NP(t,e):jP(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(kr+"NaN");return n.s?(Nt=!1,t=Ha(n,e,0,1).times(e),Nt=!0,n.minus(t)):gt(new r(n),i)};ye.naturalExponential=ye.exp=function(){return SP(this)};ye.naturalLogarithm=ye.ln=function(){return du(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jP(t,e):NP(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ds+e);if(t=Jt(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ye.squareRoot=ye.sqrt=function(){var e,t,n,r,i,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(kr+"NaN")}for(e=Jt(d),Nt=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=oa(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=El((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ha(d,s,l+2)).times(.5),oa(s.d).slice(0,l)===(t=oa(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(gt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(t!="9999")break;l+=4}return Nt=!0,gt(r,n)};ye.times=ye.mul=function(e){var t,n,r,i,s,l,d,f,h,p=this,g=p.constructor,v=p.d,_=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,f=v.length,h=_.length,f<h&&(s=v,v=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)d=s[i]+_[r]*v[i-r-1]+t,s[i--]=d%fn|0,t=d/fn|0;s[i]=(s[i]+t)%fn|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Nt?gt(e,g.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(fa(e,0,Nl),t===void 0?t=r.rounding:fa(t,0,8),gt(n,e+Jt(n)+1,t))};ye.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=$s(r,!0):(fa(e,0,Nl),t===void 0?t=i.rounding:fa(t,0,8),r=gt(new i(r),e+1,t),n=$s(r,!0,e+1)),n};ye.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?$s(i):(fa(e,0,Nl),t===void 0?t=s.rounding:fa(t,0,8),r=gt(new s(i),e+Jt(i)+1,t),n=$s(r.abs(),!1,e+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Jt(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,n,r,i,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(lr);if(d=new f(d),!d.s){if(e.s<1)throw Error(kr+"Infinity");return d}if(d.eq(lr))return d;if(r=f.precision,e.eq(lr))return gt(d,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=d.s,l){if((n=p<0?-p:p)<=wP){for(i=new f(lr),t=Math.ceil(r/wt+4),Nt=!1;n%2&&(i=i.times(d),QE(i.d,t)),n=El(n/2),n!==0;)d=d.times(d),QE(d.d,t);return Nt=!0,e.s<0?new f(lr).div(i):gt(i,r)}}else if(s<0)throw Error(kr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Nt=!1,i=e.times(du(d,r+h)),Nt=!0,i=SP(i),i.s=s,i};ye.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Jt(i),r=$s(i,n<=s.toExpNeg||n>=s.toExpPos)):(fa(e,1,Nl),t===void 0?t=s.rounding:fa(t,0,8),i=gt(new s(i),e,t),n=Jt(i),r=$s(i,e<=n||n<=s.toExpNeg,e)),r};ye.toSignificantDigits=ye.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(fa(e,1,Nl),t===void 0?t=r.rounding:fa(t,0,8)),gt(new r(n),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),n=e.constructor;return $s(e,t<=n.toExpNeg||t>=n.toExpPos)};function jP(e,t){var n,r,i,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Nt?gt(t,g):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,i=l,d=f.length),l=Math.ceil(g/wt),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/fn|0,f[s]%=fn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,Nt?gt(t,g):t}function fa(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ds+e)}function oa(e){var t,n,r,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)r=e[t]+"",n=wt-r.length,n&&(s+=Pi(n)),s+=r;l=e[t],r=l+"",n=wt-r.length,n&&(s+=Pi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ha=(function(){function e(r,i){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+l,r[d]=s%fn|0,l=s/fn|0;return l&&r.unshift(l),r}function t(r,i,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*fn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var d,f,h,p,g,v,_,w,j,S,O,N,A,C,T,k,M,D,q=r.constructor,$=r.s==i.s?1:-1,F=r.d,H=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(kr+"Division by zero");for(f=r.e-i.e,M=H.length,T=F.length,_=new q($),w=_.d=[],h=0;H[h]==(F[h]||0);)++h;if(H[h]>(F[h]||0)&&--f,s==null?N=s=q.precision:l?N=s+(Jt(r)-Jt(i))+1:N=s,N<0)return new q(0);if(N=N/wt+2|0,h=0,M==1)for(p=0,H=H[0],N++;(h<T||p)&&N--;h++)A=p*fn+(F[h]||0),w[h]=A/H|0,p=A%H|0;else{for(p=fn/(H[0]+1)|0,p>1&&(H=e(H,p),F=e(F,p),M=H.length,T=F.length),C=M,j=F.slice(0,M),S=j.length;S<M;)j[S++]=0;D=H.slice(),D.unshift(0),k=H[0],H[1]>=fn/2&&++k;do p=0,d=t(H,j,M,S),d<0?(O=j[0],M!=S&&(O=O*fn+(j[1]||0)),p=O/k|0,p>1?(p>=fn&&(p=fn-1),g=e(H,p),v=g.length,S=j.length,d=t(g,j,v,S),d==1&&(p--,n(g,M<v?D:H,v))):(p==0&&(d=p=1),g=H.slice()),v=g.length,v<S&&g.unshift(0),n(j,g,S),d==-1&&(S=j.length,d=t(H,j,M,S),d<1&&(p++,n(j,M<S?D:H,S))),S=j.length):d===0&&(p++,j=[0]),w[h++]=p,d&&j[0]?j[S++]=F[C]||0:(j=[F[C]],S=1);while((C++<T||j[0]!==void 0)&&N--)}return w[0]||w.shift(),_.e=f,gt(_,l?s+Jt(_)+1:s)}})();function SP(e,t){var n,r,i,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(Jt(e)>16)throw Error(fx+Jt(e));if(!e.s)return new p(lr);for(Nt=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(bs(2,h))/Math.LN10*2+5|0,d+=r,n=i=s=new p(lr),p.precision=d;;){if(i=gt(i.times(e),d),n=n.times(++f),l=s.plus(Ha(i,n,d)),oa(l.d).slice(0,d)===oa(s.d).slice(0,d)){for(;h--;)s=gt(s.times(s),d);return p.precision=g,t==null?(Nt=!0,gt(s,g)):s}s=l}}function Jt(e){for(var t=e.e*wt,n=e.d[0];n>=10;n/=10)t++;return t}function iy(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(kr+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function Pi(e){for(var t="";e--;)t+="0";return t}function du(e,t){var n,r,i,s,l,d,f,h,p,g=1,v=10,_=e,w=_.d,j=_.constructor,S=j.precision;if(_.s<1)throw Error(kr+(_.s?"NaN":"-Infinity"));if(_.eq(lr))return new j(0);if(t==null?(Nt=!1,h=S):h=t,_.eq(10))return t==null&&(Nt=!0),iy(j,h);if(h+=v,j.precision=h,n=oa(w),r=n.charAt(0),s=Jt(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=oa(_.d),r=n.charAt(0),g++;s=Jt(_),r>1?(_=new j("0."+n),s++):_=new j(r+"."+n.slice(1))}else return f=iy(j,h+2,S).times(s+""),_=du(new j(r+"."+n.slice(1)),h-v).plus(f),j.precision=S,t==null?(Nt=!0,gt(_,S)):_;for(d=l=_=Ha(_.minus(lr),_.plus(lr),h),p=gt(_.times(_),h),i=3;;){if(l=gt(l.times(p),h),f=d.plus(Ha(l,new j(i),h)),oa(f.d).slice(0,h)===oa(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(iy(j,h+2,S).times(s+""))),d=Ha(d,new j(g),h),j.precision=S,t==null?(Nt=!0,gt(d,S)):d;d=f,i+=2}}function XE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=El(n/wt),e.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wt;r<i;)e.d.push(+t.slice(r,r+=wt));t=t.slice(r),r=wt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>ph||e.e<-ph))throw Error(fx+n)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,n){var r,i,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=wt,i=t,h=g[p=0];else{if(p=Math.ceil((r+1)/wt),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=wt,i=r-wt+l}if(n!==void 0&&(s=bs(10,l-i-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/bs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(s=Jt(e),g.length=1,t=t-s-1,g[0]=bs(10,(wt-t%wt)%wt),e.e=El(-t/wt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=bs(10,wt-r),g[p]=i>0?(h/bs(10,l-i)%bs(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==fn&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=fn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Nt&&(e.e>ph||e.e<-ph))throw Error(fx+Jt(e));return e}function NP(e,t){var n,r,i,s,l,d,f,h,p,g,v=e.constructor,_=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Nt?gt(t,_):t;if(f=e.d,g=t.d,r=t.e,h=e.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(_/wt),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,t.s=-t.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=fn-1;--f[s],f[i]+=fn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Nt?gt(t,_):t):new v(0)}function $s(e,t,n){var r,i=Jt(e),s=oa(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Pi(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Pi(-i-1)+s,n&&(r=n-l)>0&&(s+=Pi(r))):i>=l?(s+=Pi(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Pi(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Pi(r))),e.s<0?"-"+s:s}function QE(e,t){if(e.length>t)return e.length=t,!0}function EP(e){var t,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ds+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return XE(l,s.toString())}else if(typeof s!="string")throw Error(Ds+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,WK.test(s))XE(l,s);else throw Error(Ds+s)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=EP,i.config=i.set=XK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function XK(e){if(!e||typeof e!="object")throw Error(kr+"Object expected");var t,n,r,i=["precision",1,Nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(El(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ds+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ds+n+": "+r);return this}var hx=EP(VK);lr=new hx(1);const lt=hx;var QK=e=>e,OP={},AP=e=>e===OP,JE=e=>function t(){return arguments.length===0||arguments.length===1&&AP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},CP=(e,t)=>e===1?t:JE(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==OP).length;return s>=e?t(...r):CP(e-s,JE(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>AP(p)?d.shift():p);return t(...h,...d)}))}),nm=e=>CP(e.length,e),j0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},JK=nm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),ZK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return QK;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((d,f)=>f(d),s(...arguments))}},S0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),TP=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((l,d)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[d])})||(t=i,n=e(...i)),n}};function kP(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function PP(e,t,n){for(var r=new lt(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}nm((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});nm((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});nm((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var MP=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},RP=(e,t,n)=>{if(e.lte(0))return new lt(0);var r=kP(e.toNumber()),i=new lt(10).pow(r),s=e.div(i),l=r!==1?.05:.1,d=new lt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return t?new lt(f.toNumber()):new lt(Math.ceil(f.toNumber()))},eG=(e,t,n)=>{var r=new lt(1),i=new lt(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new lt(10).pow(kP(e)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new lt(Math.floor(e)))}else e===0?i=new lt(Math.floor((t-1)/2)):n||(i=new lt(Math.floor(e)));var l=Math.floor((t-1)/2),d=ZK(JK(f=>i.add(new lt(f-l).mul(r)).toNumber()),j0);return d(0,t)},DP=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var l=RP(new lt(n).sub(t).div(r-1),i,s),d;t<=0&&n>=0?d=new lt(0):(d=new lt(t).add(n).div(2),d=d.sub(new lt(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new lt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?DP(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new lt(f).mul(l)),tickMax:d.add(new lt(h).mul(l))})};function tG(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,d]=MP([t,n]);if(l===-1/0||d===1/0){var f=d===1/0?[l,...j0(0,r-1).map(()=>1/0)]:[...j0(0,r-1).map(()=>-1/0),d];return t>n?S0(f):f}if(l===d)return eG(l,r,i);var{step:h,tickMin:p,tickMax:g}=DP(l,d,s,i,0),v=PP(p,g.add(new lt(.1).mul(h)),h);return t>n?S0(v):v}function nG(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=MP([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var d=Math.max(t,2),f=RP(new lt(l).sub(s).div(d-1),i,0),h=[...PP(new lt(s),new lt(l),f),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?S0(h):h}var rG=TP(tG),aG=TP(nG),IP=e=>e.rootProps.maxBarSize,iG=e=>e.rootProps.barGap,LP=e=>e.rootProps.barCategoryGap,sG=e=>e.rootProps.barSize,Tu=e=>e.rootProps.stackOffset,mx=e=>e.options.chartName,px=e=>e.rootProps.syncId,UP=e=>e.rootProps.syncMethod,gx=e=>e.options.eventEmitter,Ia={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},rm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},oG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:Ia.reversed,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:Ia.type,unit:void 0},lG={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:or.type,unit:void 0},cG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uG={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:"category",unit:void 0},vx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?cG:oG,yx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uG:lG,am=e=>e.polarOptions,bx=ee([Xa,Qa,an],xk),$P=ee([am,bx],(e,t)=>{if(e!=null)return Cn(e.innerRadius,t,0)}),zP=ee([am,bx],(e,t)=>{if(e!=null)return Cn(e.outerRadius,t,t*.8)}),dG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},BP=ee([am],dG);ee([vx,BP],rm);var qP=ee([bx,$P,zP],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ee([yx,qP],rm);var HP=ee([nt,am,$P,zP,Xa,Qa],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Cn(l,i,i/2),cy:Cn(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ot=(e,t)=>t,ku=(e,t,n)=>n;function xx(e){return e==null?void 0:e.id}var on=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ol=e=>e.tooltip.settings.axisId,gn=e=>{var t=on(e),n=Ol(e);return Pu(e,t,n)},FP=ee([gn],e=>e==null?void 0:e.dataKey);function KP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=xx(d);h.forEach((g,v)=>{var _=s==null||i?v:String(Rt(g,s,null)),w=Rt(g,d.dataKey,0),j;l.has(_)?j=l.get(_):j={},Object.assign(j,{[p]:w}),l.set(_,j)})}}),Array.from(l.values())}function im(e){return e.stackId!=null&&e.dataKey!=null}function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){fG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fG(e,t,n){return(t=hG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=[0,"auto"],ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},GP=(e,t)=>e.cartesianAxis.xAxis[t],Za=(e,t)=>{var n=GP(e,t);return n??ir},sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:N0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nu},YP=(e,t)=>e.cartesianAxis.yAxis[t],ei=(e,t)=>{var n=YP(e,t);return n??sr},pG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_x=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??pG},qt=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);case"zAxis":return _x(e,n);case"angleAxis":return vx(e,n);case"radiusAxis":return yx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gG=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Pu=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);case"angleAxis":return vx(e,n);case"radiusAxis":return yx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function wx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var jx=e=>e.graphicalItems.cartesianItems,vG=ee([Ot,ku],wx),Sx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Mu=ee([jx,qt,vG],Sx),WP=ee([Mu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(im)),XP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QP=ee([Mu],XP),Nx=e=>e.map(t=>t.data).filter(Boolean).flat(1),yG=ee([Mu],Nx),Ex=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ox=ee([yG,dx],Ex),Ax=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Rt(i,r)}))):e.map(r=>({value:r})),sm=ee([Ox,qt,Mu],Ax);function JP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Vs(e){return e.filter(t=>da(t)||t instanceof Date).map(Number).filter(t=>ur(t)===!1)}function bG(e,t,n){return!n||typeof t!="number"||ur(t)?[]:n.length?Vs(n.flatMap(r=>{var i=Rt(e,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!fr(s)||!fr(l)))return[t-s,t+l]})):[]}var xG=ee([WP,dx,gn],KP),ZP=(e,t,n)=>{var r={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,d]=s,f=d.map(xx);return[l,{stackedData:S7(e,f,n),graphicalItems:d}]}))},E0=ee([xG,WP,Tu],ZP),eM=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=C7(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},_G=ee([E0,Gi,Ot],eM),tM=(e,t,n,r,i)=>n.length>0?e.flatMap(s=>n.flatMap(l=>{var d,f,h=(d=r[l.id])===null||d===void 0?void 0:d.filter(g=>JP(i,g)),p=Rt(s,(f=t.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:p,errorDomain:bG(s,p,h)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Rt(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),om=e=>e.errorBars,nM=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>JP(n,r));ee([QP,om,Ot],nM);var wG=ee([Ox,qt,QP,om,Ot],tM);function jG(e){var{value:t}=e;if(da(t)||t instanceof Date)return t}var eO=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Vs(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SG=(e,t,n)=>{var r=e.map(jG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&pT(r))?Bk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Cx=e=>{var t;if(e==null||!("domain"in e))return N0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Vs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:N0},vh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},rM=e=>e.referenceElements.dots,Al=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),NG=ee([rM,Ot,ku],Al),aM=e=>e.referenceElements.areas,EG=ee([aM,Ot,ku],Al),iM=e=>e.referenceElements.lines,OG=ee([iM,Ot,ku],Al),sM=(e,t)=>{var n=Vs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},AG=ee(NG,Ot,sM),oM=(e,t)=>{var n=Vs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},CG=ee([EG,Ot],oM),lM=(e,t)=>{var n=Vs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TG=ee(OG,Ot,lM),kG=ee(AG,TG,CG,(e,t,n)=>vh(e,n,t)),cM=ee([qt],Cx),Tx=(e,t,n,r,i,s,l)=>{var d=GK(t,e.allowDataOverflow);if(d!=null)return d;var f=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",h=f?vh(n,i,eO(r)):vh(i,eO(r));return YK(t,h,e.allowDataOverflow)},PG=ee([qt,cM,_G,wG,kG,nt,Ot],Tx),MG=[0,1],kx=(e,t,n,r,i,s,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Fs(t,s);return h&&d==null?Bk(0,n.length):f==="category"?SG(r,e,h):i==="expand"?MG:l}},Px=ee([qt,nt,Ox,sm,Tu,Ot,PG],kx),uM=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(_u(s));return d in zc?d:"point"}}},Cl=ee([qt,nt,VP,mx,Ot],uM);function RG(e){if(e!=null){if(e in zc)return zc[e]();var t="scale".concat(_u(e));if(t in zc)return zc[t]()}}function Mx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=RG(t);if(i!=null){var s=i.domain(n).range(r);return b7(s),s}}}var Rx=(e,t,n)=>{var r=Cx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ml(e))return rG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ml(e))return aG(e,t.tickCount,t.allowDecimals)}},Dx=ee([Px,Pu,Cl],Rx),Ix=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ml(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],l=t[1],d=n[n.length-1];return[Math.min(i,s),Math.max(l,d)]}return t},DG=ee([qt,Px,Dx,Ot],Ix),IG=ee(sm,qt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Vs(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),dM=ee(IG,nt,LP,an,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!fr(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=Cn(n,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),LG=(e,t)=>{var n=Za(e,t);return n==null||typeof n.padding!="string"?0:dM(e,"xAxis",t,n.padding)},UG=(e,t)=>{var n=ei(e,t);return n==null||typeof n.padding!="string"?0:dM(e,"yAxis",t,n.padding)},$G=ee(Za,LG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),zG=ee(ei,UG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),BG=ee([an,$G,Yh,Gh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),qG=ee([an,nt,zG,Yh,Gh,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ru=(e,t,n,r)=>{var i;switch(t){case"xAxis":return BG(e,n,r);case"yAxis":return qG(e,n,r);case"zAxis":return(i=_x(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return BP(e);case"radiusAxis":return qP(e,n);default:return}},fM=ee([qt,Ru],rm),Tl=ee([qt,Cl,DG,fM],Mx);ee([Mu,om,Ot],nM);function hM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lm=(e,t)=>t,cm=(e,t,n)=>n,HG=ee(Fh,lm,cm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(hM)),FG=ee(Kh,lm,cm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(hM)),mM=(e,t)=>({width:e.width,height:t.height}),KG=(e,t)=>{var n=typeof t.width=="number"?t.width:Nu;return{width:n,height:e.height}},pM=ee(an,Za,mM),GG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},YG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},VG=ee(Qa,an,HG,lm,cm,(e,t,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=mM(t,d);l==null&&(l=GG(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),WG=ee(Xa,an,FG,lm,cm,(e,t,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=KG(t,d);l==null&&(l=YG(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),XG=(e,t)=>{var n=Za(e,t);if(n!=null)return VG(e,n.orientation,n.mirror)},QG=ee([an,Za,XG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),JG=(e,t)=>{var n=ei(e,t);if(n!=null)return WG(e,n.orientation,n.mirror)},ZG=ee([an,ei,JG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),gM=ee(an,ei,(e,t)=>{var n=typeof t.width=="number"?t.width:Nu;return{width:n,height:e.height}}),tO=(e,t,n)=>{switch(t){case"xAxis":return pM(e,n).width;case"yAxis":return gM(e,n).height;default:return}},vM=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,d=Fs(e,r),f=t.map(h=>h.value);if(l&&d&&s==="category"&&i&&pT(f))return f}},Lx=ee([nt,sm,qt,Ot],vM),yM=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Fs(e,r);if(l&&(i==="number"||s!=="auto"))return t.map(d=>d.value)}},Ux=ee([nt,sm,Pu,Ot],yM),nO=ee([nt,gG,Cl,Tl,Lx,Ux,Ru,Dx,Ot],(e,t,n,r,i,s,l,d,f)=>{if(t==null)return null;var h=Fs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}),eY=(e,t,n,r,i,s,l,d,f)=>{if(!(t==null||r==null)){var h=Fs(e,f),{type:p,ticks:g,tickCount:v}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/_:0;w=f==="angleAxis"&&s!=null&&s.length>=2?hn(s[0]-s[1])*2*w:w;var j=g||i;if(j){var S=j.map((O,N)=>{var A=l?l.indexOf(O):O;return{index:N,coordinate:r(A)+w,value:O,offset:w}});return S.filter(O=>!ur(O.coordinate))}return h&&d?d.map((O,N)=>({coordinate:r(O)+w,value:O,index:N,offset:w})):r.ticks?r.ticks(v).map(O=>({coordinate:r(O)+w,value:O,offset:w})):r.domain().map((O,N)=>({coordinate:r(O)+w,value:l?l[O]:O,index:N,offset:w}))}},bM=ee([nt,Pu,Cl,Tl,Dx,Ru,Lx,Ux,Ot],eY),tY=(e,t,n,r,i,s,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Fs(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?hn(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},pl=ee([nt,Pu,Tl,Ru,Lx,Ux,Ot],tY),gl=ee(qt,Tl,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),nY=ee([qt,Cl,Px,fM],Mx);ee((e,t,n)=>_x(e,n),nY,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})});var rY=ee([nt,Fh,Kh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xM=e=>e.options.defaultTooltipEventType,_M=e=>e.options.validateTooltipEventTypes;function wM(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function $x(e,t){var n=xM(e),r=_M(e);return wM(t,n,r)}function aY(e){return we(t=>$x(t,e))}var jM=(e,t)=>{var n,r=Number(t);if(!(ur(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},iY=e=>e.tooltip.settings,Ii={active:!1,index:null,dataKey:void 0,coordinate:void 0},sY={itemInteraction:{click:Ii,hover:Ii},axisInteraction:{click:Ii,hover:Ii},keyboardInteraction:Ii,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SM=hr({name:"tooltip",initialState:sY,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:oY,removeTooltipEntrySettings:lY,setTooltipSettingsState:cY,setActiveMouseOverItemIndex:NM,mouseLeaveItem:uY,mouseLeaveChart:EM,setActiveClickItemIndex:dY,setMouseOverAxisIndex:OM,setMouseClickAxisIndex:fY,setSyncInteraction:O0,setKeyboardInteraction:A0}=SM.actions,hY=SM.reducer;function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=pY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function yY(e){return e.index!=null}var AM=(e,t,n,r)=>{if(t==null)return Ii;var i=vY(e,t,n);if(i==null)return Ii;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(yY(i)){if(s)return yf(yf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return yf(yf({},Ii),{},{coordinate:i.coordinate})},zx=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!fr(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},CM=(e,t,n,r,i,s,l,d)=>{if(!(s==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},TM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},Du=e=>e.options.tooltipPayloadSearcher,kl=e=>e.tooltip;function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(r){bY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bY(e,t,n){return(t=xY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wY(e,t){return e??t}var kM=(e,t,n,r,i,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((v,_)=>{var w,{dataDefinedOnItem:j,settings:S}=_,O=wY(j,d),N=Array.isArray(O)?_k(O,h,p):O,A=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r,C=S==null?void 0:S.nameKey,T;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?T=l8(N,r,i):T=s(N,t,f,C),Array.isArray(T))T.forEach(M=>{var D=iO(iO({},S),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(BN({tooltipEntrySettings:D,dataKey:M.dataKey,payload:M.payload,value:Rt(M.payload,M.dataKey),name:M.name}))});else{var k;v.push(BN({tooltipEntrySettings:S,dataKey:A,payload:T,value:Rt(T,A),name:(k=Rt(T,C))!==null&&k!==void 0?k:S==null?void 0:S.name}))}return v},g)}},Bx=ee([gn,nt,VP,mx,on],uM),jY=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SY=ee([on,Ol],wx),Iu=ee([jY,gn,SY],Sx),NY=ee([Iu],e=>e.filter(im)),EY=ee([Iu],Nx),Pl=ee([EY,Gi],Ex),OY=ee([NY,Gi,gn],KP),qx=ee([Pl,gn,Iu],Ax),AY=ee([gn],Cx),CY=ee([Iu],e=>e.filter(im)),TY=ee([OY,CY,Tu],ZP),kY=ee([TY,Gi,on],eM),PY=ee([Iu],XP),MY=ee([Pl,gn,PY,om,on],tM),RY=ee([rM,on,Ol],Al),DY=ee([RY,on],sM),IY=ee([aM,on,Ol],Al),LY=ee([IY,on],oM),UY=ee([iM,on,Ol],Al),$Y=ee([UY,on],lM),zY=ee([DY,$Y,LY],vh),BY=ee([gn,AY,kY,MY,zY,nt,on],Tx),PM=ee([gn,nt,Pl,qx,Tu,on,BY],kx),qY=ee([PM,gn,Bx],Rx),HY=ee([gn,PM,qY,on],Ix),MM=e=>{var t=on(e),n=Ol(e),r=!1;return Ru(e,t,n,r)},RM=ee([gn,MM],rm),DM=ee([gn,Bx,HY,RM],Mx),FY=ee([nt,qx,gn,on],vM),KY=ee([nt,qx,gn,on],yM),GY=(e,t,n,r,i,s,l,d)=>{if(t){var{type:f}=t,h=Fs(e,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?hn(i[0]-i[1])*2*g:g,h&&l?l.map((v,_)=>({coordinate:r(v)+g,value:v,index:_,offset:g})):r.domain().map((v,_)=>({coordinate:r(v)+g,value:s?s[v]:v,index:_,offset:g}))}}},ti=ee([nt,gn,Bx,DM,MM,FY,KY,on],GY),Hx=ee([xM,_M,iY],(e,t,n)=>wM(n.shared,e,t)),IM=e=>e.tooltip.settings.trigger,Fx=e=>e.tooltip.settings.defaultIndex,um=ee([kl,Hx,IM,Fx],AM),zs=ee([um,Pl],zx),LM=ee([ti,zs],jM),UM=ee([um],e=>{if(e)return e.dataKey}),$M=ee([kl,Hx,IM,Fx],TM),YY=ee([Xa,Qa,nt,an,ti,Fx,$M,Du],CM),VY=ee([um,YY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),WY=ee([um],e=>e.active),XY=ee([$M,zs,Gi,FP,LM,Du,Hx],kM);ee([XY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return(t=JY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eV=()=>we(gn),tV=()=>{var e=eV(),t=we(ti),n=we(DM);return Rb(oO(oO({},e),{},{scale:n}),t)},nV=()=>we(mx),Kx=(e,t)=>t,zM=(e,t,n)=>n,Gx=(e,t,n,r)=>r,rV=ee(ti,e=>Lh(e,t=>t.coordinate)),Yx=ee([kl,Kx,zM,Gx],AM),BM=ee([Yx,Pl],zx),aV=(e,t,n)=>{if(t!=null){var r=kl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},qM=ee([kl,Kx,zM,Gx],TM),yh=ee([Xa,Qa,nt,an,ti,Gx,qM,Du],CM),iV=ee([Yx,yh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),HM=ee(ti,BM,jM),sV=ee([qM,BM,Gi,FP,HM,Du,Kx],kM),oV=ee([Yx],e=>({isActive:e.active,activeIndex:e.index})),lV=(e,t,n,r,i,s,l,d)=>{if(!(!e||!t||!r||!i||!s)){var f=T7(e.chartX,e.chartY,t,n,d);if(f){var h=P7(f,t),p=v7(h,l,s,r,i),g=k7(t,s,p,f);return{activeIndex:String(p),activeCoordinate:g}}}};function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fV(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:l,cursor:d,tooltipEventType:f,chartName:h}=e,p=t,g=n,v=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var _,w;if(h==="ScatterChart")_=p,w=P9;else if(h==="BarChart")_=M9(l,p,i,s),w=Lk;else if(l==="radial"){var{cx:j,cy:S,radius:O,startAngle:N,endAngle:A}=Uk(p);_={cx:j,cy:S,startAngle:N,endAngle:A,innerRadius:O,outerRadius:O},w=zk}else _={points:fH(l,p,i)},w=Pk;var C=typeof d=="object"&&"className"in d?d.className:void 0,T=bf(bf(bf(bf({stroke:"#ccc",pointerEvents:"none"},i),_),rn(d,!1)),{},{payload:g,payloadIndex:v,className:ct("recharts-tooltip-cursor",C)});return b.isValidElement(d)?b.cloneElement(d,T):b.createElement(w,T)}function hV(e){var t=tV(),n=Ok(),r=$b(),i=nV();return b.createElement(fV,C0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var FM=b.createContext(null),mV=()=>b.useContext(FM),sy={exports:{}},cO;function pV(){return cO||(cO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||f,v),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],_]:f._events[w].push(_):(f._events[w]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,_=g.length,w=new Array(_);v<_;v++)w[v]=g[v].fn;return w},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,v,_,w){var j=n?n+h:h;if(!this._events[j])return!1;var S=this._events[j],O=arguments.length,N,A;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),O){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,_),!0;case 6:return S.fn.call(S.context,p,g,v,_,w),!0}for(A=1,N=new Array(O-1);A<O;A++)N[A-1]=arguments[A];S.fn.apply(S.context,N)}else{var C=S.length,T;for(A=0;A<C;A++)switch(S[A].once&&this.removeListener(h,S[A].fn,void 0,!0),O){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,p);break;case 3:S[A].fn.call(S[A].context,p,g);break;case 4:S[A].fn.call(S[A].context,p,g,v);break;default:if(!N)for(T=1,N=new Array(O-1);T<O;T++)N[T-1]=arguments[T];S[A].fn.apply(S[A].context,N)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var w=this._events[_];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&l(this,_);else{for(var j=0,S=[],O=w.length;j<O;j++)(w[j].fn!==p||v&&!w[j].once||g&&w[j].context!==g)&&S.push(w[j]);S.length?this._events[_]=S.length===1?S[0]:S:l(this,_)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(sy)),sy.exports}var gV=pV();const vV=Wr(gV);var fu=new vV,T0="recharts.syncEvent.tooltip",uO="recharts.syncEvent.brush";function KM(e,t){if(t){var n=Number.parseInt(t,10);if(!ur(n))return e==null?void 0:e[n]}}var yV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GM=hr({name:"options",initialState:yV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bV=GM.reducer,{createEventEmitter:xV}=GM.actions;function _V(e){return e.tooltip.syncInteraction}var wV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},YM=hr({name:"chartData",initialState:wV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:dO,setDataStartEndIndexes:jV,setComputedData:are}=YM.actions,SV=YM.reducer,NV=["x","y"];function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){EV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EV(e,t,n){return(t=OV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OV(e){var t=AV(e,"string");return typeof t=="symbol"?t:t+""}function AV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CV(e,t){if(e==null)return{};var n,r,i=TV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VM=()=>{};function kV(){var e=we(px),t=we(gx),n=Dt(),r=we(UP),i=we(ti),s=$b(),l=Ib(),d=we(f=>f.rootProps.className);b.useEffect(()=>{if(e==null)return VM;var f=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var _=p.payload.coordinate,{x:w,y:j}=_,S=CV(_,NV),O=ms(ms(ms({},S),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof j=="number"&&{y:Math.max(l.y,Math.min(j,l.y+l.height))}),N=ms(ms({},p),{},{payload:ms(ms({},p.payload),{},{coordinate:O})});n(N)}else n(p);return}if(i!=null){var A;if(typeof r=="function"){var C={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,C);A=i[T]}else r==="value"&&(A=i.find(ae=>String(ae.value)===p.payload.label));var{coordinate:k}=p.payload;if(A==null||p.payload.active===!1||k==null||l==null){n(O0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:D}=k,q=Math.min(M,l.x+l.width),$=Math.min(D,l.y+l.height),F={x:s==="horizontal"?A.coordinate:q,y:s==="horizontal"?$:A.coordinate},H=O0({active:p.payload.active,coordinate:F,dataKey:p.payload.dataKey,index:String(A.index),label:p.payload.label});n(H)}}};return fu.on(T0,f),()=>{fu.off(T0,f)}},[d,n,t,e,r,i,s,l])}function PV(){var e=we(px),t=we(gx),n=Dt();b.useEffect(()=>{if(e==null)return VM;var r=(i,s,l)=>{t!==l&&e===i&&n(jV(s))};return fu.on(uO,r),()=>{fu.off(uO,r)}},[n,t,e])}function MV(){var e=Dt();b.useEffect(()=>{e(xV())},[e]),kV(),PV()}function RV(e,t,n,r,i,s){var l=we(v=>aV(v,e,t)),d=we(gx),f=we(px),h=we(UP),p=we(_V),g=p==null?void 0:p.active;b.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=O0({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});fu.emit(T0,f,v,d)}},[g,n,l,i,r,d,f,h,s])}function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(r){DV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DV(e,t,n){return(t=IV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IV(e){var t=LV(e,"string");return typeof t=="symbol"?t:t+""}function LV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UV(e){return e.dataKey}function $V(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(u9,t)}var pO=[],zV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ks.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gO(e){var t=Dn(e,zV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:l,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:_,wrapperStyle:w,cursor:j,shared:S,trigger:O,defaultIndex:N,portal:A,axisId:C}=t,T=Dt(),k=typeof N=="number"?String(N):N;b.useEffect(()=>{T(cY({shared:S,trigger:O,axisId:C,active:n,defaultIndex:k}))},[T,S,O,C,n,k]);var M=Ib(),D=kk(),q=aY(S),{activeIndex:$,isActive:F}=we(te=>oV(te,q,O,k)),H=we(te=>sV(te,q,O,k)),ae=we(te=>HM(te,q,O,k)),z=we(te=>iV(te,q,O,k)),K=H,I=mV(),Y=n??F,[W,ue]=WT([K,Y]),re=q==="axis"?ae:void 0;RV(q,O,z,re,$,Y);var R=A??I;if(R==null)return null;var L=K??pO;Y||(L=pO),d&&L.length&&(L=FT(K.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),p,UV));var V=L.length>0,X=b.createElement(v9,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:f,active:Y,coordinate:z,hasPayload:V,offset:h,position:g,reverseDirection:v,useTranslate3d:_,viewBox:M,wrapperStyle:w,lastBoundingBox:W,innerRef:ue,hasPortalFromProps:!!A},$V(l,mO(mO({},t),{},{payload:L,label:re,active:Y,coordinate:z,accessibilityLayer:D})));return b.createElement(b.Fragment,null,V0.createPortal(X,R),Y&&b.createElement(hV,{cursor:j,tooltipEventType:q,coordinate:z,payload:K,index:$}))}var oy={},ly={},cy={},vO;function BV(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),j()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{w(),l=void 0,d=null},S=()=>{p()},O=function(...N){if(i!=null&&i.aborted)return;l=this,d=N;const A=v==null;_(),f&&A&&p()};return O.schedule=_,O.cancel=j,O.flush=S,i==null||i.addEventListener("abort",j,{once:!0}),O}e.debounce=t})(cy)),cy}var yO;function qV(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BV();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(...j){p=r.apply(this,j),g=null},i,{edges:h}),_=function(...j){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,j),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,j),p)},w=()=>(v.flush(),p);return _.cancel=v.cancel,_.flush=w,_}e.debounce=n})(ly)),ly}var bO;function HV(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV();function n(r,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(r,i,{leading:l,maxWait:i,trailing:d})}e.throttle=n})(oy)),oy}var uy,xO;function FV(){return xO||(xO=1,uy=HV().throttle),uy}var KV=FV();const GV=Wr(KV);var Yc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){YV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YV(e,t,n){return(t=VV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wO=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:v,onResize:_,style:w={}}=e,j=b.useRef(null),S=b.useRef();S.current=_,b.useImperativeHandle(t,()=>j.current);var[O,N]=b.useState({containerWidth:r.width,containerHeight:r.height}),A=b.useCallback((T,k)=>{N(M=>{var D=Math.round(T),q=Math.round(k);return M.containerWidth===D&&M.containerHeight===q?M:{containerWidth:D,containerHeight:q}})},[]);b.useEffect(()=>{var T=q=>{var $,{width:F,height:H}=q[0].contentRect;A(F,H),($=S.current)===null||$===void 0||$.call(S,F,H)};p>0&&(T=GV(T,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(T),{width:M,height:D}=j.current.getBoundingClientRect();return A(M,D),k.observe(j.current),()=>{k.disconnect()}},[A,p]);var C=b.useMemo(()=>{var{containerWidth:T,containerHeight:k}=O;if(T<0||k<0)return null;Yc(Os(i)||Os(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Yc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Os(i)?T:i,D=Os(s)?k:s;return n&&n>0&&(M?D=M/n:D&&(M=D*n),f&&D>f&&(D=f)),Yc(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,i,s,l,d,n),b.Children.map(h,q=>b.cloneElement(q,{width:M,height:D,style:dy({width:M,height:D},q.props.style)}))},[n,h,s,f,d,l,O,i]);return b.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",v),style:dy(dy({},w),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:j},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),Lu=e=>null;Lu.displayName="Cell";function XV(e,t,n){return(t=QV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZV{constructor(t){XV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(r){tW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tW(e,t,n){return(t=nW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aW={cacheSize:2e3,enableCache:!0},WM=eW({},aW),SO=new ZV(WM.cacheSize),iW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NO="recharts_measurement_span";function sW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(d)}var EO=(e,t)=>{try{var n=document.getElementById(NO);n||(n=document.createElement("span"),n.setAttribute("id",NO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,iW,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ks.isSsr)return{width:0,height:0};if(!WM.enableCache)return EO(t,n);var r=sW(t,n),i=SO.get(r);if(i)return i;var s=EO(t,n);return SO.set(r,s),s},OO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cW=Object.keys(XM),el="NaN";function uW(e,t){return e*XM[t]}class Kn{static parse(t){var n,[,r,i]=(n=lW.exec(t))!==null&&n!==void 0?n:[];return new Kn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ur(t)&&(this.unit=""),n!==""&&!oW.test(n)&&(this.num=NaN,this.unit=""),cW.includes(n)&&(this.num=uW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kn(NaN,""):new Kn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function QM(e){if(e.includes(el))return el;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=OO.exec(t))!==null&&n!==void 0?n:[],l=Kn.parse(r??""),d=Kn.parse(s??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return el;t=t.replace(OO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=AO.exec(t))!==null&&h!==void 0?h:[],_=Kn.parse(p??""),w=Kn.parse(v??""),j=g==="+"?_.add(w):_.subtract(w);if(j.isNaN())return el;t=t.replace(AO,j.toString())}return t}var CO=/\(([^()]*)\)/;function dW(e){for(var t=e,n;(n=CO.exec(t))!=null;){var[,r]=n;t=t.replace(CO,QM(r))}return t}function fW(e){var t=e.replace(/\s+/g,"");return t=dW(t),t=QM(t),t}function hW(e){try{return fW(e)}catch{return el}}function fy(e){var t=hW(e.slice(5,-1));return t===el?"":t}var mW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pW=["dx","dy","angle","className","breakAll"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function TO(e,t){if(e==null)return{};var n,r,i=gW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JM=/[ \f\n\r\t\v\u2028\u2029]+/,ZM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];mn(t)||(n?i=t.toString().split(""):i=t.toString().split(JM));var s=i.map(d=>({word:d,width:Vc(d,r).width})),l=n?0:Vc("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},vW=(e,t,n,r,i)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=Se(s),p=l,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((H,ae)=>{var{word:z,width:K}=ae,I=H[H.length-1];if(I&&(r==null||i||I.width+K+n<Number(r)))I.words.push(z),I.width+=K+n;else{var Y={words:[z],width:K};H.push(Y)}return H},[])},v=g(t),_=$=>$.reduce((F,H)=>F.width>H.width?F:H);if(!h||i)return v;var w=v.length>s||_(v).width>Number(r);if(!w)return v;for(var j="",S=$=>{var F=p.slice(0,$),H=ZM({breakAll:f,style:d,children:F+j}).wordsWithComputedWidth,ae=g(H),z=ae.length>s||_(ae).width>Number(r);return[z,ae]},O=0,N=p.length-1,A=0,C;O<=N&&A<=p.length-1;){var T=Math.floor((O+N)/2),k=T-1,[M,D]=S(k),[q]=S(T);if(!M&&!q&&(O=T+1),M&&q&&(N=T-1),!M&&q){C=D;break}A++}return C||v},kO=e=>{var t=mn(e)?[]:e.toString().split(JM);return[{words:t}]},yW=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=e;if((t||n)&&!Ks.isSsr){var d,f,h=ZM({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return kO(r);return vW({breakAll:s,children:r,maxLines:l,style:i},d,f,t,n)}return kO(r)},PO="#808080",dm=b.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:d="start",verticalAnchor:f="end",fill:h=PO}=e,p=TO(e,mW),g=b.useMemo(()=>yW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:_,angle:w,className:j,breakAll:S}=p,O=TO(p,pW);if(!da(n)||!da(r)||g.length===0)return null;var N=n+(Se(v)?v:0),A=r+(Se(_)?_:0),C;switch(f){case"start":C=fy("calc(".concat(s,")"));break;case"middle":C=fy("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:C=fy("calc(".concat(g.length-1," * -").concat(i,")"));break}var T=[];if(l){var k=g[0].width,{width:M}=p;T.push("scale(".concat(Se(M)?M/k:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(N,", ").concat(A,")")),T.length&&(O.transform=T.join(" ")),b.createElement("text",k0({},rn(O,!0),{ref:t,x:N,y:A,className:ct("recharts-text",j),textAnchor:d,fill:h.includes("url")?PO:h}),g.map((D,q)=>{var $=D.words.join(S?"":" ");return b.createElement("tspan",{x:N,dy:q===0?C:i,key:"".concat($,"-").concat(q)},$)}))});dm.displayName="Text";var bW=["labelRef"];function xW(e,t){if(e==null)return{};var n,r,i=_W(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _W(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(r){wW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wW(e,t,n){return(t=jW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},La.apply(null,arguments)}var eR=b.createContext(null),NW=e=>{var{x:t,y:n,width:r,height:i,children:s}=e,l=b.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return b.createElement(eR.Provider,{value:l},s)},tR=()=>{var e=b.useContext(eR),t=Ib();return e||t},EW=b.createContext(null),OW=()=>{var e=b.useContext(EW),t=we(HP);return e||t},AW=e=>{var{value:t,formatter:n}=e,r=mn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Vx=e=>e!=null&&typeof e=="function",CW=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},TW=(e,t,n,r,i)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:_}=i,w=(h+p)/2,j=CW(g,v),S=j>=0?1:-1,O,N;switch(t){case"insideStart":O=g+S*s,N=_;break;case"insideEnd":O=v-S*s,N=!_;break;case"end":O=v+S*s,N=_;break;default:throw new Error("Unsupported position ".concat(t))}N=j<=0?N:!N;var A=Qt(d,f,w,O),C=Qt(d,f,w,O+(N?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),k=mn(e.id)?nu("recharts-radial-line-"):e.id;return b.createElement("text",La({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:k,d:T})),b.createElement("textPath",{xlinkHref:"#".concat(k)},n))},kW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Qt(r,i,l+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:_,y:w}=Qt(r,i,v,h);return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},nR=e=>"cx"in e&&Se(e.cx),PW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!nR(n)&&(s=n);var{x:l,y:d,width:f,height:h}=t,p=h>=0?1:-1,g=p*r,v=p>0?"end":"start",_=p>0?"start":"end",w=f>=0?1:-1,j=w*r,S=w>0?"end":"start",O=w>0?"start":"end";if(i==="top"){var N={x:l+f/2,y:d-p*r,textAnchor:"middle",verticalAnchor:v};return Bt(Bt({},N),s?{height:Math.max(d-s.y,0),width:f}:{})}if(i==="bottom"){var A={x:l+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:_};return Bt(Bt({},A),s?{height:Math.max(s.y+s.height-(d+h),0),width:f}:{})}if(i==="left"){var C={x:l-j,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return Bt(Bt({},C),s?{width:Math.max(C.x-s.x,0),height:h}:{})}if(i==="right"){var T={x:l+f+j,y:d+h/2,textAnchor:O,verticalAnchor:"middle"};return Bt(Bt({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:h}:{})}var k=s?{width:f,height:h}:{};return i==="insideLeft"?Bt({x:l+j,y:d+h/2,textAnchor:O,verticalAnchor:"middle"},k):i==="insideRight"?Bt({x:l+f-j,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideTop"?Bt({x:l+f/2,y:d+g,textAnchor:"middle",verticalAnchor:_},k):i==="insideBottom"?Bt({x:l+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:v},k):i==="insideTopLeft"?Bt({x:l+j,y:d+g,textAnchor:O,verticalAnchor:_},k):i==="insideTopRight"?Bt({x:l+f-j,y:d+g,textAnchor:S,verticalAnchor:_},k):i==="insideBottomLeft"?Bt({x:l+j,y:d+h-g,textAnchor:O,verticalAnchor:v},k):i==="insideBottomRight"?Bt({x:l+f-j,y:d+h-g,textAnchor:S,verticalAnchor:v},k):i&&typeof i=="object"&&(Se(i.x)||Os(i.x))&&(Se(i.y)||Os(i.y))?Bt({x:l+Cn(i.x,f),y:d+Cn(i.y,h),textAnchor:"end",verticalAnchor:"end"},k):Bt({x:l+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},MW={offset:5};function Mi(e){var t=Dn(e,MW),{viewBox:n,position:r,value:i,children:s,content:l,className:d="",textBreakAll:f,labelRef:h}=t,p=OW(),g=tR(),v=r==="center"?g:p??g,_=n||v;if(!_||mn(i)&&mn(s)&&!b.isValidElement(l)&&typeof l!="function")return null;var w=Bt(Bt({},t),{},{viewBox:_});if(b.isValidElement(l)){var{labelRef:j}=w,S=xW(w,bW);return b.cloneElement(l,S)}var O;if(typeof l=="function"){if(O=b.createElement(l,w),b.isValidElement(O))return O}else O=AW(t);var N=nR(_),A=rn(t,!0);if(N&&(r==="insideStart"||r==="insideEnd"||r==="end"))return TW(t,r,O,A,_);var C=N?kW(_,t.offset,t.position):PW(t,_);return b.createElement(dm,La({ref:h,className:ct("recharts-label",d)},A,C,{breakAll:f}),O)}Mi.displayName="Label";var RW=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Mi,La({key:"label-implicit"},r)):da(e)?b.createElement(Mi,La({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Mi?b.cloneElement(e,Bt({key:"label-implicit"},r)):b.createElement(Mi,La({key:"label-implicit",content:e},r)):Vx(e)?b.createElement(Mi,La({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Mi,La({},e,{key:"label-implicit"},r)):null};function DW(e){var{label:t}=e,n=tR();return RW(t,n)||null}var hy={},my={},RO;function IW(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(my)),my}var py={},DO;function LW(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(py)),py}var IO;function UW(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IW(),n=LW(),r=Eb();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(hy)),hy}var gy,LO;function $W(){return LO||(LO=1,gy=UW().last),gy}var zW=$W();const BW=Wr(zW);var qW=["valueAccessor"],HW=["dataKey","clockWise","id","textBreakAll"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function UO(e,t){if(e==null)return{};var n,r,i=FW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KW=e=>Array.isArray(e.value)?BW(e.value):e.value,rR=b.createContext(void 0),GW=rR.Provider,aR=b.createContext(void 0),YW=aR.Provider;function VW(){return b.useContext(rR)}function WW(){return b.useContext(aR)}function kf(e){var{valueAccessor:t=KW}=e,n=UO(e,qW),{dataKey:r,clockWise:i,id:s,textBreakAll:l}=n,d=UO(n,HW),f=VW(),h=WW(),p=f||h;return!p||!p.length?null:b.createElement(Wn,{className:"recharts-label-list"},p.map((g,v)=>{var _,w=mn(r)?t(g,v):Rt(g&&g.payload,r),j=mn(s)?{}:{id:"".concat(s,"-").concat(v)};return b.createElement(Mi,bh({},rn(g,!0),d,j,{fill:(_=n.fill)!==null&&_!==void 0?_:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}kf.displayName="LabelList";function iR(e){var{label:t}=e;return t?t===!0?b.createElement(kf,{key:"labelList-implicit"}):b.isValidElement(t)||Vx(t)?b.createElement(kf,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(kf,bh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var sR=e=>e.graphicalItems.polarItems,XW=ee([Ot,ku],wx),Wx=ee([sR,qt,XW],Sx),QW=ee([Wx],Nx),Xx=ee([QW,ux],Ex),JW=ee([Xx,qt,Wx],Ax),ZW=ee([Xx,qt,Wx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,l=Rt(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),$O=()=>{},eX=ee([qt,cM,$O,ZW,$O,nt,Ot],Tx),oR=ee([qt,nt,Xx,JW,Tu,Ot,eX],kx),tX=ee([oR,qt,Cl],Rx);ee([qt,oR,tX,Ot],Ix);var nX={radiusAxis:{},angleAxis:{}},lR=hr({name:"polarAxis",initialState:nX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ire,removeRadiusAxis:sre,addAngleAxis:ore,removeAngleAxis:lre}=lR.actions,rX=lR.reducer;function zO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(n),!0).forEach(function(r){aX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aX(e,t,n){return(t=iX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oX=(e,t)=>t,Qx=ee([sR,oX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),lX=[],Jx=(e,t,n)=>(n==null?void 0:n.length)===0?lX:n,cR=ee([ux,Qx,Jx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>BO(BO({},t.presentationProps),s.props))),i!=null)return i}}),cX=ee([cR,Qx,Jx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,l=Rt(r,t.nameKey,t.name),d;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:Hh(l,t.dataKey),color:d,payload:r,type:t.legendType}})}),uX=ee([cR,Qx,Jx,an],(e,t,n,r)=>{if(!(t==null||e==null))return cQ({offset:r,pieSettings:t,displayedData:e,cells:n})}),vy={},qO;function dX(){return qO||(qO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(vy)),vy}var yy,HO;function fX(){return HO||(HO=1,yy=dX().isPlainObject),yy}var hX=fX();const mX=Wr(hX);function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(r){pX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pX(e,t,n){return(t=gX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}var GO=(e,t,n,r,i)=>{var s=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-s/2,",").concat(t+i),l+="L ".concat(e+n-s/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},yX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bX=e=>{var t=Dn(e,yX),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=b.useRef(),[_,w]=b.useState(-1),j=b.useRef(i),S=b.useRef(s),O=b.useRef(l),N=b.useRef(n),A=b.useRef(r),C=Wh(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var z=v.current.getTotalLength();z&&w(z)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var T=ct("recharts-trapezoid",d);if(!g)return b.createElement("g",null,b.createElement("path",xh({},rn(t,!0),{className:T,d:GO(n,r,i,s,l)})));var k=j.current,M=S.current,D=O.current,q=N.current,$=A.current,F="0px ".concat(_===-1?1:_,"px"),H="".concat(_,"px 0px"),ae=Mk(["strokeDasharray"],h,f);return b.createElement(Vh,{animationId:C,key:C,canBegin:_>0,duration:h,easing:f,isActive:g,begin:p},z=>{var K=Sn(k,i,z),I=Sn(M,s,z),Y=Sn(D,l,z),W=Sn(q,n,z),ue=Sn($,r,z);v.current&&(j.current=K,S.current=I,O.current=Y,N.current=W,A.current=ue);var re=z>0?{transition:ae,strokeDasharray:H}:{strokeDasharray:F};return b.createElement("path",xh({},rn(t,!0),{className:T,d:GO(W,ue,K,I,Y),ref:v,style:KO(KO({},re),t.style)}))})},xX=["option","shapeType","propTransformer","activeClassName","isActive"];function _X(e,t){if(e==null)return{};var n,r,i=wX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EX(e,t){return _h(_h({},t),e)}function OX(e,t){return e==="symbols"}function VO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(Lk,n);case"trapezoid":return b.createElement(bX,n);case"sector":return b.createElement(zk,n);case"symbols":if(OX(t))return b.createElement(jb,n);break;default:return null}}function AX(e){return b.isValidElement(e)?e.props:e}function uR(e){var{option:t,shapeType:n,propTransformer:r=EX,activeClassName:i="recharts-active-shape",isActive:s}=e,l=_X(e,xX),d;if(b.isValidElement(t))d=b.cloneElement(t,_h(_h({},l),AX(t)));else if(typeof t=="function")d=t(l);else if(mX(t)&&typeof t!="boolean"){var f=r(t,l);d=b.createElement(VO,{shapeType:n,elementProps:f})}else{var h=l;d=b.createElement(VO,{shapeType:n,elementProps:h})}return s?b.createElement(Wn,{className:i},d):d}var Zx=(e,t)=>{var n=Dt();return(r,i)=>s=>{e==null||e(r,i,s),n(NM({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},e_=e=>{var t=Dt();return(n,r)=>i=>{e==null||e(n,r,i),t(uY())}},t_=(e,t)=>{var n=Dt();return(r,i)=>s=>{e==null||e(r,i,s),n(dY({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function dR(e){var{fn:t,args:n}=e,r=Dt(),i=Mr();return b.useEffect(()=>{if(!i){var s=t(n);return r(oY(s)),()=>{r(lY(s))}}},[t,n,r,i]),null}var fR=()=>{};function CX(e){var{legendPayload:t}=e,n=Dt(),r=Mr();return b.useEffect(()=>r?fR:(n(Ck(t)),()=>{n(Tk(t))}),[n,r,t]),null}function TX(e){var{legendPayload:t}=e,n=Dt(),r=we(nt);return b.useEffect(()=>r!=="centric"&&r!=="radial"?fR:(n(Ck(t)),()=>{n(Tk(t))}),[n,r,t]),null}var by,kX=()=>{var[e]=b.useState(()=>nu("uid-"));return e},PX=(by=y4.useId)!==null&&by!==void 0?by:kX;function MX(e,t){var n=PX();return t||(e?"".concat(e,"-").concat(n):n)}var RX=b.createContext(void 0),hR=e=>{var{id:t,type:n,children:r}=e,i=MX("recharts-".concat(n),t);return b.createElement(RX.Provider,{value:i},r(i))},DX={cartesianItems:[],polarItems:[]},mR=hr({name:"graphicalItems",initialState:DX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:IX,replaceCartesianGraphicalItem:LX,removeCartesianGraphicalItem:UX,addPolarGraphicalItem:$X,removePolarGraphicalItem:zX}=mR.actions,BX=mR.reducer;function qX(e){var t=Dt(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?t(IX(e)):n.current!==e&&t(LX({prev:n.current,next:e})),n.current=e},[t,e]),b.useEffect(()=>()=>{n.current&&(t(UX(n.current)),n.current=null)},[t]),null}function HX(e){var t=Dt();return b.useEffect(()=>(t($X(e)),()=>{t(zX(e))}),[t,e]),null}var FX=["onMouseEnter","onClick","onMouseLeave"],KX=["id"],GX=["id"];function n_(e,t){if(e==null)return{};var n,r,i=YX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=WX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function QX(e){var t=b.useMemo(()=>yb(e.children,Lu),[e.children]),n=we(r=>cX(r,e.id,t));return n==null?null:b.createElement(TX,{legendPayload:n})}function JX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:t,nameKey:n,name:Hh(d,t),hide:f,type:h,color:l,unit:""}}}var ZX=(e,t)=>e>t?"start":e<t?"end":"middle",eQ=(e,t,n)=>Cn(typeof t=="function"?t(e):t,n,n*.8),tQ=(e,t,n)=>{var{top:r,left:i,width:s,height:l}=t,d=xk(s,l),f=i+Cn(e.cx,s,s/2),h=r+Cn(e.cy,l,l/2),p=Cn(e.innerRadius,d,0),g=eQ(n,e.outerRadius,d),v=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:v}},nQ=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function rQ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aQ=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(Pk,$i({},t,{type:"linear",className:n}))},iQ=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var i=ct("recharts-pie-label-text",rQ(e));return b.createElement(dm,$i({},t,{alignmentBaseline:"middle",className:i}),r)};function sQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!t)return null;var d=Hi(n),f=rn(i,!1),h=rn(s,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,_)=>{var w=(v.startAngle+v.endAngle)/2,j=Qt(v.cx,v.cy,v.outerRadius+p,w),S=St(St(St(St({},d),v),{},{stroke:"none"},f),{},{index:_,textAnchor:ZX(j.x,v.cx)},j),O=St(St(St(St({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:_,points:[Qt(v.cx,v.cy,v.outerRadius,w),j],key:"line"});return b.createElement(Wn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},s&&aQ(s,O),iQ(i,S,Rt(v,l)))});return b.createElement(Wn,{className:"recharts-pie-labels"},g)}function oQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(iR,{label:i}):b.createElement(sQ,{sectors:t,props:n,showLabels:r})}function lQ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,s=we(zs),{onMouseEnter:l,onClick:d,onMouseLeave:f}=i,h=n_(i,FX),p=Zx(l,i.dataKey),g=e_(f),v=t_(d,i.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((_,w)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&t.length!==1)return null;var j=n&&String(w)===s,S=s?r:null,O=j?n:S,N=St(St({},_),{},{stroke:_.stroke,tabIndex:-1,[Nk]:w,[Ek]:i.dataKey});return b.createElement(Wn,$i({tabIndex:-1,className:"recharts-pie-sector"},wu(h,_,w),{onMouseEnter:p(_,w),onMouseLeave:g(_,w),onClick:v(_,w),key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(w)}),b.createElement(uR,$i({option:O,isActive:j,shapeType:"sector"},N)))}))}function cQ(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),_=nQ(d,f),w=Math.abs(_),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(k=>Rt(k,h,0)!==0).length,O=(w>=360?S:S-1)*j,N=w-S*v-O,A=r.reduce((k,M)=>{var D=Rt(M,h,0);return k+(Se(D)?D:0)},0),C;if(A>0){var T;C=r.map((k,M)=>{var D=Rt(k,h,0),q=Rt(k,p,M),$=tQ(n,s,k),F=(Se(D)?D:0)/A,H,ae=St(St({},k),i&&i[M]&&i[M].props);M?H=T.endAngle+hn(_)*j*(D!==0?1:0):H=d;var z=H+hn(_)*((D!==0?v:0)+F*N),K=(H+z)/2,I=($.innerRadius+$.outerRadius)/2,Y=[{name:q,value:D,payload:ae,dataKey:h,type:g}],W=Qt($.cx,$.cy,I,K);return T=St(St(St(St({},n.presentationProps),{},{percent:F,cornerRadius:l,name:q,tooltipPayload:Y,midAngle:K,middleRadius:I,tooltipPosition:W},ae),$),{},{value:D,startAngle:H,endAngle:z,payload:ae,paddingAngle:hn(_)*j}),T})}return C}function uQ(e){var{showLabels:t,sectors:n,children:r}=e,i=b.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return b.createElement(YW,{value:t?i:void 0},r)}function dQ(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=t,v=Wh(t,"recharts-pie-"),_=n.current,[w,j]=b.useState(!1),S=b.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),O=b.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return b.createElement(uQ,{showLabels:!w,sectors:r},b.createElement(Vh,{animationId:v,begin:s,duration:l,isActive:i,easing:d,onAnimationStart:O,onAnimationEnd:S,key:v},N=>{var A=[],C=r&&r[0],T=C==null?void 0:C.startAngle;return r==null||r.forEach((k,M)=>{var D=_&&_[M],q=M>0?Is(k,"paddingAngle",0):0;if(D){var $=Sn(D.endAngle-D.startAngle,k.endAngle-k.startAngle,N),F=St(St({},k),{},{startAngle:T+q,endAngle:T+$+q});A.push(F),T=F.endAngle}else{var{endAngle:H,startAngle:ae}=k,z=Sn(0,H-ae,N),K=St(St({},k),{},{startAngle:T+q,endAngle:T+z+q});A.push(K),T=K.endAngle}}),n.current=A,b.createElement(Wn,null,b.createElement(lQ,{sectors:A,activeShape:f,inactiveShape:h,allOtherPieProps:t}))}),b.createElement(oQ,{showLabels:!w,sectors:r,props:t}),t.children)}var fQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ks.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function hQ(e){var{id:t}=e,n=n_(e,KX),{hide:r,className:i,rootTabIndex:s}=e,l=b.useMemo(()=>yb(e.children,Lu),[e.children]),d=we(p=>uX(p,t,l)),f=b.useRef(null),h=ct("recharts-pie",i);return r||d==null?(f.current=null,b.createElement(Wn,{tabIndex:s,className:h})):b.createElement(b.Fragment,null,b.createElement(dR,{fn:JX,args:St(St({},e),{},{sectors:d})}),b.createElement(Wn,{tabIndex:s,className:h},b.createElement(dQ,{props:St(St({},n),{},{sectors:d}),previousSectorsRef:f})))}function pR(e){var t=Dn(e,fQ),{id:n}=t,r=n_(t,GX),i=Hi(r);return b.createElement(hR,{id:n,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement(HX,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement(QX,$i({},r,{id:s})),b.createElement(hQ,$i({},r,{id:s}))))}pR.displayName="Pie";function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){mQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vQ={xAxis:{},yAxis:{},zAxis:{}},gR=hr({name:"cartesianAxis",initialState:vQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=QO(QO({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:yQ,removeXAxis:bQ,addYAxis:xQ,removeYAxis:_Q,addZAxis:cre,removeZAxis:ure,updateYAxisWidth:wQ}=gR.actions,jQ=gR.reducer,SQ=ee([an],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),NQ=ee([SQ,Xa,Qa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),vR=()=>we(NQ),EQ="Invariant failed";function OQ(e,t){throw new Error(EQ)}var AQ=["x","y"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e,t){if(e==null)return{};var n,r,i=MQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RQ(e,t){var{x:n,y:r}=e,i=PQ(e,AQ),s="".concat(n),l=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),g="".concat(t.width||i.width),v=parseInt(g,10);return Lc(Lc(Lc(Lc(Lc({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function r_(e){return b.createElement(uR,P0({shapeType:"rectangle",propTransformer:RQ,activeClassName:"recharts-active-bar"},e))}var DQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Se(t))return t;var s=Se(r)||mn(r);return s?t(r,i):(s||OQ(),n)}},IQ={},yR=hr({name:"errorBars",initialState:IQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:dre,replaceErrorBar:fre,removeErrorBar:hre}=yR.actions,LQ=yR.reducer,UQ=["children"];function $Q(e,t){if(e==null)return{};var n,r,i=zQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qQ=b.createContext(BQ);function HQ(e){var{children:t}=e,n=$Q(e,UQ);return b.createElement(qQ.Provider,{value:n},t)}function bR(e,t){var n,r,i=we(h=>Za(h,e)),s=we(h=>ei(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:sr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function FQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=vR(),{needClipX:s,needClipY:l,needClip:d}=bR(t,n);if(!d)return null;var{x:f,y:h,width:p,height:g}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var KQ=["onMouseEnter","onMouseLeave","onClick"],GQ=["value","background","tooltipPosition"],YQ=["id"],VQ=["onMouseEnter","onClick","onMouseLeave"];function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(null,arguments)}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){WQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(e,t){if(e==null)return{};var n,r,i=JQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:Hh(n,t),payload:e}]};function eJ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Hh(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:d}}}function tJ(e){var t=we(zs),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=wh(s,KQ),p=Zx(l,r),g=e_(d),v=t_(f,r);if(!i||n==null)return null;var _=rn(i,!1);return b.createElement(b.Fragment,null,n.map((w,j)=>{var{value:S,background:O,tooltipPosition:N}=w,A=wh(w,GQ);if(!O)return null;var C=p(w,j),T=g(w,j),k=v(w,j),M=Mn(Mn(Mn(Mn(Mn({option:i,isActive:String(j)===t},A),{},{fill:"#eee"},O),_),wu(h,w,j)),{},{onMouseEnter:C,onMouseLeave:T,onClick:k,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return b.createElement(r_,zi({key:"background-bar-".concat(M.index)},M))}))}function nJ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return Mn(Mn({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return b.createElement(GW,{value:t?i:void 0},n)}function rJ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=e,d=we(zs),f=we(UM),h=n&&String(s)===d&&(f==null||l===f),p=h?n:t;return b.createElement(r_,zi({},r,i,{isActive:h,option:p,index:s,dataKey:l}))}function aJ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return b.createElement(r_,zi({},n,r,{isActive:!1,option:t,index:i,dataKey:s}))}function iJ(e){var{data:t,props:n}=e,r=Hi(n),{id:i}=r,s=wh(r,YQ),{shape:l,dataKey:d,activeBar:f}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,v=wh(n,VQ),_=Zx(h,d),w=e_(g),j=t_(p,d);return t?b.createElement(b.Fragment,null,t.map((S,O)=>b.createElement(Wn,zi({className:"recharts-bar-rectangle"},wu(v,S,O),{onMouseEnter:_(S,O),onMouseLeave:w(S,O),onClick:j(S,O),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(O)}),f?b.createElement(rJ,{shape:l,activeBar:f,baseProps:s,entry:S,index:O,dataKey:d}):b.createElement(aJ,{shape:l,baseProps:s,entry:S,index:O,dataKey:d})))):null}function sJ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=n.current,v=Wh(t,"recharts-bar-"),[_,w]=b.useState(!1),j=!_,S=b.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),O=b.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return b.createElement(nJ,{showLabels:j,rects:r},b.createElement(Vh,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:S,onAnimationStart:O,key:v},N=>{var A=N===1?r:r==null?void 0:r.map((C,T)=>{var k=g&&g[T];if(k)return Mn(Mn({},C),{},{x:Sn(k.x,C.x,N),y:Sn(k.y,C.y,N),width:Sn(k.width,C.width,N),height:Sn(k.height,C.height,N)});if(i==="horizontal"){var M=Sn(0,C.height,N);return Mn(Mn({},C),{},{y:C.y+C.height-M,height:M})}var D=Sn(0,C.width,N);return Mn(Mn({},C),{},{width:D})});return N>0&&(n.current=A??null),A==null?null:b.createElement(Wn,null,b.createElement(iJ,{props:t,data:A}))}),b.createElement(iR,{label:t.label}),t.children)}function oJ(e){var t=b.useRef(null);return b.createElement(sJ,{previousRectanglesRef:t,props:e})}var xR=0,lJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Rt(e,t)}};class cJ extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||n==null)return null;var p=ct("recharts-bar",i),g=h;return b.createElement(Wn,{className:p,id:h},d&&b.createElement("defs",null,b.createElement(FQ,{clipPathId:g,xAxisId:s,yAxisId:l})),b.createElement(Wn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},b.createElement(tJ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(oJ,this.props)))}}var uJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ks.isSsr,legendType:"rect",minPointSize:xR,xAxisId:0,yAxisId:0};function dJ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=bR(t,n),v=$b(),_=Mr(),w=yb(e.children,Lu),j=we(N=>$J(N,t,n,_,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var S,O=j==null?void 0:j[0];return O==null||O.height==null||O.width==null?S=0:S=v==="vertical"?O.height/2:O.width/2,b.createElement(HQ,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:lJ,errorBarOffset:S},b.createElement(cJ,zi({},e,{layout:v,needClip:g,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function fJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:_,parentViewBox:w}=e,j=t==="horizontal"?d:l,S=p?j.scale.domain():null,O=E7({numericAxis:j});return g.map((N,A)=>{var C,T,k,M,D,q;p?C=x7(p[A],S):(C=Rt(N,n),Array.isArray(C)||(C=[O,C]));var $=DQ(r,xR)(C[1],A);if(t==="horizontal"){var F,[H,ae]=[d.scale(C[0]),d.scale(C[1])];T=UN({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:N,index:A}),k=(F=ae??H)!==null&&F!==void 0?F:void 0,M=i.size;var z=H-ae;if(D=ur(z)?0:z,q={x:T,y:v.top,width:M,height:v.height},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var K=hn(D||$)*(Math.abs($)-Math.abs(D));k-=K,D+=K}}else{var[I,Y]=[l.scale(C[0]),l.scale(C[1])];if(T=I,k=UN({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:N,index:A}),M=Y-I,D=i.size,q={x:v.left,y:k,width:v.width,height:D},Math.abs($)>0&&Math.abs(M)<Math.abs($)){var W=hn(M||$)*(Math.abs($)-Math.abs(M));M+=W}}if(T==null||k==null||M==null||D==null)return null;var ue=Mn(Mn({},N),{},{x:T,y:k,width:M,height:D,value:p?C:C[1],payload:N,background:q,tooltipPosition:{x:T+M/2,y:k+D/2},parentViewBox:w},_&&_[A]&&_[A].props);return ue}).filter(Boolean)}function hJ(e){var t=Dn(e,uJ),n=Mr();return b.createElement(hR,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(CX,{legendPayload:ZQ(t)}),b.createElement(dR,{fn:eJ,args:t}),b.createElement(qX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:N7(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(dJ,zi({},t,{id:r}))))}var M0=b.memo(hJ);M0.displayName="Bar";function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){mJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mJ(e,t,n){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vJ=(e,t)=>t,yJ=(e,t,n)=>n,bJ=(e,t,n,r)=>r,xJ=(e,t,n,r,i)=>i,Uu=ee([jx,xJ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),_J=ee([Uu],e=>e==null?void 0:e.maxBarSize),wJ=(e,t,n,r,i,s)=>s,tA=(e,t,n)=>{var r=n??e;if(!mn(r))return Cn(r,t,0)},jJ=ee([nt,jx,vJ,yJ,bJ],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),SJ=(e,t,n,r)=>{var i=nt(e);return i==="horizontal"?E0(e,"yAxis",n,r):E0(e,"xAxis",t,r)},NJ=(e,t,n)=>{var r=nt(e);return r==="horizontal"?tO(e,"xAxis",t):tO(e,"yAxis",n)},EJ=(e,t,n)=>{var r={},i=e.filter(im),s=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,v=g.map(w=>w.dataKey),_=tA(t,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:_}}),f=s.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=tA(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},OJ=ee([jJ,sG,NJ],EJ),AJ=(e,t,n,r,i)=>{var s,l,d=Uu(e,t,n,r,i);if(d!=null){var f=nt(e),h=IP(e),{maxBarSize:p}=d,g=mn(p)?h:p,v,_;return f==="horizontal"?(v=gl(e,"xAxis",t,r),_=pl(e,"xAxis",t,r)):(v=gl(e,"yAxis",n,r),_=pl(e,"yAxis",n,r)),(s=(l=Rb(v,_,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},_R=(e,t,n,r)=>{var i=nt(e),s,l;return i==="horizontal"?(s=gl(e,"xAxis",t,r),l=pl(e,"xAxis",t,r)):(s=gl(e,"yAxis",n,r),l=pl(e,"yAxis",n,r)),Rb(s,l)};function CJ(e,t,n,r,i){var s=r.length;if(!(s<1)){var l=Cn(e,n,0,!0),d,f=[];if(fr(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((O,N)=>O+(N.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var v=(n-g)/2>>0,_={offset:v-l,size:0};d=r.reduce((O,N)=>{var A,C={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(A=N.barSize)!==null&&A!==void 0?A:0}},T=[...O,C];return _=T[T.length-1].position,T},f)}else{var w=Cn(t,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var j=(n-2*w-(s-1)*l)/s;j>1&&(j>>=0);var S=fr(i)?Math.min(j,i):j;d=r.reduce((O,N,A)=>[...O,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w+(j+l)*A+(j-S)/2,size:S}}],f)}return d}}var TJ=(e,t,n,r,i,s,l)=>{var d=mn(l)?t:l,f=CJ(n,r,i!==s?i:s,e,d);return i!==s&&f!=null&&(f=f.map(h=>xf(xf({},h),{},{position:xf(xf({},h.position),{},{offset:h.position.offset-i/2})}))),f},kJ=ee([OJ,IP,iG,LP,AJ,_R,_J],TJ),PJ=(e,t,n,r)=>gl(e,"xAxis",t,r),MJ=(e,t,n,r)=>gl(e,"yAxis",n,r),RJ=(e,t,n,r)=>pl(e,"xAxis",t,r),DJ=(e,t,n,r)=>pl(e,"yAxis",n,r),IJ=ee([kJ,Uu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),LJ=(e,t)=>{var n=xx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},UJ=ee([SJ,Uu],LJ),$J=ee([an,Db,PJ,MJ,RJ,DJ,IJ,nt,dx,_R,UJ,Uu,wJ],(e,t,n,r,i,s,l,d,f,h,p,g,v)=>{var{chartData:_,dataStartIndex:w,dataEndIndex:j}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:S}=g,O;if(S!=null&&S.length>0?O=S:O=_==null?void 0:_.slice(w,j+1),O!=null)return fJ({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:O,offset:e,cells:v})}}),wR=e=>{var{chartData:t}=e,n=Dt(),r=Mr();return b.useEffect(()=>r?()=>{}:(n(dO(t)),()=>{n(dO(void 0))}),[t,n,r]),null},nA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},jR=hr({name:"brush",initialState:nA,reducers:{setBrushSettings(e,t){return t.payload==null?nA:t.payload}}}),{setBrushSettings:mre}=jR.actions,zJ=jR.reducer;function BJ(e,t,n){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class a_{static create(t){return new a_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}BJ(a_,"EPS",1e-4);function FJ(e){return(e%180+180)%180}var KJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=FJ(i),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},GJ={dots:[],areas:[],lines:[]},SR=hr({name:"referenceElements",initialState:GJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:pre,removeDot:gre,addArea:vre,removeArea:yre,addLine:bre,removeLine:xre}=SR.actions,YJ=SR.reducer,VJ=b.createContext(void 0),WJ=e=>{var{children:t}=e,[n]=b.useState("".concat(nu("recharts"),"-clip")),r=vR();if(r==null)return null;var{x:i,y:s,width:l,height:d}=r;return b.createElement(VJ.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:s,height:d,width:l}))),t)};function vl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function NR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function XJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return KJ(r,n)}function QJ(e,t,n){var r=n==="width",{x:i,y:s,width:l,height:d}=e;return t===1?{start:r?i:s,end:r?i+l:s+d}:{start:r?i+l:s+d,end:r?i:s}}function jh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function JJ(e,t){return NR(e,t+1)}function ZJ(e,t,n,r,i){for(var s=(r||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:NR(r,h)};var j=f,S,O=()=>(S===void 0&&(S=n(w,j)),S),N=w.coordinate,A=f===0||jh(e,N,O,p,d);A||(f=0,p=l,h+=1),A&&(p=N+e*(O()/2+i),f+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){eZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rZ(e,t,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(v){var _=s[v],w,j=()=>(w===void 0&&(w=n(_,v)),w);if(v===l-1){var S=e*(_.coordinate+e*j()/2-f);s[v]=_=On(On({},_),{},{tickCoord:S>0?_.coordinate-S*e:_.coordinate})}else s[v]=_=On(On({},_),{},{tickCoord:_.coordinate});var O=jh(e,_.tickCoord,j,d,f);O&&(f=_.tickCoord-e*(j()/2+i),s[v]=On(On({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function aZ(e,t,n,r,i,s){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=r[d-1],g=n(p,d-1),v=e*(p.coordinate+e*g/2-h);l[d-1]=p=On(On({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var _=jh(e,p.tickCoord,()=>g,f,h);_&&(h=p.tickCoord-e*(g/2+i),l[d-1]=On(On({},p),{},{isShow:!0}))}for(var w=s?d-1:d,j=function(N){var A=l[N],C,T=()=>(C===void 0&&(C=n(A,N)),C);if(N===0){var k=e*(A.coordinate-e*T()/2-f);l[N]=A=On(On({},A),{},{tickCoord:k<0?A.coordinate-k*e:A.coordinate})}else l[N]=A=On(On({},A),{},{tickCoord:A.coordinate});var M=jh(e,A.tickCoord,T,f,h);M&&(f=A.tickCoord+e*(T()/2+i),l[N]=On(On({},A),{},{isShow:!0}))},S=0;S<w;S++)j(S);return l}function i_(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(Se(f)||Ks.isSsr){var v;return(v=JJ(i,Se(f)?f:0))!==null&&v!==void 0?v:[]}var _=[],w=d==="top"||d==="bottom"?"width":"height",j=p&&w==="width"?Vc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(A,C)=>{var T=typeof h=="function"?h(A.value,C):A.value;return w==="width"?XJ(Vc(T,{fontSize:t,letterSpacing:n}),j,g):Vc(T,{fontSize:t,letterSpacing:n})[w]},O=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,N=QJ(s,O,w);return f==="equidistantPreserveStart"?ZJ(O,N,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=aZ(O,N,S,i,l,f==="preserveStartEnd"):_=rZ(O,N,S,i,l),_.filter(A=>A.isShow))}var iZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+d+(n?r:0);return Math.round(h)}return 0},sZ=["axisLine","width","height","className","hide","ticks"],oZ=["viewBox"],lZ=["viewBox"];function R0(e,t){if(e==null)return{};var n,r,i=cZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){uZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uZ(e,t,n){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s_={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function hZ(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=nn(nn(nn({},f),rn(d,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=nn(nn({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=nn(nn({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return b.createElement("line",Bs({},h,{className:ct("recharts-cartesian-axis-line",Is(d,"className"))}))}function mZ(e,t,n,r,i,s,l,d,f){var h,p,g,v,_,w,j=d?-1:1,S=e.tickSize||l,O=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=n+ +!d*i,g=v-j*S,w=g-j*f,_=O;break;case"left":g=v=e.coordinate,p=t+ +!d*r,h=p-j*S,_=h-j*f,w=O;break;case"right":g=v=e.coordinate,p=t+ +d*r,h=p+j*S,_=h+j*f,w=O;break;default:h=p=e.coordinate,v=n+ +d*i,g=v+j*S,w=g+j*f,_=O;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x:_,y:w}}}function pZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function gZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function vZ(e){var{option:t,tickProps:n,value:r}=e,i,s=ct(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,nn(nn({},n),{},{className:s}));else if(typeof t=="function")i=t(nn(nn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ct(l,t==null?void 0:t.className)),i=b.createElement(dm,Bs({},n,{className:l}),r)}return i}function yZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:l,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y:v,width:_,height:w,tickSize:j,tickMargin:S,fontSize:O,letterSpacing:N,getTicksConfig:A,events:C}=e,T=i_(nn(nn({},A),{},{ticks:t}),O,N),k=pZ(h,p),M=gZ(h,p),D=Hi(A),q=rn(n,!1),$=nn(nn({},D),{},{fill:"none"},rn(r,!1)),F=T.map((H,ae)=>{var{line:z,tick:K}=mZ(H,g,v,_,w,h,j,p,S),I=nn(nn(nn(nn({textAnchor:k,verticalAnchor:M},D),{},{stroke:"none",fill:i},q),K),{},{index:ae,payload:H,visibleTicksCount:T.length,tickFormatter:s,padding:d},f);return b.createElement(Wn,Bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},wu(C,H,ae)),r&&b.createElement("line",Bs({},$,z,{className:ct("recharts-cartesian-axis-tick-line",Is(r,"className"))})),n&&b.createElement(vZ,{option:n,tickProps:I,value:"".concat(typeof s=="function"?s(H.value,ae):H.value).concat(l||"")}))});return F.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var bZ=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:d}=e,f=R0(e,sZ),[h,p]=b.useState(""),[g,v]=b.useState(""),_=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return iZ({ticks:_.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=b.useCallback(j=>{if(j){var S=j.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=Array.from(S);var O=S[0];if(O){var N=window.getComputedStyle(O),A=N.fontSize,C=N.letterSpacing;(A!==h||C!==g)&&(p(A),v(C))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Wn,{className:ct("recharts-cartesian-axis",s),ref:w},b.createElement(hZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hi(e)}),b.createElement(yZ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:e,events:f}),b.createElement(NW,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(DW,{label:e.label}),e.children))}),xZ=b.memo(bZ,(e,t)=>{var{viewBox:n}=e,r=R0(e,oZ),{viewBox:i}=t,s=R0(t,lZ);return vl(n,i)&&vl(r,s)}),o_=b.forwardRef((e,t)=>{var n=Dn(e,s_);return b.createElement(xZ,Bs({},n,{ref:t}))});o_.displayName="CartesianAxis";var _Z=["x1","y1","x2","y2","key"],wZ=["offset"],jZ=["xAxisId","yAxisId"],SZ=["xAxisId","yAxisId"];function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){NZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=OZ(e,"string");return typeof t=="symbol"?t:t+""}function OZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(null,arguments)}function Sh(e,t){if(e==null)return{};var n,r,i=AZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:d}=e;return b.createElement("rect",{x:r,y:i,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ER(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:s,y2:l,key:d}=t,f=Sh(t,_Z),h=Hi(f),{offset:p}=h,g=Sh(h,wZ);n=b.createElement("line",Ts({},g,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:d}))}return n}function TZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=Sh(e,jZ),f=i.map((h,p)=>{var g=An(An({},d),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return ER(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function kZ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=Sh(e,SZ),f=i.map((h,p)=>{var g=An(An({},d),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return ER(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function PZ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var _=!h[v+1],w=_?i+l-g:h[v+1]-g;if(w<=0)return null;var j=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:s,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function MZ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var _=!h[v+1],w=_?i+l-g:h[v+1]-g;if(w<=0)return null;var j=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var RZ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return wk(i_(An(An(An({},s_),n),{},{ticks:jk(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},DZ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return wk(i_(An(An(An({},s_),n),{},{ticks:jk(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},IZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function OR(e){var t=Lb(),n=Ub(),r=Ok(),i=An(An({},Dn(e,IZ)),{},{x:Se(e.x)?e.x:r.left,y:Se(e.y)?e.y:r.top,width:Se(e.width)?e.width:r.width,height:Se(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:_}=i,w=Mr(),j=we(q=>nO(q,"xAxis",s,w)),S=we(q=>nO(q,"yAxis",l,w));if(!Se(h)||h<=0||!Se(p)||p<=0||!Se(d)||d!==+d||!Se(f)||f!==+f)return null;var O=i.verticalCoordinatesGenerator||RZ,N=i.horizontalCoordinatesGenerator||DZ,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof N=="function"){var T=v&&v.length,k=N({yAxis:S?An(An({},S),{},{ticks:T?v:S.ticks}):void 0,width:t,height:n,offset:r},T?!0:g);Yc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}if((!C||!C.length)&&typeof O=="function"){var M=_&&_.length,D=O({xAxis:j?An(An({},j),{},{ticks:M?_:j.ticks}):void 0,width:t,height:n,offset:r},M?!0:g);Yc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(CZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(PZ,Ts({},i,{horizontalPoints:A})),b.createElement(MZ,Ts({},i,{verticalPoints:C})),b.createElement(TZ,Ts({},i,{offset:r,horizontalPoints:A,xAxis:j,yAxis:S})),b.createElement(kZ,Ts({},i,{offset:r,verticalPoints:C,xAxis:j,yAxis:S})))}OR.displayName="CartesianGrid";var LZ=["dangerouslySetInnerHTML","ticks"],UZ=["id"],$Z=["domain"],zZ=["domain"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D0.apply(null,arguments)}function Nh(e,t){if(e==null)return{};var n,r,i=BZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qZ(e){var t=Dt();return b.useEffect(()=>(t(yQ(e)),()=>{t(bQ(e))}),[e,t]),null}var HZ=e=>{var{xAxisId:t,className:n}=e,r=we(Db),i=Mr(),s="xAxis",l=we(S=>Tl(S,s,t,i)),d=we(S=>bM(S,s,t,i)),f=we(S=>pM(S,t)),h=we(S=>QG(S,t)),p=we(S=>GP(S,t));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,_=Nh(e,LZ),{id:w}=p,j=Nh(p,UZ);return b.createElement(o_,D0({},_,j,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:ct("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d}))},FZ={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,height:ir.height,hide:!1,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tickCount:ir.tickCount,type:ir.type,xAxisId:0},KZ=e=>{var t,n,r,i,s,l=Dn(e,FZ);return b.createElement(b.Fragment,null,b.createElement(qZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),b.createElement(HZ,l))},GZ=(e,t)=>{var{domain:n}=e,r=Nh(e,$Z),{domain:i}=t,s=Nh(t,zZ);return vl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vl({domain:n},{domain:i}):!1},AR=b.memo(KZ,GZ);AR.displayName="XAxis";var YZ=["dangerouslySetInnerHTML","ticks"],VZ=["id"],WZ=["domain"],XZ=["domain"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function Eh(e,t){if(e==null)return{};var n,r,i=QZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JZ(e){var t=Dt();return b.useEffect(()=>(t(xQ(e)),()=>{t(_Q(e))}),[e,t]),null}var ZZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=b.useRef(null),l=b.useRef(null),d=we(Db),f=Mr(),h=Dt(),p="yAxis",g=we(T=>Tl(T,p,t,f)),v=we(T=>gM(T,t)),_=we(T=>ZG(T,t)),w=we(T=>bM(T,p,t,f)),j=we(T=>YP(T,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Vx(i)||b.isValidElement(i)||j==null)){var T=s.current;if(T){var k=T.getCalculatedWidth();Math.round(v.width)!==Math.round(k)&&h(wQ({id:t,width:k}))}}},[w,v,h,i,t,r,j]),v==null||_==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:O}=e,N=Eh(e,YZ),{id:A}=j,C=Eh(j,VZ);return b.createElement(o_,I0({},N,C,{ref:s,labelRef:l,scale:g,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:ct("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w}))},eee={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,hide:!1,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tickCount:sr.tickCount,type:sr.type,width:sr.width,yAxisId:0},tee=e=>{var t,n,r,i,s,l=Dn(e,eee);return b.createElement(b.Fragment,null,b.createElement(JZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),b.createElement(ZZ,l))},nee=(e,t)=>{var{domain:n}=e,r=Eh(e,WZ),{domain:i}=t,s=Eh(t,XZ);return vl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vl({domain:n},{domain:i}):!1},CR=b.memo(tee,nee);CR.displayName="YAxis";var xy={exports:{}},_y={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function ree(){if(sA)return _y;sA=1;var e=yl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return _y.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var _=i(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function S(T){if(!O){if(O=!0,N=T,T=g(T),v!==void 0&&w.hasValue){var k=w.value;if(v(k,T))return A=k}return A=T}if(k=A,n(N,T))return k;var M=g(T);return v!==void 0&&v(k,M)?(N=T,k):(N=T,A=M)}var O=!1,N,A,C=p===void 0?null:p;return[function(){return S(h())},C===null?void 0:function(){return S(C())}]},[h,p,g,v]);var j=r(f,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},_y}var oA;function aee(){return oA||(oA=1,xy.exports=ree()),xy.exports}aee();function iee(e){e()}function see(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lA={notify(){},get:()=>[]};function oee(e,t){let n,r=lA,i=0,s=!1;function l(j){p();const S=r.subscribe(j);let O=!1;return()=>{O||(O=!0,S(),g())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(f),r=see())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lA)}function v(){s||(s=!0,p())}function _(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return w}var lee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cee=lee(),uee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dee=uee(),fee=()=>cee||dee?b.useLayoutEffect:b.useEffect,hee=fee(),wy=Symbol.for("react-redux-context"),jy=typeof globalThis<"u"?globalThis:{};function mee(){if(!b.createContext)return{};const e=jy[wy]??(jy[wy]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var pee=mee();function gee(e){const{children:t,context:n,serverState:r,store:i}=e,s=b.useMemo(()=>{const f=oee(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=b.useMemo(()=>i.getState(),[i]);hee(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||pee;return b.createElement(d.Provider,{value:s},t)}var vee=gee,yee=(e,t)=>t,l_=ee([yee,nt,HP,on,RM,ti,rV,an],lV),c_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},TR=Tr("mouseClick"),kR=Su();kR.startListening({actionCreator:TR,effect:(e,t)=>{var n=e.payload,r=l_(t.getState(),c_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(fY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var L0=Tr("mouseMove"),PR=Su();PR.startListening({actionCreator:L0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=$x(r,r.tooltip.settings.shared),s=l_(r,c_(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(OM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(EM()))}});var cA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},MR=hr({name:"rootProps",initialState:cA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:cA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),bee=MR.reducer,{updateOptions:xee}=MR.actions,RR=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_ee}=RR.actions,wee=RR.reducer,DR=Tr("keyDown"),IR=Tr("focus"),u_=Su();u_.startListening({actionCreator:DR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(zx(i,Pl(n))),d=ti(n);if(s==="Enter"){var f=yh(n,"axis","hover",String(i.index));t.dispatch(A0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=rY(n),p=h==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*p;if(!(d==null||v>=d.length||v<0)){var _=yh(n,"axis","hover",String(v));t.dispatch(A0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});u_.startListening({actionCreator:IR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=yh(n,"axis","hover",String(s));t.dispatch(A0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Or=Tr("externalEvent"),LR=Su();LR.startListening({actionCreator:Or,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:VY(n),activeDataKey:UM(n),activeIndex:zs(n),activeLabel:LM(n),activeTooltipIndex:zs(n),isTooltipActive:WY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var jee=ee([kl],e=>e.tooltipItemPayloads),See=ee([jee,Du,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,n);return l}}}),UR=Tr("touchMove"),$R=Su();$R.startListening({actionCreator:UR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=$x(r,r.tooltip.settings.shared);if(i==="axis"){var s=l_(r,c_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(OM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Nk),p=(l=f.getAttribute(Ek))!==null&&l!==void 0?l:void 0,g=See(t.getState(),h,p);t.dispatch(NM({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var Nee=QT({brush:zJ,cartesianAxis:jQ,chartData:SV,errorBars:LQ,graphicalItems:BX,layout:a7,legend:V7,options:bV,polarAxis:rX,polarOptions:wee,referenceElements:YJ,rootProps:bee,tooltip:hY}),Eee=function(t){return Cq({reducer:Nee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([kR.middleware,PR.middleware,u_.middleware,LR.middleware,$R.middleware]),devTools:Ks.devToolsEnabled})};function zR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Mr(),s=b.useRef(null);if(i)return n;s.current==null&&(s.current=Eee(t));var l=Ab;return b.createElement(vee,{context:l,store:s.current},n)}function BR(e){var{layout:t,width:n,height:r,margin:i}=e,s=Dt(),l=Mr();return b.useEffect(()=>{l||(s(t7(t)),s(n7({width:n,height:r})),s(e7(i)))},[s,l,t,n,r,i]),null}function qR(e){var t=Dt();return b.useEffect(()=>{t(xee(e))},[t,e]),null}var Oee=["children"];function Aee(e,t){if(e==null)return{};var n,r,i=Cee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(null,arguments)}var Tee={width:"100%",height:"100%"},kee=b.forwardRef((e,t)=>{var n=Lb(),r=Ub(),i=kk();if(!ul(n)||!ul(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,b.createElement(bb,Oh({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Tee,ref:t}),s)}),Pee=e=>{var{children:t}=e,n=we(Yh);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return b.createElement(bb,{width:r,height:i,x:l,y:s},t)},uA=b.forwardRef((e,t)=>{var{children:n}=e,r=Aee(e,Oee),i=Mr();return i?b.createElement(Pee,null,n):b.createElement(kee,Oh({ref:t},r),n)});function Mee(){var e=Dt(),[t,n]=b.useState(null),r=we(M7);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;fr(s)&&s!==r&&e(r7(s))}},[t,e,r]),n}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ree(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){Dee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dee(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uee=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:_,onTouchMove:w,onTouchStart:j,style:S,width:O}=e,N=Dt(),[A,C]=b.useState(null),[T,k]=b.useState(null);MV();var M=Mee(),D=b.useCallback(L=>{M(L),typeof t=="function"&&t(L),C(L),k(L)},[M,t,C,k]),q=b.useCallback(L=>{N(TR(L)),N(Or({handler:s,reactEvent:L}))},[N,s]),$=b.useCallback(L=>{N(L0(L)),N(Or({handler:h,reactEvent:L}))},[N,h]),F=b.useCallback(L=>{N(EM()),N(Or({handler:p,reactEvent:L}))},[N,p]),H=b.useCallback(L=>{N(L0(L)),N(Or({handler:g,reactEvent:L}))},[N,g]),ae=b.useCallback(()=>{N(IR())},[N]),z=b.useCallback(L=>{N(DR(L.key))},[N]),K=b.useCallback(L=>{N(Or({handler:l,reactEvent:L}))},[N,l]),I=b.useCallback(L=>{N(Or({handler:d,reactEvent:L}))},[N,d]),Y=b.useCallback(L=>{N(Or({handler:f,reactEvent:L}))},[N,f]),W=b.useCallback(L=>{N(Or({handler:v,reactEvent:L}))},[N,v]),ue=b.useCallback(L=>{N(Or({handler:j,reactEvent:L}))},[N,j]),re=b.useCallback(L=>{N(UR(L)),N(Or({handler:w,reactEvent:L}))},[N,w]),R=b.useCallback(L=>{N(Or({handler:_,reactEvent:L}))},[N,_]);return b.createElement(FM.Provider,{value:A},b.createElement(yT.Provider,{value:T},b.createElement("div",{className:ct("recharts-wrapper",r),style:Ree({position:"relative",cursor:"default",width:O,height:i},S),onClick:q,onContextMenu:K,onDoubleClick:I,onFocus:ae,onKeyDown:z,onMouseDown:Y,onMouseEnter:$,onMouseLeave:F,onMouseMove:H,onMouseUp:W,onTouchEnd:R,onTouchMove:re,onTouchStart:ue,ref:D},n)))}),$ee=["children","className","width","height","style","compact","title","desc"];function zee(e,t){if(e==null)return{};var n,r,i=Bee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HR=b.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:l,compact:d,title:f,desc:h}=e,p=zee(e,$ee),g=Hi(p);return d?b.createElement(uA,{otherAttributes:g,title:f,desc:h},n):b.createElement(Uee,{className:r,style:l,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(uA,{otherAttributes:g,title:f,desc:h,ref:t},b.createElement(WJ,null,n)))}),qee=["width","height"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function Hee(e,t){if(e==null)return{};var n,r,i=Fee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kee={top:5,right:5,bottom:5,left:5},Gee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Kee,reverseStackOrder:!1,syncMethod:"index"},Yee=b.forwardRef(function(t,n){var r,i=Dn(t.categoricalChartProps,Gee),{width:s,height:l}=i,d=Hee(i,qee);if(!ul(s)||!ul(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,_={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return b.createElement(zR,{preloadedState:{options:_},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},b.createElement(wR,{chartData:v.data}),b.createElement(BR,{width:s,height:l,layout:i.layout,margin:i.margin}),b.createElement(qR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(HR,U0({},d,{width:s,height:l,ref:n})))}),Vee=["axis","item"],Wee=b.forwardRef((e,t)=>b.createElement(Yee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vee,tooltipPayloadSearcher:KM,categoricalChartProps:e,ref:t}));function Xee(e){var t=Dt();return b.useEffect(()=>{t(_ee(e))},[t,e]),null}var Qee=["width","height","layout"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function Jee(e,t){if(e==null)return{};var n,r,i=Zee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ete={top:5,right:5,bottom:5,left:5},tte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ete,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},nte=b.forwardRef(function(t,n){var r,i=Dn(t.categoricalChartProps,tte),{width:s,height:l,layout:d}=i,f=Jee(i,Qee);if(!ul(s)||!ul(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,_={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return b.createElement(zR,{preloadedState:{options:_},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},b.createElement(wR,{chartData:i.data}),b.createElement(BR,{width:s,height:l,layout:d,margin:i.margin}),b.createElement(qR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(Xee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(HR,$0({width:s,height:l},f,{ref:n})))}),rte=["item"],ate={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ite=b.forwardRef((e,t)=>{var n=Dn(e,ate);return b.createElement(nte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rte,tooltipPayloadSearcher:KM,categoricalChartProps:n,ref:t})});const fA=[{value:"editor",label:"diteur",headerDescription:"Gestion complte",helper:"Crer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des donnes."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accs bloqu",helper:"Masquer totalement la section.",tooltip:"Bloque compltement laccs  la section ou  la fonctionnalit."}],ste=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:s})=>{const l=b.useMemo(()=>{if(e.length===0)return[];const f=Gn.map(_=>_.permissionKey),h=new Set(f),p=f.filter(_=>e.includes(_)),g=e.filter(_=>!h.has(_)).sort((_,w)=>r(_).localeCompare(r(w),"fr")),v=[];return p.length>0&&v.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&v.push({id:"custom",title:"Permissions personnalises",keys:g}),v},[r,e]),d=f=>{e.forEach(h=>{(t[h]??"none")!==f&&n(h,f)})};return e.length===0?u.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rle pour le moment."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("editor"),title:"Autoriser toutes les sections en mode dition.",children:"Tout autoriser"}),u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),u.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>d("none"),title:"Rvoquer toutes les permissions.",children:"Tout bloquer"})]}),u.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:u.jsx("div",{className:"max-h-96 overflow-auto",children:u.jsx("div",{className:"min-w-full",children:u.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[u.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),fA.map(f=>u.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[u.jsx("div",{children:f.label}),u.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:f.headerDescription})]},f.value)),l.map(f=>u.jsxs(Vn.Fragment,{children:[u.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:f.title}),f.keys.map(h=>{const p=t[h]??"none",g=`permission-${h.replace(/[^a-zA-Z0-9_-]/g,"_")}`,v=h in i;return u.jsxs(Vn.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(h)}),v&&s&&u.jsx("button",{type:"button",onClick:()=>s(h),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalise",children:u.jsx(Hs,{className:"h-4 w-4"})})]})}),fA.map(_=>{const w=p===_.value;return u.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:u.jsxs("label",{className:`permission-choice${w?" is-active":""}`,title:_.tooltip,children:[u.jsx("input",{type:"radio",className:"sr-only",name:g,value:_.value,checked:w,onChange:()=>n(h,_.value)}),u.jsx("span",{className:"permission-choice__label",children:_.label}),u.jsx("span",{className:"permission-choice__helper",children:_.helper})]})},_.value)})]},h)})]},f.id))]})})})})]})},ote=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:s,onAddCustomPermission:l,onRemoveCustomPermission:d,onCancel:f,isSubmitting:h,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:v,isPermissionGranted:_})=>{const[w,j]=b.useState(!1),[S,O]=b.useState(""),[N,A]=b.useState(""),[C,T]=b.useState(null),k=()=>{j(!1),O(""),A(""),T(null)},M=()=>{const D=S.trim(),q=N.trim();if(!D||!q){T("La cl technique et le nom affich sont obligatoires.");return}if(g.includes(D)){T("Cette cl de permission existe dj.");return}l(D,q),k()};return u.jsxs("div",{children:[u.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rle slectionn":"Crer un nouveau rle"}),u.jsxs("form",{onSubmit:n,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rle"}),u.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accs"}),u.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par dfaut"}),u.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:D=>i(D.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:Gn.map(D=>{const q=_(t.permissions[D.permissionKey]);return u.jsxs("option",{value:D.permissionKey,disabled:!q,children:[v(D.permissionKey),q?"":" (accs requis)"]},D.permissionKey)})}),p?u.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont dsactives."}):u.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),u.jsx(ste,{permissionKeys:g,permissions:t.permissions,onChange:s,getPermissionLabel:v,customPermissions:t.customPermissions,onRemoveCustomPermission:d}),u.jsx("div",{className:"mt-4 space-y-3",children:w?u.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[u.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Cl technique"}),u.jsx("input",{type:"text",value:S,onChange:D=>{O(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affich"}),u.jsx("input",{type:"text",value:N,onChange:D=>{A(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),C&&u.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:C}),u.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:k,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsx("button",{type:"button",onClick:M,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):u.jsx("button",{type:"button",onClick:()=>{j(!0),T(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&u.jsx("button",{type:"button",onClick:f,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(m$,{className:"mr-2 h-4 w-4"}),h?"Enregistrement...":e==="edit"?"Mettre  jour":"Crer"]})]})]})]})},lte=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:s,isEditing:l,deletingRoleId:d,getPermissionLabel:f})=>{const h=!t&&e.length===0;return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rles existants"}),u.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[u.jsx(vu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rle"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?u.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rles..."}):h?u.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rle configur pour le moment."}):u.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&s===p.id;return u.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??""]}),p.homePage&&u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",f(p.homePage)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),u.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:d===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(Hs,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var AA;const cte=((AA=Gn[0])==null?void 0:AA.permissionKey)??"/dashboard",ute=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===DC.ADMIN||t==="administrateur"},xs=(e,t,n={})=>{const r={...e||{}};return delete r[ks],Gn.forEach(i=>{i.permissionKey in r||(i.permissionKey===Ka&&ute(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},_s=e=>{const t=Gn.find(n=>ws(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??cte},hA=e=>{const t=xs(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:_s(t),customPermissions:{...e}}},ws=e=>e==="editor"||e==="readonly",dte=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=ma(),[i,s]=b.useState([]),[l,d]=b.useState({}),[f,h]=b.useState(()=>hA({})),[p,g]=b.useState("create"),[v,_]=b.useState(!1),[w,j]=b.useState(!1),[S,O]=b.useState(null),[N,A]=b.useState(null),[C,T]=b.useState(null),k=b.useMemo(()=>{const re=Gn.map(L=>L.permissionKey),R=new Set;return Object.keys(l).forEach(L=>{re.includes(L)||R.add(L)}),i.forEach(L=>{Object.keys(L.permissions).forEach(V=>{V!==ks&&(re.includes(V)||R.add(V))})}),[...re,...Array.from(R)]},[i,l]),M=b.useMemo(()=>Gn.some(re=>ws(f.permissions[re.permissionKey])),[f.permissions]),D=b.useCallback(async()=>{_(!0);try{const re=await xe.getRoles();s(re),d(R=>{const L={...R};let V=!1;const X=new Set(Gn.map(te=>te.permissionKey));return re.forEach(te=>{Object.keys(te.permissions).forEach(fe=>{fe===ks||X.has(fe)||fe in L||(L[fe]=fe,V=!0)})}),V?L:R}),T(null)}catch(re){console.error("Failed to load roles:",re),T("Impossible de charger les rles.")}finally{_(!1)}},[]),q=b.useCallback(()=>{g("create"),h(hA(l))},[l]);b.useEffect(()=>{e&&(A(null),T(null),q(),D())},[e,D,q]),b.useEffect(()=>{h(re=>{const R=re.homePage;if(ws(re.permissions[R]))return re;const L=_s(re.permissions);return L===R?re:{...re,homePage:L}})},[f.permissions]),b.useEffect(()=>{h(re=>{const R=re.customPermissions,L=l,V=Object.keys(R),X=Object.keys(L);if(V.length===X.length&&V.every(pe=>L[pe]===R[pe]))return re;const te=xs(re.permissions,re.name,L),fe=ws(te[re.homePage])?re.homePage:_s(te);return{...re,customPermissions:{...L},permissions:te,homePage:fe}})},[l]);const $=b.useCallback(re=>{const R=Gn.find(L=>L.permissionKey===re);return R?R.name:l[re]??re},[l]);return{roles:i,formState:f,mode:p,isFetching:v,isSubmitting:w,deletingRoleId:S,statusMessage:N,errorMessage:C,permissionKeys:k,hasAccessibleHomePage:M,handleInputChange:re=>{const{name:R,value:L}=re.target;h(V=>({...V,[R]:L}))},handlePermissionChange:(re,R)=>{h(L=>({...L,permissions:{...L.permissions,[re]:R}}))},handleHomePageChange:re=>{h(R=>({...R,homePage:re}))},handleSelectRole:re=>{const R=new Set(Gn.map(te=>te.permissionKey)),L={...l};let V=!1;Object.keys(re.permissions).forEach(te=>{te===ks||R.has(te)||te in L||(L[te]=te,V=!0)}),V&&d(L);const X=xs(re.permissions,re.name,V?L:l);g("edit"),h({id:re.id,name:re.name,pin:re.pin??"",permissions:X,homePage:re.homePage??_s(X),customPermissions:{...V?L:l}}),A(null),T(null)},handleDeleteRole:async re=>{if(confirm("Supprimer ce rle ? Cette action est irrversible.")){O(re),A(null),T(null);try{await xe.deleteRole(re),A("Rle supprim avec succs."),p==="edit"&&f.id===re&&q(),await D(),(r==null?void 0:r.id)===re&&await n()}catch(R){console.error("Failed to delete role:",R),T("Impossible de supprimer le rle.")}finally{O(null)}}},handleSubmit:async re=>{if(re.preventDefault(),T(null),A(null),!f.name.trim()||!f.pin.trim()){T("Le nom et le code PIN sont obligatoires.");return}j(!0);try{const R=xs(f.permissions,f.name,l),L=ws(R[f.homePage])?f.homePage:_s(R);if(p==="create")await xe.createRole({name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:L}),A("Rle cr avec succs."),await D(),await n(),q();else if(f.id){const V=await xe.updateRole(f.id,{name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:L});A("Rle mis  jour avec succs.");const X=xs(V.permissions,V.name,l);h({id:V.id,name:V.name,pin:V.pin??"",permissions:X,homePage:V.homePage??_s(X),customPermissions:{...l}}),await D(),(r==null?void 0:r.id)===V.id&&await n()}}catch(R){console.error("Failed to save role:",R),T("Impossible d'enregistrer le rle.")}finally{j(!1)}},handleClose:()=>{q(),A(null),T(null),t()},resetForm:q,getPermissionLabel:$,isPermissionGranted:ws,handleAddCustomPermission:(re,R)=>{Gn.some(L=>L.permissionKey===re)||d(L=>{if(L[re]===R)return L;const V={...L,[re]:R};return h(X=>{const te=xs(X.permissions,X.name,V);return re in te||(te[re]="none"),{...X,customPermissions:{...V},permissions:te}}),V})},handleRemoveCustomPermission:re=>{Gn.some(R=>R.permissionKey===re)||d(R=>{if(!(re in R))return R;const L={...R};return delete L[re],h(V=>{const{[re]:X,...te}=V.customPermissions,fe={...V.permissions};delete fe[re];const pe=xs(fe,V.name,L),ke=ws(pe[V.homePage])?V.homePage:_s(pe);return{...V,customPermissions:{...te},permissions:pe,homePage:ke}}),L})}}},fte=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:s,isSubmitting:l,deletingRoleId:d,statusMessage:f,errorMessage:h,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:v,handlePermissionChange:_,handleHomePageChange:w,handleSelectRole:j,handleDeleteRole:S,handleSubmit:O,handleClose:N,resetForm:A,getPermissionLabel:C,isPermissionGranted:T,handleAddCustomPermission:k,handleRemoveCustomPermission:M}=dte({isOpen:e,onClose:t});return u.jsx(Tn,{isOpen:e,onClose:N,title:"Gestion des rles",size:"xl",children:u.jsxs("div",{className:"flex flex-col gap-6",children:[f&&u.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:f}),h&&u.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:h}),u.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[u.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:u.jsx(lte,{roles:n,isFetching:s,onCreateRole:A,onSelectRole:j,onDeleteRole:S,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:d,getPermissionLabel:C})}),u.jsx("div",{className:"flex-1",children:u.jsx(ote,{mode:i,formState:r,onSubmit:O,onInputChange:v,onHomePageChange:w,onPermissionChange:_,onAddCustomPermission:k,onRemoveCustomPermission:M,onCancel:A,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:C,isPermissionGranted:T})})]})]})})},_f=({title:e,value:t,icon:n})=>u.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[u.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),u.jsxs("div",{className:"w-full space-y-2",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),u.jsx("div",{className:"w-full flex justify-center",children:u.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),wf=({title:e,value:t,icon:n,onClick:r})=>u.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[u.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-gray-500",children:e}),u.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),FR={week:{label:"ltimos 7 das",days:7},month:{label:"ltimos 30 das",days:30}},hte=e=>{const{days:t}=FR[e],n=new Date(Gc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},mte=()=>{const[e,t]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState(!0),[l,d]=b.useState("category"),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[v,_]=b.useState("week");if(b.useEffect(()=>{(async()=>{const{start:N,end:A}=hte(v),C=N.toISOString(),T=A.toISOString();s(!0);try{const[k,M]=await Promise.all([xe.getDashboardStats(v),xe.getSalesByProduct({start:C,end:T})]);t(k),r(M)}catch(k){console.error("Failed to fetch dashboard stats",k)}finally{s(!1)}})()},[v]),i)return u.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return u.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const w=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],j=l==="category"?e.ventesParCategorie:n,S=j.length>0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries(FR).map(([O,N])=>{const A=O,C=v===A;return u.jsx("button",{onClick:()=>_(A),className:`px-3 py-1.5 rounded-md transition-colors ${C?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:N.label},A)})}),u.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[u.jsx(_$,{className:"mr-2 h-4 w-4"}),"Gestin de roles"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(_f,{title:`Ventas (${e.periodLabel})`,value:Ee(e.ventesPeriode),icon:u.jsx(eu,{size:28})}),u.jsx(_f,{title:`Beneficio (${e.periodLabel})`,value:Ee(e.beneficePeriode),icon:u.jsx(eu,{size:28})}),u.jsx(_f,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:u.jsx(Hy,{size:28})}),u.jsx(_f,{title:"Ticket promedio",value:Ee(e.panierMoyen),icon:u.jsx(Q6,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(wf,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:u.jsx(rb,{size:24})}),u.jsx(wf,{title:"Clientes actuales",value:e.clientsActuels,icon:u.jsx(Hy,{size:24})}),u.jsx(wf,{title:"En cocina",value:e.commandesEnCuisine,icon:u.jsx(MC,{size:24})}),u.jsx(wf,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:u.jsx(sa,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>h(!0)})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),u.jsx(wO,{width:"100%",height:300,children:u.jsxs(Wee,{data:e.ventesPeriodeSeries,children:[u.jsx(OR,{strokeDasharray:"3 3"}),u.jsx(AR,{dataKey:"name"}),u.jsx(CR,{}),u.jsx(gO,{}),u.jsx(iu,{}),u.jsx(M0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),u.jsx(M0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribucin de ventas (",e.periodLabel,")"]}),u.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[u.jsx("button",{onClick:()=>d("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categora"}),u.jsx("button",{onClick:()=>d("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),S?u.jsx(wO,{width:"100%",height:300,children:u.jsxs(ite,{children:[u.jsx(pR,{data:j,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:j.map((O,N)=>u.jsx(Lu,{fill:w[N%w.length]},`cell-${N}`))}),u.jsx(gO,{formatter:O=>Ee(O)}),u.jsx(iu,{})]})}):u.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),u.jsx(Tn,{isOpen:f,onClose:()=>h(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?u.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(O=>u.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-red-800",children:O.nom}),u.jsxs("span",{className:"font-bold text-red-600",children:[O.stock_actuel," / ",O.stock_minimum," ",O.unite]})]},O.id))}):u.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),u.jsx(fte,{isOpen:p,onClose:()=>g(!1)})]})},pte=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},d_=({startTime:e,className:t=""})=>{const[n,r]=b.useState(Date.now()-e);b.useEffect(()=>{const d=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(d)},[e]);const i=Math.floor(n/6e4),s=pte(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return u.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[u.jsx(jl,{size:20}),u.jsx("span",{children:s})]})},mA={nom:"",capacite:"",couverts:""},gte=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:s=!1})=>{const[l,d]=b.useState(mA),[f,h]=b.useState({}),[p,g]=b.useState(null),[v,_]=b.useState(!1),w=b.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);b.useEffect(()=>{if(!e){d(mA),h({}),g(null),_(!1);return}const N={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:s&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};d(N),h({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,s]);const j=N=>{const{name:A,value:C}=N.target;d(T=>({...T,[A]:C}))},S=()=>{const N={},A=l.nom.trim(),C=l.capacite.trim();A||(N.nom="Le nom est requis.");let T=null;if(!C)N.capacite="La capacit est requise.";else{const k=Number(C);!Number.isInteger(k)||k<=0?N.capacite="La capacit doit tre un entier positif.":T=k}if(s){const k=l.couverts.trim();if(!k)N.couverts="Le nombre de couverts est requis.";else{const M=Number(k);!Number.isInteger(M)||M<=0?N.couverts="Les couverts doivent tre un entier positif.":T!==null&&M>T&&(N.couverts="Les couverts ne peuvent pas dpasser la capacit.")}}return N},O=async N=>{N.preventDefault(),h({}),g(null);const A=S();if(Object.keys(A).length>0){h(A);return}const C={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(s){const T=l.couverts.trim();T&&(C.couverts=Number(T))}_(!0);try{await i(C)}catch(T){const k=T instanceof Error&&T.message?T.message:"Une erreur est survenue. Veuillez ressayer.";g(k)}finally{_(!1)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:w,size:"md",children:u.jsxs("form",{onSubmit:O,className:"space-y-5",children:[p&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),u.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:j,disabled:v,placeholder:"Ex. Terrasse 1",autoFocus:!0}),f.nom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.nom})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacit (nombre de places)"}),u.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:j,disabled:v,placeholder:"Ex. 4"}),f.capacite&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.capacite})]}),s&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),u.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:j,disabled:v,placeholder:"Ex. 2"}),f.couverts&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.couverts})]}),u.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:v,children:"Annuler"}),u.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:v,children:v?"Enregistrement...":"Enregistrer"})]})]})})},Ai={libre:{text:"Libre",statusClass:"status--free",Icon:rb},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:$$},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:TU},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:eu}},vte=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let s=0;for(;s<i.length&&i[s].toLowerCase()===r.toLowerCase();)s+=1;return[r,...i.slice(s)].join(" ")},yte=e=>{switch(e.statut){case"libre":return Ai.libre;case"en_cuisine":return Ai.en_cuisine;case"para_entregar":return Ai.para_entregar;case"para_pagar":return Ai.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?Ai.para_pagar:e.estado_cocina==="listo"?Ai.para_entregar:e.commandeId?Ai.en_cuisine:Ai.libre}},bte=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:s})=>{const l=ha(),{text:d,statusClass:f,Icon:h}=yte(e),[p,g]=b.useState(!1),v=b.useRef(null),_=()=>{l(`/commande/${e.id}`)},w=C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),_())},j=C=>{C.stopPropagation(),e.commandeId&&t(e.commandeId)},S=C=>{C.stopPropagation(),g(T=>!T)};b.useEffect(()=>{if(!p)return;const C=T=>{v.current&&!v.current.contains(T.target)&&g(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[p]);const O=C=>{C.stopPropagation(),g(!1),r==null||r(e)},N=async C=>{if(C.stopPropagation(),g(!1),!!i)try{await i(e)}catch(T){console.error("Failed to delete table from card:",T)}},A=vte(e.nom);return u.jsxs("div",{onClick:_,onKeyDown:w,className:`ui-card status-card ${f} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&u.jsx("div",{className:"absolute left-3 top-3 z-10",children:u.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&u.jsxs("div",{className:"absolute right-3 top-3",ref:v,children:[u.jsx("button",{type:"button",onClick:S,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:s,children:u.jsx(SC,{size:18})}),p&&u.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[u.jsxs("button",{type:"button",onClick:O,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[u.jsx(i$,{size:16}),"Modifier"]}),u.jsxs("button",{type:"button",onClick:N,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:s,children:[u.jsx(Hs,{size:16}),s?"Suppression":"Supprimer"]})]})]}),u.jsxs("div",{className:"status-card__header",children:[u.jsx("h3",{className:"status-card__title",children:A}),e.date_envoi_cuisine&&e.statut!=="libre"&&u.jsx("div",{className:"status-card__timer",children:u.jsx(d_,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),u.jsxs("div",{className:"status-card__body",children:[u.jsx(h,{size:56,className:"status-card__icon"}),u.jsx("p",{className:"status-card__state",children:d})]}),u.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?u.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):u.jsxs("p",{className:"status-card__meta",children:["Capacit : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&u.jsx("button",{type:"button",onClick:j,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},xte=()=>{var z;const{role:e}=ma(),t=((z=e==null?void 0:e.permissions)==null?void 0:z["/ventes"])==="editor",[n,r]=b.useState([]),[i,s]=b.useState(!0),[l,d]=b.useState(null),[f,h]=b.useState(null),[p,g]=b.useState(null),[v,_]=b.useState(!1),[w,j]=b.useState("create"),[S,O]=b.useState(null),[N,A]=b.useState(null),C=b.useRef(0),T=b.useCallback(async()=>{const K=++C.current;try{const I=await xe.getTables();K===C.current&&(r(I),d(null))}catch(I){console.error("Failed to fetch tables",I),K===C.current&&d("Impossible de charger le plan de salle. Veuillez ressayer.")}finally{K===C.current&&s(!1)}},[]);b.useEffect(()=>{s(!0),T();const K=setInterval(T,1e4),I=xe.notifications.subscribe("orders_updated",T);return()=>{clearInterval(K),I()}},[T]);const k=b.useCallback(()=>{_(!1),O(null)},[]),M=b.useCallback(()=>{j("create"),O(null),h(null),g(null),_(!0)},[]),D=b.useCallback(K=>{j("edit"),O(K),h(null),g(null),_(!0)},[]),q=b.useCallback(async K=>{h(null),g(null);try{let I="";if(w==="create")await xe.createTable(K),I="Table cre avec succs.";else{if(!S){const Y="Aucune table slectionne pour la mise  jour.";throw h(Y),new Error(Y)}await xe.updateTable(S.id,K),I="Table mise  jour avec succs."}await T(),k(),g(I)}catch(I){console.error("Failed to save table:",I);const Y=w==="create"?"Impossible de crer la table. Veuillez ressayer.":"Impossible de mettre  jour la table. Veuillez ressayer.";throw h(Y),new Error(Y)}},[T,k,w,S]),$=b.useCallback(async K=>{if(confirm("Supprimer cette table ? Cette action est irrversible.")){h(null),g(null),A(K.id);try{await xe.deleteTable(K.id),await T(),g("Table supprime avec succs.")}catch(I){console.error("Failed to delete table:",I),h("Impossible de supprimer la table. Veuillez ressayer.")}finally{A(null)}}},[T]),F=b.useCallback(async K=>{h(null),g(null);const I=n.find(Y=>Y.commandeId===K);if(I){r(Y=>Y.map(W=>W.id===I.id?{...W,statut:"para_pagar",estado_cocina:"servido"}:W));try{await xe.markOrderAsServed(K),await T()}catch(Y){console.error("Failed to mark order as served:",Y),h("Impossible de marquer la commande comme servie. Veuillez ressayer."),await T()}}},[T,n]);if(i)return u.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const H=w==="edit"&&S?{nom:S.nom,capacite:S.capacite,couverts:S.couverts}:void 0,ae=w==="edit"&&!!(S!=null&&S.commandeId);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[t&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"button",onClick:M,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[u.jsx(vu,{size:18}),"Ajouter une table"]})}),l&&u.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),f&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:f}),p&&u.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),u.jsx("div",{className:"mt-6 status-grid",children:n.map(K=>u.jsx(bte,{table:K,onServe:F,canEdit:!!t,onEdit:D,onDelete:$,isDeleting:N===K.id},K.id))}),u.jsx(gte,{isOpen:v,onClose:k,mode:w,initialValues:H,onSubmit:q,showCouvertsField:ae})]})},_te=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,s]=b.useState("efectivo"),[l,d]=b.useState(null),[f,h]=b.useState(!1),p=async g=>{g.preventDefault(),i&&(h(!0),await r(i,l),h(!1),t())};return u.jsx(Tn,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),u.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:Ee(n.total)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mtodo de pago"}),u.jsxs("select",{value:i,onChange:g=>s(g.target.value),className:"mt-1 ui-select",children:[u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),u.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[u.jsx(yu,{size:18}),u.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),u.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>d(g.target.files?g.target.files[0]:null),className:"hidden"})]}),u.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Finalizando...":"Confirmar pago"})]})]})})},wte=e=>e??"",jte=e=>!e||e.length===0?[]:e.slice().sort(),Pf=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:wte(n.commentaire),excludedIngredients:jte(n.excluded_ingredients)});return{size:e.length,itemsById:t}},pA=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let s=0;s<r.excludedIngredients.length;s+=1)if(r.excludedIngredients[s]!==i.excludedIngredients[s])return!1}return!0},Ste=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:s,isProductAvailable:l,handleProductPointerDown:d,handleProductKeyDown:f})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(h=>u.jsx("button",{onClick:()=>s(h.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===h.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:h.nom},h.id))]})}),u.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(h=>{const p=!l(h),g=t[h.id]||0,v=()=>n(h),_=d(h),w=f(h);return u.jsxs("button",{type:"button",onClick:v,onPointerDown:_,onKeyDown:w,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&u.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&u.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:u.jsx(sa,{size:16})}),u.jsx("img",{src:h.image,alt:h.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),u.jsx("p",{className:"font-semibold text-sm text-gray-800",children:h.nom_produit}),u.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:h.description}),u.jsx("p",{className:"font-bold text-brand-primary mt-1",children:Ee(h.prix_vente)})]},h.id)})})]}),Nte=b.memo(Ste),Ete=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:s,onSendToKitchen:l,onServeOrder:d,onOpenPayment:f,isSending:h,hasPending:p,orderStatus:g,editingCommentId:v})=>{const _=e.pending.length+e.sent.length;return u.jsxs("div",{className:"ui-card flex flex-col",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),u.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:_===0?u.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles  envoyer"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:w,index:j})=>u.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Ee(w.quantite*w.prix_unitaire)})]}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("p",{className:"text-sm text-gray-700",children:[Ee(w.prix_unitaire)," /u"]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[u.jsx("button",{onClick:()=>n(j,-1),className:"p-1",children:u.jsx(cU,{size:20})}),u.jsx("span",{className:"font-bold w-6 text-center",children:w.quantite}),u.jsx("button",{onClick:()=>n(j,1),className:"p-1",children:u.jsx(ab,{size:20})})]})]}),v===w.id||w.commentaire?u.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:w.commentaire??"",onChange:S=>r(j,S.target.value),onBlur:()=>i(j),autoFocus:v===w.id,className:"mt-2 ui-input text-sm"}):u.jsxs("button",{onClick:()=>s(w.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[u.jsx(AC,{size:12})," Ajouter un commentaire"]})]},w.id))]}),e.sent.length>0&&u.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoys en cuisine"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:w})=>u.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Ee(w.quantite*w.prix_unitaire)})]}),u.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[Ee(w.prix_unitaire)," /u"]}),w.commentaire&&u.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',w.commentaire,'"']})]},w.id))]})]})}),u.jsxs("div",{className:"p-4 border-t space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:Ee(t)})]}),g==="listo"&&u.jsxs("button",{onClick:d,className:"w-full ui-btn-info justify-center py-3",children:[u.jsx(Z6,{size:20}),u.jsx("span",{children:"Entregada"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:l,disabled:h||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[u.jsx(v$,{size:20}),u.jsx("span",{children:h?"Synchronisation":"Envoyer en Cuisine"})]}),u.jsxs("button",{onClick:f,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[u.jsx(eu,{size:20}),u.jsx("span",{children:"Finaliser"})]})]})]})]})},Ote=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,s]=b.useState(1),[l,d]=b.useState("");if(b.useEffect(()=>{e&&(s(1),d(""))},[e,t==null?void 0:t.id]),!t)return null;const f=()=>{s(g=>Math.max(1,g-1))},h=()=>{s(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return u.jsx(Tn,{isOpen:e,onClose:n,title:t.nom_produit,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&u.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),u.jsx("textarea",{value:l,onChange:g=>d(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spcifiques"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantit",children:u.jsx(CC,{size:18})}),u.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),u.jsx("button",{type:"button",onClick:h,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantit",children:u.jsx(vu,{size:18})})]}),u.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",Ee(t.prix_vente*i),")"]})]})]})})},Sy=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),na=e=>JSON.parse(JSON.stringify(e)),gA=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),vA=e=>(e??"").trim(),Ate=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>i===r[s])},Cte=(e,t,n,r,i=[])=>{const s=vA(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,d=e.findIndex(h=>h.produitRef===t.id&&h.estado==="en_attente"&&vA(h.commentaire)===s&&Ate(h.excluded_ingredients??[],i));if(d>-1)return e.map((h,p)=>p===d?{...h,quantite:h.quantite+l}:h);const f={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:s,estado:"en_attente"};return[...e,f]},yA=Pf([]),Tte=()=>{const{tableId:e}=rI(),t=ha(),[n,r]=b.useState(null),[i,s]=b.useState(null),[l,d]=b.useState([]),[f,h]=b.useState([]),[p,g]=b.useState([]),[v,_]=b.useState("all"),[w,j]=b.useState(!0),[S,O]=b.useState(!1),[N,A]=b.useState(!1),[C,T]=b.useState(null),[k,M]=b.useState(!1),[D,q]=b.useState(null),$=b.useRef(n),F=b.useRef(i),H=b.useRef(null),ae=b.useRef(null),z=b.useRef(null),K=b.useRef(Promise.resolve()),I=b.useRef(null),Y=b.useRef(null),W=b.useCallback((de,me,Oe)=>{if(!me||me.length===0)return de.current=null,yA;const Qe=Oe??Pf(me);return de.current={source:me,snapshot:Qe},Qe},[]),ue=b.useCallback((de,me)=>{if(!de||de.length===0)return me.current=null,yA;const Oe=me.current;return Oe&&Oe.source===de?Oe.snapshot:W(me,de)},[W]);b.useEffect(()=>{$.current=n},[n]),b.useEffect(()=>{F.current=i},[i]);const re=b.useCallback(de=>{const me=$.current;if(!me)return!0;const Oe=de??F.current;if(!Oe)return!0;const Qe=ue(me.items,I),Je=de?Pf(Oe.items):ue(Oe.items,Y);return pA(Je,Qe)},[ue]),R=b.useCallback(()=>{const de=ae.current;if(!de)return;const me=Pf(de.items);H.current=na(de);const Oe=$.current;if(Oe){const Je=ue(Oe.items,I);if(pA(Je,me)){ae.current=null;return}}ae.current=null,$.current=de,r(de),W(I,de.items,me);const Qe=na(de);F.current=Qe,s(Qe),W(Y,Qe.items)},[ue,W]),L=b.useCallback(async(de=!1)=>{if(e)try{if(de||j(!0),de){const De=await xe.createOrGetOrderByTableId(e),rt=na(De);if(H.current=rt,re()){ae.current=null,r(De),$.current=De,W(I,De.items);const Mt=na(De);F.current=Mt,s(Mt),W(Y,Mt.items)}else{const Mt=F.current;Mt&&JSON.stringify(Mt)===JSON.stringify(De)?ae.current=null:ae.current=rt}return}const[me,Oe,Qe,Je]=await Promise.all([xe.createOrGetOrderByTableId(e),xe.getProducts(),xe.getCategories(),xe.getIngredients()]);H.current=na(me),r(me),$.current=me,W(I,me.items);const Pt=na(me);s(Pt),F.current=Pt,W(Y,Pt.items),d(Oe),h(Qe),g(Je),ae.current=null}catch(me){console.error("Failed to load order data",me),t("/ventes")}finally{de||j(!1)}},[re,t,e,W]);b.useEffect(()=>{L()},[L]),b.useEffect(()=>{re()&&R()},[R,re,n,i]),b.useEffect(()=>{const de=xe.notifications.subscribe("orders_updated",()=>L(!0));return()=>de()},[L]);const V=b.useMemo(()=>!re(),[re,n,i]),X=b.useMemo(()=>n?n.items.reduce((de,me)=>(me.estado!=="en_attente"||(de[me.produitRef]=(de[me.produitRef]||0)+me.quantite),de),{}):{},[n]),te=b.useMemo(()=>v==="all"?l:l.filter(de=>de.categoria_id===v),[v,l]),fe=b.useCallback(de=>{if(!de.recipe||de.recipe.length===0)return!0;for(const me of de.recipe){const Oe=p.find(Qe=>Qe.id===me.ingredient_id);if(!Oe||Oe.stock_actuel<=Oe.stock_minimum)return!1}return!0},[p]);b.useEffect(()=>()=>{z.current!==null&&(window.clearTimeout(z.current),z.current=null)},[]);const pe=b.useCallback(async(de,me)=>{const Oe=$.current;if(!Oe)return;const Qe=Mt=>typeof de=="function"?de(Mt):de,Pt=(me!=null&&me.isLocalUpdate?Oe.items:(me==null?void 0:me.removalSourceItems)??Oe.items).map(Mt=>({...Mt})),De=Qe(Pt),rt={...Oe,items:De,total:De.reduce((Mt,Ae)=>Mt+Ae.quantite*Ae.prix_unitaire,0)};if(r(rt),$.current=rt,W(I,rt.items),me!=null&&me.isLocalUpdate)return;const vt=async()=>{try{let Mt=ae.current??H.current??null;if(!Mt){const Ft=await xe.getOrderById(Oe.id);Ft?(Mt=Ft,H.current=na(Ft)):Mt=Oe}if(!Mt)return;const Ae=$.current.items.map(Ft=>({...Ft})),Ut=((me==null?void 0:me.removalSourceItems)??Oe.items).filter(Ft=>Sy(Ft.id)&&!Ae.some(Xs=>Xs.id===Ft.id)).map(Ft=>Ft.id),ln=await xe.updateOrder(Oe.id,{items:Ae,removedItemIds:Ut},{includeNotifications:!1});r(ln),$.current=ln,W(I,ln.items);const Ir=na(ln);s(Ir),F.current=Ir,W(Y,Ir.items),H.current=na(ln),xe.getIngredients().then(g).catch(Ft=>{console.error("Failed to refresh ingredients",Ft)}),R()}catch(Mt){console.error("Failed to update order:",Mt),alert("Une erreur est survenue lors de la mise  jour de la commande."),L(!0)}};K.current=K.current.then(vt,vt),await K.current},[R,L,W]),ke=b.useCallback((de=300)=>{z.current!==null&&window.clearTimeout(z.current);const me=de>0?de:1;z.current=window.setTimeout(async()=>{if(z.current=null,!$.current)return;const Oe=$.current.items.map(Je=>({...Je})),Qe=H.current?H.current.items.map(Je=>({...Je})):Oe.map(Je=>({...Je}));await pe(Oe,{removalSourceItems:Qe})},me)},[pe]),ie=b.useCallback(de=>{$.current&&(pe(de,{isLocalUpdate:!0}),ke())},[ke,pe]),je=b.useCallback(de=>{q(de)},[]),Pe=b.useCallback(()=>{q(null)},[]),ce=b.useCallback(de=>{D&&(ie(me=>Cte(me,D,de,gA)),q(null))},[ie,D]),At=b.useCallback((de,me)=>{const Oe=$.current;if(!Oe||!Oe.items[de])return;const Qe=Oe.items[de].id;ie(Je=>{const Pt=Je.findIndex(rt=>rt.id===Qe);if(Pt===-1)return Je;const De=Je[Pt].quantite+me;return De<=0?Je.filter(rt=>rt.id!==Qe):Je.map(rt=>rt.id===Qe?{...rt,quantite:De}:rt)})},[ie]),Le=b.useCallback((de,me)=>{const Oe=$.current;if(!Oe||!Oe.items[de])return;const Qe=Oe.items[de].id;pe(Je=>{const Pt=Je.findIndex(vt=>vt.id===Qe);if(Pt===-1)return Je;const De=Je.map(vt=>({...vt})),rt=De[Pt];if(rt.quantite>1&&!rt.commentaire&&me){rt.quantite-=1;const vt={...rt,id:gA(),quantite:1,commentaire:me};De.push(vt),T(vt.id)}else rt.commentaire=me;return De},{isLocalUpdate:!0})},[pe]),Ct=b.useCallback(de=>{$.current&&(pe($.current.items.map(me=>({...me}))),T(null))},[pe]),Tt=b.useCallback(async()=>{if($.current){M(!0);try{let de=$.current;for(;de&&de.items.some(De=>De.estado==="en_attente"&&!Sy(De.id));)await pe(de.items.map(De=>({...De}))),de=$.current;if(de=$.current,!de)return;const me=de.items.filter(De=>De.estado==="en_attente");if(me.length===0)return;if(me.filter(De=>!Sy(De.id)).length>0){console.warn("Des articles non persists subsistent aprs synchronisation, envoi annul.");return}const Qe=me.map(De=>De.id),Je=await xe.sendOrderToKitchen(de.id,Qe);r(Je),$.current=Je,W(I,Je.items);const Pt=na(Je);s(Pt),F.current=Pt,W(Y,Pt.items),t("/ventes")}catch(de){console.error("Failed to send order to kitchen",de),alert("Erreur lors de l'envoi en cuisine.")}finally{M(!1)}}},[t,pe,W]),Ht=b.useCallback(async()=>{if(n)try{const de=await xe.markOrderAsServed(n.id);r(de),$.current=de,W(I,de.items)}catch(de){console.error("Failed to mark order as served",de)}},[n,W]),Xn=async(de,me)=>{if(n)try{let Oe=n.payment_receipt_url??void 0;if(me&&me instanceof File)try{Oe=await pC(me,{orderId:n.id})}catch(Qe){console.error("Failed to upload receipt",Qe)}await xe.finalizeOrder(n.id,de,Oe),t("/ventes")}catch(Oe){console.error("Failed to finalize order",Oe),alert("Erreur lors de la finalisation de la commande. Veuillez ressayer.")}},ge=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){A(!0);return}V?A(!0):t("/ventes")},Xe=async()=>{try{n&&n.estado_cocina==="no_enviado"?await xe.cancelUnsentTableOrder(n.id):i&&!re(i)&&await pe(i.items)}catch(de){console.error("Failed to cancel unsent order before exiting",de)}finally{A(!1),t("/ventes")}},Ge=(n==null?void 0:n.items)??[],ut=b.useMemo(()=>Ge.reduce((de,me,Oe)=>(me.estado==="en_attente"?de.pending.push({item:me,index:Oe}):de.sent.push({item:me,index:Oe}),de),{pending:[],sent:[]}),[Ge]),kt=b.useCallback(de=>me=>{me.preventDefault(),me.currentTarget.focus()},[]),Ye=b.useCallback(de=>me=>{(me.key==="Enter"||me.key===" ")&&(me.preventDefault(),je(de))},[je]),Dr=b.useCallback(()=>{O(!0)},[]),pa=b.useCallback(de=>{T(de)},[]),ni=b.useMemo(()=>ut.pending.length>0,[ut]);return w?u.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[u.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("button",{onClick:ge,className:"ui-btn-dark",title:"Retour au plan de salle",children:[u.jsx(xC,{size:20}),u.jsx("span",{children:"Retour plan de salle"})]}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),u.jsx(Nte,{filteredProducts:te,quantities:X,onAdd:je,activeCategoryId:v,categories:f,onSelectCategory:_,isProductAvailable:fe,handleProductPointerDown:kt,handleProductKeyDown:Ye})]}),u.jsx(Ete,{categorizedItems:ut,total:n.total,onQuantityChange:At,onCommentChange:Le,onPersistComment:Ct,onStartEditingComment:pa,onSendToKitchen:Tt,onServeOrder:Ht,onOpenPayment:Dr,isSending:k,hasPending:ni,orderStatus:n.estado_cocina,editingCommentId:C})]}),u.jsx(Ote,{isOpen:D!==null,product:D,onClose:Pe,onSave:ce}),u.jsx(_te,{isOpen:S,onClose:()=>O(!1),order:n,onFinalize:Xn}),u.jsxs(Tn,{isOpen:N,onClose:()=>A(!1),title:"Quitter sans envoyer ?",children:[u.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoys en cuisine. Si vous quittez, ils seront annuls. Voulez-vous continuer ?"}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:()=>A(!1),className:"ui-btn-secondary",children:"Non, rester"}),u.jsx("button",{onClick:Xe,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):u.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouve."})},kte={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},Pte=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},KR=e=>{const t=Pte(e),n=kte[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},Mte=({order:e,onReady:t,canMarkReady:n})=>{const r=KR(e.date_envoi_cuisine||Date.now()),i=b.useMemo(()=>{const d=[],f=new Map;return e.items.forEach(h=>{var w;const p=(w=h.commentaire)==null?void 0:w.trim(),g=p||"no_comment",v=`${h.produitRef}::${g}`;if(p){d.push({key:`${v}::${h.id}`,nom_produit:h.nom_produit,quantite:h.quantite,commentaire:p});return}const _=f.get(v);if(_!==void 0){d[_].quantite+=h.quantite;return}f.set(v,d.length),d.push({key:v,nom_produit:h.nom_produit,quantite:h.quantite})}),d},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-4",children:[u.jsx("h3",{className:"w-full text-center text-3xl font-semibold text-gray-900 sm:text-left sm:text-4xl",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),u.jsx(d_,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:u.jsx("ul",{className:"space-y-3",children:i.map(d=>u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${r.accent}`,children:d.quantite}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.nom_produit})]}),d.commentaire&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:d.commentaire})]},d.key))})}),u.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-3",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&u.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[u.jsx(_C,{size:22,className:"shrink-0"}),u.jsx("span",{children:"LISTO"})]})]})})]})},Rte=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),{role:i}=ma(),s=(i==null?void 0:i.permissions["/cocina"])==="editor",l=b.useCallback(async()=>{try{const f=await xe.getKitchenOrders();t(f)}catch(f){console.error("Failed to fetch kitchen orders",f)}finally{r(!1)}},[]);b.useEffect(()=>{l();const f=setInterval(l,5e3),h=xe.notifications.subscribe("orders_updated",l);return()=>{clearInterval(f),h()}},[l]);const d=async(f,h)=>{try{await xe.markOrderAsReady(f,h),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):u.jsx("div",{className:"flex h-full flex-col",children:e.length===0?u.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparacin."}):u.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(f=>u.jsx(Mte,{order:f,onReady:d,canMarkReady:s},f.ticketKey))})})},bA=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,s]=b.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,d=e.date_envoi_cuisine||e.date_creation,f=KR(d),h={normal:"Normal",warning:"En seguimiento",critical:"Crtico"};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${f.border} ${f.background}`,children:[u.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${f.accent}`}),u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(d).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),u.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${f.badge}`,children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${f.accent}`}),u.jsx("span",{children:h[f.level]})]})]}),u.jsx(d_,{startTime:d,className:"text-sm sm:text-base"})]})}),u.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&u.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[u.jsx(sb,{size:16,className:f.icon}),u.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[u.jsx(TC,{size:14,className:"text-gray-500"}),u.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx(kh,{size:16,className:`mt-0.5 text-gray-500 ${f.icon}`}),u.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artculos"}),e.items.length>0?u.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var v;const g=(v=p.commentaire)==null?void 0:v.trim();return u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${f.accent}`,children:p.quantite}),u.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),u.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:Ee(p.prix_unitaire*p.quantite)})]}),g&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):u.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido an no tiene artculos registrados."})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:Ee(e.total)})]})]}),u.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>s(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[u.jsx(qy,{size:16,className:f.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),u.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&u.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),u.jsx(Tn,{isOpen:i,onClose:()=>s(!1),title:"Comprobante de pago",children:e.receipt_url?u.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"No se proporcion comprobante."})})]})},Dte=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState(!0),[l,d]=b.useState(null),f=b.useCallback(async()=>{try{const{pending:g,ready:v}=await xe.getTakeawayOrders();t(g.sort((_,w)=>_.date_creation-w.date_creation)),r(v.sort((_,w)=>(_.date_listo_cuisine||0)-(w.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{s(!1)}},[]);b.useEffect(()=>{s(!0),f();const g=setInterval(f,1e4),v=xe.notifications.subscribe("orders_updated",f);return()=>{clearInterval(g),v()}},[f]);const h=async g=>{if(!l){d(g);try{await xe.validateTakeawayOrder(g),await f()}catch(v){console.error("Failed to validate order:",v),alert(`No se pudo validar el pedido: ${v.message}`)}finally{d(null)}}},p=async g=>{if(!l){d(g);try{await xe.markTakeawayAsDelivered(g),await f()}catch(v){console.error("Failed to mark order as delivered:",v),alert("Ocurri un error al finalizar el pedido.")}finally{d(null)}}};return i?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validacin (",e.length,")"]}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>u.jsx(bA,{order:g,onValidate:h,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),u.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>u.jsx(bA,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},Ite=()=>{const{role:e}=ma(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,l]=b.useState(null),[d,f]=b.useState(""),[h,p]=b.useState(!1),[g,v]=b.useState(!1),[_,w]=b.useState(!1),[j,S]=b.useState(null),[O,N]=b.useState("add"),A=(e==null?void 0:e.permissions["/ingredients"])==="editor",C=b.useCallback(async()=>{try{const M=await xe.getIngredients();n(M),l(null)}catch(M){l("Impossible de charger les ingrdients."),console.error(M)}finally{i(!1)}},[]);b.useEffect(()=>{i(!0),C()},[C]);const T=b.useMemo(()=>t.filter(M=>M.nom.toLowerCase().includes(d.toLowerCase())),[t,d]),k=(M,D=null)=>{S(D),M==="add"||M==="edit"?(N(M),p(!0)):M==="resupply"?v(!0):M==="delete"&&w(!0)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-80",children:[u.jsx(ib,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un ingrdient...",value:d,onChange:M=>f(M.target.value),className:"ui-input pl-10 sm:w-64"})]}),A&&u.jsxs("button",{onClick:()=>k("add"),className:"w-full md:w-auto ui-btn-primary",children:[u.jsx(ab,{size:20}),"Ajouter un ingrdient"]})]}),r?u.jsx("p",{className:"text-gray-800",children:"Chargement..."}):s?u.jsx("p",{className:"text-red-500",children:s}):u.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),A&&u.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{children:T.map(M=>{const D=M.stock_actuel<=M.stock_minimum;return u.jsxs("tr",{className:`border-b hover:bg-gray-50 ${D?"bg-red-50":""}`,children:[u.jsx("td",{className:`p-3 font-semibold ${D?"text-red-900":"text-gray-900"}`,children:M.nom}),u.jsxs("td",{className:`p-3 font-bold ${D?"text-red-700":"text-gray-800"}`,children:[M.stock_actuel," ",M.unite]}),u.jsxs("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:[M.stock_minimum," ",M.unite]}),u.jsx("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:Ee(M.prix_unitaire)}),A&&u.jsx("td",{className:"p-3 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>k("resupply",M),title:"Rapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:u.jsx(JU,{size:20})}),u.jsx("button",{onClick:()=>k("edit",M),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:u.jsx(RC,{size:20})}),u.jsx("button",{onClick:()=>k("delete",M),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:u.jsx(Hs,{size:20})})]})})]},M.id)})})]})}),h&&A&&u.jsx(Lte,{isOpen:h,onClose:()=>p(!1),onSuccess:C,ingredient:j,mode:O}),g&&A&&j&&u.jsx(Ute,{isOpen:g,onClose:()=>v(!1),onSuccess:C,ingredient:j}),_&&A&&j&&u.jsx($te,{isOpen:_,onClose:()=>w(!1),onSuccess:C,ingredient:j})]})},Lte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[s,l]=b.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[d,f]=b.useState(!1),h=async p=>{p.preventDefault(),f(!0);try{i==="edit"&&r?await xe.updateIngredient(r.id,s):await xe.addIngredient(s),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{f(!1)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrdient":"Modifier l'Ingrdient",children:u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",id:"nom",value:s.nom,onChange:p=>l({...s,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unit"}),u.jsxs("select",{id:"unite",value:s.unite,onChange:p=>l({...s,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"g",children:"Grammes (g)"}),u.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),u.jsx("option",{value:"ml",children:"Millilitres (ml)"}),u.jsx("option",{value:"L",children:"Litres (L)"}),u.jsx("option",{value:"unite",children:"Unit"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),u.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:s.stock_minimum,onChange:p=>l({...s,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:d?"Sauvegarde...":"Sauvegarder"})]})]})})},Ute=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,s]=b.useState(0),[l,d]=b.useState(0),[f,h]=b.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){h(!0);try{await xe.resupplyIngredient(r.id,i,l),n(),t()}catch(v){console.error("Failed to resupply ingredient",v)}finally{h(!1)}}};return u.jsx(Tn,{isOpen:e,onClose:t,title:`Rapprovisionner: ${r.nom}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantit Achete (",r.unite,")"]}),u.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>s(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unit (",r.unite,")"]}),u.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>d(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Ajout...":"Ajouter au Stock"})]})]})})},$te=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,s]=b.useState(!1),[l,d]=b.useState(null),f=async()=>{s(!0),d(null);try{await xe.deleteIngredient(r.id),n(),t()}catch(h){console.error("Failed to delete ingredient",h),d("Impossible de supprimer cet ingrdient car il est utilis dans au moins une recette.")}finally{s(!1)}};return u.jsxs(Tn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["tes-vous sr de vouloir supprimer l'ingrdient ",u.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irrversible."]}),l&&u.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:f,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},xA=[1,2,3,4,5,6],_A=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:zf};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:jl};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:mU};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:fU}}},zte=()=>{const{role:e}=ma(),[t,n]=b.useState([]),[r,i]=b.useState([]),[s,l]=b.useState([]),[d,f]=b.useState(!0),[h,p]=b.useState(null),[g,v]=b.useState(""),[_,w]=b.useState("all"),[j,S]=b.useState(!1),[O,N]=b.useState(!1),[A,C]=b.useState(!1),[T,k]=b.useState(null),[M,D]=b.useState("add"),q=(e==null?void 0:e.permissions["/produits"])==="editor",$=b.useCallback(async()=>{try{f(!0);const[K,I,Y]=await Promise.all([xe.getProducts(),xe.getCategories(),xe.getIngredients()]);n(K),i(I),l(Y),p(null)}catch(K){p("Impossible de charger les donnes des produits."),console.error(K)}finally{f(!1)}},[]);b.useEffect(()=>{$()},[$]);const F=b.useMemo(()=>t.filter(K=>K.nom_produit.toLowerCase().includes(g.toLowerCase())&&(_==="all"||K.categoria_id===_)),[t,g,_]),H=b.useMemo(()=>{const K=new Map;return t.forEach(I=>{I.is_best_seller&&I.best_seller_rank!=null&&K.set(I.best_seller_rank,I)}),K},[t]),ae=(K,I="add",Y=null)=>{K==="product"?(D(I),k(Y),S(!0)):K==="category"?N(!0):K==="delete"&&Y&&(k(Y),C(!0))},z=async(K,I)=>{try{await xe.updateProduct(K.id,{estado:I}),$()}catch(Y){console.error("Failed to update status",Y);const W=Y instanceof Error?Y.message:"Une erreur inconnue s'est produite.";alert(`chec de la mise  jour du statut du produit : ${W}`)}};return d?u.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):h?u.jsx("p",{className:"text-red-500",children:h}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[u.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[u.jsx(ib,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:K=>v(K.target.value),className:"ui-input pl-10"})]}),u.jsxs("select",{value:_,onChange:K=>w(K.target.value),className:"ui-select md:w-56",children:[u.jsx("option",{value:"all",children:"Toutes les catgories"}),r.map(K=>u.jsx("option",{value:K.id,children:K.nom},K.id))]})]}),q&&u.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[u.jsx("button",{onClick:()=>N(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:u.jsx(b$,{size:20})}),u.jsxs("button",{onClick:()=>ae("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[u.jsx(ab,{size:20}),"Ajouter Produit"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:F.map(K=>u.jsx(Bte,{product:K,category:r.find(I=>I.id===K.categoria_id),onEdit:()=>ae("product","edit",K),onDelete:()=>ae("delete","edit",K),onStatusChange:z,canEdit:q},K.id))}),j&&q&&u.jsx(qte,{isOpen:j,onClose:()=>S(!1),onSuccess:$,product:T,mode:M,categories:r,ingredients:s,occupiedPositions:H}),O&&q&&u.jsx(Hte,{isOpen:O,onClose:()=>N(!1),onSuccess:$,categories:r}),A&&q&&T&&u.jsx(Fte,{isOpen:A,onClose:()=>C(!1),onSuccess:$,product:T})]})},Bte=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:s})=>{const{text:l,color:d,Icon:f}=_A(e.estado),[h,p]=b.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,u.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&u.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),u.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catgorie"}),u.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),u.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:Ee(e.prix_vente)})]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${d}`,children:[u.jsx(f,{size:14})," ",l]}),s&&u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>p(!h),className:"p-1 text-gray-500 hover:text-gray-800",children:u.jsx(SC,{size:20})}),h&&u.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[u.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),u.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),u.jsx("div",{className:"border-t my-1"}),u.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(v=>u.jsx("button",{onClick:()=>{i(e,v),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:_A(v).text},v))]})]})]})]})]})},qte=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:s,ingredients:l,occupiedPositions:d})=>{var q;const[f,h]=b.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((q=s[0])==null?void 0:q.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=b.useState(null),[v,_]=b.useState(!1);b.useEffect(()=>{var $;e&&(h({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||((($=s[0])==null?void 0:$.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,s]);const w=b.useCallback(()=>{for(const $ of xA){const F=d.get($);if(!F||F.id===(r==null?void 0:r.id))return $}return null},[d,r==null?void 0:r.id]),j=b.useCallback($=>{h(F=>{if($){const H=F.best_seller_rank??w();return{...F,is_best_seller:!0,best_seller_rank:H??null}}return{...F,is_best_seller:!1,best_seller_rank:null}})},[w]),S=b.useCallback($=>{const F=$.target.value;h(H=>({...H,best_seller_rank:F?Number(F):null}))},[]),O=b.useMemo(()=>new Map(l.map($=>[$.id,$])),[l]),N=b.useMemo(()=>f.recipe.reduce(($,F)=>{const H=O.get(F.ingredient_id);if(!H)return $;let ae=H.prix_unitaire;return(H.unite==="kg"||H.unite==="L")&&(ae=ae/1e3),$+ae*F.qte_utilisee},0),[f.recipe,O]),A=f.prix_vente-N,C=f.prix_vente>0?A/f.prix_vente*100:0,T=($,F,H)=>{const ae=[...f.recipe];if(F==="qte_utilisee"){const{valueAsNumber:z,value:K}=H.currentTarget,I=Number.isNaN(z)?Number(K.replace(",",".")):z;ae[$]={...ae[$],[F]:Number.isNaN(I)?ae[$].qte_utilisee:I}}else ae[$]={...ae[$],[F]:H.currentTarget.value};h(z=>({...z,recipe:ae}))},k=()=>{l.length!==0&&h({...f,recipe:[...f.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},M=$=>{const F=f.recipe.filter((H,ae)=>ae!==$);h({...f,recipe:F})},D=async $=>{var F;if($.preventDefault(),f.recipe.length===0){alert("Veuillez ajouter au moins un ingrdient  la recette.");return}if(f.is_best_seller){if(f.best_seller_rank==null){alert("Veuillez slectionner une position de best seller disponible.");return}const H=d.get(f.best_seller_rank);if(H&&H.id!==(r==null?void 0:r.id)){alert(`La position ${f.best_seller_rank} est dj occupe par ${H.nom_produit}.`);return}}_(!0);try{let H=((F=f.image)==null?void 0:F.trim())??"";p&&(H=await C6(p,f.nom_produit));const ae={...f,image:H,is_best_seller:f.is_best_seller,best_seller_rank:f.is_best_seller?f.best_seller_rank:null};i==="edit"&&r?await xe.updateProduct(r.id,ae):await xe.addProduct(ae),n(),g(null),t()}catch(H){console.error("Failed to save product",H);const ae=H instanceof Error?H.message:"Une erreur inconnue s'est produite.";alert(`chec du tlversement de l'image du produit : ${ae}`)}finally{_(!1)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:u.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",value:f.nom_produit,onChange:$=>h({...f,nom_produit:$.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:f.prix_vente,onChange:$=>{const{valueAsNumber:F,value:H}=$.currentTarget,ae=Number.isNaN(F)?Number(H.replace(",",".")):F;h(z=>({...z,prix_vente:Number.isNaN(ae)?z.prix_vente:ae}))},required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catgorie"}),u.jsx("select",{value:f.categoria_id,onChange:$=>h({...f,categoria_id:$.target.value}),required:!0,className:"mt-1 ui-select",children:s.map($=>u.jsx("option",{value:$.id,children:$.nom},$.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{value:f.estado,onChange:$=>h({...f,estado:$.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"disponible",children:"Disponible"}),u.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),u.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),u.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[u.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:f.is_best_seller,onChange:$=>j($.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),u.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),u.jsxs("select",{id:"best-seller-rank",value:f.best_seller_rank??"",onChange:S,disabled:!f.is_best_seller,className:"mt-1 ui-select",children:[u.jsx("option",{value:"",children:"Slectionner une position"}),xA.map($=>{const F=d.get($),H=(F==null?void 0:F.id)===(r==null?void 0:r.id),ae=!!(F&&!H),z=F?H?`${$}  Position actuelle`:`${$}  Occup par ${F.nom_produit}`:`${$}`;return u.jsx("option",{value:$,disabled:ae,children:z},$)})]}),f.is_best_seller&&f.best_seller_rank===null&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Slectionnez une position disponible pour ce best seller."})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Cot de revient"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ee(N)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),u.jsx("p",{className:`text-lg font-semibold ${A>=0?"text-emerald-600":"text-red-600"}`,children:Ee(A)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),u.jsxs("p",{className:`text-lg font-semibold ${C>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(C)?zz(C):"0","%"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{rows:3,value:f.description,onChange:$=>h({...f,description:$.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),u.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[u.jsx("img",{src:p?URL.createObjectURL(p):mC(f.image),alt:"Aperu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),u.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(yu,{size:16}),u.jsx("span",{children:"Changer l'image"})]}),u.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:$=>g($.target.files?$.target.files[0]:null)})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),f.recipe.length===0&&u.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrdient."})}),u.jsx("div",{className:"space-y-2",children:f.recipe.map(($,F)=>{var H,ae;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(AU,{className:"text-gray-400 cursor-move",size:16}),u.jsx("select",{value:$.ingredient_id,onChange:z=>T(F,"ingredient_id",z),className:"ui-select flex-grow",children:l.map(z=>u.jsx("option",{value:z.id,children:z.nom},z.id))}),u.jsx("input",{type:"number",placeholder:"Qt",value:$.qte_utilisee,onChange:z=>T(F,"qte_utilisee",z),className:"ui-input w-24"}),u.jsx("span",{className:"text-gray-500 text-sm w-12",children:((H=l.find(z=>z.id===$.ingredient_id))==null?void 0:H.unite)==="kg"?"g":(ae=l.find(z=>z.id===$.ingredient_id))==null?void 0:ae.unite}),u.jsx("button",{type:"button",onClick:()=>M(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Hs,{size:16})})]},F)})}),u.jsx("button",{type:"button",onClick:k,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrdient"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:v||f.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:v?"Sauvegarde...":"Sauvegarder"})]})]})})},Hte=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,s]=b.useState(""),[l,d]=b.useState(""),f=async()=>{if(i.trim())try{await xe.addCategory(i),s(""),n()}catch(p){console.error(p)}},h=async p=>{d("");try{await xe.deleteCategory(p),n()}catch(g){d(g.message),console.error(g)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:"Grer les Catgories",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"Nom de la nouvelle catgorie",className:"ui-input flex-grow"}),u.jsx("button",{onClick:f,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&u.jsx("p",{className:"text-red-500 text-sm",children:l}),u.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>u.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{className:"text-gray-800",children:p.nom}),u.jsx("button",{onClick:()=>h(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Hs,{size:16})})]},p.id))}),u.jsx("div",{className:"pt-4 flex",children:u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},Fte=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,s]=b.useState(!1),l=async()=>{s(!0);try{await xe.deleteProduct(r.id),n(),t()}catch(d){console.error("Failed to delete product",d)}finally{s(!1)}};return u.jsxs(Tn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["tes-vous sr de vouloir supprimer le produit ",u.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irrversible."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},Ws=e=>{if(e.error)throw new Error(e.error.message);return e.data},Kte=async()=>{const e=await he.from("promotions").select("*").order("priority",{ascending:!1});return Ws(e)},fm=async()=>{const e=new Date().toISOString(),t=await he.from("promotions").select("*").eq("active",!0).lte("start_date",e).or(`end_date.is.null,end_date.gte.${e}`).order("priority",{ascending:!1});return Ws(t).filter(r=>r.usage_limit&&r.usage_count>=r.usage_limit?!1:ob(r))},Gte=async e=>{const t=await he.from("promotions").insert({name:e.name,description:e.description,active:e.active,start_date:e.start_date,end_date:e.end_date,conditions:e.conditions,config:e.config,priority:e.priority,stackable:e.stackable,usage_limit:e.usage_limit,usage_count:0}).select().single();return Ws(t)},Yte=async(e,t)=>{const n=await he.from("promotions").update({name:t.name,description:t.description,active:t.active,start_date:t.start_date,end_date:t.end_date,conditions:t.conditions,config:t.config,priority:t.priority,stackable:t.stackable,usage_limit:t.usage_limit}).eq("id",e).select().single();return Ws(n)},Vte=async e=>{const t=await he.from("promotions").delete().eq("id",e);Ws(t)},Wte=async(e,t)=>{const n=await he.from("promotions").update({active:t}).eq("id",e).select().single();return Ws(n)},Xte=async e=>(await fm()).find(n=>{var r;return((r=n.config.promo_code)==null?void 0:r.toLowerCase())===e.toLowerCase()})||null,Qte=async e=>{const t=await he.from("promotion_usages").select("*").eq("promotion_id",e).order("applied_at",{ascending:!1});return Ws(t)},wA=(e,t)=>{if(!IC(e)||!ob(e))return!1;const n=e.config;return!(n.min_order_amount&&(!t.total||t.total<n.min_order_amount)||n.min_items_count&&t.items.reduce((i,s)=>i+s.quantite,0)<n.min_items_count||n.product_ids&&n.product_ids.length>0&&!t.items.some(i=>{var s;return(s=n.product_ids)==null?void 0:s.includes(i.produitRef)})||n.category_ids&&n.category_ids.length>0&&!t.items.some(i=>{var s;return(s=n.category_ids)==null?void 0:s.includes(i.categoria_id)}))},jA=(e,t)=>{const n=e.config;if(n.discount_type==="percentage"){let r=0;n.applies_to==="total"?r=t.subtotal||t.total:n.applies_to==="products"&&n.product_ids?r=t.items.filter(s=>{var l;return(l=n.product_ids)==null?void 0:l.includes(s.produitRef)}).reduce((s,l)=>s+l.prix_unitaire*l.quantite,0):n.applies_to==="category"&&n.category_ids?r=t.items.filter(s=>{var l;return(l=n.category_ids)==null?void 0:l.includes(s.categoria_id)}).reduce((s,l)=>s+l.prix_unitaire*l.quantite,0):n.applies_to==="shipping"&&(r=0);let i=r*(n.discount_value/100);return n.max_discount_amount&&i>n.max_discount_amount&&(i=n.max_discount_amount),i}return n.discount_type==="fixed_amount"?n.discount_value:0},Jte=async e=>{const t=await fm(),n=e.total;let r=0;const i=[];if(e.promo_code){const s=await Xte(e.promo_code);if(s&&wA(s,e)){const l=jA(s,e);l>0&&(r+=l,i.push({promotion_id:s.id,name:s.name,discount_amount:l}))}}for(const s of t)if(!s.config.promo_code&&!(!s.stackable&&i.length>0)&&wA(s,e)){const l=jA(s,e);if(l>0&&(r+=l,i.push({promotion_id:s.id,name:s.name,discount_amount:l}),!s.stackable))break}return{...e,subtotal:n,total_discount:r,total:n-r,applied_promotions:i}},Zte=async(e,t)=>Wte(e,t==="active"),ene=[{value:"percentage",label:"Pourcentage"},{value:"fixed_amount",label:"Montant fixe"},{value:"promo_code",label:"Code promo"},{value:"buy_x_get_y",label:"2x1 / Achetez X, obtenez Y"},{value:"free_product",label:"Produit gratuit"},{value:"free_shipping",label:"Livraison gratuite"},{value:"combo",label:"Combo"},{value:"threshold",label:"Palier"},{value:"happy_hour",label:"Happy hour"}],tne=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"scheduled",label:"Programme"},{value:"expired",label:"Expire"}],SA=({isOpen:e,onClose:t,onSave:n,promotion:r})=>{var H,ae;const[i,s]=b.useState(""),[l,d]=b.useState("percentage"),[f,h]=b.useState("active"),[p,g]=b.useState(0),[v,_]=b.useState({}),[w,j]=b.useState({type:"percentage",value:0,applies_to:"total"}),[S,O]=b.useState({}),[N,A]=b.useState(!1),[C,T]=b.useState(null),[k,M]=b.useState("general"),[D,q]=b.useState(!1);b.useEffect(()=>{r&&(s(r.name),d(r.type),h(r.status),g(r.priority),_(r.conditions),j(r.discount),O(r.visuals||{}))},[r]);const $=async z=>{z.preventDefault(),A(!0),T(null);try{r?await Yte(r.id,{name:i,type:l,status:f,priority:p,conditions:v,discount:w,visuals:S}):await Gte({name:i,type:l,status:f,priority:p,conditions:v,discount:w,visuals:S}),n()}catch(K){T(K instanceof Error?K.message:"Une erreur est survenue")}finally{A(!1)}},F=async z=>{var I;const K=(I=z.target.files)==null?void 0:I[0];if(K){q(!0);try{const Y=await Zc(K);O({...S,banner_image:ua(Y)})}catch{T("Erreur lors du tlchargement de l'image")}finally{q(!1)}}};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r?"Modifier la promotion":"Nouvelle promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(la,{size:24})})]}),C&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:C}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${k==="general"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("general"),children:"Gnral"}),u.jsx("button",{className:`px-4 py-3 font-medium ${k==="conditions"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("conditions"),children:"Conditions"}),u.jsx("button",{className:`px-4 py-3 font-medium ${k==="discount"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("discount"),children:"Rduction"}),u.jsx("button",{className:`px-4 py-3 font-medium ${k==="visuals"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("visuals"),children:"Affichage"})]}),u.jsxs("form",{onSubmit:$,className:"overflow-y-auto p-6",children:[k==="general"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la promotion"}),u.jsx("input",{type:"text",id:"name",value:i,onChange:z=>s(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de promotion"}),u.jsx("select",{id:"type",value:l,onChange:z=>d(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:ene.map(z=>u.jsx("option",{value:z.value,children:z.label},z.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),u.jsx("select",{id:"status",value:f,onChange:z=>h(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:tne.map(z=>u.jsx("option",{value:z.value,children:z.label},z.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorit"}),u.jsx("input",{type:"number",id:"priority",value:p,onChange:z=>g(parseInt(z.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:"100"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Plus la valeur est leve, plus la promotion est prioritaire."})]})]}),k==="conditions"&&u.jsxs("div",{className:"space-y-6",children:[l==="promo_code"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code promo"}),u.jsx("input",{type:"text",id:"promo_code",value:v.promo_code||"",onChange:z=>_({...v,promo_code:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:l==="promo_code"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant minimum de commande"}),u.jsx("input",{type:"number",id:"min_order_amount",value:v.min_order_amount||"",onChange:z=>_({...v,min_order_amount:parseFloat(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de commande"}),u.jsx("input",{type:"number",id:"max_order_amount",value:v.max_order_amount||"",onChange:z=>_({...v,max_order_amount:parseFloat(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),u.jsx("input",{type:"datetime-local",id:"start_date",value:v.start_date?new Date(v.start_date).toISOString().slice(0,16):"",onChange:z=>_({...v,start_date:z.target.value?new Date(z.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),u.jsx("input",{type:"datetime-local",id:"end_date",value:v.end_date?new Date(v.end_date).toISOString().slice(0,16):"",onChange:z=>_({...v,end_date:z.target.value?new Date(z.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jours de la semaine"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"].map((z,K)=>{var I;return u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"checkbox",checked:((I=v.days_of_week)==null?void 0:I.includes(K))||!1,onChange:Y=>{const W=v.days_of_week||[];Y.target.checked?_({...v,days_of_week:[...W,K]}):_({...v,days_of_week:W.filter(ue=>ue!==K)})},className:"form-checkbox h-4 w-4 text-brand-primary"}),u.jsx("span",{className:"ml-2 text-sm",children:z})]},K)})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de dbut"}),u.jsx("input",{type:"time",id:"hours_start",value:((H=v.hours_of_day)==null?void 0:H.start)||"",onChange:z=>_({...v,hours_of_day:{...v.hours_of_day||{},start:z.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),u.jsx("input",{type:"time",id:"hours_end",value:((ae=v.hours_of_day)==null?void 0:ae.end)||"",onChange:z=>_({...v,hours_of_day:{...v.hours_of_day||{},end:z.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre maximum d'utilisations"}),u.jsx("input",{type:"number",id:"max_uses",value:v.max_uses_total||"",onChange:z=>_({...v,max_uses_total:parseInt(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses_per_customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum par client"}),u.jsx("input",{type:"number",id:"max_uses_per_customer",value:v.max_uses_per_customer||"",onChange:z=>_({...v,max_uses_per_customer:parseInt(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]})]}),l==="buy_x_get_y"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"buy_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantit  acheter"}),u.jsx("input",{type:"number",id:"buy_quantity",value:v.buy_quantity||"",onChange:z=>_({...v,buy_quantity:parseInt(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"get_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantit offerte"}),u.jsx("input",{type:"number",id:"get_quantity",value:v.get_quantity||"",onChange:z=>_({...v,get_quantity:parseInt(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"first_order_only",checked:v.first_order_only||!1,onChange:z=>_({...v,first_order_only:z.target.checked}),className:"h-4 w-4 text-brand-primary"}),u.jsx("label",{htmlFor:"first_order_only",className:"ml-2 text-sm text-gray-700",children:"Uniquement pour la premire commande"})]})]}),k==="discount"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de rduction"}),u.jsxs("select",{id:"discount_type",value:w.type,onChange:z=>j({...w,type:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur de la rduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"discount_value",value:w.value,onChange:z=>j({...w,value:parseFloat(z.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:(w.type==="percentage","0.01"),required:!0}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.type==="percentage"?"%":""})]})]})]}),w.type==="percentage"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_discount_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de la rduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"max_discount_amount",value:w.max_discount_amount||"",onChange:z=>j({...w,max_discount_amount:parseFloat(z.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"applies_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application de la rduction"}),u.jsxs("select",{id:"applies_to",value:w.applies_to,onChange:z=>j({...w,applies_to:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"total",children:"Total de la commande"}),u.jsx("option",{value:"products",children:"Produits spcifiques"}),u.jsx("option",{value:"shipping",children:"Frais de livraison"})]})]})]}),k==="visuals"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du badge"}),u.jsx("input",{type:"text",id:"badge_text",value:S.badge_text||"",onChange:z=>O({...S,badge_text:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 2x1, -20%, etc."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur du texte du badge"}),u.jsx("input",{type:"color",id:"badge_color",value:S.badge_color||"#FFFFFF",onChange:z=>O({...S,badge_color:z.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur de fond du badge"}),u.jsx("input",{type:"color",id:"badge_bg_color",value:S.badge_bg_color||"#F9A826",onChange:z=>O({...S,badge_bg_color:z.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de fond du badge (optionnel)"}),u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Si vous uploadez une image, elle remplacera la couleur de fond du badge"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"badge_bg_image",onChange:async z=>{var I;const K=(I=z.target.files)==null?void 0:I[0];if(K){q(!0);try{const Y=await Zc(K,{tags:["badge-background"]});O({...S,badge_bg_image:ua(Y)})}catch{T("Erreur lors du tlchargement de l'image du badge")}finally{q(!1)}}},className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Tlchargement...":"Choisir une image"})]}),S.badge_bg_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:S.badge_bg_image,alt:"Aperu de l'image de fond du badge",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>O({...S,badge_bg_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(la,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte de la bannire"}),u.jsx("input",{type:"text",id:"banner_text",value:S.banner_text||"",onChange:z=>O({...S,banner_text:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Offre spciale : 20% de rduction sur tous les tacos !"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de la bannire"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"banner_image",onChange:F,className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Tlchargement...":"Choisir une image"})]}),S.banner_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:S.banner_image,alt:"Aperu de la bannire",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>O({...S,banner_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(la,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_cta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du bouton d'appel  l'action"}),u.jsx("input",{type:"text",id:"banner_cta",value:S.banner_cta||"",onChange:z=>O({...S,banner_cta:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: En profiter maintenant"})]})]})]}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:N,children:"Annuler"}),u.jsx("button",{type:"submit",onClick:$,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary-dark flex items-center gap-2",disabled:N,children:N?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),u.jsx("span",{children:"Enregistrement..."})]}):u.jsx("span",{children:"Enregistrer"})})]})]})}):null},nne={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},rne={active:"Active",inactive:"Inactive",scheduled:"Programme",expired:"Expire"},ane={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},ine=({isOpen:e,onClose:t,promotion:n})=>{const[r,i]=b.useState([]),[s,l]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState("details");b.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{l(!0),f(null);try{const _=await Qte(n.id);i(_)}catch(_){f("Erreur lors du chargement des utilisations"),console.error(_)}finally{l(!1)}},v=_=>{const w=new Date(_);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Dtails de la promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(la,{size:24})})]}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${h==="details"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("details"),children:"Dtails"}),u.jsxs("button",{className:`px-4 py-3 font-medium ${h==="usages"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("usages"),children:["Utilisations (",n.usage_count,")"]})]}),u.jsxs("div",{className:"overflow-y-auto p-6",children:[h==="details"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:n.name}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ane[n.status]}`,children:rne[n.status]}),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:nne[n.type]})]})]}),u.jsx("div",{className:"mt-2 md:mt-0",children:u.jsxs("span",{className:"text-sm text-gray-500",children:["Priorit: ",n.priority]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(RU,{size:16,className:"mr-1"}),"Informations gnrales"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ID:"}),u.jsx("span",{className:"text-sm font-mono",children:n.id})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Cre le:"}),u.jsx("span",{className:"text-sm",children:v(n.created_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Mise  jour:"}),u.jsx("span",{className:"text-sm",children:v(n.updated_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations:"}),u.jsx("span",{className:"text-sm",children:n.usage_count})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(Ph,{size:16,className:"mr-1"}),"Rduction"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),u.jsx("span",{className:"text-sm",children:n.discount.type==="percentage"?"Pourcentage":"Montant fixe"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Valeur:"}),u.jsxs("span",{className:"text-sm font-medium",children:[n.discount.value,n.discount.type==="percentage"?"%":""]})]}),n.discount.max_discount_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.max_discount_amount,""]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Application:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.applies_to==="total"&&"Total de la commande",n.discount.applies_to==="products"&&"Produits spcifiques",n.discount.applies_to==="shipping"&&"Frais de livraison"]})]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(Y6,{size:16,className:"mr-1"}),"Conditions"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.conditions.promo_code&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Code promo:"}),u.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-0.5 rounded",children:n.conditions.promo_code})]}),n.conditions.min_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant minimum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.min_order_amount,""]})]}),n.conditions.max_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.max_order_amount,""]})]}),n.conditions.start_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de dbut:"}),u.jsx("span",{className:"text-sm",children:v(n.conditions.start_date)})]}),n.conditions.end_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de fin:"}),u.jsx("span",{className:"text-sm",children:v(n.conditions.end_date)})]}),n.conditions.days_of_week&&n.conditions.days_of_week.length>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Jours:"}),u.jsx("span",{className:"text-sm",children:n.conditions.days_of_week.map(_=>["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"][_]).join(", ")})]}),n.conditions.hours_of_day&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Heures:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.hours_of_day.start," - ",n.conditions.hours_of_day.end]})]}),n.conditions.max_uses_total&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations max:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_total})]}),n.conditions.max_uses_per_customer&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Max par client:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_per_customer})]}),n.conditions.first_order_only&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Premire commande:"}),u.jsx("span",{className:"text-sm",children:"Oui"})]}),n.type==="buy_x_get_y"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Achetez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.buy_quantity})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Obtenez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.get_quantity})]})]})]})]}),n.visuals&&Object.keys(n.visuals).length>0&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(Bf,{size:16,className:"mr-1"}),"lments visuels"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.visuals.badge_text&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Badge:"}),u.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:n.visuals.badge_color||"#F9A826",color:"#ffffff"},children:n.visuals.badge_text})]}),n.visuals.banner_text&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Texte bannire:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_text})]}),n.visuals.banner_cta&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Bouton:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_cta})]})]}),n.visuals.banner_image&&u.jsxs("div",{className:"mt-4",children:[u.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Image de bannire:"}),u.jsx("img",{src:n.visuals.banner_image,alt:"Bannire promotionnelle",className:"w-full h-auto max-h-40 object-cover rounded-lg"})]})]})]}),h==="usages"&&u.jsxs("div",{children:[d&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),s?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]}):r.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune utilisation enregistre pour cette promotion"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Commande"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Montant"})]})}),u.jsx("tbody",{children:r.map(_=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:v(_.applied_at)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("a",{href:"#",className:"text-brand-primary hover:underline flex items-center",onClick:w=>{w.preventDefault()},children:[_.order_id.substring(0,8),"...",u.jsx(_U,{size:14,className:"ml-1"})]})}),u.jsx("td",{className:"px-4 py-3",children:_.customer_phone||"-"}),u.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:[_.discount_amount.toFixed(2),""]})]},_.id))})]})})]})]}),u.jsx("div",{className:"flex justify-end p-6 border-t",children:u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fermer"})})]})}):null},sne=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmLabel:s="Confirmer",cancelLabel:l="Annuler",confirmButtonClass:d="bg-brand-primary hover:bg-brand-primary-dark"})=>e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(la,{size:24})})]}),u.jsx("div",{className:"p-6",children:u.jsx("p",{className:"text-gray-700",children:i})}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:l}),u.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-white rounded-md ${d}`,children:s})]})]})}):null,one={active:"Active",inactive:"Inactive",scheduled:"Programme",expired:"Expire"},lne={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},cne={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},une={percentage:u.jsx(Ph,{size:16}),fixed_amount:u.jsx(Bf,{size:16}),promo_code:u.jsx(Bf,{size:16}),buy_x_get_y:u.jsx(Zo,{size:16}),free_product:u.jsx(Zo,{size:16}),free_shipping:u.jsx(Zo,{size:16}),combo:u.jsx(Zo,{size:16}),threshold:u.jsx(jC,{size:16}),happy_hour:u.jsx(jl,{size:16})},dne=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(null),[l,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[v,_]=b.useState(!1),[w,j]=b.useState(null),[S,O]=b.useState(""),[N,A]=b.useState("all"),[C,T]=b.useState("all"),[k,M]=b.useState("priority"),[D,q]=b.useState("desc"),$=async()=>{r(!0),s(null);try{const R=await Kte();t(R)}catch(R){s("Erreur lors du chargement des promotions"),console.error(R)}finally{r(!1)}};b.useEffect(()=>{$()},[]);const F=()=>{j(null),d(!0)},H=R=>{j(R),h(!0)},ae=R=>{j(R),g(!0)},z=R=>{j(R),_(!0)},K=async R=>{try{const L=R.active?"inactive":"active",V=await Zte(R.id,L);t(e.map(X=>X.id===R.id?V:X))}catch(L){s("Erreur lors de la mise  jour du statut"),console.error(L)}},I=async()=>{if(w)try{await Vte(w.id),t(e.filter(R=>R.id!==w.id)),_(!1)}catch(R){s("Erreur lors de la suppression de la promotion"),console.error(R)}},Y=R=>{k===R?q(D==="asc"?"desc":"asc"):(M(R),q("desc"))},W=e.filter(R=>{const L=R.name.toLowerCase().includes(S.toLowerCase()),V=N==="all"||R.status===N,X=C==="all"||R.type===C;return L&&V&&X}).sort((R,L)=>{let V=0;switch(k){case"name":V=R.name.localeCompare(L.name);break;case"priority":V=R.priority-L.priority;break;case"created_at":V=new Date(R.created_at).getTime()-new Date(L.created_at).getTime();break;case"usage_count":V=R.usage_count-L.usage_count;break}return D==="asc"?V:-V}),ue=R=>k!==R?null:D==="asc"?u.jsx(jC,{size:16}):u.jsx(wC,{size:16}),re=R=>{const L=new Date(R);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(L)};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des promotions"}),u.jsxs("button",{onClick:F,className:"bg-brand-primary hover:bg-brand-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(vu,{size:20}),"Nouvelle promotion"]})]}),i&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Rechercher une promotion...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg",value:S,onChange:R=>O(R.target.value)}),u.jsx(ib,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:N,onChange:R=>A(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"active",children:"Actives"}),u.jsx("option",{value:"inactive",children:"Inactives"}),u.jsx("option",{value:"scheduled",children:"Programmes"}),u.jsx("option",{value:"expired",children:"Expires"})]}),u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:C,onChange:R=>T(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les types"}),u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"}),u.jsx("option",{value:"promo_code",children:"Code promo"}),u.jsx("option",{value:"buy_x_get_y",children:"2x1 / Achetez X, obtenez Y"}),u.jsx("option",{value:"free_product",children:"Produit gratuit"}),u.jsx("option",{value:"free_shipping",children:"Livraison gratuite"}),u.jsx("option",{value:"combo",children:"Combo"}),u.jsx("option",{value:"threshold",children:"Palier"}),u.jsx("option",{value:"happy_hour",children:"Happy hour"})]}),u.jsxs("button",{onClick:$,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(f$,{size:18}),u.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("name"),children:["Nom ",ue("name")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("priority"),children:["Priorit ",ue("priority")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("created_at"),children:["Cre le ",ue("created_at")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("usage_count"),children:["Utilisations ",ue("usage_count")]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),u.jsx("tbody",{children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center",children:u.jsxs("div",{className:"flex justify-center items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):W.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Aucune promotion trouve"})}):W.map(R=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsx("div",{className:"font-medium",children:R.name}),R.type==="promo_code"&&R.conditions.promo_code&&u.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",u.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:R.conditions.promo_code})]})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[une[R.type],u.jsx("span",{children:cne[R.type]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${lne[R.status]}`,children:one[R.status]})}),u.jsx("td",{className:"px-4 py-4",children:R.priority}),u.jsx("td",{className:"px-4 py-4",children:re(R.created_at)}),u.jsx("td",{className:"px-4 py-4",children:R.usage_count}),u.jsx("td",{className:"px-4 py-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>K(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:R.status==="active"?"Dsactiver":"Activer",children:R.status==="active"?u.jsx(jU,{size:18}):u.jsx(qy,{size:18})}),u.jsx("button",{onClick:()=>ae(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Voir les dtails",children:u.jsx(qy,{size:18})}),u.jsx("button",{onClick:()=>H(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Modifier",children:u.jsx(RC,{size:18})}),u.jsx("button",{onClick:()=>z(R),className:"p-1.5 rounded-md hover:bg-gray-100 text-red-500",title:"Supprimer",children:u.jsx(Hs,{size:18})})]})})]},R.id))})]})})]}),l&&u.jsx(SA,{isOpen:l,onClose:()=>d(!1),onSave:()=>{d(!1),$()}}),f&&w&&u.jsx(SA,{isOpen:f,onClose:()=>h(!1),onSave:()=>{h(!1),$()},promotion:w}),p&&w&&u.jsx(ine,{isOpen:p,onClose:()=>g(!1),promotion:w}),v&&w&&u.jsx(sne,{isOpen:v,onClose:()=>_(!1),onConfirm:I,title:"Supprimer la promotion",message:`tes-vous sr de vouloir supprimer la promotion "${w.name}" ? Cette action est irrversible.`,confirmLabel:"Supprimer",cancelLabel:"Annuler",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},fne=({promotion:e,className:t=""})=>{const n=e.config,r=n.visuals||{};let i=r.badge_text||"",s=r.description||e.description||"";i||(n.discount_type==="percentage"?(i=`-${n.discount_value}%`,s=s||`${n.discount_value}% de descuento`):n.discount_type==="fixed_amount"?(i=`-$${n.discount_value.toLocaleString()}`,s=s||`$${n.discount_value.toLocaleString()} de descuento`):n.buy_quantity&&n.get_quantity?(i=`${n.buy_quantity}x${n.get_quantity}`,s=s||`Compra ${n.buy_quantity}, lleva ${n.get_quantity}`):n.applies_to==="shipping"?(i="ENVO GRATIS",s=s||"Envo gratis en este producto"):(i="PROMO",s=s||e.name));const l=r.badge_color||"#FFFFFF",d=r.badge_bg_color||"#E63946",f=r.badge_position||"top-right",h={"top-left":"top-2 left-2","top-right":"top-2 right-2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"},p=r.badge_bg_image;return u.jsxs("div",{className:`absolute ${h[f]} z-10 px-3 py-1 rounded-full font-bold text-sm shadow-lg transform rotate-3 ${t}`,style:{backgroundColor:p?"transparent":d,backgroundImage:p?`url(${p})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:l,animation:"pulse 2s infinite",textShadow:p?"0 1px 3px rgba(0,0,0,0.8)":"none"},title:s,children:[i,u.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0% {
            transform: rotate(3deg) scale(1);
          }
          50% {
            transform: rotate(3deg) scale(1.05);
          }
          100% {
            transform: rotate(3deg) scale(1);
          }
        }
      `})]})},hne=e=>{const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{try{i(!0);const g=(await fm().catch(v=>(console.error("[useProductPromotions] Error fetching active promotions from API:",v),[]))).filter(v=>{if(!IC(v)||!ob(v))return!1;const _=v.config,w=v.conditions||[];return!_.product_ids&&!_.category_ids&&w.length===0?!1:_.product_ids&&_.product_ids.length>0&&_.product_ids.includes(e.id)||_.category_ids&&_.category_ids.length>0&&_.category_ids.includes(e.categoria_id)?!0:w.some(S=>S.type==="specific_product"&&Array.isArray(S.value)?S.value.includes(e.id):S.type==="specific_category"&&Array.isArray(S.value)?S.value.includes(e.categoria_id):!1)}).sort((v,_)=>(_.priority||0)-(v.priority||0));n(g)}catch(h){console.error("[useProductPromotions] Error during promotion processing:",h),l(h instanceof Error?h:new Error("Une erreur est survenue")),n([])}finally{i(!1)}})()},[e]);const d=t.length>0?t[0]:null;return{promotions:t,bestPromotion:d,loading:r,error:s}},mne=({product:e,onClick:t})=>{const{promotions:n,loading:r}=hne(e);return u.jsxs("div",{onClick:()=>e.estado==="disponible"&&t(),className:`relative border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${e.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[!r&&n.length>0&&e.estado==="disponible"&&u.jsx("div",{className:"absolute top-2 right-2 flex flex-col space-y-1 z-10",children:n.map((i,s)=>u.jsx(fne,{promotion:i},i.id||s))}),u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),u.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:e.nom_produit}),u.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:e.description}),u.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:Ee(e.prix_vente)}),e.estado!=="disponible"&&u.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]})},pne=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const f=await fm();t(f)}catch(f){console.error("Error loading promotions:",f)}finally{r(!1)}})()},[]);const i=e.filter(d=>{const f=d.config,h=d.conditions;return!(f.promo_code||h&&h.some(p=>p.type==="promo_code")||d.description&&/code|cdigo|promo code/i.test(d.description))});if(n||i.length===0)return null;const s=d=>{const f=d.config;return f.applies_to==="shipping"?u.jsx(P$,{size:20}):f.discount_type==="percentage"?u.jsx(Ph,{size:20}):f.hours_of_day?u.jsx(jl,{size:20}):f.buy_quantity?u.jsx(n2,{size:20}):u.jsx(Bf,{size:20})},l=d=>{const f=d.config,h=d.conditions;let p=d.description||d.name;const g=h.find(v=>v.type==="min_order_amount");return g&&(p+=` (Mnimo: $${g.value.toLocaleString()})`),f.hours_of_day&&(p+=` (${f.hours_of_day.start} - ${f.hours_of_day.end})`),f.promo_code&&(p+=` (Cdigo: ${f.promo_code})`),p};return u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[u.jsx(n2,{className:"mr-2",size:24}),"Promociones Activas"]}),u.jsx("div",{className:"space-y-2",children:i.map(d=>{var p,g;const f=d.config,h=((p=f.visuals)==null?void 0:p.badge_bg_color)||"#4CAF50";return u.jsxs("div",{className:"flex items-start p-4 rounded-lg shadow-md border-l-4 transition-transform hover:scale-[1.02]",style:{borderLeftColor:h,background:`linear-gradient(to right, ${h}15, white)`},children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:h,color:((g=f.visuals)==null?void 0:g.badge_color)||"#FFFFFF"},children:s(d)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-800",children:d.name}),u.jsx("p",{className:"text-sm text-gray-600",children:l(d)})]})]},d.id)})})]})},gne=({isOpen:e,order:t,whatsappNumber:n="573238090562"})=>{const r=ha();if(!e||!t)return null;const i=()=>{var v,_,w;const l=t.items.filter(j=>{var S;return!((S=j.nom_produit)!=null&&S.toLowerCase().includes("domicilio"))}).map(j=>`- ${j.quantite}x ${j.nom_produit} (${Ee(j.prix_unitaire)})`).join(`
`),d=`Total: ${Ee(t.total)}`,f=`Cliente: ${(v=t.clientInfo)==null?void 0:v.nom} (${(_=t.clientInfo)==null?void 0:_.telephone})
Direccin: ${(w=t.clientInfo)==null?void 0:w.adresse}`,h=`Mtodo de pago: ${t.payment_method==="transferencia"?"Transferencia":"Efectivo"}`,p=t.receipt_url?`Comprobante: ${t.receipt_url}`:"",g=`Pedido #${t.id.slice(-6)}`;return encodeURIComponent(`Hola! Aqu est mi pedido:

${g}

${l}

${d}

${f}
${h}
${p}`)},s=()=>{const l=i(),d=`https://wa.me/${n}?text=${l}`;window.open(d,"_blank"),r(`/suivi-commande/${t.id}`)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 text-white",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(zf,{size:64,className:"mb-3"}),u.jsx("h2",{className:"text-2xl font-bold text-center",children:"Pedido Confirmado!"}),u.jsxs("p",{className:"text-green-100 mt-2",children:["Pedido #",t.id.slice(-6)]})]})}),u.jsxs("div",{className:"p-6 text-center",children:[u.jsxs("p",{className:"text-gray-700 mb-6",children:["Total: ",u.jsx("span",{className:"font-bold text-2xl text-green-600",children:Ee(t.total)})]}),u.jsxs("button",{onClick:s,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg flex items-center justify-center gap-3 transition-all transform hover:scale-105 shadow-lg",children:[u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Enviar por WhatsApp"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Haz clic para enviar tu pedido por WhatsApp y ver el seguimiento"})]})]})})},Mf=8e3,f_="Domicilio",NA=e=>e.nom_produit===f_,vne=(e=!1)=>({id:`delivery-${Date.now()}`,produitRef:"delivery-fee",nom_produit:f_,prix_unitaire:e?0:Mf,quantite:1,excluded_ingredients:[],commentaire:"",estado:"en_attente"}),yne=({isOpen:e,onClose:t,selectedProduct:n,onAddToCart:r})=>{var _;const[i,s]=b.useState(1),[l,d]=b.useState(""),[f,h]=b.useState([]);if(b.useEffect(()=>{e&&(s((n==null?void 0:n.quantite)||1),d((n==null?void 0:n.commentaire)||""),h((n==null?void 0:n.excluded_ingredients)||[]))},[e,n]),!e||!n)return null;const p=()=>{const w=n.product;r({id:`oi${Date.now()}`,produitRef:w.id,nom_produit:w.nom_produit,prix_unitaire:w.prix_vente,quantite:i,commentaire:l.trim()||void 0,excluded_ingredients:f.length>0?f:void 0})},g=w=>{f.includes(w)?h(f.filter(j=>j!==w)):h([...f,w])},v=((_=n.product.ingredients)==null?void 0:_.split(",").map(w=>w.trim()).filter(Boolean))||[];return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n.product.nom_produit}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("img",{src:n.product.image,alt:n.product.nom_produit,className:"w-full h-48 object-cover rounded-lg mb-4"}),u.jsx("p",{className:"text-gray-600 mb-4",children:n.product.description}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"font-bold text-gray-800 mb-2",children:["Precio: ",Ee(n.product.prix_vente)]}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("button",{onClick:()=>s(Math.max(1,i-1)),className:"bg-gray-200 text-gray-700 rounded-l-lg px-3 py-1",children:"-"}),u.jsx("span",{className:"bg-gray-100 px-4 py-1",children:i}),u.jsx("button",{onClick:()=>s(i+1),className:"bg-gray-200 text-gray-700 rounded-r-lg px-3 py-1",children:"+"})]})]}),v.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"Ingredientes:"}),u.jsx("div",{className:"space-y-2",children:v.map((w,j)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`ingredient-${j}`,checked:!f.includes(w),onChange:()=>g(w),className:"mr-2"}),u.jsx("label",{htmlFor:`ingredient-${j}`,className:"text-gray-700",children:w})]},j))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"comment",className:"block font-bold text-gray-800 mb-2",children:"Comentarios adicionales:"}),u.jsx("textarea",{id:"comment",value:l,onChange:w=>d(w.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-gray-700",rows:3,placeholder:"Instrucciones especiales, alergias, etc."})]}),u.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg transform hover:scale-105",children:["Agregar al carrito - ",Ee(n.product.prix_vente*i)]})]})})})},bne=({onOrderSubmitted:e})=>{const{content:t}=xu(),[n,r]=b.useState([]),[i,s]=b.useState([]),[l,d]=b.useState(!0),[f,h]=b.useState(null),[p,g]=b.useState("all"),[v,_]=b.useState([]),[w,j]=b.useState(!1),[S,O]=b.useState(null),[N,A]=b.useState({nom:"",adresse:"",telephone:""}),[C,T]=b.useState("transferencia"),[k,M]=b.useState(null),[D,q]=b.useState(!1),[$,F]=b.useState(!1),[H,ae]=b.useState(null),[z,K]=b.useState([]),[I,Y]=b.useState(""),[W,ue]=b.useState(""),[re,R]=b.useState(""),[L,V]=b.useState(0),[X,te]=b.useState(!1),[fe,pe]=b.useState(8e4),[ke,ie]=b.useState("pedir_en_linea");b.useEffect(()=>{(async()=>{try{const[Xe,Ge]=await Promise.all([xe.getProducts(),xe.getCategories()]);r(Xe),s(Ge);const ut=il();if(ut)try{const kt=await xe.getOrderById(ut);kt&&K([kt])}catch(kt){console.error("Error fetching active order:",kt)}}catch(Xe){console.error("Error fetching data:",Xe),h("Error al cargar los datos. Por favor, intenta de nuevo ms tarde.")}finally{d(!1)}})()},[]);const je=b.useMemo(()=>p==="all"?n:n.filter(ge=>ge.categoria_id===p),[n,p]),Pe=b.useMemo(()=>{const ge=v.reduce((kt,Ye)=>kt+Ye.quantite*Ye.prix_unitaire,0);if(v.length===0)return te(!1),ge;const Xe=ge>=fe;te(Xe);const ut=ge+(Xe?0:Mf);return Math.max(0,ut-L)},[v,L,fe]),ce=ge=>{O({product:ge}),j(!0)},At=ge=>{let Xe=[...v];if(ge.commentaire)Xe.push({...ge,id:`oi${Date.now()}`});else{const Ge=Xe.findIndex(ut=>ut.produitRef===ge.produitRef&&!ut.commentaire);Ge>-1?Xe[Ge].quantite+=ge.quantite:Xe.push(ge)}_(Xe),j(!1)},Le=(ge,Xe)=>{const Ge=v.findIndex(Ye=>Ye.id===ge);if(Ge===-1)return;let ut=[...v];const kt=ut[Ge].quantite+Xe;kt<=0?ut.splice(Ge,1):ut[Ge].quantite=kt,_(ut)},Ct=async()=>{R("");try{const ge={id:"temp-order",items:v.filter(Ge=>!NA(Ge)),clientInfo:N,total:v.reduce((Ge,ut)=>Ge+ut.quantite*ut.prix_unitaire,0),promo_code:I,applied_promotions:[],subtotal:0,total_discount:0},Xe=await Jte(ge);Xe.total_discount>0?(ue(I),V(Xe.total_discount),R("")):R("Cdigo de promocin invlido o no aplicable.")}catch(ge){console.error("Error applying promo code:",ge),R("Error al aplicar el cdigo de promocin")}},Tt=()=>{Y(""),ue(""),V(0),R("")},Ht=async ge=>{ge.preventDefault();const Xe=ke==="pedir_en_linea";if(!(!N.nom||!N.telephone||Xe&&!N.adresse||!k||!C)){q(!0);try{let Ge;k&&(Ge=await pC(k,{customerReference:N.telephone||N.nom}));const ut=ke==="pedir_en_linea"&&v.length>0?[...v,vne(X)]:v,kt={type:ke,items:ut,clientInfo:N,receipt_url:Ge,payment_method:C,promo_code:W},Ye=await xe.submitCustomerOrder(kt);ae(Ye),F(!0),_([]),A({nom:"",adresse:"",telephone:""}),M(null),T("transferencia"),FA(Ye.id),e&&e(Ye)}catch(Ge){alert("Ocurri un error al enviar el pedido o subir el comprobante."),console.error(Ge)}finally{q(!1)}}},Xn=ge=>{const Xe=Date.now(),Ge=[],ut=ge.items.reduce((kt,Ye,Dr)=>{if(NA(Ye))return kt;const pa=n.find(de=>de.id===Ye.produitRef);if(!pa)return Ge.push(Ye.nom_produit||Ye.produitRef),kt;const ni={...Ye,id:`oi-${Xe}-${Dr}`,prix_unitaire:pa.prix_vente};return[...kt,ni]},[]);Ge.length>0&&alert(`Algunos productos no estn disponibles: ${Ge.join(", ")}. Se han omitido del pedido.`),_(ut),K([])};return u.jsxs("div",{className:"flex flex-col lg:flex-row",children:[u.jsxs("div",{className:"flex-1 p-4 lg:p-8",children:[z.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg max-w-md",children:[u.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Pedido anterior:"}),z.map(ge=>{const Xe=ge.created_at?new Date(ge.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"Fecha no disponible";return u.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded shadow-sm",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs text-gray-500",children:Xe}),u.jsx("p",{className:"text-sm font-bold text-blue-600",children:Ee(ge.total)})]}),u.jsxs("button",{onClick:()=>Xn(ge),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:[u.jsx(PU,{size:14,className:"mr-1"}),"Reordenar"]})]},ge.id)})]}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Realizar Pedido"}),u.jsx(pne,{}),u.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>g("all"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${p==="all"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:"Todos"}),i.map(ge=>u.jsx("button",{onClick:()=>g(ge.id),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${p===ge.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:ge.nom},ge.id))]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:je.map(ge=>u.jsx(mne,{product:ge,onClick:()=>ce(ge)},ge.id))})]}),u.jsxs("div",{className:"lg:w-96 bg-white p-4 lg:p-6 shadow-lg flex flex-col",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Mi Carrito"}),v.length===0?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[u.jsx(PC,{size:48,className:"mb-3"}),u.jsx("p",{children:"Tu carrito est vaco."})]}):u.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[v.map(ge=>u.jsxs("div",{className:"flex items-start justify-between py-4 border-b border-gray-200 last:border-b-0 bg-white rounded-lg px-3 mb-2 shadow-sm",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-lg text-gray-900 mb-1",children:ge.nom_produit}),ge.commentaire&&u.jsxs("p",{className:"text-sm text-gray-600 italic mb-1 bg-yellow-50 p-2 rounded border-l-2 border-yellow-400",children:[" ",ge.commentaire]}),ge.excluded_ingredients&&ge.excluded_ingredients.length>0&&u.jsxs("p",{className:"text-sm text-red-600 mb-1 bg-red-50 p-2 rounded border-l-2 border-red-400",children:[" Sin: ",ge.excluded_ingredients.join(", ")]}),u.jsx("p",{className:"text-base font-semibold text-brand-primary mt-2",children:Ee(ge.prix_unitaire)})]}),u.jsxs("div",{className:"flex flex-col items-center ml-4",children:[u.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1",children:[u.jsx("button",{onClick:()=>Le(ge.id,-1),className:"text-brand-primary hover:text-brand-primary-dark p-2 hover:bg-gray-200 rounded-full transition",children:u.jsx(CC,{size:18})}),u.jsx("span",{className:"mx-3 text-gray-900 font-bold text-lg min-w-[24px] text-center",children:ge.quantite}),u.jsx("button",{onClick:()=>Le(ge.id,1),className:"text-brand-primary hover:text-brand-primary-dark p-2 hover:bg-gray-200 rounded-full transition",children:u.jsx(vu,{size:18})})]}),u.jsx("p",{className:"text-sm font-semibold text-gray-700 mt-2",children:Ee(ge.prix_unitaire*ge.quantite)})]})]},ge.id)),v.length>0&&u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[u.jsx("p",{className:"font-medium text-gray-800",children:f_}),X?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-400 line-through",children:Ee(Mf)}),u.jsx("p",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("p",{className:"text-sm text-gray-600",children:Ee(Mf)})]})]}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"promoCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo de Promocin:"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",id:"promoCode",value:I,onChange:ge=>Y(ge.target.value.toUpperCase()),placeholder:"Ingresa tu cdigo",className:"flex-1 border border-gray-300 rounded-md shadow-sm p-2 uppercase"}),u.jsx("button",{type:"button",onClick:Ct,disabled:!I.trim()||W===I,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Aplicar"})]}),W&&u.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-green-700 font-medium",children:[' Cdigo "',W,'" aplicado']}),u.jsx("button",{type:"button",onClick:Tt,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]}),re&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:re})]}),L>0&&u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-sm text-green-600",children:"Descuento por promocin:"}),u.jsxs("p",{className:"text-sm font-bold text-green-600",children:["- ",Ee(L)]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Total:"}),u.jsx("p",{className:"text-xl font-bold text-brand-primary",children:Ee(Pe)})]}),u.jsxs("form",{onSubmit:Ht,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de pedido:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${ke==="pedir_en_linea"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"orderType",value:"pedir_en_linea",checked:ke==="pedir_en_linea",onChange:()=>ie("pedir_en_linea"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:" Domicilio (con entrega)"})]}),u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${ke==="a_emporter"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"orderType",value:"a_emporter",checked:ke==="a_emporter",onChange:()=>ie("a_emporter"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:" Para llevar (recoger en tienda)"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:["Nombre: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientName",value:N.nom,onChange:ge=>A({...N,nom:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ingresa tu nombre completo"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientPhone",className:"block text-sm font-medium text-gray-700",children:["Telfono: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",id:"clientPhone",value:N.telephone,onChange:ge=>A({...N,telephone:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ej: 3001234567"})]}),ke==="pedir_en_linea"&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:["Direccin: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientAddress",value:N.adresse,onChange:ge=>A({...N,adresse:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Calle, nmero, barrio, ciudad"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pago:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center p-3 border-2 border-brand-primary rounded-lg cursor-pointer hover:bg-brand-primary/5 transition",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"transferencia",checked:C==="transferencia",onChange:()=>T("transferencia"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"Transferencia"})]}),u.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-300 rounded-lg opacity-50 cursor-not-allowed bg-gray-100",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"efectivo",disabled:!0,className:"form-radio"}),u.jsxs("span",{className:"ml-3 text-gray-500",children:["Efectivo ",u.jsx("span",{className:"text-xs",children:"(no disponible por el momento)"})]})]})]}),u.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-blue-800",children:[u.jsx("span",{className:"font-bold",children:"Nequi / BRE-B:"})," 3238090562"]})})]}),C==="transferencia"&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"paymentProof",className:"block text-sm font-medium text-gray-700 mb-2",children:["Comprobante de Pago: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"file",id:"paymentProof",accept:"image/*",onChange:ge=>M(ge.target.files?ge.target.files[0]:null),className:`mt-1 block w-full text-sm text-gray-800 font-medium
                                        file:mr-4 file:py-3 file:px-6 
                                        file:rounded-lg file:border-2 file:border-brand-primary
                                        file:text-sm file:font-bold 
                                        file:bg-brand-primary file:text-white 
                                        hover:file:bg-brand-primary-dark hover:file:shadow-lg
                                        file:transition-all file:cursor-pointer
                                        border-2 border-gray-300 rounded-lg p-2`,required:!0}),!k&&u.jsx("p",{className:"mt-2 text-xs text-red-600 font-medium",children:"* El comprobante de pago es obligatorio para confirmar tu pedido"})]}),u.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed shadow-md",disabled:D||v.length===0||C==="transferencia"&&!k,children:D?"Enviando...":"Confirmar Pedido"}),C==="transferencia"&&!k&&v.length>0&&u.jsx("p",{className:"text-center text-sm text-red-600 font-medium mt-2",children:"Debes subir el comprobante de pago para confirmar tu pedido"})]})]})]}),u.jsx(yne,{isOpen:w,onClose:()=>j(!1),selectedProduct:S,onAddToCart:At}),u.jsx(gne,{isOpen:$,order:H,whatsappNumber:(t==null?void 0:t.whatsappNumber)||"573238090562"})]})},xne=()=>{const e=ha(),[t,n]=b.useState(()=>{const d=il();return d?d.orderId:null}),{content:r}=xu(),i=d=>{n(d.id)},s=()=>{W0(),n(null)},l=r?hb(r.hero.style,r.hero.backgroundImage):{};return u.jsxs("div",{className:"min-h-screen",style:l,children:[u.jsx("header",{className:"bg-white/90 backdrop-blur shadow-md p-4 sticky top-0 z-40",children:u.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[(r==null?void 0:r.navigation.brandLogo)&&u.jsx("img",{src:r.navigation.brandLogo,alt:`Logo ${r.navigation.brand}`,className:"h-10 w-10 rounded-full object-cover"}),u.jsx("span",{className:"text-2xl font-bold text-gray-800",children:(r==null?void 0:r.navigation.brand)||"OUIOUITACOS"})]}),u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition",children:[u.jsx(xC,{size:16})," Volver al inicio"]})]})}),t?u.jsx(aT,{orderId:t,onNewOrderClick:s,variant:"page"}):u.jsx(bne,{onOrderSubmitted:i})]})},_ne=()=>u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[u.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),u.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouve"}),u.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Dsol, la page que vous recherchez n'existe pas."}),u.jsx(Y0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour  l'accueil"})]}),wne=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(null),[l,d]=b.useState({startDate:"",endDate:"",paymentMethod:"all"});b.useEffect(()=>{(async()=>{try{const _=await xe.getFinalizedOrders();t([..._].sort((w,j)=>j.date_creation-w.date_creation))}catch(_){console.error("Failed to fetch finalized orders",_)}finally{r(!1)}})()},[]);const f=b.useMemo(()=>e.filter(v=>{const _=new Date(v.date_creation),w=l.startDate?new Date(l.startDate):null,j=l.endDate?new Date(l.endDate):null;w&&w.setHours(0,0,0,0),j&&j.setHours(23,59,59,999);const S=w?_>=w:!0,O=j?_<=j:!0,N=l.paymentMethod==="all"||v.payment_method===l.paymentMethod;return S&&O&&N}),[e,l]),h=v=>{d({...l,[v.target.name]:v.target.value})},p=()=>{const w=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Mtodo de pago"].join(","),...f.map(N=>{var A;return[new Date(N.date_creation).toLocaleString("es-CO"),N.type==="sur_place"?"En el local":"Para llevar",`"${N.type==="sur_place"?N.table_nom||"N/A":((A=N.clientInfo)==null?void 0:A.nom)||"N/A"}"`,N.couverts,Ee(N.total),Ee(N.profit||0),N.payment_method||"N/A"].join(",")})].join(`
`),j=new Blob([`\uFEFF${w}`],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(j),O=document.createElement("a");O.href=S,O.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(S)},g=b.useMemo(()=>f.reduce((v,_)=>(v.totalSales+=_.total,v.totalProfit+=_.profit||0,v),{totalSales:0,totalProfit:0}),[f]);return n?u.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),u.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),u.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mtodo de pago"}),u.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[u.jsx("option",{value:"all",children:"Todas"}),u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),u.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[u.jsx(yU,{size:18})," Export CSV"]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),u.jsx("tbody",{children:f.map(v=>{var _;return u.jsxs(Vn.Fragment,{children:[u.jsxs("tr",{onClick:()=>s(i===v.id?null:v.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[u.jsx("td",{className:"p-3",children:i===v.id?u.jsx(wC,{size:16}):u.jsx(rU,{size:16})}),u.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(v.date_creation).toLocaleString("es-CO")}),u.jsx("td",{className:"p-3 text-sm",children:v.type==="sur_place"?u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(sb,{size:12})," En el local"]}):u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[u.jsx(kC,{size:12})," Para llevar"]})}),u.jsx("td",{className:"p-3 font-semibold text-gray-900",children:v.type==="sur_place"?v.table_nom||"N/A":((_=v.clientInfo)==null?void 0:_.nom)||"N/A"}),u.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:Ee(v.total)}),u.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:Ee(v.profit||0)}),u.jsx("td",{className:"p-3 text-gray-700 capitalize",children:v.payment_method||"N/A"})]}),i===v.id&&u.jsx("tr",{className:"bg-gray-50",children:u.jsx("td",{colSpan:7,className:"p-4",children:u.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[u.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artculos:"}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:v.items.map(w=>u.jsxs("li",{children:[w.quantite,"x ",w.nom_produit," - ",u.jsx("span",{className:"font-semibold",children:Ee(w.prix_unitaire*w.quantite)})]},w.id))})]})})})]},v.id)})}),u.jsx("tfoot",{className:"border-t-2 border-gray-300",children:u.jsxs("tr",{className:"font-bold text-gray-900",children:[u.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),u.jsx("td",{className:"p-3 text-right",children:Ee(g.totalSales)}),u.jsx("td",{className:"p-3 text-right text-green-700",children:Ee(g.totalProfit)}),u.jsx("td",{})]})})]})}),f.length===0&&u.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningn pedido finalizado coincide con tus filtros."})]})]})},jf="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:border-brand-primary/50 hover:text-brand-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary disabled:opacity-50",jne=({id:e,value:t,fallback:n,onChange:r,className:i,placeholder:s})=>{const l=b.useRef(null),[d,f]=b.useState(()=>((t==null?void 0:t.plainText)??n).trim().length===0),h=()=>{const N=l.current;if(!N){f(!0);return}const A=N.textContent??"";f(A.trim().length===0)};b.useEffect(()=>{const N=l.current;if(N){if(t&&typeof t.html=="string"){N.innerHTML!==t.html&&(N.innerHTML=t.html),h();return}N.textContent!==n&&(N.textContent=n,h())}},[t,n]);const p=()=>{const N=l.current;if(!N){r(null),f(!0);return}const A=N.innerHTML,C=N.innerText,T=lb({html:A,plainText:C});r(T),h()},g=N=>{var A;document.execCommand("styleWithCSS",!1,"false"),document.execCommand(N),(A=l.current)==null||A.focus(),p()},v=N=>{var C;const A=N.target.value;document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,A),(C=l.current)==null||C.focus(),p()},_=()=>{var N;document.execCommand("removeFormat"),document.execCommand("unlink"),(N=l.current)==null||N.focus(),p()},w=()=>{p()},j=()=>{p()},S=N=>{N.preventDefault();const A=N.clipboardData.getData("text/plain");document.execCommand("insertText",!1,A),p()},O=N=>{if((N.metaKey||N.ctrlKey)&&N.key.toLowerCase()==="b"){N.preventDefault(),g("bold");return}if((N.metaKey||N.ctrlKey)&&N.key.toLowerCase()==="i"){N.preventDefault(),g("italic");return}(N.metaKey||N.ctrlKey)&&N.key.toLowerCase()==="x"&&N.shiftKey&&(N.preventDefault(),g("strikeThrough"))};return u.jsxs("div",{className:`space-y-2 ${i??""}`,children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:jf,onClick:()=>g("bold"),"aria-label":"Mettre en gras",children:u.jsx(H6,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:jf,onClick:()=>g("italic"),"aria-label":"Mettre en italique",children:u.jsx(IU,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:jf,onClick:()=>g("strikeThrough"),"aria-label":"Barrer",children:u.jsx(O$,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[u.jsx(t$,{className:"h-4 w-4","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Choisir une couleur"}),u.jsx("input",{type:"color",className:"h-8 w-8 cursor-pointer rounded-full border border-slate-200",onChange:v,"aria-label":"Slectionner une couleur de texte"})]}),u.jsx("button",{type:"button",className:jf,onClick:_,"aria-label":"Supprimer la mise en forme",children:u.jsx(la,{className:"h-4 w-4","aria-hidden":"true"})})]}),u.jsxs("div",{className:"relative",children:[s&&d&&u.jsx("div",{className:"pointer-events-none absolute left-4 top-3 text-sm text-slate-400",children:s}),u.jsx("div",{id:e,ref:l,className:"ui-textarea w-full min-h-[120px] whitespace-pre-wrap break-words px-4 py-3",contentEditable:!0,role:"textbox","aria-multiline":"true",suppressContentEditableWarning:!0,onInput:w,onBlur:j,onKeyDown:O,onPaste:S})]})]})},Sne=["Inter","Poppins","Roboto","Montserrat","Playfair Display","Lora","Open Sans","Georgia, serif","Arial, sans-serif"],Nne=["14px","16px","18px","20px","24px","clamp(1rem, 2vw, 1.5rem)"],GR=["#0f172a","#111827","#f8fafc","#ffffff","#e2e8f0","#f97316","transparent","currentColor"],Ene=new Set(G$),One=new Set(["navigation.style.background","hero.style.background","about.style.background","menu.style.background","findUs.style.background","footer.style.background"]),Ane=new Set(["hero.backgroundImage","about.image","menu.image","navigation.brandLogo","navigation.staffLogo"]),Cne={"navigation.brand":"Nom de la marque","navigation.brandLogo":"Logo principal","navigation.staffLogo":"Logo d'accs quipe","navigation.links.home":"Lien Accueil","navigation.links.about":"Lien  propos","navigation.links.menu":"Lien Menu","navigation.links.contact":"Lien Contact","navigation.links.loginCta":"Bouton d'accs staff","navigation.style.background":"Fond de la navigation","hero.title":"Titre du hero","hero.subtitle":"Sous-titre du hero","hero.ctaLabel":"Bouton principal du hero","hero.historyTitle":"Titre de l'historique","hero.reorderCtaLabel":"Bouton de rassort","hero.backgroundImage":"Image du hero","hero.style.background":"Fond du hero","about.title":"Titre  propos","about.description":"Texte  propos","about.image":"Image  propos","about.style.background":"Fond  propos","menu.title":"Titre du menu","menu.ctaLabel":"Bouton du menu","menu.loadingLabel":"Texte de chargement du menu","menu.image":"Image du menu","menu.style.background":"Fond du menu","findUs.title":"Titre Encuntranos","findUs.addressLabel":"Libell de l'adresse (Encuntranos)","findUs.address":"Adresse (Encuntranos)","findUs.cityLabel":"Libell de contact","findUs.city":"Email (Encuntranos)","findUs.hoursLabel":"Libell des horaires","findUs.hours":"Horaires","findUs.mapLabel":"Libell du lien carte","findUs.style.background":"Fond Encuntranos","footer.text":"Texte du pied de page","footer.style.background":"Fond du pied de page"},Tne={...Cne},kne=[{id:"preview",label:"Aperu"},{id:"custom",label:"Personnalisation"}],Pne=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,hm=e=>{var i;const{type:t,name:n}=e;if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t.includes("font"))return"font";const r=(i=n.split(".").pop())==null?void 0:i.toLowerCase();return r&&["ttf","otf","woff","woff2"].includes(r)?"font":"raw"},Sf=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),YR=(e,t,n)=>{const r=t.split("."),i=r.pop();if(!i)return;let s=e;r.forEach(l=>{if(s&&typeof s=="object"){const d=s[l];d&&typeof d=="object"?s[l]=Array.isArray(d)?[...d]:{...d}:s[l]={},s=s[l]}}),s&&typeof s=="object"&&(s[i]=n)},Mne=(e,t,n)=>{const r={};n.fontFamily&&n.fontFamily.trim().length>0&&(r.fontFamily=n.fontFamily.trim()),n.fontSize&&n.fontSize.trim().length>0&&(r.fontSize=n.fontSize.trim()),n.textColor&&n.textColor.trim().length>0&&(r.textColor=n.textColor.trim()),n.backgroundColor&&n.backgroundColor.trim().length>0&&(r.backgroundColor=n.backgroundColor.trim());const i={...e.elementStyles};Object.keys(r).length===0?delete i[t]:i[t]=r,e.elementStyles=i},Rne=(e,t,n)=>{const r={...e.elementRichText};n&&n.html.trim().length>0?r[t]=n:delete r[t],e.elementRichText=r},Dne=(e,t,n)=>{const r=Ba(t),i={...e[r]},s={...i.style,background:{...n}};i.style=s,e[r]=i},Ine=(e,t)=>{var s;const n=((s=e.assets)==null?void 0:s.library)??[],r=n.findIndex(l=>l.url===t.url||l.id===t.id),i=r>=0?n.map((l,d)=>d===r?t:l):[...n,t];e.assets={...e.assets,library:i}},VR=(e,t)=>{const n=t.split(".");let r=e;for(const i of n){if(!r||typeof r!="object")return"";r=r[i]}return typeof r=="string"?r:""},Lne=(e,t)=>{const n=VR(e,t);return n.trim().length>0?n:null},Une=(e,t)=>e.elementStyles[t]??{},$ne=(e,t)=>e.elementRichText[t]??null,zne=(e,t)=>{const n=Ba(t);return e[n].style.background},h_=(e,t)=>{const n=e.name.replace(/\.[^/.]+$/,"").trim()||"media",r=hm(e),i=r==="font"?fb(n):n;return{id:Pne(),name:i,url:t,format:e.type||"application/octet-stream",bytes:e.size,type:r,createdAt:new Date().toISOString()}},EA='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',Bne=typeof window<"u"?b.useLayoutEffect:b.useEffect,OA=e=>typeof window<"u"&&window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),qne=e=>{if(!e)return null;const{x:t,y:n,top:r,left:i,bottom:s,right:l,width:d,height:f}=e;return{x:t,y:n,top:r,left:i,bottom:s,right:l,width:d,height:f}},m_=({title:e,onClose:t,children:n,footer:r,anchor:i,elementId:s})=>{const l=b.useId(),d=b.useRef(null),[f,h]=b.useState({top:0,left:0}),[p,g]=b.useState("top"),[v,_]=b.useState(!1),[w,j]=b.useState(!1),[S,O]=b.useState(null);b.useEffect(()=>{_(!0)},[]);const N=b.useCallback(()=>{if(typeof window>"u")return;const C=d.current;if(!C)return;const T=`[data-element-id="${OA(s)}"]`,k=document.querySelector(T),M=(k==null?void 0:k.getBoundingClientRect())??i,{width:D,height:q}=C.getBoundingClientRect(),$=document.documentElement.clientWidth,F=window.innerHeight,H=16,ae=12;if(!M){const R=Math.max(H,($-D)/2),L=Math.max(H,(F-q)/2);h({top:L,left:R}),g("top"),j(!0),O(null);return}let z=M.top-q-ae,K="top";if(z<H&&(z=M.bottom+ae,K="bottom"),z+q>F-H){const R=M.top-H,L=F-M.bottom-H;R>L?(z=Math.max(H,M.top-q-ae),K="top"):(z=Math.min(F-q-H,M.bottom+ae),K="bottom")}const I=M.left+M.width/2-D/2,Y=$-D-H,W=Math.max(H,Math.min(I,Y));h({top:z,left:W}),g(K),j(!0);const ue=Math.max(W+12,Math.min(M.left+M.width/2,W+D-12)),re=K==="top"?z+q-6:z-6;O({top:re,left:ue-6})},[i,s]);if(Bne(()=>{v&&N()},[N,v]),b.useEffect(()=>{if(!v)return;const C=()=>N();window.addEventListener("scroll",C,!0),window.addEventListener("resize",C);const T=`[data-element-id="${OA(s)}"]`,k=document.querySelector(T),M=[];if(typeof ResizeObserver<"u"){const D=new ResizeObserver(()=>N());k&&D.observe(k);const q=d.current;q&&D.observe(q),M.push(D)}return()=>{window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",C),M.forEach(D=>D.disconnect())}},[N,s,v]),b.useEffect(()=>{if(!v)return;const C=T=>{if(T.key==="Escape"){T.preventDefault(),t();return}if(T.key==="Tab"){const k=d.current;if(!k)return;const M=Array.from(k.querySelectorAll(EA)).filter($=>$.tabIndex!==-1&&!$.hasAttribute("disabled")&&!$.getAttribute("aria-hidden"));if(M.length===0){T.preventDefault(),k.focus();return}const D=M[0],q=M[M.length-1];if(T.shiftKey){(document.activeElement===D||!k.contains(document.activeElement))&&(T.preventDefault(),q.focus());return}document.activeElement===q&&(T.preventDefault(),D.focus())}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[t,v]),b.useEffect(()=>{if(!v)return;const C=T=>{const k=d.current;k&&(k.contains(T.target)||t())};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[t,v]),b.useEffect(()=>{if(!v)return;const C=d.current;if(!C)return;(C.querySelectorAll(EA)[0]??C).focus({preventScroll:!0})},[v]),typeof document>"u"||!v)return null;const A=u.jsxs("div",{className:"fixed inset-0 z-[60] pointer-events-none",children:[u.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-labelledby":l,tabIndex:-1,className:"pointer-events-auto flex w-[min(90vw,32rem)] flex-col overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200",style:{position:"absolute",top:f.top,left:f.left,opacity:w?1:0},children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[u.jsx("h2",{id:l,className:"text-lg font-semibold text-slate-900",children:e}),u.jsxs("button",{type:"button",onClick:t,className:"rounded-full p-1 text-slate-500 transition hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary",children:[u.jsx(la,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Fermer"})]})]}),u.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5",children:n}),u.jsx("div",{className:"flex items-center justify-end gap-3 border-t border-slate-200 bg-slate-50 px-6 py-4",children:r})]}),S?u.jsx("span",{"aria-hidden":"true",className:`pointer-events-none absolute h-3 w-3 rotate-45 rounded-sm bg-white shadow-[0_0_0_1px_rgba(148,163,184,0.35)] ${p==="top"?"translate-y-[-4px]":"translate-y-[4px]"}`,style:{top:S.top,left:S.left,opacity:w?1:0}}):null]});return V0.createPortal(A,document.body)},Hne=({element:e,label:t,draft:n,onApply:r,onClose:i,fontOptions:s,onAssetAdded:l,anchor:d})=>{const f=`${e.replace(/\./g,"-")}-text-form`,h=VR(n,e),p=$ne(n,e),g=Une(n,e),[v,_]=b.useState(h),[w,j]=b.useState(p),[S,O]=b.useState(g.fontFamily??""),[N,A]=b.useState(g.fontSize??""),[C,T]=b.useState(g.textColor??""),[k,M]=b.useState(g.backgroundColor??""),[D,q]=b.useState(null),[$,F]=b.useState(!1);b.useEffect(()=>{_(h),j(p),O(g.fontFamily??""),A(g.fontSize??""),T(g.textColor??""),M(g.backgroundColor??"")},[h,p,g.fontFamily,g.fontSize,g.textColor,g.backgroundColor]);const H=K=>{K.preventDefault();const I=v;r(Y=>(YR(Y,e,I),Rne(Y,e,w),Mne(Y,e,{fontFamily:S,fontSize:N,textColor:C,backgroundColor:k}),Y)),i()},ae=async K=>{var Y;const I=(Y=K.target.files)==null?void 0:Y[0];if(I){q(null),F(!0);try{const W=await Zc(I,{tags:[hm(I)]}),ue=h_(I,W);l(ue),O(ue.name)}catch(W){q(W instanceof Error?W.message:"Impossible de tlverser la police. Ressayez plus tard.")}finally{F(!1),K.target.value=""}}},z=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:f,className:"ui-btn-primary",children:"Enregistrer"})]});return u.jsx(m_,{title:`Personnaliser ${t}`,onClose:i,footer:z,anchor:d,elementId:e,children:u.jsxs("form",{id:f,onSubmit:H,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-plain`,className:"block text-sm font-medium text-slate-700",children:"Texte de base"}),u.jsx("textarea",{id:`${f}-plain`,className:"ui-textarea mt-2 w-full",value:v,onChange:K=>{_(K.target.value),j(null)},rows:3})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Mise en forme avance"}),u.jsx(jne,{id:`${f}-rich`,value:w,fallback:v,onChange:K=>{j(K),K&&_(K.plainText)},className:"mt-2",placeholder:"Saisissez votre texte..."}),u.jsx("button",{type:"button",className:"mt-2 text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>j(null),children:"Supprimer la mise en forme personnalise"})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-font`,className:"block text-sm font-medium text-slate-700",children:"Police"}),u.jsx("input",{id:`${f}-font`,className:"ui-input mt-2 w-full",value:S,onChange:K=>O(K.target.value),list:`${f}-font-options`,placeholder:"Ex: Poppins"}),u.jsx("datalist",{id:`${f}-font-options`,children:s.map(K=>u.jsx("option",{value:K},K))}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:".woff,.woff2,.ttf,.otf",className:"absolute inset-0 cursor-pointer opacity-0",onChange:ae,disabled:$}),u.jsx(yu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une police"]}),$&&u.jsx(tu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"})]}),D&&u.jsx("p",{className:"mt-2 text-sm text-amber-600",children:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-size`,className:"block text-sm font-medium text-slate-700",children:"Taille du texte"}),u.jsx("input",{id:`${f}-size`,className:"ui-input mt-2 w-full",value:N,onChange:K=>A(K.target.value),list:`${f}-size-options`,placeholder:"Ex: 18px"}),u.jsx("datalist",{id:`${f}-size-options`,children:Nne.map(K=>u.jsx("option",{value:K},K))})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-text-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur du texte"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-text-color`,className:"ui-input w-full",value:C,onChange:K=>T(K.target.value),placeholder:"Ex: #0f172a"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:C||"#000000",onChange:K=>T(K.target.value),"aria-label":"Choisir la couleur du texte"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:GR.map(K=>u.jsx("button",{type:"button",onClick:()=>T(K),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:K==="transparent"?"#ffffff":K},title:K},K))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-bg-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur de fond"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-bg-color`,className:"ui-input w-full",value:k,onChange:K=>M(K.target.value),placeholder:"Ex: rgba(255,255,255,0.8)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:k||"#ffffff",onChange:K=>M(K.target.value),"aria-label":"Choisir la couleur d'arrire-plan"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Laissez un champ vide pour hriter du style par dfaut."}),u.jsx("button",{type:"button",className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>{O(""),A(""),T(""),M("")},children:"Rinitialiser le style"})]})]})})},Fne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:s,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-image-form`,f=Lne(n,e)??"",[h,p]=b.useState(f),[g,v]=b.useState(null),[_,w]=b.useState(!1);b.useEffect(()=>{p(f)},[f]);const j=A=>{A.preventDefault();const C=h.trim(),T=ua(C)??(C.length>0?C:null);r(k=>(YR(k,e,T),k)),i()},S=async A=>{var T;const C=(T=A.target.files)==null?void 0:T[0];if(C){v(null),w(!0);try{const k=await Zc(C,{tags:[hm(C)]}),M=h_(C,k);s(M),p(k)}catch(k){v(k instanceof Error?k.message:"Tlversement impossible. Vrifiez votre connexion.")}finally{w(!1),A.target.value=""}}},O=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),N=h.trim();return u.jsx(m_,{title:`Personnaliser ${t}`,onClose:i,footer:O,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:j,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-input`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-input`,className:"ui-input mt-2 w-full",value:h,onChange:A=>p(A.target.value),placeholder:"https://..."}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Fournissez une URL Cloudinary ou tlversez un fichier pour l'ajouter automatiquement."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*,video/*,audio/*,.ttf,.otf,.woff,.woff2",className:"absolute inset-0 cursor-pointer opacity-0",onChange:S,disabled:_}),u.jsx(yu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer un mdia"]}),_&&u.jsx(tu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>p(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Supprimer le mdia"})]}),g&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(sa,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:g})]}),N&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:N,alt:"Aperu",className:"h-56 w-full object-cover"})})]})})},Kne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:s,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-background-form`,f=zne(n,e),[h,p]=b.useState(f.type),[g,v]=b.useState(f.color),[_,w]=b.useState(f.image??""),[j,S]=b.useState(null),[O,N]=b.useState(!1);b.useEffect(()=>{p(f.type),v(f.color),w(f.image??"")},[f.type,f.color,f.image]);const A=M=>{M.preventDefault();const D=g.trim()||"transparent",q=_.trim(),$=ua(q)??(q.length>0?q:null);r(F=>(Dne(F,e,{type:h,color:D,image:h==="image"?$:null}),F)),i()},C=async M=>{var q;const D=(q=M.target.files)==null?void 0:q[0];if(D){S(null),N(!0);try{const $=await Zc(D,{tags:[hm(D)]}),F=h_(D,$);s(F),w($),p("image")}catch($){S($ instanceof Error?$.message:"Tlversement impossible.")}finally{N(!1),M.target.value=""}}},T=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),k=_.trim();return u.jsx(m_,{title:`Personnaliser ${t}`,onClose:i,footer:T,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:A,className:"space-y-6",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="color"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("color"),children:"Couleur"}),u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="image"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("image"),children:"Image"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${d}-color`,className:"ui-input w-full",value:g,onChange:M=>v(M.target.value),placeholder:"Ex: rgba(15,23,42,0.75)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:g||"#ffffff",onChange:M=>v(M.target.value),"aria-label":"Choisir la couleur d'arrire-plan"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:GR.map(M=>u.jsx("button",{type:"button",onClick:()=>v(M),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:M==="transparent"?"#ffffff":M},title:M},M))})]}),h==="image"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-image`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-image`,className:"ui-input mt-2 w-full",value:_,onChange:M=>w(M.target.value),placeholder:"https://..."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 cursor-pointer opacity-0",onChange:C,disabled:O}),u.jsx(yu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une image"]}),O&&u.jsx(tu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>w(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Retirer l'image"})]}),j&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(sa,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:j})]}),k&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:k,alt:"Aperu",className:"h-48 w-full object-cover"})})]})]})})},Gne=()=>{const{content:e,loading:t,error:n,updateContent:r}=xu(),[i,s]=b.useState(()=>e?Sf(e):null),[l,d]=b.useState(null),[f,h]=b.useState(null),[p,g]=b.useState("custom"),[v,_]=b.useState(null),[w,j]=b.useState(!1),[S,O]=b.useState(null),[N,A]=b.useState(null),[C,T]=b.useState([]),[k,M]=b.useState(!1),[D,q]=b.useState(null);b.useEffect(()=>{e&&s(Sf(e))},[e]),b.useEffect(()=>{let W=!0;return(async()=>{M(!0),q(null);try{const re=await xe.getBestSellerProducts();W&&T(re)}catch(re){W&&q(re instanceof Error?re.message:"Impossible de charger les produits mis en avant.")}finally{W&&M(!1)}})(),()=>{W=!1}},[]),b.useEffect(()=>{if(!N)return;const W=setTimeout(()=>A(null),4e3);return()=>clearTimeout(W)},[N]);const $=b.useCallback(W=>{s(ue=>{if(!ue)return ue;const re=Sf(ue);return W(re)})},[]),F=b.useCallback(W=>{s(ue=>{if(!ue)return ue;const re=Sf(ue);return Ine(re,W),re})},[]),H=b.useCallback((W,ue)=>{d(W),h(ue.zone),_(qne(ue.anchor))},[]),ae=b.useCallback(()=>{d(null),h(null),_(null)},[]),z=async()=>{j(!0),O(null),A(null);try{if(!i)throw new Error("Le brouillon est indisponible.");const W=await r(i);s(W),A("Modifications enregistres avec succs.")}catch(W){O(W instanceof Error?W.message:"Une erreur est survenue lors de la sauvegarde.")}finally{j(!1)}},K=b.useMemo(()=>{const W=Array.from(Sne);if(!i)return W;const ue=i.assets.library.filter(re=>re.type==="font").map(re=>fb(re.name));return Array.from(new Set([...W,...ue]))},[i]),I=l?Tne[l]??l:null,Y=l?One.has(l)?"background":Ane.has(l)?"image":(Ene.has(l),"text"):null;return t?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(tu,{className:"h-10 w-10 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Chargement du contenu du site"})]}):!e||!i?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(sa,{className:"h-6 w-6 text-amber-500","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Le contenu du site est en cours d'initialisation"})]}):u.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-0",children:[u.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Site public"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Cliquez sur l'icne en forme de crayon pour personnaliser chaque bloc de contenu, image ou logo."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[N&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:[u.jsx(oU,{className:"h-4 w-4","aria-hidden":"true"}),N]}),S&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-amber-50 px-4 py-2 text-sm text-amber-700",children:[u.jsx(sa,{className:"h-4 w-4","aria-hidden":"true"}),S]}),u.jsx("button",{type:"button",onClick:z,className:"ui-btn-primary",disabled:w,children:w?"Enregistrement":"Enregistrer les modifications"})]})]}),n&&u.jsxs("div",{className:"flex items-start gap-3 rounded-3xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(sa,{className:"h-5 w-5","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx("p",{children:n}),u.jsx("p",{className:"mt-1",children:"Les valeurs affiches correspondent  la configuration par dfaut."})]})]}),u.jsx("nav",{className:"flex w-full items-center gap-2 overflow-x-auto rounded-full bg-slate-100 p-1",children:kne.map(W=>u.jsx("button",{type:"button",onClick:()=>g(W.id),className:`flex-1 rounded-full px-4 py-2 text-sm font-medium transition ${p===W.id?"bg-white text-slate-900 shadow":"text-slate-500 hover:text-slate-700"}`,children:W.label},W.id))}),u.jsx("div",{children:p==="preview"?u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx("div",{className:"rounded-[2.5rem] border border-slate-200 bg-slate-50 p-6",children:u.jsx(m2,{content:i,bestSellerProducts:C,onEdit:()=>{},activeZone:null,showEditButtons:!1})})}):u.jsxs("div",{className:"space-y-4",children:[D&&u.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(sa,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("p",{children:D})]}),u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx(m2,{content:i,bestSellerProducts:C,onEdit:(W,ue)=>H(W,ue),activeZone:f})}),k&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx(tu,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Chargement des produits populaires"]})]})}),l&&Y==="text"&&I&&u.jsx(Hne,{element:l,label:I,draft:i,onApply:$,onClose:ae,fontOptions:K,onAssetAdded:F,anchor:v}),l&&Y==="image"&&I&&u.jsx(Fne,{element:l,label:I,draft:i,onApply:$,onClose:ae,onAssetAdded:F,anchor:v}),l&&Y==="background"&&I&&u.jsx(Kne,{element:l,label:I,draft:i,onApply:$,onClose:ae,onAssetAdded:F,anchor:v})]})},WR=({onLogout:e})=>{const t=ha(),n=Vn.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return u.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accs non autoris"}),u.jsx("p",{className:"text-base text-gray-600",children:"Votre rle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir  l'cran de connexion."})]}),u.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour  la connexion"})]})},XR=()=>u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),Br=({children:e,permissionKey:t})=>{var d;const{role:n,loading:r,logout:i}=ma();if(r)return u.jsx(XR,{});if(!n)return u.jsx(Df,{to:"/",replace:!0});const s=t?(d=n.permissions)==null?void 0:d[t]:void 0;if(!(t?Hf(s):!0)){const f=db(n);return f?u.jsx(Df,{to:f,replace:!0}):u.jsx(WR,{onLogout:i})}return e},Yne=()=>{const{role:e,loading:t,logout:n}=ma();ha();const[r,i]=b.useState(()=>{const l=il();return l?l.orderId:null});if(xu(),b.useEffect(()=>{const l=()=>{const d=il();i(d?d.orderId:null)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]),t)return u.jsx(XR,{});if(!e)return u.jsx(e8,{});const s=db(e);return s?u.jsx(Df,{to:s,replace:!0}):u.jsx(WR,{onLogout:n})},Vne=()=>u.jsx(Br,{children:u.jsx(qz,{})}),Wne=()=>u.jsxs(bI,{children:[u.jsx(En,{path:"/",element:u.jsx(Yne,{})}),u.jsx(En,{path:"/login",element:u.jsx(Df,{to:"/",replace:!0})}),u.jsx(En,{path:"/commande-client",element:u.jsx(xne,{})}),u.jsxs(En,{element:u.jsx(Vne,{}),children:[u.jsx(En,{path:"/dashboard",element:u.jsx(Br,{permissionKey:"/dashboard",children:u.jsx(mte,{})})}),u.jsx(En,{path:"/para-llevar",element:u.jsx(Br,{permissionKey:"/para-llevar",children:u.jsx(Dte,{})})}),u.jsx(En,{path:"/ventes",element:u.jsx(Br,{permissionKey:"/ventes",children:u.jsx(xte,{})})}),u.jsx(En,{path:"/commande/:tableId",element:u.jsx(Br,{permissionKey:"/ventes",children:u.jsx(Tte,{})})}),u.jsx(En,{path:"/cocina",element:u.jsx(Br,{permissionKey:"/cocina",children:u.jsx(Rte,{})})}),u.jsx(En,{path:"/resume-ventes",element:u.jsx(Br,{permissionKey:"/resume-ventes",children:u.jsx(wne,{})})}),u.jsx(En,{path:"/ingredients",element:u.jsx(Br,{permissionKey:"/ingredients",children:u.jsx(Ite,{})})}),u.jsx(En,{path:"/produits",element:u.jsx(Br,{permissionKey:"/produits",children:u.jsx(zte,{})})}),u.jsx(En,{path:"/promotions",element:u.jsx(Br,{permissionKey:"/promotions",children:u.jsx(dne,{})})}),u.jsx(En,{path:Ka,element:u.jsx(Br,{permissionKey:Ka,children:u.jsx(Gne,{})})})]}),u.jsx(En,{path:"*",element:u.jsx(_ne,{})})]}),Xne=()=>u.jsx(Dz,{children:u.jsx(qI,{children:u.jsx(Wne,{})})}),QR=document.getElementById("root");if(!QR)throw new Error("Could not find root element to mount to");const Qne=N4.createRoot(QR);Qne.render(u.jsx(Vn.StrictMode,{children:u.jsx(Xne,{})}));
