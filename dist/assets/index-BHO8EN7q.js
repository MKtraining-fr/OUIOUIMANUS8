var M3=Object.defineProperty;var R3=(e,t,n)=>t in e?M3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ug=(e,t,n)=>R3(e,typeof t!="symbol"?t+"":t,n);function D3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I3(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var dg={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function L3(){if(VS)return yc;VS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return yc.Fragment=t,yc.jsx=n,yc.jsxs=n,yc}var WS;function z3(){return WS||(WS=1,dg.exports=L3()),dg.exports}var m=z3(),fg={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function U3(){if(XS)return Te;XS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function E(C,D,V){this.props=C,this.context=D,this.refs=j,this.updater=V||w}E.prototype.isReactComponent={},E.prototype.setState=function(C,D){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,D,"setState")},E.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function N(){}N.prototype=E.prototype;function A(C,D,V){this.props=C,this.context=D,this.refs=j,this.updater=V||w}var k=A.prototype=new N;k.constructor=A,S(k,E.prototype),k.isPureReactComponent=!0;var P=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function H(C,D,V){var W=V.ref;return{$$typeof:e,type:C,key:D,ref:W!==void 0?W:null,props:V}}function $(C,D){return H(C.type,D,C.props)}function K(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function F(C){var D={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(V){return D[V]})}var ae=/\/+/g;function q(C,D){return typeof C=="object"&&C!==null&&C.key!=null?F(""+C.key):D.toString(36)}function ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(M,M):(C.status="pending",C.then(function(D){C.status==="pending"&&(C.status="fulfilled",C.value=D)},function(D){C.status==="pending"&&(C.status="rejected",C.reason=D)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function L(C,D,V,W,J){var de=typeof C;(de==="undefined"||de==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case e:case t:he=!0;break;case p:return he=C._init,L(he(C._payload),D,V,W,J)}}if(he)return J=J(C),he=W===""?"."+q(C,0):W,P(J)?(V="",he!=null&&(V=he.replace(ae,"$&/")+"/"),L(J,D,V,"",function(we){return we})):J!=null&&(K(J)&&(J=$(J,V+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(ae,"$&/")+"/")+he)),D.push(J)),1;he=0;var Le=W===""?".":W+":";if(P(C))for(var te=0;te<C.length;te++)W=C[te],de=Le+q(W,te),he+=L(W,D,V,de,J);else if(te=x(C),typeof te=="function")for(C=te.call(C),te=0;!(W=C.next()).done;)W=W.value,de=Le+q(W,te++),he+=L(W,D,V,de,J);else if(de==="object"){if(typeof C.then=="function")return L(ne(C),D,V,W,J);throw D=String(C),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return he}function Q(C,D,V){if(C==null)return C;var W=[],J=0;return L(C,W,"","",function(de){return D.call(V,de,J++)}),W}function oe(C){if(C._status===-1){var D=C._result;D=D(),D.then(function(V){(C._status===0||C._status===-1)&&(C._status=1,C._result=V)},function(V){(C._status===0||C._status===-1)&&(C._status=2,C._result=V)}),C._status===-1&&(C._status=0,C._result=D)}if(C._status===1)return C._result.default;throw C._result}var me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ie={map:Q,forEach:function(C,D,V){Q(C,function(){D.apply(this,arguments)},V)},count:function(C){var D=0;return Q(C,function(){D++}),D},toArray:function(C){return Q(C,function(D){return D})||[]},only:function(C){if(!K(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Te.Activity=g,Te.Children=ie,Te.Component=E,Te.Fragment=n,Te.Profiler=i,Te.PureComponent=A,Te.StrictMode=r,Te.Suspense=d,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Te.cache=function(C){return function(){return C.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(C,D,V){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=S({},C.props),J=C.key;if(D!=null)for(de in D.key!==void 0&&(J=""+D.key),D)!z.call(D,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&D.ref===void 0||(W[de]=D[de]);var de=arguments.length-2;if(de===1)W.children=V;else if(1<de){for(var he=Array(de),Le=0;Le<de;Le++)he[Le]=arguments[Le+2];W.children=he}return H(C.type,J,W)},Te.createContext=function(C){return C={$$typeof:l,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},Te.createElement=function(C,D,V){var W,J={},de=null;if(D!=null)for(W in D.key!==void 0&&(de=""+D.key),D)z.call(D,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(J[W]=D[W]);var he=arguments.length-2;if(he===1)J.children=V;else if(1<he){for(var Le=Array(he),te=0;te<he;te++)Le[te]=arguments[te+2];J.children=Le}if(C&&C.defaultProps)for(W in he=C.defaultProps,he)J[W]===void 0&&(J[W]=he[W]);return H(C,de,J)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:u,render:C}},Te.isValidElement=K,Te.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:oe}},Te.memo=function(C,D){return{$$typeof:f,type:C,compare:D===void 0?null:D}},Te.startTransition=function(C){var D=R.T,V={};R.T=V;try{var W=C(),J=R.S;J!==null&&J(V,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(M,me)}catch(de){me(de)}finally{D!==null&&V.types!==null&&(D.types=V.types),R.T=D}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(C){return R.H.use(C)},Te.useActionState=function(C,D,V){return R.H.useActionState(C,D,V)},Te.useCallback=function(C,D){return R.H.useCallback(C,D)},Te.useContext=function(C){return R.H.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C,D){return R.H.useDeferredValue(C,D)},Te.useEffect=function(C,D){return R.H.useEffect(C,D)},Te.useEffectEvent=function(C){return R.H.useEffectEvent(C)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(C,D,V){return R.H.useImperativeHandle(C,D,V)},Te.useInsertionEffect=function(C,D){return R.H.useInsertionEffect(C,D)},Te.useLayoutEffect=function(C,D){return R.H.useLayoutEffect(C,D)},Te.useMemo=function(C,D){return R.H.useMemo(C,D)},Te.useOptimistic=function(C,D){return R.H.useOptimistic(C,D)},Te.useReducer=function(C,D,V){return R.H.useReducer(C,D,V)},Te.useRef=function(C){return R.H.useRef(C)},Te.useState=function(C){return R.H.useState(C)},Te.useSyncExternalStore=function(C,D,V){return R.H.useSyncExternalStore(C,D,V)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.2.0",Te}var QS;function hl(){return QS||(QS=1,fg.exports=U3()),fg.exports}var _=hl();const Ur=qr(_),$3=D3({__proto__:null,default:Ur},[_]);var hg={exports:{}},bc={},mg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function q3(){return JS||(JS=1,(function(e){function t(L,Q){var oe=L.length;L.push(Q);e:for(;0<oe;){var me=oe-1>>>1,ie=L[me];if(0<i(ie,Q))L[me]=Q,L[oe]=ie,oe=me;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Q=L[0],oe=L.pop();if(oe!==Q){L[0]=oe;e:for(var me=0,ie=L.length,C=ie>>>1;me<C;){var D=2*(me+1)-1,V=L[D],W=D+1,J=L[W];if(0>i(V,oe))W<ie&&0>i(J,V)?(L[me]=J,L[W]=oe,me=W):(L[me]=V,L[D]=oe,me=D);else if(W<ie&&0>i(J,oe))L[me]=J,L[W]=oe,me=W;else break e}}return Q}function i(L,Q){var oe=L.sortIndex-Q.sortIndex;return oe!==0?oe:L.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,x=!1,w=!1,S=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(L){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=L)r(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(f)}}function P(L){if(S=!1,k(L),!w)if(n(d)!==null)w=!0,M||(M=!0,F());else{var Q=n(f);Q!==null&&ne(P,Q.startTime-L)}}var M=!1,R=-1,z=5,H=-1;function $(){return j?!0:!(e.unstable_now()-H<z)}function K(){if(j=!1,M){var L=e.unstable_now();H=L;var Q=!0;try{e:{w=!1,S&&(S=!1,N(R),R=-1),x=!0;var oe=v;try{t:{for(k(L),g=n(d);g!==null&&!(g.expirationTime>L&&$());){var me=g.callback;if(typeof me=="function"){g.callback=null,v=g.priorityLevel;var ie=me(g.expirationTime<=L);if(L=e.unstable_now(),typeof ie=="function"){g.callback=ie,k(L),Q=!0;break t}g===n(d)&&r(d),k(L)}else r(d);g=n(d)}if(g!==null)Q=!0;else{var C=n(f);C!==null&&ne(P,C.startTime-L),Q=!1}}break e}finally{g=null,v=oe,x=!1}Q=void 0}}finally{Q?F():M=!1}}}var F;if(typeof A=="function")F=function(){A(K)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,q=ae.port2;ae.port1.onmessage=K,F=function(){q.postMessage(null)}}else F=function(){E(K,0)};function ne(L,Q){R=E(function(){L(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var oe=v;v=Q;try{return L()}finally{v=oe}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=v;v=L;try{return Q()}finally{v=oe}},e.unstable_scheduleCallback=function(L,Q,oe){var me=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?me+oe:me):oe=me,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=oe+ie,L={id:p++,callback:Q,priorityLevel:L,startTime:oe,expirationTime:ie,sortIndex:-1},oe>me?(L.sortIndex=oe,t(f,L),n(d)===null&&L===n(f)&&(S?(N(R),R=-1):S=!0,ne(P,oe-me))):(L.sortIndex=ie,t(d,L),w||x||(w=!0,M||(M=!0,F()))),L},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(L){var Q=v;return function(){var oe=v;v=Q;try{return L.apply(this,arguments)}finally{v=oe}}}})(pg)),pg}var ZS;function B3(){return ZS||(ZS=1,mg.exports=q3()),mg.exports}var gg={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function H3(){if(ej)return bn;ej=1;var e=hl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},bn.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},bn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},bn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},bn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},bn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},bn.requestFormReset=function(d){r.d.r(d)},bn.unstable_batchedUpdates=function(d,f){return d(f)},bn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.2.0",bn}var tj;function rN(){if(tj)return gg.exports;tj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gg.exports=H3(),gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj;function K3(){if(nj)return bc;nj=1;var e=B3(),t=hl(),n=rN();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,h=s;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return d(y),a;if(b===h)return d(y),s;b=b.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=b;else{for(var O=!1,T=y.child;T;){if(T===c){O=!0,c=y,h=b;break}if(T===h){O=!0,h=y,c=b;break}T=T.sibling}if(!O){for(T=b.child;T;){if(T===c){O=!0,c=b,h=y;break}if(T===h){O=!0,h=b,c=y;break}T=T.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case k:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:q(a.type)||"Memo";case z:s=a._payload,a=a._init;try{return q(a(s))}catch{}}return null}var ne=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},me=[],ie=-1;function C(a){return{current:a}}function D(a){0>ie||(a.current=me[ie],me[ie]=null,ie--)}function V(a,s){ie++,me[ie]=a.current,a.current=s}var W=C(null),J=C(null),de=C(null),he=C(null);function Le(a,s){switch(V(de,s),V(J,a),V(W,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?vS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=vS(s),a=yS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(W),V(W,a)}function te(){D(W),D(J),D(de)}function we(a){a.memoizedState!==null&&V(he,a);var s=W.current,c=yS(s,a.type);s!==c&&(V(J,a),V(W,c))}function Ce(a){J.current===a&&(D(W),D(J)),he.current===a&&(D(he),mc._currentValue=oe)}var ce,Nt;function ze(a){if(ce===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ce=s&&s[1]||"",Nt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+a+Nt}var Ct=!1;function Tt(a,s){if(!a||Ct)return"";Ct=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var X=ee}Reflect.construct(a,[],le)}else{try{le.call()}catch(ee){X=ee}a.call(le.prototype)}}else{try{throw Error()}catch(ee){X=ee}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),O=b[0],T=b[1];if(O&&T){var I=O.split(`
`),Y=T.split(`
`);for(y=h=0;h<I.length&&!I[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(h===I.length||y===Y.length)for(h=I.length-1,y=Y.length-1;1<=h&&0<=y&&I[h]!==Y[y];)y--;for(;1<=h&&0<=y;h--,y--)if(I[h]!==Y[y]){if(h!==1||y!==1)do if(h--,y--,0>y||I[h]!==Y[y]){var re=`
`+I[h].replace(" at new "," at ");return a.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",a.displayName)),re}while(1<=h&&0<=y);break}}}finally{Ct=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ze(c):""}function en(a,s){switch(a.tag){case 26:case 27:case 5:return ze(a.type);case 16:return ze("Lazy");case 13:return a.child!==s&&s!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return Tt(a.type,!1);case 11:return Tt(a.type.render,!1);case 1:return Tt(a.type,!0);case 31:return ze("Activity");default:return""}}function Ar(a){try{var s="",c=null;do s+=en(a,c),c=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Di=Object.prototype.hasOwnProperty,ra=e.unstable_scheduleCallback,Nr=e.unstable_cancelCallback,Ka=e.unstable_shouldYield,Ii=e.unstable_requestPaint,It=e.unstable_now,aa=e.unstable_getCurrentPriorityLevel,Bs=e.unstable_ImmediatePriority,Hs=e.unstable_UserBlockingPriority,ue=e.unstable_NormalPriority,pe=e.unstable_LowPriority,Oe=e.unstable_IdlePriority,Ze=e.log,Ge=e.unstable_setDisableYieldValue,wt=null,Pe=null;function Qe(a){if(typeof Ze=="function"&&Ge(a),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(wt,a)}catch{}}var dt=Math.clz32?Math.clz32:et,St=Math.log,Ee=Math.LN2;function et(a){return a>>>=0,a===0?32:31-(St(a)/Ee|0)|0}var kt=256,tn=262144,Cr=4194304;function Lt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ks(a,s,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,b=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var T=h&134217727;return T!==0?(h=T&~b,h!==0?y=Lt(h):(O&=T,O!==0?y=Lt(O):c||(c=T&~a,c!==0&&(y=Lt(c))))):(T=h&~b,T!==0?y=Lt(T):O!==0?y=Lt(O):c||(c=h&~a,c!==0&&(y=Lt(c)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:y}function Al(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function xR(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jx(){var a=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),a}function Jh(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Nl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function _R(a,s,c,h,y,b){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var T=a.entanglements,I=a.expirationTimes,Y=a.hiddenUpdates;for(c=O&~c;0<c;){var re=31-dt(c),le=1<<re;T[re]=0,I[re]=-1;var X=Y[re];if(X!==null)for(Y[re]=null,re=0;re<X.length;re++){var ee=X[re];ee!==null&&(ee.lane&=-536870913)}c&=~le}h!==0&&Zx(a,h,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(O&~s))}function Zx(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-dt(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function e_(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-dt(c),y=1<<h;y&s|a[h]&s&&(a[h]|=s),c&=~y}}function t_(a,s){var c=s&-s;return c=(c&42)!==0?1:Zh(c),(c&(a.suspendedLanes|s))!==0?0:c}function Zh(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function em(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function n_(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:qS(a.type))}function r_(a,s){var c=Q.p;try{return Q.p=a,s()}finally{Q.p=c}}var Fa=Math.random().toString(36).slice(2),dn="__reactFiber$"+Fa,Tn="__reactProps$"+Fa,Fs="__reactContainer$"+Fa,tm="__reactEvents$"+Fa,wR="__reactListeners$"+Fa,SR="__reactHandles$"+Fa,a_="__reactResources$"+Fa,Cl="__reactMarker$"+Fa;function nm(a){delete a[dn],delete a[Tn],delete a[tm],delete a[wR],delete a[SR]}function Gs(a){var s=a[dn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Fs]||c[dn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=OS(a);a!==null;){if(c=a[dn])return c;a=OS(a)}return s}a=c,c=a.parentNode}return null}function Ys(a){if(a=a[dn]||a[Fs]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Tl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Vs(a){var s=a[a_];return s||(s=a[a_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nn(a){a[Cl]=!0}var i_=new Set,s_={};function Li(a,s){Ws(a,s),Ws(a+"Capture",s)}function Ws(a,s){for(s_[a]=s,a=0;a<s.length;a++)i_.add(s[a])}var jR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),o_={},l_={};function OR(a){return Di.call(l_,a)?!0:Di.call(o_,a)?!1:jR.test(a)?l_[a]=!0:(o_[a]=!0,!1)}function Tu(a,s,c){if(OR(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function ku(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function ia(a,s,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+h)}}function sr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function c_(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ER(a,s,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(O){c=""+O,b.call(this,O)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function rm(a){if(!a._valueTracker){var s=c_(a)?"checked":"value";a._valueTracker=ER(a,s,""+a[s])}}function u_(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=c_(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function Pu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var AR=/[\n"\\]/g;function or(a){return a.replace(AR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function am(a,s,c,h,y,b,O,T){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),s!=null?O==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+sr(s)):a.value!==""+sr(s)&&(a.value=""+sr(s)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),s!=null?im(a,O,sr(s)):c!=null?im(a,O,sr(c)):h!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?a.name=""+sr(T):a.removeAttribute("name")}function d_(a,s,c,h,y,b,O,T){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){rm(a);return}c=c!=null?""+sr(c):"",s=s!=null?""+sr(s):c,T||s===a.value||(a.value=s),a.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=T?a.checked:!!h,a.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),rm(a)}function im(a,s,c){s==="number"&&Pu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Xs(a,s,c,h){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+sr(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function f_(a,s,c){if(s!=null&&(s=""+sr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+sr(c):""}function h_(a,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(r(92));if(ne(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=sr(s),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),rm(a)}function Qs(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var NR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m_(a,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,c):typeof c!="number"||c===0||NR.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function p_(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&c[y]!==h&&m_(a,y,h)}else for(var b in s)s.hasOwnProperty(b)&&m_(a,b,s[b])}function sm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(a){return TR.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function sa(){}var om=null;function lm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Js=null,Zs=null;function g_(a){var s=Ys(a);if(s&&(a=s.stateNode)){var c=a[Tn]||null;e:switch(a=s.stateNode,s.type){case"input":if(am(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+or(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var y=h[Tn]||null;if(!y)throw Error(r(90));am(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===a.form&&u_(h)}break e;case"textarea":f_(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Xs(a,!!c.multiple,s,!1)}}}var cm=!1;function v_(a,s,c){if(cm)return a(s,c);cm=!0;try{var h=a(s);return h}finally{if(cm=!1,(Js!==null||Zs!==null)&&(xd(),Js&&(s=Js,a=Zs,Zs=Js=null,g_(s),a)))for(s=0;s<a.length;s++)g_(a[s])}}function kl(a,s){var c=a.stateNode;if(c===null)return null;var h=c[Tn]||null;if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),um=!1;if(oa)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){um=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{um=!1}var Ga=null,dm=null,Ru=null;function y_(){if(Ru)return Ru;var a,s=dm,c=s.length,h,y="value"in Ga?Ga.value:Ga.textContent,b=y.length;for(a=0;a<c&&s[a]===y[a];a++);var O=c-a;for(h=1;h<=O&&s[c-h]===y[b-h];h++);return Ru=y.slice(a,1<h?1-h:void 0)}function Du(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Iu(){return!0}function b_(){return!1}function kn(a){function s(c,h,y,b,O){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(c=a[T],this[T]=c?c(b):b[T]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Iu:b_,this.isPropagationStopped=b_,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),s}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=kn(zi),Ml=g({},zi,{view:0,detail:0}),kR=kn(Ml),fm,hm,Rl,zu=g({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Rl&&(Rl&&a.type==="mousemove"?(fm=a.screenX-Rl.screenX,hm=a.screenY-Rl.screenY):hm=fm=0,Rl=a),fm)},movementY:function(a){return"movementY"in a?a.movementY:hm}}),x_=kn(zu),PR=g({},zu,{dataTransfer:0}),MR=kn(PR),RR=g({},Ml,{relatedTarget:0}),mm=kn(RR),DR=g({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),IR=kn(DR),LR=g({},zi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),zR=kn(LR),UR=g({},zi,{data:0}),__=kn(UR),$R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HR(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=BR[a])?!!s[a]:!1}function pm(){return HR}var KR=g({},Ml,{key:function(a){if(a.key){var s=$R[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Du(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qR[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(a){return a.type==="keypress"?Du(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Du(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),FR=kn(KR),GR=g({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=kn(GR),YR=g({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),VR=kn(YR),WR=g({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XR=kn(WR),QR=g({},zu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),JR=kn(QR),ZR=g({},zi,{newState:0,oldState:0}),eD=kn(ZR),tD=[9,13,27,32],gm=oa&&"CompositionEvent"in window,Dl=null;oa&&"documentMode"in document&&(Dl=document.documentMode);var nD=oa&&"TextEvent"in window&&!Dl,S_=oa&&(!gm||Dl&&8<Dl&&11>=Dl),j_=" ",O_=!1;function E_(a,s){switch(a){case"keyup":return tD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var eo=!1;function rD(a,s){switch(a){case"compositionend":return A_(s);case"keypress":return s.which!==32?null:(O_=!0,j_);case"textInput":return a=s.data,a===j_&&O_?null:a;default:return null}}function aD(a,s){if(eo)return a==="compositionend"||!gm&&E_(a,s)?(a=y_(),Ru=dm=Ga=null,eo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return S_&&s.locale!=="ko"?null:s.data;default:return null}}var iD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!iD[a.type]:s==="textarea"}function C_(a,s,c,h){Js?Zs?Zs.push(h):Zs=[h]:Js=h,s=Ad(s,"onChange"),0<s.length&&(c=new Lu("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var Il=null,Ll=null;function sD(a){dS(a,0)}function Uu(a){var s=Tl(a);if(u_(s))return a}function T_(a,s){if(a==="change")return s}var k_=!1;if(oa){var vm;if(oa){var ym="oninput"in document;if(!ym){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),ym=typeof P_.oninput=="function"}vm=ym}else vm=!1;k_=vm&&(!document.documentMode||9<document.documentMode)}function M_(){Il&&(Il.detachEvent("onpropertychange",R_),Ll=Il=null)}function R_(a){if(a.propertyName==="value"&&Uu(Ll)){var s=[];C_(s,Ll,a,lm(a)),v_(sD,s)}}function oD(a,s,c){a==="focusin"?(M_(),Il=s,Ll=c,Il.attachEvent("onpropertychange",R_)):a==="focusout"&&M_()}function lD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Uu(Ll)}function cD(a,s){if(a==="click")return Uu(s)}function uD(a,s){if(a==="input"||a==="change")return Uu(s)}function dD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Hn=typeof Object.is=="function"?Object.is:dD;function zl(a,s){if(Hn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Di.call(s,y)||!Hn(a[y],s[y]))return!1}return!0}function D_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function I_(a,s){var c=D_(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=D_(c)}}function L_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?L_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function z_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Pu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Pu(a.document)}return s}function bm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var fD=oa&&"documentMode"in document&&11>=document.documentMode,to=null,xm=null,Ul=null,_m=!1;function U_(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_m||to==null||to!==Pu(h)||(h=to,"selectionStart"in h&&bm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ul&&zl(Ul,h)||(Ul=h,h=Ad(xm,"onSelect"),0<h.length&&(s=new Lu("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=to)))}function Ui(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var no={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},wm={},$_={};oa&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function $i(a){if(wm[a])return wm[a];if(!no[a])return a;var s=no[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in $_)return wm[a]=s[c];return a}var q_=$i("animationend"),B_=$i("animationiteration"),H_=$i("animationstart"),hD=$i("transitionrun"),mD=$i("transitionstart"),pD=$i("transitioncancel"),K_=$i("transitionend"),F_=new Map,Sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sm.push("scrollEnd");function Tr(a,s){F_.set(a,s),Li(s,[a])}var $u=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},lr=[],ro=0,jm=0;function qu(){for(var a=ro,s=jm=ro=0;s<a;){var c=lr[s];lr[s++]=null;var h=lr[s];lr[s++]=null;var y=lr[s];lr[s++]=null;var b=lr[s];if(lr[s++]=null,h!==null&&y!==null){var O=h.pending;O===null?y.next=y:(y.next=O.next,O.next=y),h.pending=y}b!==0&&G_(c,y,b)}}function Bu(a,s,c,h){lr[ro++]=a,lr[ro++]=s,lr[ro++]=c,lr[ro++]=h,jm|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Om(a,s,c,h){return Bu(a,s,c,h),Hu(a)}function qi(a,s){return Bu(a,null,null,s),Hu(a)}function G_(a,s,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,b=a.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&s!==null&&(y=31-dt(c),a=b.hiddenUpdates,h=a[y],h===null?a[y]=[s]:h.push(s),s.lane=c|536870912),b):null}function Hu(a){if(50<oc)throw oc=0,Rp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ao={};function gD(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(a,s,c,h){return new gD(a,s,c,h)}function Em(a){return a=a.prototype,!(!a||!a.isReactComponent)}function la(a,s){var c=a.alternate;return c===null?(c=Kn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Y_(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Ku(a,s,c,h,y,b){var O=0;if(h=a,typeof a=="function")Em(a)&&(O=1);else if(typeof a=="string")O=_3(a,c,W.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case H:return a=Kn(31,c,s,y),a.elementType=H,a.lanes=b,a;case S:return Bi(c.children,y,b,s);case j:O=8,y|=24;break;case E:return a=Kn(12,c,s,y|2),a.elementType=E,a.lanes=b,a;case P:return a=Kn(13,c,s,y),a.elementType=P,a.lanes=b,a;case M:return a=Kn(19,c,s,y),a.elementType=M,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:O=10;break e;case N:O=9;break e;case k:O=11;break e;case R:O=14;break e;case z:O=16,h=null;break e}O=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=Kn(O,c,s,y),s.elementType=a,s.type=h,s.lanes=b,s}function Bi(a,s,c,h){return a=Kn(7,a,h,s),a.lanes=c,a}function Am(a,s,c){return a=Kn(6,a,null,s),a.lanes=c,a}function V_(a){var s=Kn(18,null,null,0);return s.stateNode=a,s}function Nm(a,s,c){return s=Kn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var W_=new WeakMap;function cr(a,s){if(typeof a=="object"&&a!==null){var c=W_.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Ar(s)},W_.set(a,s),s)}return{value:a,source:s,stack:Ar(s)}}var io=[],so=0,Fu=null,$l=0,ur=[],dr=0,Ya=null,Kr=1,Fr="";function ca(a,s){io[so++]=$l,io[so++]=Fu,Fu=a,$l=s}function X_(a,s,c){ur[dr++]=Kr,ur[dr++]=Fr,ur[dr++]=Ya,Ya=a;var h=Kr;a=Fr;var y=32-dt(h)-1;h&=~(1<<y),c+=1;var b=32-dt(s)+y;if(30<b){var O=y-y%5;b=(h&(1<<O)-1).toString(32),h>>=O,y-=O,Kr=1<<32-dt(s)+y|c<<y|h,Fr=b+a}else Kr=1<<b|c<<y|h,Fr=a}function Cm(a){a.return!==null&&(ca(a,1),X_(a,1,0))}function Tm(a){for(;a===Fu;)Fu=io[--so],io[so]=null,$l=io[--so],io[so]=null;for(;a===Ya;)Ya=ur[--dr],ur[dr]=null,Fr=ur[--dr],ur[dr]=null,Kr=ur[--dr],ur[dr]=null}function Q_(a,s){ur[dr++]=Kr,ur[dr++]=Fr,ur[dr++]=Ya,Kr=s.id,Fr=s.overflow,Ya=a}var fn=null,mt=null,Fe=!1,Va=null,fr=!1,km=Error(r(519));function Wa(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(cr(s,a)),km}function J_(a){var s=a.stateNode,c=a.type,h=a.memoizedProps;switch(s[dn]=a,s[Tn]=h,c){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(c=0;c<cc.length;c++)$e(cc[c],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),d_(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),h_(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||pS(s.textContent,c)?(h.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),h.onScroll!=null&&$e("scroll",s),h.onScrollEnd!=null&&$e("scrollend",s),h.onClick!=null&&(s.onclick=sa),s=!0):s=!1,s||Wa(a,!0)}function Z_(a){for(fn=a.return;fn;)switch(fn.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:fn=fn.return}}function oo(a){if(a!==fn)return!1;if(!Fe)return Z_(a),Fe=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Wp(a.type,a.memoizedProps)),c=!c),c&&mt&&Wa(a),Z_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));mt=jS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));mt=jS(a)}else s===27?(s=mt,ci(a.type)?(a=eg,eg=null,mt=a):mt=s):mt=fn?mr(a.stateNode.nextSibling):null;return!0}function Hi(){mt=fn=null,Fe=!1}function Pm(){var a=Va;return a!==null&&(Dn===null?Dn=a:Dn.push.apply(Dn,a),Va=null),a}function ql(a){Va===null?Va=[a]:Va.push(a)}var Mm=C(null),Ki=null,ua=null;function Xa(a,s,c){V(Mm,s._currentValue),s._currentValue=c}function da(a){a._currentValue=Mm.current,D(Mm)}function Rm(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function Dm(a,s,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var O=y.child;b=b.firstContext;e:for(;b!==null;){var T=b;b=y;for(var I=0;I<s.length;I++)if(T.context===s[I]){b.lanes|=c,T=b.alternate,T!==null&&(T.lanes|=c),Rm(b.return,c,a),h||(O=null);break e}b=T.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=c,b=O.alternate,b!==null&&(b.lanes|=c),Rm(O,c,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function lo(a,s,c,h){a=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var T=y.type;Hn(y.pendingProps.value,O.value)||(a!==null?a.push(T):a=[T])}}else if(y===he.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(mc):a=[mc])}y=y.return}a!==null&&Dm(s,a,c,h),s.flags|=262144}function Gu(a){for(a=a.firstContext;a!==null;){if(!Hn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Fi(a){Ki=a,ua=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function hn(a){return ew(Ki,a)}function Yu(a,s){return Ki===null&&Fi(a),ew(a,s)}function ew(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ua===null){if(a===null)throw Error(r(308));ua=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ua=ua.next=s;return c}var vD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},yD=e.unstable_scheduleCallback,bD=e.unstable_NormalPriority,zt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Im(){return{controller:new vD,data:new Map,refCount:0}}function Bl(a){a.refCount--,a.refCount===0&&yD(bD,function(){a.controller.abort()})}var Hl=null,Lm=0,co=0,uo=null;function xD(a,s){if(Hl===null){var c=Hl=[];Lm=0,co=$p(),uo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Lm++,s.then(tw,tw),s}function tw(){if(--Lm===0&&Hl!==null){uo!==null&&(uo.status="fulfilled");var a=Hl;Hl=null,co=0,uo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function _D(a,s){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var nw=L.S;L.S=function(a,s){U1=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&xD(a,s),nw!==null&&nw(a,s)};var Gi=C(null);function zm(){var a=Gi.current;return a!==null?a:ct.pooledCache}function Vu(a,s){s===null?V(Gi,Gi.current):V(Gi,s.pool)}function rw(){var a=zm();return a===null?null:{parent:zt._currentValue,pool:a}}var fo=Error(r(460)),Um=Error(r(474)),Wu=Error(r(542)),Xu={then:function(){}};function aw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function iw(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(sa,sa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ow(a),a;default:if(typeof s.status=="string")s.then(sa,sa);else{if(a=ct,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ow(a),a}throw Vi=s,fo}}function Yi(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Vi=c,fo):c}}var Vi=null;function sw(){if(Vi===null)throw Error(r(459));var a=Vi;return Vi=null,a}function ow(a){if(a===fo||a===Wu)throw Error(r(483))}var ho=null,Kl=0;function Qu(a){var s=Kl;return Kl+=1,ho===null&&(ho=[]),iw(ho,a,s)}function Fl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Ju(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function lw(a){function s(B,U){if(a){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function c(B,U){if(!a)return null;for(;U!==null;)s(B,U),U=U.sibling;return null}function h(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function y(B,U){return B=la(B,U),B.index=0,B.sibling=null,B}function b(B,U,G){return B.index=G,a?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function O(B){return a&&B.alternate===null&&(B.flags|=67108866),B}function T(B,U,G,se){return U===null||U.tag!==6?(U=Am(G,B.mode,se),U.return=B,U):(U=y(U,G),U.return=B,U)}function I(B,U,G,se){var je=G.type;return je===S?re(B,U,G.props.children,se,G.key):U!==null&&(U.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Yi(je)===U.type)?(U=y(U,G.props),Fl(U,G),U.return=B,U):(U=Ku(G.type,G.key,G.props,null,B.mode,se),Fl(U,G),U.return=B,U)}function Y(B,U,G,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Nm(G,B.mode,se),U.return=B,U):(U=y(U,G.children||[]),U.return=B,U)}function re(B,U,G,se,je){return U===null||U.tag!==7?(U=Bi(G,B.mode,se,je),U.return=B,U):(U=y(U,G),U.return=B,U)}function le(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Am(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return G=Ku(U.type,U.key,U.props,null,B.mode,G),Fl(G,U),G.return=B,G;case w:return U=Nm(U,B.mode,G),U.return=B,U;case z:return U=Yi(U),le(B,U,G)}if(ne(U)||F(U))return U=Bi(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return le(B,Qu(U),G);if(U.$$typeof===A)return le(B,Yu(B,U),G);Ju(B,U)}return null}function X(B,U,G,se){var je=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return je!==null?null:T(B,U,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===je?I(B,U,G,se):null;case w:return G.key===je?Y(B,U,G,se):null;case z:return G=Yi(G),X(B,U,G,se)}if(ne(G)||F(G))return je!==null?null:re(B,U,G,se,null);if(typeof G.then=="function")return X(B,U,Qu(G),se);if(G.$$typeof===A)return X(B,U,Yu(B,G),se);Ju(B,G)}return null}function ee(B,U,G,se,je){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return B=B.get(G)||null,T(U,B,""+se,je);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return B=B.get(se.key===null?G:se.key)||null,I(U,B,se,je);case w:return B=B.get(se.key===null?G:se.key)||null,Y(U,B,se,je);case z:return se=Yi(se),ee(B,U,G,se,je)}if(ne(se)||F(se))return B=B.get(G)||null,re(U,B,se,je,null);if(typeof se.then=="function")return ee(B,U,G,Qu(se),je);if(se.$$typeof===A)return ee(B,U,G,Yu(U,se),je);Ju(U,se)}return null}function ve(B,U,G,se){for(var je=null,Ye=null,xe=U,De=U=0,Ke=null;xe!==null&&De<G.length;De++){xe.index>De?(Ke=xe,xe=null):Ke=xe.sibling;var Ve=X(B,xe,G[De],se);if(Ve===null){xe===null&&(xe=Ke);break}a&&xe&&Ve.alternate===null&&s(B,xe),U=b(Ve,U,De),Ye===null?je=Ve:Ye.sibling=Ve,Ye=Ve,xe=Ke}if(De===G.length)return c(B,xe),Fe&&ca(B,De),je;if(xe===null){for(;De<G.length;De++)xe=le(B,G[De],se),xe!==null&&(U=b(xe,U,De),Ye===null?je=xe:Ye.sibling=xe,Ye=xe);return Fe&&ca(B,De),je}for(xe=h(xe);De<G.length;De++)Ke=ee(xe,B,De,G[De],se),Ke!==null&&(a&&Ke.alternate!==null&&xe.delete(Ke.key===null?De:Ke.key),U=b(Ke,U,De),Ye===null?je=Ke:Ye.sibling=Ke,Ye=Ke);return a&&xe.forEach(function(mi){return s(B,mi)}),Fe&&ca(B,De),je}function Ne(B,U,G,se){if(G==null)throw Error(r(151));for(var je=null,Ye=null,xe=U,De=U=0,Ke=null,Ve=G.next();xe!==null&&!Ve.done;De++,Ve=G.next()){xe.index>De?(Ke=xe,xe=null):Ke=xe.sibling;var mi=X(B,xe,Ve.value,se);if(mi===null){xe===null&&(xe=Ke);break}a&&xe&&mi.alternate===null&&s(B,xe),U=b(mi,U,De),Ye===null?je=mi:Ye.sibling=mi,Ye=mi,xe=Ke}if(Ve.done)return c(B,xe),Fe&&ca(B,De),je;if(xe===null){for(;!Ve.done;De++,Ve=G.next())Ve=le(B,Ve.value,se),Ve!==null&&(U=b(Ve,U,De),Ye===null?je=Ve:Ye.sibling=Ve,Ye=Ve);return Fe&&ca(B,De),je}for(xe=h(xe);!Ve.done;De++,Ve=G.next())Ve=ee(xe,B,De,Ve.value,se),Ve!==null&&(a&&Ve.alternate!==null&&xe.delete(Ve.key===null?De:Ve.key),U=b(Ve,U,De),Ye===null?je=Ve:Ye.sibling=Ve,Ye=Ve);return a&&xe.forEach(function(P3){return s(B,P3)}),Fe&&ca(B,De),je}function ot(B,U,G,se){if(typeof G=="object"&&G!==null&&G.type===S&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var je=G.key;U!==null;){if(U.key===je){if(je=G.type,je===S){if(U.tag===7){c(B,U.sibling),se=y(U,G.props.children),se.return=B,B=se;break e}}else if(U.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===z&&Yi(je)===U.type){c(B,U.sibling),se=y(U,G.props),Fl(se,G),se.return=B,B=se;break e}c(B,U);break}else s(B,U);U=U.sibling}G.type===S?(se=Bi(G.props.children,B.mode,se,G.key),se.return=B,B=se):(se=Ku(G.type,G.key,G.props,null,B.mode,se),Fl(se,G),se.return=B,B=se)}return O(B);case w:e:{for(je=G.key;U!==null;){if(U.key===je)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){c(B,U.sibling),se=y(U,G.children||[]),se.return=B,B=se;break e}else{c(B,U);break}else s(B,U);U=U.sibling}se=Nm(G,B.mode,se),se.return=B,B=se}return O(B);case z:return G=Yi(G),ot(B,U,G,se)}if(ne(G))return ve(B,U,G,se);if(F(G)){if(je=F(G),typeof je!="function")throw Error(r(150));return G=je.call(G),Ne(B,U,G,se)}if(typeof G.then=="function")return ot(B,U,Qu(G),se);if(G.$$typeof===A)return ot(B,U,Yu(B,G),se);Ju(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(c(B,U.sibling),se=y(U,G),se.return=B,B=se):(c(B,U),se=Am(G,B.mode,se),se.return=B,B=se),O(B)):c(B,U)}return function(B,U,G,se){try{Kl=0;var je=ot(B,U,G,se);return ho=null,je}catch(xe){if(xe===fo||xe===Wu)throw xe;var Ye=Kn(29,xe,null,B.mode);return Ye.lanes=se,Ye.return=B,Ye}finally{}}}var Wi=lw(!0),cw=lw(!1),Qa=!1;function $m(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ja(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Za(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Je&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Hu(a),G_(a,null,c),s}return Bu(a,h,s,c),Hu(a)}function Gl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,e_(a,c)}}function Bm(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=O:b=b.next=O,c=c.next}while(c!==null);b===null?y=b=s:b=b.next=s}else y=b=s;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Hm=!1;function Yl(){if(Hm){var a=uo;if(a!==null)throw a}}function Vl(a,s,c,h){Hm=!1;var y=a.updateQueue;Qa=!1;var b=y.firstBaseUpdate,O=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var I=T,Y=I.next;I.next=null,O===null?b=Y:O.next=Y,O=I;var re=a.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==O&&(T===null?re.firstBaseUpdate=Y:T.next=Y,re.lastBaseUpdate=I))}if(b!==null){var le=y.baseState;O=0,re=Y=I=null,T=b;do{var X=T.lane&-536870913,ee=X!==T.lane;if(ee?(He&X)===X:(h&X)===X){X!==0&&X===co&&(Hm=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ve=a,Ne=T;X=s;var ot=c;switch(Ne.tag){case 1:if(ve=Ne.payload,typeof ve=="function"){le=ve.call(ot,le,X);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ne.payload,X=typeof ve=="function"?ve.call(ot,le,X):ve,X==null)break e;le=g({},le,X);break e;case 2:Qa=!0}}X=T.callback,X!==null&&(a.flags|=64,ee&&(a.flags|=8192),ee=y.callbacks,ee===null?y.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(Y=re=ee,I=le):re=re.next=ee,O|=X;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);re===null&&(I=le),y.baseState=I,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,b===null&&(y.shared.lanes=0),ai|=O,a.lanes=O,a.memoizedState=le}}function uw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function dw(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)uw(c[a],s)}var mo=C(null),Zu=C(0);function fw(a,s){a=xa,V(Zu,a),V(mo,s),xa=a|s.baseLanes}function Km(){V(Zu,xa),V(mo,mo.current)}function Fm(){xa=Zu.current,D(mo),D(Zu)}var Fn=C(null),hr=null;function ei(a){var s=a.alternate;V(Pt,Pt.current&1),V(Fn,a),hr===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(hr=a)}function Gm(a){V(Pt,Pt.current),V(Fn,a),hr===null&&(hr=a)}function hw(a){a.tag===22?(V(Pt,Pt.current),V(Fn,a),hr===null&&(hr=a)):ti()}function ti(){V(Pt,Pt.current),V(Fn,Fn.current)}function Gn(a){D(Fn),hr===a&&(hr=null),D(Pt)}var Pt=C(0);function ed(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Jp(c)||Zp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fa=0,Re=null,it=null,Ut=null,td=!1,po=!1,Xi=!1,nd=0,Wl=0,go=null,wD=0;function Et(){throw Error(r(321))}function Ym(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Hn(a[c],s[c]))return!1;return!0}function Vm(a,s,c,h,y,b){return fa=b,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=a===null||a.memoizedState===null?Xw:cp,Xi=!1,b=c(h,y),Xi=!1,po&&(b=pw(s,c,h,y)),mw(a),b}function mw(a){L.H=Jl;var s=it!==null&&it.next!==null;if(fa=0,Ut=it=Re=null,td=!1,Wl=0,go=null,s)throw Error(r(300));a===null||$t||(a=a.dependencies,a!==null&&Gu(a)&&($t=!0))}function pw(a,s,c,h){Re=a;var y=0;do{if(po&&(go=null),Wl=0,po=!1,25<=y)throw Error(r(301));if(y+=1,Ut=it=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=Qw,b=s(c,h)}while(po);return b}function SD(){var a=L.H,s=a.useState()[0];return s=typeof s.then=="function"?Xl(s):s,a=a.useState()[0],(it!==null?it.memoizedState:null)!==a&&(Re.flags|=1024),s}function Wm(){var a=nd!==0;return nd=0,a}function Xm(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Qm(a){if(td){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}td=!1}fa=0,Ut=it=Re=null,po=!1,Wl=nd=0,go=null}function On(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Re.memoizedState=Ut=a:Ut=Ut.next=a,Ut}function Mt(){if(it===null){var a=Re.alternate;a=a!==null?a.memoizedState:null}else a=it.next;var s=Ut===null?Re.memoizedState:Ut.next;if(s!==null)Ut=s,it=a;else{if(a===null)throw Re.alternate===null?Error(r(467)):Error(r(310));it=a,a={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ut===null?Re.memoizedState=Ut=a:Ut=Ut.next=a}return Ut}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(a){var s=Wl;return Wl+=1,go===null&&(go=[]),a=iw(go,a,s),s=Re,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Xw:cp),a}function ad(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xl(a);if(a.$$typeof===A)return hn(a)}throw Error(r(438,String(a)))}function Jm(a){var s=null,c=Re.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=Re.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=rd(),Re.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),h=0;h<a;h++)c[h]=$;return s.index++,c}function ha(a,s){return typeof s=="function"?s(a):s}function id(a){var s=Mt();return Zm(s,it,a)}function Zm(a,s,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,b=h.pending;if(b!==null){if(y!==null){var O=y.next;y.next=b.next,b.next=O}s.baseQueue=y=b,h.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{s=y.next;var T=O=null,I=null,Y=s,re=!1;do{var le=Y.lane&-536870913;if(le!==Y.lane?(He&le)===le:(fa&le)===le){var X=Y.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),le===co&&(re=!0);else if((fa&X)===X){Y=Y.next,X===co&&(re=!0);continue}else le={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(T=I=le,O=b):I=I.next=le,Re.lanes|=X,ai|=X;le=Y.action,Xi&&c(b,le),b=Y.hasEagerState?Y.eagerState:c(b,le)}else X={lane:le,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(T=I=X,O=b):I=I.next=X,Re.lanes|=le,ai|=le;Y=Y.next}while(Y!==null&&Y!==s);if(I===null?O=b:I.next=T,!Hn(b,a.memoizedState)&&($t=!0,re&&(c=uo,c!==null)))throw c;a.memoizedState=b,a.baseState=O,a.baseQueue=I,h.lastRenderedState=b}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function ep(a){var s=Mt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,b=s.memoizedState;if(y!==null){c.pending=null;var O=y=y.next;do b=a(b,O.action),O=O.next;while(O!==y);Hn(b,s.memoizedState)||($t=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,h]}function gw(a,s,c){var h=Re,y=Mt(),b=Fe;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var O=!Hn((it||y).memoizedState,c);if(O&&(y.memoizedState=c,$t=!0),y=y.queue,rp(bw.bind(null,h,y,a),[a]),y.getSnapshot!==s||O||Ut!==null&&Ut.memoizedState.tag&1){if(h.flags|=2048,vo(9,{destroy:void 0},yw.bind(null,h,y,c,s),null),ct===null)throw Error(r(349));b||(fa&127)!==0||vw(h,s,c)}return c}function vw(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Re.updateQueue,s===null?(s=rd(),Re.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function yw(a,s,c,h){s.value=c,s.getSnapshot=h,xw(s)&&_w(a)}function bw(a,s,c){return c(function(){xw(s)&&_w(a)})}function xw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Hn(a,c)}catch{return!0}}function _w(a){var s=qi(a,2);s!==null&&In(s,a,2)}function tp(a){var s=On();if(typeof a=="function"){var c=a;if(a=c(),Xi){Qe(!0);try{c()}finally{Qe(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},s}function ww(a,s,c,h){return a.baseState=c,Zm(a,it,typeof h=="function"?h:ha)}function jD(a,s,c,h,y){if(ld(a))throw Error(r(485));if(a=s.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};L.T!==null?c(!0):b.isTransition=!1,h(b),c=s.pending,c===null?(b.next=s.pending=b,Sw(s,b)):(b.next=c.next,s.pending=c.next=b)}}function Sw(a,s){var c=s.action,h=s.payload,y=a.state;if(s.isTransition){var b=L.T,O={};L.T=O;try{var T=c(y,h),I=L.S;I!==null&&I(O,T),jw(a,s,T)}catch(Y){np(a,s,Y)}finally{b!==null&&O.types!==null&&(b.types=O.types),L.T=b}}else try{b=c(y,h),jw(a,s,b)}catch(Y){np(a,s,Y)}}function jw(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Ow(a,s,h)},function(h){return np(a,s,h)}):Ow(a,s,c)}function Ow(a,s,c){s.status="fulfilled",s.value=c,Ew(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Sw(a,c)))}function np(a,s,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,Ew(s),s=s.next;while(s!==h)}a.action=null}function Ew(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Aw(a,s){return s}function Nw(a,s){if(Fe){var c=ct.formState;if(c!==null){e:{var h=Re;if(Fe){if(mt){t:{for(var y=mt,b=fr;y.nodeType!==8;){if(!b){y=null;break t}if(y=mr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){mt=mr(y.nextSibling),h=y.data==="F!";break e}}Wa(h)}h=!1}h&&(s=c[0])}}return c=On(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aw,lastRenderedState:s},c.queue=h,c=Yw.bind(null,Re,h),h.dispatch=c,h=tp(!1),b=lp.bind(null,Re,!1,h.queue),h=On(),y={state:s,dispatch:null,action:a,pending:null},h.queue=y,c=jD.bind(null,Re,y,b,c),y.dispatch=c,h.memoizedState=a,[s,c,!1]}function Cw(a){var s=Mt();return Tw(s,it,a)}function Tw(a,s,c){if(s=Zm(a,s,Aw)[0],a=id(ha)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Xl(s)}catch(O){throw O===fo?Wu:O}else h=s;s=Mt();var y=s.queue,b=y.dispatch;return c!==s.memoizedState&&(Re.flags|=2048,vo(9,{destroy:void 0},OD.bind(null,y,c),null)),[h,b,a]}function OD(a,s){a.action=s}function kw(a){var s=Mt(),c=it;if(c!==null)return Tw(s,c,a);Mt(),s=s.memoizedState,c=Mt();var h=c.queue.dispatch;return c.memoizedState=a,[s,h,!1]}function vo(a,s,c,h){return a={tag:a,create:c,deps:h,inst:s,next:null},s=Re.updateQueue,s===null&&(s=rd(),Re.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a),a}function Pw(){return Mt().memoizedState}function sd(a,s,c,h){var y=On();Re.flags|=a,y.memoizedState=vo(1|s,{destroy:void 0},c,h===void 0?null:h)}function od(a,s,c,h){var y=Mt();h=h===void 0?null:h;var b=y.memoizedState.inst;it!==null&&h!==null&&Ym(h,it.memoizedState.deps)?y.memoizedState=vo(s,b,c,h):(Re.flags|=a,y.memoizedState=vo(1|s,b,c,h))}function Mw(a,s){sd(8390656,8,a,s)}function rp(a,s){od(2048,8,a,s)}function ED(a){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=rd(),Re.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Rw(a){var s=Mt().memoizedState;return ED({ref:s,nextImpl:a}),function(){if((Je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Dw(a,s){return od(4,2,a,s)}function Iw(a,s){return od(4,4,a,s)}function Lw(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function zw(a,s,c){c=c!=null?c.concat([a]):null,od(4,4,Lw.bind(null,s,a),c)}function ap(){}function Uw(a,s){var c=Mt();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&Ym(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function $w(a,s){var c=Mt();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&Ym(s,h[1]))return h[0];if(h=a(),Xi){Qe(!0);try{a()}finally{Qe(!1)}}return c.memoizedState=[h,s],h}function ip(a,s,c){return c===void 0||(fa&1073741824)!==0&&(He&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=q1(),Re.lanes|=a,ai|=a,c)}function qw(a,s,c,h){return Hn(c,s)?c:mo.current!==null?(a=ip(a,c,h),Hn(a,s)||($t=!0),a):(fa&42)===0||(fa&1073741824)!==0&&(He&261930)===0?($t=!0,a.memoizedState=c):(a=q1(),Re.lanes|=a,ai|=a,s)}function Bw(a,s,c,h,y){var b=Q.p;Q.p=b!==0&&8>b?b:8;var O=L.T,T={};L.T=T,lp(a,!1,s,c);try{var I=y(),Y=L.S;if(Y!==null&&Y(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=_D(I,h);Ql(a,s,re,Wn(a))}else Ql(a,s,h,Wn(a))}catch(le){Ql(a,s,{then:function(){},status:"rejected",reason:le},Wn())}finally{Q.p=b,O!==null&&T.types!==null&&(O.types=T.types),L.T=O}}function AD(){}function sp(a,s,c,h){if(a.tag!==5)throw Error(r(476));var y=Hw(a).queue;Bw(a,y,s,oe,c===null?AD:function(){return Kw(a),c(h)})}function Hw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:oe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Kw(a){var s=Hw(a);s.next===null&&(s=a.alternate.memoizedState),Ql(a,s.next.queue,{},Wn())}function op(){return hn(mc)}function Fw(){return Mt().memoizedState}function Gw(){return Mt().memoizedState}function ND(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Wn();a=Ja(c);var h=Za(s,a,c);h!==null&&(In(h,s,c),Gl(h,s,c)),s={cache:Im()},a.payload=s;return}s=s.return}}function CD(a,s,c){var h=Wn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ld(a)?Vw(s,c):(c=Om(a,s,c,h),c!==null&&(In(c,a,h),Ww(c,s,h)))}function Yw(a,s,c){var h=Wn();Ql(a,s,c,h)}function Ql(a,s,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ld(a))Vw(s,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var O=s.lastRenderedState,T=b(O,c);if(y.hasEagerState=!0,y.eagerState=T,Hn(T,O))return Bu(a,s,y,0),ct===null&&qu(),!1}catch{}finally{}if(c=Om(a,s,y,h),c!==null)return In(c,a,h),Ww(c,s,h),!0}return!1}function lp(a,s,c,h){if(h={lane:2,revertLane:$p(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ld(a)){if(s)throw Error(r(479))}else s=Om(a,c,h,2),s!==null&&In(s,a,2)}function ld(a){var s=a.alternate;return a===Re||s!==null&&s===Re}function Vw(a,s){po=td=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Ww(a,s,c){if((c&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,e_(a,c)}}var Jl={readContext:hn,use:ad,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Jl.useEffectEvent=Et;var Xw={readContext:hn,use:ad,useCallback:function(a,s){return On().memoizedState=[a,s===void 0?null:s],a},useContext:hn,useEffect:Mw,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,sd(4194308,4,Lw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return sd(4194308,4,a,s)},useInsertionEffect:function(a,s){sd(4,2,a,s)},useMemo:function(a,s){var c=On();s=s===void 0?null:s;var h=a();if(Xi){Qe(!0);try{a()}finally{Qe(!1)}}return c.memoizedState=[h,s],h},useReducer:function(a,s,c){var h=On();if(c!==void 0){var y=c(s);if(Xi){Qe(!0);try{c(s)}finally{Qe(!1)}}}else y=s;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=CD.bind(null,Re,a),[h.memoizedState,a]},useRef:function(a){var s=On();return a={current:a},s.memoizedState=a},useState:function(a){a=tp(a);var s=a.queue,c=Yw.bind(null,Re,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:ap,useDeferredValue:function(a,s){var c=On();return ip(c,a,s)},useTransition:function(){var a=tp(!1);return a=Bw.bind(null,Re,a.queue,!0,!1),On().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var h=Re,y=On();if(Fe){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),ct===null)throw Error(r(349));(He&127)!==0||vw(h,s,c)}y.memoizedState=c;var b={value:c,getSnapshot:s};return y.queue=b,Mw(bw.bind(null,h,b,a),[a]),h.flags|=2048,vo(9,{destroy:void 0},yw.bind(null,h,b,c,s),null),c},useId:function(){var a=On(),s=ct.identifierPrefix;if(Fe){var c=Fr,h=Kr;c=(h&~(1<<32-dt(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=nd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=wD++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:op,useFormState:Nw,useActionState:Nw,useOptimistic:function(a){var s=On();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=lp.bind(null,Re,!0,c),c.dispatch=s,[a,s]},useMemoCache:Jm,useCacheRefresh:function(){return On().memoizedState=ND.bind(null,Re)},useEffectEvent:function(a){var s=On(),c={impl:a};return s.memoizedState=c,function(){if((Je&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},cp={readContext:hn,use:ad,useCallback:Uw,useContext:hn,useEffect:rp,useImperativeHandle:zw,useInsertionEffect:Dw,useLayoutEffect:Iw,useMemo:$w,useReducer:id,useRef:Pw,useState:function(){return id(ha)},useDebugValue:ap,useDeferredValue:function(a,s){var c=Mt();return qw(c,it.memoizedState,a,s)},useTransition:function(){var a=id(ha)[0],s=Mt().memoizedState;return[typeof a=="boolean"?a:Xl(a),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:op,useFormState:Cw,useActionState:Cw,useOptimistic:function(a,s){var c=Mt();return ww(c,it,a,s)},useMemoCache:Jm,useCacheRefresh:Gw};cp.useEffectEvent=Rw;var Qw={readContext:hn,use:ad,useCallback:Uw,useContext:hn,useEffect:rp,useImperativeHandle:zw,useInsertionEffect:Dw,useLayoutEffect:Iw,useMemo:$w,useReducer:ep,useRef:Pw,useState:function(){return ep(ha)},useDebugValue:ap,useDeferredValue:function(a,s){var c=Mt();return it===null?ip(c,a,s):qw(c,it.memoizedState,a,s)},useTransition:function(){var a=ep(ha)[0],s=Mt().memoizedState;return[typeof a=="boolean"?a:Xl(a),s]},useSyncExternalStore:gw,useId:Fw,useHostTransitionStatus:op,useFormState:kw,useActionState:kw,useOptimistic:function(a,s){var c=Mt();return it!==null?ww(c,it,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:Gw};Qw.useEffectEvent=Rw;function up(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var dp={enqueueSetState:function(a,s,c){a=a._reactInternals;var h=Wn(),y=Ja(h);y.payload=s,c!=null&&(y.callback=c),s=Za(a,y,h),s!==null&&(In(s,a,h),Gl(s,a,h))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=Wn(),y=Ja(h);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=Za(a,y,h),s!==null&&(In(s,a,h),Gl(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Wn(),h=Ja(c);h.tag=2,s!=null&&(h.callback=s),s=Za(a,h,c),s!==null&&(In(s,a,c),Gl(s,a,c))}};function Jw(a,s,c,h,y,b,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,O):s.prototype&&s.prototype.isPureReactComponent?!zl(c,h)||!zl(y,b):!0}function Zw(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&dp.enqueueReplaceState(s,s.state,null)}function Qi(a,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function e1(a){$u(a)}function t1(a){console.error(a)}function n1(a){$u(a)}function cd(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function r1(a,s,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function fp(a,s,c){return c=Ja(c),c.tag=3,c.payload={element:null},c.callback=function(){cd(a,s)},c}function a1(a){return a=Ja(a),a.tag=3,a}function i1(a,s,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;a.payload=function(){return y(b)},a.callback=function(){r1(s,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){r1(s,c,h),typeof y!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var T=h.stack;this.componentDidCatch(h.value,{componentStack:T!==null?T:""})})}function TD(a,s,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&lo(s,c,y,!0),c=Fn.current,c!==null){switch(c.tag){case 31:case 13:return hr===null?_d():c.alternate===null&&At===0&&(At=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Xu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),Lp(a,h,y)),!1;case 22:return c.flags|=65536,h===Xu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),Lp(a,h,y)),!1}throw Error(r(435,c.tag))}return Lp(a,h,y),_d(),!1}if(Fe)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==km&&(a=Error(r(422),{cause:h}),ql(cr(a,c)))):(h!==km&&(s=Error(r(423),{cause:h}),ql(cr(s,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=cr(h,c),y=fp(a.stateNode,h,y),Bm(a,y),At!==4&&(At=2)),!1;var b=Error(r(520),{cause:h});if(b=cr(b,c),sc===null?sc=[b]:sc.push(b),At!==4&&(At=2),s===null)return!0;h=cr(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=fp(c.stateNode,h,a),Bm(c,a),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ii===null||!ii.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=a1(y),i1(y,a,c,h),Bm(c,y),!1}c=c.return}while(c!==null);return!1}var hp=Error(r(461)),$t=!1;function mn(a,s,c,h){s.child=a===null?cw(s,null,c,h):Wi(s,a.child,c,h)}function s1(a,s,c,h,y){c=c.render;var b=s.ref;if("ref"in h){var O={};for(var T in h)T!=="ref"&&(O[T]=h[T])}else O=h;return Fi(s),h=Vm(a,s,c,O,b,y),T=Wm(),a!==null&&!$t?(Xm(a,s,y),ma(a,s,y)):(Fe&&T&&Cm(s),s.flags|=1,mn(a,s,h,y),s.child)}function o1(a,s,c,h,y){if(a===null){var b=c.type;return typeof b=="function"&&!Em(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,l1(a,s,b,h,y)):(a=Ku(c.type,null,h,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!_p(a,y)){var O=b.memoizedProps;if(c=c.compare,c=c!==null?c:zl,c(O,h)&&a.ref===s.ref)return ma(a,s,y)}return s.flags|=1,a=la(b,h),a.ref=s.ref,a.return=s,s.child=a}function l1(a,s,c,h,y){if(a!==null){var b=a.memoizedProps;if(zl(b,h)&&a.ref===s.ref)if($t=!1,s.pendingProps=h=b,_p(a,y))(a.flags&131072)!==0&&($t=!0);else return s.lanes=a.lanes,ma(a,s,y)}return mp(a,s,c,h,y)}function c1(a,s,c,h){var y=h.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(h=s.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,s.child=null;return u1(a,s,b,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Vu(s,b!==null?b.cachePool:null),b!==null?fw(s,b):Km(),hw(s);else return h=s.lanes=536870912,u1(a,s,b!==null?b.baseLanes|c:c,c,h)}else b!==null?(Vu(s,b.cachePool),fw(s,b),ti(),s.memoizedState=null):(a!==null&&Vu(s,null),Km(),ti());return mn(a,s,y,c),s.child}function Zl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function u1(a,s,c,h,y){var b=zm();return b=b===null?null:{parent:zt._currentValue,pool:b},s.memoizedState={baseLanes:c,cachePool:b},a!==null&&Vu(s,null),Km(),hw(s),a!==null&&lo(a,s,h,!0),s.childLanes=y,null}function ud(a,s){return s=fd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function d1(a,s,c){return Wi(s,a.child,null,c),a=ud(s,s.pendingProps),a.flags|=2,Gn(s),s.memoizedState=null,a}function kD(a,s,c){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Fe){if(h.mode==="hidden")return a=ud(s,h),s.lanes=536870912,Zl(null,a);if(Gm(s),(a=mt)?(a=SS(a,fr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ya!==null?{id:Kr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},c=V_(a),c.return=s,s.child=c,fn=s,mt=null)):a=null,a===null)throw Wa(s);return s.lanes=536870912,null}return ud(s,h)}var b=a.memoizedState;if(b!==null){var O=b.dehydrated;if(Gm(s),y)if(s.flags&256)s.flags&=-257,s=d1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if($t||lo(a,s,c,!1),y=(c&a.childLanes)!==0,$t||y){if(h=ct,h!==null&&(O=t_(h,c),O!==0&&O!==b.retryLane))throw b.retryLane=O,qi(a,O),In(h,a,O),hp;_d(),s=d1(a,s,c)}else a=b.treeContext,mt=mr(O.nextSibling),fn=s,Fe=!0,Va=null,fr=!1,a!==null&&Q_(s,a),s=ud(s,h),s.flags|=4096;return s}return a=la(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function dd(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function mp(a,s,c,h,y){return Fi(s),c=Vm(a,s,c,h,void 0,y),h=Wm(),a!==null&&!$t?(Xm(a,s,y),ma(a,s,y)):(Fe&&h&&Cm(s),s.flags|=1,mn(a,s,c,y),s.child)}function f1(a,s,c,h,y,b){return Fi(s),s.updateQueue=null,c=pw(s,h,c,y),mw(a),h=Wm(),a!==null&&!$t?(Xm(a,s,b),ma(a,s,b)):(Fe&&h&&Cm(s),s.flags|=1,mn(a,s,c,b),s.child)}function h1(a,s,c,h,y){if(Fi(s),s.stateNode===null){var b=ao,O=c.contextType;typeof O=="object"&&O!==null&&(b=hn(O)),b=new c(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=dp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},$m(s),O=c.contextType,b.context=typeof O=="object"&&O!==null?hn(O):ao,b.state=s.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(up(s,c,O,h),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&dp.enqueueReplaceState(b,b.state,null),Vl(s,h,b,y),Yl(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){b=s.stateNode;var T=s.memoizedProps,I=Qi(c,T);b.props=I;var Y=b.context,re=c.contextType;O=ao,typeof re=="object"&&re!==null&&(O=hn(re));var le=c.getDerivedStateFromProps;re=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T||Y!==O)&&Zw(s,b,h,O),Qa=!1;var X=s.memoizedState;b.state=X,Vl(s,h,b,y),Yl(),Y=s.memoizedState,T||X!==Y||Qa?(typeof le=="function"&&(up(s,c,le,h),Y=s.memoizedState),(I=Qa||Jw(s,c,I,h,X,Y,O))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Y),b.props=h,b.state=Y,b.context=O,h=I):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,qm(a,s),O=s.memoizedProps,re=Qi(c,O),b.props=re,le=s.pendingProps,X=b.context,Y=c.contextType,I=ao,typeof Y=="object"&&Y!==null&&(I=hn(Y)),T=c.getDerivedStateFromProps,(Y=typeof T=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==le||X!==I)&&Zw(s,b,h,I),Qa=!1,X=s.memoizedState,b.state=X,Vl(s,h,b,y),Yl();var ee=s.memoizedState;O!==le||X!==ee||Qa||a!==null&&a.dependencies!==null&&Gu(a.dependencies)?(typeof T=="function"&&(up(s,c,T,h),ee=s.memoizedState),(re=Qa||Jw(s,c,re,h,X,ee,I)||a!==null&&a.dependencies!==null&&Gu(a.dependencies))?(Y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ee,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ee,I)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ee),b.props=h,b.state=ee,b.context=I,h=re):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&X===a.memoizedState||(s.flags|=1024),h=!1)}return b=h,dd(a,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&h?(s.child=Wi(s,a.child,null,y),s.child=Wi(s,null,c,y)):mn(a,s,c,y),s.memoizedState=b.state,a=s.child):a=ma(a,s,y),a}function m1(a,s,c,h){return Hi(),s.flags|=256,mn(a,s,c,h),s.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(a){return{baseLanes:a,cachePool:rw()}}function vp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Vn),a}function p1(a,s,c){var h=s.pendingProps,y=!1,b=(s.flags&128)!==0,O;if((O=b)||(O=a!==null&&a.memoizedState===null?!1:(Pt.current&2)!==0),O&&(y=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,a===null){if(Fe){if(y?ei(s):ti(),(a=mt)?(a=SS(a,fr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ya!==null?{id:Kr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},c=V_(a),c.return=s,s.child=c,fn=s,mt=null)):a=null,a===null)throw Wa(s);return Zp(a)?s.lanes=32:s.lanes=536870912,null}var T=h.children;return h=h.fallback,y?(ti(),y=s.mode,T=fd({mode:"hidden",children:T},y),h=Bi(h,y,c,null),T.return=s,h.return=s,T.sibling=h,s.child=T,h=s.child,h.memoizedState=gp(c),h.childLanes=vp(a,O,c),s.memoizedState=pp,Zl(null,h)):(ei(s),yp(s,T))}var I=a.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(b)s.flags&256?(ei(s),s.flags&=-257,s=bp(a,s,c)):s.memoizedState!==null?(ti(),s.child=a.child,s.flags|=128,s=null):(ti(),T=h.fallback,y=s.mode,h=fd({mode:"visible",children:h.children},y),T=Bi(T,y,c,null),T.flags|=2,h.return=s,T.return=s,h.sibling=T,s.child=h,Wi(s,a.child,null,c),h=s.child,h.memoizedState=gp(c),h.childLanes=vp(a,O,c),s.memoizedState=pp,s=Zl(null,h));else if(ei(s),Zp(T)){if(O=T.nextSibling&&T.nextSibling.dataset,O)var Y=O.dgst;O=Y,h=Error(r(419)),h.stack="",h.digest=O,ql({value:h,source:null,stack:null}),s=bp(a,s,c)}else if($t||lo(a,s,c,!1),O=(c&a.childLanes)!==0,$t||O){if(O=ct,O!==null&&(h=t_(O,c),h!==0&&h!==I.retryLane))throw I.retryLane=h,qi(a,h),In(O,a,h),hp;Jp(T)||_d(),s=bp(a,s,c)}else Jp(T)?(s.flags|=192,s.child=a.child,s=null):(a=I.treeContext,mt=mr(T.nextSibling),fn=s,Fe=!0,Va=null,fr=!1,a!==null&&Q_(s,a),s=yp(s,h.children),s.flags|=4096);return s}return y?(ti(),T=h.fallback,y=s.mode,I=a.child,Y=I.sibling,h=la(I,{mode:"hidden",children:h.children}),h.subtreeFlags=I.subtreeFlags&65011712,Y!==null?T=la(Y,T):(T=Bi(T,y,c,null),T.flags|=2),T.return=s,h.return=s,h.sibling=T,s.child=h,Zl(null,h),h=s.child,T=a.child.memoizedState,T===null?T=gp(c):(y=T.cachePool,y!==null?(I=zt._currentValue,y=y.parent!==I?{parent:I,pool:I}:y):y=rw(),T={baseLanes:T.baseLanes|c,cachePool:y}),h.memoizedState=T,h.childLanes=vp(a,O,c),s.memoizedState=pp,Zl(a.child,h)):(ei(s),c=a.child,a=c.sibling,c=la(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,a!==null&&(O=s.deletions,O===null?(s.deletions=[a],s.flags|=16):O.push(a)),s.child=c,s.memoizedState=null,c)}function yp(a,s){return s=fd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function fd(a,s){return a=Kn(22,a,null,s),a.lanes=0,a}function bp(a,s,c){return Wi(s,a.child,null,c),a=yp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function g1(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Rm(a.return,s,c)}function xp(a,s,c,h,y,b){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:b}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=y,O.treeForkCount=b)}function v1(a,s,c){var h=s.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var O=Pt.current,T=(O&2)!==0;if(T?(O=O&1|2,s.flags|=128):O&=1,V(Pt,O),mn(a,s,h,c),h=Fe?$l:0,!T&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&g1(a,c,s);else if(a.tag===19)g1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&ed(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),xp(s,!1,y,c,b,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&ed(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}xp(s,!0,c,null,b,h);break;case"together":xp(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ma(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),ai|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(lo(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=la(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=la(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function _p(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Gu(a)))}function PD(a,s,c){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Xa(s,zt,a.memoizedState.cache),Hi();break;case 27:case 5:we(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Xa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gm(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ei(s),s.flags|=128,null):(c&s.child.childLanes)!==0?p1(a,s,c):(ei(s),a=ma(a,s,c),a!==null?a.sibling:null);ei(s);break;case 19:var y=(a.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(lo(a,s,c,!1),h=(c&s.childLanes)!==0),y){if(h)return v1(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),V(Pt,Pt.current),h)break;return null;case 22:return s.lanes=0,c1(a,s,c,s.pendingProps);case 24:Xa(s,zt,a.memoizedState.cache)}return ma(a,s,c)}function y1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)$t=!0;else{if(!_p(a,c)&&(s.flags&128)===0)return $t=!1,PD(a,s,c);$t=(a.flags&131072)!==0}else $t=!1,Fe&&(s.flags&1048576)!==0&&X_(s,$l,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(a=Yi(s.elementType),s.type=a,typeof a=="function")Em(a)?(h=Qi(a,h),s.tag=1,s=h1(null,s,a,h,c)):(s.tag=0,s=mp(null,s,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===k){s.tag=11,s=s1(null,s,a,h,c);break e}else if(y===R){s.tag=14,s=o1(null,s,a,h,c);break e}}throw s=q(a)||a,Error(r(306,s,""))}}return s;case 0:return mp(a,s,s.type,s.pendingProps,c);case 1:return h=s.type,y=Qi(h,s.pendingProps),h1(a,s,h,y,c);case 3:e:{if(Le(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var b=s.memoizedState;y=b.element,qm(a,s),Vl(s,h,null,c);var O=s.memoizedState;if(h=O.cache,Xa(s,zt,h),h!==b.cache&&Dm(s,[zt],c,!0),Yl(),h=O.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=m1(a,s,h,c);break e}else if(h!==y){y=cr(Error(r(424)),s),ql(y),s=m1(a,s,h,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(mt=mr(a.firstChild),fn=s,Fe=!0,Va=null,fr=!0,c=cw(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Hi(),h===y){s=ma(a,s,c);break e}mn(a,s,h,c)}s=s.child}return s;case 26:return dd(a,s),a===null?(c=CS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Fe||(c=s.type,a=s.pendingProps,h=Nd(de.current).createElement(c),h[dn]=s,h[Tn]=a,pn(h,c,a),nn(h),s.stateNode=h):s.memoizedState=CS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&Fe&&(h=s.stateNode=ES(s.type,s.pendingProps,de.current),fn=s,fr=!0,y=mt,ci(s.type)?(eg=y,mt=mr(h.firstChild)):mt=y),mn(a,s,s.pendingProps.children,c),dd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Fe&&((y=h=mt)&&(h=l3(h,s.type,s.pendingProps,fr),h!==null?(s.stateNode=h,fn=s,mt=mr(h.firstChild),fr=!1,y=!0):y=!1),y||Wa(s)),we(s),y=s.type,b=s.pendingProps,O=a!==null?a.memoizedProps:null,h=b.children,Wp(y,b)?h=null:O!==null&&Wp(y,O)&&(s.flags|=32),s.memoizedState!==null&&(y=Vm(a,s,SD,null,null,c),mc._currentValue=y),dd(a,s),mn(a,s,h,c),s.child;case 6:return a===null&&Fe&&((a=c=mt)&&(c=c3(c,s.pendingProps,fr),c!==null?(s.stateNode=c,fn=s,mt=null,a=!0):a=!1),a||Wa(s)),null;case 13:return p1(a,s,c);case 4:return Le(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Wi(s,null,h,c):mn(a,s,h,c),s.child;case 11:return s1(a,s,s.type,s.pendingProps,c);case 7:return mn(a,s,s.pendingProps,c),s.child;case 8:return mn(a,s,s.pendingProps.children,c),s.child;case 12:return mn(a,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,Xa(s,s.type,h.value),mn(a,s,h.children,c),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Fi(s),y=hn(y),h=h(y),s.flags|=1,mn(a,s,h,c),s.child;case 14:return o1(a,s,s.type,s.pendingProps,c);case 15:return l1(a,s,s.type,s.pendingProps,c);case 19:return v1(a,s,c);case 31:return kD(a,s,c);case 22:return c1(a,s,c,s.pendingProps);case 24:return Fi(s),h=hn(zt),a===null?(y=zm(),y===null&&(y=ct,b=Im(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),s.memoizedState={parent:h,cache:y},$m(s),Xa(s,zt,y)):((a.lanes&c)!==0&&(qm(a,s),Vl(s,null,null,c),Yl()),y=a.memoizedState,b=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Xa(s,zt,h)):(h=b.cache,Xa(s,zt,h),h!==y.cache&&Dm(s,[zt],c,!0))),mn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function pa(a){a.flags|=4}function wp(a,s,c,h,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(F1())a.flags|=8192;else throw Vi=Xu,Um}else a.flags&=-16777217}function b1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!RS(s))if(F1())a.flags|=8192;else throw Vi=Xu,Um}function hd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Jx():536870912,a.lanes|=s,_o|=s)}function ec(a,s){if(!Fe)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function pt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function MD(a,s,c){var h=s.pendingProps;switch(Tm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return c=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),da(zt),te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(oo(s)?pa(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pm())),pt(s),null;case 26:var y=s.type,b=s.memoizedState;return a===null?(pa(s),b!==null?(pt(s),b1(s,b)):(pt(s),wp(s,y,null,h,c))):b?b!==a.memoizedState?(pa(s),pt(s),b1(s,b)):(pt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&pa(s),pt(s),wp(s,y,a,h,c)),null;case 27:if(Ce(s),c=de.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&pa(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return pt(s),null}a=W.current,oo(s)?J_(s):(a=ES(y,h,c),s.stateNode=a,pa(s))}return pt(s),null;case 5:if(Ce(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&pa(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(b=W.current,oo(s))J_(s);else{var O=Nd(de.current);switch(b){case 1:b=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=O.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?O.createElement(y,{is:h.is}):O.createElement(y)}}b[dn]=s,b[Tn]=h;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=b;e:switch(pn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&pa(s)}}return pt(s),wp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&pa(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=de.current,oo(s)){if(a=s.stateNode,c=s.memoizedProps,h=null,y=fn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[dn]=s,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||pS(a.nodeValue,c)),a||Wa(s,!0)}else a=Nd(a).createTextNode(h),a[dn]=s,s.stateNode=a}return pt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(h=oo(s),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[dn]=s}else Hi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),a=!1}else c=Pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return pt(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=oo(s),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[dn]=s}else Hi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),y=!1}else y=Pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),hd(s,s.updateQueue),pt(s),null);case 4:return te(),a===null&&Kp(s.stateNode.containerInfo),pt(s),null;case 10:return da(s.type),pt(s),null;case 19:if(D(Pt),h=s.memoizedState,h===null)return pt(s),null;if(y=(s.flags&128)!==0,b=h.rendering,b===null)if(y)ec(h,!1);else{if(At!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=ed(a),b!==null){for(s.flags|=128,ec(h,!1),a=b.updateQueue,s.updateQueue=a,hd(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Y_(c,a),c=c.sibling;return V(Pt,Pt.current&1|2),Fe&&ca(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&It()>yd&&(s.flags|=128,y=!0,ec(h,!1),s.lanes=4194304)}else{if(!y)if(a=ed(b),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,hd(s,a),ec(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Fe)return pt(s),null}else 2*It()-h.renderingStartTime>yd&&c!==536870912&&(s.flags|=128,y=!0,ec(h,!1),s.lanes=4194304);h.isBackwards?(b.sibling=s.child,s.child=b):(a=h.last,a!==null?a.sibling=b:s.child=b,h.last=b)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=It(),a.sibling=null,c=Pt.current,V(Pt,y?c&1|2:c&1),Fe&&ca(s,h.treeForkCount),a):(pt(s),null);case 22:case 23:return Gn(s),Fm(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),c=s.updateQueue,c!==null&&hd(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),a!==null&&D(Gi),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),da(zt),pt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function RD(a,s){switch(Tm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return da(zt),te(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(r(340));Hi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Gn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return D(Pt),null;case 4:return te(),null;case 10:return da(s.type),null;case 22:case 23:return Gn(s),Fm(),a!==null&&D(Gi),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return da(zt),null;case 25:return null;default:return null}}function x1(a,s){switch(Tm(s),s.tag){case 3:da(zt),te();break;case 26:case 27:case 5:Ce(s);break;case 4:te();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:D(Pt);break;case 10:da(s.type);break;case 22:case 23:Gn(s),Fm(),a!==null&&D(Gi);break;case 24:da(zt)}}function tc(a,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var b=c.create,O=c.inst;h=b(),O.destroy=h}c=c.next}while(c!==y)}}catch(T){nt(s,s.return,T)}}function ni(a,s,c){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&a)===a){var O=h.inst,T=O.destroy;if(T!==void 0){O.destroy=void 0,y=s;var I=c,Y=T;try{Y()}catch(re){nt(y,I,re)}}}h=h.next}while(h!==b)}}catch(re){nt(s,s.return,re)}}function _1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{dw(s,c)}catch(h){nt(a,a.return,h)}}}function w1(a,s,c){c.props=Qi(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){nt(a,s,h)}}function nc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){nt(a,s,y)}}function Gr(a,s){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){nt(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){nt(a,s,y)}else c.current=null}function S1(a){var s=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){nt(a,a.return,y)}}function Sp(a,s,c){try{var h=a.stateNode;n3(h,a.type,c,s),h[Tn]=s}catch(y){nt(a,a.return,y)}}function j1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ci(a.type)||a.tag===4}function jp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||j1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ci(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Op(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=sa));else if(h!==4&&(h===27&&ci(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Op(a,s,c),a=a.sibling;a!==null;)Op(a,s,c),a=a.sibling}function md(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(h===27&&ci(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(md(a,s,c),a=a.sibling;a!==null;)md(a,s,c),a=a.sibling}function O1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);pn(s,h,c),s[dn]=a,s[Tn]=c}catch(b){nt(a,a.return,b)}}var ga=!1,qt=!1,Ep=!1,E1=typeof WeakSet=="function"?WeakSet:Set,rn=null;function DD(a,s){if(a=a.containerInfo,Yp=Dd,a=z_(a),bm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var O=0,T=-1,I=-1,Y=0,re=0,le=a,X=null;t:for(;;){for(var ee;le!==c||y!==0&&le.nodeType!==3||(T=O+y),le!==b||h!==0&&le.nodeType!==3||(I=O+h),le.nodeType===3&&(O+=le.nodeValue.length),(ee=le.firstChild)!==null;)X=le,le=ee;for(;;){if(le===a)break t;if(X===c&&++Y===y&&(T=O),X===b&&++re===h&&(I=O),(ee=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=ee}c=T===-1||I===-1?null:{start:T,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(Vp={focusedElem:a,selectionRange:c},Dd=!1,rn=s;rn!==null;)if(s=rn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,rn=a;else for(;rn!==null;){switch(s=rn,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=s,y=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var ve=Qi(c.type,y);a=h.getSnapshotBeforeUpdate(ve,b),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){nt(c,c.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Qp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Qp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,rn=a;break}rn=s.return}}function A1(a,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ya(a,c),h&4&&tc(5,c);break;case 1:if(ya(a,c),h&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(O){nt(c,c.return,O)}else{var y=Qi(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(O){nt(c,c.return,O)}}h&64&&_1(c),h&512&&nc(c,c.return);break;case 3:if(ya(a,c),h&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{dw(a,s)}catch(O){nt(c,c.return,O)}}break;case 27:s===null&&h&4&&O1(c);case 26:case 5:ya(a,c),s===null&&h&4&&S1(c),h&512&&nc(c,c.return);break;case 12:ya(a,c);break;case 31:ya(a,c),h&4&&T1(a,c);break;case 13:ya(a,c),h&4&&k1(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=KD.bind(null,c),u3(a,c))));break;case 22:if(h=c.memoizedState!==null||ga,!h){s=s!==null&&s.memoizedState!==null||qt,y=ga;var b=qt;ga=h,(qt=s)&&!b?ba(a,c,(c.subtreeFlags&8772)!==0):ya(a,c),ga=y,qt=b}break;case 30:break;default:ya(a,c)}}function N1(a){var s=a.alternate;s!==null&&(a.alternate=null,N1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&nm(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vt=null,Pn=!1;function va(a,s,c){for(c=c.child;c!==null;)C1(a,s,c),c=c.sibling}function C1(a,s,c){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(wt,c)}catch{}switch(c.tag){case 26:qt||Gr(c,s),va(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qt||Gr(c,s);var h=vt,y=Pn;ci(c.type)&&(vt=c.stateNode,Pn=!1),va(a,s,c),dc(c.stateNode),vt=h,Pn=y;break;case 5:qt||Gr(c,s);case 6:if(h=vt,y=Pn,vt=null,va(a,s,c),vt=h,Pn=y,vt!==null)if(Pn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(c.stateNode)}catch(b){nt(c,s,b)}else try{vt.removeChild(c.stateNode)}catch(b){nt(c,s,b)}break;case 18:vt!==null&&(Pn?(a=vt,_S(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Co(a)):_S(vt,c.stateNode));break;case 4:h=vt,y=Pn,vt=c.stateNode.containerInfo,Pn=!0,va(a,s,c),vt=h,Pn=y;break;case 0:case 11:case 14:case 15:ni(2,c,s),qt||ni(4,c,s),va(a,s,c);break;case 1:qt||(Gr(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&w1(c,s,h)),va(a,s,c);break;case 21:va(a,s,c);break;case 22:qt=(h=qt)||c.memoizedState!==null,va(a,s,c),qt=h;break;default:va(a,s,c)}}function T1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Co(a)}catch(c){nt(s,s.return,c)}}}function k1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Co(a)}catch(c){nt(s,s.return,c)}}function ID(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new E1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new E1),s;default:throw Error(r(435,a.tag))}}function pd(a,s){var c=ID(a);s.forEach(function(h){if(!c.has(h)){c.add(h);var y=FD.bind(null,a,h);h.then(y,y)}})}function Mn(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],b=a,O=s,T=O;e:for(;T!==null;){switch(T.tag){case 27:if(ci(T.type)){vt=T.stateNode,Pn=!1;break e}break;case 5:vt=T.stateNode,Pn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(vt===null)throw Error(r(160));C1(b,O,y),vt=null,Pn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)P1(s,a),s=s.sibling}var kr=null;function P1(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mn(s,a),Rn(a),h&4&&(ni(3,a,a.return),tc(3,a),ni(5,a,a.return));break;case 1:Mn(s,a),Rn(a),h&512&&(qt||c===null||Gr(c,c.return)),h&64&&ga&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=kr;if(Mn(s,a),Rn(a),h&512&&(qt||c===null||Gr(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Cl]||b[dn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),pn(b,h,c),b[dn]=a,nn(b),h=b;break e;case"link":var O=PS("link","href",y).get(h+(c.href||""));if(O){for(var T=0;T<O.length;T++)if(b=O[T],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(T,1);break t}}b=y.createElement(h),pn(b,h,c),y.head.appendChild(b);break;case"meta":if(O=PS("meta","content",y).get(h+(c.content||""))){for(T=0;T<O.length;T++)if(b=O[T],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(T,1);break t}}b=y.createElement(h),pn(b,h,c),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[dn]=a,nn(b),h=b}a.stateNode=h}else MS(y,a.type,a.stateNode);else a.stateNode=kS(y,h,a.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?MS(y,a.type,a.stateNode):kS(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Sp(a,a.memoizedProps,c.memoizedProps)}break;case 27:Mn(s,a),Rn(a),h&512&&(qt||c===null||Gr(c,c.return)),c!==null&&h&4&&Sp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Mn(s,a),Rn(a),h&512&&(qt||c===null||Gr(c,c.return)),a.flags&32){y=a.stateNode;try{Qs(y,"")}catch(ve){nt(a,a.return,ve)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,Sp(a,y,c!==null?c.memoizedProps:y)),h&1024&&(Ep=!0);break;case 6:if(Mn(s,a),Rn(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(ve){nt(a,a.return,ve)}}break;case 3:if(kd=null,y=kr,kr=Cd(s.containerInfo),Mn(s,a),kr=y,Rn(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(ve){nt(a,a.return,ve)}Ep&&(Ep=!1,M1(a));break;case 4:h=kr,kr=Cd(a.stateNode.containerInfo),Mn(s,a),Rn(a),kr=h;break;case 12:Mn(s,a),Rn(a);break;case 31:Mn(s,a),Rn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,pd(a,h)));break;case 13:Mn(s,a),Rn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(vd=It()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,pd(a,h)));break;case 22:y=a.memoizedState!==null;var I=c!==null&&c.memoizedState!==null,Y=ga,re=qt;if(ga=Y||y,qt=re||I,Mn(s,a),qt=re,ga=Y,Rn(a),h&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||I||ga||qt||Ji(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){I=c=s;try{if(b=I.stateNode,y)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{T=I.stateNode;var le=I.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){nt(I,I.return,ve)}}}else if(s.tag===6){if(c===null){I=s;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(ve){nt(I,I.return,ve)}}}else if(s.tag===18){if(c===null){I=s;try{var ee=I.stateNode;y?wS(ee,!0):wS(I.stateNode,!1)}catch(ve){nt(I,I.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,pd(a,c))));break;case 19:Mn(s,a),Rn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,pd(a,h)));break;case 30:break;case 21:break;default:Mn(s,a),Rn(a)}}function Rn(a){var s=a.flags;if(s&2){try{for(var c,h=a.return;h!==null;){if(j1(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=jp(a);md(a,b,y);break;case 5:var O=c.stateNode;c.flags&32&&(Qs(O,""),c.flags&=-33);var T=jp(a);md(a,T,O);break;case 3:case 4:var I=c.stateNode.containerInfo,Y=jp(a);Op(a,Y,I);break;default:throw Error(r(161))}}catch(re){nt(a,a.return,re)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function M1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;M1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ya(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)A1(a,s.alternate,s),s=s.sibling}function Ji(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ni(4,s,s.return),Ji(s);break;case 1:Gr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&w1(s,s.return,c),Ji(s);break;case 27:dc(s.stateNode);case 26:case 5:Gr(s,s.return),Ji(s);break;case 22:s.memoizedState===null&&Ji(s);break;case 30:Ji(s);break;default:Ji(s)}a=a.sibling}}function ba(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=a,b=s,O=b.flags;switch(b.tag){case 0:case 11:case 15:ba(y,b,c),tc(4,b);break;case 1:if(ba(y,b,c),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){nt(h,h.return,Y)}if(h=b,y=h.updateQueue,y!==null){var T=h.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)uw(I[y],T)}catch(Y){nt(h,h.return,Y)}}c&&O&64&&_1(b),nc(b,b.return);break;case 27:O1(b);case 26:case 5:ba(y,b,c),c&&h===null&&O&4&&S1(b),nc(b,b.return);break;case 12:ba(y,b,c);break;case 31:ba(y,b,c),c&&O&4&&T1(y,b);break;case 13:ba(y,b,c),c&&O&4&&k1(y,b);break;case 22:b.memoizedState===null&&ba(y,b,c),nc(b,b.return);break;case 30:break;default:ba(y,b,c)}s=s.sibling}}function Ap(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Bl(c))}function Np(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bl(a))}function Pr(a,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)R1(a,s,c,h),s=s.sibling}function R1(a,s,c,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Pr(a,s,c,h),y&2048&&tc(9,s);break;case 1:Pr(a,s,c,h);break;case 3:Pr(a,s,c,h),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bl(a)));break;case 12:if(y&2048){Pr(a,s,c,h),a=s.stateNode;try{var b=s.memoizedProps,O=b.id,T=b.onPostCommit;typeof T=="function"&&T(O,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(I){nt(s,s.return,I)}}else Pr(a,s,c,h);break;case 31:Pr(a,s,c,h);break;case 13:Pr(a,s,c,h);break;case 23:break;case 22:b=s.stateNode,O=s.alternate,s.memoizedState!==null?b._visibility&2?Pr(a,s,c,h):rc(a,s):b._visibility&2?Pr(a,s,c,h):(b._visibility|=2,yo(a,s,c,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Ap(O,s);break;case 24:Pr(a,s,c,h),y&2048&&Np(s.alternate,s);break;default:Pr(a,s,c,h)}}function yo(a,s,c,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,O=s,T=c,I=h,Y=O.flags;switch(O.tag){case 0:case 11:case 15:yo(b,O,T,I,y),tc(8,O);break;case 23:break;case 22:var re=O.stateNode;O.memoizedState!==null?re._visibility&2?yo(b,O,T,I,y):rc(b,O):(re._visibility|=2,yo(b,O,T,I,y)),y&&Y&2048&&Ap(O.alternate,O);break;case 24:yo(b,O,T,I,y),y&&Y&2048&&Np(O.alternate,O);break;default:yo(b,O,T,I,y)}s=s.sibling}}function rc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,h=s,y=h.flags;switch(h.tag){case 22:rc(c,h),y&2048&&Ap(h.alternate,h);break;case 24:rc(c,h),y&2048&&Np(h.alternate,h);break;default:rc(c,h)}s=s.sibling}}var ac=8192;function bo(a,s,c){if(a.subtreeFlags&ac)for(a=a.child;a!==null;)D1(a,s,c),a=a.sibling}function D1(a,s,c){switch(a.tag){case 26:bo(a,s,c),a.flags&ac&&a.memoizedState!==null&&w3(c,kr,a.memoizedState,a.memoizedProps);break;case 5:bo(a,s,c);break;case 3:case 4:var h=kr;kr=Cd(a.stateNode.containerInfo),bo(a,s,c),kr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=ac,ac=16777216,bo(a,s,c),ac=h):bo(a,s,c));break;default:bo(a,s,c)}}function I1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ic(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];rn=h,z1(h,a)}I1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)L1(a),a=a.sibling}function L1(a){switch(a.tag){case 0:case 11:case 15:ic(a),a.flags&2048&&ni(9,a,a.return);break;case 3:ic(a);break;case 12:ic(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,gd(a)):ic(a);break;default:ic(a)}}function gd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];rn=h,z1(h,a)}I1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ni(8,s,s.return),gd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,gd(s));break;default:gd(s)}a=a.sibling}}function z1(a,s){for(;rn!==null;){var c=rn;switch(c.tag){case 0:case 11:case 15:ni(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Bl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,rn=h;else e:for(c=a;rn!==null;){h=rn;var y=h.sibling,b=h.return;if(N1(h),h===c){rn=null;break e}if(y!==null){y.return=b,rn=y;break e}rn=b}}}var LD={getCacheForType:function(a){var s=hn(zt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return hn(zt).controller.signal}},zD=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Ue=null,He=0,tt=0,Yn=null,ri=!1,xo=!1,Cp=!1,xa=0,At=0,ai=0,Zi=0,Tp=0,Vn=0,_o=0,sc=null,Dn=null,kp=!1,vd=0,U1=0,yd=1/0,bd=null,ii=null,Gt=0,si=null,wo=null,_a=0,Pp=0,Mp=null,$1=null,oc=0,Rp=null;function Wn(){return(Je&2)!==0&&He!==0?He&-He:L.T!==null?$p():n_()}function q1(){if(Vn===0)if((He&536870912)===0||Fe){var a=tn;tn<<=1,(tn&3932160)===0&&(tn=262144),Vn=a}else Vn=536870912;return a=Fn.current,a!==null&&(a.flags|=32),Vn}function In(a,s,c){(a===ct&&(tt===2||tt===9)||a.cancelPendingCommit!==null)&&(So(a,0),oi(a,He,Vn,!1)),Nl(a,c),((Je&2)===0||a!==ct)&&(a===ct&&((Je&2)===0&&(Zi|=c),At===4&&oi(a,He,Vn,!1)),Yr(a))}function B1(a,s,c){if((Je&6)!==0)throw Error(r(327));var h=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Al(a,s),y=h?qD(a,s):Ip(a,s,!0),b=h;do{if(y===0){xo&&!h&&oi(a,s,0,!1);break}else{if(c=a.current.alternate,b&&!UD(c)){y=Ip(a,s,!1),b=!1;continue}if(y===2){if(b=s,a.errorRecoveryDisabledLanes&b)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var T=a;y=sc;var I=T.current.memoizedState.isDehydrated;if(I&&(So(T,O).flags|=256),O=Ip(T,O,!1),O!==2){if(Cp&&!I){T.errorRecoveryDisabledLanes|=b,Zi|=b,y=4;break e}b=Dn,Dn=y,b!==null&&(Dn===null?Dn=b:Dn.push.apply(Dn,b))}y=O}if(b=!1,y!==2)continue}}if(y===1){So(a,0),oi(a,s,0,!0);break}e:{switch(h=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:oi(h,s,Vn,!ri);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=vd+300-It(),10<y)){if(oi(h,s,Vn,!ri),Ks(h,0,!0)!==0)break e;_a=s,h.timeoutHandle=bS(H1.bind(null,h,c,Dn,bd,kp,s,Vn,Zi,_o,ri,b,"Throttled",-0,0),y);break e}H1(h,c,Dn,bd,kp,s,Vn,Zi,_o,ri,b,null,-0,0)}}break}while(!0);Yr(a)}function H1(a,s,c,h,y,b,O,T,I,Y,re,le,X,ee){if(a.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},D1(s,b,le);var ve=(b&62914560)===b?vd-It():(b&4194048)===b?U1-It():0;if(ve=S3(le,ve),ve!==null){_a=b,a.cancelPendingCommit=ve(Q1.bind(null,a,s,b,c,h,y,O,T,I,re,le,null,X,ee)),oi(a,b,O,!Y);return}}Q1(a,s,b,c,h,y,O,T,I)}function UD(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],b=y.getSnapshot;y=y.value;try{if(!Hn(b(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oi(a,s,c,h){s&=~Tp,s&=~Zi,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var y=s;0<y;){var b=31-dt(y),O=1<<b;h[b]=-1,y&=~O}c!==0&&Zx(a,c,s)}function xd(){return(Je&6)===0?(lc(0),!1):!0}function Dp(){if(Ue!==null){if(tt===0)var a=Ue.return;else a=Ue,ua=Ki=null,Qm(a),ho=null,Kl=0,a=Ue;for(;a!==null;)x1(a.alternate,a),a=a.return;Ue=null}}function So(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,i3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),_a=0,Dp(),ct=a,Ue=c=la(a.current,null),He=s,tt=0,Yn=null,ri=!1,xo=Al(a,s),Cp=!1,_o=Vn=Tp=Zi=ai=At=0,Dn=sc=null,kp=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var y=31-dt(h),b=1<<y;s|=a[y],h&=~b}return xa=s,qu(),c}function K1(a,s){Re=null,L.H=Jl,s===fo||s===Wu?(s=sw(),tt=3):s===Um?(s=sw(),tt=4):tt=s===hp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Ue===null&&(At=1,cd(a,cr(s,a.current)))}function F1(){var a=Fn.current;return a===null?!0:(He&4194048)===He?hr===null:(He&62914560)===He||(He&536870912)!==0?a===hr:!1}function G1(){var a=L.H;return L.H=Jl,a===null?Jl:a}function Y1(){var a=L.A;return L.A=LD,a}function _d(){At=4,ri||(He&4194048)!==He&&Fn.current!==null||(xo=!0),(ai&134217727)===0&&(Zi&134217727)===0||ct===null||oi(ct,He,Vn,!1)}function Ip(a,s,c){var h=Je;Je|=2;var y=G1(),b=Y1();(ct!==a||He!==s)&&(bd=null,So(a,s)),s=!1;var O=At;e:do try{if(tt!==0&&Ue!==null){var T=Ue,I=Yn;switch(tt){case 8:Dp(),O=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var Y=tt;if(tt=0,Yn=null,jo(a,T,I,Y),c&&xo){O=0;break e}break;default:Y=tt,tt=0,Yn=null,jo(a,T,I,Y)}}$D(),O=At;break}catch(re){K1(a,re)}while(!0);return s&&a.shellSuspendCounter++,ua=Ki=null,Je=h,L.H=y,L.A=b,Ue===null&&(ct=null,He=0,qu()),O}function $D(){for(;Ue!==null;)V1(Ue)}function qD(a,s){var c=Je;Je|=2;var h=G1(),y=Y1();ct!==a||He!==s?(bd=null,yd=It()+500,So(a,s)):xo=Al(a,s);e:do try{if(tt!==0&&Ue!==null){s=Ue;var b=Yn;t:switch(tt){case 1:tt=0,Yn=null,jo(a,s,b,1);break;case 2:case 9:if(aw(b)){tt=0,Yn=null,W1(s);break}s=function(){tt!==2&&tt!==9||ct!==a||(tt=7),Yr(a)},b.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:aw(b)?(tt=0,Yn=null,W1(s)):(tt=0,Yn=null,jo(a,s,b,7));break;case 5:var O=null;switch(Ue.tag){case 26:O=Ue.memoizedState;case 5:case 27:var T=Ue;if(O?RS(O):T.stateNode.complete){tt=0,Yn=null;var I=T.sibling;if(I!==null)Ue=I;else{var Y=T.return;Y!==null?(Ue=Y,wd(Y)):Ue=null}break t}}tt=0,Yn=null,jo(a,s,b,5);break;case 6:tt=0,Yn=null,jo(a,s,b,6);break;case 8:Dp(),At=6;break e;default:throw Error(r(462))}}BD();break}catch(re){K1(a,re)}while(!0);return ua=Ki=null,L.H=h,L.A=y,Je=c,Ue!==null?0:(ct=null,He=0,qu(),At)}function BD(){for(;Ue!==null&&!Ka();)V1(Ue)}function V1(a){var s=y1(a.alternate,a,xa);a.memoizedProps=a.pendingProps,s===null?wd(a):Ue=s}function W1(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=f1(c,s,s.pendingProps,s.type,void 0,He);break;case 11:s=f1(c,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Qm(s);default:x1(c,s),s=Ue=Y_(s,xa),s=y1(c,s,xa)}a.memoizedProps=a.pendingProps,s===null?wd(a):Ue=s}function jo(a,s,c,h){ua=Ki=null,Qm(s),ho=null,Kl=0;var y=s.return;try{if(TD(a,y,s,c,He)){At=1,cd(a,cr(c,a.current)),Ue=null;return}}catch(b){if(y!==null)throw Ue=y,b;At=1,cd(a,cr(c,a.current)),Ue=null;return}s.flags&32768?(Fe||h===1?a=!0:xo||(He&536870912)!==0?a=!1:(ri=a=!0,(h===2||h===9||h===3||h===6)&&(h=Fn.current,h!==null&&h.tag===13&&(h.flags|=16384))),X1(s,a)):wd(s)}function wd(a){var s=a;do{if((s.flags&32768)!==0){X1(s,ri);return}a=s.return;var c=MD(s.alternate,s,xa);if(c!==null){Ue=c;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=a}while(s!==null);At===0&&(At=5)}function X1(a,s){do{var c=RD(a.alternate,a);if(c!==null){c.flags&=32767,Ue=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=c}while(a!==null);At=6,Ue=null}function Q1(a,s,c,h,y,b,O,T,I){a.cancelPendingCommit=null;do Sd();while(Gt!==0);if((Je&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=jm,_R(a,c,b,O,T,I),a===ct&&(Ue=ct=null,He=0),wo=s,si=a,_a=c,Pp=b,Mp=y,$1=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,GD(ue,function(){return nS(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=L.T,L.T=null,y=Q.p,Q.p=2,O=Je,Je|=4;try{DD(a,s,c)}finally{Je=O,Q.p=y,L.T=h}}Gt=1,J1(),Z1(),eS()}}function J1(){if(Gt===1){Gt=0;var a=si,s=wo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var h=Q.p;Q.p=2;var y=Je;Je|=4;try{P1(s,a);var b=Vp,O=z_(a.containerInfo),T=b.focusedElem,I=b.selectionRange;if(O!==T&&T&&T.ownerDocument&&L_(T.ownerDocument.documentElement,T)){if(I!==null&&bm(T)){var Y=I.start,re=I.end;if(re===void 0&&(re=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(re,T.value.length);else{var le=T.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var ee=X.getSelection(),ve=T.textContent.length,Ne=Math.min(I.start,ve),ot=I.end===void 0?Ne:Math.min(I.end,ve);!ee.extend&&Ne>ot&&(O=ot,ot=Ne,Ne=O);var B=I_(T,Ne),U=I_(T,ot);if(B&&U&&(ee.rangeCount!==1||ee.anchorNode!==B.node||ee.anchorOffset!==B.offset||ee.focusNode!==U.node||ee.focusOffset!==U.offset)){var G=le.createRange();G.setStart(B.node,B.offset),ee.removeAllRanges(),Ne>ot?(ee.addRange(G),ee.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),ee.addRange(G))}}}}for(le=[],ee=T;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var se=le[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Dd=!!Yp,Vp=Yp=null}finally{Je=y,Q.p=h,L.T=c}}a.current=s,Gt=2}}function Z1(){if(Gt===2){Gt=0;var a=si,s=wo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var h=Q.p;Q.p=2;var y=Je;Je|=4;try{A1(a,s.alternate,s)}finally{Je=y,Q.p=h,L.T=c}}Gt=3}}function eS(){if(Gt===4||Gt===3){Gt=0,Ii();var a=si,s=wo,c=_a,h=$1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,wo=si=null,tS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ii=null),em(c),s=s.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(wt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=L.T,y=Q.p,Q.p=2,L.T=null;try{for(var b=a.onRecoverableError,O=0;O<h.length;O++){var T=h[O];b(T.value,{componentStack:T.stack})}}finally{L.T=s,Q.p=y}}(_a&3)!==0&&Sd(),Yr(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Rp?oc++:(oc=0,Rp=a):oc=0,lc(0)}}function tS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Bl(s)))}function Sd(){return J1(),Z1(),eS(),nS()}function nS(){if(Gt!==5)return!1;var a=si,s=Pp;Pp=0;var c=em(_a),h=L.T,y=Q.p;try{Q.p=32>c?32:c,L.T=null,c=Mp,Mp=null;var b=si,O=_a;if(Gt=0,wo=si=null,_a=0,(Je&6)!==0)throw Error(r(331));var T=Je;if(Je|=4,L1(b.current),R1(b,b.current,O,c),Je=T,lc(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(wt,b)}catch{}return!0}finally{Q.p=y,L.T=h,tS(a,s)}}function rS(a,s,c){s=cr(c,s),s=fp(a.stateNode,s,2),a=Za(a,s,2),a!==null&&(Nl(a,2),Yr(a))}function nt(a,s,c){if(a.tag===3)rS(a,a,c);else for(;s!==null;){if(s.tag===3){rS(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ii===null||!ii.has(h))){a=cr(c,a),c=a1(2),h=Za(s,c,2),h!==null&&(i1(c,h,s,a),Nl(h,2),Yr(h));break}}s=s.return}}function Lp(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new zD;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(c)||(Cp=!0,y.add(c),a=HD.bind(null,a,s,c),s.then(a,a))}function HD(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ct===a&&(He&c)===c&&(At===4||At===3&&(He&62914560)===He&&300>It()-vd?(Je&2)===0&&So(a,0):Tp|=c,_o===He&&(_o=0)),Yr(a)}function aS(a,s){s===0&&(s=Jx()),a=qi(a,s),a!==null&&(Nl(a,s),Yr(a))}function KD(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),aS(a,c)}function FD(a,s){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),aS(a,c)}function GD(a,s){return ra(a,s)}var jd=null,Oo=null,zp=!1,Od=!1,Up=!1,li=0;function Yr(a){a!==Oo&&a.next===null&&(Oo===null?jd=Oo=a:Oo=Oo.next=a),Od=!0,zp||(zp=!0,VD())}function lc(a,s){if(!Up&&Od){Up=!0;do for(var c=!1,h=jd;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var O=h.suspendedLanes,T=h.pingedLanes;b=(1<<31-dt(42|a)+1)-1,b&=y&~(O&~T),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,lS(h,b))}else b=He,b=Ks(h,h===ct?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Al(h,b)||(c=!0,lS(h,b));h=h.next}while(c);Up=!1}}function YD(){iS()}function iS(){Od=zp=!1;var a=0;li!==0&&a3()&&(a=li);for(var s=It(),c=null,h=jd;h!==null;){var y=h.next,b=sS(h,s);b===0?(h.next=null,c===null?jd=y:c.next=y,y===null&&(Oo=c)):(c=h,(a!==0||(b&3)!==0)&&(Od=!0)),h=y}Gt!==0&&Gt!==5||lc(a),li!==0&&(li=0)}function sS(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var O=31-dt(b),T=1<<O,I=y[O];I===-1?((T&c)===0||(T&h)!==0)&&(y[O]=xR(T,s)):I<=s&&(a.expiredLanes|=T),b&=~T}if(s=ct,c=He,c=Ks(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===s&&(tt===2||tt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Nr(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Al(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(h!==null&&Nr(h),em(c)){case 2:case 8:c=Hs;break;case 32:c=ue;break;case 268435456:c=Oe;break;default:c=ue}return h=oS.bind(null,a),c=ra(c,h),a.callbackPriority=s,a.callbackNode=c,s}return h!==null&&h!==null&&Nr(h),a.callbackPriority=2,a.callbackNode=null,2}function oS(a,s){if(Gt!==0&&Gt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Sd()&&a.callbackNode!==c)return null;var h=He;return h=Ks(a,a===ct?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(B1(a,h,s),sS(a,It()),a.callbackNode!=null&&a.callbackNode===c?oS.bind(null,a):null)}function lS(a,s){if(Sd())return null;B1(a,s,!0)}function VD(){s3(function(){(Je&6)!==0?ra(Bs,YD):iS()})}function $p(){if(li===0){var a=co;a===0&&(a=kt,kt<<=1,(kt&261888)===0&&(kt=256)),li=a}return li}function cS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Mu(""+a)}function uS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function WD(a,s,c,h,y){if(s==="submit"&&c&&c.stateNode===y){var b=cS((y[Tn]||null).action),O=h.submitter;O&&(s=(s=O[Tn]||null)?cS(s.formAction):O.getAttribute("formAction"),s!==null&&(b=s,O=null));var T=new Lu("action","action",null,h,y);a.push({event:T,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(li!==0){var I=O?uS(y,O):new FormData(y);sp(c,{pending:!0,data:I,method:y.method,action:b},null,I)}}else typeof b=="function"&&(T.preventDefault(),I=O?uS(y,O):new FormData(y),sp(c,{pending:!0,data:I,method:y.method,action:b},b,I))},currentTarget:y}]})}}for(var qp=0;qp<Sm.length;qp++){var Bp=Sm[qp],XD=Bp.toLowerCase(),QD=Bp[0].toUpperCase()+Bp.slice(1);Tr(XD,"on"+QD)}Tr(q_,"onAnimationEnd"),Tr(B_,"onAnimationIteration"),Tr(H_,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(hD,"onTransitionRun"),Tr(mD,"onTransitionStart"),Tr(pD,"onTransitionCancel"),Tr(K_,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function dS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var b=void 0;if(s)for(var O=h.length-1;0<=O;O--){var T=h[O],I=T.instance,Y=T.currentTarget;if(T=T.listener,I!==b&&y.isPropagationStopped())break e;b=T,y.currentTarget=Y;try{b(y)}catch(re){$u(re)}y.currentTarget=null,b=I}else for(O=0;O<h.length;O++){if(T=h[O],I=T.instance,Y=T.currentTarget,T=T.listener,I!==b&&y.isPropagationStopped())break e;b=T,y.currentTarget=Y;try{b(y)}catch(re){$u(re)}y.currentTarget=null,b=I}}}}function $e(a,s){var c=s[tm];c===void 0&&(c=s[tm]=new Set);var h=a+"__bubble";c.has(h)||(fS(s,a,2,!1),c.add(h))}function Hp(a,s,c){var h=0;s&&(h|=4),fS(c,a,h,s)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Kp(a){if(!a[Ed]){a[Ed]=!0,i_.forEach(function(c){c!=="selectionchange"&&(JD.has(c)||Hp(c,!1,a),Hp(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ed]||(s[Ed]=!0,Hp("selectionchange",!1,s))}}function fS(a,s,c,h){switch(qS(s)){case 2:var y=E3;break;case 8:y=A3;break;default:y=ig}c=y.bind(null,s,c,a),y=void 0,!um||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function Fp(a,s,c,h,y){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var T=h.stateNode.containerInfo;if(T===y)break;if(O===4)for(O=h.return;O!==null;){var I=O.tag;if((I===3||I===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;T!==null;){if(O=Gs(T),O===null)return;if(I=O.tag,I===5||I===6||I===26||I===27){h=b=O;continue e}T=T.parentNode}}h=h.return}v_(function(){var Y=b,re=lm(c),le=[];e:{var X=F_.get(a);if(X!==void 0){var ee=Lu,ve=a;switch(a){case"keypress":if(Du(c)===0)break e;case"keydown":case"keyup":ee=FR;break;case"focusin":ve="focus",ee=mm;break;case"focusout":ve="blur",ee=mm;break;case"beforeblur":case"afterblur":ee=mm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=x_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=VR;break;case q_:case B_:case H_:ee=IR;break;case K_:ee=XR;break;case"scroll":case"scrollend":ee=kR;break;case"wheel":ee=JR;break;case"copy":case"cut":case"paste":ee=zR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=w_;break;case"toggle":case"beforetoggle":ee=eD}var Ne=(s&4)!==0,ot=!Ne&&(a==="scroll"||a==="scrollend"),B=Ne?X!==null?X+"Capture":null:X;Ne=[];for(var U=Y,G;U!==null;){var se=U;if(G=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||G===null||B===null||(se=kl(U,B),se!=null&&Ne.push(uc(U,se,G))),ot)break;U=U.return}0<Ne.length&&(X=new ee(X,ve,null,c,re),le.push({event:X,listeners:Ne}))}}if((s&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",ee=a==="mouseout"||a==="pointerout",X&&c!==om&&(ve=c.relatedTarget||c.fromElement)&&(Gs(ve)||ve[Fs]))break e;if((ee||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(ve=c.relatedTarget||c.toElement,ee=Y,ve=ve?Gs(ve):null,ve!==null&&(ot=o(ve),Ne=ve.tag,ve!==ot||Ne!==5&&Ne!==27&&Ne!==6)&&(ve=null)):(ee=null,ve=Y),ee!==ve)){if(Ne=x_,se="onMouseLeave",B="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=w_,se="onPointerLeave",B="onPointerEnter",U="pointer"),ot=ee==null?X:Tl(ee),G=ve==null?X:Tl(ve),X=new Ne(se,U+"leave",ee,c,re),X.target=ot,X.relatedTarget=G,se=null,Gs(re)===Y&&(Ne=new Ne(B,U+"enter",ve,c,re),Ne.target=G,Ne.relatedTarget=ot,se=Ne),ot=se,ee&&ve)t:{for(Ne=ZD,B=ee,U=ve,G=0,se=B;se;se=Ne(se))G++;se=0;for(var je=U;je;je=Ne(je))se++;for(;0<G-se;)B=Ne(B),G--;for(;0<se-G;)U=Ne(U),se--;for(;G--;){if(B===U||U!==null&&B===U.alternate){Ne=B;break t}B=Ne(B),U=Ne(U)}Ne=null}else Ne=null;ee!==null&&hS(le,X,ee,Ne,!1),ve!==null&&ot!==null&&hS(le,ot,ve,Ne,!0)}}e:{if(X=Y?Tl(Y):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var Ye=T_;else if(N_(X))if(k_)Ye=uD;else{Ye=lD;var xe=oD}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&sm(Y.elementType)&&(Ye=T_):Ye=cD;if(Ye&&(Ye=Ye(a,Y))){C_(le,Ye,c,re);break e}xe&&xe(a,X,Y),a==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&im(X,"number",X.value)}switch(xe=Y?Tl(Y):window,a){case"focusin":(N_(xe)||xe.contentEditable==="true")&&(to=xe,xm=Y,Ul=null);break;case"focusout":Ul=xm=to=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,U_(le,c,re);break;case"selectionchange":if(fD)break;case"keydown":case"keyup":U_(le,c,re)}var De;if(gm)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else eo?E_(a,c)&&(Ke="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(S_&&c.locale!=="ko"&&(eo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&eo&&(De=y_()):(Ga=re,dm="value"in Ga?Ga.value:Ga.textContent,eo=!0)),xe=Ad(Y,Ke),0<xe.length&&(Ke=new __(Ke,a,null,c,re),le.push({event:Ke,listeners:xe}),De?Ke.data=De:(De=A_(c),De!==null&&(Ke.data=De)))),(De=nD?rD(a,c):aD(a,c))&&(Ke=Ad(Y,"onBeforeInput"),0<Ke.length&&(xe=new __("onBeforeInput","beforeinput",null,c,re),le.push({event:xe,listeners:Ke}),xe.data=De)),WD(le,a,Y,c,re)}dS(le,s)})}function uc(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Ad(a,s){for(var c=s+"Capture",h=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=kl(a,c),y!=null&&h.unshift(uc(a,y,b)),y=kl(a,s),y!=null&&h.push(uc(a,y,b))),a.tag===3)return h;a=a.return}return[]}function ZD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function hS(a,s,c,h,y){for(var b=s._reactName,O=[];c!==null&&c!==h;){var T=c,I=T.alternate,Y=T.stateNode;if(T=T.tag,I!==null&&I===h)break;T!==5&&T!==26&&T!==27||Y===null||(I=Y,y?(Y=kl(c,b),Y!=null&&O.unshift(uc(c,Y,I))):y||(Y=kl(c,b),Y!=null&&O.push(uc(c,Y,I)))),c=c.return}O.length!==0&&a.push({event:s,listeners:O})}var e3=/\r\n?/g,t3=/\u0000|\uFFFD/g;function mS(a){return(typeof a=="string"?a:""+a).replace(e3,`
`).replace(t3,"")}function pS(a,s){return s=mS(s),mS(a)===s}function st(a,s,c,h,y,b){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Qs(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Qs(a,""+h);break;case"className":ku(a,"class",h);break;case"tabIndex":ku(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ku(a,c,h);break;case"style":p_(a,h,b);break;case"data":if(s!=="object"){ku(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Mu(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&st(a,s,"name",y.name,y,null),st(a,s,"formEncType",y.formEncType,y,null),st(a,s,"formMethod",y.formMethod,y,null),st(a,s,"formTarget",y.formTarget,y,null)):(st(a,s,"encType",y.encType,y,null),st(a,s,"method",y.method,y,null),st(a,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Mu(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=sa);break;case"onScroll":h!=null&&$e("scroll",a);break;case"onScrollEnd":h!=null&&$e("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Mu(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":$e("beforetoggle",a),$e("toggle",a),Tu(a,"popover",h);break;case"xlinkActuate":ia(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ia(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ia(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ia(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ia(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ia(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ia(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ia(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ia(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Tu(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=CR.get(c)||c,Tu(a,c,h))}}function Gp(a,s,c,h,y,b){switch(c){case"style":p_(a,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Qs(a,h):(typeof h=="number"||typeof h=="bigint")&&Qs(a,""+h);break;case"onScroll":h!=null&&$e("scroll",a);break;case"onScrollEnd":h!=null&&$e("scrollend",a);break;case"onClick":h!=null&&(a.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!s_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),b=a[Tn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(s,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Tu(a,c,h)}}}function pn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",a),$e("load",a);var h=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var O=c[b];if(O!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(a,s,b,O,c,null)}}y&&st(a,s,"srcSet",c.srcSet,c,null),h&&st(a,s,"src",c.src,c,null);return;case"input":$e("invalid",a);var T=b=O=y=null,I=null,Y=null;for(h in c)if(c.hasOwnProperty(h)){var re=c[h];if(re!=null)switch(h){case"name":y=re;break;case"type":O=re;break;case"checked":I=re;break;case"defaultChecked":Y=re;break;case"value":b=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:st(a,s,h,re,c,null)}}d_(a,b,T,I,Y,O,y,!1);return;case"select":$e("invalid",a),h=O=b=null;for(y in c)if(c.hasOwnProperty(y)&&(T=c[y],T!=null))switch(y){case"value":b=T;break;case"defaultValue":O=T;break;case"multiple":h=T;default:st(a,s,y,T,c,null)}s=b,c=O,a.multiple=!!h,s!=null?Xs(a,!!h,s,!1):c!=null&&Xs(a,!!h,c,!0);return;case"textarea":$e("invalid",a),b=y=h=null;for(O in c)if(c.hasOwnProperty(O)&&(T=c[O],T!=null))switch(O){case"value":h=T;break;case"defaultValue":y=T;break;case"children":b=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:st(a,s,O,T,c,null)}h_(a,h,y,b);return;case"option":for(I in c)if(c.hasOwnProperty(I)&&(h=c[I],h!=null))switch(I){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:st(a,s,I,h,c,null)}return;case"dialog":$e("beforetoggle",a),$e("toggle",a),$e("cancel",a),$e("close",a);break;case"iframe":case"object":$e("load",a);break;case"video":case"audio":for(h=0;h<cc.length;h++)$e(cc[h],a);break;case"image":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"embed":case"source":case"link":$e("error",a),$e("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in c)if(c.hasOwnProperty(Y)&&(h=c[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:st(a,s,Y,h,c,null)}return;default:if(sm(s)){for(re in c)c.hasOwnProperty(re)&&(h=c[re],h!==void 0&&Gp(a,s,re,h,c,void 0));return}}for(T in c)c.hasOwnProperty(T)&&(h=c[T],h!=null&&st(a,s,T,h,c,null))}function n3(a,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,O=null,T=null,I=null,Y=null,re=null;for(ee in c){var le=c[ee];if(c.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":I=le;default:h.hasOwnProperty(ee)||st(a,s,ee,null,h,le)}}for(var X in h){var ee=h[X];if(le=c[X],h.hasOwnProperty(X)&&(ee!=null||le!=null))switch(X){case"type":b=ee;break;case"name":y=ee;break;case"checked":Y=ee;break;case"defaultChecked":re=ee;break;case"value":O=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==le&&st(a,s,X,ee,h,le)}}am(a,O,T,I,Y,re,b,y);return;case"select":ee=O=T=X=null;for(b in c)if(I=c[b],c.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":ee=I;default:h.hasOwnProperty(b)||st(a,s,b,null,h,I)}for(y in h)if(b=h[y],I=c[y],h.hasOwnProperty(y)&&(b!=null||I!=null))switch(y){case"value":X=b;break;case"defaultValue":T=b;break;case"multiple":O=b;default:b!==I&&st(a,s,y,b,h,I)}s=T,c=O,h=ee,X!=null?Xs(a,!!c,X,!1):!!h!=!!c&&(s!=null?Xs(a,!!c,s,!0):Xs(a,!!c,c?[]:"",!1));return;case"textarea":ee=X=null;for(T in c)if(y=c[T],c.hasOwnProperty(T)&&y!=null&&!h.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(a,s,T,null,h,y)}for(O in h)if(y=h[O],b=c[O],h.hasOwnProperty(O)&&(y!=null||b!=null))switch(O){case"value":X=y;break;case"defaultValue":ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&st(a,s,O,y,h,b)}f_(a,X,ee);return;case"option":for(var ve in c)if(X=c[ve],c.hasOwnProperty(ve)&&X!=null&&!h.hasOwnProperty(ve))switch(ve){case"selected":a.selected=!1;break;default:st(a,s,ve,null,h,X)}for(I in h)if(X=h[I],ee=c[I],h.hasOwnProperty(I)&&X!==ee&&(X!=null||ee!=null))switch(I){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:st(a,s,I,X,h,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in c)X=c[Ne],c.hasOwnProperty(Ne)&&X!=null&&!h.hasOwnProperty(Ne)&&st(a,s,Ne,null,h,X);for(Y in h)if(X=h[Y],ee=c[Y],h.hasOwnProperty(Y)&&X!==ee&&(X!=null||ee!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:st(a,s,Y,X,h,ee)}return;default:if(sm(s)){for(var ot in c)X=c[ot],c.hasOwnProperty(ot)&&X!==void 0&&!h.hasOwnProperty(ot)&&Gp(a,s,ot,void 0,h,X);for(re in h)X=h[re],ee=c[re],!h.hasOwnProperty(re)||X===ee||X===void 0&&ee===void 0||Gp(a,s,re,X,h,ee);return}}for(var B in c)X=c[B],c.hasOwnProperty(B)&&X!=null&&!h.hasOwnProperty(B)&&st(a,s,B,null,h,X);for(le in h)X=h[le],ee=c[le],!h.hasOwnProperty(le)||X===ee||X==null&&ee==null||st(a,s,le,X,h,ee)}function gS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],b=y.transferSize,O=y.initiatorType,T=y.duration;if(b&&T&&gS(O)){for(O=0,T=y.responseEnd,h+=1;h<c.length;h++){var I=c[h],Y=I.startTime;if(Y>T)break;var re=I.transferSize,le=I.initiatorType;re&&gS(le)&&(I=I.responseEnd,O+=re*(I<T?1:(T-Y)/(I-Y)))}if(--h,s+=8*(b+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Yp=null,Vp=null;function Nd(a){return a.nodeType===9?a:a.ownerDocument}function vS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Wp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xp=null;function a3(){var a=window.event;return a&&a.type==="popstate"?a===Xp?!1:(Xp=a,!0):(Xp=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,i3=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,s3=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(a){return xS.resolve(null).then(a).catch(o3)}:bS;function o3(a){setTimeout(function(){throw a})}function ci(a){return a==="head"}function _S(a,s){var c=s,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),Co(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")dc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,dc(c);for(var b=c.firstChild;b;){var O=b.nextSibling,T=b.nodeName;b[Cl]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=O}}else c==="body"&&dc(a.ownerDocument.body);c=y}while(c);Co(s)}function wS(a,s){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function Qp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Qp(c),nm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function l3(a,s,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Cl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=mr(a.nextSibling),a===null)break}return null}function c3(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=mr(a.nextSibling),a===null))return null;return a}function SS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=mr(a.nextSibling),a===null))return null;return a}function Jp(a){return a.data==="$?"||a.data==="$~"}function Zp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function u3(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function mr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var eg=null;function jS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return mr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function OS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function ES(a,s,c){switch(s=Nd(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function dc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);nm(a)}var pr=new Map,AS=new Set;function Cd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var wa=Q.d;Q.d={f:d3,r:f3,D:h3,C:m3,L:p3,m:g3,X:y3,S:v3,M:b3};function d3(){var a=wa.f(),s=xd();return a||s}function f3(a){var s=Ys(a);s!==null&&s.tag===5&&s.type==="form"?Kw(s):wa.r(a)}var Eo=typeof document>"u"?null:document;function NS(a,s,c){var h=Eo;if(h&&typeof s=="string"&&s){var y=or(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),AS.has(y)||(AS.add(y),a={rel:a,crossOrigin:c,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),pn(s,"link",a),nn(s),h.head.appendChild(s)))}}function h3(a){wa.D(a),NS("dns-prefetch",a,null)}function m3(a,s){wa.C(a,s),NS("preconnect",a,s)}function p3(a,s,c){wa.L(a,s,c);var h=Eo;if(h&&a&&s){var y='link[rel="preload"][as="'+or(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+or(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+or(c.imageSizes)+'"]')):y+='[href="'+or(a)+'"]';var b=y;switch(s){case"style":b=Ao(a);break;case"script":b=No(a)}pr.has(b)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),pr.set(b,a),h.querySelector(y)!==null||s==="style"&&h.querySelector(fc(b))||s==="script"&&h.querySelector(hc(b))||(s=h.createElement("link"),pn(s,"link",a),nn(s),h.head.appendChild(s)))}}function g3(a,s){wa.m(a,s);var c=Eo;if(c&&a){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+or(h)+'"][href="'+or(a)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=No(a)}if(!pr.has(b)&&(a=g({rel:"modulepreload",href:a},s),pr.set(b,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(hc(b)))return}h=c.createElement("link"),pn(h,"link",a),nn(h),c.head.appendChild(h)}}}function v3(a,s,c){wa.S(a,s,c);var h=Eo;if(h&&a){var y=Vs(h).hoistableStyles,b=Ao(a);s=s||"default";var O=y.get(b);if(!O){var T={loading:0,preload:null};if(O=h.querySelector(fc(b)))T.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=pr.get(b))&&tg(a,c);var I=O=h.createElement("link");nn(I),pn(I,"link",a),I._p=new Promise(function(Y,re){I.onload=Y,I.onerror=re}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Td(O,s,h)}O={type:"stylesheet",instance:O,count:1,state:T},y.set(b,O)}}}function y3(a,s){wa.X(a,s);var c=Eo;if(c&&a){var h=Vs(c).hoistableScripts,y=No(a),b=h.get(y);b||(b=c.querySelector(hc(y)),b||(a=g({src:a,async:!0},s),(s=pr.get(y))&&ng(a,s),b=c.createElement("script"),nn(b),pn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function b3(a,s){wa.M(a,s);var c=Eo;if(c&&a){var h=Vs(c).hoistableScripts,y=No(a),b=h.get(y);b||(b=c.querySelector(hc(y)),b||(a=g({src:a,async:!0,type:"module"},s),(s=pr.get(y))&&ng(a,s),b=c.createElement("script"),nn(b),pn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function CS(a,s,c,h){var y=(y=de.current)?Cd(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ao(c.href),c=Vs(y).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ao(c.href);var b=Vs(y).hoistableStyles,O=b.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,O),(b=y.querySelector(fc(a)))&&!b._p&&(O.instance=b,O.state.loading=5),pr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},pr.set(a,c),b||x3(y,a,c,O.state))),s&&h===null)throw Error(r(528,""));return O}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(c),c=Vs(y).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ao(a){return'href="'+or(a)+'"'}function fc(a){return'link[rel="stylesheet"]['+a+"]"}function TS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function x3(a,s,c,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),pn(s,"link",c),nn(s),a.head.appendChild(s))}function No(a){return'[src="'+or(a)+'"]'}function hc(a){return"script[async]"+a}function kS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+or(c.href)+'"]');if(h)return s.instance=h,nn(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),nn(h),pn(h,"style",y),Td(h,c.precedence,a),s.instance=h;case"stylesheet":y=Ao(c.href);var b=a.querySelector(fc(y));if(b)return s.state.loading|=4,s.instance=b,nn(b),b;h=TS(c),(y=pr.get(y))&&tg(h,y),b=(a.ownerDocument||a).createElement("link"),nn(b);var O=b;return O._p=new Promise(function(T,I){O.onload=T,O.onerror=I}),pn(b,"link",h),s.state.loading|=4,Td(b,c.precedence,a),s.instance=b;case"script":return b=No(c.src),(y=a.querySelector(hc(b)))?(s.instance=y,nn(y),y):(h=c,(y=pr.get(b))&&(h=g({},c),ng(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),nn(y),pn(y,"link",h),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Td(h,c.precedence,a));return s.instance}function Td(a,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,O=0;O<h.length;O++){var T=h[O];if(T.dataset.precedence===s)b=T;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function tg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function ng(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var kd=null;function PS(a,s,c){if(kd===null){var h=new Map,y=kd=new Map;y.set(c,h)}else y=kd,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var b=c[y];if(!(b[Cl]||b[dn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(s)||"";O=a+O;var T=h.get(O);T?T.push(b):h.set(O,[b])}}return h}function MS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function _3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function RS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function w3(a,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Ao(h.href),b=s.querySelector(fc(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Pd.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=b,nn(b);return}b=s.ownerDocument||s,h=TS(h),(y=pr.get(y))&&tg(h,y),b=b.createElement("link"),nn(b);var O=b;O._p=new Promise(function(T,I){O.onload=T,O.onerror=I}),pn(b,"link",h),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Pd.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var rg=0;function S3(a,s){return a.stylesheets&&a.count===0&&Rd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&Rd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&rg===0&&(rg=62500*r3());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Rd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>rg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Md=null;function Rd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Md=new Map,s.forEach(j3,a),Md=null,Pd.call(a))}function j3(a,s){if(!(s.state.loading&4)){var c=Md.get(a);if(c)var h=c.get(null);else{c=new Map,Md.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var O=y[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}y=s.instance,O=y.getAttribute("data-precedence"),b=c.get(O)||h,b===h&&c.set(null,y),c.set(O,y),this.count++,h=Pd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var mc={$$typeof:A,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function O3(a,s,c,h,y,b,O,T,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.hiddenUpdates=Jh(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function DS(a,s,c,h,y,b,O,T,I,Y,re,le){return a=new O3(a,s,c,O,I,Y,re,le,T),s=1,b===!0&&(s|=24),b=Kn(3,null,null,s),a.current=b,b.stateNode=a,s=Im(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:s},$m(b),a}function IS(a){return a?(a=ao,a):ao}function LS(a,s,c,h,y,b){y=IS(y),h.context===null?h.context=y:h.pendingContext=y,h=Ja(s),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=Za(a,h,s),c!==null&&(In(c,a,s),Gl(c,a,s))}function zS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function ag(a,s){zS(a,s),(a=a.alternate)&&zS(a,s)}function US(a){if(a.tag===13||a.tag===31){var s=qi(a,67108864);s!==null&&In(s,a,67108864),ag(a,67108864)}}function $S(a){if(a.tag===13||a.tag===31){var s=Wn();s=Zh(s);var c=qi(a,s);c!==null&&In(c,a,s),ag(a,s)}}var Dd=!0;function E3(a,s,c,h){var y=L.T;L.T=null;var b=Q.p;try{Q.p=2,ig(a,s,c,h)}finally{Q.p=b,L.T=y}}function A3(a,s,c,h){var y=L.T;L.T=null;var b=Q.p;try{Q.p=8,ig(a,s,c,h)}finally{Q.p=b,L.T=y}}function ig(a,s,c,h){if(Dd){var y=sg(h);if(y===null)Fp(a,s,h,Id,c),BS(a,h);else if(C3(y,a,s,c,h))h.stopPropagation();else if(BS(a,h),s&4&&-1<N3.indexOf(a)){for(;y!==null;){var b=Ys(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=Lt(b.pendingLanes);if(O!==0){var T=b;for(T.pendingLanes|=2,T.entangledLanes|=2;O;){var I=1<<31-dt(O);T.entanglements[1]|=I,O&=~I}Yr(b),(Je&6)===0&&(yd=It()+500,lc(0))}}break;case 31:case 13:T=qi(b,2),T!==null&&In(T,b,2),xd(),ag(b,2)}if(b=sg(h),b===null&&Fp(a,s,h,Id,c),b===y)break;y=b}y!==null&&h.stopPropagation()}else Fp(a,s,h,null,c)}}function sg(a){return a=lm(a),og(a)}var Id=null;function og(a){if(Id=null,a=Gs(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Id=a,null}function qS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case Bs:return 2;case Hs:return 8;case ue:case pe:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var lg=!1,ui=null,di=null,fi=null,pc=new Map,gc=new Map,hi=[],N3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BS(a,s){switch(a){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":pc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(s.pointerId)}}function vc(a,s,c,h,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},s!==null&&(s=Ys(s),s!==null&&US(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function C3(a,s,c,h,y){switch(s){case"focusin":return ui=vc(ui,a,s,c,h,y),!0;case"dragenter":return di=vc(di,a,s,c,h,y),!0;case"mouseover":return fi=vc(fi,a,s,c,h,y),!0;case"pointerover":var b=y.pointerId;return pc.set(b,vc(pc.get(b)||null,a,s,c,h,y)),!0;case"gotpointercapture":return b=y.pointerId,gc.set(b,vc(gc.get(b)||null,a,s,c,h,y)),!0}return!1}function HS(a){var s=Gs(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,r_(a.priority,function(){$S(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,r_(a.priority,function(){$S(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ld(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=sg(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);om=h,c.target.dispatchEvent(h),om=null}else return s=Ys(c),s!==null&&US(s),a.blockedOn=c,!1;s.shift()}return!0}function KS(a,s,c){Ld(a)&&c.delete(s)}function T3(){lg=!1,ui!==null&&Ld(ui)&&(ui=null),di!==null&&Ld(di)&&(di=null),fi!==null&&Ld(fi)&&(fi=null),pc.forEach(KS),gc.forEach(KS)}function zd(a,s){a.blockedOn===s&&(a.blockedOn=null,lg||(lg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,T3)))}var Ud=null;function FS(a){Ud!==a&&(Ud=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ud===a&&(Ud=null);for(var s=0;s<a.length;s+=3){var c=a[s],h=a[s+1],y=a[s+2];if(typeof h!="function"){if(og(h||c)===null)continue;break}var b=Ys(c);b!==null&&(a.splice(s,3),s-=3,sp(b,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function Co(a){function s(I){return zd(I,a)}ui!==null&&zd(ui,a),di!==null&&zd(di,a),fi!==null&&zd(fi,a),pc.forEach(s),gc.forEach(s);for(var c=0;c<hi.length;c++){var h=hi[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<hi.length&&(c=hi[0],c.blockedOn===null);)HS(c),c.blockedOn===null&&hi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],b=c[h+1],O=y[Tn]||null;if(typeof b=="function")O||FS(c);else if(O){var T=null;if(b&&b.hasAttribute("formAction")){if(y=b,O=b[Tn]||null)T=O.formAction;else if(og(y)!==null)continue}else T=O.action;typeof T=="function"?c[h+1]=T:(c.splice(h,3),h-=3),FS(c)}}}function GS(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function cg(a){this._internalRoot=a}$d.prototype.render=cg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,h=Wn();LS(c,h,a,s,null,null)},$d.prototype.unmount=cg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;LS(a.current,2,null,a,null,null),xd(),s[Fs]=null}};function $d(a){this._internalRoot=a}$d.prototype.unstable_scheduleHydration=function(a){if(a){var s=n_();a={blockedOn:null,target:a,priority:s};for(var c=0;c<hi.length&&s!==0&&s<hi[c].priority;c++);hi.splice(c,0,a),c===0&&HS(a)}};var YS=t.version;if(YS!=="19.2.0")throw Error(r(527,YS,"19.2.0"));Q.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var k3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{wt=qd.inject(k3),Pe=qd}catch{}}return bc.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,h="",y=e1,b=t1,O=n1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=DS(a,1,!1,null,null,c,h,null,y,b,O,GS),a[Fs]=s.current,Kp(a),new cg(s)},bc.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var h=!1,y="",b=e1,O=t1,T=n1,I=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError),c.formState!==void 0&&(I=c.formState)),s=DS(a,1,!0,s,c??null,h,y,I,b,O,T,GS),s.context=IS(null),c=s.current,h=Wn(),h=Zh(h),y=Ja(h),y.callback=null,Za(c,y,h),c=h,s.current.lanes=c,Nl(s,c),Yr(s),a[Fs]=s.current,Kp(a),new $d(s)},bc.version="19.2.0",bc}var rj;function F3(){if(rj)return hg.exports;rj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hg.exports=K3(),hg.exports}var G3=F3();const Y3=qr(G3);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aj="popstate";function V3(e={}){function t(r,i){let{pathname:o,search:l,hash:u}=r.location;return dy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hc(i)}return X3(t,n,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W3(){return Math.random().toString(36).substring(2,10)}function ij(e,t){return{usr:e.state,key:e.key,idx:t}}function dy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:n,key:t&&t.key||r||W3()}}function Hc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ml(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function X3(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let j=p(),E=j==null?null:j-f;f=j,d&&d({action:u,location:S.location,delta:E})}function v(j,E){u="PUSH";let N=dy(S.location,j,E);f=p()+1;let A=ij(N,f),k=S.createHref(N);try{l.pushState(A,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}o&&d&&d({action:u,location:S.location,delta:1})}function x(j,E){u="REPLACE";let N=dy(S.location,j,E);f=p();let A=ij(N,f),k=S.createHref(N);l.replaceState(A,"",k),o&&d&&d({action:u,location:S.location,delta:0})}function w(j){return Q3(j)}let S={get action(){return u},get location(){return e(i,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(aj,g),d=j,()=>{i.removeEventListener(aj,g),d=null}},createHref(j){return t(i,j)},createURL:w,encodeLocation(j){let E=w(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:x,go(j){return l.go(j)}};return S}function Q3(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Hc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function aN(e,t,n="/"){return J3(e,t,n,!1)}function J3(e,t,n,r){let i=typeof t=="string"?ml(t):t,o=Pa(i.pathname||"/",n);if(o==null)return null;let l=iN(e);Z3(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=u4(o);u=l4(l[d],f,r)}return u}function iN(e,t=[],n=[],r="",i=!1){let o=(l,u,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;xt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ca([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(xt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),iN(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:s4(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of sN(l.path))o(l,u,!0,f)}),t}function sN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=sN(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Z3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e4=/^:[\w-]+$/,t4=3,n4=2,r4=1,a4=10,i4=-2,sj=e=>e==="*";function s4(e,t){let n=e.split("/"),r=n.length;return n.some(sj)&&(r+=i4),t&&(r+=n4),n.filter(i=>!sj(i)).reduce((i,o)=>i+(e4.test(o)?t4:o===""?r4:a4),r)}function o4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function l4(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ca([o,g.pathname]),pathnameBase:m4(Ca([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=Ca([o,g.pathnameBase]))}return l}function wf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=c4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function c4(e,t=!1,n=!0){$r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function u4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function d4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ml(e):e;return{pathname:n?n.startsWith("/")?n:f4(n,t):t,search:p4(r),hash:g4(i)}}function f4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function T0(e){let t=h4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function k0(e,t,n,r=!1){let i;typeof e=="string"?i=ml(e):(i={...e},xt(!i.pathname||!i.pathname.includes("?"),vg("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),vg("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),vg("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=d4(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ca=e=>e.join("/").replace(/\/\/+/g,"/"),m4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var oN=["POST","PUT","PATCH","DELETE"];new Set(oN);var y4=["GET",...oN];new Set(y4);var pl=_.createContext(null);pl.displayName="DataRouter";var ph=_.createContext(null);ph.displayName="DataRouterState";_.createContext(!1);var lN=_.createContext({isTransitioning:!1});lN.displayName="ViewTransition";var b4=_.createContext(new Map);b4.displayName="Fetchers";var x4=_.createContext(null);x4.displayName="Await";var Br=_.createContext(null);Br.displayName="Navigation";var iu=_.createContext(null);iu.displayName="Location";var jr=_.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var P0=_.createContext(null);P0.displayName="RouteError";function _4(e,{relative:t}={}){xt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Br),{hash:i,pathname:o,search:l}=su(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Ca([n,o])),r.createHref({pathname:u,search:l,hash:i})}function gl(){return _.useContext(iu)!=null}function Ni(){return xt(gl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(iu).location}var cN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uN(e){_.useContext(Br).static||_.useLayoutEffect(e)}function Ci(){let{isDataRoute:e}=_.useContext(jr);return e?L4():w4()}function w4(){xt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(pl),{basename:t,navigator:n}=_.useContext(Br),{matches:r}=_.useContext(jr),{pathname:i}=Ni(),o=JSON.stringify(T0(r)),l=_.useRef(!1);return uN(()=>{l.current=!0}),_.useCallback((d,f={})=>{if($r(l.current,cN),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=k0(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ca([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,i,e])}var S4=_.createContext(null);function j4(e){let t=_.useContext(jr).outlet;return _.useMemo(()=>t&&_.createElement(S4.Provider,{value:e},t),[t,e])}function O4(){let{matches:e}=_.useContext(jr),t=e[e.length-1];return t?t.params:{}}function su(e,{relative:t}={}){let{matches:n}=_.useContext(jr),{pathname:r}=Ni(),i=JSON.stringify(T0(n));return _.useMemo(()=>k0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function E4(e,t){return dN(e,t)}function dN(e,t,n,r,i){var N;xt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=_.useContext(Br),{matches:l}=_.useContext(jr),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";fN(f,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Ni(),x;if(t){let A=typeof t=="string"?ml(t):t;xt(p==="/"||((N=A.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=v;let w=x.pathname||"/",S=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=aN(e,{pathname:S});$r(g||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$r(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=k4(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:Ca([p,o.encodeLocation?o.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Ca([p,o.encodeLocation?o.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,n,r,i);return t&&E?_.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function A4(){let e=I4(),t=v4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,l)}var N4=_.createElement(A4,null),C4=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(jr.Provider,{value:this.props.routeContext},_.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T4({routeContext:e,match:t,children:n}){let r=_.useContext(pl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(jr.Provider,{value:e},n)}function k4(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);xt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,x=!1,w=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||N4,u&&(d<0&&g===0?(fN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):d===g&&(x=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,g+1)),E=()=>{let N;return v?N=w:x?N=S:p.route.Component?N=_.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,_.createElement(T4,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(C4,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):E()},null)}function M0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P4(e){let t=_.useContext(pl);return xt(t,M0(e)),t}function M4(e){let t=_.useContext(ph);return xt(t,M0(e)),t}function R4(e){let t=_.useContext(jr);return xt(t,M0(e)),t}function R0(e){let t=R4(e),n=t.matches[t.matches.length-1];return xt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function D4(){return R0("useRouteId")}function I4(){var r;let e=_.useContext(P0),t=M4("useRouteError"),n=R0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function L4(){let{router:e}=P4("useNavigate"),t=R0("useNavigate"),n=_.useRef(!1);return uN(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{$r(n.current,cN),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var oj={};function fN(e,t,n){!t&&!oj[e]&&(oj[e]=!0,$r(!1,n))}_.memo(z4);function z4({routes:e,future:t,state:n,unstable_onError:r}){return dN(e,void 0,n,r,t)}function Sf({to:e,replace:t,state:n,relative:r}){xt(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Br);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=_.useContext(jr),{pathname:l}=Ni(),u=Ci(),d=k0(e,T0(o),l,r==="path"),f=JSON.stringify(d);return _.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function U4(e){return j4(e.context)}function xn(e){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){xt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=ml(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,x=_.useMemo(()=>{let w=Pa(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:v},navigationType:r}},[l,d,f,p,g,v,r]);return $r(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(Br.Provider,{value:u},_.createElement(iu.Provider,{children:t,value:x}))}function q4({children:e,location:t}){return E4(fy(e),t)}function fy(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,fy(r.props.children,o));return}xt(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fy(r.props.children,o)),n.push(l)}),n}var mf="get",pf="application/x-www-form-urlencoded";function gh(e){return e!=null&&typeof e.tagName=="string"}function B4(e){return gh(e)&&e.tagName.toLowerCase()==="button"}function H4(e){return gh(e)&&e.tagName.toLowerCase()==="form"}function K4(e){return gh(e)&&e.tagName.toLowerCase()==="input"}function F4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G4(e,t){return e.button===0&&(!t||t==="_self")&&!F4(e)}var Bd=null;function Y4(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var V4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(e){return e!=null&&!V4.has(e)?($r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):e}function W4(e,t){let n,r,i,o,l;if(H4(e)){let u=e.getAttribute("action");r=u?Pa(u,t):null,n=e.getAttribute("method")||mf,i=yg(e.getAttribute("enctype"))||pf,o=new FormData(e)}else if(B4(e)||K4(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Pa(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||mf,i=yg(e.getAttribute("formenctype"))||yg(u.getAttribute("enctype"))||pf,o=new FormData(u,e),!Y4()){let{name:f,type:p,value:g}=e;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(gh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mf,r=null,i=pf,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X4(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Pa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Q4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Z4(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await Q4(o,n);return l.links?l.links():[]}return[]}));return rI(r.flat(1).filter(J4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lj(e,t,n,r,i,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var p;return n[f].pathname!==d.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var g;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function eI(e,t,{includeHydrateFallback:n}={}){return tI(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function tI(e){return[...new Set(e)]}function nI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function rI(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(nI(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function hN(){let e=_.useContext(pl);return D0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aI(){let e=_.useContext(ph);return D0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var I0=_.createContext(void 0);I0.displayName="FrameworkContext";function mN(){let e=_.useContext(I0);return D0(e,"You must render this element inside a <HydratedRouter> element"),e}function iI(e,t){let n=_.useContext(I0),[r,i]=_.useState(!1),[o,l]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=_.useRef(null);_.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=E=>{E.forEach(N=>{l(N.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),_.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[o,v,{}]:[o,v,{onFocus:xc(u,x),onBlur:xc(d,w),onMouseEnter:xc(f,x),onMouseLeave:xc(p,w),onTouchStart:xc(g,x)}]:[!1,v,{}]}function xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sI({page:e,...t}){let{router:n}=hN(),r=_.useMemo(()=>aN(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(lI,{page:e,matches:r,...t}):null}function oI(e){let{manifest:t,routeModules:n}=mN(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return Z4(e,t,n).then(l=>{o||i(l)}),()=>{o=!0}},[e,t,n]),r}function lI({page:e,matches:t,...n}){let r=Ni(),{manifest:i,routeModules:o}=mN(),{basename:l}=hN(),{loaderData:u,matches:d}=aI(),f=_.useMemo(()=>lj(e,t,d,i,r,"data"),[e,t,d,i,r]),p=_.useMemo(()=>lj(e,t,d,i,r,"assets"),[e,t,d,i,r]),g=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(E=>{var A;let N=i.routes[E.route.id];!N||!N.hasLoader||(!f.some(k=>k.route.id===E.route.id)&&E.route.id in u&&((A=o[E.route.id])!=null&&A.shouldRevalidate)||N.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let j=X4(e,l,"data");return S&&w.size>0&&j.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[j.pathname+j.search]},[l,u,r,i,f,t,e,o]),v=_.useMemo(()=>eI(p,i),[p,i]),x=oI(p);return _.createElement(_.Fragment,null,g.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:S})=>_.createElement("link",{key:w,nonce:n.nonce,...S})))}function cI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var pN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pN&&(window.__reactRouterVersion="7.9.3")}catch{}function uI({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=V3({window:n,v5Compat:!0}));let i=r.current,[o,l]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement($4,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var gN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L0=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},x){let{basename:w}=_.useContext(Br),S=typeof f=="string"&&gN.test(f),j,E=!1;if(typeof f=="string"&&S&&(j=f,pN))try{let H=new URL(window.location.href),$=f.startsWith("//")?new URL(H.protocol+f):new URL(f),K=Pa($.pathname,w);$.origin===H.origin&&K!=null?f=K+$.search+$.hash:E=!0}catch{$r(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=_4(f,{relative:i}),[A,k,P]=iI(r,v),M=hI(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function R(H){t&&t(H),H.defaultPrevented||M(H)}let z=_.createElement("a",{...v,...P,href:j||N,onClick:E||o?t:R,ref:cI(x,k),target:d,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?_.createElement(_.Fragment,null,z,_.createElement(sI,{page:N})):z});L0.displayName="Link";var hy=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=su(l,{relative:f.relative}),v=Ni(),x=_.useContext(ph),{navigator:w,basename:S}=_.useContext(Br),j=x!=null&&yI(g)&&u===!0,E=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,N=v.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(N=N.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&S&&(A=Pa(A,S)||A);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=N===E||!i&&N.startsWith(E)&&N.charAt(k)==="/",M=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),R={isActive:P,isPending:M,isTransitioning:j},z=P?t:void 0,H;typeof r=="function"?H=r(R):H=[r,P?"active":null,M?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(R):o;return _.createElement(L0,{...f,"aria-current":z,className:H,ref:p,style:$,to:l,viewTransition:u},typeof d=="function"?d(R):d)});hy.displayName="NavLink";var dI=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:l=mf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},x)=>{let w=gI(),S=vI(u,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&gN.test(u),N=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,P=(k==null?void 0:k.getAttribute("formmethod"))||l;w(k||A.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:x,method:j,action:S,onSubmit:r?d:N,...v,"data-discover":!E&&e==="render"?"true":void 0})});dI.displayName="Form";function fI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vN(e){let t=_.useContext(pl);return xt(t,fI(e)),t}function hI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Ci(),d=Ni(),f=su(e,{relative:o});return _.useCallback(p=>{if(G4(p,t)){p.preventDefault();let g=n!==void 0?n:Hc(d)===Hc(f);u(e,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,f,n,r,t,e,i,o,l])}var mI=0,pI=()=>`__${String(++mI)}__`;function gI(){let{router:e}=vN("useSubmit"),{basename:t}=_.useContext(Br),n=D4();return _.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=W4(r,t);if(i.navigate===!1){let p=i.fetcherKey||pI();await e.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function vI(e,{relative:t}={}){let{basename:n}=_.useContext(Br),r=_.useContext(jr);xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...su(e||".",{relative:t})},l=Ni();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ca([n,o.pathname])),Hc(o)}function yI(e,{relative:t}={}){let n=_.useContext(lN);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vN("useViewTransitionState"),i=su(e,{relative:t});if(!n.isTransitioning)return!1;let o=Pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wf(i.pathname,l)!=null||wf(i.pathname,o)!=null}var yN=rN();const bI="modulepreload",xI=function(e){return"/"+e},cj={},ou=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=xI(f),f in cj)return;cj[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":bI,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((x,w)=>{v.addEventListener("load",x),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},_I=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class z0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class uj extends z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dj extends z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fj extends z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var my;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(my||(my={}));var wI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class SI{constructor(t,{headers:n={},customFetch:r,region:i=my.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=_I(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return wI(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const x=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:d}).catch(E=>{throw E.name==="AbortError"?E:new uj(E)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new dj(x);if(!x.ok)throw new fj(x);let S=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield x.json():S==="application/octet-stream"?j=yield x.blob():S==="text/event-stream"?j=x:S==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new uj(o)}:{data:null,error:o,response:o instanceof fj||o instanceof dj?o.context:void 0}}})}}var an={},To={},ko={},Po={},Mo={},Ro={},jI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=jI();const OI=tl.fetch,bN=tl.fetch.bind(tl),xN=tl.Headers,EI=tl.Request,AI=tl.Response,vl=Object.freeze(Object.defineProperty({__proto__:null,Headers:xN,Request:EI,Response:AI,default:bN,fetch:OI},Symbol.toStringTag,{value:"Module"})),NI=I3(vl);var Hd={},hj;function _N(){if(hj)return Hd;hj=1,Object.defineProperty(Hd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hd.default=e,Hd}var mj;function wN(){if(mj)return Ro;mj=1;var e=Ro&&Ro.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ro,"__esModule",{value:!0});const t=e(NI),n=e(_N());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,g,v,x;let w=null,S=null,j=null,E=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const k=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");k&&P&&P.length>1&&(j=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,E=406,N="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const k=await f.text();try{w=JSON.parse(k),Array.isArray(w)&&f.status===404&&(S=[],w=null,E=200,N="OK")}catch{f.status===404&&k===""?(E=204,N="No Content"):w={message:k}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,E=200,N="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:j,status:E,statusText:N}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,g,v;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ro.default=r,Ro}var pj;function SN(){if(pj)return Mo;pj=1;var e=Mo&&Mo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mo,"__esModule",{value:!0});const t=e(wN());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Mo.default=n,Mo}var gj;function U0(){if(gj)return Po;gj=1;var e=Po&&Po.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Po,"__esModule",{value:!0});const t=e(SN());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Po.default=n,Po}var vj;function jN(){if(vj)return ko;vj=1;var e=ko&&ko.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ko,"__esModule",{value:!0});const t=e(U0());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ko.default=n,ko}var yj;function CI(){if(yj)return To;yj=1;var e=To&&To.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(To,"__esModule",{value:!0});const t=e(jN()),n=e(U0());class r{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${o}`);let x;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(g="POST",x=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:g,url:v,headers:w,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return To.default=r,To}var bj;function TI(){if(bj)return an;bj=1;var e=an&&an.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(an,"__esModule",{value:!0}),an.PostgrestError=an.PostgrestBuilder=an.PostgrestTransformBuilder=an.PostgrestFilterBuilder=an.PostgrestQueryBuilder=an.PostgrestClient=void 0;const t=e(CI());an.PostgrestClient=t.default;const n=e(jN());an.PostgrestQueryBuilder=n.default;const r=e(U0());an.PostgrestFilterBuilder=r.default;const i=e(SN());an.PostgrestTransformBuilder=i.default;const o=e(wN());an.PostgrestBuilder=o.default;const l=e(_N());return an.PostgrestError=l.default,an.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},an}var kI=TI();const PI=qr(kI),{PostgrestClient:MI,PostgrestQueryBuilder:Yte,PostgrestFilterBuilder:Vte,PostgrestTransformBuilder:Wte,PostgrestBuilder:Xte,PostgrestError:Qte}=PI;class RI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const DI="2.74.0",II=`realtime-js/${DI}`,LI="1.0.0",py=1e4,zI=1e3,UI=100;var Dc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dc||(Dc={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var Dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dr||(Dr={}));var gy;(function(e){e.websocket="websocket"})(gy||(gy={}));var hs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hs||(hs={}));class $I{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class ON{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const xj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=qI(l,e,t,i),o),{}):{}},qI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?EN(o,l):vy(l)},EN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return FI(t,n)}switch(e){case ft.bool:return BI(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return HI(t);case ft.json:case ft.jsonb:return KI(t);case ft.timestamp:return GI(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return vy(t);default:return vy(t)}},vy=e=>e,BI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>EN(t,u))}return e},GI=e=>typeof e=="string"?e.replace(" ","T"):e,AN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bg{constructor(t,n,r={},i=py){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _j;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_j||(_j={}));class Ic{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ic.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=Ic.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ic.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=o[f];if(g){const v=p.map(j=>j.presence_ref),x=g.map(j=>j.presence_ref),w=p.filter(j=>x.indexOf(j.presence_ref)<0),S=g.filter(j=>v.indexOf(j.presence_ref)<0);w.length>0&&(u[f]=w),S.length>0&&(d[f]=S)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(x=>x.presence_ref),v=p.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...v)}r(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wj||(wj={}));var Lc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lc||(Lc={}));var ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class $0{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bg(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new ON(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ic(this),this.broadcastEndpointURL=AN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Lc.PRESENCE]&&this.bindings[Lc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(ja.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t==null||t(ja.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,E=[];for(let N=0;N<j;N++){const A=S[N],{filter:{event:k,schema:P,table:M,filter:R}}=A,z=x&&x[N];if(z&&z.event===k&&z.schema===P&&z.table===M&&z.filter===R)E.push(Object.assign(Object.assign({},A),{id:z.id}));else{this.unsubscribe(),this.state=Vt.errored,t==null||t(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(ja.SUBSCRIBED);return}}).receive("error",x=>{this.state=Vt.errored,t==null||t(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Vt.joined&&t===Lc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new bg(this,Dr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>UI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Dr;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,S,j;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(S=x.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var w,S,j,E,N,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const k=x.id,P=(w=x.filter)===null||w===void 0?void 0:w.event;return k&&((S=n.ids)===null||S===void 0?void 0:S.includes(k))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const k=(N=(E=x==null?void 0:x.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return k==="*"||k===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:j,commit_timestamp:E,type:N,errors:A}=w;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:E,eventType:N,new:{},old:{},errors:A}),this._getPayloadRecords(w))}x.callback(v,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&$0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dr.close,{},t)}_onError(t){this._on(Dr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xj(t.columns,t.old_record)),n}}const xg=()=>{},Kd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YI=[1e3,2e3,5e3,1e4],VI=1e4,WI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XI{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=py,this.transport=null,this.heartbeatIntervalMs=Kd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xg,this.ref=0,this.reconnectTimer=null,this.logger=xg,this.conn=null,this.sendBuffer=[],this.serializer=new $I,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ou(async()=>{const{default:u}=await Promise.resolve().then(()=>vl);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${gy.websocket}`,this.httpEndpoint=AN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dc.connecting:return hs.Connecting;case Dc.open:return hs.Open;case Dc.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new $0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Kd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([WI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:II};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Dr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ON(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,d,f,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:py,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Kd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:xg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(g=>YI[g-1]||VI),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class q0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QI extends q0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yy extends q0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var JI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const NN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ZI=()=>JI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ou(()=>Promise.resolve().then(()=>vl),void 0)).Response:Response}),by=e=>{if(Array.isArray(e))return e.map(n=>by(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=by(r)}),t},eL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Rs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const _g=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tL=(e,t,n)=>Rs(void 0,void 0,void 0,function*(){const r=yield ZI();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new QI(_g(i),o,l))}).catch(i=>{t(new yy(_g(i),i))}):t(new yy(_g(e),e))}),nL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(eL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function lu(e,t,n,r,i,o){return Rs(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,nL(t,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>tL(d,u,r))})})}function jf(e,t,n,r){return Rs(this,void 0,void 0,function*(){return lu(e,"GET",t,n,r)})}function Wr(e,t,n,r,i){return Rs(this,void 0,void 0,function*(){return lu(e,"POST",t,r,i,n)})}function xy(e,t,n,r,i){return Rs(this,void 0,void 0,function*(){return lu(e,"PUT",t,r,i,n)})}function rL(e,t,n,r){return Rs(this,void 0,void 0,function*(){return lu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function CN(e,t,n,r,i){return Rs(this,void 0,void 0,function*(){return lu(e,"DELETE",t,r,i,n)})}var aL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class iL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return aL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}var sL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class oL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new iL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return sL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}}var Ln=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const lL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=NN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Ln(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Sj),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),g=yield(t=="PUT"?xy:Wr)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ht(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ln(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Sj.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield xy(this.fetch,u.toString(),d,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ht(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Wr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new q0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ln(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Wr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ln(this,void 0,void 0,function*(){try{const i=yield Wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),d=()=>jf(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new oL(d,this.shouldThrowOnError)}info(t){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield jf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:by(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}exists(t){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield rL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r)&&r instanceof yy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Ln(this,void 0,void 0,function*(){try{return{data:yield CN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ln(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lL),n),{prefix:t||""});return{data:yield Wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}listV2(t,n){return Ln(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Wr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const uL="2.74.0",dL={"X-Client-Info":`storage-js/${uL}`};var Do=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class fL{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dL),n),this.fetch=NN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Do(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}})}getBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}createBucket(t){return Do(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Wr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ht(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Do(this,void 0,void 0,function*(){try{return{data:yield xy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield Wr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield CN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}})}}class hL extends fL{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new cL(this.url,this.headers,t,this.fetch)}}const mL="2.74.0";let Pc="";typeof Deno<"u"?Pc="deno":typeof document<"u"?Pc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pc="react-native":Pc="node";const pL={"X-Client-Info":`supabase-js-${Pc}/${mL}`},gL={headers:pL},vL={schema:"public"},yL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bL={};var xL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const _L=e=>{let t;return e?t=e:typeof fetch>"u"?t=bN:t=fetch,(...n)=>t(...n)},wL=()=>typeof Headers>"u"?xN:Headers,SL=(e,t,n)=>{const r=_L(n),i=wL();return(o,l)=>xL(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var jL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};function OL(e){return e.endsWith("/")?e:e+"/"}function EL(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>jL(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function AL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(OL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TN="2.74.0",Fo=30*1e3,_y=3,wg=_y*Fo,NL="http://localhost:9999",CL="supabase.auth.token",TL={"X-Client-Info":`gotrue-js/${TN}`},wy="X-Supabase-Api-Version",kN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PL=600*1e3;class Kc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ML extends Kc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function RL(e){return Ae(e)&&e.name==="AuthApiError"}class ms extends Kc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ti extends Kc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class vi extends Ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DL(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class Io extends Ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fd extends Ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gd extends Ti{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IL(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class jj extends Ti{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sy extends Ti{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sg(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class Oj extends Ti{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jy extends Ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ej=` 	
\r=`.split(""),LL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ej.length;t+=1)e[Ej[t].charCodeAt(0)]=-2;for(let t=0;t<Of.length;t+=1)e[Of[t].charCodeAt(0)]=t;return e})();function Aj(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Of[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Of[r]),t.queuedBits-=6}}function PN(e,t,n){const r=LL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nj(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{$L(l,r,n)};for(let l=0;l<e.length;l+=1)PN(e.charCodeAt(l),i,o);return t.join("")}function zL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zL(r,t)}}function $L(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Qo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)PN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function qL(e){const t=[];return UL(e,n=>t.push(n)),new Uint8Array(t)}function gs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Aj(i,n,r)),Aj(null,n,r),t.join("")}function BL(e){return Math.round(Date.now()/1e3)+e}function HL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xn=()=>typeof window<"u"&&typeof document<"u",es={tested:!1,writable:!1},MN=()=>{if(!Xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(es.tested)return es.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),es.tested=!0,es.writable=!0}catch{es.tested=!0,es.writable=!1}return es.writable};function KL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const RN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},FL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Go=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ts=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pi=async(e,t)=>{await e.removeItem(t)};class vh{constructor(){this.promise=new vh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}vh.promiseConstructor=Promise;function jg(e){const t=e.split(".");if(t.length!==3)throw new jy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!kL.test(t[r]))throw new jy("JWT not in base64url format");return{header:JSON.parse(Nj(t[0])),payload:JSON.parse(Nj(t[1])),signature:Qo(t[2]),raw:{header:t[0],payload:t[1]}}}async function GL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function YL(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function VL(e){return("0"+e.toString(16)).substr(-2)}function WL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,VL).join("")}async function XL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function QL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await XL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(e,t,n=!1){const r=WL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Go(e,`${t}-code-verifier`,i);const o=await QL(r);return[o,r===o?"plain":"s256"]}const JL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZL(e){const t=e.headers.get(wy);if(!t||!t.match(JL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function t6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zo(e){if(!n6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Og(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cj(e){return JSON.parse(JSON.stringify(e))}var r6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const is=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a6=[502,503,504];async function Tj(e){var t;if(!FL(e))throw new Sy(is(e),0);if(a6.includes(e.status))throw new Sy(is(e),e.status);let n;try{n=await e.json()}catch(o){throw new ms(is(o),o)}let r;const i=ZL(e);if(i&&i.getTime()>=kN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Oj(is(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Oj(is(n),e.status,n.weak_password.reasons);throw new ML(is(n),e.status||500,r)}const i6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ke(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[wy]||(o[wy]=kN["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await s6(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function s6(e,t,n,r,i,o){const l=i6(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Sy(is(d),0)}if(u.ok||await Tj(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Tj(d)}}function Mr(e){var t;let n=null;c6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=BL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function kj(e){const t=Mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o6(e){return{data:e,error:null}}function l6(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=r6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Pj(e){return e}function c6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Eg=["global","local","others"];var u6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class d6{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=RN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Eg[0]){if(Eg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eg.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=u6(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:l6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Pj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);f[`${j}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ae(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){zo(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){zo(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){zo(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){zo(t.userId);try{const{data:n,error:r}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){zo(t.userId),zo(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Pj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);f[`${j}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ae(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}function Mj(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Uo={debug:!!(globalThis&&MN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class f6 extends DN{}async function h6(e,t,n){Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new f6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Uo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function m6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function IN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function p6(e){return parseInt(e,16)}function g6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function v6(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=IN(e.address),w=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${x}

${S}`;let E=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),d&&(E+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);N+=`
- ${A}`}E+=N}return`${j}
${E}`}class Bt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ef extends Bt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function y6({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(zN(l)){if(o.rp.id!==l)return new Bt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function b6({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Bt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(zN(r)){if(n.rpId!==r)return new Bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var LN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class x6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _6=new x6;function w6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=LN(e,["challenge","user","excludeCredentials"]),o=Qo(t).buffer,l=Object.assign(Object.assign({},n),{id:Qo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Qo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function S6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=LN(e,["challenge","allowCredentials"]),i=Qo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Qo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function j6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:gs(new Uint8Array(e.response.attestationObject)),clientDataJSON:gs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gs(new Uint8Array(i.authenticatorData)),clientDataJSON:gs(new Uint8Array(i.clientDataJSON)),signature:gs(new Uint8Array(i.signature)),userHandle:i.userHandle?gs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rj(){var e,t;return!!(Xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function E6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ef("Browser returned unexpected credential type",t)}:{data:null,error:new Ef("Empty credential response",t)}}catch(t){return{data:null,error:y6({error:t,options:e})}}}async function A6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ef("Browser returned unexpected credential type",t)}:{data:null,error:new Ef("Empty credential response",t)}}catch(t){return{data:null,error:b6({error:t,options:e})}}}const N6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},C6={userVerification:"preferred",hints:["security-key"]};function Af(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Af(u,l):r[o]=Af(l)}else r[o]=l}return r}function T6(e,t){return Af(N6,e,t||{})}function k6(e,t){return Af(C6,e,t||{})}class P6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??_6.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=T6(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await E6({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=k6(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await A6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new ms("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Kc("rpId is required for WebAuthn authentication")};try{if(!Rj())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new ms("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Kc("rpId is required for WebAuthn registration")};try{if(!Rj())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new ms("Unexpected error in register",l)}}}}m6();const M6={url:NL,storageKey:CL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dj(e,t,n){return await n()}const $o={};class Fc{get jwks(){var t,n;return(n=(t=$o[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){$o[this.storageKey]=Object.assign(Object.assign({},$o[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=$o[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$o[this.storageKey]=Object.assign(Object.assign({},$o[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fc.nextInstanceID,Fc.nextInstanceID+=1,this.instanceID>0&&Xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},M6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new d6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=RN(i.fetch),this.lock=i.lock||Dj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=h6:this.lock=Dj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P6(this)},this.persistSession?(i.storage?this.storage=i.storage:MN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Mj(this.memoryStorage)),Xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=KL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Xn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),IL(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?{error:n}:{error:new ms("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:p,password:g,options:v}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Lo(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:w},xform:Mr})}else if("phone"in t){const{phone:p,password:g,options:v}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Mr})}else throw new Fd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kj})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kj})}else throw new Fd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Io}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,d,f,p,g,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:E,options:N}=t;let A;if(Xn())if(typeof j=="object")A=j;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")A=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const k=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),P=await A.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=IN(P[0]);let R=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const H=await A.request({method:"eth_chainId"});R=p6(H)}const z={domain:k.host,address:M,statement:E,uri:k.href,version:"1",chainId:R,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=v6(z),w=await A.request({method:"personal_sign",params:[g6(x),M]})}try{const{data:S,error:j}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Mr});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Io}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(Ae(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,i,o,l,u,d,f,p,g,v,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:j,wallet:E,statement:N,options:A}=t;let k;if(Xn())if(typeof E=="object")k=E;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))k=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=E}const P=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const M=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),N?{statement:N}:null));let R;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")R=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)R=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),S=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${P.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const M=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:j,error:E}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:gs(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Mr});if(E)throw E;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Io}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:E})}catch(j){if(Ae(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await ts(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Mr});if(await pi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Io}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mr}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Io}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lo(this.storage,this.storageKey));const{error:g}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Fd("You must provide either an email or phone number.")}catch(u){if(Ae(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Mr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Lo(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:o6})}catch(o){if(Ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vi;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Fd("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<wg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await ts(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Og()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wi}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vi}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:wi})})}catch(n){if(Ae(n))return DL(n)&&(await this._removeSession(),await pi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new vi;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Lo(this.storage,this.storageKey));const{data:f,error:p}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:wi});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vi;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=jg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vi;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Xn())throw new Gd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jj("No code detected.");const{data:N,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new Gd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;d&&(v=parseInt(d));const x=v-p;x*1e3<=Fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:S,error:j}=await this._getUser(o);if(j)throw j;const E={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(RL(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await pi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=HL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lo(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,p;const{data:g,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Xn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ae(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:p}=t,g=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mr}),{data:v,error:x}=g;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Io}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:x})}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await YL(async i=>(i>0&&await GL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Sg(o)&&Date.now()+l-r<Fo})}catch(r){if(this._debug(n,"error",r),Ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ts(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Go(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Og()}else if(i&&!i.user&&!i.user){const l=await ts(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await pi(this.storage,this.storageKey+"-user"),await Go(this.storage,this.storageKey,i)):i.user=Og()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${wg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Sg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vh;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new vi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Ae(o)){const l={data:null,error:o};return Sg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Go(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Cj(i);await Go(this.storage,this.storageKey,o)}else{const i=Cj(n);await Go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await pi(this.storage,this.storageKey),await pi(this.storage,this.storageKey+"-code-verifier"),await pi(this.storage,this.storageKey+"-user"),this.userStorage&&await pi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Fo}ms, refresh threshold is ${_y} ticks`),i<=_y&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Lo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?j6(t.webauthn.credential_response):O6(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:w6(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:S6(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=jg(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+PL>i)return r;const{data:o,error:l}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};r=x.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=jg(r);n!=null&&n.allowExpired||e6(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:i,signature:l},error:null}}const p=t6(i.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,qL(`${u}.${d}`)))throw new jy("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}Fc.nextInstanceID=0;const R6=Fc;class D6 extends R6{constructor(t){super(t)}}var I6=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class L6{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=AL(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:vL,realtime:bL,auth:Object.assign(Object.assign({},yL),{storageKey:d}),global:gL},p=EL(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=SL(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new MI(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new hL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new SI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return I6(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D6({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const z6=(e,t,n)=>new L6(e,t,n);function U6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}U6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UN="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",$N=()=>{const e=Promise.reject(new Error(UN));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>$N()}})},$6=()=>{const e=$N(),t=async()=>{throw new Error(UN)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},q6=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},B6=()=>$6();let Oy;try{{const r=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY"].filter(Boolean);throw new Error(`Missing Supabase environment variables: ${r.join(", ")}`)}const n=q6(void 0);Oy=z6(n,void 0,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),Oy=B6()}const fe=Oy,H6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},K6=H6,F6="https://api.cloudinary.com/v1_1",G6="cloudinary.com",Y6=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),B0=e=>Y6(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),qN=()=>Math.random().toString(36).slice(2,10),zc=(e,t)=>e&&B0(e)||t,zr=e=>{const t=K6[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},Ij=(e,t)=>{const n=zr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: définissez la variable d'environnement ${e} pour ${t}.`);return n},H0=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const o=Ij("VITE_CLOUDINARY_CLOUD_NAME","les téléversements de médias"),l=n??Ij("VITE_CLOUDINARY_UPLOAD_PRESET","les téléversements de médias"),u=l,d=new FormData;d.append("file",e),d.append("upload_preset",l),t&&d.append("folder",t),r&&d.append("public_id",r),i!=null&&i.length&&d.append("tags",i.join(","));const f=await fetch(`${F6}/${o}/auto/upload`,{method:"POST",body:d}),p=await f.json();if(!f.ok||p.error){const v=(g=p.error)==null?void 0:g.message;throw v&&/upload preset/i.test(v)?new Error(`Le preset Cloudinary "${u}" est introuvable ou ne permet pas les téléversements non signés. Vérifiez sa configuration dans votre console Cloudinary (Settings → Upload → Upload presets).`):new Error(v??`Échec du téléversement Cloudinary (statut ${f.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoyé d'URL sécurisée pour le fichier téléversé.");return p.secure_url??p.url},Es=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(G6)?null:t}catch{return null}},V6=zr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",Lj=V6,BN=e=>{const t=Es(e);return t||Lj||""},W6=async(e,t)=>{const n=zr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=zr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??zr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?B0(t):void 0,o=i?`${i}-${qN()}`:void 0;return H0(e,{folder:zc(n,"products"),uploadPreset:r,publicId:o,tags:["product"]})},X6=()=>zc(zr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),Q6=async(e,t)=>{const n=X6(),r=zr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??zr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=e instanceof File&&e.name?B0(e.name.replace(/\.[^/.]+$/,"")):void 0,o=i?`${i}-${qN()}`:void 0,l=Array.from(new Set(["customization","custom-folder"]));return H0(e,{folder:n,uploadPreset:r,publicId:o,tags:l})},HN=async(e,t)=>{const n=zr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=zr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??zr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[zc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${zc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${zc(t.customerReference,"client")}`),H0(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},KN="ouiouipos:role-logins",FN=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},J6=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:o}=n;if(typeof r!="string"||typeof i!="string"||typeof o!="string")return null;const l=Date.parse(o);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},K0=()=>{const t=FN().getItem(KN);return J6(t)},GN=e=>{FN().setItem(KN,JSON.stringify(e.slice(-500)))},Z6=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const o=K0();o.push(i),GN(o)}catch(o){console.warn("Unable to persist role login locally.",o)}return i},e5=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return K0().filter(r=>Date.parse(r.loginAt)>=t)},t5=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=K0().filter(r=>Date.parse(r.loginAt)>=t);GN(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),zj=e=>{const t=r5(e);return t.charAt(0).toUpperCase()+t.slice(1)},YN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),a5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...i5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YN("lucide",i),...!o&&!a5(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>_.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=_.forwardRef(({className:r,...i},o)=>_.createElement(s5,{ref:o,iconNode:t,className:YN(`lucide-${n5(zj(e))}`,`lucide-${e}`,r),...i}));return n.displayName=zj(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],F0=be("armchair",o5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],c5=be("arrow-left",l5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],d5=be("brush",u5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],h5=be("calendar",f5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],p5=be("chart-area",m5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],v5=be("chart-no-axes-column",g5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],b5=be("check",y5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],VN=be("chef-hat",x5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WN=be("chevron-down",_5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S5=be("chevron-right",w5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],XN=be("chevron-up",j5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ey=be("circle-check-big",O5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],A5=be("circle-minus",E5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],G0=be("circle-plus",N5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],T5=be("circle-x",C5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yh=be("clock",k5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gc=be("dollar-sign",P5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R5=be("download",M5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],QN=be("ellipsis-vertical",D5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],L5=be("external-link",I5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],U5=be("eye-off",z5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ay=be("eye",$5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JN=be("file-text",q5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],H5=be("grip-vertical",B5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],F5=be("hand-platter",K5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Y5=be("history",G5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],W5=be("info",V5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q5=be("layout-dashboard",X5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Z5=be("log-in",J5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tz=be("log-out",ez);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rz=be("mail",nz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Y0=be("map-pin",az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ZN=be("menu",iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eC=be("message-square",sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M5 12h14",key:"1ays0h"}]],tC=be("minus",oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],cz=be("package-check",lz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],dz=be("package-plus",uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wo=be("package",fz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mz=be("pencil",hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],V0=be("percent",pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nC=be("phone",gz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cu=be("plus",vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],bz=be("receipt",yz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_z=be("refresh-cw",xz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sz=be("save",wz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],W0=be("search",jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ez=be("send",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nz=be("settings",Az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tz=be("shield",Cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],rC=be("shopping-bag",kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aC=be("shopping-cart",Pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],iC=be("soup",Mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sC=be("square-pen",Rz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ny=be("tag",Dz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ds=be("trash-2",Iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nf=be("triangle-alert",Lz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oC=be("upload",zz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X0=be("user",Uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cy=be("users",$z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Bz=be("utensils-crossed",qz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Kz=be("utensils",Hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],As=be("x",Fz),Ma="/site-customizer",$n=[{name:"Dashboard",href:"/dashboard",icon:Q5,permissionKey:"/dashboard"},{name:"À Emporter",href:"/para-llevar",icon:rC,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:F0,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:iC,permissionKey:"/cocina"},{name:"Personnalisation",href:Ma,icon:d5,permissionKey:Ma},{name:"Produits",href:"/produits",icon:Bz,permissionKey:"/produits"},{name:"Ingrédients",href:"/ingredients",icon:Wo,permissionKey:"/ingredients"},{name:"Promotions",href:"/promotions",icon:V0,permissionKey:"/promotions"},{name:"Résumé Ventes",href:"/resume-ventes",icon:p5,permissionKey:"/resume-ventes"}],lC={ADMIN:"admin"},_s="__home_page",bh=["review1","review2","review3","review4","review5","review6","review7"],Gz=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],Yz=["avatarUrl","highlightImageUrl","postImageUrl"],Vz=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],Wz=[...Gz,...Yz],Xz=bh.flatMap(e=>Wz.map(t=>`instagramReviews.reviews.${e}.${t}`)),uu=[...Vz,...Xz],Qz=uu.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),Jz=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),Zz=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,eU=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,cC=typeof window<"u"&&typeof document<"u",tU=e=>{const t=e.trim().replace(/"|'/g,"");return Zz.test(t)?t.toLowerCase():eU.test(t)?t.replace(/\s+/g,""):null},nU=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},rU=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},uC=e=>{if(!Jz.has(e.tagName)){nU(e);return}const t=rU(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(o=>o.trim()).filter(Boolean).find(o=>o.toLowerCase().startsWith("color"));if(i){const[,o]=i.split(":"),l=o?tU(o):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&uC(n)})},aU=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),iU=e=>{const t=e??"";if(t.trim().length===0)return"";if(!cC)return aU(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&uC(r)}),n.innerHTML.trim()},sU=e=>{if(!cC)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},Uj=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),dC=e=>{if(!e)return null;const t=iU(e.html??""),n=Uj(e.plainText??""),r=Uj(sU(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},oU={review1:{name:"Laura Méndez",handle:"@laurita.eats",timeAgo:"hace 2 días",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story « Taco Tuesday »",highlightCaption:"Guardado en Destacadas",location:"Bogotá · Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colorés garnis d'herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 días",message:"Estas arepas son lo más: combinan ingredientes súper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel « Brunch entre amigas »",highlightCaption:"Comentarios llenos de antojos",location:"Medellín · Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dorées et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastián Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aquí y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvió tema de conversación.",highlight:"Post « Team Afterwork »",highlightCaption:"Reacciones de la oficina",location:"Barranquilla · Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraîches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ríos",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El menú tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cariño. Increíble experiencia.",highlight:"Carousel « Night Out »",highlightCaption:"Comentarios fijados",location:"Cali · Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Pérez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me quedé por la originalidad del menú: el cheddar baña la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live « Burger Night »",highlightCaption:"Chat lleno de elogios",location:"Bogotá · Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gómez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaños y fue éxito total: tacos mini, dips calientes y una mesa que se veía divina para fotos. Todo llegó puntual y con instrucciones claras.",highlight:"Story « Fiesta privada »",highlightCaption:"Reseñas con confeti",location:"Cartagena · Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet coloré avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maíz dulce son mi nueva obsesión. Además, la atención es rapidísima.",highlight:"Reel « Veggie Lovers »",highlightCaption:"Comentarios verdes y felices",location:"Bogotá · Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dorées servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},qe=e=>e.trim(),Q0=e=>typeof e=="string"&&e.trim().length>0,fC=(e,t)=>Q0(e)?e.trim():t,hC=(e,t)=>Q0(e)?e.trim():t,Uc=(e,t)=>Q0(e)?e.trim():t,Be=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},Xr=(e,t)=>e===void 0?t??null:e===null?null:Es(e)??t??null,Qr=e=>Es(e)??null,lU=(e,t)=>{const n={};return bh.forEach(r=>{const i=t[r],o=(e==null?void 0:e[r])??{};n[r]={name:Be(o==null?void 0:o.name,i.name),handle:Be(o==null?void 0:o.handle,i.handle),timeAgo:Be(o==null?void 0:o.timeAgo,i.timeAgo),message:Be(o==null?void 0:o.message,i.message),highlight:Be(o==null?void 0:o.highlight,i.highlight),highlightCaption:Be(o==null?void 0:o.highlightCaption,i.highlightCaption),location:Be(o==null?void 0:o.location,i.location),badgeLabel:Be(o==null?void 0:o.badgeLabel,i.badgeLabel),postImageAlt:Be(o==null?void 0:o.postImageAlt,i.postImageAlt),avatarUrl:Xr(o==null?void 0:o.avatarUrl,i.avatarUrl),highlightImageUrl:Xr(o==null?void 0:o.highlightImageUrl,i.highlightImageUrl),postImageUrl:Xr(o==null?void 0:o.postImageUrl,i.postImageUrl)}}),n},cU=e=>{const t={};return bh.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:qe((r==null?void 0:r.name)??""),handle:qe((r==null?void 0:r.handle)??""),timeAgo:qe((r==null?void 0:r.timeAgo)??""),message:qe((r==null?void 0:r.message)??""),highlight:qe((r==null?void 0:r.highlight)??""),highlightCaption:qe((r==null?void 0:r.highlightCaption)??""),location:qe((r==null?void 0:r.location)??""),badgeLabel:qe((r==null?void 0:r.badgeLabel)??""),postImageAlt:qe((r==null?void 0:r.postImageAlt)??""),avatarUrl:Qr(r==null?void 0:r.avatarUrl),highlightImageUrl:Qr(r==null?void 0:r.highlightImageUrl),postImageUrl:Qr(r==null?void 0:r.postImageUrl)}}),t},Yd=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},mC=e=>{if(!e)return null;const t=Yd(e.textColor??null),n=Yd(e.fontFamily??null),r=Yd(e.fontSize??null),i=Yd(e.backgroundColor??null),o={};return t&&(o.textColor=t),n&&(o.fontFamily=n),r&&(o.fontSize=r),i&&(o.backgroundColor=i),Object.keys(o).length>0?o:null},uU=(e,t)=>{const n=e??t,r={};return uu.forEach(i=>{const o=mC(n[i]??null);o&&(r[i]=o)}),r},dU=(e,t)=>{const n=e??t,r={};return uu.forEach(i=>{const o=mC(n[i]??null);o&&(r[i]=o)}),r},fU=(e,t)=>{const n=e??t,r={};return uu.forEach(i=>{const o=n[i],l=dC(o??null);l&&(r[i]=l)}),r},hU=(e,t)=>{const n=e??t,r={};return uu.forEach(i=>{const o=n[i],l=dC(o??null);l&&(r[i]=l)}),r},mU=["image","video","audio","font","raw"],pU=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,gU=e=>mU.includes(e)?e:"raw",vU=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},yU=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},pC=e=>{if(!e)return null;const t=Es(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():pU(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",o=gU(e.type),l=yU(e.bytes),u=vU(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:o,createdAt:u}},bU=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>pC(r)).filter(Boolean):t.library}:t,xU=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>pC(i)).filter(Boolean):t.library}},gC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},vC={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},yC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},bC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},xC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},_C={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},wC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},J0={library:[]},SC={},jC={},ns=(e,t)=>{var o,l,u,d;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Uc((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?Xr(((u=e==null?void 0:e.background)==null?void 0:u.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:Uc((d=e==null?void 0:e.background)==null?void 0:d.color,t.background.color),image:n==="image"?i:null},fontFamily:fC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:hC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Uc((e==null?void 0:e.textColor)??null,t.textColor)}},rs=(e,t)=>{var o,l,u;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Uc(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?Qr(((u=e==null?void 0:e.background)==null?void 0:u.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:fC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:hC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Uc((e==null?void 0:e.textColor)??null,t.textColor)}},Cf={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:"À propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:gC},hero:{title:"Le Goût Authentique du Mexique",subtitle:"Des tacos préparés avec passion, des ingrédients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernières commandes",reorderCtaLabel:"Commander à nouveau",style:vC},about:{title:"Notre Histoire",description:"Fondé par des passionnés de la cuisine mexicaine, OUIOUITACOS est né d'un désir simple : partager le goût authentique des tacos faits maison. Chaque recette est un héritage familial, chaque ingrédient est choisi avec soin, et chaque plat est préparé avec le cœur. Venez découvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:yC},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:bC},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cœur pour notre cuisine : ambiance solaire, service attentionné et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:xC,reviews:bh.reduce((e,t)=>(e[t]={...oU[t]},e),{})},findUs:{title:"Encuéntranos",addressLabel:"Dirección",address:`Cra. 53 #75-98
Barranquilla, Atlántico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo · 11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:_C},footer:{text:"Tous droits réservés.",style:wC},elementStyles:SC,elementRichText:jC,assets:J0},Ty=e=>{var n,r,i,o,l,u,d,f,p,g,v,x,w,S,j,E,N,A,k,P,M,R,z,H,$,K,F,ae,q,ne,L,Q,oe,me,ie,C,D,V,W,J,de,he,Le,te,we,Ce,ce;const t=Cf;return{navigation:{brand:Be((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:Xr((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:Xr((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:Be((l=(o=e==null?void 0:e.navigation)==null?void 0:o.links)==null?void 0:l.home,t.navigation.links.home),about:Be((d=(u=e==null?void 0:e.navigation)==null?void 0:u.links)==null?void 0:d.about,t.navigation.links.about),menu:Be((p=(f=e==null?void 0:e.navigation)==null?void 0:f.links)==null?void 0:p.menu,t.navigation.links.menu),contact:Be((v=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:v.contact,t.navigation.links.contact),loginCta:Be((w=(x=e==null?void 0:e.navigation)==null?void 0:x.links)==null?void 0:w.loginCta,t.navigation.links.loginCta)},style:ns((S=e==null?void 0:e.navigation)==null?void 0:S.style,t.navigation.style)},hero:{title:Be((j=e==null?void 0:e.hero)==null?void 0:j.title,t.hero.title),subtitle:Be((E=e==null?void 0:e.hero)==null?void 0:E.subtitle,t.hero.subtitle),ctaLabel:Be((N=e==null?void 0:e.hero)==null?void 0:N.ctaLabel,t.hero.ctaLabel),backgroundImage:Xr((A=e==null?void 0:e.hero)==null?void 0:A.backgroundImage,t.hero.backgroundImage),historyTitle:Be((k=e==null?void 0:e.hero)==null?void 0:k.historyTitle,t.hero.historyTitle),reorderCtaLabel:Be((P=e==null?void 0:e.hero)==null?void 0:P.reorderCtaLabel,t.hero.reorderCtaLabel),style:ns((M=e==null?void 0:e.hero)==null?void 0:M.style,t.hero.style)},about:{title:Be((R=e==null?void 0:e.about)==null?void 0:R.title,t.about.title),description:Be((z=e==null?void 0:e.about)==null?void 0:z.description,t.about.description),image:Xr((H=e==null?void 0:e.about)==null?void 0:H.image,t.about.image),style:ns(($=e==null?void 0:e.about)==null?void 0:$.style,t.about.style)},menu:{title:Be((K=e==null?void 0:e.menu)==null?void 0:K.title,t.menu.title),ctaLabel:Be((F=e==null?void 0:e.menu)==null?void 0:F.ctaLabel,t.menu.ctaLabel),loadingLabel:Be((ae=e==null?void 0:e.menu)==null?void 0:ae.loadingLabel,t.menu.loadingLabel),image:Xr((q=e==null?void 0:e.menu)==null?void 0:q.image,t.menu.image),style:ns((ne=e==null?void 0:e.menu)==null?void 0:ne.style,t.menu.style)},instagramReviews:{title:Be((L=e==null?void 0:e.instagramReviews)==null?void 0:L.title,t.instagramReviews.title),subtitle:Be((Q=e==null?void 0:e.instagramReviews)==null?void 0:Q.subtitle,t.instagramReviews.subtitle),image:Xr((oe=e==null?void 0:e.instagramReviews)==null?void 0:oe.image,t.instagramReviews.image),style:ns((me=e==null?void 0:e.instagramReviews)==null?void 0:me.style,t.instagramReviews.style),reviews:lU(((ie=e==null?void 0:e.instagramReviews)==null?void 0:ie.reviews)??null,t.instagramReviews.reviews)},findUs:{title:Be((C=e==null?void 0:e.findUs)==null?void 0:C.title,t.findUs.title),addressLabel:Be((D=e==null?void 0:e.findUs)==null?void 0:D.addressLabel,t.findUs.addressLabel),address:Be((V=e==null?void 0:e.findUs)==null?void 0:V.address,t.findUs.address),cityLabel:Be((W=e==null?void 0:e.findUs)==null?void 0:W.cityLabel,t.findUs.cityLabel),city:Be((J=e==null?void 0:e.findUs)==null?void 0:J.city,t.findUs.city),hoursLabel:Be((de=e==null?void 0:e.findUs)==null?void 0:de.hoursLabel,t.findUs.hoursLabel),hours:Be((he=e==null?void 0:e.findUs)==null?void 0:he.hours,t.findUs.hours),mapLabel:Be((Le=e==null?void 0:e.findUs)==null?void 0:Le.mapLabel,t.findUs.mapLabel),mapUrl:Be((te=e==null?void 0:e.findUs)==null?void 0:te.mapUrl,t.findUs.mapUrl),style:ns((we=e==null?void 0:e.findUs)==null?void 0:we.style,t.findUs.style)},footer:{text:Be((Ce=e==null?void 0:e.footer)==null?void 0:Ce.text,t.footer.text),style:ns((ce=e==null?void 0:e.footer)==null?void 0:ce.style,t.footer.style)},elementStyles:uU((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:fU((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:bU((e==null?void 0:e.assets)??null,J0)}},_U=e=>({navigation:{brand:qe(e.navigation.brand),brandLogo:Qr(e.navigation.brandLogo)??null,staffLogo:Qr(e.navigation.staffLogo)??null,links:{home:qe(e.navigation.links.home),about:qe(e.navigation.links.about),menu:qe(e.navigation.links.menu),contact:qe(e.navigation.links.contact),loginCta:qe(e.navigation.links.loginCta)},style:rs(e.navigation.style,gC)},hero:{title:qe(e.hero.title),subtitle:qe(e.hero.subtitle),ctaLabel:qe(e.hero.ctaLabel),backgroundImage:Qr(e.hero.backgroundImage),historyTitle:qe(e.hero.historyTitle),reorderCtaLabel:qe(e.hero.reorderCtaLabel),style:rs(e.hero.style,vC)},about:{title:qe(e.about.title),description:qe(e.about.description),image:Qr(e.about.image),style:rs(e.about.style,yC)},menu:{title:qe(e.menu.title),ctaLabel:qe(e.menu.ctaLabel),loadingLabel:qe(e.menu.loadingLabel),image:Qr(e.menu.image),style:rs(e.menu.style,bC)},instagramReviews:{title:qe(e.instagramReviews.title),subtitle:qe(e.instagramReviews.subtitle),image:Qr(e.instagramReviews.image),style:rs(e.instagramReviews.style,xC),reviews:cU(e.instagramReviews.reviews??null)},findUs:{title:qe(e.findUs.title),addressLabel:qe(e.findUs.addressLabel),address:qe(e.findUs.address),cityLabel:qe(e.findUs.cityLabel),city:qe(e.findUs.city),hoursLabel:qe(e.findUs.hoursLabel),hours:qe(e.findUs.hours),mapLabel:qe(e.findUs.mapLabel),mapUrl:qe(e.findUs.mapUrl),style:rs(e.findUs.style,_C)},footer:{text:qe(e.footer.text),style:rs(e.footer.style,wC)},elementStyles:dU(e.elementStyles,SC),elementRichText:hU(e.elementRichText,jC),assets:xU(e.assets,J0)}),bi={},gf=e=>{bi[e]&&bi[e].forEach(t=>t())};let Jo=null;const $j="site_content",wU="default",SU=()=>{if(!(Jo||typeof fe.channel!="function"))try{Jo=fe.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>gf("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>gf("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>gf("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(Jo=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},Ie=e=>{if(e.error)throw new Error(e.error.message);return e.data},ps=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},ji=e=>{if(e)return new Date(e).getTime()},ky=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},_c=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},OC=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let o=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(o=o/1e3),n+o*r.qte_utilisee},0),jU=e=>{if(!e)return{permissions:{},homePage:void 0};const{[_s]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},qj=(e,t)=>{const n={...e};return t?n[_s]=t:delete n[_s],n},OU=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===lC.ADMIN||t==="administrateur"},EU=(e,t)=>{const n={...e};return Ma in n||(n[Ma]=OU(t)?"editor":"none"),n},wc=(e,t)=>{const{permissions:n,homePage:r}=jU(e.permissions),i=EU(n,e.name),o={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(o.pin=e.pin),o},Bj=e=>e!=null&&e.content?Ty(e.content):null,vf=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),EC=e=>({id:e.id,nom:e.nom}),AU=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),qo=(e,t)=>{const n=(e.product_recipes??[]).map(AU),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:BN(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=OC(n,t)),r},Sc=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),AC=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:ky(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:ji(e.date_envoi)}),NU=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),CU=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return NU(n,r)},TU=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const o=n.findIndex(l=>CU(l,i));o!==-1&&r.push(n.splice(o,1)[0])}),[...r,...n]},Sa=e=>{const t=(e.order_items??[]).map(AC),n=ky(e.total),r=ky(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:ji(e.date_creation)??Date.now(),date_envoi_cuisine:ji(e.date_envoi_cuisine),date_listo_cuisine:ji(e.date_listo_cuisine),date_servido:ji(e.date_servido),payment_status:e.payment_status,items:t,total:n??t.reduce((o,l)=>o+l.prix_unitaire*l.quantite,0),profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i},kU=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:ji(e.sale_date)??Date.now()}),PU=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},Py=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:PU(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},Hj=async e=>{if(!e.commande_id)return Py(e,new Map);const t=await fe.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=ps(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:ji(n.date_envoi_cuisine)}]]):new Map;return Py(e,r)},yi=()=>fe.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        )
      `).order("date_creation",{ascending:!1}),MU=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,Kj=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=fe.from("products").select(MU(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},RU=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Bo=async(e,t)=>{let r=await e(Kj({...t,includeBestSellerColumns:!0}),!0);return RU(r.error)&&(r=await e(Kj({...t,includeBestSellerColumns:!1}),!1)),r},Yt=async e=>{const t=await yi().eq("id",e).maybeSingle(),n=ps(t);return n?Sa(n):null},DU=async e=>{const t=await fe.from("order_items").select(`
        id,
        order_id,
        produit_id,
        nom_produit,
        prix_unitaire,
        quantite,
        excluded_ingredients,
        commentaire,
        estado,
        date_envoi
      `).eq("order_id",e);return Ie(t).map(AC)},Fj=async e=>{if(e.items.length>0)return e;const t=await DU(e.id);if(t.length===0)return await Yt(e.id)??e;const n=t.reduce((r,i)=>r+i.prix_unitaire*i.quantite,0);return{...e,items:t,total:e.total>0?e.total:n}},NC=["a_emporter","pedir_en_linea"],yf=e=>NC.includes(e.type),IU=e=>{if(yf(e)){const t=e.statut==="en_cours",n=e.estado_cocina==="recibido"||e.estado_cocina==="no_enviado";return t&&n&&e.items.length>0}return e.estado_cocina!=="recibido"?!1:e.items.some(t=>t.estado==="enviado")},ss=async()=>{const e=await fe.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return Ie(e).map(vf)},LU=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,Gj=async e=>{try{return await ss()}catch(t){if(LU(t))return console.warn(`[api.${e}] Impossible de récupérer les ingrédients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},Ag=async()=>{const e=await fe.from("categories").select("id, nom").order("nom");return Ie(e).map(EC)},Yj=async()=>{const e=await fe.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=Ie(e),n=t.map(l=>l.commande_id).filter(l=>!!l);let r=new Map;if(n.length>0){const l=await fe.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),u=Ie(l);r=new Map(u.map(d=>[d.id,{estado_cocina:d.estado_cocina,date_envoi_cuisine:ji(d.date_envoi_cuisine)}]))}const i=new Map,o=t.map(l=>l.id);if(o.length>0){const l=await fe.from("orders").select("table_id").in("table_id",o).eq("estado_cocina","listo").in("statut",["en_cours"]);Ie(l).forEach(d=>{const f=i.get(d.table_id)||0;i.set(d.table_id,f+1)})}return t.map(l=>({...Py(l,r),readyOrdersCount:i.get(l.id)||0}))},$c=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},zU={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},UU=e=>{const t=zU[e],n=new Date($c());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},Ng=async e=>{const{data:t}=await fe.from("orders").select("id, estado_cocina, statut").eq("table_id",e).in("statut",["en_cours"]);if(!t||t.length===0){const{data:p}=await fe.from("restaurant_tables").select("statut").eq("id",e).single();(p==null?void 0:p.statut)!=="libre"&&await fe.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",e);return}const n=t.map(p=>p.id),{data:r}=await fe.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.some(p=>p.estado==="enviado"),l=i.some(p=>p.estado==="listo");i.some(p=>p.estado==="servido");const u=i.some(p=>p.estado==="en_attente"),d=i.every(p=>p.estado==="servido");let f;l?f="para_entregar":o||u?f="en_cuisine":d?f="para_pagar":f="en_cuisine",await fe.from("restaurant_tables").update({statut:f}).eq("id",e)},Vj=async e=>{const{data:t}=await fe.from("orders").select("id, estado_cocina, statut").eq("table_id",tableId).in("statut",["en_cours"]);if(!t||t.length===0){await fe.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",tableId);return}const n=t.map(f=>f.id),{data:r}=await fe.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.every(f=>f.estado==="servido"),l=i.every(f=>f.estado==="listo"||f.estado==="servido"),u=i.some(f=>f.estado==="enviado");let d;o?d="para_pagar":l?d="para_entregar":d="en_cuisine",await fe.from("restaurant_tables").update({statut:d}).eq("id",tableId)},En={subscribe:(e,t)=>(bi[e]||(bi[e]=[]),bi[e].push(t),e==="orders_updated"&&SU(),()=>{var n;bi[e]=(bi[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=bi[e])==null?void 0:n.length)===0&&Jo&&(typeof fe.removeChannel=="function"&&fe.removeChannel(Jo),Jo=null)}),publish:e=>{gf(e)}},zn=e=>{(e==null?void 0:e.includeNotifications)!==!1&&En.publish("notifications_updated"),En.publish("orders_updated")},ye={notifications:En,getSiteContent:async()=>{const e=await fe.from($j).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=ps(e);return Bj(t)},updateSiteContent:async e=>{const t=_U(e),n=await fe.from($j).upsert({id:wU,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=Ie(n),i=Bj(r);if(!i)throw new Error("Contenu du site introuvable après la mise à jour.");return i},getRoles:async()=>{const e=await fe.from("roles").select("id, name, pin, permissions").order("name");return Ie(e).map(n=>wc(n,!0))},getRoleById:async e=>{const t=await fe.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=ps(t);return n?wc(n,!1):null},createRole:async e=>{const t=await fe.from("roles").insert({name:e.name,pin:e.pin,permissions:qj(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=Ie(t);return En.publish("notifications_updated"),wc(n,!0)},updateRole:async(e,t)=>{const n=await fe.from("roles").update({name:t.name,pin:t.pin,permissions:qj(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=Ie(n);return En.publish("notifications_updated"),wc(r,!0)},deleteRole:async e=>{const t=await fe.from("roles").delete().eq("id",e);Ie(t),En.publish("notifications_updated")},loginWithPin:async e=>{const t=await fe.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=ps(t);if(!n)return null;const r=wc(n,!1);try{await Z6(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rôle",i)}return r},getDashboardStats:async(e="week")=>{const{config:t,start:n,end:r}=UU(e),i=n.toISOString(),o=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const u=l.toISOString(),f=$c().toISOString(),[p,g,v,x,w,S]=await Promise.all([Yj(),ss(),Ag(),Bo(W=>W),yi().eq("statut","finalisee").gte("date_creation",f),yi().eq("statut","finalisee").gte("date_creation",u).lt("date_creation",o)]),E=Ie(w).map(Sa),A=Ie(S).map(Sa),k=A.filter(W=>W.date_creation>=n.getTime()),P=A.filter(W=>W.date_creation<n.getTime()),M=new Map(g.map(W=>[W.id,W])),R=Ie(x),z=new Map(R.map(W=>{const J=qo(W,M);return[J.id,J]})),H=k.reduce((W,J)=>W+(J.total??0),0),$=k.reduce((W,J)=>W+J.items.reduce((de,he)=>{const Le=z.get(he.produitRef),te=Le?OC(Le.recipe,M):0;return de+(he.prix_unitaire-te)*he.quantite},0),0),K=k.reduce((W,J)=>W+(J.couverts??0),0),F=k.length>0?H/k.length:0,ae=new Map(v.map(W=>[W.id,W.nom])),q=new Map;k.forEach(W=>{W.items.forEach(J=>{const de=z.get(J.produitRef),he=de?ae.get(de.categoria_id)??"Sans catégorie":"Sans catégorie";q.set(he,(q.get(he)??0)+J.prix_unitaire*J.quantite)})});const ne=Array.from(q.entries()).map(([W,J])=>({name:W,value:J})),L=[...k].sort((W,J)=>J.date_creation-W.date_creation).slice(0,5),Q=Array.from(z.values()).filter(W=>W.is_best_seller).sort((W,J)=>{const de=W.best_seller_rank??Number.POSITIVE_INFINITY,he=J.best_seller_rank??Number.POSITIVE_INFINITY;return de===he?W.nom_produit.localeCompare(J.nom_produit):de-he}).slice(0,6),oe=p.filter(W=>W.statut!=="libre").length,me=p.reduce((W,J)=>W+(J.couverts??0),0),ie=E.filter(W=>W.estado_cocina==="recibido").length,C=g.filter(W=>W.stock_actuel<=W.stock_minimum),D=(W,J,de)=>{const he=J.getTime(),Le=de.getTime();return W.reduce((te,we)=>we.date_creation>=he&&we.date_creation<Le?te+(we.total??0):te,0)},V=Array.from({length:t.days}).map((W,J)=>{const de=new Date(n);de.setDate(de.getDate()+J);const he=new Date(de);he.setDate(he.getDate()+1);const Le=new Date(l);Le.setDate(Le.getDate()+J);const te=new Date(Le);return te.setDate(te.getDate()+1),{name:t.days===7?J===t.days-1?"Auj":`J-${t.days-1-J}`:de.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:D(k,de,he),ventesPeriodePrecedente:D(P,Le,te)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:o,ventesPeriode:H,beneficePeriode:$,clientsPeriode:K,panierMoyen:F,tablesOccupees:oe,clientsActuels:me,commandesEnCuisine:ie,ingredientsStockBas:C,ventesPeriodeSeries:V,ventesParCategorie:ne,recentOrders:L,bestSellerProducts:Q}},getSalesByProduct:async e=>{const t=f=>{if(f)return typeof f=="string"?f:f.toISOString()},n=t(e==null?void 0:e.start)??$c().toISOString(),r=t(e==null?void 0:e.end);let i=fe.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const o=await i,l=Ie(o),u=new Map;l.forEach(f=>{const p=u.get(f.product_id)??{name:f.product_name,value:0};p.value+=f.total_price,u.set(f.product_id,p)});const d=Array.from(u.values()).sort((f,p)=>p.value-f.value);if(d.length>6){const f=d.slice(0,6),p=d.slice(6).reduce((g,v)=>g+v.value,0);return[...f,{name:"Autres",value:p}]}return d},getTables:async()=>Yj(),createTable:async e=>{const t=await fe.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=Ie(t);return zn(),Hj(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await fe.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=Ie(r);return zn(),Hj(i)},deleteTable:async e=>{const t=await fe.from("restaurant_tables").delete().eq("id",e);Ie(t),zn()},getIngredients:async()=>ss(),getProducts:async()=>{const[e,t]=await Promise.all([Bo(i=>i.neq("estado","archive")),Gj("getProducts")]),n=Ie(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>qo(i,r))},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Bo((i,o)=>o?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),Gj("getBestSellerProducts")]),n=Ie(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,o)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,u=o.best_seller_rank??Number.POSITIVE_INFINITY;return l-u}).map(i=>qo(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>Ag(),getKitchenOrders:async()=>{const e=await yi().in("estado_cocina",["recibido","no_enviado"]).neq("statut","finalisee"),t=Ie(e),n=await Promise.all(t.map(o=>Fj(Sa(o)))),r=[];return n.filter(IU).forEach(o=>{const l=o.items.filter(f=>f.estado==="enviado"),u=l.length>0?l:yf(o)?o.items:[];if(u.length===0)return;u.reduce((f,p)=>{const g=p.date_envoi??o.date_envoi_cuisine??o.date_creation,v=f.get(g)??[];return v.push(p),f.set(g,v),f},new Map).forEach((f,p)=>{r.push({...o,items:f,date_envoi_cuisine:p,ticketKey:`${o.id}-${p}`})})}),r.sort((o,l)=>{const u=o.date_envoi_cuisine??o.date_creation,d=l.date_envoi_cuisine??l.date_creation;return u-d})},getTakeawayOrders:async()=>{const e=await yi().in("type",NC),t=Ie(e),n=await Promise.all(t.map(r=>Fj(Sa(r))));return{pending:n.filter(r=>r.statut==="pendiente_validacion"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await Yt(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await fe.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=ps(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await Yt(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await fe.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),o=Ie(i);return await fe.from("restaurant_tables").update({statut:"en_cuisine",commande_id:o.id,couverts:n.couverts??n.capacite}).eq("id",e),zn(),Sa(o)},cancelUnsentTableOrder:async e=>{const t=await Yt(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await fe.from("order_items").delete().eq("order_id",e),await fe.from("orders").delete().eq("id",e),t.table_id&&await fe.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),zn())},updateOrder:async(e,t,n)=>{const r=await Yt(e);if(!r)throw new Error("Order not found");if(r.items,t.items){const g=t.items.map(v=>{const x={order_id:e,produit_id:v.produitRef,nom_produit:v.nom_produit,prix_unitaire:v.prix_unitaire,quantite:v.quantite,excluded_ingredients:v.excluded_ingredients,commentaire:v.commentaire,estado:v.estado,date_envoi:_c(v.date_envoi)??null};return Sc(v.id)&&(x.id=v.id),x});g.length>0&&await fe.from("order_items").upsert(g,{defaultToNull:!1}),t.items}const{items:i,clientInfo:o,removedItemIds:l=[],...u}=t,d={};u.type&&(d.type=u.type),u.table_id!==void 0&&(d.table_id=u.table_id),u.table_nom!==void 0&&(d.table_nom=u.table_nom),u.couverts!==void 0&&(d.couverts=u.couverts),u.statut&&(d.statut=u.statut),u.estado_cocina&&(d.estado_cocina=u.estado_cocina),u.payment_status&&(d.payment_status=u.payment_status),u.payment_method!==void 0&&(d.payment_method=u.payment_method),u.payment_receipt_url!==void 0&&(d.payment_receipt_url=u.payment_receipt_url),u.receipt_url!==void 0&&(d.receipt_url=u.receipt_url),u.total!==void 0&&(d.total=u.total),u.profit!==void 0&&(d.profit=u.profit),u.date_creation!==void 0&&(d.date_creation=_c(u.date_creation)),u.date_envoi_cuisine!==void 0&&(d.date_envoi_cuisine=_c(u.date_envoi_cuisine)),u.date_listo_cuisine!==void 0&&(d.date_listo_cuisine=_c(u.date_listo_cuisine)),u.date_servido!==void 0&&(d.date_servido=_c(u.date_servido)),t.items&&(d.total=t.items.reduce((g,v)=>g+v.prix_unitaire*v.quantite,0));const f=l.filter(g=>Sc(g));f.length>0&&await fe.from("order_items").delete().in("id",f),o&&(d.client_nom=(o==null?void 0:o.nom)??null,d.client_telephone=(o==null?void 0:o.telephone)??null,d.client_adresse=(o==null?void 0:o.adresse)??null),Object.keys(d).length>0&&await fe.from("orders").update(d).eq("id",e),zn({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const p=await Yt(e);if(!p)throw new Error("Order not found after update");return t.items?{...p,items:TU(t.items,p.items)}:p},sendOrderToKitchen:async(e,t)=>{const n=await Yt(e);if(!n)throw new Error("Order not found");const r=n.items.filter(d=>d.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const d=new Set(t);return r.filter(f=>d.has(f.id))})();if(i.length===0)return n;const o=i.filter(d=>Sc(d.id)).map(d=>d.id);if(o.length===0)return n;const l=new Date().toISOString();await fe.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",o),await fe.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await fe.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),zn();const u=await Yt(e);if(!u)throw new Error("Order not found after sending to kitchen");return u},markOrderAsReady:async(e,t)=>{const n=new Date().toISOString(),r=await Yt(e);if(!r)throw new Error("Order not found");if(t!==void 0){const o=r.items.filter(d=>(d.date_envoi??r.date_envoi_cuisine??r.date_creation)===t);for(const d of o)await fe.from("order_items").update({estado:"listo"}).eq("id",d.id);r.items.every(d=>(d.date_envoi??r.date_envoi_cuisine??r.date_creation)===t||d.estado==="listo"||d.estado==="servido")&&await fe.from("orders").update({estado_cocina:"listo",date_listo_cuisine:n}).eq("id",e),r.table_id&&await Ng(r.table_id),zn();const u=await Yt(e);if(!u)throw new Error("Order not found after ready update");return u}zn();const i=await Yt(e);if(!i)throw new Error("Order not found after ready update");return i},markOrderAsServed:async e=>{const t=await Yt(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await fe.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),await fe.from("order_items").update({estado:"servido"}).eq("order_id",e).eq("estado","listo"),t.table_id&&await Ng(t.table_id),zn();const r=await Yt(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await Yt(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await fe.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i}).eq("id",e),r.table_id&&await Ng(r.table_id),zn();const o=await Yt(e);if(!o)throw new Error("Order not found after finalization");const l=await Vj();return{...o,profit:l}},submitCustomerOrder:async e=>{var l,u,d;const n=new Date().toISOString(),r=await fe.from("orders").insert({type:"pedir_en_linea",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",payment_method:e.payment_method??null,total:e.items.reduce((f,p)=>f+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((u=e.clientInfo)==null?void 0:u.telephone)??null,client_adresse:((d=e.clientInfo)==null?void 0:d.adresse)??null,receipt_url:e.receipt_url??null}).select("*").single(),i=Ie(r);if(e.items.length>0){const f=e.items.map(g=>{const v={order_id:i.id,produit_id:g.produitRef&&Sc(g.produitRef)?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients,commentaire:g.commentaire,estado:g.estado,date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null};return Sc(g.id)&&(v.id=g.id),v}),p=await fe.from("order_items").insert(f,{defaultToNull:!1});if(p.error)throw console.error("Failed to insert order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}zn();const o=await Yt(i.id);if(!o)throw new Error("Order not found after creation");return o},getCustomerOrderStatus:async e=>Yt(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await fe.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",date_envoi_cuisine:t}).eq("id",e),await fe.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),zn();const n=await Yt(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await fe.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),zn();const t=await Yt(e);if(!t)throw new Error("Order not found after delivery");const n=await Vj();return{...t,profit:n}},getNotificationCounts:async()=>{const e=await yi(),n=Ie(e).map(Sa);return{pendingTakeaway:n.filter(r=>yf(r)&&r.statut==="pendiente_validacion").length,readyTakeaway:n.filter(r=>yf(r)&&r.estado_cocina==="listo").length,kitchenOrders:(await ye.getKitchenOrders()).length,lowStockIngredients:(await ss()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=$c(e),n=t.toISOString();t5(n);const[r,i,o,l]=await Promise.all([yi().eq("statut","finalisee"),Ag(),ss(),Bo(R=>R)]);let u=[],d=!1;try{u=await e5(n)}catch(R){console.warn("Failed to fetch role logins for daily report",R),d=!0}const p=Ie(r).map(Sa),g=t.getTime(),v=e.getTime(),x=p.filter(R=>{const z=R.date_servido??R.date_listo_cuisine??R.date_creation;return z>=g&&z<=v}),w=x.reduce((R,z)=>R+z.total,0),S=x.reduce((R,z)=>R+z.couverts,0),j=x.length>0?w/x.length:0,E=new Map(o.map(R=>[R.id,R])),N=Ie(l),A=new Map(N.map(R=>{const z=qo(R,E);return[z.id,z]})),k=new Map(i.map(R=>[R.id,R.nom])),P=new Map;x.forEach(R=>{R.items.forEach(z=>{const H=A.get(z.produitRef),$=H?k.get(H.categoria_id)??"Sans catégorie":"Sans catégorie",K=H?H.categoria_id:"unknown",F=P.get(K)??{categoryName:$,products:[]},ae=F.products.find(q=>q.id===z.produitRef);ae?(ae.quantity+=z.quantite,ae.totalSales+=z.prix_unitaire*z.quantite):F.products.push({id:z.produitRef,name:z.nom_produit,quantity:z.quantite,totalSales:z.prix_unitaire*z.quantite}),P.set(K,F)})}),P.forEach(R=>{R.products.sort((z,H)=>H.quantity-z.quantity)});const M=o.filter(R=>R.stock_actuel<=R.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:S,panierMoyen:j,ventesDuJour:w,soldProducts:Array.from(P.values()),lowStockIngredients:M,roleLogins:u,roleLoginsUnavailable:d}},getSalesHistory:async()=>{const e=await fe.from("sales").select("*").order("sale_date",{ascending:!1});return Ie(e).map(kU)},getFinalizedOrders:async()=>{const e=await yi().eq("statut","finalisee");return Ie(e).map(Sa)},addIngredient:async e=>{const t=await fe.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=Ie(t);return En.publish("notifications_updated"),vf(n)},updateIngredient:async(e,t)=>{const n=await fe.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=Ie(n);return En.publish("notifications_updated"),vf(r)},deleteIngredient:async e=>{const t=await fe.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1);if(Ie(t).length>0)throw new Error("Impossible de supprimer l'ingrédient car il est utilisé dans une recette.");return await fe.from("ingredients").delete().eq("id",e),En.publish("notifications_updated"),{success:!0}},resupplyIngredient:async(e,t,n)=>{const r=await fe.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).maybeSingle(),i=ps(r);if(!i)throw new Error("Ingredient not found");const o=i.prix_unitaire*i.stock_actuel,l=t*n,u=i.stock_actuel+t,d=u>0?(o+l)/u:0;await fe.from("ingredients").update({stock_actuel:u,prix_unitaire:Number.isFinite(d)?d:0}).eq("id",e),await fe.from("purchases").insert({ingredient_id:e,quantite_achetee:t,prix_total:l,date_achat:new Date().toISOString()}),En.publish("notifications_updated");const f=await fe.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).single(),p=Ie(f);return vf(p)},addProduct:async e=>{const t=await fe.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:Es(e.image),is_best_seller:e.is_best_seller,best_seller_rank:e.is_best_seller?e.best_seller_rank:null}).select("id").single(),n=Ie(t);e.recipe.length>0&&await fe.from("product_recipes").insert(e.recipe.map(u=>({product_id:n.id,ingredient_id:u.ingredient_id,qte_utilisee:u.qte_utilisee}))),En.publish("notifications_updated");const r=await Bo(u=>u.eq("id",n.id).single()),i=Ie(r),o=await ss(),l=new Map(o.map(u=>[u.id,u]));return qo(i,l)},updateProduct:async(e,t)=>{const{recipe:n,...r}=t,i={};if(r.nom_produit!==void 0&&(i.nom_produit=r.nom_produit),r.description!==void 0&&(i.description=r.description??null),r.prix_vente!==void 0&&(i.prix_vente=r.prix_vente),r.categoria_id!==void 0&&(i.categoria_id=r.categoria_id),r.estado!==void 0&&(i.estado=r.estado),r.image!==void 0&&(i.image=Es(r.image)),r.best_seller_rank!==void 0&&(i.best_seller_rank=r.best_seller_rank),r.is_best_seller!==void 0&&(i.is_best_seller=r.is_best_seller,r.is_best_seller||(i.best_seller_rank=null)),Object.keys(i).length>0){const f=await fe.from("products").update(i).eq("id",e);Ie(f)}if(n){const f=await fe.from("product_recipes").delete().eq("product_id",e);if(Ie(f),n.length>0){const p=await fe.from("product_recipes").insert(n.map(g=>({product_id:e,ingredient_id:g.ingredient_id,qte_utilisee:g.qte_utilisee})));Ie(p)}}En.publish("notifications_updated");const o=await Bo(f=>f.eq("id",e).single()),l=Ie(o),u=await ss(),d=new Map(u.map(f=>[f.id,f]));return qo(l,d)},deleteProduct:async e=>{await fe.from("product_recipes").delete().eq("product_id",e),await fe.from("products").delete().eq("id",e),En.publish("notifications_updated")},addCategory:async e=>{const t=await fe.from("categories").insert({nom:e}).select("id, nom").single(),n=Ie(t);return En.publish("notifications_updated"),EC(n)},deleteCategory:async e=>{await fe.from("categories").delete().eq("id",e),En.publish("notifications_updated")}},CC=_.createContext(void 0),$U=({children:e})=>{const[t,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!f||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(f),v=JSON.parse(p);if(!(g!=null&&g.id)||v.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const x=await ye.getRoleById(g.id);x?(n(x),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(x)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:x.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(f){console.error("Failed to restore role:",f),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const o=_.useCallback(async d=>{i(!0);try{const f=await ye.loginWithPin(d);if(!f)throw new Error("PIN invalide");return n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()})),f}finally{i(!1)}},[]),l=_.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),u=_.useCallback(async()=>{if(t!=null&&t.id)try{const d=await ye.getRoleById(t.id);d?(n(d),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(d)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:d.id,authenticatedAt:Date.now()}))):l()}catch(d){console.error("Failed to refresh role:",d)}},[l,t==null?void 0:t.id]);return m.jsx(CC.Provider,{value:{role:t,loading:r,login:o,logout:l,refreshRole:u},children:e})},na=()=>{const e=_.useContext(CC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Tf=e=>e==="editor"||e==="readonly",Z0=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Tf(n==null?void 0:n[t]))return t;const r=$n.find(i=>Tf(n==null?void 0:n[i.permissionKey]));return r?r.href:null},qU=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),BU=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:o}=na(),l=Ci(),u=_.useRef(null),d=_.useRef(null),f=()=>{o(),l("/")},p=i==null?void 0:i.permissions,g=_.useMemo(()=>$n.filter(S=>{const j=p==null?void 0:p[S.permissionKey];return Tf(j)}),[p]),v=_.useMemo(()=>g.find(S=>S.permissionKey===Ma),[g]),x=_.useMemo(()=>g.filter(S=>S.permissionKey!==Ma),[g]);_.useEffect(()=>{var A;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;d.current=document.activeElement;const j=u.current,E=j==null?void 0:j.querySelectorAll(qU);(A=E==null?void 0:E[0])==null||A.focus();const N=k=>{if(k.key==="Escape"&&(k.preventDefault(),t()),k.key==="Tab"&&E&&E.length>0){const P=E[0],M=E[E.length-1];k.shiftKey?document.activeElement===P&&(k.preventDefault(),M.focus()):document.activeElement===M&&(k.preventDefault(),P.focus())}};return document.addEventListener("keydown",N),()=>{var k,P;document.removeEventListener("keydown",N),(P=(k=d.current)==null?void 0:k.focus)==null||P.call(k)}},[e,t]);const w=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),m.jsxs("aside",{ref:u,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegación principal",children:[m.jsxs("div",{className:"app-sidebar__header",children:[m.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),m.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el menú",children:m.jsx(As,{size:20})})]}),m.jsxs("div",{className:"app-sidebar__content",children:[m.jsx("div",{className:"app-sidebar__scroll-region",children:m.jsx("nav",{className:"app-sidebar__nav",children:x.map(S=>{let j=null;return n&&(S.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?j=m.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):S.href==="/ventes"&&n.readyForService>0?j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):S.href==="/cocina"&&n.kitchenOrders>0?j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):S.href==="/ingredients"&&n.lowStockIngredients>0&&(j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),m.jsxs(hy,{to:S.href,onClick:w,className:({isActive:E})=>`app-sidebar__nav-link${E?" is-active":""}`,children:[m.jsx(S.icon,{size:22}),m.jsx("span",{children:S.name}),j]},S.name)})})}),m.jsxs("div",{className:"app-sidebar__section",children:[v&&m.jsxs(hy,{to:v.href,onClick:w,className:({isActive:S})=>`app-sidebar__action${S?" is-active":""}`,children:[m.jsx(v.icon,{size:22}),m.jsx("span",{className:"font-semibold",children:v.name})]}),m.jsxs("button",{onClick:()=>{r(),w()},className:"app-sidebar__action",children:[m.jsx(JN,{size:22}),m.jsx("span",{className:"font-semibold",children:"Reporte"})]}),m.jsxs("button",{onClick:f,className:"app-sidebar__action app-sidebar__action--logout",children:[m.jsx(tz,{size:22}),m.jsx("span",{className:"font-semibold",children:"Cerrar sesión"})]})]})]})]})]})},jn=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=_.useId();return _.useEffect(()=>{if(!e)return;const u=d=>{d.key==="Escape"&&(d.preventDefault(),t())};return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[e,t]),e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${o[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:u=>u.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[m.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),m.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fenêtre modale",children:m.jsx(As,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},HU=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),KU=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function TC(e){return Number.isFinite(e)?Math.round(e):0}function FU(e){return HU.format(TC(e))}function Me(e){return KU.format(TC(e))}const Cg=({icon:e,label:t,value:n})=>m.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[m.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),m.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),GU=({isOpen:e,onClose:t})=>{const[n,r]=_.useState(null),[i,o]=_.useState(!0),[l,u]=_.useState(null);_.useEffect(()=>{e&&(async()=>{o(!0),u(null);try{const v=await ye.generateDailyReport();r(v)}catch(v){console.error("Error al generar el informe diario",v),r(null),u("No fue posible generar el informe diario. Intenta nuevamente más tarde.")}finally{o(!1)}})()},[e]);const d=g=>{const v=new Map;return g.forEach(x=>{const w=new Date(x.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),S=v.get(x.roleName)??[];S.push(w),v.set(x.roleName,S)}),v},f=g=>{const v=[];if(v.push("*REPORTE OUIOUITACOS*"),v.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),v.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),v.push("---"),v.push("*Estadísticas del día*"),v.push(`- Ventas: *${Me(g.ventesDuJour)}*`),v.push(`- Clientes: *${g.clientsDuJour}*`),v.push(`- Ticket promedio: *${Me(g.panierMoyen)}*`),v.push("---"),v.push("*Productos vendidos*"),g.soldProducts.length===0?v.push("Ningún producto vendido."):g.soldProducts.forEach(x=>{v.push(`
_${x.categoryName}_`),x.products.forEach(w=>{v.push(`  - ${w.quantity}x ${w.name} (${Me(w.totalSales)})`)})}),v.push("---"),v.push("*Inicios de sesión desde las 05:00*"),g.roleLoginsUnavailable)v.push("Inicios de sesión no disponibles en este dispositivo.");else{const x=d(g.roleLogins);x.size===0?v.push("No hay inicios de sesión registrados."):x.forEach((w,S)=>{v.push(`- ${S}: ${w.join(", ")}`)})}return v.push("---"),v.push("*Inventario bajo*"),g.lowStockIngredients.length===0?v.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(x=>{v.push(`- ${x.nom} (${x.stock_actuel} / ${x.stock_minimum} ${x.unite})`)}),encodeURIComponent(v.join(`
`))},p=()=>{if(!n)return;const v=`https://wa.me/?text=${f(n)}`;window.open(v,"_blank"),t()};return m.jsx(jn,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&m.jsx("p",{children:"Generando el reporte..."}),!i&&l&&m.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&m.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&m.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&m.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[m.jsx(Nf,{className:"mt-0.5 h-4 w-4"}),m.jsx("span",{children:"Los inicios de sesión de los roles no están disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),m.jsxs("div",{className:"text-center border-b pb-4",children:[m.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),m.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[m.jsx(Cg,{icon:m.jsx(Gc,{}),label:"Ventas del día",value:Me(n.ventesDuJour)}),m.jsx(Cg,{icon:m.jsx(Cy,{}),label:"Clientes del día",value:n.clientsDuJour}),m.jsx(Cg,{icon:m.jsx(aC,{}),label:"Ticket promedio",value:Me(n.panierMoyen)})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(Wo,{})," Productos vendidos"]}),m.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),m.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(v=>m.jsxs("li",{children:[v.quantity,"x ",v.name," - ",m.jsx("span",{className:"font-semibold",children:Me(v.totalSales)})]},v.id))})]},g.categoryName))})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(Z5,{})," Inicios de sesión desde las 05:00"]}),n.roleLoginsUnavailable?m.jsx("p",{className:"text-gray-500",children:"Inicios de sesión no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=d(n.roleLogins);return g.size===0?m.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesión registrados desde las 05:00."}):m.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([v,x])=>m.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{className:"font-semibold text-gray-800",children:v}),m.jsx("span",{className:"text-sm text-gray-600",children:x.join(", ")})]},v))})})()]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(Nf,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?m.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>m.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[m.jsx("span",{children:g.nom}),m.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):m.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[m.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),m.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[m.jsx(eC,{size:20})," Enviar por WhatsApp"]})]})]})})},YU=()=>{const[e,t]=_.useState(!1),{role:n}=na(),[r,i]=_.useState(null),[o,l]=_.useState(!1),u=()=>t(!0),d=()=>t(!1);return _.useEffect(()=>{const f=async()=>{try{const g=await ye.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};f();const p=ye.notifications.subscribe("notifications_updated",f);return()=>{p()}},[]),_.useEffect(()=>{if(typeof window>"u")return;const f=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"app-shell",children:[m.jsx(BU,{isOpen:e,onClose:d,notifications:r,onReportClick:()=>l(!0)}),m.jsxs("div",{className:"app-main",children:[m.jsxs("header",{className:"app-header",children:[m.jsx("button",{type:"button",onClick:u,className:"app-header__menu-button md:hidden","aria-label":"Abrir el menú",children:m.jsx(ZN,{size:24})}),m.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),m.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),m.jsx("main",{className:"app-content",children:m.jsx("div",{className:"app-content__inner",children:m.jsx(U4,{})})})]})]}),m.jsx(GU,{isOpen:o,onClose:()=>l(!1)})]})},My="active-customer-order",Ry="active-customer-order-id",VU=1440*60*1e3,WU=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},Yc=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(My),window.localStorage.removeItem(Ry);return}window.localStorage.setItem(My,JSON.stringify(e)),window.localStorage.removeItem(Ry)}catch(t){console.error("Failed to persist active order",t)}},kC=()=>{if(typeof window>"u")return null;const e=WU(window.localStorage.getItem(My));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(Yc(null),null):e;const t=window.localStorage.getItem(Ry);if(t&&t.trim().length>0){const n={orderId:t};return Yc(n),n}return null},XU=(e,t)=>{if(!e){Yc(null);return}Yc(t?{orderId:e,expiresAt:t}:{orderId:e})},PC=()=>{Yc(null)},QU=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},JU=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var S,j,E;const[r,i]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!1),f=[{name:"Enviado",icon:JN},{name:"Validado",icon:Ey},{name:"En preparacion",icon:VN},{name:"Listo",icon:cz}],p=_.useCallback(N=>N?N.statut==="finalisee"||N.estado_cocina==="servido"||N.estado_cocina==="entregada"||N.estado_cocina==="listo"?3:N.estado_cocina==="recibido"?2:N.statut==="en_cours"?1:N.statut==="pendiente_validacion"||N.estado_cocina==="no_enviado"?0:-1:-1,[]),g=_.useMemo(()=>p(r),[r,p]);_.useEffect(()=>{let N=!0,A;const k=async()=>{try{const P=await ye.getCustomerOrderStatus(e);if(N){if(i(P),(P==null?void 0:P.statut)==="finalisee"||(P==null?void 0:P.estado_cocina)==="servido"||(P==null?void 0:P.estado_cocina)==="entregada"){A&&clearInterval(A),QU(P);const M=P.date_servido??Date.now();XU(P.id,M+VU)}if(!P){const M=kC();(M==null?void 0:M.orderId)===e&&PC()}}}catch(P){console.error("Failed to fetch order status",P)}finally{N&&l(!1)}};return k(),A=setInterval(k,5e3),()=>{N=!1,clearInterval(A)}},[e]);const v=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",x=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",w=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return o?m.jsx("div",{className:x,children:"Chargement du suivi de commande..."}):r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:x,children:m.jsxs("div",{className:w,children:[m.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),m.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),m.jsx("div",{className:"flex justify-between items-start mb-10 px-2",children:f.map((N,A)=>{const k=A===g,P=A===f.length-1,M=A<g||P&&v,z=["w-16 h-16 rounded-full flex items-center justify-center border-4 transition-all duration-300",M?"bg-green-500 border-green-500 text-white":"",!M&&k&&A===0?"waiting-status-indicator":"",!M&&k&&A!==0?"bg-brand-primary border-brand-primary text-brand-secondary animate-pulse":"",!M&&!k?"bg-gray-200 border-gray-300 text-gray-500":""].filter(Boolean).join(" ");return m.jsxs(Ur.Fragment,{children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-24",children:[m.jsx("div",{className:z,children:m.jsx(N.icon,{size:32})}),m.jsx("p",{className:`mt-2 text-sm md:text-base font-semibold break-words ${k?"font-bold text-brand-primary":`${n==="hero"?"text-gray-300":"text-gray-600"}`}`,children:N.name})]}),A<f.length-1&&m.jsx("div",{className:`flex-1 h-2 mt-8 transition-colors duration-500 ${M?"bg-green-500":"bg-gray-300"}`})]},N.name)})}),m.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4`,children:[m.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Résumé de la commande"}),m.jsx("div",{className:"space-y-2",children:r.items.map(N=>m.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[m.jsxs("span",{children:[N.quantite,"x ",N.nom_produit]}),m.jsx("span",{children:Me(N.prix_unitaire*N.quantite)})]},N.id))}),m.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Me(r.total)})]}),m.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(X0,{size:16,className:"mr-2"}),(S=r.clientInfo)==null?void 0:S.nom]}),m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(nC,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.telephone]}),m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(Y0,{size:16,className:"mr-2"}),(E=r.clientInfo)==null?void 0:E.adresse]}),r.receipt_url&&m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center text-blue-400 hover:underline",children:[m.jsx(bz,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),m.jsxs("div",{className:"mt-8 text-center space-y-4",children:[v&&m.jsx("div",{className:"flex justify-center",children:m.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[m.jsx(Ey,{size:16})," Pedido listo"]})}),r.statut==="finalisee"?m.jsx("button",{onClick:t,className:`${n==="hero"?"bg-gray-200 text-gray-800":"bg-brand-primary text-brand-secondary"} font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition`,children:"Passer une nouvelle commande"}):m.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis à jour automatiquement."})]})]})}),m.jsx(jn,{isOpen:u,onClose:()=>d(!1),title:"Justificatif de Paiement",children:r.receipt_url?m.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):m.jsx("p",{children:"Aucun justificatif fourni."})})]}):m.jsx("div",{className:x,children:m.jsxs("div",{className:w,children:[m.jsx("h2",{className:`text-2xl font-bold mb-4 ${n==="hero"?"text-red-400":"text-red-600"}`,children:"Commande non trouvée"}),m.jsx("p",{className:`${n==="hero"?"text-gray-200":"text-gray-600"} mb-6`,children:"Nous n'avons pas pu retrouver votre commande."}),m.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})};let Vd=null;const ZU=()=>{const[e,t]=_.useState(Vd),[n,r]=_.useState(!0),[i,o]=_.useState(null),l=_.useCallback(async()=>{r(!0);try{const d=await ye.getSiteContent(),f=Ty(d??void 0);Vd=f,t(f),o(null)}catch(d){console.error("Failed to fetch site content",d),Vd=Cf,t(Cf),o(d instanceof Error?d.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),u=_.useCallback(async d=>{const f=await ye.updateSiteContent(d),p=Ty(f);return t(p),Vd=p,p},[]);return _.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:u}},e$={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},t$={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},n$=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},r$=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(e$))if(t.includes(n))return r;return null},a$=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return t$[r]??null},i$=e=>{const t=r$(e.format);return t||a$(e.url)},s$=e=>{const t=n$(e.name),n=i$(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},o$="data-custom-font-faces",l$=e=>{_.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(o=>o.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(o=>{const l=s$(o),u=l.match(/font-family: "([^"]+)";/),d=u?u[1]:o.name;r.has(d)||(r.add(d),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(o$,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},MC=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},Yo=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},c$=(e,t)=>{const n=Yo(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Vo=e=>({color:e.textColor,fontFamily:MC(e.fontFamily)}),Tg=e=>({...Vo(e),fontSize:e.fontSize}),RC=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:MC((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},u$=(e,t)=>({...RC(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),d$=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},f$=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",o=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${o}=${l}`}},kg=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'élément modifiable "${e}"`)};Ur.createContext(!0);const Dy="/logo-brand.svg",Ho=()=>({background:{type:"color",color:"#ffffff",image:null},fontFamily:"inherit",fontSize:"16px",textColor:"#000000"}),h$={navigation:{brand:"",brandLogo:Dy,links:{home:"",about:"",menu:"",loginCta:""},style:Ho()},hero:{title:"",subtitle:"",ctaLabel:"",backgroundImage:null,historyTitle:"",reorderCtaLabel:"",style:Ho()},about:{title:"",description:"",image:null,style:Ho()},menu:{title:"",ctaLabel:"",loadingLabel:"",image:null,style:Ho()},instagramReviews:JSON.parse(JSON.stringify(Cf.instagramReviews)),findUs:{title:"",addressLabel:"",address:"",cityLabel:"",city:"",hoursLabel:"",hours:"",mapLabel:"",mapUrl:"",style:Ho()},footer:{text:"",style:Ho()},elementStyles:{},elementRichText:{},assets:{library:[]}},DC=Ur.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},o)=>{const l=g=>{e.length<n&&!i&&t(e+g)},u=()=>{e.length>0&&!i&&t(e.slice(0,-1))},d=g=>{if(i)return;const v=g.target.value.replace(/\D/g,"").slice(0,n);t(v)},f=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),u();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return m.jsxs("div",{className:"pin-input","aria-label":"Clavier numérique sécurisé",children:[m.jsx("input",{ref:o,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:d,onKeyDown:f,"aria-describedby":r,"aria-label":`Code PIN à ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),m.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,v)=>m.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[v]?"•":""},v))}),m.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),m.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,v)=>m.jsx("button",{type:"button",onClick:()=>l(String(v+1)),className:"pin-pad__button",disabled:i,children:v+1},v+1)),m.jsx("div",{"aria-hidden":"true"}),m.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),m.jsx("button",{type:"button",onClick:u,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});DC.displayName="PinInput";const m$=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",p$=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},g$=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState(""),[i,o]=_.useState(""),[l,u]=_.useState(!1),d=_.useRef(null),{login:f}=na(),p=Ci(),{content:g}=ZU(),[v,x]=_.useState(()=>g);_.useEffect(()=>{g&&x(g)},[g]);const w=v??h$;l$(w.assets.library);const{navigation:S,hero:j,about:E,menu:N,findUs:A,footer:k}=w,P=S.brandLogo??Dy,M=S.brandLogo??Dy,R=Yo(S.style),z=Vo(S.style),H=c$(j.style,j.backgroundImage),$=Vo(j.style),K=Tg(j.style),F=Yo(E.style),ae=Vo(E.style),q=Yo(N.style),ne=Vo(N.style),L=Tg(N.style),Q=Yo(A.style),oe=Vo(A.style),me=Yo(k.style),ie=Tg(k.style),C=w.elementStyles??{},D={navigation:S.style,hero:j.style,about:E.style,menu:N.style,instagramReviews:w.instagramReviews.style,findUs:A.style,footer:k.style},V=Ee=>C[Ee],W=Ee=>{const et=kg(Ee);return RC(D[et],V(Ee))},J=Ee=>{const et=kg(Ee);return u$(D[et],V(Ee))},de=Ee=>{const et=kg(Ee);return d$(D[et],V(Ee))},he=w.elementRichText??{},Le=Ee=>{var tn;const et=he[Ee],kt=(tn=et==null?void 0:et.html)==null?void 0:tn.trim();return kt&&kt.length>0?kt:null},te=(Ee,et,kt,tn)=>{const Cr=Le(Ee);return Cr?Ur.createElement(et,{...kt,dangerouslySetInnerHTML:{__html:Cr}}):Ur.createElement(et,kt,tn)},[we,Ce]=_.useState([]),[ce,Nt]=_.useState([]),[ze,Ct]=_.useState(!0),[Tt,en]=_.useState(!1),[Ar,Di]=_.useState(()=>kC()),ra=_.useCallback(async Ee=>{u(!0),o("");try{const et=await f(Ee),kt=Z0(et)??"/dashboard";t(!1),r(""),p(kt)}catch(et){console.error("Failed to authenticate with PIN",et);const kt=et instanceof Error&&et.message?et.message:"PIN invalide";o(kt),r(""),requestAnimationFrame(()=>{var tn;(tn=d.current)==null||tn.focus()})}finally{u(!1)}},[f,p]);_.useEffect(()=>{if(!e)return;const Ee=window.setTimeout(()=>{var et;(et=d.current)==null||et.focus()},0);return()=>window.clearTimeout(Ee)},[e]),_.useEffect(()=>{n.length===6&&!l&&ra(n)},[n,l,ra]),_.useEffect(()=>{if(!(typeof window>"u"))try{const Ee=window.localStorage.getItem("customer-order-history");if(!Ee)return;const et=JSON.parse(Ee);Array.isArray(et)&&Nt(et)}catch(Ee){console.error("Could not load order history",Ee)}},[]),_.useEffect(()=>{let Ee=!0;return(async()=>{try{const kt=await ye.getBestSellerProducts();Ee&&Ce(kt)}catch(kt){console.error("Could not load best seller products",kt)}finally{Ee&&Ct(!1)}})(),()=>{Ee=!1}},[]);const Nr=A.address.trim(),Ka=A.mapUrl,Ii=typeof Ka=="string"?Ka.trim():"",It=Ii.length>0,aa=!It&&Nr.length>0?encodeURIComponent(Nr):"",Bs=It?Ii:aa?`https://www.google.com/maps?q=${aa}`:"https://www.google.com/maps",Hs=It?f$(Ii,"output","embed"):aa?`https://www.google.com/maps?q=${aa}&output=embed`:"about:blank",ue=It||aa.length>0,pe=Nr.length>0?Nr:A.title,Oe=(Ar==null?void 0:Ar.orderId)??null,Ze=we.slice(0,6),Ge=Ze.length,wt=m$(Ge),Pe=p$(Ge),Qe=Ee=>{Ee.preventDefault(),n.length===6&&!l&&ra(n)},dt=()=>{PC(),Di(null)},St=Ee=>{localStorage.setItem("customer-order-reorder-id",Ee),p("/commande-client")};return m.jsxs("div",{className:"login-page",children:[m.jsx("header",{className:"login-header",style:R,children:m.jsxs("div",{className:"layout-container login-header__inner",style:z,children:[m.jsxs("div",{className:"login-brand",style:z,children:[m.jsx("img",{src:P,alt:`Logo ${S.brand}`,className:"login-brand__logo"}),te("navigation.brand","span",{className:"login-brand__name",style:W("navigation.brand")},S.brand)]}),m.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[te("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:J("navigation.links.home")},S.links.home),te("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:J("navigation.links.about")},S.links.about),te("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:J("navigation.links.menu")},S.links.menu),m.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":S.links.loginCta,children:m.jsx("img",{src:M,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),m.jsx("button",{type:"button",onClick:()=>en(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:m.jsx(ZN,{size:24})})]})}),Tt&&m.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:R,children:[m.jsx("button",{type:"button",onClick:()=>en(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:m.jsx(As,{size:28})}),m.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:z,children:[te("navigation.links.home","a",{href:"#accueil",onClick:()=>en(!1),className:"login-menu-overlay__link",style:J("navigation.links.home")},S.links.home),te("navigation.links.about","a",{href:"#apropos",onClick:()=>en(!1),className:"login-menu-overlay__link",style:J("navigation.links.about")},S.links.about),te("navigation.links.menu","a",{href:"#menu",onClick:()=>en(!1),className:"login-menu-overlay__link",style:J("navigation.links.menu")},S.links.menu),m.jsx("button",{type:"button",onClick:()=>{t(!0),en(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":S.links.loginCta,children:m.jsx("img",{src:M,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),m.jsxs("main",{children:[m.jsx("section",{id:"accueil",className:"section section-hero",style:{...H,...$},children:m.jsx("div",{className:"section-hero__inner",children:Oe?m.jsx(JU,{orderId:Oe,onNewOrderClick:dt,variant:"hero"}):m.jsxs("div",{className:"hero-content",style:$,children:[te("hero.title","h2",{className:"hero-title",style:W("hero.title")},j.title),te("hero.subtitle","p",{className:"hero-subtitle",style:J("hero.subtitle")},j.subtitle),m.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...J("hero.ctaLabel"),...de("hero.ctaLabel")},children:te("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:J("hero.ctaLabel")},j.ctaLabel)}),ce.length>0&&m.jsxs("div",{className:"hero-history",children:[te("hero.historyTitle","p",{className:"hero-history__title",style:J("hero.historyTitle")},j.historyTitle),m.jsx("div",{className:"hero-history__list",children:ce.slice(0,3).map(Ee=>m.jsxs("div",{className:"hero-history__item",children:[m.jsxs("div",{className:"hero-history__meta",children:[m.jsxs("p",{className:"hero-history__date",style:K,children:["Pedido del ",new Date(Ee.date_creation).toLocaleDateString()]}),m.jsxs("p",{className:"hero-history__details",style:K,children:[Ee.items.length," article(s) • ",Me(Ee.total)]})]}),m.jsx("button",{type:"button",onClick:()=>St(Ee.id),className:"hero-history__cta",style:{...J("hero.reorderCtaLabel"),...de("hero.reorderCtaLabel")},children:te("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:J("hero.reorderCtaLabel")},j.reorderCtaLabel)})]},Ee.id))})]})]})})}),m.jsx("section",{id:"apropos",className:"section section-surface",style:{...F,...ae},children:m.jsxs("div",{className:"section-inner section-inner--center",style:ae,children:[te("about.title","h2",{className:"section-title",style:W("about.title")},E.title),te("about.description","p",{className:"section-text section-text--muted",style:J("about.description")},E.description),E.image&&m.jsx("img",{src:E.image,alt:E.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),m.jsx("section",{id:"menu",className:"section section-muted",style:{...q,...ne},children:m.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:ne,children:[te("menu.title","h2",{className:"section-title",style:W("menu.title")},N.title),N.image&&m.jsx("img",{src:N.image,alt:N.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),ze?te("menu.loadingLabel","p",{className:"section-text section-text--muted",style:J("menu.loadingLabel")},N.loadingLabel):Ze.length>0?m.jsx("div",{className:wt,children:Ze.map(Ee=>m.jsxs("article",{className:Pe,children:[m.jsx("img",{src:Ee.image,alt:Ee.nom_produit,className:"menu-card__media"}),m.jsxs("div",{className:"menu-card__body",children:[m.jsx("h3",{className:"menu-card__title",style:ne,children:Ee.nom_produit}),m.jsx("p",{className:"menu-card__description",style:L,children:Ee.description}),m.jsx("p",{className:"menu-card__price",style:L,children:Me(Ee.prix_vente)})]})]},Ee.id))}):m.jsx("p",{className:"section-text section-text--muted",style:L,children:"Aucun produit best seller n'est disponible pour le moment."}),m.jsx("div",{className:"section-actions",children:m.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...J("menu.ctaLabel"),...de("menu.ctaLabel")},children:te("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:J("menu.ctaLabel")},N.ctaLabel)})})]})}),m.jsx("section",{id:"find-us",className:"section section-surface",style:{...Q,...oe},children:m.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:oe,children:[m.jsxs("div",{className:"find-us-panel",style:oe,children:[te("findUs.title","h2",{className:"section-title",style:W("findUs.title")},A.title),m.jsxs("div",{className:"find-us-details",children:[m.jsxs("div",{className:"find-us-detail",style:oe,children:[m.jsx(Y0,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[te("findUs.addressLabel","h3",{className:"find-us-detail__title",style:W("findUs.addressLabel")},A.addressLabel),te("findUs.address","p",{className:"find-us-detail__text",style:J("findUs.address")},A.address)]})]}),m.jsxs("div",{className:"find-us-detail",style:oe,children:[m.jsx(yh,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[te("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:W("findUs.hoursLabel")},A.hoursLabel),te("findUs.hours","p",{className:"find-us-detail__text",style:J("findUs.hours")},A.hours)]})]}),m.jsxs("div",{className:"find-us-detail",style:oe,children:[m.jsx(rz,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[te("findUs.cityLabel","h3",{className:"find-us-detail__title",style:W("findUs.cityLabel")},A.cityLabel),te("findUs.city","p",{className:"find-us-detail__text",style:J("findUs.city")},A.city)]})]})]})]}),m.jsx("div",{className:"find-us-map",style:oe,children:ue?m.jsxs("div",{className:"find-us-map__frame",children:[m.jsx("iframe",{title:`Carte Google Maps pour ${pe}`,src:Hs,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),m.jsx("a",{className:"find-us-map__link",href:Bs,target:"_blank",rel:"noopener noreferrer",children:te("findUs.mapLabel","span",{className:"find-us-map__label",style:J("findUs.mapLabel")},A.mapLabel)})]}):m.jsx("div",{className:"find-us-map__placeholder",children:te("findUs.mapLabel","span",{className:"find-us-map__label",style:J("findUs.mapLabel")},A.mapLabel)})})]})})]}),m.jsx("footer",{className:"site-footer",style:{...me,...ie},children:m.jsx("div",{className:"layout-container site-footer__inner",style:ie,children:m.jsxs("p",{style:J("footer.text"),children:["© ",new Date().getFullYear()," ",S.brand,"."," ",te("footer.text","span",{style:J("footer.text")},k.text)]})})}),m.jsx(jn,{isOpen:e,onClose:()=>{t(!1),r(""),o("")},title:"Connexion du personnel",size:"lg",children:m.jsx("div",{className:"login-modal",children:m.jsx("form",{onSubmit:Qe,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:m.jsxs("div",{className:"login-modal__panel",children:[m.jsx(DC,{ref:d,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&m.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function IC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=IC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=IC(e))&&(r&&(r+=" "),r+=t);return r}var Pg={},Mg={},Wj;function v$(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Mg)),Mg}var Rg={},Xj;function LC(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Rg)),Rg}var Dg={},Qj;function zC(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Dg)),Dg}var Ig={},Jj;function eb(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,l="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const f=n[o];u?f==="\\"&&o+1<i?(o++,l+=n[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,r.push(l),l=""):l+=f:f==="["?(d=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,o++}return l&&r.push(l),r}e.toPath=t})(Ig)),Ig}var Zj;function tb(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v$(),n=LC(),r=zC(),i=eb();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return f;p=p[d[g]]}return p===void 0?f:p}e.get=o})(Pg)),Pg}var Lg,eO;function y$(){return eO||(eO=1,Lg=tb().get),Lg}var b$=y$();const Ns=qr(b$);var zg={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function x$(){if(tO)return lt;tO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var j=S.$$typeof;switch(j){case e:switch(S=S.type,S){case n:case i:case r:case d:case f:case v:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case o:return S;default:return j}}case t:return j}}}return lt.ContextConsumer=o,lt.ContextProvider=l,lt.Element=e,lt.ForwardRef=u,lt.Fragment=n,lt.Lazy=g,lt.Memo=p,lt.Portal=t,lt.Profiler=i,lt.StrictMode=r,lt.Suspense=d,lt.SuspenseList=f,lt.isContextConsumer=function(S){return w(S)===o},lt.isContextProvider=function(S){return w(S)===l},lt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},lt.isForwardRef=function(S){return w(S)===u},lt.isFragment=function(S){return w(S)===n},lt.isLazy=function(S){return w(S)===g},lt.isMemo=function(S){return w(S)===p},lt.isPortal=function(S){return w(S)===t},lt.isProfiler=function(S){return w(S)===i},lt.isStrictMode=function(S){return w(S)===r},lt.isSuspense=function(S){return w(S)===d},lt.isSuspenseList=function(S){return w(S)===f},lt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===o||S.$$typeof===u||S.$$typeof===x||S.getModuleId!==void 0)},lt.typeOf=w,lt}var nO;function _$(){return nO||(nO=1,zg.exports=x$()),zg.exports}var w$=_$(),on=e=>e===0?0:e>0?1:-1,nr=e=>typeof e=="number"&&e!=+e,vs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!nr(e),ea=e=>Se(e)||typeof e=="string",S$=0,Vc=e=>{var t=++S$;return"".concat(e||"").concat(t)},Sn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return r;var o;if(vs(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return nr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},UC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yn(e,t,n){return Se(e)&&Se(t)?e+n*(t-e):t}function j$(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ns(r,t))===n)}var ln=e=>e===null||typeof e>"u",du=e=>ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),O$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nb(e){if(typeof e!="string")return!1;var t=O$;return t.includes(e)}var E$=["viewBox","children"],rO=["points","pathLength"],Ug={svg:E$,polygon:rO,polyline:rO},A$=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{nb(i)&&(r[i]=(o=>n[i](n,o)))}),r},N$=(e,t,n)=>r=>(e(t,n,r),null),fu=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];nb(i)&&typeof o=="function"&&(r||(r={}),r[i]=N$(o,t,n))}),r},C$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $C(e){if(typeof e!="string")return!1;var t=C$;return t.includes(e)}function ki(e){var t=Object.entries(e).filter(n=>{var[r]=n;return $C(r)});return Object.fromEntries(t)}var aO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",iO=null,$g=null,qC=e=>{if(e===iO&&Array.isArray($g))return $g;var t=[];return _.Children.forEach(e,n=>{ln(n)||(w$.isFragment(n)?t=t.concat(qC(n.props.children)):t.push(n))}),$g=t,iO=e,t};function rb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>aO(i)):r=[aO(t)],qC(e).forEach(i=>{var o=Ns(i,"type.displayName")||Ns(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var T$=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(Ug==null?void 0:Ug[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&o.includes(t)||$C(t)),d=!!n&&nb(t);return l||u||d},Xt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var l;T$((l=r)===null||l===void 0?void 0:l[o],o,t,n)&&(i[o]=r[o])}),i},k$=["children","width","height","viewBox","className","style","title","desc"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iy.apply(null,arguments)}function P$(e,t){if(e==null)return{};var n,r,i=M$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ab=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=e,p=P$(e,k$),g=o||{width:r,height:i,x:0,y:0},v=at("recharts-surface",l);return _.createElement("svg",Iy({},Xt(p,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),_.createElement("title",null,d),_.createElement("desc",null,f),n)}),R$=["children","className"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(null,arguments)}function D$(e,t){if(e==null)return{};var n,r,i=I$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bn=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=D$(e,R$),o=at("recharts-layer",r);return _.createElement("g",Ly({className:o},Xt(i,!0),{ref:t}),n)}),BC=_.createContext(null),L$=()=>_.useContext(BC);function ht(e){return function(){return e}}const HC=Math.cos,kf=Math.sin,Hr=Math.sqrt,Pf=Math.PI,xh=2*Pf,zy=Math.PI,Uy=2*zy,os=1e-6,z$=Uy-os;function KC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function U$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KC;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KC:U$(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,p=l-t,g=u-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>os)if(!(Math.abs(g*d-f*p)>os)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,w=i-u,S=d*d+f*f,j=x*x+w*w,E=Math.sqrt(S),N=Math.sqrt(v),A=o*Math.tan((zy-Math.acos((S+v-j)/(2*E*N)))/2),k=A/N,P=A/E;Math.abs(k-1)>os&&this._append`L${t+k*p},${n+k*g}`,this._append`A${o},${o},0,0,${+(g*x>p*w)},${this._x1=t+P*d},${this._y1=n+P*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,p=n+d,g=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>os||Math.abs(this._y1-p)>os)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%Uy+Uy),v>z$?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:v>os&&this._append`A${r},${r},0,${+(v>=zy)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ib(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new $$(t)}function sb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FC(e){this._context=e}FC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _h(e){return new FC(e)}function GC(e){return e[0]}function YC(e){return e[1]}function VC(e,t){var n=ht(!0),r=null,i=_h,o=null,l=ib(u);e=typeof e=="function"?e:e===void 0?GC:ht(e),t=typeof t=="function"?t:t===void 0?YC:ht(t);function u(d){var f,p=(d=sb(d)).length,g,v=!1,x;for(r==null&&(o=i(x=l())),f=0;f<=p;++f)!(f<p&&n(g=d[f],f,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(g,f,d),+t(g,f,d));if(x)return o=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ht(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ht(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ht(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function Wd(e,t,n){var r=null,i=ht(!0),o=null,l=_h,u=null,d=ib(f);e=typeof e=="function"?e:e===void 0?GC:ht(+e),t=typeof t=="function"?t:ht(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?YC:ht(+n);function f(g){var v,x,w,S=(g=sb(g)).length,j,E=!1,N,A=new Array(S),k=new Array(S);for(o==null&&(u=l(N=d())),v=0;v<=S;++v){if(!(v<S&&i(j=g[v],v,g))===E)if(E=!E)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=x;--w)u.point(A[w],k[w]);u.lineEnd(),u.areaEnd()}E&&(A[v]=+e(j,v,g),k[v]=+t(j,v,g),u.point(r?+r(j,v,g):A[v],n?+n(j,v,g):k[v]))}if(N)return u=null,N+""||null}function p(){return VC().defined(i).curve(l).context(o)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:ht(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ht(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ht(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:ht(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ht(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ht(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ht(!!g),f):i},f.curve=function(g){return arguments.length?(l=g,o!=null&&(u=l(o)),f):l},f.context=function(g){return arguments.length?(g==null?o=u=null:u=l(o=g),f):o},f}class WC{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function q$(e){return new WC(e,!0)}function B$(e){return new WC(e,!1)}const ob={draw(e,t){const n=Hr(t/Pf);e.moveTo(n,0),e.arc(0,0,n,0,xh)}},H$={draw(e,t){const n=Hr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},XC=Hr(1/3),K$=XC*2,F$={draw(e,t){const n=Hr(t/K$),r=n*XC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},G$={draw(e,t){const n=Hr(t),r=-n/2;e.rect(r,r,n,n)}},Y$=.8908130915292852,QC=kf(Pf/10)/kf(7*Pf/10),V$=kf(xh/10)*QC,W$=-HC(xh/10)*QC,X$={draw(e,t){const n=Hr(t*Y$),r=V$*n,i=W$*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=xh*o/5,u=HC(l),d=kf(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},qg=Hr(3),Q$={draw(e,t){const n=-Hr(t/(qg*3));e.moveTo(0,n*2),e.lineTo(-qg*n,-n),e.lineTo(qg*n,-n),e.closePath()}},gr=-.5,vr=Hr(3)/2,$y=1/Hr(12),J$=($y/2+1)*3,Z$={draw(e,t){const n=Hr(t/J$),r=n/2,i=n*$y,o=r,l=n*$y+n,u=-o,d=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(gr*r-vr*i,vr*r+gr*i),e.lineTo(gr*o-vr*l,vr*o+gr*l),e.lineTo(gr*u-vr*d,vr*u+gr*d),e.lineTo(gr*r+vr*i,gr*i-vr*r),e.lineTo(gr*o+vr*l,gr*l-vr*o),e.lineTo(gr*u+vr*d,gr*d-vr*u),e.closePath()}};function e8(e,t){let n=null,r=ib(i);e=typeof e=="function"?e:ht(e||ob),t=typeof t=="function"?t:ht(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ht(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ht(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Mf(){}function Rf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function JC(e){this._context=e}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t8(e){return new JC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n8(e){return new ZC(e)}function eT(e){this._context=e}eT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r8(e){return new eT(e)}function tT(e){this._context=e}tT.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function a8(e){return new tT(e)}function sO(e){return e<0?-1:1}function oO(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(sO(o)+sO(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function lO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function Df(e){this._context=e}Df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bg(this,this._t0,lO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bg(this,lO(this,n=oO(this,e,t)),n);break;default:Bg(this,this._t0,n=oO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function nT(e){this._context=new rT(e)}(nT.prototype=Object.create(Df.prototype)).point=function(e,t){Df.prototype.point.call(this,t,e)};function rT(e){this._context=e}rT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function i8(e){return new Df(e)}function s8(e){return new nT(e)}function aT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cO(e),i=cO(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cO(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function o8(e){return new aT(e)}function wh(e,t){this._context=e,this._t=t}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function l8(e){return new wh(e,.5)}function c8(e){return new wh(e,0)}function u8(e){return new wh(e,1)}function nl(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function d8(e,t){return e[t]}function f8(e){const t=[];return t.key=e,t}function h8(){var e=ht([]),t=qy,n=nl,r=d8;function i(o){var l=Array.from(e.apply(this,arguments),f8),u,d=l.length,f=-1,p;for(const g of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(g,l[u].key,f,o)]).data=g;for(u=0,p=sb(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ht(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ht(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?qy:typeof o=="function"?o:ht(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??nl,i):n},i}function m8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}nl(e,t)}}function p8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}nl(e,t)}}function g8(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],g=p[r][1]||0,v=p[r-1][1]||0,x=(g-v)/2,w=0;w<u;++w){var S=e[t[w]],j=S[r][1]||0,E=S[r-1][1]||0;x+=j-E}d+=g,f+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,nl(e,t)}}var v8=["type","size","sizeType"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(null,arguments)}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t,n){return(t=b8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8(e,t){if(e==null)return{};var n,r,i=w8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iT={symbolCircle:ob,symbolCross:H$,symbolDiamond:F$,symbolSquare:G$,symbolStar:X$,symbolTriangle:Q$,symbolWye:Z$},S8=Math.PI/180,j8=e=>{var t="symbol".concat(du(e));return iT[t]||ob},O8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*S8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},E8=(e,t)=>{iT["symbol".concat(du(e))]=t},lb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=_8(e,v8),o=dO(dO({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=j8(l),x=e8().type(v).size(O8(n,r,l));return x()},{className:d,cx:f,cy:p}=o,g=Xt(o,!0);return f===+f&&p===+p&&n===+n?_.createElement("path",By({},g,{className:at("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};lb.registerSymbol=E8;function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){cb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cb(e,t,n){return(t=N8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8(e){var t=C8(e,"string");return typeof t=="symbol"?t:t+""}function C8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yr=32;class ub extends _.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=yr/2,o=yr/6,l=yr/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:yr,y2:i,className:"recharts-legend-icon"});if(d==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(yr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(yr/8,"h").concat(yr,"v").concat(yr*3/4,"h").concat(-yr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var f=A8({},t);return delete f.legendIcon,_.cloneElement(t.legendIcon,f)}return _.createElement(lb,{fill:u,cx:i,cy:i,size:yr,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,u={x:0,y:0,width:yr,height:yr},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,x=at({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?o:p.color,S=v?v(p.value,p,g):p.value;return _.createElement("li",Hy({className:x,style:d,key:"legend-item-".concat(g)},fu(this.props,p,g)),_.createElement(ab,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(S," legend icon")},this.renderIcon(p,l)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}cb(ub,"displayName","Legend");cb(ub,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Hg={},Kg={},hO;function T8(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Kg)),Kg}var Fg={},mO;function sT(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Fg)),Fg}var Gg={},Yg={},Vg={},pO;function k8(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Vg)),Vg}var gO;function db(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k8();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Yg)),Yg}var Wg={},vO;function P8(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Wg)),Wg}var yO;function M8(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db(),n=P8();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Gg)),Gg}var Xg={},Qg={},bO;function R8(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Qg)),Qg}var Jg={},Zg={},ev={},tv={},xO;function oT(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(tv)),tv}var nv={},_O;function lT(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(nv)),nv}var rv={},wO;function cT(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(rv)),rv}var SO;function D8(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fb(),n=oT(),r=lT(),i=cT();function o(g,v,x){return typeof x!="function"?t.isMatch(g,v):l(g,v,function w(S,j,E,N,A,k){const P=x(S,j,E,N,A,k);return P!==void 0?!!P:l(S,j,w,k)},new Map)}function l(g,v,x,w){if(v===g)return!0;switch(typeof v){case"object":return u(g,v,x,w);case"function":return Object.keys(v).length>0?l(g,{...v},x,w):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function u(g,v,x,w){if(v==null)return!0;if(Array.isArray(v))return f(g,v,x,w);if(v instanceof Map)return d(g,v,x,w);if(v instanceof Set)return p(g,v,x,w);const S=Object.keys(v);if(g==null)return S.length===0;if(S.length===0)return!0;if(w&&w.has(v))return w.get(v)===g;w&&w.set(v,g);try{for(let j=0;j<S.length;j++){const E=S[j];if(!r.isPrimitive(g)&&!(E in g)||v[E]===void 0&&g[E]!==void 0||v[E]===null&&g[E]!==null||!x(g[E],v[E],E,g,v,w))return!1}return!0}finally{w&&w.delete(v)}}function d(g,v,x,w){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,j]of v.entries()){const E=g.get(S);if(x(E,j,S,g,v,w)===!1)return!1}return!0}function f(g,v,x,w){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let j=0;j<v.length;j++){const E=v[j];let N=!1;for(let A=0;A<g.length;A++){if(S.has(A))continue;const k=g[A];let P=!1;if(x(k,E,j,g,v,w)&&(P=!0),P){S.add(A),N=!0;break}}if(!N)return!1}return!0}function p(g,v,x,w){return v.size===0?!0:g instanceof Set?f([...g],[...v],x,w):!1}e.isMatchWith=o,e.isSetMatch=p})(ev)),ev}var jO;function fb(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D8();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Zg)),Zg}var av={},iv={},sv={},OO;function I8(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(sv)),sv}var ov={},EO;function uT(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ov)),ov}var lv={},AO;function dT(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",w="[object Error]",S="[object DataView]",j="[object Uint8Array]",E="[object Uint8ClampedArray]",N="[object Uint16Array]",A="[object Uint32Array]",k="[object BigUint64Array]",P="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",z="[object BigInt64Array]",H="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=S,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=H,e.float64ArrayTag=$,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=R,e.int8ArrayTag=P,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=A,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=E})(lv)),lv}var cv={},NO;function L8(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(cv)),cv}var CO;function fT(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I8(),n=uT(),r=dT(),i=lT(),o=L8();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,v,x=new Map,w=void 0){const S=w==null?void 0:w(p,g,v,x);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const j=new Array(p.length);x.set(p,j);for(let E=0;E<p.length;E++)j[E]=u(p[E],E,v,x,w);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;x.set(p,j);for(const[E,N]of p)j.set(E,u(N,E,v,x,w));return j}if(p instanceof Set){const j=new Set;x.set(p,j);for(const E of p)j.add(u(E,void 0,v,x,w));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,j);for(let E=0;E<p.length;E++)j[E]=u(p[E],E,v,x,w);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,j),d(j,p,v,x,w),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return x.set(p,j),d(j,p,v,x,w),j}if(p instanceof Blob){const j=new Blob([p],{type:p.type});return x.set(p,j),d(j,p,v,x,w),j}if(p instanceof Error){const j=new p.constructor;return x.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,d(j,p,v,x,w),j}if(typeof p=="object"&&f(p)){const j=Object.create(Object.getPrototypeOf(p));return x.set(p,j),d(j,p,v,x,w),j}return p}function d(p,g,v=p,x,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<S.length;j++){const E=S[j],N=Object.getOwnPropertyDescriptor(p,E);(N==null||N.writable)&&(p[E]=u(g[E],E,v,x,w))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(iv)),iv}var TO;function z8(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(av)),av}var kO;function U8(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fb(),n=z8();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(Jg)),Jg}var uv={},dv={},fv={},PO;function $8(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fT(),n=dT();function r(i,o){return t.cloneDeepWith(i,(l,u,d,f)=>{const p=o==null?void 0:o(l,u,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(fv)),fv}var MO;function q8(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$8();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(dv)),dv}var hv={},mv={},RO;function hT(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(mv)),mv}var pv={},DO;function B8(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(pv)),pv}var IO;function H8(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC(),n=hT(),r=B8(),i=eb();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const g=d[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=o})(hv)),hv}var LO;function K8(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fb(),n=zC(),r=q8(),i=tb(),o=H8();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,u);return p===void 0?o.has(f,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(uv)),uv}var zO;function F8(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT(),n=R8(),r=U8(),i=K8();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Xg)),Xg}var UO;function G8(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T8(),n=sT(),r=M8(),i=F8();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Hg)),Hg}var gv,$O;function Y8(){return $O||($O=1,gv=G8().uniqBy),gv}var V8=Y8();const qO=qr(V8);function mT(e,t,n){return t===!0?qO(e,n):typeof t=="function"?qO(e,t):e}var vv={exports:{}},yv={},bv={exports:{}},xv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BO;function W8(){if(BO)return xv;BO=1;var e=hl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var x=v(),w=r({inst:{value:x,getSnapshot:v}}),S=w[0].inst,j=w[1];return o(function(){S.value=x,S.getSnapshot=v,d(S)&&j({inst:S})},[g,x,v]),i(function(){return d(S)&&j({inst:S}),g(function(){d(S)&&j({inst:S})})},[g]),l(x),x}function d(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return xv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,xv}var HO;function X8(){return HO||(HO=1,bv.exports=W8()),bv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function Q8(){if(KO)return yv;KO=1;var e=hl(),t=X8();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return yv.useSyncExternalStoreWithSelector=function(f,p,g,v,x){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function E(M){if(!N){if(N=!0,A=M,M=v(M),x!==void 0&&S.hasValue){var R=S.value;if(x(R,M))return k=R}return k=M}if(R=k,r(A,M))return R;var z=v(M);return x!==void 0&&x(R,z)?(A=M,R):(A=M,k=z)}var N=!1,A,k,P=g===void 0?null:g;return[function(){return E(p())},P===null?void 0:function(){return E(P())}]},[p,g,v,x]);var j=i(f,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=j},[j]),d(j),j},yv}var FO;function J8(){return FO||(FO=1,vv.exports=Q8()),vv.exports}var Z8=J8(),hb=_.createContext(null),eq=e=>e,Ot=()=>{var e=_.useContext(hb);return e?e.store.dispatch:eq},bf=()=>{},tq=()=>bf,nq=(e,t)=>e===t;function _e(e){var t=_.useContext(hb);return Z8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:tq,t?t.store.getState:bf,t?t.store.getState:bf,t?e:bf,nq)}function rq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function aq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function iq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var GO=e=>Array.isArray(e)?e:[e];function sq(e){const t=Array.isArray(e[0])?e[0]:e;return iq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function oq(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var lq=class{constructor(e){this.value=e}deref(){return this.value}},cq=typeof WeakRef<"u"?WeakRef:lq,uq=0,YO=1;function Xd(){return{s:uq,v:void 0,o:null,p:null}}function pT(e,t={}){let n=Xd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let u=n;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const j=S.get(w);j===void 0?(u=Xd(),S.set(w,u)):u=j}else{let S=u.p;S===null&&(u.p=S=new Map);const j=S.get(w);j===void 0?(u=Xd(),S.set(w,u)):u=j}}const f=u;let p;if(u.s===YO)p=u.v;else if(p=e.apply(null,arguments),o++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new cq(p):p}return f.s=YO,f.v=p,p}return l.clearCache=()=>{n=Xd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function dq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),rq(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:x=pT,argsMemoizeOptions:w=[]}=p,S=GO(v),j=GO(w),E=sq(i),N=g(function(){return o++,f.apply(null,arguments)},...S),A=x(function(){l++;const P=oq(E,arguments);return u=N.apply(null,P),u},...j);return Object.assign(A,{resultFunc:f,memoizedResultFunc:N,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Z=dq(pT),fq=Object.assign((e,t=Z)=>{aq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>fq}),_v={},wv={},Sv={},VO;function hq(){return VO||(VO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Sv)),Sv}var jv={},Ov={},WO;function gT(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Ov)),Ov}var XO;function mq(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(jv)),jv}var QO;function pq(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hq(),n=mq(),r=eb();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const f=(x,w)=>{let S=x;for(let j=0;j<w.length&&S!=null;++j)S=S[w[j]];return S},p=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return o.map(x=>({original:x,criteria:g.map(w=>p(w,x))})).slice().sort((x,w)=>{for(let S=0;S<g.length;S++){const j=t.compareValues(x.criteria[S],w.criteria[S],u[S]);if(j!==0)return j}return 0}).map(x=>x.original)}e.orderBy=i})(wv)),wv}var Ev={},JO;function gq(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<o?l(p,d+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Ev)),Ev}var Av={},ZO;function vT(){return ZO||(ZO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT(),n=db(),r=oT(),i=cT();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=o})(Av)),Av}var eE;function vq(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pq(),n=gq(),r=vT();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(_v)),_v}var Nv,tE;function yq(){return tE||(tE=1,Nv=vq().sortBy),Nv}var bq=yq();const Sh=qr(bq);var yT=e=>e.legend.settings,xq=e=>e.legend.size,_q=e=>e.legend.payload,wq=Z([_q,yT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Sh(r,n):r});function Sq(){return _e(wq)}var Qd=1;function bT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Qd||Math.abs(l.left-t.left)>Qd||Math.abs(l.top-t.top)>Qd||Math.abs(l.width-t.width)>Qd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jq=typeof Symbol=="function"&&Symbol.observable||"@@observable",nE=jq,Cv=()=>Math.random().toString(36).substring(7).split("").join("."),Oq={INIT:`@@redux/INIT${Cv()}`,REPLACE:`@@redux/REPLACE${Cv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cv()}`},If=Oq;function mb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function xT(e,t,n){if(typeof e!="function")throw new Error(gn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gn(1));return n(xT)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((j,E)=>{l.set(E,j)}))}function p(){if(d)throw new Error(gn(3));return i}function g(j){if(typeof j!="function")throw new Error(gn(4));if(d)throw new Error(gn(5));let E=!0;f();const N=u++;return l.set(N,j),function(){if(E){if(d)throw new Error(gn(6));E=!1,f(),l.delete(N),o=null}}}function v(j){if(!mb(j))throw new Error(gn(7));if(typeof j.type>"u")throw new Error(gn(8));if(typeof j.type!="string")throw new Error(gn(17));if(d)throw new Error(gn(9));try{d=!0,i=r(i,j)}finally{d=!1}return(o=l).forEach(N=>{N()}),j}function x(j){if(typeof j!="function")throw new Error(gn(10));r=j,v({type:If.REPLACE})}function w(){const j=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(gn(11));function N(){const k=E;k.next&&k.next(p())}return N(),{unsubscribe:j(N)}},[nE](){return this}}}return v({type:If.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[nE]:w}}function Eq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:If.INIT})>"u")throw new Error(gn(12));if(typeof n(void 0,{type:If.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gn(13))})}function _T(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{Eq(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],x=l[g],w=v(x,u);if(typeof w>"u")throw u&&u.type,new Error(gn(14));f[g]=w,d=d||w!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function Lf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Aq(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(gn(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=e.map(d=>d(l));return o=Lf(...u)(i.dispatch),{...i,dispatch:o}}}function wT(e){return mb(e)&&"type"in e&&typeof e.type=="string"}var ST=Symbol.for("immer-nothing"),rE=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function Ir(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rl=Object.getPrototypeOf;function Cs(e){return!!e&&!!e[rr]}function Ra(e){var t;return e?jT(e)||Array.isArray(e)||!!e[rE]||!!((t=e.constructor)!=null&&t[rE])||hu(e)||Oh(e):!1}var Nq=Object.prototype.constructor.toString();function jT(e){if(!e||typeof e!="object")return!1;const t=rl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Nq}function zf(e,t){jh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function jh(e){const t=e[rr];return t?t.type_:Array.isArray(e)?1:hu(e)?2:Oh(e)?3:0}function Ky(e,t){return jh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function OT(e,t,n){const r=jh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Cq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hu(e){return e instanceof Map}function Oh(e){return e instanceof Set}function ls(e){return e.copy_||e.base_}function Fy(e,t){if(hu(e))return new Map(e);if(Oh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=jT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[rr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(rl(e),r)}else{const r=rl(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function pb(e,t=!1){return Eh(e)||Cs(e)||!Ra(e)||(jh(e)>1&&Object.defineProperties(e,{set:{value:Jd},add:{value:Jd},clear:{value:Jd},delete:{value:Jd}}),Object.freeze(e),t&&Object.values(e).forEach(n=>pb(n,!0))),e}function Jd(){Ir(2)}function Eh(e){return Object.isFrozen(e)}var Tq={};function Ts(e){const t=Tq[e];return t||Ir(0,e),t}var Wc;function ET(){return Wc}function kq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aE(e,t){t&&(Ts("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gy(e){Yy(e),e.drafts_.forEach(Pq),e.drafts_=null}function Yy(e){e===Wc&&(Wc=e.parent_)}function iE(e){return Wc=kq(Wc,e)}function Pq(e){const t=e[rr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[rr].modified_&&(Gy(t),Ir(4)),Ra(e)&&(e=Uf(t,e),t.parent_||$f(t,e)),t.patches_&&Ts("Patches").generateReplacementPatches_(n[rr].base_,e,t.patches_,t.inversePatches_)):e=Uf(t,n,[]),Gy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ST?e:void 0}function Uf(e,t,n){if(Eh(t))return t;const r=t[rr];if(!r)return zf(t,(i,o)=>oE(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return $f(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),zf(o,(u,d)=>oE(e,r,i,u,d,n,l)),$f(e,i,!1),n&&e.patches_&&Ts("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function oE(e,t,n,r,i,o,l){if(Cs(i)){const u=o&&t&&t.type_!==3&&!Ky(t.assigned_,r)?o.concat(r):void 0,d=Uf(e,i,u);if(OT(n,r,d),Cs(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ra(i)&&!Eh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Uf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(hu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&$f(e,i)}}function $f(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pb(t,n)}function Mq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ET(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=gb;n&&(i=[r],o=Xc);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var gb={get(e,t){if(t===rr)return e;const n=ls(e);if(!Ky(n,t))return Rq(e,n,t);const r=n[t];return e.finalized_||!Ra(r)?r:r===Tv(e.base_,t)?(kv(e),e.copy_[t]=Wy(r,e)):r},has(e,t){return t in ls(e)},ownKeys(e){return Reflect.ownKeys(ls(e))},set(e,t,n){const r=AT(ls(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Tv(ls(e),t),o=i==null?void 0:i[rr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Cq(n,i)&&(n!==void 0||Ky(e.base_,t)))return!0;kv(e),Vy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Tv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kv(e),Vy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ls(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ir(11)},getPrototypeOf(e){return rl(e.base_)},setPrototypeOf(){Ir(12)}},Xc={};zf(gb,(e,t)=>{Xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xc.deleteProperty=function(e,t){return Xc.set.call(this,e,t,void 0)};Xc.set=function(e,t,n){return gb.set.call(this,e[0],t,n,e[0])};function Tv(e,t){const n=e[rr];return(n?ls(n):e)[t]}function Rq(e,t,n){var i;const r=AT(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function AT(e,t){if(!(t in e))return;let n=rl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rl(n)}}function Vy(e){e.modified_||(e.modified_=!0,e.parent_&&Vy(e.parent_))}function kv(e){e.copy_||(e.copy_=Fy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Dq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(d=o,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&Ir(6),r!==void 0&&typeof r!="function"&&Ir(7);let i;if(Ra(t)){const o=iE(this),l=Wy(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Gy(o):Yy(o)}return aE(o,r),sE(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===ST&&(i=void 0),this.autoFreeze_&&pb(i,!0),r){const o=[],l=[];Ts("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Ir(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ra(e)||Ir(8),Cs(e)&&(e=Ta(e));const t=iE(this),n=Wy(e,void 0);return n[rr].isManual_=!0,Yy(t),n}finishDraft(e,t){const n=e&&e[rr];(!n||!n.isManual_)&&Ir(9);const{scope_:r}=n;return aE(r,t),sE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ts("Patches").applyPatches_;return Cs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Wy(e,t){const n=hu(e)?Ts("MapSet").proxyMap_(e,t):Oh(e)?Ts("MapSet").proxySet_(e,t):Mq(e,t);return(t?t.scope_:ET()).drafts_.push(n),n}function Ta(e){return Cs(e)||Ir(10,e),NT(e)}function NT(e){if(!Ra(e)||Eh(e))return e;const t=e[rr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Fy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Fy(e,!0);return zf(n,(r,i)=>{OT(n,r,NT(i))}),t&&(t.finalized_=!1),n}var Iq=new Dq,CT=Iq.produce;function TT(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Lq=TT(),zq=TT,Uq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lf:Lf.apply(null,arguments)};function wr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(tr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>wT(r)&&r.type===e,n}var kT=class Mc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mc.prototype)}static get[Symbol.species](){return Mc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mc(...t[0].concat(this)):new Mc(...t.concat(this))}};function lE(e){return Ra(e)?CT(e,()=>{}):e}function Zd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function $q(e){return typeof e=="boolean"}var qq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new kT;return n&&($q(n)?l.push(Lq):l.push(zq(n.extraArgument))),l},Bq="RTK_autoBatch",cE=e=>t=>{setTimeout(t,e)},Hq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cE(10):e.type==="callback"?e.queueNotification:cE(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[Bq]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},Kq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new kT(e);return r&&i.push(Hq(typeof r=="object"?r:void 0)),i};function Fq(e){const t=qq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(mb(n))u=_T(n);else throw new Error(tr(1));let d;typeof r=="function"?d=r(t):d=t();let f=Lf;i&&(f=Uq({trace:!1,...typeof i=="object"&&i}));const p=Aq(...d),g=Kq(p);let v=typeof l=="function"?l(g):g();const x=f(...v);return xT(u,o,x)}function PT(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(tr(28));if(u in t)throw new Error(tr(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Gq(e){return typeof e=="function"}function Yq(e,t){let[n,r,i]=PT(t),o;if(Gq(e))o=()=>lE(e());else{const u=lE(e);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,g)=>{if(g)if(Cs(p)){const x=g(p,d);return x===void 0?p:x}else{if(Ra(p))return CT(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var Vq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wq=(e=21)=>{let t="",n=e;for(;n--;)t+=Vq[Math.random()*64|0];return t},Xq=Symbol.for("rtk-slice-createasyncthunk");function Qq(e,t){return`${e}/${t}`}function Jq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Xq];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(tr(11));const u=(typeof i.reducers=="function"?i.reducers(eB()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(k,P){const M=typeof k=="string"?k:k.type;if(!M)throw new Error(tr(12));if(M in f.sliceCaseReducersByType)throw new Error(tr(13));return f.sliceCaseReducersByType[M]=P,p},addMatcher(k,P){return f.sliceMatchers.push({matcher:k,reducer:P}),p},exposeAction(k,P){return f.actionCreators[k]=P,p},exposeCaseReducer(k,P){return f.sliceCaseReducersByName[k]=P,p}};d.forEach(k=>{const P=u[k],M={reducerName:k,type:Qq(o,k),createNotation:typeof i.reducers=="function"};nB(P)?aB(M,P,p,t):tB(M,P,p)});function g(){const[k={},P=[],M=void 0]=typeof i.extraReducers=="function"?PT(i.extraReducers):[i.extraReducers],R={...k,...f.sliceCaseReducersByType};return Yq(i.initialState,z=>{for(let H in R)z.addCase(H,R[H]);for(let H of f.sliceMatchers)z.addMatcher(H.matcher,H.reducer);for(let H of P)z.addMatcher(H.matcher,H.reducer);M&&z.addDefaultCase(M)})}const v=k=>k,x=new Map,w=new WeakMap;let S;function j(k,P){return S||(S=g()),S(k,P)}function E(){return S||(S=g()),S.getInitialState()}function N(k,P=!1){function M(z){let H=z[k];return typeof H>"u"&&P&&(H=Zd(w,M,E)),H}function R(z=v){const H=Zd(x,P,()=>new WeakMap);return Zd(H,z,()=>{const $={};for(const[K,F]of Object.entries(i.selectors??{}))$[K]=Zq(F,z,()=>Zd(w,z,E),P);return $})}return{reducerPath:k,getSelectors:R,get selectors(){return R(M)},selectSlice:M}}const A={name:o,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...N(l),injectInto(k,{reducerPath:P,...M}={}){const R=P??l;return k.inject({reducerPath:R,reducer:j},M),{...A,...N(R,!0)}}};return A}}function Zq(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var ir=Jq();function eB(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function tB({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!rB(r))throw new Error(tr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?wr(e,l):wr(e))}function nB(e){return e._reducerDefinitionType==="asyncThunk"}function rB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function aB({type:e,reducerName:t},n,r,i){if(!i)throw new Error(tr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=n,g=i(e,o,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:l||ef,pending:u||ef,rejected:d||ef,settled:f||ef})}function ef(){}var iB="task",MT="listener",RT="completed",vb="cancelled",sB=`task-${vb}`,oB=`task-${RT}`,Xy=`${MT}-${vb}`,lB=`${MT}-${RT}`,Ah=class{constructor(e){ug(this,"name","TaskAbortError");ug(this,"message");this.code=e,this.message=`${iB} ${vb} (reason: ${e})`}},yb=(e,t)=>{if(typeof e!="function")throw new TypeError(tr(32))},qf=()=>{},DT=(e,t=qf)=>(e.catch(t),e),IT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ws=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ss=e=>{if(e.aborted){const{reason:t}=e;throw new Ah(t)}};function LT(e,t){let n=qf;return new Promise((r,i)=>{const o=()=>i(new Ah(e.reason));if(e.aborted){o();return}n=IT(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=qf})}var cB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ah?"cancelled":"rejected",error:n}}finally{t==null||t()}},Bf=e=>t=>DT(LT(e,t).then(n=>(Ss(e),n))),zT=e=>{const t=Bf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Zo}=Object,uE={},Nh="listenerMiddleware",uB=(e,t)=>{const n=r=>IT(e,()=>ws(r,e.reason));return(r,i)=>{yb(r);const o=new AbortController;n(o);const l=cB(async()=>{Ss(e),Ss(o.signal);const u=await r({pause:Bf(o.signal),delay:zT(o.signal),signal:o.signal});return Ss(o.signal),u},()=>ws(o,oB));return i!=null&&i.autoJoin&&t.push(l.catch(qf)),{result:Bf(e)(l),cancel(){ws(o,sB)}}}},dB=(e,t)=>{const n=async(r,i)=>{Ss(t);let o=()=>{};const u=[new Promise((d,f)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});o=()=>{p(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await LT(t,Promise.race(u));return Ss(t),d}finally{o()}};return(r,i)=>DT(n(r,i))},UT=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=wr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(tr(21));return yb(o),{predicate:i,type:t,effect:o}},$T=Zo(e=>{const{type:t,predicate:n,effect:r}=UT(e);return{id:Wq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(tr(22))}}},{withTypes:()=>$T}),dE=(e,t)=>{const{type:n,effect:r,predicate:i}=UT(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Qy=e=>{e.pending.forEach(t=>{ws(t,Xy)})},fB=e=>()=>{e.forEach(Qy),e.clear()},fE=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},qT=Zo(wr(`${Nh}/add`),{withTypes:()=>qT}),hB=wr(`${Nh}/removeAll`),BT=Zo(wr(`${Nh}/remove`),{withTypes:()=>BT}),mB=(...e)=>{console.error(`${Nh}/error`,...e)},mu=(e={})=>{const t=new Map,{extra:n,onError:r=mB}=e;yb(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Qy(p)}),o=p=>{const g=dE(t,p)??$T(p);return i(g)};Zo(o,{withTypes:()=>o});const l=p=>{const g=dE(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Qy(g)),!!g};Zo(l,{withTypes:()=>l});const u=async(p,g,v,x)=>{const w=new AbortController,S=dB(o,w.signal),j=[];try{p.pending.add(w),await Promise.resolve(p.effect(g,Zo({},v,{getOriginalState:x,condition:(E,N)=>S(E,N).then(Boolean),take:S,delay:zT(w.signal),pause:Bf(w.signal),extra:n,signal:w.signal,fork:uB(w.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,N,A)=>{E!==w&&(ws(E,Xy),A.delete(E))})},cancel:()=>{ws(w,Xy),p.pending.delete(w)},throwIfCancelled:()=>{Ss(w.signal)}})))}catch(E){E instanceof Ah||fE(r,E,{raisedBy:"effect"})}finally{await Promise.all(j),ws(w,lB),p.pending.delete(w)}},d=fB(t);return{middleware:p=>g=>v=>{if(!wT(v))return g(v);if(qT.match(v))return o(v.payload);if(hB.match(v)){d();return}if(BT.match(v))return l(v.payload);let x=p.getState();const w=()=>{if(x===uE)throw new Error(tr(23));return x};let S;try{if(S=g(v),t.size>0){const j=p.getState(),E=Array.from(t.values());for(const N of E){let A=!1;try{A=N.predicate(v,j,x)}catch(k){A=!1,fE(r,k,{raisedBy:"predicate"})}A&&u(N,v,p,w)}}}finally{x=uE}return S},startListening:o,stopListening:l,clearListeners:d}};function tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HT=ir({name:"chartLayout",initialState:pB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gB,setLayout:vB,setChartSize:yB,setScale:bB}=HT.actions,xB=HT.reducer;function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(n),!0).forEach(function(r){_B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _B(e,t,n){return(t=wB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wB(e){var t=SB(e,"string");return typeof t=="symbol"?t:t+""}function SB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hf=Math.PI/180,jB=e=>e*180/Math.PI,Kt=(e,t,n,r)=>({x:e+Math.cos(-Hf*r)*n,y:t+Math.sin(-Hf*r)*n}),KT=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},OB=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},EB=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=OB({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:jB(d),angleInRadian:d}},AB=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},NB=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},CB=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=EB({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=AB(t),p=o,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?mE(mE({},t),{},{radius:i,angle:NB(p,t)}):null};function FT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){TB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TB(e,t,n){return(t=kB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e,t,n){return ln(e)||ln(t)?n:ea(t)?Ns(e,t,n):typeof t=="function"?t(e):n}var MB=(e,t,n,r,i)=>{var o,l=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(on(p-f)!==on(g-p)){var x=[];if(on(g-p)===on(i[1]-i[0])){v=g;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+f)/2),x[1]=Math.max(w,(w+f)/2)}else{v=f;var S=g+i[1]-i[0];x[0]=Math.min(p,(S+p)/2),x[1]=Math.max(p,(S+p)/2)}var j=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>j[0]&&e<=j[1]||e>=x[0]&&e<=x[1]){({index:l}=n[d]);break}}else{var E=Math.min(f,g),N=Math.max(f,g);if(e>(E+p)/2&&e<=(N+p)/2){({index:l}=n[d]);break}}}else if(t){for(var A=0;A<u;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<u-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===u-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:l}=t[A]);break}}return l},RB=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Se(e[o]))return xr(xr({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Se(e[l]))return xr(xr({},e),{},{[l]:e[l]+(i||0)})}return e},Is=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GT=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},YT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=x==="angleAxis"&&o&&o.length>=2?on(o[0]-o[1])*2*S:S,g||v){var j=(g||v||[]).map((E,N)=>{var A=r?r.indexOf(E):E;return{coordinate:l(A)+S,value:E,offset:S,index:N}});return j.filter(E=>!nr(E.coordinate))}return d&&f?f.map((E,N)=>({coordinate:l(E)+S,value:E,index:N,offset:S})):l.ticks&&p!=null?l.ticks(p).map((E,N)=>({coordinate:l(E)+S,value:E,offset:S,index:N})):l.domain().map((E,N)=>({coordinate:l(E)+S,value:r?r[E]:E,index:N,offset:S}))},gE=1e-4,DB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-gE,o=Math.max(r[0],r[1])+gE,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},IB=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(i[0]=n),(!Se(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},LB=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var u=nr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},zB=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=nr(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},UB={sign:LB,expand:m8,none:nl,silhouette:p8,wiggle:g8,positive:zB},$B=(e,t,n)=>{var r=UB[n],i=h8().keys(t).value((o,l)=>+jt(o,l,0)).order(qy).offset(r);return i(e)};function qB(e){return e==null?void 0:String(e)}var vE=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=jt(o,t.dataKey,t.scale.domain()[l]);return ln(u)?null:t.scale(u)-i/2+r},BB=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},HB=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},KB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FB=(e,t,n)=>{if(e!=null)return KB(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,u=l.reduce((d,f)=>{var p=FT(f,t,n),g=HB(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},yE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Sh(t,p=>p.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function xE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return xr(xr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Ch(e,t){if(e)return String(e);if(typeof t=="string")return t}function GB(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?CB({x:e,y:t},r):null}var YB=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return xr(xr(xr({},r),Kt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return xr(xr(xr({},r),Kt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},VB=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,za=e=>e.layout.width,Ua=e=>e.layout.height,WB=e=>e.layout.scale,VT=e=>e.layout.margin,Th=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),kh=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),WT="data-recharts-item-index",XT="data-recharts-item-data-key",pu=60;function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){XB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XB(e,t,n){return(t=QB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e){var t=JB(e,"string");return typeof t=="symbol"?t:t+""}function JB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZB=e=>e.brush.height;function e7(e){var t=kh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:pu;return n+i}return n},0)}function t7(e){var t=kh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:pu;return n+i}return n},0)}function n7(e){var t=Th(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function r7(e){var t=Th(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qt=Z([za,Ua,VT,ZB,e7,t7,n7,r7,yT,xq],(e,t,n,r,i,o,l,u,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=tf(tf({},g),p),x=v.bottom;v.bottom+=r,v=RB(v,d,f);var w=e-v.left-v.right,S=t-v.top-v.bottom;return tf(tf({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(S,0)})}),a7=Z(Qt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),xb=Z(za,Ua,(e,t)=>({x:0,y:0,width:e,height:t})),i7=_.createContext(null),Or=()=>_.useContext(i7)!=null,Ph=e=>e.brush,Mh=Z([Ph,Qt,VT],(e,t,n)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Se(e.width)?e.width:t.width})),_b=()=>{var e,t=Or(),n=_e(a7),r=_e(Mh),i=(e=_e(Ph))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},s7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QT=()=>{var e;return(e=_e(Qt))!==null&&e!==void 0?e:s7},wb=()=>_e(za),Sb=()=>_e(Ua),o7=()=>_e(e=>e.layout.margin),Xe=e=>e.layout.layoutType,jb=()=>_e(Xe),l7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},JT=ir({name:"legend",initialState:l7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ta(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:wE,setLegendSettings:c7,addLegendPayload:ZT,removeLegendPayload:ek}=JT.actions,u7=JT.reducer,d7=["contextPayload"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){Ob(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e,t){if(e==null)return{};var n,r,i=p7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g7(e){return e.value}function v7(e){var{contextPayload:t}=e,n=m7(e,d7),r=mT(t,e.payloadUniqBy,g7),i=al(al({},n),{},{payload:r});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(ub,i)}function y7(e,t,n,r,i,o){var{layout:l,align:u,verticalAlign:d}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((i||0)-o.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),al(al({},f),p)}function b7(e){var t=Ot();return _.useEffect(()=>{t(c7(e))},[t,e]),null}function x7(e){var t=Ot();return _.useEffect(()=>(t(wE(e)),()=>{t(wE({width:0,height:0}))}),[t,e]),null}function _7(e){var t=Sq(),n=L$(),r=o7(),{width:i,height:o,wrapperStyle:l,portal:u}=e,[d,f]=bT([t]),p=wb(),g=Sb();if(p==null||g==null)return null;var v=p-(r.left||0)-(r.right||0),x=Qc.getWidthOrHeight(e.layout,o,i,v),w=u?l:al(al({position:"absolute",width:(x==null?void 0:x.width)||i||"auto",height:(x==null?void 0:x.height)||o||"auto"},y7(l,e,r,p,g,d)),l),S=u??n;if(S==null)return null;var j=_.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:f},_.createElement(b7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),_.createElement(x7,{width:d.width,height:d.height}),_.createElement(v7,Jy({},e,x,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return yN.createPortal(j,S)}class Qc extends _.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Se(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return _.createElement(_7,this.props)}}Ob(Qc,"displayName","Legend");Ob(Qc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){w7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O7(e){return Array.isArray(e)&&ea(e[0])&&ea(e[1])?e.join(" ~ "):e}var E7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,x=()=>{if(o&&o.length){var P={padding:0,margin:0},M=(u?Sh(o,u):o).map((R,z)=>{if(R.type==="none")return null;var H=R.formatter||l||O7,{value:$,name:K}=R,F=$,ae=K;if(H){var q=H($,K,R,z,o);if(Array.isArray(q))[F,ae]=q;else if(q!=null)F=q;else return null}var ne=Pv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ne},ea(ae)?_.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,ea(ae)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},w=Pv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Pv({margin:0},i),j=!ln(p),E=j?p:"",N=at("recharts-default-tooltip",d),A=at("recharts-tooltip-label",f);j&&g&&o!==void 0&&o!==null&&(E=g(p,o));var k=v?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Zy({className:N,style:w},k),_.createElement("p",{className:A,style:S},_.isValidElement(E)?E:"".concat(E)),x())},jc="recharts-tooltip-wrapper",A7={visibility:"hidden"};function N7(e){var{coordinate:t,translateX:n,translateY:r}=e;return at(jc,{["".concat(jc,"-right")]:Se(n)&&t&&Se(t.x)&&n>=t.x,["".concat(jc,"-left")]:Se(n)&&t&&Se(t.x)&&n<t.x,["".concat(jc,"-bottom")]:Se(r)&&t&&Se(t.y)&&r>=t.y,["".concat(jc,"-top")]:Se(r)&&t&&Se(t.y)&&r<t.y})}function OE(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(o&&Se(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=d[r];if(v==null)return 0;if(l[r]){var x=p,w=v;return x<w?Math.max(g,v):Math.max(p,v)}if(f==null)return 0;var S=g+u,j=v+f;return S>j?Math.max(p,v):Math.max(g,v)}function C7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function T7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,g;return l.height>0&&l.width>0&&n?(p=OE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=OE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=C7({translateX:p,translateY:g,useTranslate3d:u})):f=A7,{cssProperties:f,cssClasses:N7({translateX:p,translateY:g,coordinate:n})}}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){e0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e0(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class M7 extends _.PureComponent{constructor(){super(...arguments),e0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),e0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:w,lastBoundingBox:S,innerRef:j,hasPortalFromProps:E}=this.props,{cssClasses:N,cssProperties:A}=T7({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:x}),k=E?{}:nf(nf({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=nf(nf({},k),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:P,ref:j},o)}}var R7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ls={devToolsEnabled:!1,isSsr:R7()},tk=()=>_e(e=>e.rootProps.accessibilityLayer);function ar(e){return Number.isFinite(e)}function il(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){D7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D7(e,t,n){return(t=I7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CE={curveBasisClosed:n8,curveBasisOpen:r8,curveBasis:t8,curveBumpX:q$,curveBumpY:B$,curveLinearClosed:a8,curveLinear:_h,curveMonotoneX:i8,curveMonotoneY:s8,curveNatural:o8,curveStep:l8,curveStepAfter:u8,curveStepBefore:c8},rf=e=>ar(e.x)&&ar(e.y),Oc=e=>e.x,Ec=e=>e.y,z7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(du(e));return(n==="curveMonotone"||n==="curveBump")&&t?CE["".concat(n).concat(t==="vertical"?"Y":"X")]:CE[n]||_h},U7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=z7(t,i),u=o?n.filter(rf):n,d;if(Array.isArray(r)){var f=o?r.filter(g=>rf(g)):r,p=u.map((g,v)=>NE(NE({},g),{},{base:f[v]}));return i==="vertical"?d=Wd().y(Ec).x1(Oc).x0(g=>g.base.x):d=Wd().x(Oc).y1(Ec).y0(g=>g.base.y),d.defined(rf).curve(l),d(p)}return i==="vertical"&&Se(r)?d=Wd().y(Ec).x1(Oc).x0(r):Se(r)?d=Wd().x(Oc).y1(Ec).y0(r):d=VC().x(Oc).y(Ec),d.defined(rf).curve(l),d(u)},nk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?U7(e):r;return _.createElement("path",t0({},ki(e),A$(e),{className:at("recharts-curve",t),d:o===null?void 0:o,ref:i}))},$7=["x","y","top","left","width","height","className"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){B7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B7(e,t,n){return(t=H7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F7(e,t){if(e==null)return{};var n,r,i=G7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y7=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),V7=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,d=F7(e,$7),f=q7({x:t,y:n,top:r,left:i,width:o,height:l},d);return!Se(t)||!Se(n)||!Se(o)||!Se(l)||!Se(r)||!Se(i)?null:_.createElement("path",n0({},Xt(f,!0),{className:at("recharts-cross",u),d:Y7(t,n,o,l,r,i)}))};function W7(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(r){Q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7(e,t,n){return(t=J7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(e,t){var n=X7({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function e9(){}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){t9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t9(e,t,n){return(t=n9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rk=(e,t,n)=>e.map(r=>"".concat(a9(r)," ").concat(t,"ms ").concat(n)).join(","),i9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jc=(e,t)=>Object.keys(t).reduce((n,r)=>ME(ME({},n),{},{[r]:e(r,t[r])}),{});function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){s9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=l9(e,"string");return typeof t=="symbol"?t:t+""}function l9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kf=(e,t,n)=>e+(t-e)*n,r0=e=>{var{from:t,to:n}=e;return t!==n},ak=(e,t,n)=>{var r=Jc((i,o)=>{if(r0(o)){var[l,u]=e(o.from,o.to,o.velocity);return vn(vn({},o),{},{from:l,velocity:u})}return o},t);return n<1?Jc((i,o)=>r0(o)?vn(vn({},o),{},{velocity:Kf(o.velocity,r[i].velocity,n),from:Kf(o.from,r[i].from,n)}):o,t):ak(e,r,n-1)};function c9(e,t,n,r,i,o){var l,u=r.reduce((v,x)=>vn(vn({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Jc((v,x)=>x.from,u),f=()=>!Object.values(u).filter(r0).length,p=null,g=v=>{l||(l=v);var x=v-l,w=x/n.dt;u=ak(n,u,w),i(vn(vn(vn({},e),t),d())),l=v,f()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function u9(e,t,n,r,i,o,l){var u=null,d=i.reduce((g,v)=>vn(vn({},g),{},{[v]:[e[v],t[v]]}),{}),f,p=g=>{f||(f=g);var v=(g-f)/r,x=Jc((S,j)=>Kf(...j,n(v)),d);if(o(vn(vn(vn({},e),t),x)),v<1)u=l.setTimeout(p);else{var w=Jc((S,j)=>Kf(...j,n(1)),d);o(vn(vn(vn({},e),t),w))}};return()=>(u=l.setTimeout(p),()=>{u()})}const d9=(e,t,n,r,i,o)=>{var l=i9(e,t);return n.isStepper===!0?c9(e,t,n,l,i,o):u9(e,t,n,r,l,i,o)};var Ff=1e-4,ik=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],sk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),DE=(e,t)=>n=>{var r=ik(e,t);return sk(r,n)},f9=(e,t)=>n=>{var r=ik(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return sk(i,n)},IE=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([t,r,n,i]=l);var f=DE(t,n),p=DE(r,i),g=f9(t,n),v=w=>w>1?1:w<0?0:w,x=w=>{for(var S=w>1?1:w,j=S,E=0;E<8;++E){var N=f(j)-S,A=g(j);if(Math.abs(N-S)<Ff||A<Ff)return p(j);j=v(j-N/A)}return p(j)};return x.isStepper=!1,x},h9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,d)=>{var f=-(l-u)*n,p=d*r,g=d+(f-p)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<Ff&&Math.abs(g)<Ff?[u,0]:[v,g]};return o.isStepper=!0,o.dt=i,o},m9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IE(e);case"spring":return h9();default:if(e.split("(")[0]==="cubic-bezier")return IE(e)}return typeof e=="function"?e:null};function p9(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(o.bind(null,f),d);return}o(d),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class g9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function v9(){return p9(new g9)}var y9=_.createContext(v9);function b9(e,t){var n=_.useContext(y9);return _.useMemo(()=>t??n(e),[e,t,n])}var x9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LE={t:0},Mv={t:1};function Rh(e){var t=Cn(e,x9),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,p=b9(t.animationId,t.animationManager),[g,v]=_.useState(n?LE:Mv),x=_.useRef(null);return _.useEffect(()=>{n||v(Mv)},[n]),_.useEffect(()=>{if(!n||!r)return e9;var w=d9(LE,Mv,m9(o),i,v,p.getTimeoutController()),S=()=>{x.current=w()};return p.start([d,l,S,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[n,r,i,o,l,d,u,p]),f(g.t)}function Dh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Vc(t)),r=_.useRef(e);return r.current!==e&&(n.current=Vc(t),r.current=e),n.current}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){_9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _9(e,t,n){return(t=w9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=S9(e,"string");return typeof t=="symbol"?t:t+""}function S9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gf.apply(null,arguments)}var $E=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>o?o:i[g];f="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),f+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*p[1])),f+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),f+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);f="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*x,`
            L `).concat(e+n,",").concat(t+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},j9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ok=e=>{var t=Cn(e,j9),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:S}=t,j=_.useRef(u),E=_.useRef(d),N=_.useRef(o),A=_.useRef(l),k=_.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),P=Dh(k,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var M=at("recharts-rectangle",p);if(!S)return _.createElement("path",Gf({},Xt(t,!0),{className:M,d:$E(o,l,u,d,f)}));var R=j.current,z=E.current,H=N.current,$=A.current,K="0px ".concat(r===-1?1:r,"px"),F="".concat(r,"px 0px"),ae=rk(["strokeDasharray"],v,typeof g=="string"?g:void 0);return _.createElement(Rh,{animationId:P,key:P,canBegin:r>0,duration:v,easing:g,isActive:S,begin:x},q=>{var ne=yn(R,u,q),L=yn(z,d,q),Q=yn(H,o,q),oe=yn($,l,q);n.current&&(j.current=ne,E.current=L,N.current=Q,A.current=oe);var me;return w?q>0?me={transition:ae,strokeDasharray:F}:me={strokeDasharray:K}:me={strokeDasharray:F},_.createElement("path",Gf({},Xt(t,!0),{className:M,d:$E(Q,oe,ne,L,f),ref:n,style:UE(UE({},me),t.style)}))})};function lk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Kt(t,n,r,i),u=Kt(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}var O9=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},af=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,p=Math.asin(u/f)/Hf,g=d?i:i+o*p,v=Kt(t,n,f,g),x=Kt(t,n,r,g),w=d?i-o*p:i,S=Kt(t,n,f*Math.cos(p*Hf),w);return{center:v,circleTangency:x,lineTangency:S,theta:p}},ck=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=O9(o,l),d=o+u,f=Kt(t,n,i,o),p=Kt(t,n,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Kt(t,n,r,o),x=Kt(t,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},E9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,p=on(f-d),{circleTangency:g,lineTangency:v,theta:x}=af({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:j}=af({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),E=u?Math.abs(d-f):Math.abs(d-f)-x-j;if(E<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ck({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:k,theta:P}=af({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:M,lineTangency:R,theta:z}=af({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),H=u?Math.abs(d-f):Math.abs(d-f)-P-z;if(H<0&&o===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(t,",").concat(n,"Z");return N},A9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uk=e=>{var t=Cn(e,A9),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:g}=t;if(o<i||f===p)return null;var v=at("recharts-sector",g),x=o-i,w=Sn(l,x,0,!0),S;return w>0&&Math.abs(f-p)<360?S=E9({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):S=ck({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),_.createElement("path",a0({},Xt(t,!0),{className:v,d:S}))};function N9(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:f,outerRadius:p,angle:g}=t,v=Kt(u,d,f,g),x=Kt(u,d,p,g);r=v.x,i=v.y,o=x.x,l=x.y}else return lk(t);return[{x:r,y:i},{x:o,y:l}]}var Rv={},Dv={},Iv={},qE;function C9(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Iv)),Iv}var BE;function T9(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C9();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Dv)),Dv}var HE;function k9(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT(),n=T9();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(Rv)),Rv}var Lv,KE;function P9(){return KE||(KE=1,Lv=k9().range),Lv}var M9=P9();const dk=qr(M9);function Oi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eb(e){let t,n,r;e.length!==2?(t=Oi,n=(u,d)=>Oi(e(u),d),r=(u,d)=>e(u)-d):(t=e===Oi||e===R9?e:D9,n=e,r=e);function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function o(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function l(u,d,f=0,p=u.length){const g=i(u,d,f,p-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:o}}function D9(){return 0}function fk(e){return e===null?NaN:+e}function*I9(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const L9=Eb(Oi),gu=L9.right;Eb(fk).center;class FE extends Map{constructor(t,n=$9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(GE(this,t))}has(t){return super.has(GE(this,t))}set(t,n){return super.set(z9(this,t),n)}delete(t){return super.delete(U9(this,t))}}function GE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function z9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function U9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function q9(e=Oi){if(e===Oi)return hk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function hk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const B9=Math.sqrt(50),H9=Math.sqrt(10),K9=Math.sqrt(2);function Yf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=B9?10:o>=H9?5:o>=K9?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Yf(e,t,n*2):[u,d,f]}function i0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Yf(t,e,n):Yf(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function s0(e,t,n){return t=+t,e=+e,n=+n,Yf(e,t,n)[2]}function o0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?s0(t,e,n):s0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function YE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function VE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?hk:q9(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(t-f*g/d+v)),w=Math.min(r,Math.floor(t+(d-f)*g/d+v));mk(e,t,x,w,i)}const o=e[t];let l=n,u=r;for(Ac(e,n,t),i(e[r],o)>0&&Ac(e,n,r);l<u;){for(Ac(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?Ac(e,n,u):(++u,Ac(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Ac(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function F9(e,t,n){if(e=Float64Array.from(I9(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return VE(e);if(t>=1)return YE(e);var r,i=(r-1)*t,o=Math.floor(i),l=YE(mk(e,o).subarray(0,o+1)),u=VE(e.subarray(o+1));return l+(u-l)*(i-o)}}function G9(e,t,n=fk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function Y9(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Er(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const l0=Symbol("implicit");function Ab(){var e=new FE,t=[],n=[],r=l0;function i(o){let l=e.get(o);if(l===void 0){if(r!==l0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new FE;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ab(t,n).unknown(r)},Er.apply(i,arguments),i}function Nb(){var e=Ab().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function g(){var v=t().length,x=i<r,w=x?i:r,S=x?r:i;o=(S-w)/Math.max(1,v-d+f*2),u&&(o=Math.floor(o)),w+=(S-w-o*(v-d))*p,l=o*(1-d),u&&(w=Math.round(w),l=Math.round(l));var j=Y9(v).map(function(E){return w+o*E});return n(x?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Nb(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},Er.apply(g(),arguments)}function pk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pk(t())},e}function V9(){return pk(Nb.apply(null,arguments).paddingInner(1))}function Cb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vu(){}var Zc=.7,Vf=1/Zc,el="\\s*([+-]?\\d+)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W9=/^#([0-9a-f]{3,8})$/,X9=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),Q9=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),J9=new RegExp(`^rgba\\(${el},${el},${el},${eu}\\)$`),Z9=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${eu}\\)$`),eH=new RegExp(`^hsl\\(${eu},${Zr},${Zr}\\)$`),tH=new RegExp(`^hsla\\(${eu},${Zr},${Zr},${eu}\\)$`),WE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cb(vu,tu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XE,formatHex:XE,formatHex8:nH,formatHsl:rH,formatRgb:QE,toString:QE});function XE(){return this.rgb().formatHex()}function nH(){return this.rgb().formatHex8()}function rH(){return vk(this).formatHsl()}function QE(){return this.rgb().formatRgb()}function tu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=W9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JE(t):n===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=X9.exec(e))?new qn(t[1],t[2],t[3],1):(t=Q9.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=J9.exec(e))?sf(t[1],t[2],t[3],t[4]):(t=Z9.exec(e))?sf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eH.exec(e))?t2(t[1],t[2]/100,t[3]/100,1):(t=tH.exec(e))?t2(t[1],t[2]/100,t[3]/100,t[4]):WE.hasOwnProperty(e)?JE(WE[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function JE(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function sf(e,t,n,r){return r<=0&&(e=t=n=NaN),new qn(e,t,n,r)}function aH(e){return e instanceof vu||(e=tu(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function c0(e,t,n,r){return arguments.length===1?aH(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Cb(qn,c0,gk(vu,{brighter(e){return e=e==null?Vf:Math.pow(Vf,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(js(this.r),js(this.g),js(this.b),Wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZE,formatHex:ZE,formatHex8:iH,formatRgb:e2,toString:e2}));function ZE(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}`}function iH(){return`#${ys(this.r)}${ys(this.g)}${ys(this.b)}${ys((isNaN(this.opacity)?1:this.opacity)*255)}`}function e2(){const e=Wf(this.opacity);return`${e===1?"rgb(":"rgba("}${js(this.r)}, ${js(this.g)}, ${js(this.b)}${e===1?")":`, ${e})`}`}function Wf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function js(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ys(e){return e=js(e),(e<16?"0":"")+e.toString(16)}function t2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lr(e,t,n,r)}function vk(e){if(e instanceof Lr)return new Lr(e.h,e.s,e.l,e.opacity);if(e instanceof vu||(e=tu(e)),!e)return new Lr;if(e instanceof Lr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Lr(l,u,d,e.opacity)}function sH(e,t,n,r){return arguments.length===1?vk(e):new Lr(e,t,n,r??1)}function Lr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Cb(Lr,sH,gk(vu,{brighter(e){return e=e==null?Vf:Math.pow(Vf,e),new Lr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new Lr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qn(zv(e>=240?e-240:e+120,i,r),zv(e,i,r),zv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Lr(n2(this.h),of(this.s),of(this.l),Wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wf(this.opacity);return`${e===1?"hsl(":"hsla("}${n2(this.h)}, ${of(this.s)*100}%, ${of(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n2(e){return e=(e||0)%360,e<0?e+360:e}function of(e){return Math.max(0,Math.min(1,e||0))}function zv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tb=e=>()=>e;function oH(e,t){return function(n){return e+n*t}}function lH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function cH(e){return(e=+e)==1?yk:function(t,n){return n-t?lH(t,n,e):Tb(isNaN(t)?n:t)}}function yk(e,t){var n=t-e;return n?oH(e,n):Tb(isNaN(e)?t:e)}const r2=(function e(t){var n=cH(t);function r(i,o){var l=n((i=c0(i)).r,(o=c0(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=yk(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function uH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function dH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=yl(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function hH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yl(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var u0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uv=new RegExp(u0.source,"g");function pH(e){return function(){return e}}function gH(e){return function(t){return e(t)+""}}function vH(e,t){var n=u0.lastIndex=Uv.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=u0.exec(e))&&(i=Uv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Xf(r,i)})),n=Uv.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?gH(d[0].x):pH(t):(t=d.length,function(f){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function yl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tb(t):(n==="number"?Xf:n==="string"?(r=tu(t))?(t=r,r2):vH:t instanceof tu?r2:t instanceof Date?hH:dH(t)?uH:Array.isArray(t)?fH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mH:Xf)(e,t)}function kb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yH(e,t){t===void 0&&(t=e,e=yl);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function bH(e){return function(){return e}}function Qf(e){return+e}var a2=[0,1];function Nn(e){return e}function d0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bH(isNaN(t)?NaN:.5)}function xH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function _H(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=d0(i,r),o=n(l,o)):(r=d0(r,i),o=n(o,l)),function(u){return o(r(u))}}function wH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=d0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var d=gu(e,u,1,r)-1;return o[d](i[d](u))}}function yu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ih(){var e=a2,t=a2,n=yl,r,i,o,l=Nn,u,d,f;function p(){var v=Math.min(e.length,t.length);return l!==Nn&&(l=xH(e[0],e[v-1])),u=v>2?wH:_H,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?o:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((f||(f=u(t,e.map(r),Xf)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Qf),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=kb,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Nn,p()):l!==Nn},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,x){return r=v,i=x,p()}}function Pb(){return Ih()(Nn,Nn)}function SH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sl(e){return e=Jf(Math.abs(e)),e?e[1]:NaN}function jH(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function OH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var EH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(e){if(!(t=EH.exec(e)))throw new Error("invalid format: "+e);var t;return new Mb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nu.prototype=Mb.prototype;function Mb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AH(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var bk;function NH(e,t){var n=Jf(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(bk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Jf(e,Math.max(0,t+o-1))[0]}function i2(e,t){var n=Jf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>i2(e*100,t),r:i2,s:NH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o2(e){return e}var l2=Array.prototype.map,c2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function CH(e){var t=e.grouping===void 0||e.thousands===void 0?o2:jH(l2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?o2:OH(l2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=nu(g);var v=g.fill,x=g.align,w=g.sign,S=g.symbol,j=g.zero,E=g.width,N=g.comma,A=g.precision,k=g.trim,P=g.type;P==="n"?(N=!0,P="g"):s2[P]||(A===void 0&&(A=12),k=!0,P="g"),(j||v==="0"&&x==="=")&&(j=!0,v="0",x="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=S==="$"?r:/[%p]/.test(P)?l:"",z=s2[P],H=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function $(K){var F=M,ae=R,q,ne,L;if(P==="c")ae=z(K)+ae,K="";else{K=+K;var Q=K<0||1/K<0;if(K=isNaN(K)?d:z(Math.abs(K),A),k&&(K=AH(K)),Q&&+K==0&&w!=="+"&&(Q=!1),F=(Q?w==="("?w:u:w==="-"||w==="("?"":w)+F,ae=(P==="s"?c2[8+bk/3]:"")+ae+(Q&&w==="("?")":""),H){for(q=-1,ne=K.length;++q<ne;)if(L=K.charCodeAt(q),48>L||L>57){ae=(L===46?i+K.slice(q+1):K.slice(q))+ae,K=K.slice(0,q);break}}}N&&!j&&(K=t(K,1/0));var oe=F.length+K.length+ae.length,me=oe<E?new Array(E-oe+1).join(v):"";switch(N&&j&&(K=t(me+K,me.length?E-ae.length:1/0),me=""),x){case"<":K=F+K+ae+me;break;case"=":K=F+me+K+ae;break;case"^":K=me.slice(0,oe=me.length>>1)+F+K+ae+me.slice(oe);break;default:K=me+F+K+ae;break}return o(K)}return $.toString=function(){return g+""},$}function p(g,v){var x=f((g=nu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(sl(v)/3)))*3,S=Math.pow(10,-w),j=c2[8+w/3];return function(E){return x(S*E)+j}}return{format:f,formatPrefix:p}}var lf,Rb,xk;TH({thousands:",",grouping:[3],currency:["$",""]});function TH(e){return lf=CH(e),Rb=lf.format,xk=lf.formatPrefix,lf}function kH(e){return Math.max(0,-sl(Math.abs(e)))}function PH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(t)/3)))*3-sl(Math.abs(e)))}function MH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sl(t)-sl(e))+1}function _k(e,t,n,r){var i=o0(e,t,n),o;switch(r=nu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=PH(i,l))&&(r.precision=o),xk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=MH(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kH(i))&&(r.precision=o-(r.type==="%")*2);break}}return Rb(r)}function Pi(e){var t=e.domain;return e.ticks=function(n){var r=t();return i0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return _k(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);p-- >0;){if(f=s0(l,u,n),f===d)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function wk(){var e=Pb();return e.copy=function(){return yu(e,wk())},Er.apply(e,arguments),Pi(e)}function Sk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Qf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Sk(e).unknown(t)},e=arguments.length?Array.from(e,Qf):[0,1],Pi(n)}function jk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function u2(e){return Math.log(e)}function d2(e){return Math.exp(e)}function RH(e){return-Math.log(-e)}function DH(e){return-Math.exp(-e)}function IH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LH(e){return e===10?IH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function f2(e){return(t,n)=>-e(-t,n)}function Db(e){const t=e(u2,d2),n=t.domain;let r=10,i,o;function l(){return i=zH(r),o=LH(r),n()[0]<0?(i=f2(i),o=f2(o),e(RH,DH)):e(u2,d2),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=i(f),x=i(p),w,S;const j=u==null?10:+u;let E=[];if(!(r%1)&&x-v<j){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(w=1;w<r;++w)if(S=v<0?w/o(-v):w*o(v),!(S<f)){if(S>p)break;E.push(S)}}else for(;v<=x;++v)for(w=r-1;w>=1;--w)if(S=v>0?w/o(-v):w*o(v),!(S<f)){if(S>p)break;E.push(S)}E.length*2<j&&(E=i0(f,p,j))}else E=i0(v,x,Math.min(x-v,j)).map(o);return g?E.reverse():E},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=nu(d)).precision==null&&(d.trim=!0),d=Rb(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=f?d(p):""}},t.nice=()=>n(jk(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function Ok(){const e=Db(Ih()).domain([1,10]);return e.copy=()=>yu(e,Ok()).base(e.base()),Er.apply(e,arguments),e}function h2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function m2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ib(e){var t=1,n=e(h2(t),m2(t));return n.constant=function(r){return arguments.length?e(h2(t=+r),m2(t)):t},Pi(n)}function Ek(){var e=Ib(Ih());return e.copy=function(){return yu(e,Ek()).constant(e.constant())},Er.apply(e,arguments)}function p2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $H(e){return e<0?-e*e:e*e}function Lb(e){var t=e(Nn,Nn),n=1;function r(){return n===1?e(Nn,Nn):n===.5?e(UH,$H):e(p2(n),p2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Pi(t)}function zb(){var e=Lb(Ih());return e.copy=function(){return yu(e,zb()).exponent(e.exponent())},Er.apply(e,arguments),e}function qH(){return zb.apply(null,arguments).exponent(.5)}function g2(e){return Math.sign(e)*e*e}function BH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ak(){var e=Pb(),t=[0,1],n=!1,r;function i(o){var l=BH(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(g2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Qf)).map(g2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ak(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Er.apply(i,arguments),Pi(i)}function Nk(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=G9(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[gu(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Oi),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Nk().domain(e).range(t).unknown(r)},Er.apply(o,arguments)}function Ck(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[gu(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Ck().domain([e,t]).range(i).unknown(o)},Er.apply(Pi(l),arguments)}function Tk(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[gu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Tk().domain(e).range(t).unknown(n)},Er.apply(i,arguments)}const $v=new Date,qv=new Date;function Jt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>Jt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>($v.setTime(+o),qv.setTime(+l),e($v),e(qv),Math.floor(n($v,qv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Zf=Jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zf);Zf.range;const Aa=1e3,_r=Aa*60,Na=_r*60,Da=Na*24,Ub=Da*7,v2=Da*30,Bv=Da*365,bs=Jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCSeconds());bs.range;const $b=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Aa)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getMinutes());$b.range;const qb=Jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getUTCMinutes());qb.range;const Bb=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Aa-e.getMinutes()*_r)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getHours());Bb.range;const Hb=Jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCHours());Hb.range;const bu=Jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_r)/Da,e=>e.getDate()-1);bu.range;const Lh=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>e.getUTCDate()-1);Lh.range;const kk=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>Math.floor(e/Da));kk.range;function zs(e){return Jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*_r)/Ub)}const zh=zs(0),eh=zs(1),HH=zs(2),KH=zs(3),ol=zs(4),FH=zs(5),GH=zs(6);zh.range;eh.range;HH.range;KH.range;ol.range;FH.range;GH.range;function Us(e){return Jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ub)}const Uh=Us(0),th=Us(1),YH=Us(2),VH=Us(3),ll=Us(4),WH=Us(5),XH=Us(6);Uh.range;th.range;YH.range;VH.range;ll.range;WH.range;XH.range;const Kb=Jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Kb.range;const Fb=Jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fb.range;const Ia=Jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ia.range;const La=Jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());La.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});La.range;function Pk(e,t,n,r,i,o){const l=[[bs,1,Aa],[bs,5,5*Aa],[bs,15,15*Aa],[bs,30,30*Aa],[o,1,_r],[o,5,5*_r],[o,15,15*_r],[o,30,30*_r],[i,1,Na],[i,3,3*Na],[i,6,6*Na],[i,12,12*Na],[r,1,Da],[r,2,2*Da],[n,1,Ub],[t,1,v2],[t,3,3*v2],[e,1,Bv]];function u(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const x=g&&typeof g.range=="function"?g:d(f,p,g),w=x?x.range(f,+p+1):[];return v?w.reverse():w}function d(f,p,g){const v=Math.abs(p-f)/g,x=Eb(([,,j])=>j).right(l,v);if(x===l.length)return e.every(o0(f/Bv,p/Bv,g));if(x===0)return Zf.every(Math.max(o0(f,p,g),1));const[w,S]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return w.every(S)}return[u,d]}const[QH,JH]=Pk(La,Fb,Uh,kk,Hb,qb),[ZH,eK]=Pk(Ia,Kb,zh,bu,Bb,$b);function Hv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Cc(i),p=Tc(i),g=Cc(o),v=Tc(o),x=Cc(l),w=Tc(l),S=Cc(u),j=Tc(u),E=Cc(d),N=Tc(d),A={a:Q,A:oe,b:me,B:ie,c:null,d:S2,e:S2,f:jK,g:RK,G:IK,H:_K,I:wK,j:SK,L:Mk,m:OK,M:EK,p:C,q:D,Q:E2,s:A2,S:AK,u:NK,U:CK,V:TK,w:kK,W:PK,x:null,X:null,y:MK,Y:DK,Z:LK,"%":O2},k={a:V,A:W,b:J,B:de,c:null,d:j2,e:j2,f:qK,g:QK,G:ZK,H:zK,I:UK,j:$K,L:Dk,m:BK,M:HK,p:he,q:Le,Q:E2,s:A2,S:KK,u:FK,U:GK,V:YK,w:VK,W:WK,x:null,X:null,y:XK,Y:JK,Z:eF,"%":O2},P={a:$,A:K,b:F,B:ae,c:q,d:_2,e:_2,f:vK,g:x2,G:b2,H:w2,I:w2,j:hK,L:gK,m:fK,M:mK,p:H,q:dK,Q:bK,s:xK,S:pK,u:sK,U:oK,V:lK,w:iK,W:cK,x:ne,X:L,y:x2,Y:b2,Z:uK,"%":yK};A.x=M(n,A),A.X=M(r,A),A.c=M(t,A),k.x=M(n,k),k.X=M(r,k),k.c=M(t,k);function M(te,we){return function(Ce){var ce=[],Nt=-1,ze=0,Ct=te.length,Tt,en,Ar;for(Ce instanceof Date||(Ce=new Date(+Ce));++Nt<Ct;)te.charCodeAt(Nt)===37&&(ce.push(te.slice(ze,Nt)),(en=y2[Tt=te.charAt(++Nt)])!=null?Tt=te.charAt(++Nt):en=Tt==="e"?" ":"0",(Ar=we[Tt])&&(Tt=Ar(Ce,en)),ce.push(Tt),ze=Nt+1);return ce.push(te.slice(ze,Nt)),ce.join("")}}function R(te,we){return function(Ce){var ce=Nc(1900,void 0,1),Nt=z(ce,te,Ce+="",0),ze,Ct;if(Nt!=Ce.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(we&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ze=Kv(Nc(ce.y,0,1)),Ct=ze.getUTCDay(),ze=Ct>4||Ct===0?th.ceil(ze):th(ze),ze=Lh.offset(ze,(ce.V-1)*7),ce.y=ze.getUTCFullYear(),ce.m=ze.getUTCMonth(),ce.d=ze.getUTCDate()+(ce.w+6)%7):(ze=Hv(Nc(ce.y,0,1)),Ct=ze.getDay(),ze=Ct>4||Ct===0?eh.ceil(ze):eh(ze),ze=bu.offset(ze,(ce.V-1)*7),ce.y=ze.getFullYear(),ce.m=ze.getMonth(),ce.d=ze.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ct="Z"in ce?Kv(Nc(ce.y,0,1)).getUTCDay():Hv(Nc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ct+5)%7:ce.w+ce.U*7-(Ct+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Kv(ce)):Hv(ce)}}function z(te,we,Ce,ce){for(var Nt=0,ze=we.length,Ct=Ce.length,Tt,en;Nt<ze;){if(ce>=Ct)return-1;if(Tt=we.charCodeAt(Nt++),Tt===37){if(Tt=we.charAt(Nt++),en=P[Tt in y2?we.charAt(Nt++):Tt],!en||(ce=en(te,Ce,ce))<0)return-1}else if(Tt!=Ce.charCodeAt(ce++))return-1}return ce}function H(te,we,Ce){var ce=f.exec(we.slice(Ce));return ce?(te.p=p.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function $(te,we,Ce){var ce=x.exec(we.slice(Ce));return ce?(te.w=w.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function K(te,we,Ce){var ce=g.exec(we.slice(Ce));return ce?(te.w=v.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function F(te,we,Ce){var ce=E.exec(we.slice(Ce));return ce?(te.m=N.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function ae(te,we,Ce){var ce=S.exec(we.slice(Ce));return ce?(te.m=j.get(ce[0].toLowerCase()),Ce+ce[0].length):-1}function q(te,we,Ce){return z(te,t,we,Ce)}function ne(te,we,Ce){return z(te,n,we,Ce)}function L(te,we,Ce){return z(te,r,we,Ce)}function Q(te){return l[te.getDay()]}function oe(te){return o[te.getDay()]}function me(te){return d[te.getMonth()]}function ie(te){return u[te.getMonth()]}function C(te){return i[+(te.getHours()>=12)]}function D(te){return 1+~~(te.getMonth()/3)}function V(te){return l[te.getUTCDay()]}function W(te){return o[te.getUTCDay()]}function J(te){return d[te.getUTCMonth()]}function de(te){return u[te.getUTCMonth()]}function he(te){return i[+(te.getUTCHours()>=12)]}function Le(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var we=M(te+="",A);return we.toString=function(){return te},we},parse:function(te){var we=R(te+="",!1);return we.toString=function(){return te},we},utcFormat:function(te){var we=M(te+="",k);return we.toString=function(){return te},we},utcParse:function(te){var we=R(te+="",!0);return we.toString=function(){return te},we}}}var y2={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,nK=/^%/,rK=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function aK(e){return e.replace(rK,"\\$&")}function Cc(e){return new RegExp("^(?:"+e.map(aK).join("|")+")","i")}function Tc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function iK(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function b2(e,t,n){var r=cn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function x2(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dK(e,t,n){var r=cn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function fK(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _2(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=cn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function w2(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=cn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=cn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=cn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yK(e,t,n){var r=nK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bK(e,t,n){var r=cn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=cn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function S2(e,t){return We(e.getDate(),t,2)}function _K(e,t){return We(e.getHours(),t,2)}function wK(e,t){return We(e.getHours()%12||12,t,2)}function SK(e,t){return We(1+bu.count(Ia(e),e),t,3)}function Mk(e,t){return We(e.getMilliseconds(),t,3)}function jK(e,t){return Mk(e,t)+"000"}function OK(e,t){return We(e.getMonth()+1,t,2)}function EK(e,t){return We(e.getMinutes(),t,2)}function AK(e,t){return We(e.getSeconds(),t,2)}function NK(e){var t=e.getDay();return t===0?7:t}function CK(e,t){return We(zh.count(Ia(e)-1,e),t,2)}function Rk(e){var t=e.getDay();return t>=4||t===0?ol(e):ol.ceil(e)}function TK(e,t){return e=Rk(e),We(ol.count(Ia(e),e)+(Ia(e).getDay()===4),t,2)}function kK(e){return e.getDay()}function PK(e,t){return We(eh.count(Ia(e)-1,e),t,2)}function MK(e,t){return We(e.getFullYear()%100,t,2)}function RK(e,t){return e=Rk(e),We(e.getFullYear()%100,t,2)}function DK(e,t){return We(e.getFullYear()%1e4,t,4)}function IK(e,t){var n=e.getDay();return e=n>=4||n===0?ol(e):ol.ceil(e),We(e.getFullYear()%1e4,t,4)}function LK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function j2(e,t){return We(e.getUTCDate(),t,2)}function zK(e,t){return We(e.getUTCHours(),t,2)}function UK(e,t){return We(e.getUTCHours()%12||12,t,2)}function $K(e,t){return We(1+Lh.count(La(e),e),t,3)}function Dk(e,t){return We(e.getUTCMilliseconds(),t,3)}function qK(e,t){return Dk(e,t)+"000"}function BK(e,t){return We(e.getUTCMonth()+1,t,2)}function HK(e,t){return We(e.getUTCMinutes(),t,2)}function KK(e,t){return We(e.getUTCSeconds(),t,2)}function FK(e){var t=e.getUTCDay();return t===0?7:t}function GK(e,t){return We(Uh.count(La(e)-1,e),t,2)}function Ik(e){var t=e.getUTCDay();return t>=4||t===0?ll(e):ll.ceil(e)}function YK(e,t){return e=Ik(e),We(ll.count(La(e),e)+(La(e).getUTCDay()===4),t,2)}function VK(e){return e.getUTCDay()}function WK(e,t){return We(th.count(La(e)-1,e),t,2)}function XK(e,t){return We(e.getUTCFullYear()%100,t,2)}function QK(e,t){return e=Ik(e),We(e.getUTCFullYear()%100,t,2)}function JK(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function ZK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ll(e):ll.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function eF(){return"+0000"}function O2(){return"%"}function E2(e){return+e}function A2(e){return Math.floor(+e/1e3)}var Ko,Lk,zk;tF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tF(e){return Ko=tK(e),Lk=Ko.format,Ko.parse,zk=Ko.utcFormat,Ko.utcParse,Ko}function nF(e){return new Date(e)}function rF(e){return e instanceof Date?+e:+new Date(+e)}function Gb(e,t,n,r,i,o,l,u,d,f){var p=Pb(),g=p.invert,v=p.domain,x=f(".%L"),w=f(":%S"),S=f("%I:%M"),j=f("%I %p"),E=f("%a %d"),N=f("%b %d"),A=f("%B"),k=f("%Y");function P(M){return(d(M)<M?x:u(M)<M?w:l(M)<M?S:o(M)<M?j:r(M)<M?i(M)<M?E:N:n(M)<M?A:k)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?v(Array.from(M,rF)):v().map(nF)},p.ticks=function(M){var R=v();return e(R[0],R[R.length-1],M??10)},p.tickFormat=function(M,R){return R==null?P:f(R)},p.nice=function(M){var R=v();return(!M||typeof M.range!="function")&&(M=t(R[0],R[R.length-1],M??10)),M?v(jk(R,M)):p},p.copy=function(){return yu(p,Gb(e,t,n,r,i,o,l,u,d,f))},p}function aF(){return Er.apply(Gb(ZH,eK,Ia,Kb,zh,bu,Bb,$b,bs,Lk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iF(){return Er.apply(Gb(QH,JH,La,Fb,Uh,Lh,Hb,qb,bs,zk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $h(){var e=0,t=1,n,r,i,o,l=Nn,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function p(g){return function(v){var x,w;return arguments.length?([x,w]=v,l=g(x,w),f):[l(0),l(1)]}}return f.range=p(yl),f.rangeRound=p(kb),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),f}}function Mi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Uk(){var e=Pi($h()(Nn));return e.copy=function(){return Mi(e,Uk())},$a.apply(e,arguments)}function $k(){var e=Db($h()).domain([1,10]);return e.copy=function(){return Mi(e,$k()).base(e.base())},$a.apply(e,arguments)}function qk(){var e=Ib($h());return e.copy=function(){return Mi(e,qk()).constant(e.constant())},$a.apply(e,arguments)}function Yb(){var e=Lb($h());return e.copy=function(){return Mi(e,Yb()).exponent(e.exponent())},$a.apply(e,arguments)}function sF(){return Yb.apply(null,arguments).exponent(.5)}function Bk(){var e=[],t=Nn;function n(r){if(r!=null&&!isNaN(r=+r))return t((gu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Oi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>F9(e,o/r))},n.copy=function(){return Bk(t).domain(e)},$a.apply(n,arguments)}function qh(){var e=0,t=.5,n=1,r=1,i,o,l,u,d,f=Nn,p,g=!1,v;function x(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-o)*(r*S<r*o?u:d),f(g?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,n]=S,i=p(e=+e),o=p(t=+t),l=p(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x):[e,t,n]},x.clamp=function(S){return arguments.length?(g=!!S,x):g},x.interpolator=function(S){return arguments.length?(f=S,x):f};function w(S){return function(j){var E,N,A;return arguments.length?([E,N,A]=j,f=yH(S,[E,N,A]),x):[f(0),f(.5),f(1)]}}return x.range=w(yl),x.rangeRound=w(kb),x.unknown=function(S){return arguments.length?(v=S,x):v},function(S){return p=S,i=S(e),o=S(t),l=S(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x}}function Hk(){var e=Pi(qh()(Nn));return e.copy=function(){return Mi(e,Hk())},$a.apply(e,arguments)}function Kk(){var e=Db(qh()).domain([.1,1,10]);return e.copy=function(){return Mi(e,Kk()).base(e.base())},$a.apply(e,arguments)}function Fk(){var e=Ib(qh());return e.copy=function(){return Mi(e,Fk()).constant(e.constant())},$a.apply(e,arguments)}function Vb(){var e=Lb(qh());return e.copy=function(){return Mi(e,Vb()).exponent(e.exponent())},$a.apply(e,arguments)}function oF(){return Vb.apply(null,arguments).exponent(.5)}const Rc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nb,scaleDiverging:Hk,scaleDivergingLog:Kk,scaleDivergingPow:Vb,scaleDivergingSqrt:oF,scaleDivergingSymlog:Fk,scaleIdentity:Sk,scaleImplicit:l0,scaleLinear:wk,scaleLog:Ok,scaleOrdinal:Ab,scalePoint:V9,scalePow:zb,scaleQuantile:Nk,scaleQuantize:Ck,scaleRadial:Ak,scaleSequential:Uk,scaleSequentialLog:$k,scaleSequentialPow:Yb,scaleSequentialQuantile:Bk,scaleSequentialSqrt:sF,scaleSequentialSymlog:qk,scaleSqrt:qH,scaleSymlog:Ek,scaleThreshold:Tk,scaleTime:aF,scaleUtc:iF,tickFormat:_k},Symbol.toStringTag,{value:"Module"}));var Ri=e=>e.chartData,Wb=Z([Ri],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Xb=(e,t,n,r)=>r?Wb(e):Ri(e);function cl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ar(t)&&ar(n))return!0}return!1}function N2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lF(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(ar(n))i=n;else if(typeof n=="function")return;if(ar(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(cl(l))return l}}function cF(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(cl(r))return N2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Se(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&yE.test(i)){var d=yE.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Se(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&bE.test(o)){var p=bE.exec(o);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(cl(v))return t==null?v:N2(v,t,n)}}}var bl=1e9,uF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Jb,bt=!0,Sr="[DecimalError] ",Os=Sr+"Invalid argument: ",Qb=Sr+"Exponent out of range: ",xl=Math.floor,cs=Math.pow,dF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,er,sn=1e7,gt=7,Gk=9007199254740991,nh=xl(Gk/gt),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(e){return ka(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,n=t.constructor;return ut(ka(t,new n(e),0,1),n.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return Ft(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(er))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(er)?new r(0):(bt=!1,t=ka(ru(n,o),ru(e,o),o),bt=!0,ut(t,i))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Wk(t,e):Yk(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Sr+"NaN");return n.s?(bt=!1,t=ka(n,e,0,1).times(e),bt=!0,n.minus(t)):ut(new r(n),i)};ge.naturalExponential=ge.exp=function(){return Vk(this)};ge.naturalLogarithm=ge.ln=function(){return ru(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yk(t,e):Wk(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Os+e);if(t=Ft(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ge.squareRoot=ge.sqrt=function(){var e,t,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Sr+"NaN")}for(e=Ft(u),bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Jr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(ka(u,o,l+2)).times(.5),Jr(o.d).slice(0,l)===(t=Jr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(ut(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return bt=!0,ut(r,n)};ge.times=ge.mul=function(e){var t,n,r,i,o,l,u,d,f,p=this,g=p.constructor,v=p.d,x=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,d=v.length,f=x.length,d<f&&(o=v,v=x,x=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+x[r]*v[i-r-1]+t,o[i--]=u%sn|0,t=u/sn|0;o[i]=(o[i]+t)%sn|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,bt?ut(e,g.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ta(e,0,bl),t===void 0?t=r.rounding:ta(t,0,8),ut(n,e+Ft(n)+1,t))};ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ks(r,!0):(ta(e,0,bl),t===void 0?t=i.rounding:ta(t,0,8),r=ut(new i(r),e+1,t),n=ks(r,!0,e+1)),n};ge.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ks(i):(ta(e,0,bl),t===void 0?t=o.rounding:ta(t,0,8),r=ut(new o(i),e+Ft(i)+1,t),n=ks(r.abs(),!1,e+Ft(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return ut(new t(e),Ft(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,n,r,i,o,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(er);if(u=new d(u),!u.s){if(e.s<1)throw Error(Sr+"Infinity");return u}if(u.eq(er))return u;if(r=d.precision,e.eq(er))return ut(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=p<0?-p:p)<=Gk){for(i=new d(er),t=Math.ceil(r/gt+4),bt=!1;n%2&&(i=i.times(u),T2(i.d,t)),n=xl(n/2),n!==0;)u=u.times(u),T2(u.d,t);return bt=!0,e.s<0?new d(er).div(i):ut(i,r)}}else if(o<0)throw Error(Sr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,bt=!1,i=e.times(ru(u,r+f)),bt=!0,i=Vk(i),i.s=o,i};ge.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Ft(i),r=ks(i,n<=o.toExpNeg||n>=o.toExpPos)):(ta(e,1,bl),t===void 0?t=o.rounding:ta(t,0,8),i=ut(new o(i),e,t),n=Ft(i),r=ks(i,e<=n||n<=o.toExpNeg,e)),r};ge.toSignificantDigits=ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ta(e,1,bl),t===void 0?t=r.rounding:ta(t,0,8)),ut(new r(n),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ft(e),n=e.constructor;return ks(e,t<=n.toExpNeg||t>=n.toExpPos)};function Yk(e,t){var n,r,i,o,l,u,d,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),bt?ut(t,g):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(g/gt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/sn|0,d[o]%=sn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,bt?ut(t,g):t}function ta(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Os+e)}function Jr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=gt-r.length,n&&(o+=xi(n)),o+=r;l=e[t],r=l+"",n=gt-r.length,n&&(o+=xi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var ka=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%sn|0,l=o/sn|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*sn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,p,g,v,x,w,S,j,E,N,A,k,P,M,R,z,H=r.constructor,$=r.s==i.s?1:-1,K=r.d,F=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Sr+"Division by zero");for(d=r.e-i.e,R=F.length,P=K.length,x=new H($),w=x.d=[],f=0;F[f]==(K[f]||0);)++f;if(F[f]>(K[f]||0)&&--d,o==null?N=o=H.precision:l?N=o+(Ft(r)-Ft(i))+1:N=o,N<0)return new H(0);if(N=N/gt+2|0,f=0,R==1)for(p=0,F=F[0],N++;(f<P||p)&&N--;f++)A=p*sn+(K[f]||0),w[f]=A/F|0,p=A%F|0;else{for(p=sn/(F[0]+1)|0,p>1&&(F=e(F,p),K=e(K,p),R=F.length,P=K.length),k=R,S=K.slice(0,R),j=S.length;j<R;)S[j++]=0;z=F.slice(),z.unshift(0),M=F[0],F[1]>=sn/2&&++M;do p=0,u=t(F,S,R,j),u<0?(E=S[0],R!=j&&(E=E*sn+(S[1]||0)),p=E/M|0,p>1?(p>=sn&&(p=sn-1),g=e(F,p),v=g.length,j=S.length,u=t(g,S,v,j),u==1&&(p--,n(g,R<v?z:F,v))):(p==0&&(u=p=1),g=F.slice()),v=g.length,v<j&&g.unshift(0),n(S,g,j),u==-1&&(j=S.length,u=t(F,S,R,j),u<1&&(p++,n(S,R<j?z:F,j))),j=S.length):u===0&&(p++,S=[0]),w[f++]=p,u&&S[0]?S[j++]=K[k]||0:(S=[K[k]],j=1);while((k++<P||S[0]!==void 0)&&N--)}return w[0]||w.shift(),x.e=d,ut(x,l?o+Ft(x)+1:o)}})();function Vk(e,t){var n,r,i,o,l,u,d=0,f=0,p=e.constructor,g=p.precision;if(Ft(e)>16)throw Error(Qb+Ft(e));if(!e.s)return new p(er);for(bt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(cs(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new p(er),p.precision=u;;){if(i=ut(i.times(e),u),n=n.times(++d),l=o.plus(ka(i,n,u)),Jr(l.d).slice(0,u)===Jr(o.d).slice(0,u)){for(;f--;)o=ut(o.times(o),u);return p.precision=g,t==null?(bt=!0,ut(o,g)):o}o=l}}function Ft(e){for(var t=e.e*gt,n=e.d[0];n>=10;n/=10)t++;return t}function Fv(e,t,n){if(t>e.LN10.sd())throw bt=!0,n&&(e.precision=n),Error(Sr+"LN10 precision limit exceeded");return ut(new e(e.LN10),t)}function xi(e){for(var t="";e--;)t+="0";return t}function ru(e,t){var n,r,i,o,l,u,d,f,p,g=1,v=10,x=e,w=x.d,S=x.constructor,j=S.precision;if(x.s<1)throw Error(Sr+(x.s?"NaN":"-Infinity"));if(x.eq(er))return new S(0);if(t==null?(bt=!1,f=j):f=t,x.eq(10))return t==null&&(bt=!0),Fv(S,f);if(f+=v,S.precision=f,n=Jr(w),r=n.charAt(0),o=Ft(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=Jr(x.d),r=n.charAt(0),g++;o=Ft(x),r>1?(x=new S("0."+n),o++):x=new S(r+"."+n.slice(1))}else return d=Fv(S,f+2,j).times(o+""),x=ru(new S(r+"."+n.slice(1)),f-v).plus(d),S.precision=j,t==null?(bt=!0,ut(x,j)):x;for(u=l=x=ka(x.minus(er),x.plus(er),f),p=ut(x.times(x),f),i=3;;){if(l=ut(l.times(p),f),d=u.plus(ka(l,new S(i),f)),Jr(d.d).slice(0,f)===Jr(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Fv(S,f+2,j).times(o+""))),u=ka(u,new S(g),f),S.precision=j,t==null?(bt=!0,ut(u,j)):u;u=d,i+=2}}function C2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xl(n/gt),e.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=gt;r<i;)e.d.push(+t.slice(r,r+=gt));t=t.slice(r),r=gt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),bt&&(e.e>nh||e.e<-nh))throw Error(Qb+n)}else e.s=0,e.e=0,e.d=[0];return e}function ut(e,t,n){var r,i,o,l,u,d,f,p,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=gt,i=t,f=g[p=0];else{if(p=Math.ceil((r+1)/gt),o=g.length,p>=o)return e;for(f=o=g[p],l=1;o>=10;o/=10)l++;r%=gt,i=r-gt+l}if(n!==void 0&&(o=cs(10,l-i-1),u=f/o%10|0,d=t<0||g[p+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/cs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(o=Ft(e),g.length=1,t=t-o-1,g[0]=cs(10,(gt-t%gt)%gt),e.e=xl(-t/gt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=cs(10,gt-r),g[p]=i>0?(f/cs(10,l-i)%cs(10,i)|0)*o:0),d)for(;;)if(p==0){(g[0]+=o)==sn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=sn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(bt&&(e.e>nh||e.e<-nh))throw Error(Qb+Ft(e));return e}function Wk(e,t){var n,r,i,o,l,u,d,f,p,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),bt?ut(t,x):t;if(d=e.d,g=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=f,u=d.length),i=Math.max(Math.ceil(x/gt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(o=i;o&&d[--o]===0;)d[o]=sn-1;--d[o],d[i]+=sn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,bt?ut(t,x):t):new v(0)}function ks(e,t,n){var r,i=Ft(e),o=Jr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+xi(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+xi(-i-1)+o,n&&(r=n-l)>0&&(o+=xi(r))):i>=l?(o+=xi(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+xi(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=xi(r))),e.s<0?"-"+o:o}function T2(e,t){if(e.length>t)return e.length=t,!0}function Xk(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Os+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return C2(l,o.toString())}else if(typeof o!="string")throw Error(Os+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,dF.test(o))C2(l,o);else throw Error(Os+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xk,i.config=i.set=fF,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function fF(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,n,r,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Os+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Os+n+": "+r);return this}var Jb=Xk(uF);er=new Jb(1);const rt=Jb;var hF=e=>e,Qk={},Jk=e=>e===Qk,k2=e=>function t(){return arguments.length===0||arguments.length===1&&Jk(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Zk=(e,t)=>e===1?t:k2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==Qk).length;return o>=e?t(...r):Zk(e-o,k2(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(p=>Jk(p)?u.shift():p);return t(...f,...u)}))}),Bh=e=>Zk(e.length,e),f0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},mF=Bh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),pF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return hF;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),o(...arguments))}},h0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eP=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function tP(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function nP(e,t,n){for(var r=new rt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Bh((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Bh((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Bh((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var rP=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},aP=(e,t,n)=>{if(e.lte(0))return new rt(0);var r=tP(e.toNumber()),i=new rt(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new rt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new rt(d.toNumber()):new rt(Math.ceil(d.toNumber()))},gF=(e,t,n)=>{var r=new rt(1),i=new rt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new rt(10).pow(tP(e)-1),i=new rt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new rt(Math.floor(e)))}else e===0?i=new rt(Math.floor((t-1)/2)):n||(i=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),u=pF(mF(d=>i.add(new rt(d-l).mul(r)).toNumber()),f0);return u(0,t)},iP=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var l=aP(new rt(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new rt(0):(u=new rt(t).add(n).div(2),u=u.sub(new rt(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new rt(n).sub(u).div(l).toNumber()),p=d+f+1;return p>r?iP(t,n,r,i,o+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new rt(d).mul(l)),tickMax:u.add(new rt(f).mul(l))})};function vF(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,u]=rP([t,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...f0(0,r-1).map(()=>1/0)]:[...f0(0,r-1).map(()=>-1/0),u];return t>n?h0(d):d}if(l===u)return gF(l,r,i);var{step:f,tickMin:p,tickMax:g}=iP(l,u,o,i,0),v=nP(p,g.add(new rt(.1).mul(f)),f);return t>n?h0(v):v}function yF(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=rP([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var u=Math.max(t,2),d=aP(new rt(l).sub(o).div(u-1),i,0),f=[...nP(new rt(o),new rt(l),d),l];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?h0(f):f}var bF=eP(vF),xF=eP(yF),sP=e=>e.rootProps.maxBarSize,_F=e=>e.rootProps.barGap,oP=e=>e.rootProps.barCategoryGap,wF=e=>e.rootProps.barSize,xu=e=>e.rootProps.stackOffset,Zb=e=>e.options.chartName,ex=e=>e.rootProps.syncId,lP=e=>e.rootProps.syncMethod,tx=e=>e.options.eventEmitter,Oa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},SF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oa.angleAxisId,includeHidden:!1,name:void 0,reversed:Oa.reversed,scale:Oa.scale,tick:Oa.tick,tickCount:void 0,ticks:void 0,type:Oa.type,unit:void 0},jF={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,ticks:void 0,type:Zn.type,unit:void 0},OF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oa.scale,tick:Oa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},EF={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,ticks:void 0,type:"category",unit:void 0},nx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?OF:SF,rx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?EF:jF,Kh=e=>e.polarOptions,ax=Z([za,Ua,Qt],KT),cP=Z([Kh,ax],(e,t)=>{if(e!=null)return Sn(e.innerRadius,t,0)}),uP=Z([Kh,ax],(e,t)=>{if(e!=null)return Sn(e.outerRadius,t,t*.8)}),AF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},dP=Z([Kh],AF);Z([nx,dP],Hh);var fP=Z([ax,cP,uP],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Z([rx,fP],Hh);var hP=Z([Xe,Kh,cP,uP,za,Ua],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Sn(l,i,i/2),cy:Sn(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),_t=(e,t)=>t,_u=(e,t,n)=>n;function ix(e){return e==null?void 0:e.id}var Zt=e=>{var t=Xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_l=e=>e.tooltip.settings.axisId,un=e=>{var t=Zt(e),n=_l(e);return wu(e,t,n)},mP=Z([un],e=>e==null?void 0:e.dataKey);function pP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=ix(u);f.forEach((g,v)=>{var x=o==null||i?v:String(jt(g,o,null)),w=jt(g,u.dataKey,0),S;l.has(x)?S=l.get(x):S={},Object.assign(S,{[p]:w}),l.set(x,S)})}}),Array.from(l.values())}function Fh(e){return e.stackId!=null&&e.dataKey!=null}function P2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(n),!0).forEach(function(r){NF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NF(e,t,n){return(t=CF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CF(e){var t=TF(e,"string");return typeof t=="symbol"?t:t+""}function TF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m0=[0,"auto"],Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gP=(e,t)=>e.cartesianAxis.xAxis[t],qa=(e,t)=>{var n=gP(e,t);return n??Qn},Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:m0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:pu},vP=(e,t)=>e.cartesianAxis.yAxis[t],Ba=(e,t)=>{var n=vP(e,t);return n??Jn},kF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??kF},Dt=(e,t,n)=>{switch(t){case"xAxis":return qa(e,n);case"yAxis":return Ba(e,n);case"zAxis":return sx(e,n);case"angleAxis":return nx(e,n);case"radiusAxis":return rx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PF=(e,t,n)=>{switch(t){case"xAxis":return qa(e,n);case"yAxis":return Ba(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wu=(e,t,n)=>{switch(t){case"xAxis":return qa(e,n);case"yAxis":return Ba(e,n);case"angleAxis":return nx(e,n);case"radiusAxis":return rx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ox(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var lx=e=>e.graphicalItems.cartesianItems,MF=Z([_t,_u],ox),cx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Su=Z([lx,Dt,MF],cx),bP=Z([Su],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fh)),xP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_P=Z([Su],xP),ux=e=>e.map(t=>t.data).filter(Boolean).flat(1),RF=Z([Su],ux),dx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},fx=Z([RF,Xb],dx),hx=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:jt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:jt(i,r)}))):e.map(r=>({value:r})),Gh=Z([fx,Dt,Su],hx);function wP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $s(e){return e.filter(t=>ea(t)||t instanceof Date).map(Number).filter(t=>nr(t)===!1)}function DF(e,t,n){return!n||typeof t!="number"||nr(t)?[]:n.length?$s(n.flatMap(r=>{var i=jt(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!ar(o)||!ar(l)))return[t-o,t+l]})):[]}var IF=Z([bP,Xb,un],pP),SP=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=u.map(ix);return[l,{stackedData:$B(e,d,n),graphicalItems:u}]}))},p0=Z([IF,bP,xu],SP),jP=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=FB(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},LF=Z([p0,Ri,_t],jP),OP=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(g=>wP(i,g)),p=jt(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:p,errorDomain:DF(o,p,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:jt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),Yh=e=>e.errorBars,EP=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>wP(n,r));Z([_P,Yh,_t],EP);var zF=Z([fx,Dt,_P,Yh,_t],OP);function UF(e){var{value:t}=e;if(ea(t)||t instanceof Date)return t}var M2=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=$s(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$F=(e,t,n)=>{var r=e.map(UF).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&UC(r))?dk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},mx=e=>{var t;if(e==null||!("domain"in e))return m0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=$s(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:m0},ah=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},AP=e=>e.referenceElements.dots,wl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qF=Z([AP,_t,_u],wl),NP=e=>e.referenceElements.areas,BF=Z([NP,_t,_u],wl),CP=e=>e.referenceElements.lines,HF=Z([CP,_t,_u],wl),TP=(e,t)=>{var n=$s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},KF=Z(qF,_t,TP),kP=(e,t)=>{var n=$s(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},FF=Z([BF,_t],kP),PP=(e,t)=>{var n=$s(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GF=Z(HF,_t,PP),YF=Z(KF,GF,FF,(e,t,n)=>ah(e,n,t)),MP=Z([Dt],mx),px=(e,t,n,r,i,o,l)=>{var u=lF(t,e.allowDataOverflow);if(u!=null)return u;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=d?ah(n,i,M2(r)):ah(i,M2(r));return cF(t,f,e.allowDataOverflow)},VF=Z([Dt,MP,LF,zF,YF,Xe,_t],px),WF=[0,1],gx=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Is(t,o);return f&&u==null?dk(0,n.length):d==="category"?$F(r,e,f):i==="expand"?WF:l}},vx=Z([Dt,Xe,fx,Gh,xu,_t,VF],gx),RP=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(du(o));return u in Rc?u:"point"}}},Sl=Z([Dt,Xe,yP,Zb,_t],RP);function XF(e){if(e!=null){if(e in Rc)return Rc[e]();var t="scale".concat(du(e));if(t in Rc)return Rc[t]()}}function yx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=XF(t);if(i!=null){var o=i.domain(n).range(r);return DB(o),o}}}var bx=(e,t,n)=>{var r=mx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&cl(e))return bF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cl(e))return xF(e,t.tickCount,t.allowDecimals)}},xx=Z([vx,wu,Sl],bx),_x=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},QF=Z([Dt,vx,xx,_t],_x),JF=Z(Gh,Dt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from($s(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),DP=Z(JF,Xe,oP,Qt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!ar(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Sn(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),ZF=(e,t)=>{var n=qa(e,t);return n==null||typeof n.padding!="string"?0:DP(e,"xAxis",t,n.padding)},eG=(e,t)=>{var n=Ba(e,t);return n==null||typeof n.padding!="string"?0:DP(e,"yAxis",t,n.padding)},tG=Z(qa,ZF,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),nG=Z(Ba,eG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),rG=Z([Qt,tG,Mh,Ph,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),aG=Z([Qt,Xe,nG,Mh,Ph,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ju=(e,t,n,r)=>{var i;switch(t){case"xAxis":return rG(e,n,r);case"yAxis":return aG(e,n,r);case"zAxis":return(i=sx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return dP(e);case"radiusAxis":return fP(e,n);default:return}},IP=Z([Dt,ju],Hh),jl=Z([Dt,Sl,QF,IP],yx);Z([Su,Yh,_t],EP);function LP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Vh=(e,t)=>t,Wh=(e,t,n)=>n,iG=Z(Th,Vh,Wh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(LP)),sG=Z(kh,Vh,Wh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(LP)),zP=(e,t)=>({width:e.width,height:t.height}),oG=(e,t)=>{var n=typeof t.width=="number"?t.width:pu;return{width:n,height:e.height}},UP=Z(Qt,qa,zP),lG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},cG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},uG=Z(Ua,Qt,iG,Vh,Wh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=zP(t,u);l==null&&(l=lG(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),dG=Z(za,Qt,sG,Vh,Wh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=oG(t,u);l==null&&(l=cG(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),fG=(e,t)=>{var n=qa(e,t);if(n!=null)return uG(e,n.orientation,n.mirror)},hG=Z([Qt,qa,fG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),mG=(e,t)=>{var n=Ba(e,t);if(n!=null)return dG(e,n.orientation,n.mirror)},pG=Z([Qt,Ba,mG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),$P=Z(Qt,Ba,(e,t)=>{var n=typeof t.width=="number"?t.width:pu;return{width:n,height:e.height}}),R2=(e,t,n)=>{switch(t){case"xAxis":return UP(e,n).width;case"yAxis":return $P(e,n).height;default:return}},qP=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Is(e,r),d=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&UC(d))return d}},wx=Z([Xe,Gh,Dt,_t],qP),BP=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Is(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},Sx=Z([Xe,Gh,wu,_t],BP),D2=Z([Xe,PF,Sl,jl,wx,Sx,ju,xx,_t],(e,t,n,r,i,o,l,u,d)=>{if(t==null)return null;var f=Is(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),gG=(e,t,n,r,i,o,l,u,d)=>{if(!(t==null||r==null)){var f=Is(e,d),{type:p,ticks:g,tickCount:v}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&o!=null&&o.length>=2?on(o[0]-o[1])*2*w:w;var S=g||i;if(S){var j=S.map((E,N)=>{var A=l?l.indexOf(E):E;return{index:N,coordinate:r(A)+w,value:E,offset:w}});return j.filter(E=>!nr(E.coordinate))}return f&&u?u.map((E,N)=>({coordinate:r(E)+w,value:E,index:N,offset:w})):r.ticks?r.ticks(v).map(E=>({coordinate:r(E)+w,value:E,offset:w})):r.domain().map((E,N)=>({coordinate:r(E)+w,value:l?l[E]:E,index:N,offset:w}))}},HP=Z([Xe,wu,Sl,jl,xx,ju,wx,Sx,_t],gG),vG=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Is(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?on(r[0]-r[1])*2*f:f,u&&o?o.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:i?i[p]:p,index:g,offset:f}))}},ul=Z([Xe,wu,jl,ju,wx,Sx,_t],vG),dl=Z(Dt,jl,(e,t)=>{if(!(e==null||t==null))return rh(rh({},e),{},{scale:t})}),yG=Z([Dt,Sl,vx,IP],yx);Z((e,t,n)=>sx(e,n),yG,(e,t)=>{if(!(e==null||t==null))return rh(rh({},e),{},{scale:t})});var bG=Z([Xe,Th,kh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KP=e=>e.options.defaultTooltipEventType,FP=e=>e.options.validateTooltipEventTypes;function GP(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function jx(e,t){var n=KP(e),r=FP(e);return GP(t,n,r)}function xG(e){return _e(t=>jx(t,e))}var YP=(e,t)=>{var n,r=Number(t);if(!(nr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},_G=e=>e.tooltip.settings,Si={active:!1,index:null,dataKey:void 0,coordinate:void 0},wG={itemInteraction:{click:Si,hover:Si},axisInteraction:{click:Si,hover:Si},keyboardInteraction:Si,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VP=ir({name:"tooltip",initialState:wG,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ta(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:SG,removeTooltipEntrySettings:jG,setTooltipSettingsState:OG,setActiveMouseOverItemIndex:WP,mouseLeaveItem:EG,mouseLeaveChart:XP,setActiveClickItemIndex:AG,setMouseOverAxisIndex:QP,setMouseClickAxisIndex:NG,setSyncInteraction:g0,setKeyboardInteraction:v0}=VP.actions,CG=VP.reducer;function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){TG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TG(e,t,n){return(t=kG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function RG(e){return e.index!=null}var JP=(e,t,n,r)=>{if(t==null)return Si;var i=MG(e,t,n);if(i==null)return Si;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(RG(i)){if(o)return cf(cf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return cf(cf({},Si),{},{coordinate:i.coordinate})},Ox=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!ar(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},ZP=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,o);if(f!=null)return f;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},eM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Ou=e=>e.options.tooltipPayloadSearcher,Ol=e=>e.tooltip;function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(r){DG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DG(e,t,n){return(t=IG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IG(e){var t=LG(e,"string");return typeof t=="symbol"?t:t+""}function LG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zG(e,t){return e??t}var tM=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,g=[];return e.reduce((v,x)=>{var w,{dataDefinedOnItem:S,settings:j}=x,E=zG(S,u),N=Array.isArray(E)?FT(E,f,p):E,A=(w=j==null?void 0:j.dataKey)!==null&&w!==void 0?w:r,k=j==null?void 0:j.nameKey,P;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?P=j$(N,r,i):P=o(N,t,d,k),Array.isArray(P))P.forEach(R=>{var z=z2(z2({},j),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(xE({tooltipEntrySettings:z,dataKey:R.dataKey,payload:R.payload,value:jt(R.payload,R.dataKey),name:R.name}))});else{var M;v.push(xE({tooltipEntrySettings:j,dataKey:A,payload:P,value:jt(P,A),name:(M=jt(P,k))!==null&&M!==void 0?M:j==null?void 0:j.name}))}return v},g)}},Ex=Z([un,Xe,yP,Zb,Zt],RP),UG=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$G=Z([Zt,_l],ox),Eu=Z([UG,un,$G],cx),qG=Z([Eu],e=>e.filter(Fh)),BG=Z([Eu],ux),El=Z([BG,Ri],dx),HG=Z([qG,Ri,un],pP),Ax=Z([El,un,Eu],hx),KG=Z([un],mx),FG=Z([Eu],e=>e.filter(Fh)),GG=Z([HG,FG,xu],SP),YG=Z([GG,Ri,Zt],jP),VG=Z([Eu],xP),WG=Z([El,un,VG,Yh,Zt],OP),XG=Z([AP,Zt,_l],wl),QG=Z([XG,Zt],TP),JG=Z([NP,Zt,_l],wl),ZG=Z([JG,Zt],kP),eY=Z([CP,Zt,_l],wl),tY=Z([eY,Zt],PP),nY=Z([QG,tY,ZG],ah),rY=Z([un,KG,YG,WG,nY,Xe,Zt],px),nM=Z([un,Xe,El,Ax,xu,Zt,rY],gx),aY=Z([nM,un,Ex],bx),iY=Z([un,nM,aY,Zt],_x),rM=e=>{var t=Zt(e),n=_l(e),r=!1;return ju(e,t,n,r)},aM=Z([un,rM],Hh),iM=Z([un,Ex,iY,aM],yx),sY=Z([Xe,Ax,un,Zt],qP),oY=Z([Xe,Ax,un,Zt],BP),lY=(e,t,n,r,i,o,l,u)=>{if(t){var{type:d}=t,f=Is(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?on(i[0]-i[1])*2*g:g,f&&l?l.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:o?o[v]:v,index:x,offset:g}))}}},Ha=Z([Xe,un,Ex,iM,rM,sY,oY,Zt],lY),Nx=Z([KP,FP,_G],(e,t,n)=>GP(n.shared,e,t)),sM=e=>e.tooltip.settings.trigger,Cx=e=>e.tooltip.settings.defaultIndex,Xh=Z([Ol,Nx,sM,Cx],JP),Ps=Z([Xh,El],Ox),oM=Z([Ha,Ps],YP),lM=Z([Xh],e=>{if(e)return e.dataKey}),cM=Z([Ol,Nx,sM,Cx],eM),cY=Z([za,Ua,Xe,Qt,Ha,Cx,cM,Ou],ZP),uY=Z([Xh,cY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dY=Z([Xh],e=>e.active),fY=Z([cM,Ps,Ri,mP,oM,Ou,Nx],tM);Z([fY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(r){hY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gY=()=>_e(un),vY=()=>{var e=gY(),t=_e(Ha),n=_e(iM);return bb($2($2({},e),{},{scale:n}),t)},yY=()=>_e(Zb),Tx=(e,t)=>t,uM=(e,t,n)=>n,kx=(e,t,n,r)=>r,bY=Z(Ha,e=>Sh(e,t=>t.coordinate)),Px=Z([Ol,Tx,uM,kx],JP),dM=Z([Px,El],Ox),xY=(e,t,n)=>{if(t!=null){var r=Ol(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},fM=Z([Ol,Tx,uM,kx],eM),ih=Z([za,Ua,Xe,Qt,Ha,kx,fM,Ou],ZP),_Y=Z([Px,ih],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),hM=Z(Ha,dM,YP),wY=Z([fM,dM,Ri,mP,hM,Ou,Tx],tM),SY=Z([Px],e=>({isActive:e.active,activeIndex:e.index})),jY=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o)){var d=GB(e.chartX,e.chartY,t,n,u);if(d){var f=VB(d,t),p=MB(f,l,o,r,i),g=YB(t,o,p,d);return{activeIndex:String(p),activeCoordinate:g}}}};function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(r){OY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OY(e,t,n){return(t=EY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NY(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=t,g=n,v=r;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,w;if(f==="ScatterChart")x=p,w=V7;else if(f==="BarChart")x=W7(l,p,i,o),w=ok;else if(l==="radial"){var{cx:S,cy:j,radius:E,startAngle:N,endAngle:A}=lk(p);x={cx:S,cy:j,startAngle:N,endAngle:A,innerRadius:E,outerRadius:E},w=uk}else x={points:N9(l,p,i)},w=nk;var k=typeof u=="object"&&"className"in u?u.className:void 0,P=uf(uf(uf(uf({stroke:"#ccc",pointerEvents:"none"},i),x),Xt(u,!1)),{},{payload:g,payloadIndex:v,className:at("recharts-tooltip-cursor",k)});return _.isValidElement(u)?_.cloneElement(u,P):_.createElement(w,P)}function CY(e){var t=vY(),n=QT(),r=jb(),i=yY();return _.createElement(NY,y0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var mM=_.createContext(null),TY=()=>_.useContext(mM),Gv={exports:{}},B2;function kY(){return B2||(B2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,v),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)t.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,w=new Array(x);v<x;v++)w[v]=g[v].fn;return w},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,v,x,w){var S=n?n+f:f;if(!this._events[S])return!1;var j=this._events[S],E=arguments.length,N,A;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),E){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,v),!0;case 5:return j.fn.call(j.context,p,g,v,x),!0;case 6:return j.fn.call(j.context,p,g,v,x,w),!0}for(A=1,N=new Array(E-1);A<E;A++)N[A-1]=arguments[A];j.fn.apply(j.context,N)}else{var k=j.length,P;for(A=0;A<k;A++)switch(j[A].once&&this.removeListener(f,j[A].fn,void 0,!0),E){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,p);break;case 3:j[A].fn.call(j[A].context,p,g);break;case 4:j[A].fn.call(j[A].context,p,g,v);break;default:if(!N)for(P=1,N=new Array(E-1);P<E;P++)N[P-1]=arguments[P];j[A].fn.apply(j[A].context,N)}}return!0},u.prototype.on=function(f,p,g){return o(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return o(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,v){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&l(this,x);else{for(var S=0,j=[],E=w.length;S<E;S++)(w[S].fn!==p||v&&!w[S].once||g&&w[S].context!==g)&&j.push(w[S]);j.length?this._events[x]=j.length===1?j[0]:j:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Gv)),Gv.exports}var PY=kY();const MY=qr(PY);var au=new MY,b0="recharts.syncEvent.tooltip",H2="recharts.syncEvent.brush";function pM(e,t){if(t){var n=Number.parseInt(t,10);if(!nr(n))return e==null?void 0:e[n]}}var RY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gM=ir({name:"options",initialState:RY,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),DY=gM.reducer,{createEventEmitter:IY}=gM.actions;function LY(e){return e.tooltip.syncInteraction}var zY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vM=ir({name:"chartData",initialState:zY,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:K2,setDataStartEndIndexes:UY,setComputedData:Jte}=vM.actions,$Y=vM.reducer,qY=["x","y"];function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){BY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BY(e,t,n){return(t=HY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FY(e,t){if(e==null)return{};var n,r,i=GY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yM=()=>{};function YY(){var e=_e(ex),t=_e(tx),n=Ot(),r=_e(lP),i=_e(Ha),o=jb(),l=_b(),u=_e(d=>d.rootProps.className);_.useEffect(()=>{if(e==null)return yM;var d=(f,p,g)=>{if(t!==g&&e===f){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var x=p.payload.coordinate,{x:w,y:S}=x,j=FY(x,qY),E=as(as(as({},j),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),N=as(as({},p),{},{payload:as(as({},p.payload),{},{coordinate:E})});n(N)}else n(p);return}if(i!=null){var A;if(typeof r=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},P=r(i,k);A=i[P]}else r==="value"&&(A=i.find(ae=>String(ae.value)===p.payload.label));var{coordinate:M}=p.payload;if(A==null||p.payload.active===!1||M==null||l==null){n(g0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:z}=M,H=Math.min(R,l.x+l.width),$=Math.min(z,l.y+l.height),K={x:o==="horizontal"?A.coordinate:H,y:o==="horizontal"?$:A.coordinate},F=g0({active:p.payload.active,coordinate:K,dataKey:p.payload.dataKey,index:String(A.index),label:p.payload.label});n(F)}}};return au.on(b0,d),()=>{au.off(b0,d)}},[u,n,t,e,r,i,o,l])}function VY(){var e=_e(ex),t=_e(tx),n=Ot();_.useEffect(()=>{if(e==null)return yM;var r=(i,o,l)=>{t!==l&&e===i&&n(UY(o))};return au.on(H2,r),()=>{au.off(H2,r)}},[n,t,e])}function WY(){var e=Ot();_.useEffect(()=>{e(IY())},[e]),YY(),VY()}function XY(e,t,n,r,i,o){var l=_e(v=>xY(v,e,t)),u=_e(tx),d=_e(ex),f=_e(lP),p=_e(LY),g=p==null?void 0:p.active;_.useEffect(()=>{if(!g&&d!=null&&u!=null){var v=g0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});au.emit(b0,d,v,u)}},[g,n,l,i,r,u,d,f,o])}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return(t=JY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eV(e){return e.dataKey}function tV(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(E7,t)}var V2=[],nV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ls.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function W2(e){var t=Cn(e,nV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:x,wrapperStyle:w,cursor:S,shared:j,trigger:E,defaultIndex:N,portal:A,axisId:k}=t,P=Ot(),M=typeof N=="number"?String(N):N;_.useEffect(()=>{P(OG({shared:j,trigger:E,axisId:k,active:n,defaultIndex:M}))},[P,j,E,k,n,M]);var R=_b(),z=tk(),H=xG(j),{activeIndex:$,isActive:K}=_e(J=>SY(J,H,E,M)),F=_e(J=>wY(J,H,E,M)),ae=_e(J=>hM(J,H,E,M)),q=_e(J=>_Y(J,H,E,M)),ne=F,L=TY(),Q=n??K,[oe,me]=bT([ne,Q]),ie=H==="axis"?ae:void 0;XY(H,E,q,ie,$,Q);var C=A??L;if(C==null)return null;var D=ne??V2;Q||(D=V2),u&&D.length&&(D=mT(ne.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),p,eV));var V=D.length>0,W=_.createElement(M7,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:d,active:Q,coordinate:q,hasPayload:V,offset:f,position:g,reverseDirection:v,useTranslate3d:x,viewBox:R,wrapperStyle:w,lastBoundingBox:oe,innerRef:me,hasPortalFromProps:!!A},tV(l,Y2(Y2({},t),{},{payload:D,label:ie,active:Q,coordinate:q,accessibilityLayer:z})));return _.createElement(_.Fragment,null,yN.createPortal(W,C),Q&&_.createElement(CY,{cursor:S,tooltipEventType:H,coordinate:q,payload:ne,index:$}))}var Yv={},Vv={},Wv={},X2;function rV(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{f&&p(),S()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{w(),l=void 0,u=null},j=()=>{p()},E=function(...N){if(i!=null&&i.aborted)return;l=this,u=N;const A=v==null;x(),d&&A&&p()};return E.schedule=x,E.cancel=S,E.flush=j,i==null||i.addEventListener("abort",S,{once:!0}),E}e.debounce=t})(Wv)),Wv}var Q2;function aV(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rV();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,g=null;const v=t.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:f}),x=function(...S){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,S),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,S),p)},w=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=w,x}e.debounce=n})(Vv)),Vv}var J2;function iV(){return J2||(J2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aV();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Yv)),Yv}var Xv,Z2;function sV(){return Z2||(Z2=1,Xv=iV().throttle),Xv}var oV=sV();const lV=qr(oV);var qc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tA=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:p=0,id:g,className:v,onResize:x,style:w={}}=e,S=_.useRef(null),j=_.useRef();j.current=x,_.useImperativeHandle(t,()=>S.current);var[E,N]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((P,M)=>{N(R=>{var z=Math.round(P),H=Math.round(M);return R.containerWidth===z&&R.containerHeight===H?R:{containerWidth:z,containerHeight:H}})},[]);_.useEffect(()=>{var P=H=>{var $,{width:K,height:F}=H[0].contentRect;A(K,F),($=j.current)===null||$===void 0||$.call(j,K,F)};p>0&&(P=lV(P,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(P),{width:R,height:z}=S.current.getBoundingClientRect();return A(R,z),M.observe(S.current),()=>{M.disconnect()}},[A,p]);var k=_.useMemo(()=>{var{containerWidth:P,containerHeight:M}=E;if(P<0||M<0)return null;qc(vs(i)||vs(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),qc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=vs(i)?P:i,z=vs(o)?M:o;return n&&n>0&&(R?z=R/n:z&&(R=z*n),d&&z>d&&(z=d)),qc(R>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,z,i,o,l,u,n),_.Children.map(f,H=>_.cloneElement(H,{width:R,height:z,style:Qv({width:R,height:z},H.props.style)}))},[n,f,o,d,u,l,E,i]);return _.createElement("div",{id:g?"".concat(g):void 0,className:at("recharts-responsive-container",v),style:Qv(Qv({},w),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:S},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),Au=e=>null;Au.displayName="Cell";function fV(e,t,n){return(t=hV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pV{constructor(t){fV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){vV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vV(e,t,n){return(t=yV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xV={cacheSize:2e3,enableCache:!0},bM=gV({},xV),rA=new pV(bM.cacheSize),_V={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aA="recharts_measurement_span";function wV(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var iA=(e,t)=>{try{var n=document.getElementById(aA);n||(n=document.createElement("span"),n.setAttribute("id",aA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,_V,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Bc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ls.isSsr)return{width:0,height:0};if(!bM.enableCache)return iA(t,n);var r=wV(t,n),i=rA.get(r);if(i)return i;var o=iA(t,n);return rA.set(r,o),o},sA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OV=Object.keys(xM),Xo="NaN";function EV(e,t){return e*xM[t]}class Un{static parse(t){var n,[,r,i]=(n=jV.exec(t))!==null&&n!==void 0?n:[];return new Un(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,nr(t)&&(this.unit=""),n!==""&&!SV.test(n)&&(this.num=NaN,this.unit=""),OV.includes(n)&&(this.num=EV(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Un(NaN,""):new Un(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Un(NaN,""):new Un(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Un(NaN,""):new Un(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Un(NaN,""):new Un(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return nr(this.num)}}function _M(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=sA.exec(t))!==null&&n!==void 0?n:[],l=Un.parse(r??""),u=Un.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Xo;t=t.replace(sA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,g,v]=(f=oA.exec(t))!==null&&f!==void 0?f:[],x=Un.parse(p??""),w=Un.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return Xo;t=t.replace(oA,S.toString())}return t}var lA=/\(([^()]*)\)/;function AV(e){for(var t=e,n;(n=lA.exec(t))!=null;){var[,r]=n;t=t.replace(lA,_M(r))}return t}function NV(e){var t=e.replace(/\s+/g,"");return t=AV(t),t=_M(t),t}function CV(e){try{return NV(e)}catch{return Xo}}function Jv(e){var t=CV(e.slice(5,-1));return t===Xo?"":t}var TV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],kV=["dx","dy","angle","className","breakAll"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(null,arguments)}function cA(e,t){if(e==null)return{};var n,r,i=PV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wM=/[ \f\n\r\t\v\u2028\u2029]+/,SM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ln(t)||(n?i=t.toString().split(""):i=t.toString().split(wM));var o=i.map(u=>({word:u,width:Bc(u,r).width})),l=n?0:Bc(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},MV=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=e,f=Se(o),p=l,g=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce((F,ae)=>{var{word:q,width:ne}=ae,L=F[F.length-1];if(L&&(r==null||i||L.width+ne+n<Number(r)))L.words.push(q),L.width+=ne+n;else{var Q={words:[q],width:ne};F.push(Q)}return F},[])},v=g(t),x=$=>$.reduce((K,F)=>K.width>F.width?K:F);if(!f||i)return v;var w=v.length>o||x(v).width>Number(r);if(!w)return v;for(var S="…",j=$=>{var K=p.slice(0,$),F=SM({breakAll:d,style:u,children:K+S}).wordsWithComputedWidth,ae=g(F),q=ae.length>o||x(ae).width>Number(r);return[q,ae]},E=0,N=p.length-1,A=0,k;E<=N&&A<=p.length-1;){var P=Math.floor((E+N)/2),M=P-1,[R,z]=j(M),[H]=j(P);if(!R&&!H&&(E=P+1),R&&H&&(N=P-1),!R&&H){k=z;break}A++}return k||v},uA=e=>{var t=ln(e)?[]:e.toString().split(wM);return[{words:t}]},RV=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Ls.isSsr){var u,d,f=SM({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;u=p,d=g}else return uA(r);return MV({breakAll:o,children:r,maxLines:l,style:i},u,d,t,n)}return uA(r)},dA="#808080",Qh=_.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:f=dA}=e,p=cA(e,TV),g=_.useMemo(()=>RV({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:x,angle:w,className:S,breakAll:j}=p,E=cA(p,kV);if(!ea(n)||!ea(r)||g.length===0)return null;var N=n+(Se(v)?v:0),A=r+(Se(x)?x:0),k;switch(d){case"start":k=Jv("calc(".concat(o,")"));break;case"middle":k=Jv("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:k=Jv("calc(".concat(g.length-1," * -").concat(i,")"));break}var P=[];if(l){var M=g[0].width,{width:R}=p;P.push("scale(".concat(Se(R)?R/M:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(N,", ").concat(A,")")),P.length&&(E.transform=P.join(" ")),_.createElement("text",x0({},Xt(E,!0),{ref:t,x:N,y:A,className:at("recharts-text",S),textAnchor:u,fill:f.includes("url")?dA:f}),g.map((z,H)=>{var $=z.words.join(j?"":" ");return _.createElement("tspan",{x:N,dy:H===0?k:i,key:"".concat($,"-").concat(H)},$)}))});Qh.displayName="Text";var DV=["labelRef"];function IV(e,t){if(e==null)return{};var n,r,i=LV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){zV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zV(e,t,n){return(t=UV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(null,arguments)}var jM=_.createContext(null),qV=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=_.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return _.createElement(jM.Provider,{value:l},o)},OM=()=>{var e=_.useContext(jM),t=_b();return e||t},BV=_.createContext(null),HV=()=>{var e=_.useContext(BV),t=_e(hP);return e||t},KV=e=>{var{value:t,formatter:n}=e,r=ln(e.children)?t:e.children;return typeof n=="function"?n(r):r},Mx=e=>e!=null&&typeof e=="function",FV=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),360);return n*r},GV=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=i,w=(f+p)/2,S=FV(g,v),j=S>=0?1:-1,E,N;switch(t){case"insideStart":E=g+j*o,N=x;break;case"insideEnd":E=v-j*o,N=!x;break;case"end":E=v+j*o,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=S<=0?N:!N;var A=Kt(u,d,w,E),k=Kt(u,d,w,E+(N?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),M=ln(e.id)?Vc("recharts-radial-line-"):e.id;return _.createElement("text",Ea({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:M,d:P})),_.createElement("textPath",{xlinkHref:"#".concat(M)},n))},YV=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Kt(r,i,l+t,f);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x,y:w}=Kt(r,i,v,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},EM=e=>"cx"in e&&Se(e.cx),VV=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!EM(n)&&(o=n);var{x:l,y:u,width:d,height:f}=t,p=f>=0?1:-1,g=p*r,v=p>0?"end":"start",x=p>0?"start":"end",w=d>=0?1:-1,S=w*r,j=w>0?"end":"start",E=w>0?"start":"end";if(i==="top"){var N={x:l+d/2,y:u-p*r,textAnchor:"middle",verticalAnchor:v};return Rt(Rt({},N),o?{height:Math.max(u-o.y,0),width:d}:{})}if(i==="bottom"){var A={x:l+d/2,y:u+f+g,textAnchor:"middle",verticalAnchor:x};return Rt(Rt({},A),o?{height:Math.max(o.y+o.height-(u+f),0),width:d}:{})}if(i==="left"){var k={x:l-S,y:u+f/2,textAnchor:j,verticalAnchor:"middle"};return Rt(Rt({},k),o?{width:Math.max(k.x-o.x,0),height:f}:{})}if(i==="right"){var P={x:l+d+S,y:u+f/2,textAnchor:E,verticalAnchor:"middle"};return Rt(Rt({},P),o?{width:Math.max(o.x+o.width-P.x,0),height:f}:{})}var M=o?{width:d,height:f}:{};return i==="insideLeft"?Rt({x:l+S,y:u+f/2,textAnchor:E,verticalAnchor:"middle"},M):i==="insideRight"?Rt({x:l+d-S,y:u+f/2,textAnchor:j,verticalAnchor:"middle"},M):i==="insideTop"?Rt({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:x},M):i==="insideBottom"?Rt({x:l+d/2,y:u+f-g,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Rt({x:l+S,y:u+g,textAnchor:E,verticalAnchor:x},M):i==="insideTopRight"?Rt({x:l+d-S,y:u+g,textAnchor:j,verticalAnchor:x},M):i==="insideBottomLeft"?Rt({x:l+S,y:u+f-g,textAnchor:E,verticalAnchor:v},M):i==="insideBottomRight"?Rt({x:l+d-S,y:u+f-g,textAnchor:j,verticalAnchor:v},M):i&&typeof i=="object"&&(Se(i.x)||vs(i.x))&&(Se(i.y)||vs(i.y))?Rt({x:l+Sn(i.x,d),y:u+Sn(i.y,f),textAnchor:"end",verticalAnchor:"end"},M):Rt({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},WV={offset:5};function _i(e){var t=Cn(e,WV),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=HV(),g=OM(),v=r==="center"?g:p??g,x=n||v;if(!x||ln(i)&&ln(o)&&!_.isValidElement(l)&&typeof l!="function")return null;var w=Rt(Rt({},t),{},{viewBox:x});if(_.isValidElement(l)){var{labelRef:S}=w,j=IV(w,DV);return _.cloneElement(l,j)}var E;if(typeof l=="function"){if(E=_.createElement(l,w),_.isValidElement(E))return E}else E=KV(t);var N=EM(x),A=Xt(t,!0);if(N&&(r==="insideStart"||r==="insideEnd"||r==="end"))return GV(t,r,E,A,x);var k=N?YV(x,t.offset,t.position):VV(t,x);return _.createElement(Qh,Ea({ref:f,className:at("recharts-label",u)},A,k,{breakAll:d}),E)}_i.displayName="Label";var XV=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(_i,Ea({key:"label-implicit"},r)):ea(e)?_.createElement(_i,Ea({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===_i?_.cloneElement(e,Rt({key:"label-implicit"},r)):_.createElement(_i,Ea({key:"label-implicit",content:e},r)):Mx(e)?_.createElement(_i,Ea({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(_i,Ea({},e,{key:"label-implicit"},r)):null};function QV(e){var{label:t}=e,n=OM();return XV(t,n)||null}var Zv={},ey={},hA;function JV(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ey)),ey}var ty={},mA;function ZV(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(ty)),ty}var pA;function eW(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JV(),n=ZV(),r=db();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Zv)),Zv}var ny,gA;function tW(){return gA||(gA=1,ny=eW().last),ny}var nW=tW();const rW=qr(nW);var aW=["valueAccessor"],iW=["dataKey","clockWise","id","textBreakAll"];function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}function vA(e,t){if(e==null)return{};var n,r,i=sW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oW=e=>Array.isArray(e.value)?rW(e.value):e.value,AM=_.createContext(void 0),lW=AM.Provider,NM=_.createContext(void 0),cW=NM.Provider;function uW(){return _.useContext(AM)}function dW(){return _.useContext(NM)}function xf(e){var{valueAccessor:t=oW}=e,n=vA(e,aW),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,u=vA(n,iW),d=uW(),f=dW(),p=d||f;return!p||!p.length?null:_.createElement(Bn,{className:"recharts-label-list"},p.map((g,v)=>{var x,w=ln(r)?t(g,v):jt(g&&g.payload,r),S=ln(o)?{}:{id:"".concat(o,"-").concat(v)};return _.createElement(_i,sh({},Xt(g,!0),u,S,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}xf.displayName="LabelList";function CM(e){var{label:t}=e;return t?t===!0?_.createElement(xf,{key:"labelList-implicit"}):_.isValidElement(t)||Mx(t)?_.createElement(xf,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(xf,sh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var TM=e=>e.graphicalItems.polarItems,fW=Z([_t,_u],ox),Rx=Z([TM,Dt,fW],cx),hW=Z([Rx],ux),Dx=Z([hW,Wb],dx),mW=Z([Dx,Dt,Rx],hx),pW=Z([Dx,Dt,Rx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=jt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:jt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),yA=()=>{},gW=Z([Dt,MP,yA,pW,yA,Xe,_t],px),kM=Z([Dt,Xe,Dx,mW,xu,_t,gW],gx),vW=Z([kM,Dt,Sl],bx);Z([Dt,kM,vW,_t],_x);var yW={radiusAxis:{},angleAxis:{}},PM=ir({name:"polarAxis",initialState:yW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Zte,removeRadiusAxis:ene,addAngleAxis:tne,removeAngleAxis:nne}=PM.actions,bW=PM.reducer;function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){xW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xW(e,t,n){return(t=_W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SW=(e,t)=>t,Ix=Z([TM,SW],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),jW=[],Lx=(e,t,n)=>(n==null?void 0:n.length)===0?jW:n,MM=Z([Wb,Ix,Lx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>xA(xA({},t.presentationProps),o.props))),i!=null)return i}}),OW=Z([MM,Ix,Lx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=jt(r,t.nameKey,t.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Ch(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),EW=Z([MM,Ix,Lx,Qt],(e,t,n,r)=>{if(!(t==null||e==null))return OX({offset:r,pieSettings:t,displayedData:e,cells:n})}),ry={},_A;function AW(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(ry)),ry}var ay,wA;function NW(){return wA||(wA=1,ay=AW().isPlainObject),ay}var CW=NW();const TW=qr(CW);function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=PW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(null,arguments)}var OA=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},RW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DW=e=>{var t=Cn(e,RW),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=t,v=_.useRef(),[x,w]=_.useState(-1),S=_.useRef(i),j=_.useRef(o),E=_.useRef(l),N=_.useRef(n),A=_.useRef(r),k=Dh(e,"trapezoid-");if(_.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var q=v.current.getTotalLength();q&&w(q)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var P=at("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",oh({},Xt(t,!0),{className:P,d:OA(n,r,i,o,l)})));var M=S.current,R=j.current,z=E.current,H=N.current,$=A.current,K="0px ".concat(x===-1?1:x,"px"),F="".concat(x,"px 0px"),ae=rk(["strokeDasharray"],f,d);return _.createElement(Rh,{animationId:k,key:k,canBegin:x>0,duration:f,easing:d,isActive:g,begin:p},q=>{var ne=yn(M,i,q),L=yn(R,o,q),Q=yn(z,l,q),oe=yn(H,n,q),me=yn($,r,q);v.current&&(S.current=ne,j.current=L,E.current=Q,N.current=oe,A.current=me);var ie=q>0?{transition:ae,strokeDasharray:F}:{strokeDasharray:K};return _.createElement("path",oh({},Xt(t,!0),{className:P,d:OA(oe,me,ne,L,Q),ref:v,style:jA(jA({},ie),t.style)}))})},IW=["option","shapeType","propTransformer","activeClassName","isActive"];function LW(e,t){if(e==null)return{};var n,r,i=zW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){UW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BW(e,t){return lh(lh({},t),e)}function HW(e,t){return e==="symbols"}function AA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return _.createElement(ok,n);case"trapezoid":return _.createElement(DW,n);case"sector":return _.createElement(uk,n);case"symbols":if(HW(t))return _.createElement(lb,n);break;default:return null}}function KW(e){return _.isValidElement(e)?e.props:e}function RM(e){var{option:t,shapeType:n,propTransformer:r=BW,activeClassName:i="recharts-active-shape",isActive:o}=e,l=LW(e,IW),u;if(_.isValidElement(t))u=_.cloneElement(t,lh(lh({},l),KW(t)));else if(typeof t=="function")u=t(l);else if(TW(t)&&typeof t!="boolean"){var d=r(t,l);u=_.createElement(AA,{shapeType:n,elementProps:d})}else{var f=l;u=_.createElement(AA,{shapeType:n,elementProps:f})}return o?_.createElement(Bn,{className:i},u):u}var zx=(e,t)=>{var n=Ot();return(r,i)=>o=>{e==null||e(r,i,o),n(WP({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Ux=e=>{var t=Ot();return(n,r)=>i=>{e==null||e(n,r,i),t(EG())}},$x=(e,t)=>{var n=Ot();return(r,i)=>o=>{e==null||e(r,i,o),n(AG({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function DM(e){var{fn:t,args:n}=e,r=Ot(),i=Or();return _.useEffect(()=>{if(!i){var o=t(n);return r(SG(o)),()=>{r(jG(o))}}},[t,n,r,i]),null}var IM=()=>{};function FW(e){var{legendPayload:t}=e,n=Ot(),r=Or();return _.useEffect(()=>r?IM:(n(ZT(t)),()=>{n(ek(t))}),[n,r,t]),null}function GW(e){var{legendPayload:t}=e,n=Ot(),r=_e(Xe);return _.useEffect(()=>r!=="centric"&&r!=="radial"?IM:(n(ZT(t)),()=>{n(ek(t))}),[n,r,t]),null}var iy,YW=()=>{var[e]=_.useState(()=>Vc("uid-"));return e},VW=(iy=$3.useId)!==null&&iy!==void 0?iy:YW;function WW(e,t){var n=VW();return t||(e?"".concat(e,"-").concat(n):n)}var XW=_.createContext(void 0),LM=e=>{var{id:t,type:n,children:r}=e,i=WW("recharts-".concat(n),t);return _.createElement(XW.Provider,{value:i},r(i))},QW={cartesianItems:[],polarItems:[]},zM=ir({name:"graphicalItems",initialState:QW,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Ta(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Ta(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ta(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:JW,replaceCartesianGraphicalItem:ZW,removeCartesianGraphicalItem:eX,addPolarGraphicalItem:tX,removePolarGraphicalItem:nX}=zM.actions,rX=zM.reducer;function aX(e){var t=Ot(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?t(JW(e)):n.current!==e&&t(ZW({prev:n.current,next:e})),n.current=e},[t,e]),_.useEffect(()=>()=>{n.current&&(t(eX(n.current)),n.current=null)},[t]),null}function iX(e){var t=Ot();return _.useEffect(()=>(t(tX(e)),()=>{t(nX(e))}),[t,e]),null}var sX=["onMouseEnter","onClick","onMouseLeave"],oX=["id"],lX=["id"];function qx(e,t){if(e==null)return{};var n,r,i=cX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){uX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uX(e,t,n){return(t=dX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ei.apply(null,arguments)}function hX(e){var t=_.useMemo(()=>rb(e.children,Au),[e.children]),n=_e(r=>OW(r,e.id,t));return n==null?null:_.createElement(GW,{legendPayload:n})}function mX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:Ch(u,t),hide:d,type:f,color:l,unit:""}}}var pX=(e,t)=>e>t?"start":e<t?"end":"middle",gX=(e,t,n)=>Sn(typeof t=="function"?t(e):t,n,n*.8),vX=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,u=KT(o,l),d=i+Sn(e.cx,o,o/2),f=r+Sn(e.cy,l,l/2),p=Sn(e.innerRadius,u,0),g=gX(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:g,maxRadius:v}},yX=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function bX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var xX=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var n=at("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return _.createElement(nk,Ei({},t,{type:"linear",className:n}))},_X=(e,t,n)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),_.isValidElement(r)))return r;var i=at("recharts-pie-label-text",bX(e));return _.createElement(Qh,Ei({},t,{alignmentBaseline:"middle",className:i}),r)};function wX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var u=ki(n),d=Xt(i,!1),f=Xt(o,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,x)=>{var w=(v.startAngle+v.endAngle)/2,S=Kt(v.cx,v.cy,v.outerRadius+p,w),j=yt(yt(yt(yt({},u),v),{},{stroke:"none"},d),{},{index:x,textAnchor:pX(S.x,v.cx)},S),E=yt(yt(yt(yt({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:x,points:[Kt(v.cx,v.cy,v.outerRadius,w),S],key:"line"});return _.createElement(Bn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&xX(o,E),_X(i,j,jt(v,l)))});return _.createElement(Bn,{className:"recharts-pie-labels"},g)}function SX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(CM,{label:i}):_.createElement(wX,{sectors:t,props:n,showLabels:r})}function jX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=_e(Ps),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,f=qx(i,sX),p=zx(l,i.dataKey),g=Ux(d),v=$x(u,i.dataKey);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var S=n&&String(w)===o,j=o?r:null,E=S?n:j,N=yt(yt({},x),{},{stroke:x.stroke,tabIndex:-1,[WT]:w,[XT]:i.dataKey});return _.createElement(Bn,Ei({tabIndex:-1,className:"recharts-pie-sector"},fu(f,x,w),{onMouseEnter:p(x,w),onMouseLeave:g(x,w),onClick:v(x,w),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w)}),_.createElement(RM,Ei({option:E,isActive:S,shapeType:"sector"},N)))}))}function OX(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),x=yX(u,d),w=Math.abs(x),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(M=>jt(M,f,0)!==0).length,E=(w>=360?j:j-1)*S,N=w-j*v-E,A=r.reduce((M,R)=>{var z=jt(R,f,0);return M+(Se(z)?z:0)},0),k;if(A>0){var P;k=r.map((M,R)=>{var z=jt(M,f,0),H=jt(M,p,R),$=vX(n,o,M),K=(Se(z)?z:0)/A,F,ae=yt(yt({},M),i&&i[R]&&i[R].props);R?F=P.endAngle+on(x)*S*(z!==0?1:0):F=u;var q=F+on(x)*((z!==0?v:0)+K*N),ne=(F+q)/2,L=($.innerRadius+$.outerRadius)/2,Q=[{name:H,value:z,payload:ae,dataKey:f,type:g}],oe=Kt($.cx,$.cy,L,ne);return P=yt(yt(yt(yt({},n.presentationProps),{},{percent:K,cornerRadius:l,name:H,tooltipPayload:Q,midAngle:ne,middleRadius:L,tooltipPosition:oe},ae),$),{},{value:z,startAngle:F,endAngle:q,payload:ae,paddingAngle:on(x)*S}),P})}return k}function EX(e){var{showLabels:t,sectors:n,children:r}=e,i=_.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return _.createElement(cW,{value:t?i:void 0},r)}function AX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=t,v=Dh(t,"recharts-pie-"),x=n.current,[w,S]=_.useState(!1),j=_.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),E=_.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return _.createElement(EX,{showLabels:!w,sectors:r},_.createElement(Rh,{animationId:v,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:E,onAnimationEnd:j,key:v},N=>{var A=[],k=r&&r[0],P=k==null?void 0:k.startAngle;return r==null||r.forEach((M,R)=>{var z=x&&x[R],H=R>0?Ns(M,"paddingAngle",0):0;if(z){var $=yn(z.endAngle-z.startAngle,M.endAngle-M.startAngle,N),K=yt(yt({},M),{},{startAngle:P+H,endAngle:P+$+H});A.push(K),P=K.endAngle}else{var{endAngle:F,startAngle:ae}=M,q=yn(0,F-ae,N),ne=yt(yt({},M),{},{startAngle:P+H,endAngle:P+q+H});A.push(ne),P=ne.endAngle}}),n.current=A,_.createElement(Bn,null,_.createElement(jX,{sectors:A,activeShape:d,inactiveShape:f,allOtherPieProps:t}))}),_.createElement(SX,{showLabels:!w,sectors:r,props:t}),t.children)}var NX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ls.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function CX(e){var{id:t}=e,n=qx(e,oX),{hide:r,className:i,rootTabIndex:o}=e,l=_.useMemo(()=>rb(e.children,Au),[e.children]),u=_e(p=>EW(p,t,l)),d=_.useRef(null),f=at("recharts-pie",i);return r||u==null?(d.current=null,_.createElement(Bn,{tabIndex:o,className:f})):_.createElement(_.Fragment,null,_.createElement(DM,{fn:mX,args:yt(yt({},e),{},{sectors:u})}),_.createElement(Bn,{tabIndex:o,className:f},_.createElement(AX,{props:yt(yt({},n),{},{sectors:u}),previousSectorsRef:d})))}function UM(e){var t=Cn(e,NX),{id:n}=t,r=qx(t,lX),i=ki(r);return _.createElement(LM,{id:n,type:"pie"},o=>_.createElement(_.Fragment,null,_.createElement(iX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(hX,Ei({},r,{id:o})),_.createElement(CX,Ei({},r,{id:o}))))}UM.displayName="Pie";function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){TX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TX(e,t,n){return(t=kX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX={xAxis:{},yAxis:{},zAxis:{}},$M=ir({name:"cartesianAxis",initialState:MX,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=TA(TA({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:RX,removeXAxis:DX,addYAxis:IX,removeYAxis:LX,addZAxis:rne,removeZAxis:ane,updateYAxisWidth:zX}=$M.actions,UX=$M.reducer,$X=Z([Qt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),qX=Z([$X,za,Ua],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),qM=()=>_e(qX),BX="Invariant failed";function HX(e,t){throw new Error(BX)}var KX=["x","y"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(null,arguments)}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){FX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VX(e,t){if(e==null)return{};var n,r,i=WX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XX(e,t){var{x:n,y:r}=e,i=VX(e,KX),o="".concat(n),l=parseInt(o,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||i.height),p=parseInt(f,10),g="".concat(t.width||i.width),v=parseInt(g,10);return kc(kc(kc(kc(kc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function Bx(e){return _.createElement(RM,_0({shapeType:"rectangle",propTransformer:XX,activeClassName:"recharts-active-bar"},e))}var QX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Se(t))return t;var o=Se(r)||ln(r);return o?t(r,i):(o||HX(),n)}},JX={},BM=ir({name:"errorBars",initialState:JX,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ine,replaceErrorBar:sne,removeErrorBar:one}=BM.actions,ZX=BM.reducer,eQ=["children"];function tQ(e,t){if(e==null)return{};var n,r,i=nQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aQ=_.createContext(rQ);function iQ(e){var{children:t}=e,n=tQ(e,eQ);return _.createElement(aQ.Provider,{value:n},t)}function HM(e,t){var n,r,i=_e(f=>qa(f,e)),o=_e(f=>Ba(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Qn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Jn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function sQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=qM(),{needClipX:o,needClipY:l,needClip:u}=HM(t,n);if(!u)return null;var{x:d,y:f,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:o?d:d-p/2,y:l?f:f-g/2,width:o?p:p*2,height:l?g:g*2}))}var oQ=["onMouseEnter","onMouseLeave","onClick"],lQ=["value","background","tooltipPosition"],cQ=["id"],uQ=["onMouseEnter","onClick","onMouseLeave"];function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){dQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dQ(e,t,n){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ch(e,t){if(e==null)return{};var n,r,i=mQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ch(n,t),payload:e}]};function gQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ch(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function vQ(e){var t=_e(Ps),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=o,f=ch(o,oQ),p=zx(l,r),g=Ux(u),v=$x(d,r);if(!i||n==null)return null;var x=Xt(i,!1);return _.createElement(_.Fragment,null,n.map((w,S)=>{var{value:j,background:E,tooltipPosition:N}=w,A=ch(w,lQ);if(!E)return null;var k=p(w,S),P=g(w,S),M=v(w,S),R=An(An(An(An(An({option:i,isActive:String(S)===t},A),{},{fill:"#eee"},E),x),fu(f,w,S)),{},{onMouseEnter:k,onMouseLeave:P,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return _.createElement(Bx,Ai({key:"background-bar-".concat(R.index)},R))}))}function yQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return An(An({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return _.createElement(lW,{value:t?i:void 0},n)}function bQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=_e(Ps),d=_e(lM),f=n&&String(o)===u&&(d==null||l===d),p=f?n:t;return _.createElement(Bx,Ai({},r,i,{isActive:f,option:p,index:o,dataKey:l}))}function xQ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return _.createElement(Bx,Ai({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function _Q(e){var{data:t,props:n}=e,r=ki(n),{id:i}=r,o=ch(r,cQ),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:p,onMouseLeave:g}=n,v=ch(n,uQ),x=zx(f,u),w=Ux(g),S=$x(p,u);return t?_.createElement(_.Fragment,null,t.map((j,E)=>_.createElement(Bn,Ai({className:"recharts-bar-rectangle"},fu(v,j,E),{onMouseEnter:x(j,E),onMouseLeave:w(j,E),onClick:S(j,E),key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(E)}),d?_.createElement(bQ,{shape:l,activeBar:d,baseProps:o,entry:j,index:E,dataKey:u}):_.createElement(xQ,{shape:l,baseProps:o,entry:j,index:E,dataKey:u})))):null}function wQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,g=n.current,v=Dh(t,"recharts-bar-"),[x,w]=_.useState(!1),S=!x,j=_.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),E=_.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return _.createElement(yQ,{showLabels:S,rects:r},_.createElement(Rh,{animationId:v,begin:l,duration:u,isActive:o,easing:d,onAnimationEnd:j,onAnimationStart:E,key:v},N=>{var A=N===1?r:r==null?void 0:r.map((k,P)=>{var M=g&&g[P];if(M)return An(An({},k),{},{x:yn(M.x,k.x,N),y:yn(M.y,k.y,N),width:yn(M.width,k.width,N),height:yn(M.height,k.height,N)});if(i==="horizontal"){var R=yn(0,k.height,N);return An(An({},k),{},{y:k.y+k.height-R,height:R})}var z=yn(0,k.width,N);return An(An({},k),{},{width:z})});return N>0&&(n.current=A??null),A==null?null:_.createElement(Bn,null,_.createElement(_Q,{props:t,data:A}))}),_.createElement(CM,{label:t.label}),t.children)}function SQ(e){var t=_.useRef(null);return _.createElement(wQ,{previousRectanglesRef:t,props:e})}var KM=0,jQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:jt(e,t)}};class OQ extends _.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var p=at("recharts-bar",i),g=f;return _.createElement(Bn,{className:p,id:f},u&&_.createElement("defs",null,_.createElement(sQ,{clipPathId:g,xAxisId:o,yAxisId:l})),_.createElement(Bn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(vQ,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),_.createElement(SQ,this.props)))}}var EQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ls.isSsr,legendType:"rect",minPointSize:KM,xAxisId:0,yAxisId:0};function AQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p}=e,{needClip:g}=HM(t,n),v=jb(),x=Or(),w=rb(e.children,Au),S=_e(N=>tJ(N,t,n,x,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var j,E=S==null?void 0:S[0];return E==null||E.height==null||E.width==null?j=0:j=v==="vertical"?E.height/2:E.width/2,_.createElement(iQ,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:jQ,errorBarOffset:j},_.createElement(OQ,Ai({},e,{layout:v,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function NQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:g,offset:v,cells:x,parentViewBox:w}=e,S=t==="horizontal"?u:l,j=p?S.scale.domain():null,E=BB({numericAxis:S});return g.map((N,A)=>{var k,P,M,R,z,H;p?k=IB(p[A],j):(k=jt(N,n),Array.isArray(k)||(k=[E,k]));var $=QX(r,KM)(k[1],A);if(t==="horizontal"){var K,[F,ae]=[u.scale(k[0]),u.scale(k[1])];P=vE({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:N,index:A}),M=(K=ae??F)!==null&&K!==void 0?K:void 0,R=i.size;var q=F-ae;if(z=nr(q)?0:q,H={x:P,y:v.top,width:R,height:v.height},Math.abs($)>0&&Math.abs(z)<Math.abs($)){var ne=on(z||$)*(Math.abs($)-Math.abs(z));M-=ne,z+=ne}}else{var[L,Q]=[l.scale(k[0]),l.scale(k[1])];if(P=L,M=vE({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:N,index:A}),R=Q-L,z=i.size,H={x:v.left,y:M,width:v.width,height:z},Math.abs($)>0&&Math.abs(R)<Math.abs($)){var oe=on(R||$)*(Math.abs($)-Math.abs(R));R+=oe}}if(P==null||M==null||R==null||z==null)return null;var me=An(An({},N),{},{x:P,y:M,width:R,height:z,value:p?k:k[1],payload:N,background:H,tooltipPosition:{x:P+R/2,y:M+z/2},parentViewBox:w},x&&x[A]&&x[A].props);return me}).filter(Boolean)}function CQ(e){var t=Cn(e,EQ),n=Or();return _.createElement(LM,{id:t.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(FW,{legendPayload:pQ(t)}),_.createElement(DM,{fn:gQ,args:t}),_.createElement(aX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:qB(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(AQ,Ai({},t,{id:r}))))}var w0=_.memo(CQ);w0.displayName="Bar";function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){TQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TQ(e,t,n){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MQ=(e,t)=>t,RQ=(e,t,n)=>n,DQ=(e,t,n,r)=>r,IQ=(e,t,n,r,i)=>i,Nu=Z([lx,IQ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),LQ=Z([Nu],e=>e==null?void 0:e.maxBarSize),zQ=(e,t,n,r,i,o)=>o,RA=(e,t,n)=>{var r=n??e;if(!ln(r))return Sn(r,t,0)},UQ=Z([Xe,lx,MQ,RQ,DQ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),$Q=(e,t,n,r)=>{var i=Xe(e);return i==="horizontal"?p0(e,"yAxis",n,r):p0(e,"xAxis",t,r)},qQ=(e,t,n)=>{var r=Xe(e);return r==="horizontal"?R2(e,"xAxis",t):R2(e,"yAxis",n)},BQ=(e,t,n)=>{var r={},i=e.filter(Fh),o=e.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),u=Object.entries(l).map(f=>{var[p,g]=f,v=g.map(w=>w.dataKey),x=RA(t,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:x}}),d=o.map(f=>{var p=[f.dataKey].filter(v=>v!=null),g=RA(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]},HQ=Z([UQ,wF,qQ],BQ),KQ=(e,t,n,r,i)=>{var o,l,u=Nu(e,t,n,r,i);if(u!=null){var d=Xe(e),f=sP(e),{maxBarSize:p}=u,g=ln(p)?f:p,v,x;return d==="horizontal"?(v=dl(e,"xAxis",t,r),x=ul(e,"xAxis",t,r)):(v=dl(e,"yAxis",n,r),x=ul(e,"yAxis",n,r)),(o=(l=bb(v,x,!0))!==null&&l!==void 0?l:g)!==null&&o!==void 0?o:0}},FM=(e,t,n,r)=>{var i=Xe(e),o,l;return i==="horizontal"?(o=dl(e,"xAxis",t,r),l=ul(e,"xAxis",t,r)):(o=dl(e,"yAxis",n,r),l=ul(e,"yAxis",n,r)),bb(o,l)};function FQ(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=Sn(e,n,0,!0),u,d=[];if(ar(r[0].barSize)){var f=!1,p=n/o,g=r.reduce((E,N)=>E+(N.barSize||0),0);g+=(o-1)*l,g>=n&&(g-=(o-1)*l,l=0),g>=n&&p>0&&(f=!0,p*=.9,g=o*p);var v=(n-g)/2>>0,x={offset:v-l,size:0};u=r.reduce((E,N)=>{var A,k={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:x.offset+x.size+l,size:f?p:(A=N.barSize)!==null&&A!==void 0?A:0}},P=[...E,k];return x=P[P.length-1].position,P},d)}else{var w=Sn(t,n,0,!0);n-2*w-(o-1)*l<=0&&(l=0);var S=(n-2*w-(o-1)*l)/o;S>1&&(S>>=0);var j=ar(i)?Math.min(S,i):S;u=r.reduce((E,N,A)=>[...E,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:w+(S+l)*A+(S-j)/2,size:j}}],d)}return u}}var GQ=(e,t,n,r,i,o,l)=>{var u=ln(l)?t:l,d=FQ(n,r,i!==o?i:o,e,u);return i!==o&&d!=null&&(d=d.map(f=>df(df({},f),{},{position:df(df({},f.position),{},{offset:f.position.offset-i/2})}))),d},YQ=Z([HQ,sP,_F,oP,KQ,FM,LQ],GQ),VQ=(e,t,n,r)=>dl(e,"xAxis",t,r),WQ=(e,t,n,r)=>dl(e,"yAxis",n,r),XQ=(e,t,n,r)=>ul(e,"xAxis",t,r),QQ=(e,t,n,r)=>ul(e,"yAxis",n,r),JQ=Z([YQ,Nu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),ZQ=(e,t)=>{var n=ix(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},eJ=Z([$Q,Nu],ZQ),tJ=Z([Qt,xb,VQ,WQ,XQ,QQ,JQ,Xe,Xb,FM,eJ,Nu,zQ],(e,t,n,r,i,o,l,u,d,f,p,g,v)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:S}=d;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:j}=g,E;if(j!=null&&j.length>0?E=j:E=x==null?void 0:x.slice(w,S+1),E!=null)return NQ({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:E,offset:e,cells:v})}}),GM=e=>{var{chartData:t}=e,n=Ot(),r=Or();return _.useEffect(()=>r?()=>{}:(n(K2(t)),()=>{n(K2(void 0))}),[t,n,r]),null},DA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YM=ir({name:"brush",initialState:DA,reducers:{setBrushSettings(e,t){return t.payload==null?DA:t.payload}}}),{setBrushSettings:lne}=YM.actions,nJ=YM.reducer;function rJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hx{static create(t){return new Hx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}rJ(Hx,"EPS",1e-4);function sJ(e){return(e%180+180)%180}var oJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=sJ(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},lJ={dots:[],areas:[],lines:[]},VM=ir({name:"referenceElements",initialState:lJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ta(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ta(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ta(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:cne,removeDot:une,addArea:dne,removeArea:fne,addLine:hne,removeLine:mne}=VM.actions,cJ=VM.reducer,uJ=_.createContext(void 0),dJ=e=>{var{children:t}=e,[n]=_.useState("".concat(Vc("recharts"),"-clip")),r=qM();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return _.createElement(uJ.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function fl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function WM(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function fJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return oJ(r,n)}function hJ(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function uh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function mJ(e,t){return WM(e,t+1)}function pJ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,p=l,g=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:WM(r,f)};var S=d,j,E=()=>(j===void 0&&(j=n(w,S)),j),N=w.coordinate,A=d===0||uh(e,N,E,p,u);A||(d=0,p=l,f+=1),A&&(p=N+e*(E()/2+i),d+=f)},v;f<=o.length;)if(v=g(),v)return v.v;return[]}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){gJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gJ(e,t,n){return(t=vJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vJ(e){var t=yJ(e,"string");return typeof t=="symbol"?t:t+""}function yJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:d}=t,f=function(v){var x=o[v],w,S=()=>(w===void 0&&(w=n(x,v)),w);if(v===l-1){var j=e*(x.coordinate+e*S()/2-d);o[v]=x=_n(_n({},x),{},{tickCoord:j>0?x.coordinate-j*e:x.coordinate})}else o[v]=x=_n(_n({},x),{},{tickCoord:x.coordinate});var E=uh(e,x.tickCoord,S,u,d);E&&(d=x.tickCoord-e*(S()/2+i),o[v]=_n(_n({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return o}function xJ(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(o){var p=r[u-1],g=n(p,u-1),v=e*(p.coordinate+e*g/2-f);l[u-1]=p=_n(_n({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var x=uh(e,p.tickCoord,()=>g,d,f);x&&(f=p.tickCoord-e*(g/2+i),l[u-1]=_n(_n({},p),{},{isShow:!0}))}for(var w=o?u-1:u,S=function(N){var A=l[N],k,P=()=>(k===void 0&&(k=n(A,N)),k);if(N===0){var M=e*(A.coordinate-e*P()/2-d);l[N]=A=_n(_n({},A),{},{tickCoord:M<0?A.coordinate-M*e:A.coordinate})}else l[N]=A=_n(_n({},A),{},{tickCoord:A.coordinate});var R=uh(e,A.tickCoord,P,d,f);R&&(d=A.tickCoord+e*(P()/2+i),l[N]=_n(_n({},A),{},{isShow:!0}))},j=0;j<w;j++)S(j);return l}function Kx(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(Se(d)||Ls.isSsr){var v;return(v=mJ(i,Se(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],w=u==="top"||u==="bottom"?"width":"height",S=p&&w==="width"?Bc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(A,k)=>{var P=typeof f=="function"?f(A.value,k):A.value;return w==="width"?fJ(Bc(P,{fontSize:t,letterSpacing:n}),S,g):Bc(P,{fontSize:t,letterSpacing:n})[w]},E=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,N=hJ(o,E,w);return d==="equidistantPreserveStart"?pJ(E,N,j,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=xJ(E,N,j,i,l,d==="preserveStartEnd"):x=bJ(E,N,j,i,l),x.filter(A=>A.isShow))}var _J=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},wJ=["axisLine","width","height","className","hide","ticks"],SJ=["viewBox"],jJ=["viewBox"];function S0(e,t){if(e==null)return{};var n,r,i=OJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(null,arguments)}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function CJ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Wt(Wt(Wt({},d),Xt(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);f=Wt(Wt({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);f=Wt(Wt({},f),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return _.createElement("line",Ms({},f,{className:at("recharts-cartesian-axis-line",Ns(u,"className"))}))}function TJ(e,t,n,r,i,o,l,u,d){var f,p,g,v,x,w,S=u?-1:1,j=e.tickSize||l,E=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=p=e.coordinate,v=n+ +!u*i,g=v-S*j,w=g-S*d,x=E;break;case"left":g=v=e.coordinate,p=t+ +!u*r,f=p-S*j,x=f-S*d,w=E;break;case"right":g=v=e.coordinate,p=t+ +u*r,f=p+S*j,x=f+S*d,w=E;break;default:f=p=e.coordinate,v=n+ +u*i,g=v+S*j,w=g+S*d,x=E;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x,y:w}}}function kJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function PJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function MJ(e){var{option:t,tickProps:n,value:r}=e,i,o=at(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,Wt(Wt({},n),{},{className:o}));else if(typeof t=="function")i=t(Wt(Wt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=at(l,t==null?void 0:t.className)),i=_.createElement(Qh,Ms({},n,{className:l}),r)}return i}function RJ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:g,y:v,width:x,height:w,tickSize:S,tickMargin:j,fontSize:E,letterSpacing:N,getTicksConfig:A,events:k}=e,P=Kx(Wt(Wt({},A),{},{ticks:t}),E,N),M=kJ(f,p),R=PJ(f,p),z=ki(A),H=Xt(n,!1),$=Wt(Wt({},z),{},{fill:"none"},Xt(r,!1)),K=P.map((F,ae)=>{var{line:q,tick:ne}=TJ(F,g,v,x,w,f,S,p,j),L=Wt(Wt(Wt(Wt({textAnchor:M,verticalAnchor:R},z),{},{stroke:"none",fill:i},H),ne),{},{index:ae,payload:F,visibleTicksCount:P.length,tickFormatter:o,padding:u},d);return _.createElement(Bn,Ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},fu(k,F,ae)),r&&_.createElement("line",Ms({},$,q,{className:at("recharts-cartesian-axis-tick-line",Ns(r,"className"))})),n&&_.createElement(MJ,{option:n,tickProps:L,value:"".concat(typeof o=="function"?o(F.value,ae):F.value).concat(l||"")}))});return K.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},K):null}var DJ=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u}=e,d=S0(e,wJ),[f,p]=_.useState(""),[g,v]=_.useState(""),x=_.useRef([]);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return _J({ticks:x.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(j);var E=j[0];if(E){var N=window.getComputedStyle(E),A=N.fontSize,k=N.letterSpacing;(A!==f||k!==g)&&(p(A),v(k))}}},[f,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Bn,{className:at("recharts-cartesian-axis",o),ref:w},_.createElement(CJ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ki(e)}),_.createElement(RJ,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:e,events:d}),_.createElement(qV,{x:e.x,y:e.y,width:e.width,height:e.height},_.createElement(QV,{label:e.label}),e.children))}),IJ=_.memo(DJ,(e,t)=>{var{viewBox:n}=e,r=S0(e,SJ),{viewBox:i}=t,o=S0(t,jJ);return fl(n,i)&&fl(r,o)}),Gx=_.forwardRef((e,t)=>{var n=Cn(e,Fx);return _.createElement(IJ,Ms({},n,{ref:t}))});Gx.displayName="CartesianAxis";var LJ=["x1","y1","x2","y2","key"],zJ=["offset"],UJ=["xAxisId","yAxisId"],$J=["xAxisId","yAxisId"];function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){qJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qJ(e,t,n){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(null,arguments)}function dh(e,t){if(e==null)return{};var n,r,i=KJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return _.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XM(e,t){var n;if(_.isValidElement(e))n=_.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:u}=t,d=dh(t,LJ),f=ki(d),{offset:p}=f,g=dh(f,zJ);n=_.createElement("line",xs({},g,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:u}))}return n}function GJ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=dh(e,UJ),d=i.map((f,p)=>{var g=wn(wn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return XM(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function YJ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=dh(e,$J),d=i.map((f,p)=>{var g=wn(wn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return XM(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function VJ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var x=!f[v+1],w=x?i+l-g:f[v+1]-g;if(w<=0)return null;var S=v%t.length;return _.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:o,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function WJ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var x=!f[v+1],w=x?i+l-g:f[v+1]-g;if(w<=0)return null;var S=v%n.length;return _.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:w,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var XJ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return GT(Kx(wn(wn(wn({},Fx),n),{},{ticks:YT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},QJ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return GT(Kx(wn(wn(wn({},Fx),n),{},{ticks:YT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},JJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function QM(e){var t=wb(),n=Sb(),r=QT(),i=wn(wn({},Cn(e,JJ)),{},{x:Se(e.x)?e.x:r.left,y:Se(e.y)?e.y:r.top,width:Se(e.width)?e.width:r.width,height:Se(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,w=Or(),S=_e(H=>D2(H,"xAxis",o,w)),j=_e(H=>D2(H,"yAxis",l,w));if(!Se(f)||f<=0||!Se(p)||p<=0||!Se(u)||u!==+u||!Se(d)||d!==+d)return null;var E=i.verticalCoordinatesGenerator||XJ,N=i.horizontalCoordinatesGenerator||QJ,{horizontalPoints:A,verticalPoints:k}=i;if((!A||!A.length)&&typeof N=="function"){var P=v&&v.length,M=N({yAxis:j?wn(wn({},j),{},{ticks:P?v:j.ticks}):void 0,width:t,height:n,offset:r},P?!0:g);qc(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(A=M)}if((!k||!k.length)&&typeof E=="function"){var R=x&&x.length,z=E({xAxis:S?wn(wn({},S),{},{ticks:R?x:S.ticks}):void 0,width:t,height:n,offset:r},R?!0:g);qc(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(k=z)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(FJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(VJ,xs({},i,{horizontalPoints:A})),_.createElement(WJ,xs({},i,{verticalPoints:k})),_.createElement(GJ,xs({},i,{offset:r,horizontalPoints:A,xAxis:S,yAxis:j})),_.createElement(YJ,xs({},i,{offset:r,verticalPoints:k,xAxis:S,yAxis:j})))}QM.displayName="CartesianGrid";var ZJ=["dangerouslySetInnerHTML","ticks"],eZ=["id"],tZ=["domain"],nZ=["domain"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}function fh(e,t){if(e==null)return{};var n,r,i=rZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aZ(e){var t=Ot();return _.useEffect(()=>(t(RX(e)),()=>{t(DX(e))}),[e,t]),null}var iZ=e=>{var{xAxisId:t,className:n}=e,r=_e(xb),i=Or(),o="xAxis",l=_e(j=>jl(j,o,t,i)),u=_e(j=>HP(j,o,t,i)),d=_e(j=>UP(j,t)),f=_e(j=>hG(j,t)),p=_e(j=>gP(j,t));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,x=fh(e,ZJ),{id:w}=p,S=fh(p,eZ);return _.createElement(Gx,j0({},x,S,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:at("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},sZ={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,height:Qn.height,hide:!1,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tickCount:Qn.tickCount,type:Qn.type,xAxisId:0},oZ=e=>{var t,n,r,i,o,l=Cn(e,sZ);return _.createElement(_.Fragment,null,_.createElement(aZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),_.createElement(iZ,l))},lZ=(e,t)=>{var{domain:n}=e,r=fh(e,tZ),{domain:i}=t,o=fh(t,nZ);return fl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fl({domain:n},{domain:i}):!1},JM=_.memo(oZ,lZ);JM.displayName="XAxis";var cZ=["dangerouslySetInnerHTML","ticks"],uZ=["id"],dZ=["domain"],fZ=["domain"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function hh(e,t){if(e==null)return{};var n,r,i=hZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mZ(e){var t=Ot();return _.useEffect(()=>(t(IX(e)),()=>{t(LX(e))}),[e,t]),null}var pZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=_.useRef(null),l=_.useRef(null),u=_e(xb),d=Or(),f=Ot(),p="yAxis",g=_e(P=>jl(P,p,t,d)),v=_e(P=>$P(P,t)),x=_e(P=>pG(P,t)),w=_e(P=>HP(P,p,t,d)),S=_e(P=>vP(P,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Mx(i)||_.isValidElement(i)||S==null)){var P=o.current;if(P){var M=P.getCalculatedWidth();Math.round(v.width)!==Math.round(M)&&f(zX({id:t,width:M}))}}},[w,v,f,i,t,r,S]),v==null||x==null||S==null)return null;var{dangerouslySetInnerHTML:j,ticks:E}=e,N=hh(e,cZ),{id:A}=S,k=hh(S,uZ);return _.createElement(Gx,O0({},N,k,{ref:o,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:at("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w}))},gZ={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,hide:!1,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tickCount:Jn.tickCount,type:Jn.type,width:Jn.width,yAxisId:0},vZ=e=>{var t,n,r,i,o,l=Cn(e,gZ);return _.createElement(_.Fragment,null,_.createElement(mZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),_.createElement(pZ,l))},yZ=(e,t)=>{var{domain:n}=e,r=hh(e,dZ),{domain:i}=t,o=hh(t,fZ);return fl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fl({domain:n},{domain:i}):!1},ZM=_.memo(vZ,yZ);ZM.displayName="YAxis";var sy={exports:{}},oy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function bZ(){if(UA)return oy;UA=1;var e=hl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return oy.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function j(P){if(!E){if(E=!0,N=P,P=g(P),v!==void 0&&w.hasValue){var M=w.value;if(v(M,P))return A=M}return A=P}if(M=A,n(N,P))return M;var R=g(P);return v!==void 0&&v(M,R)?(N=P,M):(N=P,A=R)}var E=!1,N,A,k=p===void 0?null:p;return[function(){return j(f())},k===null?void 0:function(){return j(k())}]},[f,p,g,v]);var S=r(d,x[0],x[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},oy}var $A;function xZ(){return $A||($A=1,sy.exports=bZ()),sy.exports}xZ();function _Z(e){e()}function wZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_Z(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var qA={notify(){},get:()=>[]};function SZ(e,t){let n,r=qA,i=0,o=!1;function l(S){p();const j=r.subscribe(S);let E=!1;return()=>{E||(E=!0,j(),g())}}function u(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return o}function p(){i++,n||(n=e.subscribe(d),r=wZ())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=qA)}function v(){o||(o=!0,p())}function x(){o&&(o=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return w}var jZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OZ=jZ(),EZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AZ=EZ(),NZ=()=>OZ||AZ?_.useLayoutEffect:_.useEffect,CZ=NZ(),ly=Symbol.for("react-redux-context"),cy=typeof globalThis<"u"?globalThis:{};function TZ(){if(!_.createContext)return{};const e=cy[ly]??(cy[ly]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var kZ=TZ();function PZ(e){const{children:t,context:n,serverState:r,store:i}=e,o=_.useMemo(()=>{const d=SZ(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);CZ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||kZ;return _.createElement(u.Provider,{value:o},t)}var MZ=PZ,RZ=(e,t)=>t,Yx=Z([RZ,Xe,hP,Zt,aM,Ha,bY,Qt],jY),Vx=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},eR=wr("mouseClick"),tR=mu();tR.startListening({actionCreator:eR,effect:(e,t)=>{var n=e.payload,r=Yx(t.getState(),Vx(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(NG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var E0=wr("mouseMove"),nR=mu();nR.startListening({actionCreator:E0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=jx(r,r.tooltip.settings.shared),o=Yx(r,Vx(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(QP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(XP()))}});var BA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rR=ir({name:"rootProps",initialState:BA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:BA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),DZ=rR.reducer,{updateOptions:IZ}=rR.actions,aR=ir({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:LZ}=aR.actions,zZ=aR.reducer,iR=wr("keyDown"),sR=wr("focus"),Wx=mu();Wx.startListening({actionCreator:iR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(Ox(i,El(n))),u=Ha(n);if(o==="Enter"){var d=ih(n,"axis","hover",String(i.index));t.dispatch(v0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=bG(n),p=f==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=l+g*p;if(!(u==null||v>=u.length||v<0)){var x=ih(n,"axis","hover",String(v));t.dispatch(v0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Wx.startListening({actionCreator:sR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=ih(n,"axis","hover",String(o));t.dispatch(v0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var br=wr("externalEvent"),oR=mu();oR.startListening({actionCreator:br,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:uY(n),activeDataKey:lM(n),activeIndex:Ps(n),activeLabel:oM(n),activeTooltipIndex:Ps(n),isTooltipActive:dY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var UZ=Z([Ol],e=>e.tooltipItemPayloads),$Z=Z([UZ,Ou,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),lR=wr("touchMove"),cR=mu();cR.startListening({actionCreator:lR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=jx(r,r.tooltip.settings.shared);if(i==="axis"){var o=Yx(r,Vx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(QP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(WT),p=(l=d.getAttribute(XT))!==null&&l!==void 0?l:void 0,g=$Z(t.getState(),f,p);t.dispatch(WP({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}});var qZ=_T({brush:nJ,cartesianAxis:UX,chartData:$Y,errorBars:ZX,graphicalItems:rX,layout:xB,legend:u7,options:DY,polarAxis:bW,polarOptions:zZ,referenceElements:cJ,rootProps:DZ,tooltip:CG}),BZ=function(t){return Fq({reducer:qZ,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([tR.middleware,nR.middleware,Wx.middleware,oR.middleware,cR.middleware]),devTools:Ls.devToolsEnabled})};function uR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Or(),o=_.useRef(null);if(i)return n;o.current==null&&(o.current=BZ(t));var l=hb;return _.createElement(MZ,{context:l,store:o.current},n)}function dR(e){var{layout:t,width:n,height:r,margin:i}=e,o=Ot(),l=Or();return _.useEffect(()=>{l||(o(vB(t)),o(yB({width:n,height:r})),o(gB(i)))},[o,l,t,n,r,i]),null}function fR(e){var t=Ot();return _.useEffect(()=>{t(IZ(e))},[t,e]),null}var HZ=["children"];function KZ(e,t){if(e==null)return{};var n,r,i=FZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(null,arguments)}var GZ={width:"100%",height:"100%"},YZ=_.forwardRef((e,t)=>{var n=wb(),r=Sb(),i=tk();if(!il(n)||!il(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=e,f,p;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,_.createElement(ab,mh({},l,{title:u,desc:d,role:p,tabIndex:f,width:n,height:r,style:GZ,ref:t}),o)}),VZ=e=>{var{children:t}=e,n=_e(Mh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return _.createElement(ab,{width:r,height:i,x:l,y:o},t)},HA=_.forwardRef((e,t)=>{var{children:n}=e,r=KZ(e,HZ),i=Or();return i?_.createElement(VZ,null,n):_.createElement(YZ,mh({ref:t},r),n)});function WZ(){var e=Ot(),[t,n]=_.useState(null),r=_e(WB);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;ar(o)&&o!==r&&e(bB(o))}},[t,e,r]),n}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eee=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:w,onTouchStart:S,style:j,width:E}=e,N=Ot(),[A,k]=_.useState(null),[P,M]=_.useState(null);WY();var R=WZ(),z=_.useCallback(D=>{R(D),typeof t=="function"&&t(D),k(D),M(D)},[R,t,k,M]),H=_.useCallback(D=>{N(eR(D)),N(br({handler:o,reactEvent:D}))},[N,o]),$=_.useCallback(D=>{N(E0(D)),N(br({handler:f,reactEvent:D}))},[N,f]),K=_.useCallback(D=>{N(XP()),N(br({handler:p,reactEvent:D}))},[N,p]),F=_.useCallback(D=>{N(E0(D)),N(br({handler:g,reactEvent:D}))},[N,g]),ae=_.useCallback(()=>{N(sR())},[N]),q=_.useCallback(D=>{N(iR(D.key))},[N]),ne=_.useCallback(D=>{N(br({handler:l,reactEvent:D}))},[N,l]),L=_.useCallback(D=>{N(br({handler:u,reactEvent:D}))},[N,u]),Q=_.useCallback(D=>{N(br({handler:d,reactEvent:D}))},[N,d]),oe=_.useCallback(D=>{N(br({handler:v,reactEvent:D}))},[N,v]),me=_.useCallback(D=>{N(br({handler:S,reactEvent:D}))},[N,S]),ie=_.useCallback(D=>{N(lR(D)),N(br({handler:w,reactEvent:D}))},[N,w]),C=_.useCallback(D=>{N(br({handler:x,reactEvent:D}))},[N,x]);return _.createElement(mM.Provider,{value:A},_.createElement(BC.Provider,{value:P},_.createElement("div",{className:at("recharts-wrapper",r),style:XZ({position:"relative",cursor:"default",width:E,height:i},j),onClick:H,onContextMenu:ne,onDoubleClick:L,onFocus:ae,onKeyDown:q,onMouseDown:Q,onMouseEnter:$,onMouseLeave:K,onMouseMove:F,onMouseUp:oe,onTouchEnd:C,onTouchMove:ie,onTouchStart:me,ref:z},n)))}),tee=["children","className","width","height","style","compact","title","desc"];function nee(e,t){if(e==null)return{};var n,r,i=ree(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ree(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hR=_.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:l,compact:u,title:d,desc:f}=e,p=nee(e,tee),g=ki(p);return u?_.createElement(HA,{otherAttributes:g,title:d,desc:f},n):_.createElement(eee,{className:r,style:l,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(HA,{otherAttributes:g,title:d,desc:f,ref:t},_.createElement(dJ,null,n)))}),aee=["width","height"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function iee(e,t){if(e==null)return{};var n,r,i=see(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function see(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oee={top:5,right:5,bottom:5,left:5},lee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oee,reverseStackOrder:!1,syncMethod:"index"},cee=_.forwardRef(function(t,n){var r,i=Cn(t.categoricalChartProps,lee),{width:o,height:l}=i,u=iee(i,aee);if(!il(o)||!il(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return _.createElement(uR,{preloadedState:{options:x},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},_.createElement(GM,{chartData:v.data}),_.createElement(dR,{width:o,height:l,layout:i.layout,margin:i.margin}),_.createElement(fR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(hR,A0({},u,{width:o,height:l,ref:n})))}),uee=["axis","item"],dee=_.forwardRef((e,t)=>_.createElement(cee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uee,tooltipPayloadSearcher:pM,categoricalChartProps:e,ref:t}));function fee(e){var t=Ot();return _.useEffect(()=>{t(LZ(e))},[t,e]),null}var hee=["width","height","layout"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function mee(e,t){if(e==null)return{};var n,r,i=pee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gee={top:5,right:5,bottom:5,left:5},vee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yee=_.forwardRef(function(t,n){var r,i=Cn(t.categoricalChartProps,vee),{width:o,height:l,layout:u}=i,d=mee(i,hee);if(!il(o)||!il(l))return null;var{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,x={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return _.createElement(uR,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},_.createElement(GM,{chartData:i.data}),_.createElement(dR,{width:o,height:l,layout:u,margin:i.margin}),_.createElement(fR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(fee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(hR,N0({width:o,height:l},d,{ref:n})))}),bee=["item"],xee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_ee=_.forwardRef((e,t)=>{var n=Cn(e,xee);return _.createElement(yee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bee,tooltipPayloadSearcher:pM,categoricalChartProps:n,ref:t})});const FA=[{value:"editor",label:"Éditeur",headerDescription:"Gestion complète",helper:"Créer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des données."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accès bloqué",helper:"Masquer totalement la section.",tooltip:"Bloque complètement l’accès à la section ou à la fonctionnalité."}],wee=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:o})=>{const l=_.useMemo(()=>{if(e.length===0)return[];const d=$n.map(x=>x.permissionKey),f=new Set(d),p=d.filter(x=>e.includes(x)),g=e.filter(x=>!f.has(x)).sort((x,w)=>r(x).localeCompare(r(w),"fr")),v=[];return p.length>0&&v.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&v.push({id:"custom",title:"Permissions personnalisées",keys:g}),v},[r,e]),u=d=>{e.forEach(f=>{(t[f]??"none")!==d&&n(f,d)})};return e.length===0?m.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rôle pour le moment."}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>u("editor"),title:"Autoriser toutes les sections en mode édition.",children:"Tout autoriser"}),m.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>u("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),m.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>u("none"),title:"Révoquer toutes les permissions.",children:"Tout bloquer"})]}),m.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:m.jsx("div",{className:"max-h-96 overflow-auto",children:m.jsx("div",{className:"min-w-full",children:m.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[m.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),FA.map(d=>m.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[m.jsx("div",{children:d.label}),m.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:d.headerDescription})]},d.value)),l.map(d=>m.jsxs(Ur.Fragment,{children:[m.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:d.title}),d.keys.map(f=>{const p=t[f]??"none",g=`permission-${f.replace(/[^a-zA-Z0-9_-]/g,"_")}`,v=f in i;return m.jsxs(Ur.Fragment,{children:[m.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(f)}),v&&o&&m.jsx("button",{type:"button",onClick:()=>o(f),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalisée",children:m.jsx(Ds,{className:"h-4 w-4"})})]})}),FA.map(x=>{const w=p===x.value;return m.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:m.jsxs("label",{className:`permission-choice${w?" is-active":""}`,title:x.tooltip,children:[m.jsx("input",{type:"radio",className:"sr-only",name:g,value:x.value,checked:w,onChange:()=>n(f,x.value)}),m.jsx("span",{className:"permission-choice__label",children:x.label}),m.jsx("span",{className:"permission-choice__helper",children:x.helper})]})},x.value)})]},f)})]},d.id))]})})})})]})},See=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:o,onAddCustomPermission:l,onRemoveCustomPermission:u,onCancel:d,isSubmitting:f,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:v,isPermissionGranted:x})=>{const[w,S]=_.useState(!1),[j,E]=_.useState(""),[N,A]=_.useState(""),[k,P]=_.useState(null),M=()=>{S(!1),E(""),A(""),P(null)},R=()=>{const z=j.trim(),H=N.trim();if(!z||!H){P("La clé technique et le nom affiché sont obligatoires.");return}if(g.includes(z)){P("Cette clé de permission existe déjà.");return}l(z,H),M()};return m.jsxs("div",{children:[m.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rôle sélectionné":"Créer un nouveau rôle"}),m.jsxs("form",{onSubmit:n,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rôle"}),m.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accès"}),m.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par défaut"}),m.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:z=>i(z.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:$n.map(z=>{const H=x(t.permissions[z.permissionKey]);return m.jsxs("option",{value:z.permissionKey,disabled:!H,children:[v(z.permissionKey),H?"":" (accès requis)"]},z.permissionKey)})}),p?m.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont désactivées."}):m.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),m.jsx(wee,{permissionKeys:g,permissions:t.permissions,onChange:o,getPermissionLabel:v,customPermissions:t.customPermissions,onRemoveCustomPermission:u}),m.jsx("div",{className:"mt-4 space-y-3",children:w?m.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[m.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Clé technique"}),m.jsx("input",{type:"text",value:j,onChange:z=>{E(z.target.value),P(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affiché"}),m.jsx("input",{type:"text",value:N,onChange:z=>{A(z.target.value),P(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),k&&m.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:k}),m.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[m.jsx("button",{type:"button",onClick:M,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),m.jsx("button",{type:"button",onClick:R,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):m.jsx("button",{type:"button",onClick:()=>{S(!0),P(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&m.jsx("button",{type:"button",onClick:d,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),m.jsxs("button",{type:"submit",disabled:f,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[m.jsx(Sz,{className:"mr-2 h-4 w-4"}),f?"Enregistrement...":e==="edit"?"Mettre à jour":"Créer"]})]})]})]})},jee=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:o,isEditing:l,deletingRoleId:u,getPermissionLabel:d})=>{const f=!t&&e.length===0;return m.jsxs("div",{className:"flex h-full flex-col",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rôles existants"}),m.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[m.jsx(cu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rôle"]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?m.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rôles..."}):f?m.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rôle configuré pour le moment."}):m.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&o===p.id;return m.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??"—"]}),p.homePage&&m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",d(p.homePage)]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),m.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:u===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[m.jsx(Ds,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var nN;const Oee=((nN=$n[0])==null?void 0:nN.permissionKey)??"/dashboard",Eee=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===lC.ADMIN||t==="administrateur"},us=(e,t,n={})=>{const r={...e||{}};return delete r[_s],$n.forEach(i=>{i.permissionKey in r||(i.permissionKey===Ma&&Eee(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},ds=e=>{const t=$n.find(n=>fs(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??Oee},GA=e=>{const t=us(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:ds(t),customPermissions:{...e}}},fs=e=>e==="editor"||e==="readonly",Aee=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=na(),[i,o]=_.useState([]),[l,u]=_.useState({}),[d,f]=_.useState(()=>GA({})),[p,g]=_.useState("create"),[v,x]=_.useState(!1),[w,S]=_.useState(!1),[j,E]=_.useState(null),[N,A]=_.useState(null),[k,P]=_.useState(null),M=_.useMemo(()=>{const ie=$n.map(D=>D.permissionKey),C=new Set;return Object.keys(l).forEach(D=>{ie.includes(D)||C.add(D)}),i.forEach(D=>{Object.keys(D.permissions).forEach(V=>{V!==_s&&(ie.includes(V)||C.add(V))})}),[...ie,...Array.from(C)]},[i,l]),R=_.useMemo(()=>$n.some(ie=>fs(d.permissions[ie.permissionKey])),[d.permissions]),z=_.useCallback(async()=>{x(!0);try{const ie=await ye.getRoles();o(ie),u(C=>{const D={...C};let V=!1;const W=new Set($n.map(J=>J.permissionKey));return ie.forEach(J=>{Object.keys(J.permissions).forEach(de=>{de===_s||W.has(de)||de in D||(D[de]=de,V=!0)})}),V?D:C}),P(null)}catch(ie){console.error("Failed to load roles:",ie),P("Impossible de charger les rôles.")}finally{x(!1)}},[]),H=_.useCallback(()=>{g("create"),f(GA(l))},[l]);_.useEffect(()=>{e&&(A(null),P(null),H(),z())},[e,z,H]),_.useEffect(()=>{f(ie=>{const C=ie.homePage;if(fs(ie.permissions[C]))return ie;const D=ds(ie.permissions);return D===C?ie:{...ie,homePage:D}})},[d.permissions]),_.useEffect(()=>{f(ie=>{const C=ie.customPermissions,D=l,V=Object.keys(C),W=Object.keys(D);if(V.length===W.length&&V.every(he=>D[he]===C[he]))return ie;const J=us(ie.permissions,ie.name,D),de=fs(J[ie.homePage])?ie.homePage:ds(J);return{...ie,customPermissions:{...D},permissions:J,homePage:de}})},[l]);const $=_.useCallback(ie=>{const C=$n.find(D=>D.permissionKey===ie);return C?C.name:l[ie]??ie},[l]);return{roles:i,formState:d,mode:p,isFetching:v,isSubmitting:w,deletingRoleId:j,statusMessage:N,errorMessage:k,permissionKeys:M,hasAccessibleHomePage:R,handleInputChange:ie=>{const{name:C,value:D}=ie.target;f(V=>({...V,[C]:D}))},handlePermissionChange:(ie,C)=>{f(D=>({...D,permissions:{...D.permissions,[ie]:C}}))},handleHomePageChange:ie=>{f(C=>({...C,homePage:ie}))},handleSelectRole:ie=>{const C=new Set($n.map(J=>J.permissionKey)),D={...l};let V=!1;Object.keys(ie.permissions).forEach(J=>{J===_s||C.has(J)||J in D||(D[J]=J,V=!0)}),V&&u(D);const W=us(ie.permissions,ie.name,V?D:l);g("edit"),f({id:ie.id,name:ie.name,pin:ie.pin??"",permissions:W,homePage:ie.homePage??ds(W),customPermissions:{...V?D:l}}),A(null),P(null)},handleDeleteRole:async ie=>{if(confirm("Supprimer ce rôle ? Cette action est irréversible.")){E(ie),A(null),P(null);try{await ye.deleteRole(ie),A("Rôle supprimé avec succès."),p==="edit"&&d.id===ie&&H(),await z(),(r==null?void 0:r.id)===ie&&await n()}catch(C){console.error("Failed to delete role:",C),P("Impossible de supprimer le rôle.")}finally{E(null)}}},handleSubmit:async ie=>{if(ie.preventDefault(),P(null),A(null),!d.name.trim()||!d.pin.trim()){P("Le nom et le code PIN sont obligatoires.");return}S(!0);try{const C=us(d.permissions,d.name,l),D=fs(C[d.homePage])?d.homePage:ds(C);if(p==="create")await ye.createRole({name:d.name.trim(),pin:d.pin.trim(),permissions:C,homePage:D}),A("Rôle créé avec succès."),await z(),await n(),H();else if(d.id){const V=await ye.updateRole(d.id,{name:d.name.trim(),pin:d.pin.trim(),permissions:C,homePage:D});A("Rôle mis à jour avec succès.");const W=us(V.permissions,V.name,l);f({id:V.id,name:V.name,pin:V.pin??"",permissions:W,homePage:V.homePage??ds(W),customPermissions:{...l}}),await z(),(r==null?void 0:r.id)===V.id&&await n()}}catch(C){console.error("Failed to save role:",C),P("Impossible d'enregistrer le rôle.")}finally{S(!1)}},handleClose:()=>{H(),A(null),P(null),t()},resetForm:H,getPermissionLabel:$,isPermissionGranted:fs,handleAddCustomPermission:(ie,C)=>{$n.some(D=>D.permissionKey===ie)||u(D=>{if(D[ie]===C)return D;const V={...D,[ie]:C};return f(W=>{const J=us(W.permissions,W.name,V);return ie in J||(J[ie]="none"),{...W,customPermissions:{...V},permissions:J}}),V})},handleRemoveCustomPermission:ie=>{$n.some(C=>C.permissionKey===ie)||u(C=>{if(!(ie in C))return C;const D={...C};return delete D[ie],f(V=>{const{[ie]:W,...J}=V.customPermissions,de={...V.permissions};delete de[ie];const he=us(de,V.name,D),Le=fs(he[V.homePage])?V.homePage:ds(he);return{...V,customPermissions:{...J},permissions:he,homePage:Le}}),D})}}},Nee=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:o,isSubmitting:l,deletingRoleId:u,statusMessage:d,errorMessage:f,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:v,handlePermissionChange:x,handleHomePageChange:w,handleSelectRole:S,handleDeleteRole:j,handleSubmit:E,handleClose:N,resetForm:A,getPermissionLabel:k,isPermissionGranted:P,handleAddCustomPermission:M,handleRemoveCustomPermission:R}=Aee({isOpen:e,onClose:t});return m.jsx(jn,{isOpen:e,onClose:N,title:"Gestion des rôles",size:"xl",children:m.jsxs("div",{className:"flex flex-col gap-6",children:[d&&m.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:d}),f&&m.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:f}),m.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[m.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:m.jsx(jee,{roles:n,isFetching:o,onCreateRole:A,onSelectRole:S,onDeleteRole:j,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:u,getPermissionLabel:k})}),m.jsx("div",{className:"flex-1",children:m.jsx(See,{mode:i,formState:r,onSubmit:E,onInputChange:v,onHomePageChange:w,onPermissionChange:x,onAddCustomPermission:M,onRemoveCustomPermission:R,onCancel:A,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:k,isPermissionGranted:P})})]})]})})},ff=({title:e,value:t,icon:n})=>m.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[m.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),m.jsxs("div",{className:"w-full space-y-2",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),m.jsx("div",{className:"w-full flex justify-center",children:m.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),hf=({title:e,value:t,icon:n,onClick:r})=>m.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[m.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs text-gray-500",children:e}),m.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),mR={week:{label:"Últimos 7 días",days:7},month:{label:"Últimos 30 días",days:30}},Cee=e=>{const{days:t}=mR[e],n=new Date($c());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},Tee=()=>{const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState("category"),[d,f]=_.useState(!1),[p,g]=_.useState(!1),[v,x]=_.useState("week");if(_.useEffect(()=>{(async()=>{const{start:N,end:A}=Cee(v),k=N.toISOString(),P=A.toISOString();o(!0);try{const[M,R]=await Promise.all([ye.getDashboardStats(v),ye.getSalesByProduct({start:k,end:P})]);t(M),r(R)}catch(M){console.error("Failed to fetch dashboard stats",M)}finally{o(!1)}})()},[v]),i)return m.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return m.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const w=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],S=l==="category"?e.ventesParCategorie:n,j=S.length>0;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[m.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries(mR).map(([E,N])=>{const A=E,k=v===A;return m.jsx("button",{onClick:()=>x(A),className:`px-3 py-1.5 rounded-md transition-colors ${k?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:N.label},A)})}),m.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[m.jsx(Tz,{className:"mr-2 h-4 w-4"}),"Gestión de roles"]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(ff,{title:`Ventas (${e.periodLabel})`,value:Me(e.ventesPeriode),icon:m.jsx(Gc,{size:28})}),m.jsx(ff,{title:`Beneficio (${e.periodLabel})`,value:Me(e.beneficePeriode),icon:m.jsx(Gc,{size:28})}),m.jsx(ff,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:m.jsx(Cy,{size:28})}),m.jsx(ff,{title:"Ticket promedio",value:Me(e.panierMoyen),icon:m.jsx(v5,{size:28})})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(hf,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:m.jsx(F0,{size:24})}),m.jsx(hf,{title:"Clientes actuales",value:e.clientsActuels,icon:m.jsx(Cy,{size:24})}),m.jsx(hf,{title:"En cocina",value:e.commandesEnCuisine,icon:m.jsx(iC,{size:24})}),m.jsx(hf,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:m.jsx(Nf,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>f(!0)})]}),m.jsxs("div",{className:"ui-card p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),m.jsx(tA,{width:"100%",height:300,children:m.jsxs(dee,{data:e.ventesPeriodeSeries,children:[m.jsx(QM,{strokeDasharray:"3 3"}),m.jsx(JM,{dataKey:"name"}),m.jsx(ZM,{}),m.jsx(W2,{}),m.jsx(Qc,{}),m.jsx(w0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),m.jsx(w0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),m.jsxs("div",{className:"ui-card p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribución de ventas (",e.periodLabel,")"]}),m.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[m.jsx("button",{onClick:()=>u("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categoría"}),m.jsx("button",{onClick:()=>u("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),j?m.jsx(tA,{width:"100%",height:300,children:m.jsxs(_ee,{children:[m.jsx(UM,{data:S,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:S.map((E,N)=>m.jsx(Au,{fill:w[N%w.length]},`cell-${N}`))}),m.jsx(W2,{formatter:E=>Me(E)}),m.jsx(Qc,{})]})}):m.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),m.jsx(jn,{isOpen:d,onClose:()=>f(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?m.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(E=>m.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[m.jsx("span",{className:"font-semibold text-red-800",children:E.nom}),m.jsxs("span",{className:"font-bold text-red-600",children:[E.stock_actuel," / ",E.stock_minimum," ",E.unite]})]},E.id))}):m.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),m.jsx(Nee,{isOpen:p,onClose:()=>g(!1)})]})},kee=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},Xx=({startTime:e,className:t=""})=>{const[n,r]=_.useState(Date.now()-e);_.useEffect(()=>{const u=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(u)},[e]);const i=Math.floor(n/6e4),o=kee(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return m.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[m.jsx(yh,{size:20}),m.jsx("span",{children:o})]})},YA={nom:"",capacite:"",couverts:""},Pee=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:o=!1})=>{const[l,u]=_.useState(YA),[d,f]=_.useState({}),[p,g]=_.useState(null),[v,x]=_.useState(!1),w=_.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);_.useEffect(()=>{if(!e){u(YA),f({}),g(null),x(!1);return}const N={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:o&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};u(N),f({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,o]);const S=N=>{const{name:A,value:k}=N.target;u(P=>({...P,[A]:k}))},j=()=>{const N={},A=l.nom.trim(),k=l.capacite.trim();A||(N.nom="Le nom est requis.");let P=null;if(!k)N.capacite="La capacité est requise.";else{const M=Number(k);!Number.isInteger(M)||M<=0?N.capacite="La capacité doit être un entier positif.":P=M}if(o){const M=l.couverts.trim();if(!M)N.couverts="Le nombre de couverts est requis.";else{const R=Number(M);!Number.isInteger(R)||R<=0?N.couverts="Les couverts doivent être un entier positif.":P!==null&&R>P&&(N.couverts="Les couverts ne peuvent pas dépasser la capacité.")}}return N},E=async N=>{N.preventDefault(),f({}),g(null);const A=j();if(Object.keys(A).length>0){f(A);return}const k={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(o){const P=l.couverts.trim();P&&(k.couverts=Number(P))}x(!0);try{await i(k)}catch(P){const M=P instanceof Error&&P.message?P.message:"Une erreur est survenue. Veuillez réessayer.";g(M)}finally{x(!1)}};return m.jsx(jn,{isOpen:e,onClose:t,title:w,size:"md",children:m.jsxs("form",{onSubmit:E,className:"space-y-5",children:[p&&m.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),m.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:S,disabled:v,placeholder:"Ex. Terrasse 1",autoFocus:!0}),d.nom&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.nom})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacité (nombre de places)"}),m.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:S,disabled:v,placeholder:"Ex. 4"}),d.capacite&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.capacite})]}),o&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),m.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:S,disabled:v,placeholder:"Ex. 2"}),d.couverts&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.couverts})]}),m.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:v,children:"Annuler"}),m.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:v,children:v?"Enregistrement...":"Enregistrer"})]})]})})},gi={libre:{text:"Libre",statusClass:"status--free",Icon:F0},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:Kz},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:F5},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:Gc}},Mee=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let o=0;for(;o<i.length&&i[o].toLowerCase()===r.toLowerCase();)o+=1;return[r,...i.slice(o)].join(" ")},Ree=e=>{switch(e.statut){case"libre":return gi.libre;case"en_cuisine":return gi.en_cuisine;case"para_entregar":return gi.para_entregar;case"para_pagar":return gi.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?gi.para_pagar:e.estado_cocina==="listo"?gi.para_entregar:e.commandeId?gi.en_cuisine:gi.libre}},Dee=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:o})=>{const l=Ci(),{text:u,statusClass:d,Icon:f}=Ree(e),[p,g]=_.useState(!1),v=_.useRef(null),x=()=>{l(`/commande/${e.id}`)},w=k=>{(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),x())},S=k=>{k.stopPropagation(),e.commandeId&&t(e.commandeId)},j=k=>{k.stopPropagation(),g(P=>!P)};_.useEffect(()=>{if(!p)return;const k=P=>{v.current&&!v.current.contains(P.target)&&g(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[p]);const E=k=>{k.stopPropagation(),g(!1),r==null||r(e)},N=async k=>{if(k.stopPropagation(),g(!1),!!i)try{await i(e)}catch(P){console.error("Failed to delete table from card:",P)}},A=Mee(e.nom);return m.jsxs("div",{onClick:x,onKeyDown:w,className:`ui-card status-card ${d} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&m.jsx("div",{className:"absolute left-3 top-3 z-10",children:m.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&m.jsxs("div",{className:"absolute right-3 top-3",ref:v,children:[m.jsx("button",{type:"button",onClick:j,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:o,children:m.jsx(QN,{size:18})}),p&&m.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[m.jsxs("button",{type:"button",onClick:E,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[m.jsx(mz,{size:16}),"Modifier"]}),m.jsxs("button",{type:"button",onClick:N,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:o,children:[m.jsx(Ds,{size:16}),o?"Suppression…":"Supprimer"]})]})]}),m.jsxs("div",{className:"status-card__header",children:[m.jsx("h3",{className:"status-card__title",children:A}),e.date_envoi_cuisine&&e.statut!=="libre"&&m.jsx("div",{className:"status-card__timer",children:m.jsx(Xx,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),m.jsxs("div",{className:"status-card__body",children:[m.jsx(f,{size:56,className:"status-card__icon"}),m.jsx("p",{className:"status-card__state",children:u})]}),m.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?m.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):m.jsxs("p",{className:"status-card__meta",children:["Capacité : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&m.jsx("button",{type:"button",onClick:S,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},Iee=()=>{var q;const{role:e}=na(),t=((q=e==null?void 0:e.permissions)==null?void 0:q["/ventes"])==="editor",[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState(null),[d,f]=_.useState(null),[p,g]=_.useState(null),[v,x]=_.useState(!1),[w,S]=_.useState("create"),[j,E]=_.useState(null),[N,A]=_.useState(null),k=_.useRef(0),P=_.useCallback(async()=>{const ne=++k.current;try{const L=await ye.getTables();ne===k.current&&(r(L),u(null))}catch(L){console.error("Failed to fetch tables",L),ne===k.current&&u("Impossible de charger le plan de salle. Veuillez réessayer.")}finally{ne===k.current&&o(!1)}},[]);_.useEffect(()=>{o(!0),P();const ne=setInterval(P,1e4),L=ye.notifications.subscribe("orders_updated",P);return()=>{clearInterval(ne),L()}},[P]);const M=_.useCallback(()=>{x(!1),E(null)},[]),R=_.useCallback(()=>{S("create"),E(null),f(null),g(null),x(!0)},[]),z=_.useCallback(ne=>{S("edit"),E(ne),f(null),g(null),x(!0)},[]),H=_.useCallback(async ne=>{f(null),g(null);try{let L="";if(w==="create")await ye.createTable(ne),L="Table créée avec succès.";else{if(!j){const Q="Aucune table sélectionnée pour la mise à jour.";throw f(Q),new Error(Q)}await ye.updateTable(j.id,ne),L="Table mise à jour avec succès."}await P(),M(),g(L)}catch(L){console.error("Failed to save table:",L);const Q=w==="create"?"Impossible de créer la table. Veuillez réessayer.":"Impossible de mettre à jour la table. Veuillez réessayer.";throw f(Q),new Error(Q)}},[P,M,w,j]),$=_.useCallback(async ne=>{if(confirm("Supprimer cette table ? Cette action est irréversible.")){f(null),g(null),A(ne.id);try{await ye.deleteTable(ne.id),await P(),g("Table supprimée avec succès.")}catch(L){console.error("Failed to delete table:",L),f("Impossible de supprimer la table. Veuillez réessayer.")}finally{A(null)}}},[P]),K=_.useCallback(async ne=>{f(null),g(null);const L=n.find(Q=>Q.commandeId===ne);if(L){r(Q=>Q.map(oe=>oe.id===L.id?{...oe,statut:"para_pagar",estado_cocina:"servido"}:oe));try{await ye.markOrderAsServed(ne),await P()}catch(Q){console.error("Failed to mark order as served:",Q),f("Impossible de marquer la commande comme servie. Veuillez réessayer."),await P()}}},[P,n]);if(i)return m.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const F=w==="edit"&&j?{nom:j.nom,capacite:j.capacite,couverts:j.couverts}:void 0,ae=w==="edit"&&!!(j!=null&&j.commandeId);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[t&&m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{type:"button",onClick:R,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[m.jsx(cu,{size:18}),"Ajouter une table"]})}),l&&m.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),d&&m.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:d}),p&&m.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),m.jsx("div",{className:"mt-6 status-grid",children:n.map(ne=>m.jsx(Dee,{table:ne,onServe:K,canEdit:!!t,onEdit:z,onDelete:$,isDeleting:N===ne.id},ne.id))}),m.jsx(Pee,{isOpen:v,onClose:M,mode:w,initialValues:F,onSubmit:H,showCouvertsField:ae})]})},Lee=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,o]=_.useState("efectivo"),[l,u]=_.useState(null),[d,f]=_.useState(!1),p=async g=>{g.preventDefault(),i&&(f(!0),await r(i,l),f(!1),t())};return m.jsx(jn,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),m.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:Me(n.total)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{value:i,onChange:g=>o(g.target.value),className:"mt-1 ui-select",children:[m.jsx("option",{value:"efectivo",children:"Efectivo"}),m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),m.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[m.jsx(oC,{size:18}),m.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),m.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>u(g.target.files?g.target.files[0]:null),className:"hidden"})]}),m.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:d?"Finalizando...":"Confirmar pago"})]})]})})},zee=e=>e??"",Uee=e=>!e||e.length===0?[]:e.slice().sort(),_f=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:zee(n.commentaire),excludedIngredients:Uee(n.excluded_ingredients)});return{size:e.length,itemsById:t}},VA=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let o=0;o<r.excludedIngredients.length;o+=1)if(r.excludedIngredients[o]!==i.excludedIngredients[o])return!1}return!0},$ee=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:o,isProductAvailable:l,handleProductPointerDown:u,handleProductKeyDown:d})=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"p-4 border-b",children:m.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(f=>m.jsx("button",{onClick:()=>o(f.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===f.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:f.nom},f.id))]})}),m.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(f=>{const p=!l(f),g=t[f.id]||0,v=()=>n(f),x=u(f),w=d(f);return m.jsxs("button",{type:"button",onClick:v,onPointerDown:x,onKeyDown:w,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&m.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&m.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:m.jsx(Nf,{size:16})}),m.jsx("img",{src:f.image,alt:f.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),m.jsx("p",{className:"font-semibold text-sm text-gray-800",children:f.nom_produit}),m.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:f.description}),m.jsx("p",{className:"font-bold text-brand-primary mt-1",children:Me(f.prix_vente)})]},f.id)})})]}),qee=_.memo($ee),Bee=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:o,onSendToKitchen:l,onServeOrder:u,onOpenPayment:d,isSending:f,hasPending:p,orderStatus:g,editingCommentId:v})=>{const x=e.pending.length+e.sent.length;return m.jsxs("div",{className:"ui-card flex flex-col",children:[m.jsx("div",{className:"p-4 border-b",children:m.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),m.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:x===0?m.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles à envoyer"}),m.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?m.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:w,index:S})=>m.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:w.quantite}),m.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),m.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Me(w.quantite*w.prix_unitaire)})]}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[Me(w.prix_unitaire)," /u"]}),m.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[m.jsx("button",{onClick:()=>n(S,-1),className:"p-1",children:m.jsx(A5,{size:20})}),m.jsx("span",{className:"font-bold w-6 text-center",children:w.quantite}),m.jsx("button",{onClick:()=>n(S,1),className:"p-1",children:m.jsx(G0,{size:20})})]})]}),v===w.id||w.commentaire?m.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:w.commentaire??"",onChange:j=>r(S,j.target.value),onBlur:()=>i(S),autoFocus:v===w.id,className:"mt-2 ui-input text-sm"}):m.jsxs("button",{onClick:()=>o(w.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[m.jsx(eC,{size:12})," Ajouter un commentaire"]})]},w.id))]}),e.sent.length>0&&m.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoyés en cuisine"}),m.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:w})=>m.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:w.quantite}),m.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),m.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Me(w.quantite*w.prix_unitaire)})]}),m.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[Me(w.prix_unitaire)," /u"]}),w.commentaire&&m.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',w.commentaire,'"']})]},w.id))]})]})}),m.jsxs("div",{className:"p-4 border-t space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Me(t)})]}),g==="listo"&&m.jsxs("button",{onClick:u,className:"w-full ui-btn-info justify-center py-3",children:[m.jsx(b5,{size:20}),m.jsx("span",{children:"Entregada"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs("button",{onClick:l,disabled:f||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[m.jsx(Ez,{size:20}),m.jsx("span",{children:f?"Synchronisation…":"Envoyer en Cuisine"})]}),m.jsxs("button",{onClick:d,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[m.jsx(Gc,{size:20}),m.jsx("span",{children:"Finaliser"})]})]})]})]})},Hee=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,o]=_.useState(1),[l,u]=_.useState("");if(_.useEffect(()=>{e&&(o(1),u(""))},[e,t==null?void 0:t.id]),!t)return null;const d=()=>{o(g=>Math.max(1,g-1))},f=()=>{o(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return m.jsx(jn,{isOpen:e,onClose:n,title:t.nom_produit,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&m.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),m.jsx("textarea",{value:l,onChange:g=>u(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spécifiques…"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{type:"button",onClick:d,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantité",children:m.jsx(tC,{size:18})}),m.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),m.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantité",children:m.jsx(cu,{size:18})})]}),m.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",Me(t.prix_vente*i),")"]})]})]})})},uy=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),Vr=e=>JSON.parse(JSON.stringify(e)),WA=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),XA=e=>(e??"").trim(),Kee=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>i===r[o])},Fee=(e,t,n,r,i=[])=>{const o=XA(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,u=e.findIndex(f=>f.produitRef===t.id&&f.estado==="en_attente"&&XA(f.commentaire)===o&&Kee(f.excluded_ingredients??[],i));if(u>-1)return e.map((f,p)=>p===u?{...f,quantite:f.quantite+l}:f);const d={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:o,estado:"en_attente"};return[...e,d]},QA=_f([]),Gee=()=>{const{tableId:e}=O4(),t=Ci(),[n,r]=_.useState(null),[i,o]=_.useState(null),[l,u]=_.useState([]),[d,f]=_.useState([]),[p,g]=_.useState([]),[v,x]=_.useState("all"),[w,S]=_.useState(!0),[j,E]=_.useState(!1),[N,A]=_.useState(!1),[k,P]=_.useState(null),[M,R]=_.useState(!1),[z,H]=_.useState(null),$=_.useRef(n),K=_.useRef(i),F=_.useRef(null),ae=_.useRef(null),q=_.useRef(null),ne=_.useRef(Promise.resolve()),L=_.useRef(null),Q=_.useRef(null),oe=_.useCallback((ue,pe,Oe)=>{if(!pe||pe.length===0)return ue.current=null,QA;const Ze=Oe??_f(pe);return ue.current={source:pe,snapshot:Ze},Ze},[]),me=_.useCallback((ue,pe)=>{if(!ue||ue.length===0)return pe.current=null,QA;const Oe=pe.current;return Oe&&Oe.source===ue?Oe.snapshot:oe(pe,ue)},[oe]);_.useEffect(()=>{$.current=n},[n]),_.useEffect(()=>{K.current=i},[i]);const ie=_.useCallback(ue=>{const pe=$.current;if(!pe)return!0;const Oe=ue??K.current;if(!Oe)return!0;const Ze=me(pe.items,L),Ge=ue?_f(Oe.items):me(Oe.items,Q);return VA(Ge,Ze)},[me]),C=_.useCallback(()=>{const ue=ae.current;if(!ue)return;const pe=_f(ue.items);F.current=Vr(ue);const Oe=$.current;if(Oe){const Ge=me(Oe.items,L);if(VA(Ge,pe)){ae.current=null;return}}ae.current=null,$.current=ue,r(ue),oe(L,ue.items,pe);const Ze=Vr(ue);K.current=Ze,o(Ze),oe(Q,Ze.items)},[me,oe]),D=_.useCallback(async(ue=!1)=>{if(e)try{if(ue||S(!0),ue){const Pe=await ye.createOrGetOrderByTableId(e),Qe=Vr(Pe);if(F.current=Qe,ie()){ae.current=null,r(Pe),$.current=Pe,oe(L,Pe.items);const St=Vr(Pe);K.current=St,o(St),oe(Q,St.items)}else{const St=K.current;St&&JSON.stringify(St)===JSON.stringify(Pe)?ae.current=null:ae.current=Qe}return}const[pe,Oe,Ze,Ge]=await Promise.all([ye.createOrGetOrderByTableId(e),ye.getProducts(),ye.getCategories(),ye.getIngredients()]);F.current=Vr(pe),r(pe),$.current=pe,oe(L,pe.items);const wt=Vr(pe);o(wt),K.current=wt,oe(Q,wt.items),u(Oe),f(Ze),g(Ge),ae.current=null}catch(pe){console.error("Failed to load order data",pe),t("/ventes")}finally{ue||S(!1)}},[ie,t,e,oe]);_.useEffect(()=>{D()},[D]),_.useEffect(()=>{ie()&&C()},[C,ie,n,i]),_.useEffect(()=>{const ue=ye.notifications.subscribe("orders_updated",()=>D(!0));return()=>ue()},[D]);const V=_.useMemo(()=>!ie(),[ie,n,i]),W=_.useMemo(()=>n?n.items.reduce((ue,pe)=>(pe.estado!=="en_attente"||(ue[pe.produitRef]=(ue[pe.produitRef]||0)+pe.quantite),ue),{}):{},[n]),J=_.useMemo(()=>v==="all"?l:l.filter(ue=>ue.categoria_id===v),[v,l]),de=_.useCallback(ue=>{if(!ue.recipe||ue.recipe.length===0)return!0;for(const pe of ue.recipe){const Oe=p.find(Ze=>Ze.id===pe.ingredient_id);if(!Oe||Oe.stock_actuel<=Oe.stock_minimum)return!1}return!0},[p]);_.useEffect(()=>()=>{q.current!==null&&(window.clearTimeout(q.current),q.current=null)},[]);const he=_.useCallback(async(ue,pe)=>{const Oe=$.current;if(!Oe)return;const Ze=St=>typeof ue=="function"?ue(St):ue,wt=(pe!=null&&pe.isLocalUpdate?Oe.items:(pe==null?void 0:pe.removalSourceItems)??Oe.items).map(St=>({...St})),Pe=Ze(wt),Qe={...Oe,items:Pe,total:Pe.reduce((St,Ee)=>St+Ee.quantite*Ee.prix_unitaire,0)};if(r(Qe),$.current=Qe,oe(L,Qe.items),pe!=null&&pe.isLocalUpdate)return;const dt=async()=>{try{let St=ae.current??F.current??null;if(!St){const Lt=await ye.getOrderById(Oe.id);Lt?(St=Lt,F.current=Vr(Lt)):St=Oe}if(!St)return;const Ee=$.current.items.map(Lt=>({...Lt})),kt=((pe==null?void 0:pe.removalSourceItems)??Oe.items).filter(Lt=>uy(Lt.id)&&!Ee.some(Ks=>Ks.id===Lt.id)).map(Lt=>Lt.id),tn=await ye.updateOrder(Oe.id,{items:Ee,removedItemIds:kt},{includeNotifications:!1});r(tn),$.current=tn,oe(L,tn.items);const Cr=Vr(tn);o(Cr),K.current=Cr,oe(Q,Cr.items),F.current=Vr(tn),ye.getIngredients().then(g).catch(Lt=>{console.error("Failed to refresh ingredients",Lt)}),C()}catch(St){console.error("Failed to update order:",St),alert("Une erreur est survenue lors de la mise à jour de la commande."),D(!0)}};ne.current=ne.current.then(dt,dt),await ne.current},[C,D,oe]),Le=_.useCallback((ue=300)=>{q.current!==null&&window.clearTimeout(q.current);const pe=ue>0?ue:1;q.current=window.setTimeout(async()=>{if(q.current=null,!$.current)return;const Oe=$.current.items.map(Ge=>({...Ge})),Ze=F.current?F.current.items.map(Ge=>({...Ge})):Oe.map(Ge=>({...Ge}));await he(Oe,{removalSourceItems:Ze})},pe)},[he]),te=_.useCallback(ue=>{$.current&&(he(ue,{isLocalUpdate:!0}),Le())},[Le,he]),we=_.useCallback(ue=>{H(ue)},[]),Ce=_.useCallback(()=>{H(null)},[]),ce=_.useCallback(ue=>{z&&(te(pe=>Fee(pe,z,ue,WA)),H(null))},[te,z]),Nt=_.useCallback((ue,pe)=>{const Oe=$.current;if(!Oe||!Oe.items[ue])return;const Ze=Oe.items[ue].id;te(Ge=>{const wt=Ge.findIndex(Qe=>Qe.id===Ze);if(wt===-1)return Ge;const Pe=Ge[wt].quantite+pe;return Pe<=0?Ge.filter(Qe=>Qe.id!==Ze):Ge.map(Qe=>Qe.id===Ze?{...Qe,quantite:Pe}:Qe)})},[te]),ze=_.useCallback((ue,pe)=>{const Oe=$.current;if(!Oe||!Oe.items[ue])return;const Ze=Oe.items[ue].id;he(Ge=>{const wt=Ge.findIndex(dt=>dt.id===Ze);if(wt===-1)return Ge;const Pe=Ge.map(dt=>({...dt})),Qe=Pe[wt];if(Qe.quantite>1&&!Qe.commentaire&&pe){Qe.quantite-=1;const dt={...Qe,id:WA(),quantite:1,commentaire:pe};Pe.push(dt),P(dt.id)}else Qe.commentaire=pe;return Pe},{isLocalUpdate:!0})},[he]),Ct=_.useCallback(ue=>{$.current&&(he($.current.items.map(pe=>({...pe}))),P(null))},[he]),Tt=_.useCallback(async()=>{if($.current){R(!0);try{let ue=$.current;for(;ue&&ue.items.some(Pe=>Pe.estado==="en_attente"&&!uy(Pe.id));)await he(ue.items.map(Pe=>({...Pe}))),ue=$.current;if(ue=$.current,!ue)return;const pe=ue.items.filter(Pe=>Pe.estado==="en_attente");if(pe.length===0)return;if(pe.filter(Pe=>!uy(Pe.id)).length>0){console.warn("Des articles non persistés subsistent après synchronisation, envoi annulé.");return}const Ze=pe.map(Pe=>Pe.id),Ge=await ye.sendOrderToKitchen(ue.id,Ze);r(Ge),$.current=Ge,oe(L,Ge.items);const wt=Vr(Ge);o(wt),K.current=wt,oe(Q,wt.items),t("/ventes")}catch(ue){console.error("Failed to send order to kitchen",ue),alert("Erreur lors de l'envoi en cuisine.")}finally{R(!1)}}},[t,he,oe]),en=_.useCallback(async()=>{if(n)try{const ue=await ye.markOrderAsServed(n.id);r(ue),$.current=ue,oe(L,ue.items)}catch(ue){console.error("Failed to mark order as served",ue)}},[n,oe]),Ar=async(ue,pe)=>{if(n)try{let Oe=n.payment_receipt_url??void 0;pe&&(Oe=await HN(pe,{orderId:n.id})),await ye.finalizeOrder(n.id,ue,Oe),t("/ventes")}catch(Oe){console.error("Failed to finalize order",Oe),alert("Erreur lors de la finalisation ou du téléversement du justificatif.")}},Di=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){A(!0);return}V?A(!0):t("/ventes")},ra=async()=>{try{n&&n.estado_cocina==="no_enviado"?await ye.cancelUnsentTableOrder(n.id):i&&!ie(i)&&await he(i.items)}catch(ue){console.error("Failed to cancel unsent order before exiting",ue)}finally{A(!1),t("/ventes")}},Nr=(n==null?void 0:n.items)??[],Ka=_.useMemo(()=>Nr.reduce((ue,pe,Oe)=>(pe.estado==="en_attente"?ue.pending.push({item:pe,index:Oe}):ue.sent.push({item:pe,index:Oe}),ue),{pending:[],sent:[]}),[Nr]),Ii=_.useCallback(ue=>pe=>{pe.preventDefault(),pe.currentTarget.focus()},[]),It=_.useCallback(ue=>pe=>{(pe.key==="Enter"||pe.key===" ")&&(pe.preventDefault(),we(ue))},[we]),aa=_.useCallback(()=>{E(!0)},[]),Bs=_.useCallback(ue=>{P(ue)},[]),Hs=_.useMemo(()=>Ka.pending.length>0,[Ka]);return w?m.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[m.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[m.jsx("div",{className:"p-4",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("button",{onClick:Di,className:"ui-btn-dark",title:"Retour au plan de salle",children:[m.jsx(c5,{size:20}),m.jsx("span",{children:"Retour plan de salle"})]}),m.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),m.jsx(qee,{filteredProducts:J,quantities:W,onAdd:we,activeCategoryId:v,categories:d,onSelectCategory:x,isProductAvailable:de,handleProductPointerDown:Ii,handleProductKeyDown:It})]}),m.jsx(Bee,{categorizedItems:Ka,total:n.total,onQuantityChange:Nt,onCommentChange:ze,onPersistComment:Ct,onStartEditingComment:Bs,onSendToKitchen:Tt,onServeOrder:en,onOpenPayment:aa,isSending:M,hasPending:Hs,orderStatus:n.estado_cocina,editingCommentId:k})]}),m.jsx(Hee,{isOpen:z!==null,product:z,onClose:Ce,onSave:ce}),m.jsx(Lee,{isOpen:j,onClose:()=>E(!1),order:n,onFinalize:Ar}),m.jsxs(jn,{isOpen:N,onClose:()=>A(!1),title:"Quitter sans envoyer ?",children:[m.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoyés en cuisine. Si vous quittez, ils seront annulés. Voulez-vous continuer ?"}),m.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[m.jsx("button",{onClick:()=>A(!1),className:"ui-btn-secondary",children:"Non, rester"}),m.jsx("button",{onClick:ra,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):m.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouvée."})},Yee={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},Vee=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},pR=e=>{const t=Vee(e),n=Yee[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},Wee=({order:e,onReady:t,canMarkReady:n})=>{const r=pR(e.date_envoi_cuisine||Date.now()),i=_.useMemo(()=>{const u=[],d=new Map;return e.items.forEach(f=>{var w;const p=(w=f.commentaire)==null?void 0:w.trim(),g=p||"no_comment",v=`${f.produitRef}::${g}`;if(p){u.push({key:`${v}::${f.id}`,nom_produit:f.nom_produit,quantite:f.quantite,commentaire:p});return}const x=d.get(v);if(x!==void 0){u[x].quantite+=f.quantite;return}d.set(v,u.length),u.push({key:v,nom_produit:f.nom_produit,quantite:f.quantite})}),u},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return m.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[m.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:m.jsxs("div",{className:"flex w-full flex-col gap-4",children:[m.jsx("h3",{className:"w-full text-center text-3xl font-semibold text-gray-900 sm:text-left sm:text-4xl",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),m.jsx(Xx,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:m.jsx("ul",{className:"space-y-3",children:i.map(u=>m.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${r.accent}`,children:u.quantite}),m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.nom_produit})]}),u.commentaire&&m.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:u.commentaire})]},u.key))})}),m.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:m.jsxs("div",{className:"flex w-full flex-col gap-3",children:[m.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&m.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[m.jsx(VN,{size:22,className:"shrink-0"}),m.jsx("span",{children:"LISTO"})]})]})})]})},Xee=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),{role:i}=na(),o=(i==null?void 0:i.permissions["/cocina"])==="editor",l=_.useCallback(async()=>{try{const d=await ye.getKitchenOrders();t(d)}catch(d){console.error("Failed to fetch kitchen orders",d)}finally{r(!1)}},[]);_.useEffect(()=>{l();const d=setInterval(l,5e3),f=ye.notifications.subscribe("orders_updated",l);return()=>{clearInterval(d),f()}},[l]);const u=async(d,f)=>{try{await ye.markOrderAsReady(d,f),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?m.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):m.jsx("div",{className:"flex h-full flex-col",children:e.length===0?m.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparación."}):m.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(d=>m.jsx(Wee,{order:d,onReady:u,canMarkReady:o},d.ticketKey))})})},JA=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,o]=_.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,u=e.date_envoi_cuisine||e.date_creation,d=pR(u),f={normal:"Normal",warning:"En seguimiento",critical:"Crítico"};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${d.border} ${d.background}`,children:[m.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${d.accent}`}),m.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(u).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),m.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${d.badge}`,children:[m.jsx("span",{className:`h-2 w-2 rounded-full ${d.accent}`}),m.jsx("span",{children:f[d.level]})]})]}),m.jsx(Xx,{startTime:u,className:"text-sm sm:text-base"})]})}),m.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&m.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[m.jsx(X0,{size:16,className:d.icon}),m.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&m.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[m.jsx(nC,{size:14,className:"text-gray-500"}),m.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[m.jsx(Y0,{size:16,className:`mt-0.5 text-gray-500 ${d.icon}`}),m.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artículos"}),e.items.length>0?m.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var v;const g=(v=p.commentaire)==null?void 0:v.trim();return m.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${d.accent}`,children:p.quantite}),m.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),m.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:Me(p.prix_unitaire*p.quantite)})]}),g&&m.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):m.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido aún no tiene artículos registrados."})]}),m.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:Me(e.total)})]})]}),m.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>o(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[m.jsx(Ay,{size:16,className:d.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),m.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&m.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),m.jsx(jn,{isOpen:i,onClose:()=>o(!1),title:"Comprobante de pago",children:e.receipt_url?m.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):m.jsx("p",{children:"No se proporcionó comprobante."})})]})},Qee=()=>{const[e,t]=_.useState([]),[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState(null),d=_.useCallback(async()=>{try{const{pending:g,ready:v}=await ye.getTakeawayOrders();t(g.sort((x,w)=>x.date_creation-w.date_creation)),r(v.sort((x,w)=>(x.date_listo_cuisine||0)-(w.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{o(!1)}},[]);_.useEffect(()=>{o(!0),d();const g=setInterval(d,1e4),v=ye.notifications.subscribe("orders_updated",d);return()=>{clearInterval(g),v()}},[d]);const f=async g=>{if(!l){u(g);try{await ye.validateTakeawayOrder(g),await d()}catch(v){console.error("Failed to validate order:",v),alert(`No se pudo validar el pedido: ${v.message}`)}finally{u(null)}}},p=async g=>{if(!l){u(g);try{await ye.markTakeawayAsDelivered(g),await d()}catch(v){console.error("Failed to mark order as delivered:",v),alert("Ocurrió un error al finalizar el pedido.")}finally{u(null)}}};return i?m.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[m.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validación (",e.length,")"]}),m.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>m.jsx(JA,{order:g,onValidate:f,isProcessing:l===g.id},g.id)):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),m.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),m.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>m.jsx(JA,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},Jee=()=>{const{role:e}=na(),[t,n]=_.useState([]),[r,i]=_.useState(!0),[o,l]=_.useState(null),[u,d]=_.useState(""),[f,p]=_.useState(!1),[g,v]=_.useState(!1),[x,w]=_.useState(!1),[S,j]=_.useState(null),[E,N]=_.useState("add"),A=(e==null?void 0:e.permissions["/ingredients"])==="editor",k=_.useCallback(async()=>{try{const R=await ye.getIngredients();n(R),l(null)}catch(R){l("Impossible de charger les ingrédients."),console.error(R)}finally{i(!1)}},[]);_.useEffect(()=>{i(!0),k()},[k]);const P=_.useMemo(()=>t.filter(R=>R.nom.toLowerCase().includes(u.toLowerCase())),[t,u]),M=(R,z=null)=>{j(z),R==="add"||R==="edit"?(N(R),p(!0)):R==="resupply"?v(!0):R==="delete"&&w(!0)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[m.jsxs("div",{className:"relative w-full md:w-80",children:[m.jsx(W0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Rechercher un ingrédient...",value:u,onChange:R=>d(R.target.value),className:"ui-input pl-10 sm:w-64"})]}),A&&m.jsxs("button",{onClick:()=>M("add"),className:"w-full md:w-auto ui-btn-primary",children:[m.jsx(G0,{size:20}),"Ajouter un ingrédient"]})]}),r?m.jsx("p",{className:"text-gray-800",children:"Chargement..."}):o?m.jsx("p",{className:"text-red-500",children:o}):m.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),A&&m.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{children:P.map(R=>{const z=R.stock_actuel<=R.stock_minimum;return m.jsxs("tr",{className:`border-b hover:bg-gray-50 ${z?"bg-red-50":""}`,children:[m.jsx("td",{className:`p-3 font-semibold ${z?"text-red-900":"text-gray-900"}`,children:R.nom}),m.jsxs("td",{className:`p-3 font-bold ${z?"text-red-700":"text-gray-800"}`,children:[R.stock_actuel," ",R.unite]}),m.jsxs("td",{className:`p-3 ${z?"text-red-800":"text-gray-700"}`,children:[R.stock_minimum," ",R.unite]}),m.jsx("td",{className:`p-3 ${z?"text-red-800":"text-gray-700"}`,children:Me(R.prix_unitaire)}),A&&m.jsx("td",{className:"p-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>M("resupply",R),title:"Réapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:m.jsx(dz,{size:20})}),m.jsx("button",{onClick:()=>M("edit",R),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:m.jsx(sC,{size:20})}),m.jsx("button",{onClick:()=>M("delete",R),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:m.jsx(Ds,{size:20})})]})})]},R.id)})})]})}),f&&A&&m.jsx(Zee,{isOpen:f,onClose:()=>p(!1),onSuccess:k,ingredient:S,mode:E}),g&&A&&S&&m.jsx(ete,{isOpen:g,onClose:()=>v(!1),onSuccess:k,ingredient:S}),x&&A&&S&&m.jsx(tte,{isOpen:x,onClose:()=>w(!1),onSuccess:k,ingredient:S})]})},Zee=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[o,l]=_.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[u,d]=_.useState(!1),f=async p=>{p.preventDefault(),d(!0);try{i==="edit"&&r?await ye.updateIngredient(r.id,o):await ye.addIngredient(o),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{d(!1)}};return m.jsx(jn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrédient":"Modifier l'Ingrédient",children:m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),m.jsx("input",{type:"text",id:"nom",value:o.nom,onChange:p=>l({...o,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unité"}),m.jsxs("select",{id:"unite",value:o.unite,onChange:p=>l({...o,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[m.jsx("option",{value:"g",children:"Grammes (g)"}),m.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),m.jsx("option",{value:"ml",children:"Millilitres (ml)"}),m.jsx("option",{value:"L",children:"Litres (L)"}),m.jsx("option",{value:"unite",children:"Unité"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),m.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:o.stock_minimum,onChange:p=>l({...o,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:u,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:u?"Sauvegarde...":"Sauvegarder"})]})]})})},ete=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=_.useState(0),[l,u]=_.useState(0),[d,f]=_.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){f(!0);try{await ye.resupplyIngredient(r.id,i,l),n(),t()}catch(v){console.error("Failed to resupply ingredient",v)}finally{f(!1)}}};return m.jsx(jn,{isOpen:e,onClose:t,title:`Réapprovisionner: ${r.nom}`,children:m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantité Achetée (",r.unite,")"]}),m.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>o(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unité (",r.unite,")"]}),m.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>u(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:d?"Ajout...":"Ajouter au Stock"})]})]})})},tte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=_.useState(!1),[l,u]=_.useState(null),d=async()=>{o(!0),u(null);try{await ye.deleteIngredient(r.id),n(),t()}catch(f){console.error("Failed to delete ingredient",f),u("Impossible de supprimer cet ingrédient car il est utilisé dans au moins une recette.")}finally{o(!1)}};return m.jsxs(jn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[m.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer l'ingrédient ",m.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irréversible."]}),l&&m.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{onClick:d,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},ZA=[1,2,3,4,5,6],eN=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:Ey};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:yh};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:T5};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:ote}}},nte=()=>{const{role:e}=na(),[t,n]=_.useState([]),[r,i]=_.useState([]),[o,l]=_.useState([]),[u,d]=_.useState(!0),[f,p]=_.useState(null),[g,v]=_.useState(""),[x,w]=_.useState("all"),[S,j]=_.useState(!1),[E,N]=_.useState(!1),[A,k]=_.useState(!1),[P,M]=_.useState(null),[R,z]=_.useState("add"),H=(e==null?void 0:e.permissions["/produits"])==="editor",$=_.useCallback(async()=>{try{d(!0);const[ne,L,Q]=await Promise.all([ye.getProducts(),ye.getCategories(),ye.getIngredients()]);n(ne),i(L),l(Q),p(null)}catch(ne){p("Impossible de charger les données des produits."),console.error(ne)}finally{d(!1)}},[]);_.useEffect(()=>{$()},[$]);const K=_.useMemo(()=>t.filter(ne=>ne.nom_produit.toLowerCase().includes(g.toLowerCase())&&(x==="all"||ne.categoria_id===x)),[t,g,x]),F=_.useMemo(()=>{const ne=new Map;return t.forEach(L=>{L.is_best_seller&&L.best_seller_rank!=null&&ne.set(L.best_seller_rank,L)}),ne},[t]),ae=(ne,L="add",Q=null)=>{ne==="product"?(z(L),M(Q),j(!0)):ne==="category"?N(!0):ne==="delete"&&Q&&(M(Q),k(!0))},q=async(ne,L)=>{try{await ye.updateProduct(ne.id,{estado:L}),$()}catch(Q){console.error("Failed to update status",Q);const oe=Q instanceof Error?Q.message:"Une erreur inconnue s'est produite.";alert(`Échec de la mise à jour du statut du produit : ${oe}`)}};return u?m.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):f?m.jsx("p",{className:"text-red-500",children:f}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[m.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[m.jsx(W0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:ne=>v(ne.target.value),className:"ui-input pl-10"})]}),m.jsxs("select",{value:x,onChange:ne=>w(ne.target.value),className:"ui-select md:w-56",children:[m.jsx("option",{value:"all",children:"Toutes les catégories"}),r.map(ne=>m.jsx("option",{value:ne.id,children:ne.nom},ne.id))]})]}),H&&m.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[m.jsx("button",{onClick:()=>N(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:m.jsx(Nz,{size:20})}),m.jsxs("button",{onClick:()=>ae("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[m.jsx(G0,{size:20}),"Ajouter Produit"]})]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:K.map(ne=>m.jsx(rte,{product:ne,category:r.find(L=>L.id===ne.categoria_id),onEdit:()=>ae("product","edit",ne),onDelete:()=>ae("delete","edit",ne),onStatusChange:q,canEdit:H},ne.id))}),S&&H&&m.jsx(ate,{isOpen:S,onClose:()=>j(!1),onSuccess:$,product:P,mode:R,categories:r,ingredients:o,occupiedPositions:F}),E&&H&&m.jsx(ite,{isOpen:E,onClose:()=>N(!1),onSuccess:$,categories:r}),A&&H&&P&&m.jsx(ste,{isOpen:A,onClose:()=>k(!1),onSuccess:$,product:P})]})},rte=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:o})=>{const{text:l,color:u,Icon:d}=eN(e.estado),[f,p]=_.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,m.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&m.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),m.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catégorie"}),m.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),m.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:Me(e.prix_vente)})]}),m.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${u}`,children:[m.jsx(d,{size:14})," ",l]}),o&&m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>p(!f),className:"p-1 text-gray-500 hover:text-gray-800",children:m.jsx(QN,{size:20})}),f&&m.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[m.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),m.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),m.jsx("div",{className:"border-t my-1"}),m.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(v=>m.jsx("button",{onClick:()=>{i(e,v),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:eN(v).text},v))]})]})]})]})]})},ate=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:o,ingredients:l,occupiedPositions:u})=>{var H;const[d,f]=_.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((H=o[0])==null?void 0:H.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=_.useState(null),[v,x]=_.useState(!1);_.useEffect(()=>{var $;e&&(f({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||((($=o[0])==null?void 0:$.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,o]);const w=_.useCallback(()=>{for(const $ of ZA){const K=u.get($);if(!K||K.id===(r==null?void 0:r.id))return $}return null},[u,r==null?void 0:r.id]),S=_.useCallback($=>{f(K=>{if($){const F=K.best_seller_rank??w();return{...K,is_best_seller:!0,best_seller_rank:F??null}}return{...K,is_best_seller:!1,best_seller_rank:null}})},[w]),j=_.useCallback($=>{const K=$.target.value;f(F=>({...F,best_seller_rank:K?Number(K):null}))},[]),E=_.useMemo(()=>new Map(l.map($=>[$.id,$])),[l]),N=_.useMemo(()=>d.recipe.reduce(($,K)=>{const F=E.get(K.ingredient_id);if(!F)return $;let ae=F.prix_unitaire;return(F.unite==="kg"||F.unite==="L")&&(ae=ae/1e3),$+ae*K.qte_utilisee},0),[d.recipe,E]),A=d.prix_vente-N,k=d.prix_vente>0?A/d.prix_vente*100:0,P=($,K,F)=>{const ae=[...d.recipe];if(K==="qte_utilisee"){const{valueAsNumber:q,value:ne}=F.currentTarget,L=Number.isNaN(q)?Number(ne.replace(",",".")):q;ae[$]={...ae[$],[K]:Number.isNaN(L)?ae[$].qte_utilisee:L}}else ae[$]={...ae[$],[K]:F.currentTarget.value};f(q=>({...q,recipe:ae}))},M=()=>{l.length!==0&&f({...d,recipe:[...d.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},R=$=>{const K=d.recipe.filter((F,ae)=>ae!==$);f({...d,recipe:K})},z=async $=>{var K;if($.preventDefault(),d.recipe.length===0){alert("Veuillez ajouter au moins un ingrédient à la recette.");return}if(d.is_best_seller){if(d.best_seller_rank==null){alert("Veuillez sélectionner une position de best seller disponible.");return}const F=u.get(d.best_seller_rank);if(F&&F.id!==(r==null?void 0:r.id)){alert(`La position ${d.best_seller_rank} est déjà occupée par ${F.nom_produit}.`);return}}x(!0);try{let F=((K=d.image)==null?void 0:K.trim())??"";p&&(F=await W6(p,d.nom_produit));const ae={...d,image:F,is_best_seller:d.is_best_seller,best_seller_rank:d.is_best_seller?d.best_seller_rank:null};i==="edit"&&r?await ye.updateProduct(r.id,ae):await ye.addProduct(ae),n(),g(null),t()}catch(F){console.error("Failed to save product",F);const ae=F instanceof Error?F.message:"Une erreur inconnue s'est produite.";alert(`Échec du téléversement de l'image du produit : ${ae}`)}finally{x(!1)}};return m.jsx(jn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:m.jsxs("form",{onSubmit:z,className:"space-y-4",children:[m.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),m.jsx("input",{type:"text",value:d.nom_produit,onChange:$=>f({...d,nom_produit:$.target.value}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),m.jsx("input",{type:"number",step:"0.01",min:"0",value:d.prix_vente,onChange:$=>{const{valueAsNumber:K,value:F}=$.currentTarget,ae=Number.isNaN(K)?Number(F.replace(",",".")):K;f(q=>({...q,prix_vente:Number.isNaN(ae)?q.prix_vente:ae}))},required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),m.jsx("select",{value:d.categoria_id,onChange:$=>f({...d,categoria_id:$.target.value}),required:!0,className:"mt-1 ui-select",children:o.map($=>m.jsx("option",{value:$.id,children:$.nom},$.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),m.jsxs("select",{value:d.estado,onChange:$=>f({...d,estado:$.target.value}),required:!0,className:"mt-1 ui-select",children:[m.jsx("option",{value:"disponible",children:"Disponible"}),m.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),m.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),m.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[m.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:d.is_best_seller,onChange:$=>S($.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),m.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),m.jsxs("select",{id:"best-seller-rank",value:d.best_seller_rank??"",onChange:j,disabled:!d.is_best_seller,className:"mt-1 ui-select",children:[m.jsx("option",{value:"",children:"Sélectionner une position"}),ZA.map($=>{const K=u.get($),F=(K==null?void 0:K.id)===(r==null?void 0:r.id),ae=!!(K&&!F),q=K?F?`${$} – Position actuelle`:`${$} – Occupé par ${K.nom_produit}`:`${$}`;return m.jsx("option",{value:$,disabled:ae,children:q},$)})]}),d.is_best_seller&&d.best_seller_rank===null&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Sélectionnez une position disponible pour ce best seller."})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Coût de revient"}),m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Me(N)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),m.jsx("p",{className:`text-lg font-semibold ${A>=0?"text-emerald-600":"text-red-600"}`,children:Me(A)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),m.jsxs("p",{className:`text-lg font-semibold ${k>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(k)?FU(k):"0","%"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{rows:3,value:d.description,onChange:$=>f({...d,description:$.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),m.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[m.jsx("img",{src:p?URL.createObjectURL(p):BN(d.image),alt:"Aperçu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),m.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(oC,{size:16}),m.jsx("span",{children:"Changer l'image"})]}),m.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:$=>g($.target.files?$.target.files[0]:null)})]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),d.recipe.length===0&&m.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:m.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrédient."})}),m.jsx("div",{className:"space-y-2",children:d.recipe.map(($,K)=>{var F,ae;return m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(H5,{className:"text-gray-400 cursor-move",size:16}),m.jsx("select",{value:$.ingredient_id,onChange:q=>P(K,"ingredient_id",q),className:"ui-select flex-grow",children:l.map(q=>m.jsx("option",{value:q.id,children:q.nom},q.id))}),m.jsx("input",{type:"number",placeholder:"Qté",value:$.qte_utilisee,onChange:q=>P(K,"qte_utilisee",q),className:"ui-input w-24"}),m.jsx("span",{className:"text-gray-500 text-sm w-12",children:((F=l.find(q=>q.id===$.ingredient_id))==null?void 0:F.unite)==="kg"?"g":(ae=l.find(q=>q.id===$.ingredient_id))==null?void 0:ae.unite}),m.jsx("button",{type:"button",onClick:()=>R(K),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:m.jsx(Ds,{size:16})})]},K)})}),m.jsx("button",{type:"button",onClick:M,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrédient"})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:v||d.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:v?"Sauvegarde...":"Sauvegarder"})]})]})})},ite=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,o]=_.useState(""),[l,u]=_.useState(""),d=async()=>{if(i.trim())try{await ye.addCategory(i),o(""),n()}catch(p){console.error(p)}},f=async p=>{u("");try{await ye.deleteCategory(p),n()}catch(g){u(g.message),console.error(g)}};return m.jsx(jn,{isOpen:e,onClose:t,title:"Gérer les Catégories",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Nom de la nouvelle catégorie",className:"ui-input flex-grow"}),m.jsx("button",{onClick:d,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&m.jsx("p",{className:"text-red-500 text-sm",children:l}),m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>m.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[m.jsx("span",{className:"text-gray-800",children:p.nom}),m.jsx("button",{onClick:()=>f(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:m.jsx(Ds,{size:16})})]},p.id))}),m.jsx("div",{className:"pt-4 flex",children:m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},ste=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,o]=_.useState(!1),l=async()=>{o(!0);try{await ye.deleteProduct(r.id),n(),t()}catch(u){console.error("Failed to delete product",u)}finally{o(!1)}};return m.jsxs(jn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[m.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer le produit ",m.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irréversible."]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},ote=({size:e})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),m.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),qs=e=>{if(e.error)throw new Error(e.error.message);return e.data},Cu=e=>({id:e.id,name:e.name,type:e.type,status:e.status,priority:e.priority,conditions:e.conditions,discount:e.discount,visuals:e.visuals||void 0,created_at:e.created_at,updated_at:e.updated_at,usage_count:e.usage_count}),lte=e=>({id:e.id,promotion_id:e.promotion_id,order_id:e.order_id,customer_phone:e.customer_phone||void 0,discount_amount:e.discount_amount,applied_at:e.applied_at}),cte=async()=>{const e=await fe.from("promotions").select("*").order("priority",{ascending:!1});return qs(e).map(Cu)},ute=async()=>{const e=await fe.from("promotions").select("*").eq("status","active").order("priority",{ascending:!1});return qs(e).map(Cu)},dte=async e=>{const t=await fe.from("promotions").insert({name:e.name,type:e.type,status:e.status,priority:e.priority,conditions:e.conditions,discount:e.discount,visuals:e.visuals||null,usage_count:0}).select().single(),n=qs(t);return Cu(n)},fte=async(e,t)=>{const n=await fe.from("promotions").update({name:t.name,type:t.type,status:t.status,priority:t.priority,conditions:t.conditions,discount:t.discount,visuals:t.visuals||null}).eq("id",e).select().single(),r=qs(n);return Cu(r)},hte=async e=>{const t=await fe.from("promotions").delete().eq("id",e);qs(t)},mte=async(e,t)=>{const n=await fe.from("promotions").update({status:t}).eq("id",e).select().single(),r=qs(n);return Cu(r)},pte=async e=>{const t=await fe.from("promotion_usages").select("*").eq("promotion_id",e).order("applied_at",{ascending:!1});return qs(t).map(lte)},gte=[{value:"percentage",label:"Pourcentage"},{value:"fixed_amount",label:"Montant fixe"},{value:"promo_code",label:"Code promo"},{value:"buy_x_get_y",label:"2x1 / Achetez X, obtenez Y"},{value:"free_product",label:"Produit gratuit"},{value:"free_shipping",label:"Livraison gratuite"},{value:"combo",label:"Combo"},{value:"threshold",label:"Palier"},{value:"happy_hour",label:"Happy hour"}],vte=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"scheduled",label:"Programmée"},{value:"expired",label:"Expirée"}],tN=({isOpen:e,onClose:t,onSave:n,promotion:r})=>{var F,ae;const[i,o]=_.useState(""),[l,u]=_.useState("percentage"),[d,f]=_.useState("active"),[p,g]=_.useState(0),[v,x]=_.useState({}),[w,S]=_.useState({type:"percentage",value:0,applies_to:"total"}),[j,E]=_.useState({}),[N,A]=_.useState(!1),[k,P]=_.useState(null),[M,R]=_.useState("general"),[z,H]=_.useState(!1);_.useEffect(()=>{r&&(o(r.name),u(r.type),f(r.status),g(r.priority),x(r.conditions),S(r.discount),E(r.visuals||{}))},[r]);const $=async q=>{q.preventDefault(),A(!0),P(null);try{r?await fte(r.id,{name:i,type:l,status:d,priority:p,conditions:v,discount:w,visuals:j}):await dte({name:i,type:l,status:d,priority:p,conditions:v,discount:w,visuals:j}),n()}catch(ne){P(ne instanceof Error?ne.message:"Une erreur est survenue")}finally{A(!1)}},K=async q=>{var L;const ne=(L=q.target.files)==null?void 0:L[0];if(ne){H(!0);try{const Q=await Q6(ne);E({...j,banner_image:Es(Q)})}catch{P("Erreur lors du téléchargement de l'image")}finally{H(!1)}}};return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold",children:r?"Modifier la promotion":"Nouvelle promotion"}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(As,{size:24})})]}),k&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:k}),m.jsxs("div",{className:"flex border-b",children:[m.jsx("button",{className:`px-4 py-3 font-medium ${M==="general"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("general"),children:"Général"}),m.jsx("button",{className:`px-4 py-3 font-medium ${M==="conditions"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("conditions"),children:"Conditions"}),m.jsx("button",{className:`px-4 py-3 font-medium ${M==="discount"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("discount"),children:"Réduction"}),m.jsx("button",{className:`px-4 py-3 font-medium ${M==="visuals"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("visuals"),children:"Affichage"})]}),m.jsxs("form",{onSubmit:$,className:"overflow-y-auto p-6",children:[M==="general"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la promotion"}),m.jsx("input",{type:"text",id:"name",value:i,onChange:q=>o(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de promotion"}),m.jsx("select",{id:"type",value:l,onChange:q=>u(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:gte.map(q=>m.jsx("option",{value:q.value,children:q.label},q.value))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),m.jsx("select",{id:"status",value:d,onChange:q=>f(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:vte.map(q=>m.jsx("option",{value:q.value,children:q.label},q.value))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),m.jsx("input",{type:"number",id:"priority",value:p,onChange:q=>g(parseInt(q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:"100"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Plus la valeur est élevée, plus la promotion est prioritaire."})]})]}),M==="conditions"&&m.jsxs("div",{className:"space-y-6",children:[l==="promo_code"&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code promo"}),m.jsx("input",{type:"text",id:"promo_code",value:v.promo_code||"",onChange:q=>x({...v,promo_code:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:l==="promo_code"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"min_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant minimum de commande"}),m.jsx("input",{type:"number",id:"min_order_amount",value:v.min_order_amount||"",onChange:q=>x({...v,min_order_amount:parseFloat(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de commande"}),m.jsx("input",{type:"number",id:"max_order_amount",value:v.max_order_amount||"",onChange:q=>x({...v,max_order_amount:parseFloat(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),m.jsx("input",{type:"datetime-local",id:"start_date",value:v.start_date?new Date(v.start_date).toISOString().slice(0,16):"",onChange:q=>x({...v,start_date:q.target.value?new Date(q.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),m.jsx("input",{type:"datetime-local",id:"end_date",value:v.end_date?new Date(v.end_date).toISOString().slice(0,16):"",onChange:q=>x({...v,end_date:q.target.value?new Date(q.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jours de la semaine"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"].map((q,ne)=>{var L;return m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"checkbox",checked:((L=v.days_of_week)==null?void 0:L.includes(ne))||!1,onChange:Q=>{const oe=v.days_of_week||[];Q.target.checked?x({...v,days_of_week:[...oe,ne]}):x({...v,days_of_week:oe.filter(me=>me!==ne)})},className:"form-checkbox h-4 w-4 text-brand-primary"}),m.jsx("span",{className:"ml-2 text-sm",children:q})]},ne)})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"hours_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de début"}),m.jsx("input",{type:"time",id:"hours_start",value:((F=v.hours_of_day)==null?void 0:F.start)||"",onChange:q=>x({...v,hours_of_day:{...v.hours_of_day||{},start:q.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"hours_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),m.jsx("input",{type:"time",id:"hours_end",value:((ae=v.hours_of_day)==null?void 0:ae.end)||"",onChange:q=>x({...v,hours_of_day:{...v.hours_of_day||{},end:q.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_uses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre maximum d'utilisations"}),m.jsx("input",{type:"number",id:"max_uses",value:v.max_uses_total||"",onChange:q=>x({...v,max_uses_total:parseInt(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_uses_per_customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum par client"}),m.jsx("input",{type:"number",id:"max_uses_per_customer",value:v.max_uses_per_customer||"",onChange:q=>x({...v,max_uses_per_customer:parseInt(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]})]}),l==="buy_x_get_y"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"buy_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité à acheter"}),m.jsx("input",{type:"number",id:"buy_quantity",value:v.buy_quantity||"",onChange:q=>x({...v,buy_quantity:parseInt(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"get_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité offerte"}),m.jsx("input",{type:"number",id:"get_quantity",value:v.get_quantity||"",onChange:q=>x({...v,get_quantity:parseInt(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"first_order_only",checked:v.first_order_only||!1,onChange:q=>x({...v,first_order_only:q.target.checked}),className:"h-4 w-4 text-brand-primary"}),m.jsx("label",{htmlFor:"first_order_only",className:"ml-2 text-sm text-gray-700",children:"Uniquement pour la première commande"})]})]}),M==="discount"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"discount_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de réduction"}),m.jsxs("select",{id:"discount_type",value:w.type,onChange:q=>S({...w,type:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"percentage",children:"Pourcentage"}),m.jsx("option",{value:"fixed_amount",children:"Montant fixe"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"discount_value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur de la réduction"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",id:"discount_value",value:w.value,onChange:q=>S({...w,value:parseFloat(q.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:(w.type==="percentage","0.01"),required:!0}),m.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.type==="percentage"?"%":"€"})]})]})]}),w.type==="percentage"&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_discount_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de la réduction"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",id:"max_discount_amount",value:w.max_discount_amount||"",onChange:q=>S({...w,max_discount_amount:parseFloat(q.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"}),m.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:"€"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"applies_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application de la réduction"}),m.jsxs("select",{id:"applies_to",value:w.applies_to,onChange:q=>S({...w,applies_to:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"total",children:"Total de la commande"}),m.jsx("option",{value:"products",children:"Produits spécifiques"}),m.jsx("option",{value:"shipping",children:"Frais de livraison"})]})]})]}),M==="visuals"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badge_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du badge"}),m.jsx("input",{type:"text",id:"badge_text",value:j.badge_text||"",onChange:q=>E({...j,badge_text:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 2x1, -20%, etc."})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badge_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur du badge"}),m.jsx("input",{type:"color",id:"badge_color",value:j.badge_color||"#F9A826",onChange:q=>E({...j,badge_color:q.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"banner_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte de la bannière"}),m.jsx("input",{type:"text",id:"banner_text",value:j.banner_text||"",onChange:q=>E({...j,banner_text:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Offre spéciale : 20% de réduction sur tous les tacos !"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de la bannière"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[m.jsx("input",{type:"file",id:"banner_image",onChange:K,className:"sr-only",accept:"image/*"}),m.jsx("span",{children:z?"Téléchargement...":"Choisir une image"})]}),j.banner_image&&m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:j.banner_image,alt:"Aperçu de la bannière",className:"h-16 w-auto object-cover rounded"}),m.jsx("button",{type:"button",onClick:()=>E({...j,banner_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:m.jsx(As,{size:12})})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"banner_cta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du bouton d'appel à l'action"}),m.jsx("input",{type:"text",id:"banner_cta",value:j.banner_cta||"",onChange:q=>E({...j,banner_cta:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: En profiter maintenant"})]})]})]}),m.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:N,children:"Annuler"}),m.jsx("button",{type:"submit",onClick:$,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary-dark flex items-center gap-2",disabled:N,children:N?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),m.jsx("span",{children:"Enregistrement..."})]}):m.jsx("span",{children:"Enregistrer"})})]})]})}):null},yte={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},bte={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},xte={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},_te=({isOpen:e,onClose:t,promotion:n})=>{const[r,i]=_.useState([]),[o,l]=_.useState(!1),[u,d]=_.useState(null),[f,p]=_.useState("details");_.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{l(!0),d(null);try{const x=await pte(n.id);i(x)}catch(x){d("Erreur lors du chargement des utilisations"),console.error(x)}finally{l(!1)}},v=x=>{const w=new Date(x);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Détails de la promotion"}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(As,{size:24})})]}),m.jsxs("div",{className:"flex border-b",children:[m.jsx("button",{className:`px-4 py-3 font-medium ${f==="details"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("details"),children:"Détails"}),m.jsxs("button",{className:`px-4 py-3 font-medium ${f==="usages"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("usages"),children:["Utilisations (",n.usage_count,")"]})]}),m.jsxs("div",{className:"overflow-y-auto p-6",children:[f==="details"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:n.name}),m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${xte[n.status]}`,children:bte[n.status]}),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:yte[n.type]})]})]}),m.jsx("div",{className:"mt-2 md:mt-0",children:m.jsxs("span",{className:"text-sm text-gray-500",children:["Priorité: ",n.priority]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(W5,{size:16,className:"mr-1"}),"Informations générales"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ID:"}),m.jsx("span",{className:"text-sm font-mono",children:n.id})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Créée le:"}),m.jsx("span",{className:"text-sm",children:v(n.created_at)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Mise à jour:"}),m.jsx("span",{className:"text-sm",children:v(n.updated_at)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations:"}),m.jsx("span",{className:"text-sm",children:n.usage_count})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(V0,{size:16,className:"mr-1"}),"Réduction"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),m.jsx("span",{className:"text-sm",children:n.discount.type==="percentage"?"Pourcentage":"Montant fixe"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Valeur:"}),m.jsxs("span",{className:"text-sm font-medium",children:[n.discount.value,n.discount.type==="percentage"?"%":"€"]})]}),n.discount.max_discount_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Maximum:"}),m.jsxs("span",{className:"text-sm",children:[n.discount.max_discount_amount,"€"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Application:"}),m.jsxs("span",{className:"text-sm",children:[n.discount.applies_to==="total"&&"Total de la commande",n.discount.applies_to==="products"&&"Produits spécifiques",n.discount.applies_to==="shipping"&&"Frais de livraison"]})]})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(h5,{size:16,className:"mr-1"}),"Conditions"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.conditions.promo_code&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Code promo:"}),m.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-0.5 rounded",children:n.conditions.promo_code})]}),n.conditions.min_order_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Montant minimum:"}),m.jsxs("span",{className:"text-sm",children:[n.conditions.min_order_amount,"€"]})]}),n.conditions.max_order_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Montant maximum:"}),m.jsxs("span",{className:"text-sm",children:[n.conditions.max_order_amount,"€"]})]}),n.conditions.start_date&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Date de début:"}),m.jsx("span",{className:"text-sm",children:v(n.conditions.start_date)})]}),n.conditions.end_date&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Date de fin:"}),m.jsx("span",{className:"text-sm",children:v(n.conditions.end_date)})]}),n.conditions.days_of_week&&n.conditions.days_of_week.length>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Jours:"}),m.jsx("span",{className:"text-sm",children:n.conditions.days_of_week.map(x=>["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"][x]).join(", ")})]}),n.conditions.hours_of_day&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Heures:"}),m.jsxs("span",{className:"text-sm",children:[n.conditions.hours_of_day.start," - ",n.conditions.hours_of_day.end]})]}),n.conditions.max_uses_total&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations max:"}),m.jsx("span",{className:"text-sm",children:n.conditions.max_uses_total})]}),n.conditions.max_uses_per_customer&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Max par client:"}),m.jsx("span",{className:"text-sm",children:n.conditions.max_uses_per_customer})]}),n.conditions.first_order_only&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Première commande:"}),m.jsx("span",{className:"text-sm",children:"Oui"})]}),n.type==="buy_x_get_y"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Achetez:"}),m.jsx("span",{className:"text-sm",children:n.conditions.buy_quantity})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Obtenez:"}),m.jsx("span",{className:"text-sm",children:n.conditions.get_quantity})]})]})]})]}),n.visuals&&Object.keys(n.visuals).length>0&&m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(Ny,{size:16,className:"mr-1"}),"Éléments visuels"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.visuals.badge_text&&m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Badge:"}),m.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:n.visuals.badge_color||"#F9A826",color:"#ffffff"},children:n.visuals.badge_text})]}),n.visuals.banner_text&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Texte bannière:"}),m.jsx("span",{className:"text-sm",children:n.visuals.banner_text})]}),n.visuals.banner_cta&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Bouton:"}),m.jsx("span",{className:"text-sm",children:n.visuals.banner_cta})]})]}),n.visuals.banner_image&&m.jsxs("div",{className:"mt-4",children:[m.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Image de bannière:"}),m.jsx("img",{src:n.visuals.banner_image,alt:"Bannière promotionnelle",className:"w-full h-auto max-h-40 object-cover rounded-lg"})]})]})]}),f==="usages"&&m.jsxs("div",{children:[u&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),o?m.jsxs("div",{className:"flex justify-center items-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),m.jsx("span",{className:"ml-2",children:"Chargement..."})]}):r.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune utilisation enregistrée pour cette promotion"}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b",children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Commande"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Montant"})]})}),m.jsx("tbody",{children:r.map(x=>m.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[m.jsx("td",{className:"px-4 py-3",children:v(x.applied_at)}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("a",{href:"#",className:"text-brand-primary hover:underline flex items-center",onClick:w=>{w.preventDefault()},children:[x.order_id.substring(0,8),"...",m.jsx(L5,{size:14,className:"ml-1"})]})}),m.jsx("td",{className:"px-4 py-3",children:x.customer_phone||"-"}),m.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:[x.discount_amount.toFixed(2),"€"]})]},x.id))})]})})]})]}),m.jsx("div",{className:"flex justify-end p-6 border-t",children:m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fermer"})})]})}):null},wte=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmLabel:o="Confirmer",cancelLabel:l="Annuler",confirmButtonClass:u="bg-brand-primary hover:bg-brand-primary-dark"})=>e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold",children:r}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(As,{size:24})})]}),m.jsx("div",{className:"p-6",children:m.jsx("p",{className:"text-gray-700",children:i})}),m.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:l}),m.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-white rounded-md ${u}`,children:o})]})]})}):null,Ste={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},jte={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},Ote={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},Ete={percentage:m.jsx(V0,{size:16}),fixed_amount:m.jsx(Ny,{size:16}),promo_code:m.jsx(Ny,{size:16}),buy_x_get_y:m.jsx(Wo,{size:16}),free_product:m.jsx(Wo,{size:16}),free_shipping:m.jsx(Wo,{size:16}),combo:m.jsx(Wo,{size:16}),threshold:m.jsx(XN,{size:16}),happy_hour:m.jsx(yh,{size:16})},Ate=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[i,o]=_.useState(null),[l,u]=_.useState(!1),[d,f]=_.useState(!1),[p,g]=_.useState(!1),[v,x]=_.useState(!1),[w,S]=_.useState(null),[j,E]=_.useState(""),[N,A]=_.useState("all"),[k,P]=_.useState("all"),[M,R]=_.useState("priority"),[z,H]=_.useState("desc"),$=async()=>{r(!0),o(null);try{const C=await cte();t(C)}catch(C){o("Erreur lors du chargement des promotions"),console.error(C)}finally{r(!1)}};_.useEffect(()=>{$()},[]);const K=()=>{S(null),u(!0)},F=C=>{S(C),f(!0)},ae=C=>{S(C),g(!0)},q=C=>{S(C),x(!0)},ne=async C=>{try{const D=C.status==="active"?"inactive":"active";await mte(C.id,D),t(e.map(V=>V.id===C.id?{...V,status:D}:V))}catch(D){o("Erreur lors de la mise à jour du statut"),console.error(D)}},L=async()=>{if(w)try{await hte(w.id),t(e.filter(C=>C.id!==w.id)),x(!1)}catch(C){o("Erreur lors de la suppression de la promotion"),console.error(C)}},Q=C=>{M===C?H(z==="asc"?"desc":"asc"):(R(C),H("desc"))},oe=e.filter(C=>{const D=C.name.toLowerCase().includes(j.toLowerCase()),V=N==="all"||C.status===N,W=k==="all"||C.type===k;return D&&V&&W}).sort((C,D)=>{let V=0;switch(M){case"name":V=C.name.localeCompare(D.name);break;case"priority":V=C.priority-D.priority;break;case"created_at":V=new Date(C.created_at).getTime()-new Date(D.created_at).getTime();break;case"usage_count":V=C.usage_count-D.usage_count;break}return z==="asc"?V:-V}),me=C=>M!==C?null:z==="asc"?m.jsx(XN,{size:16}):m.jsx(WN,{size:16}),ie=C=>{const D=new Date(C);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(D)};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des promotions"}),m.jsxs("button",{onClick:K,className:"bg-brand-primary hover:bg-brand-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[m.jsx(cu,{size:20}),"Nouvelle promotion"]})]}),i&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Rechercher une promotion...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg",value:j,onChange:C=>E(C.target.value)}),m.jsx(W0,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:N,onChange:C=>A(C.target.value),children:[m.jsx("option",{value:"all",children:"Tous les statuts"}),m.jsx("option",{value:"active",children:"Actives"}),m.jsx("option",{value:"inactive",children:"Inactives"}),m.jsx("option",{value:"scheduled",children:"Programmées"}),m.jsx("option",{value:"expired",children:"Expirées"})]}),m.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:k,onChange:C=>P(C.target.value),children:[m.jsx("option",{value:"all",children:"Tous les types"}),m.jsx("option",{value:"percentage",children:"Pourcentage"}),m.jsx("option",{value:"fixed_amount",children:"Montant fixe"}),m.jsx("option",{value:"promo_code",children:"Code promo"}),m.jsx("option",{value:"buy_x_get_y",children:"2x1 / Achetez X, obtenez Y"}),m.jsx("option",{value:"free_product",children:"Produit gratuit"}),m.jsx("option",{value:"free_shipping",children:"Livraison gratuite"}),m.jsx("option",{value:"combo",children:"Combo"}),m.jsx("option",{value:"threshold",children:"Palier"}),m.jsx("option",{value:"happy_hour",children:"Happy hour"})]}),m.jsxs("button",{onClick:$,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-2",children:[m.jsx(_z,{size:18}),m.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b",children:[m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Q("name"),children:["Nom ",me("name")]})}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"}),m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Q("priority"),children:["Priorité ",me("priority")]})}),m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Q("created_at"),children:["Créée le ",me("created_at")]})}),m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Q("usage_count"),children:["Utilisations ",me("usage_count")]})}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{children:n?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-8 text-center",children:m.jsxs("div",{className:"flex justify-center items-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),m.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):oe.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Aucune promotion trouvée"})}):oe.map(C=>m.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[m.jsxs("td",{className:"px-4 py-4",children:[m.jsx("div",{className:"font-medium",children:C.name}),C.type==="promo_code"&&C.conditions.promo_code&&m.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",m.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:C.conditions.promo_code})]})]}),m.jsx("td",{className:"px-4 py-4",children:m.jsxs("div",{className:"flex items-center gap-1.5",children:[Ete[C.type],m.jsx("span",{children:Ote[C.type]})]})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${jte[C.status]}`,children:Ste[C.status]})}),m.jsx("td",{className:"px-4 py-4",children:C.priority}),m.jsx("td",{className:"px-4 py-4",children:ie(C.created_at)}),m.jsx("td",{className:"px-4 py-4",children:C.usage_count}),m.jsx("td",{className:"px-4 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>ne(C),className:"p-1.5 rounded-md hover:bg-gray-100",title:C.status==="active"?"Désactiver":"Activer",children:C.status==="active"?m.jsx(U5,{size:18}):m.jsx(Ay,{size:18})}),m.jsx("button",{onClick:()=>ae(C),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Voir les détails",children:m.jsx(Ay,{size:18})}),m.jsx("button",{onClick:()=>F(C),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Modifier",children:m.jsx(sC,{size:18})}),m.jsx("button",{onClick:()=>q(C),className:"p-1.5 rounded-md hover:bg-gray-100 text-red-500",title:"Supprimer",children:m.jsx(Ds,{size:18})})]})})]},C.id))})]})})]}),l&&m.jsx(tN,{isOpen:l,onClose:()=>u(!1),onSave:()=>{u(!1),$()}}),d&&w&&m.jsx(tN,{isOpen:d,onClose:()=>f(!1),onSave:()=>{f(!1),$()},promotion:w}),p&&w&&m.jsx(_te,{isOpen:p,onClose:()=>g(!1),promotion:w}),v&&w&&m.jsx(wte,{isOpen:v,onClose:()=>x(!1),onConfirm:L,title:"Supprimer la promotion",message:`Êtes-vous sûr de vouloir supprimer la promotion "${w.name}" ? Cette action est irréversible.`,confirmLabel:"Supprimer",cancelLabel:"Annuler",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},gR="ouiouitacos_active_order",Nte=e=>{try{localStorage.setItem(gR,e)}catch(t){console.error("Erreur lors du stockage de la commande active:",t)}},Cte=()=>{try{return localStorage.getItem(gR)}catch(e){return console.error("Erreur lors de la récupération de la commande active:",e),null}},Tte=({promotion:e,visuals:t,defaultText:n="PROMO",defaultColor:r="#FF3B30",className:i=""})=>{var f,p;const l=(()=>{var g;if(!e)return{text:n,color:r};switch(e.type){case"percentage":return{text:`-${((g=e.discount)==null?void 0:g.percentage)||0}%`,color:"#FF3B30"};case"fixed_amount":return{text:"PROMO",color:"#FF9500"};case"buy_x_get_y":return{text:"2x1",color:"#34C759"};case"free_product":return{text:"CADEAU",color:"#AF52DE"};case"free_shipping":return{text:"LIVRAISON",color:"#007AFF"};case"combo":return{text:"COMBO",color:"#FFCC00"};case"threshold":return{text:"PALIER",color:"#5856D6"};case"happy_hour":return{text:"HAPPY HOUR",color:"#FF2D55"};case"promo_code":return{text:"CODE",color:"#8E8E93"};default:return{text:n,color:r}}})(),u=(t==null?void 0:t.badge_text)||((f=e==null?void 0:e.visuals)==null?void 0:f.badge_text)||l.text,d=(t==null?void 0:t.badge_color)||((p=e==null?void 0:e.visuals)==null?void 0:p.badge_color)||l.color;return m.jsxs("div",{className:`absolute top-2 right-2 py-1 px-2 rounded-md text-white text-xs font-bold shadow-md transform rotate-3 z-10 ${i}`,style:{backgroundColor:d,animation:"pulse 2s infinite"},children:[u,m.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0% {
            transform: rotate(3deg) scale(1);
          }
          50% {
            transform: rotate(3deg) scale(1.05);
          }
          100% {
            transform: rotate(3deg) scale(1);
          }
        }
      `})]})},kte=e=>{const[t,n]=_.useState([]),[r,i]=_.useState(!0),[o,l]=_.useState(null);_.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{try{i(!0);const g=(await ute().catch(()=>[])).filter(v=>{var w,S;if(v.status!=="active")return!1;const x=v.conditions||{};return!x.product_ids&&!x.category_ids?!1:!!((w=x.product_ids)!=null&&w.includes(e.id)||(S=x.category_ids)!=null&&S.includes(e.category_id))}).sort((v,x)=>(x.priority||0)-(v.priority||0));n(g)}catch(f){console.error("Erreur lors du chargement des promotions:",f),l(f instanceof Error?f:new Error("Une erreur est survenue")),n([])}finally{i(!1)}})()},[e]);const u=t.length>0?t[0]:null;return{promotions:t,bestPromotion:u,loading:r,error:o}},Pte=({product:e,onClick:t})=>{const{bestPromotion:n,loading:r}=kte(e);return m.jsxs("div",{onClick:()=>e.estado==="disponible"&&t(),className:`relative border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${e.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[!r&&n&&e.estado==="disponible"&&m.jsx(Tte,{promotion:n}),m.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),m.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:e.nom_produit}),m.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:e.description}),m.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:Me(e.prix_vente)}),e.estado!=="disponible"&&m.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]})},C0=5e3,Qx="Domicilio",Mte=e=>e.nom_produit===Qx,Rte=()=>({id:`delivery-${Date.now()}`,produitRef:"delivery-fee",nom_produit:Qx,prix_unitaire:C0,quantite:1}),Dte=({isOpen:e,onClose:t,selectedProduct:n,onAddToCart:r})=>{var x;const[i,o]=_.useState(1),[l,u]=_.useState(""),[d,f]=_.useState([]);if(_.useEffect(()=>{e&&(o((n==null?void 0:n.quantite)||1),u((n==null?void 0:n.commentaire)||""),f((n==null?void 0:n.excluded_ingredients)||[]))},[e,n]),!e||!n)return null;const p=()=>{const w=n.product;r({id:`oi${Date.now()}`,produitRef:w.id,nom_produit:w.nom_produit,prix_unitaire:w.prix_vente,quantite:i,commentaire:l.trim()||void 0,excluded_ingredients:d.length>0?d:void 0})},g=w=>{d.includes(w)?f(d.filter(S=>S!==w)):f([...d,w])},v=((x=n.product.ingredients)==null?void 0:x.split(",").map(w=>w.trim()).filter(Boolean))||[];return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n.product.nom_produit}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("img",{src:n.product.image,alt:n.product.nom_produit,className:"w-full h-48 object-cover rounded-lg mb-4"}),m.jsx("p",{className:"text-gray-600 mb-4",children:n.product.description}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("p",{className:"font-bold text-gray-800 mb-2",children:["Precio: ",Me(n.product.prix_vente)]}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("button",{onClick:()=>o(Math.max(1,i-1)),className:"bg-gray-200 text-gray-700 rounded-l-lg px-3 py-1",children:"-"}),m.jsx("span",{className:"bg-gray-100 px-4 py-1",children:i}),m.jsx("button",{onClick:()=>o(i+1),className:"bg-gray-200 text-gray-700 rounded-r-lg px-3 py-1",children:"+"})]})]}),v.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"Ingredientes:"}),m.jsx("div",{className:"space-y-2",children:v.map((w,S)=>m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:`ingredient-${S}`,checked:!d.includes(w),onChange:()=>g(w),className:"mr-2"}),m.jsx("label",{htmlFor:`ingredient-${S}`,className:"text-gray-700",children:w})]},S))})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"comment",className:"block font-bold text-gray-800 mb-2",children:"Comentarios adicionales:"}),m.jsx("textarea",{id:"comment",value:l,onChange:w=>u(w.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-gray-700",rows:3,placeholder:"Instrucciones especiales, alergias, etc."})]}),m.jsxs("button",{onClick:p,className:"w-full bg-brand-primary text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-primary-dark transition",children:["Agregar al carrito - ",Me(n.product.prix_vente*i)]})]})})})},Ite=({isOpen:e,order:t,onClose:n})=>{const r=Ci();if(!e||!t)return null;const i=()=>{r(`/order/${t.id}`)},o=()=>{const l=generateWhatsAppMessage(t),u=t.receipt_url?`&text=${l}`:"";window.open(`https://wa.me/573000000000?${u}`,"_blank")};return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h2",{className:"text-xl font-bold text-green-600",children:"¡Pedido enviado con éxito!"}),m.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Tu pedido ha sido enviado correctamente. Recibirás una confirmación pronto."}),m.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4",children:[m.jsxs("p",{className:"font-bold text-gray-800",children:["Número de pedido: #",t.id.slice(-6)]}),m.jsxs("p",{className:"text-gray-600",children:["Total: ",Me(t.total)]})]}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx("button",{onClick:i,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition",children:"Ver detalles del pedido"}),m.jsx("button",{onClick:o,className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition",children:"Enviar por WhatsApp"}),m.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"})]})]})})})},Lte=()=>{const[e,t]=_.useState([]),[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState(null),[d,f]=_.useState("all"),[p,g]=_.useState([]),[v,x]=_.useState(!1),[w,S]=_.useState(null),[j,E]=_.useState({nom:"",adresse:"",telephone:""}),[N,A]=_.useState("transferencia"),[k,P]=_.useState(null),[M,R]=_.useState(!1),[z,H]=_.useState(!1),[$,K]=_.useState(null),[F,ae]=_.useState([]);_.useEffect(()=>{(async()=>{try{const[D,V]=await Promise.all([ye.getProducts(),ye.getCategories()]);t(D),r(V);const W=Cte();if(W)try{const J=await ye.getOrderById(W);J&&ae([J])}catch(J){console.error("Error fetching active order:",J)}}catch(D){console.error("Error fetching data:",D),u("Error al cargar los datos. Por favor, intenta de nuevo más tarde.")}finally{o(!1)}})()},[]);const q=_.useMemo(()=>d==="all"?e:e.filter(C=>C.categoria_id===d),[e,d]),ne=_.useMemo(()=>{const C=p.reduce((D,V)=>D+V.quantite*V.prix_unitaire,0);return p.length===0?C:C+C0},[p]),L=C=>{S({product:C}),x(!0)},Q=C=>{let D=[...p];if(C.commentaire)D.push({...C,id:`oi${Date.now()}`});else{const V=D.findIndex(W=>W.produitRef===C.produitRef&&!W.commentaire);V>-1?D[V].quantite+=C.quantite:D.push(C)}g(D),x(!1)},oe=(C,D)=>{const V=p.findIndex(de=>de.id===C);if(V===-1)return;let W=[...p];const J=W[V].quantite+D;J<=0?W.splice(V,1):W[V].quantite=J,g(W)},me=async C=>{if(C.preventDefault(),!(!j.nom||!j.telephone||!j.adresse||!k||!N)){R(!0);try{let D;k&&(D=await HN(k,{customerReference:j.telephone||j.nom}));const W={items:p.length>0?[...p,Rte()]:p,clientInfo:j,receipt_url:D,payment_method:N},J=await ye.submitCustomerOrder(W);K(J),H(!0),g([]),E({nom:"",adresse:"",telephone:""}),P(null),A("transferencia"),Nte(J.id)}catch(D){alert("Ocurrió un error al enviar el pedido o subir el comprobante."),console.error(D)}finally{R(!1)}}},ie=C=>{const D=Date.now(),V=[],W=C.items.reduce((de,he,Le)=>{if(Mte(he))return de;const te=e.find(we=>we.id===he.produitRef);return te?(de.push({...he,id:`oi${D}-${Le}`,produitRef:te.id,nom_produit:te.nom_produit,prix_unitaire:te.prix_vente}),de):(V.push(he.nom_produit||he.produitRef),de)},[]);g(W),V.length>0&&alert(`Algunos artículos ya no están disponibles y no se agregaron:
- ${V.join(`
- `)}`);const J=document.getElementById("cart-section");J&&J.scrollIntoView({behavior:"smooth"})};return i?m.jsx("div",{className:"h-screen flex items-center justify-center",children:"Cargando el menú..."}):l?m.jsx("div",{className:"h-screen flex items-center justify-center text-red-500",children:l}):m.jsxs(m.Fragment,{children:[m.jsxs("main",{className:"container mx-auto p-4 lg:grid lg:grid-cols-3 lg:gap-8",children:[m.jsxs("div",{className:"lg:col-span-2",children:[F.length>0&&p.length===0&&m.jsxs("div",{className:"bg-white/95 p-4 rounded-xl shadow-xl mb-8",children:[m.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 mb-3 text-gray-700",children:[m.jsx(Y5,{})," ¿Repetir un pedido?"]}),m.jsx("div",{className:"space-y-2",children:F.slice(0,3).map(C=>m.jsxs("div",{className:"flex justify-between items-center rounded-lg border border-white/20 bg-slate-900/80 p-3 text-slate-100 backdrop-blur-sm",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-semibold text-white",children:["Pedido del ",new Date(C.date_creation).toLocaleDateString("es-CO")]}),m.jsxs("p",{className:"text-sm text-slate-300",children:[C.items.length," artículo(s) - ",Me(C.total)]})]}),m.jsx("button",{onClick:()=>ie(C),className:"bg-orange-500 text-white font-semibold py-2 px-4 rounded-lg text-base transition hover:bg-orange-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-300",children:"Pedir de nuevo"})]},C.id))})]}),m.jsxs("div",{className:"bg-white/95 p-4 rounded-xl shadow-xl",children:[m.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2 mb-4",children:[m.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition border ${d==="all"?"bg-brand-primary text-slate-900 border-brand-primary shadow-lg":"bg-slate-900/80 text-white border-white/20"}`,children:"Todos"}),n.map(C=>m.jsx("button",{onClick:()=>f(C.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap transition border ${d===C.id?"bg-brand-primary text-slate-900 border-brand-primary shadow-lg":"bg-slate-900/80 text-white border-white/20"}`,children:C.nom},C.id))]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:q.map(C=>m.jsx(Pte,{product:C,onClick:()=>L(C)},C.id))})]})]}),m.jsx("div",{id:"cart-section",className:"lg:col-span-1 mt-8 lg:mt-0 lg:sticky top-24 self-start",children:m.jsxs("div",{className:"bg-white/95 p-4 rounded-xl shadow-xl",children:[m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-4 text-gray-700",children:[m.jsx(aC,{})," Mi carrito"]}),p.length===0?m.jsx("p",{className:"text-gray-500",children:"Tu carrito está vacío."}):m.jsxs("div",{className:"space-y-3",children:[p.map(C=>m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-700",children:C.nom_produit}),C.commentaire&&m.jsxs("p",{className:"text-xs text-gray-500 italic",children:['"',C.commentaire,'"']}),m.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:Me(C.prix_unitaire*C.quantite)})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>oe(C.id,-1),className:"p-1 rounded-full bg-gray-200",children:m.jsx(tC,{size:14})}),m.jsx("span",{className:"font-bold w-5 text-center text-gray-700",children:C.quantite}),m.jsx("button",{onClick:()=>oe(C.id,1),className:"p-1 rounded-full bg-gray-200",children:m.jsx(cu,{size:14})})]})]},C.id)),m.jsx("div",{className:"flex justify-between items-start border-t pt-3",children:m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-700",children:Qx}),m.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:Me(C0)})]})},"delivery-fee")]}),m.jsx("div",{className:"border-t my-4"}),m.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-700",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Me(ne)})]}),p.length>0&&m.jsxs("form",{onSubmit:me,className:"mt-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre completo"}),m.jsx("input",{type:"text",required:!0,value:j.nom,onChange:C=>E({...j,nom:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Teléfono"}),m.jsx("input",{type:"tel",required:!0,value:j.telephone,onChange:C=>E({...j,telephone:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Dirección de entrega"}),m.jsx("input",{type:"text",required:!0,value:j.adresse,onChange:C=>E({...j,adresse:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-700 bg-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("div",{className:"mt-1 flex space-x-4",children:[m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"radio",checked:N==="transferencia",onChange:()=>A("transferencia"),className:"form-radio text-brand-primary"}),m.jsx("span",{className:"ml-2 text-gray-700",children:"Transferencia"})]}),m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"radio",checked:N==="efectivo",onChange:()=>A("efectivo"),className:"form-radio text-brand-primary"}),m.jsx("span",{className:"ml-2 text-gray-700",children:"Efectivo"})]})]})]}),N==="transferencia"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Comprobante de pago"}),m.jsx("input",{type:"file",required:!0,accept:"image/*",onChange:C=>{var D;return P(((D=C.target.files)==null?void 0:D[0])||null)},className:"mt-1 block w-full text-gray-700"}),m.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Sube una captura de pantalla o foto del comprobante de transferencia."})]}),m.jsx("button",{type:"submit",disabled:M,className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-brand-primary-dark transition disabled:opacity-50",children:M?"Enviando...":"Realizar pedido"})]})]})})]}),m.jsx(Dte,{isOpen:v,onClose:()=>x(!1),selectedProduct:w,onAddToCart:Q}),m.jsx(Ite,{isOpen:z,order:$,onClose:()=>H(!1)})]})},zte=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[m.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),m.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouvée"}),m.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Désolé, la page que vous recherchez n'existe pas."}),m.jsx(L0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour à l'accueil"})]}),Ute=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[i,o]=_.useState(null),[l,u]=_.useState({startDate:"",endDate:"",paymentMethod:"all"});_.useEffect(()=>{(async()=>{try{const x=await ye.getFinalizedOrders();t([...x].sort((w,S)=>S.date_creation-w.date_creation))}catch(x){console.error("Failed to fetch finalized orders",x)}finally{r(!1)}})()},[]);const d=_.useMemo(()=>e.filter(v=>{const x=new Date(v.date_creation),w=l.startDate?new Date(l.startDate):null,S=l.endDate?new Date(l.endDate):null;w&&w.setHours(0,0,0,0),S&&S.setHours(23,59,59,999);const j=w?x>=w:!0,E=S?x<=S:!0,N=l.paymentMethod==="all"||v.payment_method===l.paymentMethod;return j&&E&&N}),[e,l]),f=v=>{u({...l,[v.target.name]:v.target.value})},p=()=>{const w=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Método de pago"].join(","),...d.map(N=>{var A;return[new Date(N.date_creation).toLocaleString("es-CO"),N.type==="sur_place"?"En el local":"Para llevar",`"${N.type==="sur_place"?N.table_nom||"N/A":((A=N.clientInfo)==null?void 0:A.nom)||"N/A"}"`,N.couverts,Me(N.total),Me(N.profit||0),N.payment_method||"N/A"].join(",")})].join(`
`),S=new Blob([`\uFEFF${w}`],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(S),E=document.createElement("a");E.href=j,E.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(j)},g=_.useMemo(()=>d.reduce((v,x)=>(v.totalSales+=x.total,v.totalProfit+=x.profit||0,v),{totalSales:0,totalProfit:0}),[d]);return n?m.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),m.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),m.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[m.jsx("option",{value:"all",children:"Todas"}),m.jsx("option",{value:"efectivo",children:"Efectivo"}),m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),m.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[m.jsx(R5,{size:18})," Export CSV"]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),m.jsx("tbody",{children:d.map(v=>{var x;return m.jsxs(Ur.Fragment,{children:[m.jsxs("tr",{onClick:()=>o(i===v.id?null:v.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[m.jsx("td",{className:"p-3",children:i===v.id?m.jsx(WN,{size:16}):m.jsx(S5,{size:16})}),m.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(v.date_creation).toLocaleString("es-CO")}),m.jsx("td",{className:"p-3 text-sm",children:v.type==="sur_place"?m.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[m.jsx(X0,{size:12})," En el local"]}):m.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[m.jsx(rC,{size:12})," Para llevar"]})}),m.jsx("td",{className:"p-3 font-semibold text-gray-900",children:v.type==="sur_place"?v.table_nom||"N/A":((x=v.clientInfo)==null?void 0:x.nom)||"N/A"}),m.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:Me(v.total)}),m.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:Me(v.profit||0)}),m.jsx("td",{className:"p-3 text-gray-700 capitalize",children:v.payment_method||"N/A"})]}),i===v.id&&m.jsx("tr",{className:"bg-gray-50",children:m.jsx("td",{colSpan:7,className:"p-4",children:m.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[m.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artículos:"}),m.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:v.items.map(w=>m.jsxs("li",{children:[w.quantite,"x ",w.nom_produit," - ",m.jsx("span",{className:"font-semibold",children:Me(w.prix_unitaire*w.quantite)})]},w.id))})]})})})]},v.id)})}),m.jsx("tfoot",{className:"border-t-2 border-gray-300",children:m.jsxs("tr",{className:"font-bold text-gray-900",children:[m.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),m.jsx("td",{className:"p-3 text-right",children:Me(g.totalSales)}),m.jsx("td",{className:"p-3 text-right text-green-700",children:Me(g.totalProfit)}),m.jsx("td",{})]})})]})}),d.length===0&&m.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningún pedido finalizado coincide con tus filtros."})]})]})};new Set(Qz);const $te=()=>m.jsx("div",{children:"Contenu de la page de personnalisation"}),vR=({onLogout:e})=>{const t=Ci(),n=Ur.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return m.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accès non autorisé"}),m.jsx("p",{className:"text-base text-gray-600",children:"Votre rôle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir à l'écran de connexion."})]}),m.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour à la connexion"})]})},yR=()=>m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),Rr=({children:e,permissionKey:t})=>{var u;const{role:n,loading:r,logout:i}=na();if(r)return m.jsx(yR,{});if(!n)return m.jsx(Sf,{to:"/",replace:!0});const o=t?(u=n.permissions)==null?void 0:u[t]:void 0;if(!(t?Tf(o):!0)){const d=Z0(n);return d?m.jsx(Sf,{to:d,replace:!0}):m.jsx(vR,{onLogout:i})}return e},qte=()=>{const{role:e,loading:t,logout:n}=na();if(t)return m.jsx(yR,{});if(!e)return m.jsx(g$,{});const r=Z0(e);return r?m.jsx(Sf,{to:r,replace:!0}):m.jsx(vR,{onLogout:n})},Bte=()=>m.jsx(Rr,{children:m.jsx(YU,{})}),Hte=()=>m.jsxs(q4,{children:[m.jsx(xn,{path:"/",element:m.jsx(qte,{})}),m.jsx(xn,{path:"/login",element:m.jsx(Sf,{to:"/",replace:!0})}),m.jsx(xn,{path:"/commande-client",element:m.jsx(Lte,{})}),m.jsxs(xn,{element:m.jsx(Bte,{}),children:[m.jsx(xn,{path:"/dashboard",element:m.jsx(Rr,{permissionKey:"/dashboard",children:m.jsx(Tee,{})})}),m.jsx(xn,{path:"/para-llevar",element:m.jsx(Rr,{permissionKey:"/para-llevar",children:m.jsx(Qee,{})})}),m.jsx(xn,{path:"/ventes",element:m.jsx(Rr,{permissionKey:"/ventes",children:m.jsx(Iee,{})})}),m.jsx(xn,{path:"/commande/:tableId",element:m.jsx(Rr,{permissionKey:"/ventes",children:m.jsx(Gee,{})})}),m.jsx(xn,{path:"/cocina",element:m.jsx(Rr,{permissionKey:"/cocina",children:m.jsx(Xee,{})})}),m.jsx(xn,{path:"/resume-ventes",element:m.jsx(Rr,{permissionKey:"/resume-ventes",children:m.jsx(Ute,{})})}),m.jsx(xn,{path:"/ingredients",element:m.jsx(Rr,{permissionKey:"/ingredients",children:m.jsx(Jee,{})})}),m.jsx(xn,{path:"/produits",element:m.jsx(Rr,{permissionKey:"/produits",children:m.jsx(nte,{})})}),m.jsx(xn,{path:"/promotions",element:m.jsx(Rr,{permissionKey:"/promotions",children:m.jsx(Ate,{})})}),m.jsx(xn,{path:Ma,element:m.jsx(Rr,{permissionKey:Ma,children:m.jsx($te,{})})})]}),m.jsx(xn,{path:"*",element:m.jsx(zte,{})})]}),Kte=()=>m.jsx($U,{children:m.jsx(uI,{children:m.jsx(Hte,{})})}),bR=document.getElementById("root");if(!bR)throw new Error("Could not find root element to mount to");const Fte=Y3.createRoot(bR);Fte.render(m.jsx(Ur.StrictMode,{children:m.jsx(Kte,{})}));
