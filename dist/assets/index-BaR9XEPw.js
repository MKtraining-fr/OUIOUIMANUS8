var o4=Object.defineProperty;var l4=(e,t,n)=>t in e?o4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Sg=(e,t,n)=>l4(e,typeof t!="symbol"?t+"":t,n);function c4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var jg={exports:{}},jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj;function d4(){if(uj)return jc;uj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return jc.Fragment=t,jc.jsx=n,jc.jsxs=n,jc}var dj;function f4(){return dj||(dj=1,jg.exports=d4()),jg.exports}var u=f4(),Ng={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj;function h4(){if(fj)return Me;fj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function N(R,I,V){this.props=R,this.context=I,this.refs=j,this.updater=V||w}N.prototype.isReactComponent={},N.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=N.prototype;function C(R,I,V){this.props=R,this.context=I,this.refs=j,this.updater=V||w}var A=C.prototype=new E;A.constructor=C,S(A,N.prototype),A.isPureReactComponent=!0;var T=Array.isArray;function M(){}var P={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function q(R,I,V){var X=V.ref;return{$$typeof:e,type:R,key:I,ref:X!==void 0?X:null,props:V}}function z(R,I){return q(R.type,I,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function H(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(V){return I[V]})}var ae=/\/+/g;function $(R,I){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):I.toString(36)}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(M,M):(R.status="pending",R.then(function(I){R.status==="pending"&&(R.status="fulfilled",R.value=I)},function(I){R.status==="pending"&&(R.status="rejected",R.reason=I)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,I,V,X,te){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var pe=!1;if(R===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(R.$$typeof){case e:case t:pe=!0;break;case p:return pe=R._init,L(pe(R._payload),I,V,X,te)}}if(pe)return te=te(R),pe=X===""?"."+$(R,0):X,T(te)?(V="",pe!=null&&(V=pe.replace(ae,"$&/")+"/"),L(te,I,V,"",function(Se){return Se})):te!=null&&(F(te)&&(te=z(te,V+(te.key==null||R&&R.key===te.key?"":(""+te.key).replace(ae,"$&/")+"/")+pe)),I.push(te)),1;pe=0;var ze=X===""?".":X+":";if(T(R))for(var ie=0;ie<R.length;ie++)X=R[ie],fe=ze+$(X,ie),pe+=L(X,I,V,fe,te);else if(ie=_(R),typeof ie=="function")for(R=ie.call(R),ie=0;!(X=R.next()).done;)X=X.value,fe=ze+$(X,ie++),pe+=L(X,I,V,fe,te);else if(fe==="object"){if(typeof R.then=="function")return L(K(R),I,V,X,te);throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(R,I,V){if(R==null)return R;var X=[],te=0;return L(R,X,"","",function(fe){return I.call(V,fe,te++)}),X}function W(R){if(R._status===-1){var I=R._result;I=I(),I.then(function(V){(R._status===0||R._status===-1)&&(R._status=1,R._result=V)},function(V){(R._status===0||R._status===-1)&&(R._status=2,R._result=V)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var ue=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ne={map:Y,forEach:function(R,I,V){Y(R,function(){I.apply(this,arguments)},V)},count:function(R){var I=0;return Y(R,function(){I++}),I},toArray:function(R){return Y(R,function(I){return I})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Me.Activity=g,Me.Children=ne,Me.Component=N,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=C,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Me.__COMPILER_RUNTIME={__proto__:null,c:function(R){return P.H.useMemoCache(R)}},Me.cache=function(R){return function(){return R.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(R,I,V){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var X=S({},R.props),te=R.key;if(I!=null)for(fe in I.key!==void 0&&(te=""+I.key),I)!D.call(I,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&I.ref===void 0||(X[fe]=I[fe]);var fe=arguments.length-2;if(fe===1)X.children=V;else if(1<fe){for(var pe=Array(fe),ze=0;ze<fe;ze++)pe[ze]=arguments[ze+2];X.children=pe}return q(R.type,te,X)},Me.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Me.createElement=function(R,I,V){var X,te={},fe=null;if(I!=null)for(X in I.key!==void 0&&(fe=""+I.key),I)D.call(I,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(te[X]=I[X]);var pe=arguments.length-2;if(pe===1)te.children=V;else if(1<pe){for(var ze=Array(pe),ie=0;ie<pe;ie++)ze[ie]=arguments[ie+2];te.children=ze}if(R&&R.defaultProps)for(X in pe=R.defaultProps,pe)te[X]===void 0&&(te[X]=pe[X]);return q(R,fe,te)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(R){return{$$typeof:d,render:R}},Me.isValidElement=F,Me.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:W}},Me.memo=function(R,I){return{$$typeof:h,type:R,compare:I===void 0?null:I}},Me.startTransition=function(R){var I=P.T,V={};P.T=V;try{var X=R(),te=P.S;te!==null&&te(V,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(M,ue)}catch(fe){ue(fe)}finally{I!==null&&V.types!==null&&(I.types=V.types),P.T=I}},Me.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Me.use=function(R){return P.H.use(R)},Me.useActionState=function(R,I,V){return P.H.useActionState(R,I,V)},Me.useCallback=function(R,I){return P.H.useCallback(R,I)},Me.useContext=function(R){return P.H.useContext(R)},Me.useDebugValue=function(){},Me.useDeferredValue=function(R,I){return P.H.useDeferredValue(R,I)},Me.useEffect=function(R,I){return P.H.useEffect(R,I)},Me.useEffectEvent=function(R){return P.H.useEffectEvent(R)},Me.useId=function(){return P.H.useId()},Me.useImperativeHandle=function(R,I,V){return P.H.useImperativeHandle(R,I,V)},Me.useInsertionEffect=function(R,I){return P.H.useInsertionEffect(R,I)},Me.useLayoutEffect=function(R,I){return P.H.useLayoutEffect(R,I)},Me.useMemo=function(R,I){return P.H.useMemo(R,I)},Me.useOptimistic=function(R,I){return P.H.useOptimistic(R,I)},Me.useReducer=function(R,I,V){return P.H.useReducer(R,I,V)},Me.useRef=function(R){return P.H.useRef(R)},Me.useState=function(R){return P.H.useState(R)},Me.useSyncExternalStore=function(R,I,V){return P.H.useSyncExternalStore(R,I,V)},Me.useTransition=function(){return P.H.useTransition()},Me.version="19.2.0",Me}var hj;function yl(){return hj||(hj=1,Ng.exports=h4()),Ng.exports}var b=yl();const Qn=Qr(b),m4=c4({__proto__:null,default:Qn},[b]);var Eg={exports:{}},Nc={},Og={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj;function p4(){return mj||(mj=1,(function(e){function t(L,Y){var W=L.length;L.push(Y);e:for(;0<W;){var ue=W-1>>>1,ne=L[ue];if(0<i(ne,Y))L[ue]=Y,L[W]=ne,W=ue;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Y=L[0],W=L.pop();if(W!==Y){L[0]=W;e:for(var ue=0,ne=L.length,R=ne>>>1;ue<R;){var I=2*(ue+1)-1,V=L[I],X=I+1,te=L[X];if(0>i(V,W))X<ne&&0>i(te,V)?(L[ue]=te,L[X]=W,ue=X):(L[ue]=V,L[I]=W,ue=I);else if(X<ne&&0>i(te,W))L[ue]=te,L[X]=W,ue=X;else break e}}return Y}function i(L,Y){var W=L.sortIndex-Y.sortIndex;return W!==0?W:L.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,v=3,_=!1,w=!1,S=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(L){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=L)r(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function T(L){if(S=!1,A(L),!w)if(n(f)!==null)w=!0,M||(M=!0,H());else{var Y=n(h);Y!==null&&K(T,Y.startTime-L)}}var M=!1,P=-1,D=5,q=-1;function z(){return j?!0:!(e.unstable_now()-q<D)}function F(){if(j=!1,M){var L=e.unstable_now();q=L;var Y=!0;try{e:{w=!1,S&&(S=!1,E(P),P=-1),_=!0;var W=v;try{t:{for(A(L),g=n(f);g!==null&&!(g.expirationTime>L&&z());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,v=g.priorityLevel;var ne=ue(g.expirationTime<=L);if(L=e.unstable_now(),typeof ne=="function"){g.callback=ne,A(L),Y=!0;break t}g===n(f)&&r(f),A(L)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var R=n(h);R!==null&&K(T,R.startTime-L),Y=!1}}break e}finally{g=null,v=W,_=!1}Y=void 0}}finally{Y?H():M=!1}}}var H;if(typeof C=="function")H=function(){C(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,$=ae.port2;ae.port1.onmessage=F,H=function(){$.postMessage(null)}}else H=function(){N(F,0)};function K(L,Y){P=N(function(){L(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var W=v;v=Y;try{return L()}finally{v=W}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=v;v=L;try{return Y()}finally{v=W}},e.unstable_scheduleCallback=function(L,Y,W){var ue=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,L={id:p++,callback:Y,priorityLevel:L,startTime:W,expirationTime:ne,sortIndex:-1},W>ue?(L.sortIndex=W,t(h,L),n(f)===null&&L===n(h)&&(S?(E(P),P=-1):S=!0,K(T,W-ue))):(L.sortIndex=ne,t(f,L),w||_||(w=!0,M||(M=!0,H()))),L},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(L){var Y=v;return function(){var W=v;v=Y;try{return L.apply(this,arguments)}finally{v=W}}}})(Cg)),Cg}var pj;function g4(){return pj||(pj=1,Og.exports=p4()),Og.exports}var Ag={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function v4(){if(gj)return Nn;gj=1;var e=yl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(f,h,null,p)},Nn.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Nn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Nn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Nn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Nn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Nn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Nn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Nn.requestFormReset=function(f){r.d.r(f)},Nn.unstable_batchedUpdates=function(f,h){return f(h)},Nn.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Nn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Nn.version="19.2.0",Nn}var vj;function jC(){if(vj)return Ag.exports;vj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=v4(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function y4(){if(yj)return Nc;yj=1;var e=g4(),t=yl(),n=jC();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,m=s;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return f(y),a;if(x===m)return f(y),s;x=x.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=x;else{for(var O=!1,k=y.child;k;){if(k===c){O=!0,c=y,m=x;break}if(k===m){O=!0,m=y,c=x;break}k=k.sibling}if(!O){for(k=x.child;k;){if(k===c){O=!0,c=x,m=y;break}if(k===m){O=!0,m=x,c=y;break}k=k.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function $(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case C:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return s=a.displayName||null,s!==null?s:$(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return $(a(s))}catch{}}return null}var K=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],ne=-1;function R(a){return{current:a}}function I(a){0>ne||(a.current=ue[ne],ue[ne]=null,ne--)}function V(a,s){ne++,ue[ne]=a.current,a.current=s}var X=R(null),te=R(null),fe=R(null),pe=R(null);function ze(a,s){switch(V(fe,s),V(te,a),V(X,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?PS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=PS(s),a=RS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}I(X),V(X,a)}function ie(){I(X),I(te),I(fe)}function Se(a){a.memoizedState!==null&&V(pe,a);var s=X.current,c=RS(s,a.type);s!==c&&(V(te,a),V(X,c))}function Te(a){te.current===a&&(I(X),I(te)),pe.current===a&&(I(pe),xc._currentValue=W)}var ce,At;function Ie(a){if(ce===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ce=s&&s[1]||"",At=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+a+At}var Tt=!1;function kt(a,s){if(!a||Tt)return"";Tt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var Z=re}Reflect.construct(a,[],le)}else{try{le.call()}catch(re){Z=re}a.call(le.prototype)}}else{try{throw Error()}catch(re){Z=re}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&Z&&typeof re.stack=="string")return[re.stack,Z.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),O=x[0],k=x[1];if(O&&k){var U=O.split(`
`),J=k.split(`
`);for(y=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(m===U.length||y===J.length)for(m=U.length-1,y=J.length-1;1<=m&&0<=y&&U[m]!==J[y];)y--;for(;1<=m&&0<=y;m--,y--)if(U[m]!==J[y]){if(m!==1||y!==1)do if(m--,y--,0>y||U[m]!==J[y]){var se=`
`+U[m].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=m&&0<=y);break}}}finally{Tt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Ie(c):""}function Ht(a,s){switch(a.tag){case 26:case 27:case 5:return Ie(a.type);case 16:return Ie("Lazy");case 13:return a.child!==s&&s!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return kt(a.type,!1);case 11:return kt(a.type.render,!1);case 1:return kt(a.type,!0);case 31:return Ie("Activity");default:return""}}function Zn(a){try{var s="",c=null;do s+=Ht(a,c),c=a,a=a.return;while(a);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ve=Object.prototype.hasOwnProperty,Ge=e.unstable_scheduleCallback,Xe=e.unstable_cancelCallback,mt=e.unstable_shouldYield,pt=e.unstable_requestPaint,Ye=e.unstable_now,kn=e.unstable_getCurrentPriorityLevel,Mn=e.unstable_ImmediatePriority,Un=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,me=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,Qe=e.log,Je=e.unstable_setDisableYieldValue,Mt=null,Re=null;function rt(a){if(typeof Qe=="function"&&Je(a),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Mt,a)}catch{}}var yt=Math.clz32?Math.clz32:it,Pt=Math.log,Oe=Math.LN2;function it(a){return a>>>=0,a===0?32:31-(Pt(a)/Oe|0)|0}var Ut=256,ln=262144,Ur=4194304;function Ft(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xs(a,s,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,x=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~x,m!==0?y=Ft(m):(O&=k,O!==0?y=Ft(O):c||(c=k&~a,c!==0&&(y=Ft(c))))):(k=m&~x,k!==0?y=Ft(k):O!==0?y=Ft(O):c||(c=m&~a,c!==0&&(y=Ft(c)))),y===0?0:s!==0&&s!==y&&(s&x)===0&&(x=y&-y,c=s&-s,x>=c||x===32&&(c&4194048)!==0)?s:y}function Pl(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function VR(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m_(){var a=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),a}function dm(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Rl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function WR(a,s,c,m,y,x){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var k=a.entanglements,U=a.expirationTimes,J=a.hiddenUpdates;for(c=O&~c;0<c;){var se=31-yt(c),le=1<<se;k[se]=0,U[se]=-1;var Z=J[se];if(Z!==null)for(J[se]=null,se=0;se<Z.length;se++){var re=Z[se];re!==null&&(re.lane&=-536870913)}c&=~le}m!==0&&p_(a,m,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(O&~s))}function p_(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var m=31-yt(s);a.entangledLanes|=s,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function g_(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var m=31-yt(c),y=1<<m;y&s|a[m]&s&&(a[m]|=s),c&=~y}}function v_(a,s){var c=s&-s;return c=(c&42)!==0?1:fm(c),(c&(a.suspendedLanes|s))!==0?0:c}function fm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function hm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function y_(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:rj(a.type))}function b_(a,s){var c=Y.p;try{return Y.p=a,s()}finally{Y.p=c}}var ri=Math.random().toString(36).slice(2),vn="__reactFiber$"+ri,zn="__reactProps$"+ri,Qs="__reactContainer$"+ri,mm="__reactEvents$"+ri,XR="__reactListeners$"+ri,QR="__reactHandles$"+ri,x_="__reactResources$"+ri,Dl="__reactMarker$"+ri;function pm(a){delete a[vn],delete a[zn],delete a[mm],delete a[XR],delete a[QR]}function Js(a){var s=a[vn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Qs]||c[vn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=BS(a);a!==null;){if(c=a[vn])return c;a=BS(a)}return s}a=c,c=a.parentNode}return null}function Zs(a){if(a=a[vn]||a[Qs]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Ll(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function eo(a){var s=a[x_];return s||(s=a[x_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function cn(a){a[Dl]=!0}var __=new Set,w_={};function Yi(a,s){to(a,s),to(a+"Capture",s)}function to(a,s){for(w_[a]=s,a=0;a<s.length;a++)__.add(s[a])}var JR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),S_={},j_={};function ZR(a){return ve.call(j_,a)?!0:ve.call(S_,a)?!1:JR.test(a)?j_[a]=!0:(S_[a]=!0,!1)}function Uu(a,s,c){if(ZR(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function zu(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function ga(a,s,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+m)}}function vr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function N_(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function eD(a,s,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,x=m.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(O){c=""+O,x.call(this,O)}}),Object.defineProperty(a,s,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function gm(a){if(!a._valueTracker){var s=N_(a)?"checked":"value";a._valueTracker=eD(a,s,""+a[s])}}function E_(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return a&&(m=N_(a)?a.checked?"true":"false":a.value),a=m,a!==c?(s.setValue(a),!0):!1}function $u(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var tD=/[\n"\\]/g;function yr(a){return a.replace(tD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vm(a,s,c,m,y,x,O,k){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),s!=null?O==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+vr(s)):a.value!==""+vr(s)&&(a.value=""+vr(s)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),s!=null?ym(a,O,vr(s)):c!=null?ym(a,O,vr(c)):m!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+vr(k):a.removeAttribute("name")}function O_(a,s,c,m,y,x,O,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){gm(a);return}c=c!=null?""+vr(c):"",s=s!=null?""+vr(s):c,k||s===a.value||(a.value=s),a.defaultValue=s}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),gm(a)}function ym(a,s,c){s==="number"&&$u(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function no(a,s,c,m){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+vr(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function C_(a,s,c){if(s!=null&&(s=""+vr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+vr(c):""}function A_(a,s,c,m){if(s==null){if(m!=null){if(c!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),s=c}c=vr(s),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),gm(a)}function ro(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var nD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function T_(a,s,c){var m=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":m?a.setProperty(s,c):typeof c!="number"||c===0||nD.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function k_(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in s)m=s[y],s.hasOwnProperty(y)&&c[y]!==m&&T_(a,y,m)}else for(var x in s)s.hasOwnProperty(x)&&T_(a,x,s[x])}function bm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bu(a){return aD.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function va(){}var xm=null;function _m(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ao=null,io=null;function M_(a){var s=Zs(a);if(s&&(a=s.stateNode)){var c=a[zn]||null;e:switch(a=s.stateNode,s.type){case"input":if(vm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==a&&m.form===a.form){var y=m[zn]||null;if(!y)throw Error(r(90));vm(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)m=c[s],m.form===a.form&&E_(m)}break e;case"textarea":C_(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&no(a,!!c.multiple,s,!1)}}}var wm=!1;function P_(a,s,c){if(wm)return a(s,c);wm=!0;try{var m=a(s);return m}finally{if(wm=!1,(ao!==null||io!==null)&&(Cd(),ao&&(s=ao,a=io,io=ao=null,M_(s),a)))for(s=0;s<a.length;s++)M_(a[s])}}function Il(a,s){var c=a.stateNode;if(c===null)return null;var m=c[zn]||null;if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=!1;if(ya)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Sm=!1}var ai=null,jm=null,qu=null;function R_(){if(qu)return qu;var a,s=jm,c=s.length,m,y="value"in ai?ai.value:ai.textContent,x=y.length;for(a=0;a<c&&s[a]===y[a];a++);var O=c-a;for(m=1;m<=O&&s[c-m]===y[x-m];m++);return qu=y.slice(a,1<m?1-m:void 0)}function Hu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Fu(){return!0}function D_(){return!1}function $n(a){function s(c,m,y,x,O){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(c=a[k],this[k]=c?c(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Fu:D_,this.isPropagationStopped=D_,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),s}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=$n(Vi),zl=g({},Vi,{view:0,detail:0}),iD=$n(zl),Nm,Em,$l,Gu=g({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$l&&($l&&a.type==="mousemove"?(Nm=a.screenX-$l.screenX,Em=a.screenY-$l.screenY):Em=Nm=0,$l=a),Nm)},movementY:function(a){return"movementY"in a?a.movementY:Em}}),L_=$n(Gu),sD=g({},Gu,{dataTransfer:0}),oD=$n(sD),lD=g({},zl,{relatedTarget:0}),Om=$n(lD),cD=g({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),uD=$n(cD),dD=g({},Vi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),fD=$n(dD),hD=g({},Vi,{data:0}),I_=$n(hD),mD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=gD[a])?!!s[a]:!1}function Cm(){return vD}var yD=g({},zl,{key:function(a){if(a.key){var s=mD[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Hu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?pD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(a){return a.type==="keypress"?Hu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Hu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bD=$n(yD),xD=g({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U_=$n(xD),_D=g({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),wD=$n(_D),SD=g({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jD=$n(SD),ND=g({},Gu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ED=$n(ND),OD=g({},Vi,{newState:0,oldState:0}),CD=$n(OD),AD=[9,13,27,32],Am=ya&&"CompositionEvent"in window,Bl=null;ya&&"documentMode"in document&&(Bl=document.documentMode);var TD=ya&&"TextEvent"in window&&!Bl,z_=ya&&(!Am||Bl&&8<Bl&&11>=Bl),$_=" ",B_=!1;function q_(a,s){switch(a){case"keyup":return AD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var so=!1;function kD(a,s){switch(a){case"compositionend":return H_(s);case"keypress":return s.which!==32?null:(B_=!0,$_);case"textInput":return a=s.data,a===$_&&B_?null:a;default:return null}}function MD(a,s){if(so)return a==="compositionend"||!Am&&q_(a,s)?(a=R_(),qu=jm=ai=null,so=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return z_&&s.locale!=="ko"?null:s.data;default:return null}}var PD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!PD[a.type]:s==="textarea"}function K_(a,s,c,m){ao?io?io.push(m):io=[m]:ao=m,s=Dd(s,"onChange"),0<s.length&&(c=new Ku("onChange","change",null,c,m),a.push({event:c,listeners:s}))}var ql=null,Hl=null;function RD(a){OS(a,0)}function Yu(a){var s=Ll(a);if(E_(s))return a}function G_(a,s){if(a==="change")return s}var Y_=!1;if(ya){var Tm;if(ya){var km="oninput"in document;if(!km){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),km=typeof V_.oninput=="function"}Tm=km}else Tm=!1;Y_=Tm&&(!document.documentMode||9<document.documentMode)}function W_(){ql&&(ql.detachEvent("onpropertychange",X_),Hl=ql=null)}function X_(a){if(a.propertyName==="value"&&Yu(Hl)){var s=[];K_(s,Hl,a,_m(a)),P_(RD,s)}}function DD(a,s,c){a==="focusin"?(W_(),ql=s,Hl=c,ql.attachEvent("onpropertychange",X_)):a==="focusout"&&W_()}function LD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Yu(Hl)}function ID(a,s){if(a==="click")return Yu(s)}function UD(a,s){if(a==="input"||a==="change")return Yu(s)}function zD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var er=typeof Object.is=="function"?Object.is:zD;function Fl(a,s){if(er(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!ve.call(s,y)||!er(a[y],s[y]))return!1}return!0}function Q_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function J_(a,s){var c=Q_(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=s&&m>=s)return{node:c,offset:s-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Q_(c)}}function Z_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Z_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function ew(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=$u(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=$u(a.document)}return s}function Mm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var $D=ya&&"documentMode"in document&&11>=document.documentMode,oo=null,Pm=null,Kl=null,Rm=!1;function tw(a,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rm||oo==null||oo!==$u(m)||(m=oo,"selectionStart"in m&&Mm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Kl&&Fl(Kl,m)||(Kl=m,m=Dd(Pm,"onSelect"),0<m.length&&(s=new Ku("onSelect","select",null,s,c),a.push({event:s,listeners:m}),s.target=oo)))}function Wi(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var lo={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Dm={},nw={};ya&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Xi(a){if(Dm[a])return Dm[a];if(!lo[a])return a;var s=lo[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in nw)return Dm[a]=s[c];return a}var rw=Xi("animationend"),aw=Xi("animationiteration"),iw=Xi("animationstart"),BD=Xi("transitionrun"),qD=Xi("transitionstart"),HD=Xi("transitioncancel"),sw=Xi("transitionend"),ow=new Map,Lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lm.push("scrollEnd");function zr(a,s){ow.set(a,s),Yi(s,[a])}var Vu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},br=[],co=0,Im=0;function Wu(){for(var a=co,s=Im=co=0;s<a;){var c=br[s];br[s++]=null;var m=br[s];br[s++]=null;var y=br[s];br[s++]=null;var x=br[s];if(br[s++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}x!==0&&lw(c,y,x)}}function Xu(a,s,c,m){br[co++]=a,br[co++]=s,br[co++]=c,br[co++]=m,Im|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Um(a,s,c,m){return Xu(a,s,c,m),Qu(a)}function Qi(a,s){return Xu(a,null,null,s),Qu(a)}function lw(a,s,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,m=x.alternate,m!==null&&(m.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&s!==null&&(y=31-yt(c),a=x.hiddenUpdates,m=a[y],m===null?a[y]=[s]:m.push(s),s.lane=c|536870912),x):null}function Qu(a){if(50<hc)throw hc=0,Yp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var uo={};function FD(a,s,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(a,s,c,m){return new FD(a,s,c,m)}function zm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ba(a,s){var c=a.alternate;return c===null?(c=tr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function cw(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Ju(a,s,c,m,y,x){var O=0;if(m=a,typeof a=="function")zm(a)&&(O=1);else if(typeof a=="string")O=W3(a,c,X.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=tr(31,c,s,y),a.elementType=q,a.lanes=x,a;case S:return Ji(c.children,y,x,s);case j:O=8,y|=24;break;case N:return a=tr(12,c,s,y|2),a.elementType=N,a.lanes=x,a;case T:return a=tr(13,c,s,y),a.elementType=T,a.lanes=x,a;case M:return a=tr(19,c,s,y),a.elementType=M,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:O=10;break e;case E:O=9;break e;case A:O=11;break e;case P:O=14;break e;case D:O=16,m=null;break e}O=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return s=tr(O,c,s,y),s.elementType=a,s.type=m,s.lanes=x,s}function Ji(a,s,c,m){return a=tr(7,a,m,s),a.lanes=c,a}function $m(a,s,c){return a=tr(6,a,null,s),a.lanes=c,a}function uw(a){var s=tr(18,null,null,0);return s.stateNode=a,s}function Bm(a,s,c){return s=tr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var dw=new WeakMap;function xr(a,s){if(typeof a=="object"&&a!==null){var c=dw.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Zn(s)},dw.set(a,s),s)}return{value:a,source:s,stack:Zn(s)}}var fo=[],ho=0,Zu=null,Gl=0,_r=[],wr=0,ii=null,ea=1,ta="";function xa(a,s){fo[ho++]=Gl,fo[ho++]=Zu,Zu=a,Gl=s}function fw(a,s,c){_r[wr++]=ea,_r[wr++]=ta,_r[wr++]=ii,ii=a;var m=ea;a=ta;var y=32-yt(m)-1;m&=~(1<<y),c+=1;var x=32-yt(s)+y;if(30<x){var O=y-y%5;x=(m&(1<<O)-1).toString(32),m>>=O,y-=O,ea=1<<32-yt(s)+y|c<<y|m,ta=x+a}else ea=1<<x|c<<y|m,ta=a}function qm(a){a.return!==null&&(xa(a,1),fw(a,1,0))}function Hm(a){for(;a===Zu;)Zu=fo[--ho],fo[ho]=null,Gl=fo[--ho],fo[ho]=null;for(;a===ii;)ii=_r[--wr],_r[wr]=null,ta=_r[--wr],_r[wr]=null,ea=_r[--wr],_r[wr]=null}function hw(a,s){_r[wr++]=ea,_r[wr++]=ta,_r[wr++]=ii,ea=s.id,ta=s.overflow,ii=a}var yn=null,_t=null,Ve=!1,si=null,Sr=!1,Fm=Error(r(519));function oi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(xr(s,a)),Fm}function mw(a){var s=a.stateNode,c=a.type,m=a.memoizedProps;switch(s[vn]=a,s[zn]=m,c){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(c=0;c<pc.length;c++)Be(pc[c],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),O_(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),A_(s,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||m.suppressHydrationWarning===!0||kS(s.textContent,c)?(m.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),m.onScroll!=null&&Be("scroll",s),m.onScrollEnd!=null&&Be("scrollend",s),m.onClick!=null&&(s.onclick=va),s=!0):s=!1,s||oi(a,!0)}function pw(a){for(yn=a.return;yn;)switch(yn.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:yn=yn.return}}function mo(a){if(a!==yn)return!1;if(!Ve)return pw(a),Ve=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||lg(a.type,a.memoizedProps)),c=!c),c&&_t&&oi(a),pw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=$S(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=$S(a)}else s===27?(s=_t,_i(a.type)?(a=hg,hg=null,_t=a):_t=s):_t=yn?Nr(a.stateNode.nextSibling):null;return!0}function Zi(){_t=yn=null,Ve=!1}function Km(){var a=si;return a!==null&&(Fn===null?Fn=a:Fn.push.apply(Fn,a),si=null),a}function Yl(a){si===null?si=[a]:si.push(a)}var Gm=R(null),es=null,_a=null;function li(a,s,c){V(Gm,s._currentValue),s._currentValue=c}function wa(a){a._currentValue=Gm.current,I(Gm)}function Ym(a,s,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),a===c)break;a=a.return}}function Vm(a,s,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var O=y.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=y;for(var U=0;U<s.length;U++)if(k.context===s[U]){x.lanes|=c,k=x.alternate,k!==null&&(k.lanes|=c),Ym(x.return,c,a),m||(O=null);break e}x=k.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=c,x=O.alternate,x!==null&&(x.lanes|=c),Ym(O,c,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function po(a,s,c,m){a=null;for(var y=s,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var k=y.type;er(y.pendingProps.value,O.value)||(a!==null?a.push(k):a=[k])}}else if(y===pe.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(xc):a=[xc])}y=y.return}a!==null&&Vm(s,a,c,m),s.flags|=262144}function ed(a){for(a=a.firstContext;a!==null;){if(!er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ts(a){es=a,_a=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function bn(a){return gw(es,a)}function td(a,s){return es===null&&ts(a),gw(a,s)}function gw(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},_a===null){if(a===null)throw Error(r(308));_a=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else _a=_a.next=s;return c}var KD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},GD=e.unstable_scheduleCallback,YD=e.unstable_NormalPriority,Kt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wm(){return{controller:new KD,data:new Map,refCount:0}}function Vl(a){a.refCount--,a.refCount===0&&GD(YD,function(){a.controller.abort()})}var Wl=null,Xm=0,go=0,vo=null;function VD(a,s){if(Wl===null){var c=Wl=[];Xm=0,go=Zp(),vo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Xm++,s.then(vw,vw),s}function vw(){if(--Xm===0&&Wl!==null){vo!==null&&(vo.status="fulfilled");var a=Wl;Wl=null,go=0,vo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function WD(a,s){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var yw=L.S;L.S=function(a,s){tS=Ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&VD(a,s),yw!==null&&yw(a,s)};var ns=R(null);function Qm(){var a=ns.current;return a!==null?a:gt.pooledCache}function nd(a,s){s===null?V(ns,ns.current):V(ns,s.pool)}function bw(){var a=Qm();return a===null?null:{parent:Kt._currentValue,pool:a}}var yo=Error(r(460)),Jm=Error(r(474)),rd=Error(r(542)),ad={then:function(){}};function xw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _w(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(va,va),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Sw(a),a;default:if(typeof s.status=="string")s.then(va,va);else{if(a=gt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(m){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=m}},function(m){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Sw(a),a}throw as=s,yo}}function rs(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(as=c,yo):c}}var as=null;function ww(){if(as===null)throw Error(r(459));var a=as;return as=null,a}function Sw(a){if(a===yo||a===rd)throw Error(r(483))}var bo=null,Xl=0;function id(a){var s=Xl;return Xl+=1,bo===null&&(bo=[]),_w(bo,a,s)}function Ql(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function sd(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function jw(a){function s(G,B){if(a){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function c(G,B){if(!a)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function m(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function y(G,B){return G=ba(G,B),G.index=0,G.sibling=null,G}function x(G,B,Q){return G.index=Q,a?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=67108866,B):Q):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function O(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function k(G,B,Q,oe){return B===null||B.tag!==6?(B=$m(Q,G.mode,oe),B.return=G,B):(B=y(B,Q),B.return=G,B)}function U(G,B,Q,oe){var Ne=Q.type;return Ne===S?se(G,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===D&&rs(Ne)===B.type)?(B=y(B,Q.props),Ql(B,Q),B.return=G,B):(B=Ju(Q.type,Q.key,Q.props,null,G.mode,oe),Ql(B,Q),B.return=G,B)}function J(G,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Bm(Q,G.mode,oe),B.return=G,B):(B=y(B,Q.children||[]),B.return=G,B)}function se(G,B,Q,oe,Ne){return B===null||B.tag!==7?(B=Ji(Q,G.mode,oe,Ne),B.return=G,B):(B=y(B,Q),B.return=G,B)}function le(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=$m(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return Q=Ju(B.type,B.key,B.props,null,G.mode,Q),Ql(Q,B),Q.return=G,Q;case w:return B=Bm(B,G.mode,Q),B.return=G,B;case D:return B=rs(B),le(G,B,Q)}if(K(B)||H(B))return B=Ji(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return le(G,id(B),Q);if(B.$$typeof===C)return le(G,td(G,B),Q);sd(G,B)}return null}function Z(G,B,Q,oe){var Ne=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:k(G,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===Ne?U(G,B,Q,oe):null;case w:return Q.key===Ne?J(G,B,Q,oe):null;case D:return Q=rs(Q),Z(G,B,Q,oe)}if(K(Q)||H(Q))return Ne!==null?null:se(G,B,Q,oe,null);if(typeof Q.then=="function")return Z(G,B,id(Q),oe);if(Q.$$typeof===C)return Z(G,B,td(G,Q),oe);sd(G,Q)}return null}function re(G,B,Q,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Q)||null,k(B,G,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return G=G.get(oe.key===null?Q:oe.key)||null,U(B,G,oe,Ne);case w:return G=G.get(oe.key===null?Q:oe.key)||null,J(B,G,oe,Ne);case D:return oe=rs(oe),re(G,B,Q,oe,Ne)}if(K(oe)||H(oe))return G=G.get(Q)||null,se(B,G,oe,Ne,null);if(typeof oe.then=="function")return re(G,B,Q,id(oe),Ne);if(oe.$$typeof===C)return re(G,B,Q,td(B,oe),Ne);sd(B,oe)}return null}function be(G,B,Q,oe){for(var Ne=null,Ze=null,_e=B,Le=B=0,Ke=null;_e!==null&&Le<Q.length;Le++){_e.index>Le?(Ke=_e,_e=null):Ke=_e.sibling;var et=Z(G,_e,Q[Le],oe);if(et===null){_e===null&&(_e=Ke);break}a&&_e&&et.alternate===null&&s(G,_e),B=x(et,B,Le),Ze===null?Ne=et:Ze.sibling=et,Ze=et,_e=Ke}if(Le===Q.length)return c(G,_e),Ve&&xa(G,Le),Ne;if(_e===null){for(;Le<Q.length;Le++)_e=le(G,Q[Le],oe),_e!==null&&(B=x(_e,B,Le),Ze===null?Ne=_e:Ze.sibling=_e,Ze=_e);return Ve&&xa(G,Le),Ne}for(_e=m(_e);Le<Q.length;Le++)Ke=re(_e,G,Le,Q[Le],oe),Ke!==null&&(a&&Ke.alternate!==null&&_e.delete(Ke.key===null?Le:Ke.key),B=x(Ke,B,Le),Ze===null?Ne=Ke:Ze.sibling=Ke,Ze=Ke);return a&&_e.forEach(function(Ei){return s(G,Ei)}),Ve&&xa(G,Le),Ne}function Ae(G,B,Q,oe){if(Q==null)throw Error(r(151));for(var Ne=null,Ze=null,_e=B,Le=B=0,Ke=null,et=Q.next();_e!==null&&!et.done;Le++,et=Q.next()){_e.index>Le?(Ke=_e,_e=null):Ke=_e.sibling;var Ei=Z(G,_e,et.value,oe);if(Ei===null){_e===null&&(_e=Ke);break}a&&_e&&Ei.alternate===null&&s(G,_e),B=x(Ei,B,Le),Ze===null?Ne=Ei:Ze.sibling=Ei,Ze=Ei,_e=Ke}if(et.done)return c(G,_e),Ve&&xa(G,Le),Ne;if(_e===null){for(;!et.done;Le++,et=Q.next())et=le(G,et.value,oe),et!==null&&(B=x(et,B,Le),Ze===null?Ne=et:Ze.sibling=et,Ze=et);return Ve&&xa(G,Le),Ne}for(_e=m(_e);!et.done;Le++,et=Q.next())et=re(_e,G,Le,et.value,oe),et!==null&&(a&&et.alternate!==null&&_e.delete(et.key===null?Le:et.key),B=x(et,B,Le),Ze===null?Ne=et:Ze.sibling=et,Ze=et);return a&&_e.forEach(function(s4){return s(G,s4)}),Ve&&xa(G,Le),Ne}function ft(G,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var Ne=Q.key;B!==null;){if(B.key===Ne){if(Ne=Q.type,Ne===S){if(B.tag===7){c(G,B.sibling),oe=y(B,Q.props.children),oe.return=G,G=oe;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===D&&rs(Ne)===B.type){c(G,B.sibling),oe=y(B,Q.props),Ql(oe,Q),oe.return=G,G=oe;break e}c(G,B);break}else s(G,B);B=B.sibling}Q.type===S?(oe=Ji(Q.props.children,G.mode,oe,Q.key),oe.return=G,G=oe):(oe=Ju(Q.type,Q.key,Q.props,null,G.mode,oe),Ql(oe,Q),oe.return=G,G=oe)}return O(G);case w:e:{for(Ne=Q.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(G,B.sibling),oe=y(B,Q.children||[]),oe.return=G,G=oe;break e}else{c(G,B);break}else s(G,B);B=B.sibling}oe=Bm(Q,G.mode,oe),oe.return=G,G=oe}return O(G);case D:return Q=rs(Q),ft(G,B,Q,oe)}if(K(Q))return be(G,B,Q,oe);if(H(Q)){if(Ne=H(Q),typeof Ne!="function")throw Error(r(150));return Q=Ne.call(Q),Ae(G,B,Q,oe)}if(typeof Q.then=="function")return ft(G,B,id(Q),oe);if(Q.$$typeof===C)return ft(G,B,td(G,Q),oe);sd(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(c(G,B.sibling),oe=y(B,Q),oe.return=G,G=oe):(c(G,B),oe=$m(Q,G.mode,oe),oe.return=G,G=oe),O(G)):c(G,B)}return function(G,B,Q,oe){try{Xl=0;var Ne=ft(G,B,Q,oe);return bo=null,Ne}catch(_e){if(_e===yo||_e===rd)throw _e;var Ze=tr(29,_e,null,G.mode);return Ze.lanes=oe,Ze.return=G,Ze}finally{}}}var is=jw(!0),Nw=jw(!1),ci=!1;function Zm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ui(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function di(a,s,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(at&2)!==0){var y=m.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),m.pending=s,s=Qu(a),lw(a,null,c),s}return Xu(a,m,s,c),Qu(a)}function Jl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var m=s.lanes;m&=a.pendingLanes,c|=m,s.lanes=c,g_(a,c)}}function tp(a,s){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=O:x=x.next=O,c=c.next}while(c!==null);x===null?y=x=s:x=x.next=s}else y=x=s;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var np=!1;function Zl(){if(np){var a=vo;if(a!==null)throw a}}function ec(a,s,c,m){np=!1;var y=a.updateQueue;ci=!1;var x=y.firstBaseUpdate,O=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var U=k,J=U.next;U.next=null,O===null?x=J:O.next=J,O=U;var se=a.alternate;se!==null&&(se=se.updateQueue,k=se.lastBaseUpdate,k!==O&&(k===null?se.firstBaseUpdate=J:k.next=J,se.lastBaseUpdate=U))}if(x!==null){var le=y.baseState;O=0,se=J=U=null,k=x;do{var Z=k.lane&-536870913,re=Z!==k.lane;if(re?(Fe&Z)===Z:(m&Z)===Z){Z!==0&&Z===go&&(np=!0),se!==null&&(se=se.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var be=a,Ae=k;Z=s;var ft=c;switch(Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){le=be.call(ft,le,Z);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,Z=typeof be=="function"?be.call(ft,le,Z):be,Z==null)break e;le=g({},le,Z);break e;case 2:ci=!0}}Z=k.callback,Z!==null&&(a.flags|=64,re&&(a.flags|=8192),re=y.callbacks,re===null?y.callbacks=[Z]:re.push(Z))}else re={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},se===null?(J=se=re,U=le):se=se.next=re,O|=Z;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;re=k,k=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);se===null&&(U=le),y.baseState=U,y.firstBaseUpdate=J,y.lastBaseUpdate=se,x===null&&(y.shared.lanes=0),gi|=O,a.lanes=O,a.memoizedState=le}}function Ew(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Ow(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Ew(c[a],s)}var xo=R(null),od=R(0);function Cw(a,s){a=ka,V(od,a),V(xo,s),ka=a|s.baseLanes}function rp(){V(od,ka),V(xo,xo.current)}function ap(){ka=od.current,I(xo),I(od)}var nr=R(null),jr=null;function fi(a){var s=a.alternate;V(zt,zt.current&1),V(nr,a),jr===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(jr=a)}function ip(a){V(zt,zt.current),V(nr,a),jr===null&&(jr=a)}function Aw(a){a.tag===22?(V(zt,zt.current),V(nr,a),jr===null&&(jr=a)):hi()}function hi(){V(zt,zt.current),V(nr,nr.current)}function rr(a){I(nr),jr===a&&(jr=null),I(zt)}var zt=R(0);function ld(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||dg(c)||fg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sa=0,De=null,ut=null,Gt=null,cd=!1,_o=!1,ss=!1,ud=0,tc=0,wo=null,XD=0;function Lt(){throw Error(r(321))}function sp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!er(a[c],s[c]))return!1;return!0}function op(a,s,c,m,y,x){return Sa=x,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=a===null||a.memoizedState===null?f1:wp,ss=!1,x=c(m,y),ss=!1,_o&&(x=kw(s,c,m,y)),Tw(a),x}function Tw(a){L.H=ac;var s=ut!==null&&ut.next!==null;if(Sa=0,Gt=ut=De=null,cd=!1,tc=0,wo=null,s)throw Error(r(300));a===null||Yt||(a=a.dependencies,a!==null&&ed(a)&&(Yt=!0))}function kw(a,s,c,m){De=a;var y=0;do{if(_o&&(wo=null),tc=0,_o=!1,25<=y)throw Error(r(301));if(y+=1,Gt=ut=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}L.H=h1,x=s(c,m)}while(_o);return x}function QD(){var a=L.H,s=a.useState()[0];return s=typeof s.then=="function"?nc(s):s,a=a.useState()[0],(ut!==null?ut.memoizedState:null)!==a&&(De.flags|=1024),s}function lp(){var a=ud!==0;return ud=0,a}function cp(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function up(a){if(cd){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}cd=!1}Sa=0,Gt=ut=De=null,_o=!1,tc=ud=0,wo=null}function Pn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?De.memoizedState=Gt=a:Gt=Gt.next=a,Gt}function $t(){if(ut===null){var a=De.alternate;a=a!==null?a.memoizedState:null}else a=ut.next;var s=Gt===null?De.memoizedState:Gt.next;if(s!==null)Gt=s,ut=a;else{if(a===null)throw De.alternate===null?Error(r(467)):Error(r(310));ut=a,a={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Gt===null?De.memoizedState=Gt=a:Gt=Gt.next=a}return Gt}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(a){var s=tc;return tc+=1,wo===null&&(wo=[]),a=_w(wo,a,s),s=De,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?f1:wp),a}function fd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nc(a);if(a.$$typeof===C)return bn(a)}throw Error(r(438,String(a)))}function dp(a){var s=null,c=De.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var m=De.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=dd(),De.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),m=0;m<a;m++)c[m]=z;return s.index++,c}function ja(a,s){return typeof s=="function"?s(a):s}function hd(a){var s=$t();return fp(s,ut,a)}function fp(a,s,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,x=m.pending;if(x!==null){if(y!==null){var O=y.next;y.next=x.next,x.next=O}s.baseQueue=y=x,m.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{s=y.next;var k=O=null,U=null,J=s,se=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(Fe&le)===le:(Sa&le)===le){var Z=J.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===go&&(se=!0);else if((Sa&Z)===Z){J=J.next,Z===go&&(se=!0);continue}else le={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(k=U=le,O=x):U=U.next=le,De.lanes|=Z,gi|=Z;le=J.action,ss&&c(x,le),x=J.hasEagerState?J.eagerState:c(x,le)}else Z={lane:le,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(k=U=Z,O=x):U=U.next=Z,De.lanes|=le,gi|=le;J=J.next}while(J!==null&&J!==s);if(U===null?O=x:U.next=k,!er(x,a.memoizedState)&&(Yt=!0,se&&(c=vo,c!==null)))throw c;a.memoizedState=x,a.baseState=O,a.baseQueue=U,m.lastRenderedState=x}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function hp(a){var s=$t(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,x=s.memoizedState;if(y!==null){c.pending=null;var O=y=y.next;do x=a(x,O.action),O=O.next;while(O!==y);er(x,s.memoizedState)||(Yt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,m]}function Mw(a,s,c){var m=De,y=$t(),x=Ve;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=s();var O=!er((ut||y).memoizedState,c);if(O&&(y.memoizedState=c,Yt=!0),y=y.queue,gp(Dw.bind(null,m,y,a),[a]),y.getSnapshot!==s||O||Gt!==null&&Gt.memoizedState.tag&1){if(m.flags|=2048,So(9,{destroy:void 0},Rw.bind(null,m,y,c,s),null),gt===null)throw Error(r(349));x||(Sa&127)!==0||Pw(m,s,c)}return c}function Pw(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=De.updateQueue,s===null?(s=dd(),De.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function Rw(a,s,c,m){s.value=c,s.getSnapshot=m,Lw(s)&&Iw(a)}function Dw(a,s,c){return c(function(){Lw(s)&&Iw(a)})}function Lw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!er(a,c)}catch{return!0}}function Iw(a){var s=Qi(a,2);s!==null&&Kn(s,a,2)}function mp(a){var s=Pn();if(typeof a=="function"){var c=a;if(a=c(),ss){rt(!0);try{c()}finally{rt(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},s}function Uw(a,s,c,m){return a.baseState=c,fp(a,ut,typeof m=="function"?m:ja)}function JD(a,s,c,m,y){if(gd(a))throw Error(r(485));if(a=s.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};L.T!==null?c(!0):x.isTransition=!1,m(x),c=s.pending,c===null?(x.next=s.pending=x,zw(s,x)):(x.next=c.next,s.pending=c.next=x)}}function zw(a,s){var c=s.action,m=s.payload,y=a.state;if(s.isTransition){var x=L.T,O={};L.T=O;try{var k=c(y,m),U=L.S;U!==null&&U(O,k),$w(a,s,k)}catch(J){pp(a,s,J)}finally{x!==null&&O.types!==null&&(x.types=O.types),L.T=x}}else try{x=c(y,m),$w(a,s,x)}catch(J){pp(a,s,J)}}function $w(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){Bw(a,s,m)},function(m){return pp(a,s,m)}):Bw(a,s,c)}function Bw(a,s,c){s.status="fulfilled",s.value=c,qw(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,zw(a,c)))}function pp(a,s,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=c,qw(s),s=s.next;while(s!==m)}a.action=null}function qw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Hw(a,s){return s}function Fw(a,s){if(Ve){var c=gt.formState;if(c!==null){e:{var m=De;if(Ve){if(_t){t:{for(var y=_t,x=Sr;y.nodeType!==8;){if(!x){y=null;break t}if(y=Nr(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){_t=Nr(y.nextSibling),m=y.data==="F!";break e}}oi(m)}m=!1}m&&(s=c[0])}}return c=Pn(),c.memoizedState=c.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hw,lastRenderedState:s},c.queue=m,c=c1.bind(null,De,m),m.dispatch=c,m=mp(!1),x=_p.bind(null,De,!1,m.queue),m=Pn(),y={state:s,dispatch:null,action:a,pending:null},m.queue=y,c=JD.bind(null,De,y,x,c),y.dispatch=c,m.memoizedState=a,[s,c,!1]}function Kw(a){var s=$t();return Gw(s,ut,a)}function Gw(a,s,c){if(s=fp(a,s,Hw)[0],a=hd(ja)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=nc(s)}catch(O){throw O===yo?rd:O}else m=s;s=$t();var y=s.queue,x=y.dispatch;return c!==s.memoizedState&&(De.flags|=2048,So(9,{destroy:void 0},ZD.bind(null,y,c),null)),[m,x,a]}function ZD(a,s){a.action=s}function Yw(a){var s=$t(),c=ut;if(c!==null)return Gw(s,c,a);$t(),s=s.memoizedState,c=$t();var m=c.queue.dispatch;return c.memoizedState=a,[s,m,!1]}function So(a,s,c,m){return a={tag:a,create:c,deps:m,inst:s,next:null},s=De.updateQueue,s===null&&(s=dd(),De.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,s.lastEffect=a),a}function Vw(){return $t().memoizedState}function md(a,s,c,m){var y=Pn();De.flags|=a,y.memoizedState=So(1|s,{destroy:void 0},c,m===void 0?null:m)}function pd(a,s,c,m){var y=$t();m=m===void 0?null:m;var x=y.memoizedState.inst;ut!==null&&m!==null&&sp(m,ut.memoizedState.deps)?y.memoizedState=So(s,x,c,m):(De.flags|=a,y.memoizedState=So(1|s,x,c,m))}function Ww(a,s){md(8390656,8,a,s)}function gp(a,s){pd(2048,8,a,s)}function e3(a){De.flags|=4;var s=De.updateQueue;if(s===null)s=dd(),De.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Xw(a){var s=$t().memoizedState;return e3({ref:s,nextImpl:a}),function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Qw(a,s){return pd(4,2,a,s)}function Jw(a,s){return pd(4,4,a,s)}function Zw(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function e1(a,s,c){c=c!=null?c.concat([a]):null,pd(4,4,Zw.bind(null,s,a),c)}function vp(){}function t1(a,s){var c=$t();s=s===void 0?null:s;var m=c.memoizedState;return s!==null&&sp(s,m[1])?m[0]:(c.memoizedState=[a,s],a)}function n1(a,s){var c=$t();s=s===void 0?null:s;var m=c.memoizedState;if(s!==null&&sp(s,m[1]))return m[0];if(m=a(),ss){rt(!0);try{a()}finally{rt(!1)}}return c.memoizedState=[m,s],m}function yp(a,s,c){return c===void 0||(Sa&1073741824)!==0&&(Fe&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=rS(),De.lanes|=a,gi|=a,c)}function r1(a,s,c,m){return er(c,s)?c:xo.current!==null?(a=yp(a,c,m),er(a,s)||(Yt=!0),a):(Sa&42)===0||(Sa&1073741824)!==0&&(Fe&261930)===0?(Yt=!0,a.memoizedState=c):(a=rS(),De.lanes|=a,gi|=a,s)}function a1(a,s,c,m,y){var x=Y.p;Y.p=x!==0&&8>x?x:8;var O=L.T,k={};L.T=k,_p(a,!1,s,c);try{var U=y(),J=L.S;if(J!==null&&J(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=WD(U,m);rc(a,s,se,sr(a))}else rc(a,s,m,sr(a))}catch(le){rc(a,s,{then:function(){},status:"rejected",reason:le},sr())}finally{Y.p=x,O!==null&&k.types!==null&&(O.types=k.types),L.T=O}}function t3(){}function bp(a,s,c,m){if(a.tag!==5)throw Error(r(476));var y=i1(a).queue;a1(a,y,s,W,c===null?t3:function(){return s1(a),c(m)})}function i1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:W},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function s1(a){var s=i1(a);s.next===null&&(s=a.alternate.memoizedState),rc(a,s.next.queue,{},sr())}function xp(){return bn(xc)}function o1(){return $t().memoizedState}function l1(){return $t().memoizedState}function n3(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=sr();a=ui(c);var m=di(s,a,c);m!==null&&(Kn(m,s,c),Jl(m,s,c)),s={cache:Wm()},a.payload=s;return}s=s.return}}function r3(a,s,c){var m=sr();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gd(a)?u1(s,c):(c=Um(a,s,c,m),c!==null&&(Kn(c,a,m),d1(c,s,m)))}function c1(a,s,c){var m=sr();rc(a,s,c,m)}function rc(a,s,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(gd(a))u1(s,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var O=s.lastRenderedState,k=x(O,c);if(y.hasEagerState=!0,y.eagerState=k,er(k,O))return Xu(a,s,y,0),gt===null&&Wu(),!1}catch{}finally{}if(c=Um(a,s,y,m),c!==null)return Kn(c,a,m),d1(c,s,m),!0}return!1}function _p(a,s,c,m){if(m={lane:2,revertLane:Zp(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},gd(a)){if(s)throw Error(r(479))}else s=Um(a,c,m,2),s!==null&&Kn(s,a,2)}function gd(a){var s=a.alternate;return a===De||s!==null&&s===De}function u1(a,s){_o=cd=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function d1(a,s,c){if((c&4194048)!==0){var m=s.lanes;m&=a.pendingLanes,c|=m,s.lanes=c,g_(a,c)}}var ac={readContext:bn,use:fd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ac.useEffectEvent=Lt;var f1={readContext:bn,use:fd,useCallback:function(a,s){return Pn().memoizedState=[a,s===void 0?null:s],a},useContext:bn,useEffect:Ww,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,md(4194308,4,Zw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return md(4194308,4,a,s)},useInsertionEffect:function(a,s){md(4,2,a,s)},useMemo:function(a,s){var c=Pn();s=s===void 0?null:s;var m=a();if(ss){rt(!0);try{a()}finally{rt(!1)}}return c.memoizedState=[m,s],m},useReducer:function(a,s,c){var m=Pn();if(c!==void 0){var y=c(s);if(ss){rt(!0);try{c(s)}finally{rt(!1)}}}else y=s;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=r3.bind(null,De,a),[m.memoizedState,a]},useRef:function(a){var s=Pn();return a={current:a},s.memoizedState=a},useState:function(a){a=mp(a);var s=a.queue,c=c1.bind(null,De,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:vp,useDeferredValue:function(a,s){var c=Pn();return yp(c,a,s)},useTransition:function(){var a=mp(!1);return a=a1.bind(null,De,a.queue,!0,!1),Pn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var m=De,y=Pn();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),gt===null)throw Error(r(349));(Fe&127)!==0||Pw(m,s,c)}y.memoizedState=c;var x={value:c,getSnapshot:s};return y.queue=x,Ww(Dw.bind(null,m,x,a),[a]),m.flags|=2048,So(9,{destroy:void 0},Rw.bind(null,m,x,c,s),null),c},useId:function(){var a=Pn(),s=gt.identifierPrefix;if(Ve){var c=ta,m=ea;c=(m&~(1<<32-yt(m)-1)).toString(32)+c,s="_"+s+"R_"+c,c=ud++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=XD++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:xp,useFormState:Fw,useActionState:Fw,useOptimistic:function(a){var s=Pn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=_p.bind(null,De,!0,c),c.dispatch=s,[a,s]},useMemoCache:dp,useCacheRefresh:function(){return Pn().memoizedState=n3.bind(null,De)},useEffectEvent:function(a){var s=Pn(),c={impl:a};return s.memoizedState=c,function(){if((at&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},wp={readContext:bn,use:fd,useCallback:t1,useContext:bn,useEffect:gp,useImperativeHandle:e1,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:n1,useReducer:hd,useRef:Vw,useState:function(){return hd(ja)},useDebugValue:vp,useDeferredValue:function(a,s){var c=$t();return r1(c,ut.memoizedState,a,s)},useTransition:function(){var a=hd(ja)[0],s=$t().memoizedState;return[typeof a=="boolean"?a:nc(a),s]},useSyncExternalStore:Mw,useId:o1,useHostTransitionStatus:xp,useFormState:Kw,useActionState:Kw,useOptimistic:function(a,s){var c=$t();return Uw(c,ut,a,s)},useMemoCache:dp,useCacheRefresh:l1};wp.useEffectEvent=Xw;var h1={readContext:bn,use:fd,useCallback:t1,useContext:bn,useEffect:gp,useImperativeHandle:e1,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:n1,useReducer:hp,useRef:Vw,useState:function(){return hp(ja)},useDebugValue:vp,useDeferredValue:function(a,s){var c=$t();return ut===null?yp(c,a,s):r1(c,ut.memoizedState,a,s)},useTransition:function(){var a=hp(ja)[0],s=$t().memoizedState;return[typeof a=="boolean"?a:nc(a),s]},useSyncExternalStore:Mw,useId:o1,useHostTransitionStatus:xp,useFormState:Yw,useActionState:Yw,useOptimistic:function(a,s){var c=$t();return ut!==null?Uw(c,ut,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:dp,useCacheRefresh:l1};h1.useEffectEvent=Xw;function Sp(a,s,c,m){s=a.memoizedState,c=c(m,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var jp={enqueueSetState:function(a,s,c){a=a._reactInternals;var m=sr(),y=ui(m);y.payload=s,c!=null&&(y.callback=c),s=di(a,y,m),s!==null&&(Kn(s,a,m),Jl(s,a,m))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var m=sr(),y=ui(m);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=di(a,y,m),s!==null&&(Kn(s,a,m),Jl(s,a,m))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=sr(),m=ui(c);m.tag=2,s!=null&&(m.callback=s),s=di(a,m,c),s!==null&&(Kn(s,a,c),Jl(s,a,c))}};function m1(a,s,c,m,y,x,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,O):s.prototype&&s.prototype.isPureReactComponent?!Fl(c,m)||!Fl(y,x):!0}function p1(a,s,c,m){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==a&&jp.enqueueReplaceState(s,s.state,null)}function os(a,s){var c=s;if("ref"in s){c={};for(var m in s)m!=="ref"&&(c[m]=s[m])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function g1(a){Vu(a)}function v1(a){console.error(a)}function y1(a){Vu(a)}function vd(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function b1(a,s,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Np(a,s,c){return c=ui(c),c.tag=3,c.payload={element:null},c.callback=function(){vd(a,s)},c}function x1(a){return a=ui(a),a.tag=3,a}function _1(a,s,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=m.value;a.payload=function(){return y(x)},a.callback=function(){b1(s,c,m)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){b1(s,c,m),typeof y!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function a3(a,s,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=c.alternate,s!==null&&po(s,c,y,!0),c=nr.current,c!==null){switch(c.tag){case 31:case 13:return jr===null?Ad():c.alternate===null&&It===0&&(It=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===ad?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([m]):s.add(m),Xp(a,m,y)),!1;case 22:return c.flags|=65536,m===ad?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([m]):c.add(m)),Xp(a,m,y)),!1}throw Error(r(435,c.tag))}return Xp(a,m,y),Ad(),!1}if(Ve)return s=nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,m!==Fm&&(a=Error(r(422),{cause:m}),Yl(xr(a,c)))):(m!==Fm&&(s=Error(r(423),{cause:m}),Yl(xr(s,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=xr(m,c),y=Np(a.stateNode,m,y),tp(a,y),It!==4&&(It=2)),!1;var x=Error(r(520),{cause:m});if(x=xr(x,c),fc===null?fc=[x]:fc.push(x),It!==4&&(It=2),s===null)return!0;m=xr(m,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Np(c.stateNode,m,a),tp(c,a),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vi===null||!vi.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=x1(y),_1(y,a,c,m),tp(c,y),!1}c=c.return}while(c!==null);return!1}var Ep=Error(r(461)),Yt=!1;function xn(a,s,c,m){s.child=a===null?Nw(s,null,c,m):is(s,a.child,c,m)}function w1(a,s,c,m,y){c=c.render;var x=s.ref;if("ref"in m){var O={};for(var k in m)k!=="ref"&&(O[k]=m[k])}else O=m;return ts(s),m=op(a,s,c,O,x,y),k=lp(),a!==null&&!Yt?(cp(a,s,y),Na(a,s,y)):(Ve&&k&&qm(s),s.flags|=1,xn(a,s,m,y),s.child)}function S1(a,s,c,m,y){if(a===null){var x=c.type;return typeof x=="function"&&!zm(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,j1(a,s,x,m,y)):(a=Ju(c.type,null,m,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(x=a.child,!Rp(a,y)){var O=x.memoizedProps;if(c=c.compare,c=c!==null?c:Fl,c(O,m)&&a.ref===s.ref)return Na(a,s,y)}return s.flags|=1,a=ba(x,m),a.ref=s.ref,a.return=s,s.child=a}function j1(a,s,c,m,y){if(a!==null){var x=a.memoizedProps;if(Fl(x,m)&&a.ref===s.ref)if(Yt=!1,s.pendingProps=m=x,Rp(a,y))(a.flags&131072)!==0&&(Yt=!0);else return s.lanes=a.lanes,Na(a,s,y)}return Op(a,s,c,m,y)}function N1(a,s,c,m){var y=m.children,x=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(m=s.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~x}else m=0,s.child=null;return E1(a,s,x,c,m)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&nd(s,x!==null?x.cachePool:null),x!==null?Cw(s,x):rp(),Aw(s);else return m=s.lanes=536870912,E1(a,s,x!==null?x.baseLanes|c:c,c,m)}else x!==null?(nd(s,x.cachePool),Cw(s,x),hi(),s.memoizedState=null):(a!==null&&nd(s,null),rp(),hi());return xn(a,s,y,c),s.child}function ic(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function E1(a,s,c,m,y){var x=Qm();return x=x===null?null:{parent:Kt._currentValue,pool:x},s.memoizedState={baseLanes:c,cachePool:x},a!==null&&nd(s,null),rp(),Aw(s),a!==null&&po(a,s,m,!0),s.childLanes=y,null}function yd(a,s){return s=xd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function O1(a,s,c){return is(s,a.child,null,c),a=yd(s,s.pendingProps),a.flags|=2,rr(s),s.memoizedState=null,a}function i3(a,s,c){var m=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ve){if(m.mode==="hidden")return a=yd(s,m),s.lanes=536870912,ic(null,a);if(ip(s),(a=_t)?(a=zS(a,Sr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ii!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=uw(a),c.return=s,s.child=c,yn=s,_t=null)):a=null,a===null)throw oi(s);return s.lanes=536870912,null}return yd(s,m)}var x=a.memoizedState;if(x!==null){var O=x.dehydrated;if(ip(s),y)if(s.flags&256)s.flags&=-257,s=O1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Yt||po(a,s,c,!1),y=(c&a.childLanes)!==0,Yt||y){if(m=gt,m!==null&&(O=v_(m,c),O!==0&&O!==x.retryLane))throw x.retryLane=O,Qi(a,O),Kn(m,a,O),Ep;Ad(),s=O1(a,s,c)}else a=x.treeContext,_t=Nr(O.nextSibling),yn=s,Ve=!0,si=null,Sr=!1,a!==null&&hw(s,a),s=yd(s,m),s.flags|=4096;return s}return a=ba(a.child,{mode:m.mode,children:m.children}),a.ref=s.ref,s.child=a,a.return=s,a}function bd(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Op(a,s,c,m,y){return ts(s),c=op(a,s,c,m,void 0,y),m=lp(),a!==null&&!Yt?(cp(a,s,y),Na(a,s,y)):(Ve&&m&&qm(s),s.flags|=1,xn(a,s,c,y),s.child)}function C1(a,s,c,m,y,x){return ts(s),s.updateQueue=null,c=kw(s,m,c,y),Tw(a),m=lp(),a!==null&&!Yt?(cp(a,s,x),Na(a,s,x)):(Ve&&m&&qm(s),s.flags|=1,xn(a,s,c,x),s.child)}function A1(a,s,c,m,y){if(ts(s),s.stateNode===null){var x=uo,O=c.contextType;typeof O=="object"&&O!==null&&(x=bn(O)),x=new c(m,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=jp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=m,x.state=s.memoizedState,x.refs={},Zm(s),O=c.contextType,x.context=typeof O=="object"&&O!==null?bn(O):uo,x.state=s.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(Sp(s,c,O,m),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&jp.enqueueReplaceState(x,x.state,null),ec(s,m,x,y),Zl(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(a===null){x=s.stateNode;var k=s.memoizedProps,U=os(c,k);x.props=U;var J=x.context,se=c.contextType;O=uo,typeof se=="object"&&se!==null&&(O=bn(se));var le=c.getDerivedStateFromProps;se=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||J!==O)&&p1(s,x,m,O),ci=!1;var Z=s.memoizedState;x.state=Z,ec(s,m,x,y),Zl(),J=s.memoizedState,k||Z!==J||ci?(typeof le=="function"&&(Sp(s,c,le,m),J=s.memoizedState),(U=ci||m1(s,c,U,m,Z,J,O))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=J),x.props=m,x.state=J,x.context=O,m=U):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{x=s.stateNode,ep(a,s),O=s.memoizedProps,se=os(c,O),x.props=se,le=s.pendingProps,Z=x.context,J=c.contextType,U=uo,typeof J=="object"&&J!==null&&(U=bn(J)),k=c.getDerivedStateFromProps,(J=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==le||Z!==U)&&p1(s,x,m,U),ci=!1,Z=s.memoizedState,x.state=Z,ec(s,m,x,y),Zl();var re=s.memoizedState;O!==le||Z!==re||ci||a!==null&&a.dependencies!==null&&ed(a.dependencies)?(typeof k=="function"&&(Sp(s,c,k,m),re=s.memoizedState),(se=ci||m1(s,c,se,m,Z,re,U)||a!==null&&a.dependencies!==null&&ed(a.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,re,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,re,U)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=re),x.props=m,x.state=re,x.context=U,m=se):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),m=!1)}return x=m,bd(a,s),m=(s.flags&128)!==0,x||m?(x=s.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,a!==null&&m?(s.child=is(s,a.child,null,y),s.child=is(s,null,c,y)):xn(a,s,c,y),s.memoizedState=x.state,a=s.child):a=Na(a,s,y),a}function T1(a,s,c,m){return Zi(),s.flags|=256,xn(a,s,c,m),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ap(a){return{baseLanes:a,cachePool:bw()}}function Tp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=ir),a}function k1(a,s,c){var m=s.pendingProps,y=!1,x=(s.flags&128)!==0,O;if((O=x)||(O=a!==null&&a.memoizedState===null?!1:(zt.current&2)!==0),O&&(y=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ve){if(y?fi(s):hi(),(a=_t)?(a=zS(a,Sr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ii!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=uw(a),c.return=s,s.child=c,yn=s,_t=null)):a=null,a===null)throw oi(s);return fg(a)?s.lanes=32:s.lanes=536870912,null}var k=m.children;return m=m.fallback,y?(hi(),y=s.mode,k=xd({mode:"hidden",children:k},y),m=Ji(m,y,c,null),k.return=s,m.return=s,k.sibling=m,s.child=k,m=s.child,m.memoizedState=Ap(c),m.childLanes=Tp(a,O,c),s.memoizedState=Cp,ic(null,m)):(fi(s),kp(s,k))}var U=a.memoizedState;if(U!==null&&(k=U.dehydrated,k!==null)){if(x)s.flags&256?(fi(s),s.flags&=-257,s=Mp(a,s,c)):s.memoizedState!==null?(hi(),s.child=a.child,s.flags|=128,s=null):(hi(),k=m.fallback,y=s.mode,m=xd({mode:"visible",children:m.children},y),k=Ji(k,y,c,null),k.flags|=2,m.return=s,k.return=s,m.sibling=k,s.child=m,is(s,a.child,null,c),m=s.child,m.memoizedState=Ap(c),m.childLanes=Tp(a,O,c),s.memoizedState=Cp,s=ic(null,m));else if(fi(s),fg(k)){if(O=k.nextSibling&&k.nextSibling.dataset,O)var J=O.dgst;O=J,m=Error(r(419)),m.stack="",m.digest=O,Yl({value:m,source:null,stack:null}),s=Mp(a,s,c)}else if(Yt||po(a,s,c,!1),O=(c&a.childLanes)!==0,Yt||O){if(O=gt,O!==null&&(m=v_(O,c),m!==0&&m!==U.retryLane))throw U.retryLane=m,Qi(a,m),Kn(O,a,m),Ep;dg(k)||Ad(),s=Mp(a,s,c)}else dg(k)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,_t=Nr(k.nextSibling),yn=s,Ve=!0,si=null,Sr=!1,a!==null&&hw(s,a),s=kp(s,m.children),s.flags|=4096);return s}return y?(hi(),k=m.fallback,y=s.mode,U=a.child,J=U.sibling,m=ba(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,J!==null?k=ba(J,k):(k=Ji(k,y,c,null),k.flags|=2),k.return=s,m.return=s,m.sibling=k,s.child=m,ic(null,m),m=s.child,k=a.child.memoizedState,k===null?k=Ap(c):(y=k.cachePool,y!==null?(U=Kt._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=bw(),k={baseLanes:k.baseLanes|c,cachePool:y}),m.memoizedState=k,m.childLanes=Tp(a,O,c),s.memoizedState=Cp,ic(a.child,m)):(fi(s),c=a.child,a=c.sibling,c=ba(c,{mode:"visible",children:m.children}),c.return=s,c.sibling=null,a!==null&&(O=s.deletions,O===null?(s.deletions=[a],s.flags|=16):O.push(a)),s.child=c,s.memoizedState=null,c)}function kp(a,s){return s=xd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function xd(a,s){return a=tr(22,a,null,s),a.lanes=0,a}function Mp(a,s,c){return is(s,a.child,null,c),a=kp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function M1(a,s,c){a.lanes|=s;var m=a.alternate;m!==null&&(m.lanes|=s),Ym(a.return,s,c)}function Pp(a,s,c,m,y,x){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:x}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=c,O.tailMode=y,O.treeForkCount=x)}function P1(a,s,c){var m=s.pendingProps,y=m.revealOrder,x=m.tail;m=m.children;var O=zt.current,k=(O&2)!==0;if(k?(O=O&1|2,s.flags|=128):O&=1,V(zt,O),xn(a,s,m,c),m=Ve?Gl:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&M1(a,c,s);else if(a.tag===19)M1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&ld(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),Pp(s,!1,y,c,x,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&ld(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Pp(s,!0,c,null,x,m);break;case"together":Pp(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function Na(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),gi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(po(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=ba(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ba(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Rp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&ed(a)))}function s3(a,s,c){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),li(s,Kt,a.memoizedState.cache),Zi();break;case 27:case 5:Se(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:li(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ip(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(fi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?k1(a,s,c):(fi(s),a=Na(a,s,c),a!==null?a.sibling:null);fi(s);break;case 19:var y=(a.flags&128)!==0;if(m=(c&s.childLanes)!==0,m||(po(a,s,c,!1),m=(c&s.childLanes)!==0),y){if(m)return P1(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),V(zt,zt.current),m)break;return null;case 22:return s.lanes=0,N1(a,s,c,s.pendingProps);case 24:li(s,Kt,a.memoizedState.cache)}return Na(a,s,c)}function R1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Yt=!0;else{if(!Rp(a,c)&&(s.flags&128)===0)return Yt=!1,s3(a,s,c);Yt=(a.flags&131072)!==0}else Yt=!1,Ve&&(s.flags&1048576)!==0&&fw(s,Gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(a=rs(s.elementType),s.type=a,typeof a=="function")zm(a)?(m=os(a,m),s.tag=1,s=A1(null,s,a,m,c)):(s.tag=0,s=Op(null,s,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===A){s.tag=11,s=w1(null,s,a,m,c);break e}else if(y===P){s.tag=14,s=S1(null,s,a,m,c);break e}}throw s=$(a)||a,Error(r(306,s,""))}}return s;case 0:return Op(a,s,s.type,s.pendingProps,c);case 1:return m=s.type,y=os(m,s.pendingProps),A1(a,s,m,y,c);case 3:e:{if(ze(s,s.stateNode.containerInfo),a===null)throw Error(r(387));m=s.pendingProps;var x=s.memoizedState;y=x.element,ep(a,s),ec(s,m,null,c);var O=s.memoizedState;if(m=O.cache,li(s,Kt,m),m!==x.cache&&Vm(s,[Kt],c,!0),Zl(),m=O.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=T1(a,s,m,c);break e}else if(m!==y){y=xr(Error(r(424)),s),Yl(y),s=T1(a,s,m,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(_t=Nr(a.firstChild),yn=s,Ve=!0,si=null,Sr=!0,c=Nw(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zi(),m===y){s=Na(a,s,c);break e}xn(a,s,m,c)}s=s.child}return s;case 26:return bd(a,s),a===null?(c=KS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ve||(c=s.type,a=s.pendingProps,m=Ld(fe.current).createElement(c),m[vn]=s,m[zn]=a,_n(m,c,a),cn(m),s.stateNode=m):s.memoizedState=KS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Se(s),a===null&&Ve&&(m=s.stateNode=qS(s.type,s.pendingProps,fe.current),yn=s,Sr=!0,y=_t,_i(s.type)?(hg=y,_t=Nr(m.firstChild)):_t=y),xn(a,s,s.pendingProps.children,c),bd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ve&&((y=m=_t)&&(m=L3(m,s.type,s.pendingProps,Sr),m!==null?(s.stateNode=m,yn=s,_t=Nr(m.firstChild),Sr=!1,y=!0):y=!1),y||oi(s)),Se(s),y=s.type,x=s.pendingProps,O=a!==null?a.memoizedProps:null,m=x.children,lg(y,x)?m=null:O!==null&&lg(y,O)&&(s.flags|=32),s.memoizedState!==null&&(y=op(a,s,QD,null,null,c),xc._currentValue=y),bd(a,s),xn(a,s,m,c),s.child;case 6:return a===null&&Ve&&((a=c=_t)&&(c=I3(c,s.pendingProps,Sr),c!==null?(s.stateNode=c,yn=s,_t=null,a=!0):a=!1),a||oi(s)),null;case 13:return k1(a,s,c);case 4:return ze(s,s.stateNode.containerInfo),m=s.pendingProps,a===null?s.child=is(s,null,m,c):xn(a,s,m,c),s.child;case 11:return w1(a,s,s.type,s.pendingProps,c);case 7:return xn(a,s,s.pendingProps,c),s.child;case 8:return xn(a,s,s.pendingProps.children,c),s.child;case 12:return xn(a,s,s.pendingProps.children,c),s.child;case 10:return m=s.pendingProps,li(s,s.type,m.value),xn(a,s,m.children,c),s.child;case 9:return y=s.type._context,m=s.pendingProps.children,ts(s),y=bn(y),m=m(y),s.flags|=1,xn(a,s,m,c),s.child;case 14:return S1(a,s,s.type,s.pendingProps,c);case 15:return j1(a,s,s.type,s.pendingProps,c);case 19:return P1(a,s,c);case 31:return i3(a,s,c);case 22:return N1(a,s,c,s.pendingProps);case 24:return ts(s),m=bn(Kt),a===null?(y=Qm(),y===null&&(y=gt,x=Wm(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),s.memoizedState={parent:m,cache:y},Zm(s),li(s,Kt,y)):((a.lanes&c)!==0&&(ep(a,s),ec(s,null,null,c),Zl()),y=a.memoizedState,x=s.memoizedState,y.parent!==m?(y={parent:m,cache:m},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),li(s,Kt,m)):(m=x.cache,li(s,Kt,m),m!==y.cache&&Vm(s,[Kt],c,!0))),xn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ea(a){a.flags|=4}function Dp(a,s,c,m,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(oS())a.flags|=8192;else throw as=ad,Jm}else a.flags&=-16777217}function D1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!XS(s))if(oS())a.flags|=8192;else throw as=ad,Jm}function _d(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?m_():536870912,a.lanes|=s,Oo|=s)}function sc(a,s){if(!Ve)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function wt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,s}function o3(a,s,c){var m=s.pendingProps;switch(Hm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return c=s.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),wa(Kt),ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(mo(s)?Ea(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Km())),wt(s),null;case 26:var y=s.type,x=s.memoizedState;return a===null?(Ea(s),x!==null?(wt(s),D1(s,x)):(wt(s),Dp(s,y,null,m,c))):x?x!==a.memoizedState?(Ea(s),wt(s),D1(s,x)):(wt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==m&&Ea(s),wt(s),Dp(s,y,a,m,c)),null;case 27:if(Te(s),c=fe.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&Ea(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return wt(s),null}a=X.current,mo(s)?mw(s):(a=qS(y,m,c),s.stateNode=a,Ea(s))}return wt(s),null;case 5:if(Te(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&Ea(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(x=X.current,mo(s))mw(s);else{var O=Ld(fe.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?O.createElement(y,{is:m.is}):O.createElement(y)}}x[vn]=s,x[zn]=m;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=x;e:switch(_n(x,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ea(s)}}return wt(s),Dp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==m&&Ea(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(a=fe.current,mo(s)){if(a=s.stateNode,c=s.memoizedProps,m=null,y=yn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[vn]=s,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||kS(a.nodeValue,c)),a||oi(s,!0)}else a=Ld(a).createTextNode(m),a[vn]=s,s.stateNode=a}return wt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(m=mo(s),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[vn]=s}else Zi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),a=!1}else c=Km(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(rr(s),s):(rr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(m=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=mo(s),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[vn]=s}else Zi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),y=!1}else y=Km(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(rr(s),s):(rr(s),null)}return rr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=s.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==y&&(m.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),_d(s,s.updateQueue),wt(s),null);case 4:return ie(),a===null&&rg(s.stateNode.containerInfo),wt(s),null;case 10:return wa(s.type),wt(s),null;case 19:if(I(zt),m=s.memoizedState,m===null)return wt(s),null;if(y=(s.flags&128)!==0,x=m.rendering,x===null)if(y)sc(m,!1);else{if(It!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(x=ld(a),x!==null){for(s.flags|=128,sc(m,!1),a=x.updateQueue,s.updateQueue=a,_d(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)cw(c,a),c=c.sibling;return V(zt,zt.current&1|2),Ve&&xa(s,m.treeForkCount),s.child}a=a.sibling}m.tail!==null&&Ye()>Ed&&(s.flags|=128,y=!0,sc(m,!1),s.lanes=4194304)}else{if(!y)if(a=ld(x),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,_d(s,a),sc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ve)return wt(s),null}else 2*Ye()-m.renderingStartTime>Ed&&c!==536870912&&(s.flags|=128,y=!0,sc(m,!1),s.lanes=4194304);m.isBackwards?(x.sibling=s.child,s.child=x):(a=m.last,a!==null?a.sibling=x:s.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ye(),a.sibling=null,c=zt.current,V(zt,y?c&1|2:c&1),Ve&&xa(s,m.treeForkCount),a):(wt(s),null);case 22:case 23:return rr(s),ap(),m=s.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(c&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),c=s.updateQueue,c!==null&&_d(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==c&&(s.flags|=2048),a!==null&&I(ns),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wa(Kt),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function l3(a,s){switch(Hm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return wa(Kt),ie(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Te(s),null;case 31:if(s.memoizedState!==null){if(rr(s),s.alternate===null)throw Error(r(340));Zi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(rr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Zi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return I(zt),null;case 4:return ie(),null;case 10:return wa(s.type),null;case 22:case 23:return rr(s),ap(),a!==null&&I(ns),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return wa(Kt),null;case 25:return null;default:return null}}function L1(a,s){switch(Hm(s),s.tag){case 3:wa(Kt),ie();break;case 26:case 27:case 5:Te(s);break;case 4:ie();break;case 31:s.memoizedState!==null&&rr(s);break;case 13:rr(s);break;case 19:I(zt);break;case 10:wa(s.type);break;case 22:case 23:rr(s),ap(),a!==null&&I(ns);break;case 24:wa(Kt)}}function oc(a,s){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var x=c.create,O=c.inst;m=x(),O.destroy=m}c=c.next}while(c!==y)}}catch(k){ot(s,s.return,k)}}function mi(a,s,c){try{var m=s.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var x=y.next;m=x;do{if((m.tag&a)===a){var O=m.inst,k=O.destroy;if(k!==void 0){O.destroy=void 0,y=s;var U=c,J=k;try{J()}catch(se){ot(y,U,se)}}}m=m.next}while(m!==x)}}catch(se){ot(s,s.return,se)}}function I1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{Ow(s,c)}catch(m){ot(a,a.return,m)}}}function U1(a,s,c){c.props=os(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){ot(a,s,m)}}function lc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){ot(a,s,y)}}function na(a,s){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){ot(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ot(a,s,y)}else c.current=null}function z1(a){var s=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){ot(a,a.return,y)}}function Lp(a,s,c){try{var m=a.stateNode;T3(m,a.type,c,s),m[zn]=s}catch(y){ot(a,a.return,y)}}function $1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&_i(a.type)||a.tag===4}function Ip(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&_i(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Up(a,s,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=va));else if(m!==4&&(m===27&&_i(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Up(a,s,c),a=a.sibling;a!==null;)Up(a,s,c),a=a.sibling}function wd(a,s,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(m!==4&&(m===27&&_i(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(wd(a,s,c),a=a.sibling;a!==null;)wd(a,s,c),a=a.sibling}function B1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);_n(s,m,c),s[vn]=a,s[zn]=c}catch(x){ot(a,a.return,x)}}var Oa=!1,Vt=!1,zp=!1,q1=typeof WeakSet=="function"?WeakSet:Set,un=null;function c3(a,s){if(a=a.containerInfo,sg=Hd,a=ew(a),Mm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var O=0,k=-1,U=-1,J=0,se=0,le=a,Z=null;t:for(;;){for(var re;le!==c||y!==0&&le.nodeType!==3||(k=O+y),le!==x||m!==0&&le.nodeType!==3||(U=O+m),le.nodeType===3&&(O+=le.nodeValue.length),(re=le.firstChild)!==null;)Z=le,le=re;for(;;){if(le===a)break t;if(Z===c&&++J===y&&(k=O),Z===x&&++se===m&&(U=O),(re=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=re}c=k===-1||U===-1?null:{start:k,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(og={focusedElem:a,selectionRange:c},Hd=!1,un=s;un!==null;)if(s=un,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,un=a;else for(;un!==null;){switch(s=un,x=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=s,y=x.memoizedProps,x=x.memoizedState,m=c.stateNode;try{var be=os(c.type,y);a=m.getSnapshotBeforeUpdate(be,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ae){ot(c,c.return,Ae)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)ug(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ug(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,un=a;break}un=s.return}}function H1(a,s,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Aa(a,c),m&4&&oc(5,c);break;case 1:if(Aa(a,c),m&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(O){ot(c,c.return,O)}else{var y=os(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(O){ot(c,c.return,O)}}m&64&&I1(c),m&512&&lc(c,c.return);break;case 3:if(Aa(a,c),m&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Ow(a,s)}catch(O){ot(c,c.return,O)}}break;case 27:s===null&&m&4&&B1(c);case 26:case 5:Aa(a,c),s===null&&m&4&&z1(c),m&512&&lc(c,c.return);break;case 12:Aa(a,c);break;case 31:Aa(a,c),m&4&&G1(a,c);break;case 13:Aa(a,c),m&4&&Y1(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=y3.bind(null,c),U3(a,c))));break;case 22:if(m=c.memoizedState!==null||Oa,!m){s=s!==null&&s.memoizedState!==null||Vt,y=Oa;var x=Vt;Oa=m,(Vt=s)&&!x?Ta(a,c,(c.subtreeFlags&8772)!==0):Aa(a,c),Oa=y,Vt=x}break;case 30:break;default:Aa(a,c)}}function F1(a){var s=a.alternate;s!==null&&(a.alternate=null,F1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&pm(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var jt=null,Bn=!1;function Ca(a,s,c){for(c=c.child;c!==null;)K1(a,s,c),c=c.sibling}function K1(a,s,c){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Mt,c)}catch{}switch(c.tag){case 26:Vt||na(c,s),Ca(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Vt||na(c,s);var m=jt,y=Bn;_i(c.type)&&(jt=c.stateNode,Bn=!1),Ca(a,s,c),vc(c.stateNode),jt=m,Bn=y;break;case 5:Vt||na(c,s);case 6:if(m=jt,y=Bn,jt=null,Ca(a,s,c),jt=m,Bn=y,jt!==null)if(Bn)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(c.stateNode)}catch(x){ot(c,s,x)}else try{jt.removeChild(c.stateNode)}catch(x){ot(c,s,x)}break;case 18:jt!==null&&(Bn?(a=jt,IS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Do(a)):IS(jt,c.stateNode));break;case 4:m=jt,y=Bn,jt=c.stateNode.containerInfo,Bn=!0,Ca(a,s,c),jt=m,Bn=y;break;case 0:case 11:case 14:case 15:mi(2,c,s),Vt||mi(4,c,s),Ca(a,s,c);break;case 1:Vt||(na(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"&&U1(c,s,m)),Ca(a,s,c);break;case 21:Ca(a,s,c);break;case 22:Vt=(m=Vt)||c.memoizedState!==null,Ca(a,s,c),Vt=m;break;default:Ca(a,s,c)}}function G1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Do(a)}catch(c){ot(s,s.return,c)}}}function Y1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Do(a)}catch(c){ot(s,s.return,c)}}function u3(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new q1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new q1),s;default:throw Error(r(435,a.tag))}}function Sd(a,s){var c=u3(a);s.forEach(function(m){if(!c.has(m)){c.add(m);var y=b3.bind(null,a,m);m.then(y,y)}})}function qn(a,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],x=a,O=s,k=O;e:for(;k!==null;){switch(k.tag){case 27:if(_i(k.type)){jt=k.stateNode,Bn=!1;break e}break;case 5:jt=k.stateNode,Bn=!1;break e;case 3:case 4:jt=k.stateNode.containerInfo,Bn=!0;break e}k=k.return}if(jt===null)throw Error(r(160));K1(x,O,y),jt=null,Bn=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)V1(s,a),s=s.sibling}var $r=null;function V1(a,s){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:qn(s,a),Hn(a),m&4&&(mi(3,a,a.return),oc(3,a),mi(5,a,a.return));break;case 1:qn(s,a),Hn(a),m&512&&(Vt||c===null||na(c,c.return)),m&64&&Oa&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=$r;if(qn(s,a),Hn(a),m&512&&(Vt||c===null||na(c,c.return)),m&4){var x=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Dl]||x[vn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(m),y.head.insertBefore(x,y.querySelector("head > title"))),_n(x,m,c),x[vn]=a,cn(x),m=x;break e;case"link":var O=VS("link","href",y).get(m+(c.href||""));if(O){for(var k=0;k<O.length;k++)if(x=O[k],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(k,1);break t}}x=y.createElement(m),_n(x,m,c),y.head.appendChild(x);break;case"meta":if(O=VS("meta","content",y).get(m+(c.content||""))){for(k=0;k<O.length;k++)if(x=O[k],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(k,1);break t}}x=y.createElement(m),_n(x,m,c),y.head.appendChild(x);break;default:throw Error(r(468,m))}x[vn]=a,cn(x),m=x}a.stateNode=m}else WS(y,a.type,a.stateNode);else a.stateNode=YS(y,m,a.memoizedProps);else x!==m?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,m===null?WS(y,a.type,a.stateNode):YS(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Lp(a,a.memoizedProps,c.memoizedProps)}break;case 27:qn(s,a),Hn(a),m&512&&(Vt||c===null||na(c,c.return)),c!==null&&m&4&&Lp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(qn(s,a),Hn(a),m&512&&(Vt||c===null||na(c,c.return)),a.flags&32){y=a.stateNode;try{ro(y,"")}catch(be){ot(a,a.return,be)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Lp(a,y,c!==null?c.memoizedProps:y)),m&1024&&(zp=!0);break;case 6:if(qn(s,a),Hn(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(be){ot(a,a.return,be)}}break;case 3:if(zd=null,y=$r,$r=Id(s.containerInfo),qn(s,a),$r=y,Hn(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Do(s.containerInfo)}catch(be){ot(a,a.return,be)}zp&&(zp=!1,W1(a));break;case 4:m=$r,$r=Id(a.stateNode.containerInfo),qn(s,a),Hn(a),$r=m;break;case 12:qn(s,a),Hn(a);break;case 31:qn(s,a),Hn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 13:qn(s,a),Hn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Nd=Ye()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 22:y=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,J=Oa,se=Vt;if(Oa=J||y,Vt=se||U,qn(s,a),Vt=se,Oa=J,Hn(a),m&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||U||Oa||Vt||ls(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(x=U.stateNode,y)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{k=U.stateNode;var le=U.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(be){ot(U,U.return,be)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(be){ot(U,U.return,be)}}}else if(s.tag===18){if(c===null){U=s;try{var re=U.stateNode;y?US(re,!0):US(U.stateNode,!1)}catch(be){ot(U,U.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Sd(a,c))));break;case 19:qn(s,a),Hn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Sd(a,m)));break;case 30:break;case 21:break;default:qn(s,a),Hn(a)}}function Hn(a){var s=a.flags;if(s&2){try{for(var c,m=a.return;m!==null;){if($1(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=Ip(a);wd(a,x,y);break;case 5:var O=c.stateNode;c.flags&32&&(ro(O,""),c.flags&=-33);var k=Ip(a);wd(a,k,O);break;case 3:case 4:var U=c.stateNode.containerInfo,J=Ip(a);Up(a,J,U);break;default:throw Error(r(161))}}catch(se){ot(a,a.return,se)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function W1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;W1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Aa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)H1(a,s.alternate,s),s=s.sibling}function ls(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:mi(4,s,s.return),ls(s);break;case 1:na(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&U1(s,s.return,c),ls(s);break;case 27:vc(s.stateNode);case 26:case 5:na(s,s.return),ls(s);break;case 22:s.memoizedState===null&&ls(s);break;case 30:ls(s);break;default:ls(s)}a=a.sibling}}function Ta(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,y=a,x=s,O=x.flags;switch(x.tag){case 0:case 11:case 15:Ta(y,x,c),oc(4,x);break;case 1:if(Ta(y,x,c),m=x,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){ot(m,m.return,J)}if(m=x,y=m.updateQueue,y!==null){var k=m.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Ew(U[y],k)}catch(J){ot(m,m.return,J)}}c&&O&64&&I1(x),lc(x,x.return);break;case 27:B1(x);case 26:case 5:Ta(y,x,c),c&&m===null&&O&4&&z1(x),lc(x,x.return);break;case 12:Ta(y,x,c);break;case 31:Ta(y,x,c),c&&O&4&&G1(y,x);break;case 13:Ta(y,x,c),c&&O&4&&Y1(y,x);break;case 22:x.memoizedState===null&&Ta(y,x,c),lc(x,x.return);break;case 30:break;default:Ta(y,x,c)}s=s.sibling}}function $p(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Vl(c))}function Bp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Vl(a))}function Br(a,s,c,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X1(a,s,c,m),s=s.sibling}function X1(a,s,c,m){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Br(a,s,c,m),y&2048&&oc(9,s);break;case 1:Br(a,s,c,m);break;case 3:Br(a,s,c,m),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Vl(a)));break;case 12:if(y&2048){Br(a,s,c,m),a=s.stateNode;try{var x=s.memoizedProps,O=x.id,k=x.onPostCommit;typeof k=="function"&&k(O,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){ot(s,s.return,U)}}else Br(a,s,c,m);break;case 31:Br(a,s,c,m);break;case 13:Br(a,s,c,m);break;case 23:break;case 22:x=s.stateNode,O=s.alternate,s.memoizedState!==null?x._visibility&2?Br(a,s,c,m):cc(a,s):x._visibility&2?Br(a,s,c,m):(x._visibility|=2,jo(a,s,c,m,(s.subtreeFlags&10256)!==0||!1)),y&2048&&$p(O,s);break;case 24:Br(a,s,c,m),y&2048&&Bp(s.alternate,s);break;default:Br(a,s,c,m)}}function jo(a,s,c,m,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=a,O=s,k=c,U=m,J=O.flags;switch(O.tag){case 0:case 11:case 15:jo(x,O,k,U,y),oc(8,O);break;case 23:break;case 22:var se=O.stateNode;O.memoizedState!==null?se._visibility&2?jo(x,O,k,U,y):cc(x,O):(se._visibility|=2,jo(x,O,k,U,y)),y&&J&2048&&$p(O.alternate,O);break;case 24:jo(x,O,k,U,y),y&&J&2048&&Bp(O.alternate,O);break;default:jo(x,O,k,U,y)}s=s.sibling}}function cc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,m=s,y=m.flags;switch(m.tag){case 22:cc(c,m),y&2048&&$p(m.alternate,m);break;case 24:cc(c,m),y&2048&&Bp(m.alternate,m);break;default:cc(c,m)}s=s.sibling}}var uc=8192;function No(a,s,c){if(a.subtreeFlags&uc)for(a=a.child;a!==null;)Q1(a,s,c),a=a.sibling}function Q1(a,s,c){switch(a.tag){case 26:No(a,s,c),a.flags&uc&&a.memoizedState!==null&&X3(c,$r,a.memoizedState,a.memoizedProps);break;case 5:No(a,s,c);break;case 3:case 4:var m=$r;$r=Id(a.stateNode.containerInfo),No(a,s,c),$r=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=uc,uc=16777216,No(a,s,c),uc=m):No(a,s,c));break;default:No(a,s,c)}}function J1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function dc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];un=m,eS(m,a)}J1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Z1(a),a=a.sibling}function Z1(a){switch(a.tag){case 0:case 11:case 15:dc(a),a.flags&2048&&mi(9,a,a.return);break;case 3:dc(a);break;case 12:dc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,jd(a)):dc(a);break;default:dc(a)}}function jd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];un=m,eS(m,a)}J1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:mi(8,s,s.return),jd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,jd(s));break;default:jd(s)}a=a.sibling}}function eS(a,s){for(;un!==null;){var c=un;switch(c.tag){case 0:case 11:case 15:mi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,un=m;else e:for(c=a;un!==null;){m=un;var y=m.sibling,x=m.return;if(F1(m),m===c){un=null;break e}if(y!==null){y.return=x,un=y;break e}un=x}}}var d3={getCacheForType:function(a){var s=bn(Kt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return bn(Kt).controller.signal}},f3=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,$e=null,Fe=0,st=0,ar=null,pi=!1,Eo=!1,qp=!1,ka=0,It=0,gi=0,cs=0,Hp=0,ir=0,Oo=0,fc=null,Fn=null,Fp=!1,Nd=0,tS=0,Ed=1/0,Od=null,vi=null,Zt=0,yi=null,Co=null,Ma=0,Kp=0,Gp=null,nS=null,hc=0,Yp=null;function sr(){return(at&2)!==0&&Fe!==0?Fe&-Fe:L.T!==null?Zp():y_()}function rS(){if(ir===0)if((Fe&536870912)===0||Ve){var a=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),ir=a}else ir=536870912;return a=nr.current,a!==null&&(a.flags|=32),ir}function Kn(a,s,c){(a===gt&&(st===2||st===9)||a.cancelPendingCommit!==null)&&(Ao(a,0),bi(a,Fe,ir,!1)),Rl(a,c),((at&2)===0||a!==gt)&&(a===gt&&((at&2)===0&&(cs|=c),It===4&&bi(a,Fe,ir,!1)),ra(a))}function aS(a,s,c){if((at&6)!==0)throw Error(r(327));var m=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Pl(a,s),y=m?p3(a,s):Wp(a,s,!0),x=m;do{if(y===0){Eo&&!m&&bi(a,s,0,!1);break}else{if(c=a.current.alternate,x&&!h3(c)){y=Wp(a,s,!1),x=!1;continue}if(y===2){if(x=s,a.errorRecoveryDisabledLanes&x)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var k=a;y=fc;var U=k.current.memoizedState.isDehydrated;if(U&&(Ao(k,O).flags|=256),O=Wp(k,O,!1),O!==2){if(qp&&!U){k.errorRecoveryDisabledLanes|=x,cs|=x,y=4;break e}x=Fn,Fn=y,x!==null&&(Fn===null?Fn=x:Fn.push.apply(Fn,x))}y=O}if(x=!1,y!==2)continue}}if(y===1){Ao(a,0),bi(a,s,0,!0);break}e:{switch(m=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:bi(m,s,ir,!pi);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=Nd+300-Ye(),10<y)){if(bi(m,s,ir,!pi),Xs(m,0,!0)!==0)break e;Ma=s,m.timeoutHandle=DS(iS.bind(null,m,c,Fn,Od,Fp,s,ir,cs,Oo,pi,x,"Throttled",-0,0),y);break e}iS(m,c,Fn,Od,Fp,s,ir,cs,Oo,pi,x,null,-0,0)}}break}while(!0);ra(a)}function iS(a,s,c,m,y,x,O,k,U,J,se,le,Z,re){if(a.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},Q1(s,x,le);var be=(x&62914560)===x?Nd-Ye():(x&4194048)===x?tS-Ye():0;if(be=Q3(le,be),be!==null){Ma=x,a.cancelPendingCommit=be(hS.bind(null,a,s,x,c,m,y,O,k,U,se,le,null,Z,re)),bi(a,x,O,!J);return}}hS(a,s,x,c,m,y,O,k,U)}function h3(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],x=y.getSnapshot;y=y.value;try{if(!er(x(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bi(a,s,c,m){s&=~Hp,s&=~cs,a.suspendedLanes|=s,a.pingedLanes&=~s,m&&(a.warmLanes|=s),m=a.expirationTimes;for(var y=s;0<y;){var x=31-yt(y),O=1<<x;m[x]=-1,y&=~O}c!==0&&p_(a,c,s)}function Cd(){return(at&6)===0?(mc(0),!1):!0}function Vp(){if($e!==null){if(st===0)var a=$e.return;else a=$e,_a=es=null,up(a),bo=null,Xl=0,a=$e;for(;a!==null;)L1(a.alternate,a),a=a.return;$e=null}}function Ao(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,P3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ma=0,Vp(),gt=a,$e=c=ba(a.current,null),Fe=s,st=0,ar=null,pi=!1,Eo=Pl(a,s),qp=!1,Oo=ir=Hp=cs=gi=It=0,Fn=fc=null,Fp=!1,(s&8)!==0&&(s|=s&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=s;0<m;){var y=31-yt(m),x=1<<y;s|=a[y],m&=~x}return ka=s,Wu(),c}function sS(a,s){De=null,L.H=ac,s===yo||s===rd?(s=ww(),st=3):s===Jm?(s=ww(),st=4):st=s===Ep?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ar=s,$e===null&&(It=1,vd(a,xr(s,a.current)))}function oS(){var a=nr.current;return a===null?!0:(Fe&4194048)===Fe?jr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?a===jr:!1}function lS(){var a=L.H;return L.H=ac,a===null?ac:a}function cS(){var a=L.A;return L.A=d3,a}function Ad(){It=4,pi||(Fe&4194048)!==Fe&&nr.current!==null||(Eo=!0),(gi&134217727)===0&&(cs&134217727)===0||gt===null||bi(gt,Fe,ir,!1)}function Wp(a,s,c){var m=at;at|=2;var y=lS(),x=cS();(gt!==a||Fe!==s)&&(Od=null,Ao(a,s)),s=!1;var O=It;e:do try{if(st!==0&&$e!==null){var k=$e,U=ar;switch(st){case 8:Vp(),O=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(s=!0);var J=st;if(st=0,ar=null,To(a,k,U,J),c&&Eo){O=0;break e}break;default:J=st,st=0,ar=null,To(a,k,U,J)}}m3(),O=It;break}catch(se){sS(a,se)}while(!0);return s&&a.shellSuspendCounter++,_a=es=null,at=m,L.H=y,L.A=x,$e===null&&(gt=null,Fe=0,Wu()),O}function m3(){for(;$e!==null;)uS($e)}function p3(a,s){var c=at;at|=2;var m=lS(),y=cS();gt!==a||Fe!==s?(Od=null,Ed=Ye()+500,Ao(a,s)):Eo=Pl(a,s);e:do try{if(st!==0&&$e!==null){s=$e;var x=ar;t:switch(st){case 1:st=0,ar=null,To(a,s,x,1);break;case 2:case 9:if(xw(x)){st=0,ar=null,dS(s);break}s=function(){st!==2&&st!==9||gt!==a||(st=7),ra(a)},x.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:xw(x)?(st=0,ar=null,dS(s)):(st=0,ar=null,To(a,s,x,7));break;case 5:var O=null;switch($e.tag){case 26:O=$e.memoizedState;case 5:case 27:var k=$e;if(O?XS(O):k.stateNode.complete){st=0,ar=null;var U=k.sibling;if(U!==null)$e=U;else{var J=k.return;J!==null?($e=J,Td(J)):$e=null}break t}}st=0,ar=null,To(a,s,x,5);break;case 6:st=0,ar=null,To(a,s,x,6);break;case 8:Vp(),It=6;break e;default:throw Error(r(462))}}g3();break}catch(se){sS(a,se)}while(!0);return _a=es=null,L.H=m,L.A=y,at=c,$e!==null?0:(gt=null,Fe=0,Wu(),It)}function g3(){for(;$e!==null&&!mt();)uS($e)}function uS(a){var s=R1(a.alternate,a,ka);a.memoizedProps=a.pendingProps,s===null?Td(a):$e=s}function dS(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=C1(c,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=C1(c,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:up(s);default:L1(c,s),s=$e=cw(s,ka),s=R1(c,s,ka)}a.memoizedProps=a.pendingProps,s===null?Td(a):$e=s}function To(a,s,c,m){_a=es=null,up(s),bo=null,Xl=0;var y=s.return;try{if(a3(a,y,s,c,Fe)){It=1,vd(a,xr(c,a.current)),$e=null;return}}catch(x){if(y!==null)throw $e=y,x;It=1,vd(a,xr(c,a.current)),$e=null;return}s.flags&32768?(Ve||m===1?a=!0:Eo||(Fe&536870912)!==0?a=!1:(pi=a=!0,(m===2||m===9||m===3||m===6)&&(m=nr.current,m!==null&&m.tag===13&&(m.flags|=16384))),fS(s,a)):Td(s)}function Td(a){var s=a;do{if((s.flags&32768)!==0){fS(s,pi);return}a=s.return;var c=o3(s.alternate,s,ka);if(c!==null){$e=c;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=a}while(s!==null);It===0&&(It=5)}function fS(a,s){do{var c=l3(a.alternate,a);if(c!==null){c.flags&=32767,$e=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){$e=a;return}$e=a=c}while(a!==null);It=6,$e=null}function hS(a,s,c,m,y,x,O,k,U){a.cancelPendingCommit=null;do kd();while(Zt!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Im,WR(a,c,x,O,k,U),a===gt&&($e=gt=null,Fe=0),Co=s,yi=a,Ma=c,Kp=x,Gp=y,nS=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,x3(de,function(){return yS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,y=Y.p,Y.p=2,O=at,at|=4;try{c3(a,s,c)}finally{at=O,Y.p=y,L.T=m}}Zt=1,mS(),pS(),gS()}}function mS(){if(Zt===1){Zt=0;var a=yi,s=Co,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var m=Y.p;Y.p=2;var y=at;at|=4;try{V1(s,a);var x=og,O=ew(a.containerInfo),k=x.focusedElem,U=x.selectionRange;if(O!==k&&k&&k.ownerDocument&&Z_(k.ownerDocument.documentElement,k)){if(U!==null&&Mm(k)){var J=U.start,se=U.end;if(se===void 0&&(se=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(se,k.value.length);else{var le=k.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var re=Z.getSelection(),be=k.textContent.length,Ae=Math.min(U.start,be),ft=U.end===void 0?Ae:Math.min(U.end,be);!re.extend&&Ae>ft&&(O=ft,ft=Ae,Ae=O);var G=J_(k,Ae),B=J_(k,ft);if(G&&B&&(re.rangeCount!==1||re.anchorNode!==G.node||re.anchorOffset!==G.offset||re.focusNode!==B.node||re.focusOffset!==B.offset)){var Q=le.createRange();Q.setStart(G.node,G.offset),re.removeAllRanges(),Ae>ft?(re.addRange(Q),re.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),re.addRange(Q))}}}}for(le=[],re=k;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var oe=le[k];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Hd=!!sg,og=sg=null}finally{at=y,Y.p=m,L.T=c}}a.current=s,Zt=2}}function pS(){if(Zt===2){Zt=0;var a=yi,s=Co,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var m=Y.p;Y.p=2;var y=at;at|=4;try{H1(a,s.alternate,s)}finally{at=y,Y.p=m,L.T=c}}Zt=3}}function gS(){if(Zt===4||Zt===3){Zt=0,pt();var a=yi,s=Co,c=Ma,m=nS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,Co=yi=null,vS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(vi=null),hm(c),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Mt,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=L.T,y=Y.p,Y.p=2,L.T=null;try{for(var x=a.onRecoverableError,O=0;O<m.length;O++){var k=m[O];x(k.value,{componentStack:k.stack})}}finally{L.T=s,Y.p=y}}(Ma&3)!==0&&kd(),ra(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Yp?hc++:(hc=0,Yp=a):hc=0,mc(0)}}function vS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Vl(s)))}function kd(){return mS(),pS(),gS(),yS()}function yS(){if(Zt!==5)return!1;var a=yi,s=Kp;Kp=0;var c=hm(Ma),m=L.T,y=Y.p;try{Y.p=32>c?32:c,L.T=null,c=Gp,Gp=null;var x=yi,O=Ma;if(Zt=0,Co=yi=null,Ma=0,(at&6)!==0)throw Error(r(331));var k=at;if(at|=4,Z1(x.current),X1(x,x.current,O,c),at=k,mc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Mt,x)}catch{}return!0}finally{Y.p=y,L.T=m,vS(a,s)}}function bS(a,s,c){s=xr(c,s),s=Np(a.stateNode,s,2),a=di(a,s,2),a!==null&&(Rl(a,2),ra(a))}function ot(a,s,c){if(a.tag===3)bS(a,a,c);else for(;s!==null;){if(s.tag===3){bS(s,a,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(vi===null||!vi.has(m))){a=xr(c,a),c=x1(2),m=di(s,c,2),m!==null&&(_1(c,m,s,a),Rl(m,2),ra(m));break}}s=s.return}}function Xp(a,s,c){var m=a.pingCache;if(m===null){m=a.pingCache=new f3;var y=new Set;m.set(s,y)}else y=m.get(s),y===void 0&&(y=new Set,m.set(s,y));y.has(c)||(qp=!0,y.add(c),a=v3.bind(null,a,s,c),s.then(a,a))}function v3(a,s,c){var m=a.pingCache;m!==null&&m.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,gt===a&&(Fe&c)===c&&(It===4||It===3&&(Fe&62914560)===Fe&&300>Ye()-Nd?(at&2)===0&&Ao(a,0):Hp|=c,Oo===Fe&&(Oo=0)),ra(a)}function xS(a,s){s===0&&(s=m_()),a=Qi(a,s),a!==null&&(Rl(a,s),ra(a))}function y3(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),xS(a,c)}function b3(a,s){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(s),xS(a,c)}function x3(a,s){return Ge(a,s)}var Md=null,ko=null,Qp=!1,Pd=!1,Jp=!1,xi=0;function ra(a){a!==ko&&a.next===null&&(ko===null?Md=ko=a:ko=ko.next=a),Pd=!0,Qp||(Qp=!0,w3())}function mc(a,s){if(!Jp&&Pd){Jp=!0;do for(var c=!1,m=Md;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var x=0;else{var O=m.suspendedLanes,k=m.pingedLanes;x=(1<<31-yt(42|a)+1)-1,x&=y&~(O&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,jS(m,x))}else x=Fe,x=Xs(m,m===gt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Pl(m,x)||(c=!0,jS(m,x));m=m.next}while(c);Jp=!1}}function _3(){_S()}function _S(){Pd=Qp=!1;var a=0;xi!==0&&M3()&&(a=xi);for(var s=Ye(),c=null,m=Md;m!==null;){var y=m.next,x=wS(m,s);x===0?(m.next=null,c===null?Md=y:c.next=y,y===null&&(ko=c)):(c=m,(a!==0||(x&3)!==0)&&(Pd=!0)),m=y}Zt!==0&&Zt!==5||mc(a),xi!==0&&(xi=0)}function wS(a,s){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var O=31-yt(x),k=1<<O,U=y[O];U===-1?((k&c)===0||(k&m)!==0)&&(y[O]=VR(k,s)):U<=s&&(a.expiredLanes|=k),x&=~k}if(s=gt,c=Fe,c=Xs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===s&&(st===2||st===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Xe(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Pl(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(m!==null&&Xe(m),hm(c)){case 2:case 8:c=Un;break;case 32:c=de;break;case 268435456:c=Ee;break;default:c=de}return m=SS.bind(null,a),c=Ge(c,m),a.callbackPriority=s,a.callbackNode=c,s}return m!==null&&m!==null&&Xe(m),a.callbackPriority=2,a.callbackNode=null,2}function SS(a,s){if(Zt!==0&&Zt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(kd()&&a.callbackNode!==c)return null;var m=Fe;return m=Xs(a,a===gt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(aS(a,m,s),wS(a,Ye()),a.callbackNode!=null&&a.callbackNode===c?SS.bind(null,a):null)}function jS(a,s){if(kd())return null;aS(a,s,!0)}function w3(){R3(function(){(at&6)!==0?Ge(Mn,_3):_S()})}function Zp(){if(xi===0){var a=go;a===0&&(a=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),xi=a}return xi}function NS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Bu(""+a)}function ES(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function S3(a,s,c,m,y){if(s==="submit"&&c&&c.stateNode===y){var x=NS((y[zn]||null).action),O=m.submitter;O&&(s=(s=O[zn]||null)?NS(s.formAction):O.getAttribute("formAction"),s!==null&&(x=s,O=null));var k=new Ku("action","action",null,m,y);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(xi!==0){var U=O?ES(y,O):new FormData(y);bp(c,{pending:!0,data:U,method:y.method,action:x},null,U)}}else typeof x=="function"&&(k.preventDefault(),U=O?ES(y,O):new FormData(y),bp(c,{pending:!0,data:U,method:y.method,action:x},x,U))},currentTarget:y}]})}}for(var eg=0;eg<Lm.length;eg++){var tg=Lm[eg],j3=tg.toLowerCase(),N3=tg[0].toUpperCase()+tg.slice(1);zr(j3,"on"+N3)}zr(rw,"onAnimationEnd"),zr(aw,"onAnimationIteration"),zr(iw,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(BD,"onTransitionRun"),zr(qD,"onTransitionStart"),zr(HD,"onTransitionCancel"),zr(sw,"onTransitionEnd"),to("onMouseEnter",["mouseout","mouseover"]),to("onMouseLeave",["mouseout","mouseover"]),to("onPointerEnter",["pointerout","pointerover"]),to("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function OS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var x=void 0;if(s)for(var O=m.length-1;0<=O;O--){var k=m[O],U=k.instance,J=k.currentTarget;if(k=k.listener,U!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=J;try{x(y)}catch(se){Vu(se)}y.currentTarget=null,x=U}else for(O=0;O<m.length;O++){if(k=m[O],U=k.instance,J=k.currentTarget,k=k.listener,U!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=J;try{x(y)}catch(se){Vu(se)}y.currentTarget=null,x=U}}}}function Be(a,s){var c=s[mm];c===void 0&&(c=s[mm]=new Set);var m=a+"__bubble";c.has(m)||(CS(s,a,2,!1),c.add(m))}function ng(a,s,c){var m=0;s&&(m|=4),CS(c,a,m,s)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function rg(a){if(!a[Rd]){a[Rd]=!0,__.forEach(function(c){c!=="selectionchange"&&(E3.has(c)||ng(c,!1,a),ng(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Rd]||(s[Rd]=!0,ng("selectionchange",!1,s))}}function CS(a,s,c,m){switch(rj(s)){case 2:var y=e4;break;case 8:y=t4;break;default:y=yg}c=y.bind(null,s,c,a),y=void 0,!Sm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function ag(a,s,c,m,y){var x=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var k=m.stateNode.containerInfo;if(k===y)break;if(O===4)for(O=m.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;k!==null;){if(O=Js(k),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){m=x=O;continue e}k=k.parentNode}}m=m.return}P_(function(){var J=x,se=_m(c),le=[];e:{var Z=ow.get(a);if(Z!==void 0){var re=Ku,be=a;switch(a){case"keypress":if(Hu(c)===0)break e;case"keydown":case"keyup":re=bD;break;case"focusin":be="focus",re=Om;break;case"focusout":be="blur",re=Om;break;case"beforeblur":case"afterblur":re=Om;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=L_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wD;break;case rw:case aw:case iw:re=uD;break;case sw:re=jD;break;case"scroll":case"scrollend":re=iD;break;case"wheel":re=ED;break;case"copy":case"cut":case"paste":re=fD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=U_;break;case"toggle":case"beforetoggle":re=CD}var Ae=(s&4)!==0,ft=!Ae&&(a==="scroll"||a==="scrollend"),G=Ae?Z!==null?Z+"Capture":null:Z;Ae=[];for(var B=J,Q;B!==null;){var oe=B;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||G===null||(oe=Il(B,G),oe!=null&&Ae.push(gc(B,oe,Q))),ft)break;B=B.return}0<Ae.length&&(Z=new re(Z,be,null,c,se),le.push({event:Z,listeners:Ae}))}}if((s&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",Z&&c!==xm&&(be=c.relatedTarget||c.fromElement)&&(Js(be)||be[Qs]))break e;if((re||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,re?(be=c.relatedTarget||c.toElement,re=J,be=be?Js(be):null,be!==null&&(ft=o(be),Ae=be.tag,be!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(be=null)):(re=null,be=J),re!==be)){if(Ae=L_,oe="onMouseLeave",G="onMouseEnter",B="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=U_,oe="onPointerLeave",G="onPointerEnter",B="pointer"),ft=re==null?Z:Ll(re),Q=be==null?Z:Ll(be),Z=new Ae(oe,B+"leave",re,c,se),Z.target=ft,Z.relatedTarget=Q,oe=null,Js(se)===J&&(Ae=new Ae(G,B+"enter",be,c,se),Ae.target=Q,Ae.relatedTarget=ft,oe=Ae),ft=oe,re&&be)t:{for(Ae=O3,G=re,B=be,Q=0,oe=G;oe;oe=Ae(oe))Q++;oe=0;for(var Ne=B;Ne;Ne=Ae(Ne))oe++;for(;0<Q-oe;)G=Ae(G),Q--;for(;0<oe-Q;)B=Ae(B),oe--;for(;Q--;){if(G===B||B!==null&&G===B.alternate){Ae=G;break t}G=Ae(G),B=Ae(B)}Ae=null}else Ae=null;re!==null&&AS(le,Z,re,Ae,!1),be!==null&&ft!==null&&AS(le,ft,be,Ae,!0)}}e:{if(Z=J?Ll(J):window,re=Z.nodeName&&Z.nodeName.toLowerCase(),re==="select"||re==="input"&&Z.type==="file")var Ze=G_;else if(F_(Z))if(Y_)Ze=UD;else{Ze=LD;var _e=DD}else re=Z.nodeName,!re||re.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&bm(J.elementType)&&(Ze=G_):Ze=ID;if(Ze&&(Ze=Ze(a,J))){K_(le,Ze,c,se);break e}_e&&_e(a,Z,J),a==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&ym(Z,"number",Z.value)}switch(_e=J?Ll(J):window,a){case"focusin":(F_(_e)||_e.contentEditable==="true")&&(oo=_e,Pm=J,Kl=null);break;case"focusout":Kl=Pm=oo=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,tw(le,c,se);break;case"selectionchange":if($D)break;case"keydown":case"keyup":tw(le,c,se)}var Le;if(Am)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else so?q_(a,c)&&(Ke="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(z_&&c.locale!=="ko"&&(so||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&so&&(Le=R_()):(ai=se,jm="value"in ai?ai.value:ai.textContent,so=!0)),_e=Dd(J,Ke),0<_e.length&&(Ke=new I_(Ke,a,null,c,se),le.push({event:Ke,listeners:_e}),Le?Ke.data=Le:(Le=H_(c),Le!==null&&(Ke.data=Le)))),(Le=TD?kD(a,c):MD(a,c))&&(Ke=Dd(J,"onBeforeInput"),0<Ke.length&&(_e=new I_("onBeforeInput","beforeinput",null,c,se),le.push({event:_e,listeners:Ke}),_e.data=Le)),S3(le,a,J,c,se)}OS(le,s)})}function gc(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Dd(a,s){for(var c=s+"Capture",m=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=Il(a,c),y!=null&&m.unshift(gc(a,y,x)),y=Il(a,s),y!=null&&m.push(gc(a,y,x))),a.tag===3)return m;a=a.return}return[]}function O3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function AS(a,s,c,m,y){for(var x=s._reactName,O=[];c!==null&&c!==m;){var k=c,U=k.alternate,J=k.stateNode;if(k=k.tag,U!==null&&U===m)break;k!==5&&k!==26&&k!==27||J===null||(U=J,y?(J=Il(c,x),J!=null&&O.unshift(gc(c,J,U))):y||(J=Il(c,x),J!=null&&O.push(gc(c,J,U)))),c=c.return}O.length!==0&&a.push({event:s,listeners:O})}var C3=/\r\n?/g,A3=/\u0000|\uFFFD/g;function TS(a){return(typeof a=="string"?a:""+a).replace(C3,`
`).replace(A3,"")}function kS(a,s){return s=TS(s),TS(a)===s}function dt(a,s,c,m,y,x){switch(c){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||ro(a,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&ro(a,""+m);break;case"className":zu(a,"class",m);break;case"tabIndex":zu(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":zu(a,c,m);break;case"style":k_(a,m,x);break;case"data":if(s!=="object"){zu(a,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Bu(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&dt(a,s,"name",y.name,y,null),dt(a,s,"formEncType",y.formEncType,y,null),dt(a,s,"formMethod",y.formMethod,y,null),dt(a,s,"formTarget",y.formTarget,y,null)):(dt(a,s,"encType",y.encType,y,null),dt(a,s,"method",y.method,y,null),dt(a,s,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Bu(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=va);break;case"onScroll":m!=null&&Be("scroll",a);break;case"onScrollEnd":m!=null&&Be("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Bu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":Be("beforetoggle",a),Be("toggle",a),Uu(a,"popover",m);break;case"xlinkActuate":ga(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ga(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ga(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ga(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ga(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ga(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ga(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ga(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ga(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Uu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=rD.get(c)||c,Uu(a,c,m))}}function ig(a,s,c,m,y,x){switch(c){case"style":k_(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?ro(a,m):(typeof m=="number"||typeof m=="bigint")&&ro(a,""+m);break;case"onScroll":m!=null&&Be("scroll",a);break;case"onScrollEnd":m!=null&&Be("scrollend",a);break;case"onClick":m!=null&&(a.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!w_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),x=a[zn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(s,x,y),typeof m=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Uu(a,c,m)}}}function _n(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",a),Be("load",a);var m=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var O=c[x];if(O!=null)switch(x){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,x,O,c,null)}}y&&dt(a,s,"srcSet",c.srcSet,c,null),m&&dt(a,s,"src",c.src,c,null);return;case"input":Be("invalid",a);var k=x=O=y=null,U=null,J=null;for(m in c)if(c.hasOwnProperty(m)){var se=c[m];if(se!=null)switch(m){case"name":y=se;break;case"type":O=se;break;case"checked":U=se;break;case"defaultChecked":J=se;break;case"value":x=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:dt(a,s,m,se,c,null)}}O_(a,x,k,U,J,O,y,!1);return;case"select":Be("invalid",a),m=O=x=null;for(y in c)if(c.hasOwnProperty(y)&&(k=c[y],k!=null))switch(y){case"value":x=k;break;case"defaultValue":O=k;break;case"multiple":m=k;default:dt(a,s,y,k,c,null)}s=x,c=O,a.multiple=!!m,s!=null?no(a,!!m,s,!1):c!=null&&no(a,!!m,c,!0);return;case"textarea":Be("invalid",a),x=y=m=null;for(O in c)if(c.hasOwnProperty(O)&&(k=c[O],k!=null))switch(O){case"value":m=k;break;case"defaultValue":y=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:dt(a,s,O,k,c,null)}A_(a,m,y,x);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(m=c[U],m!=null))switch(U){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:dt(a,s,U,m,c,null)}return;case"dialog":Be("beforetoggle",a),Be("toggle",a),Be("cancel",a),Be("close",a);break;case"iframe":case"object":Be("load",a);break;case"video":case"audio":for(m=0;m<pc.length;m++)Be(pc[m],a);break;case"image":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"embed":case"source":case"link":Be("error",a),Be("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(m=c[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,J,m,c,null)}return;default:if(bm(s)){for(se in c)c.hasOwnProperty(se)&&(m=c[se],m!==void 0&&ig(a,s,se,m,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(m=c[k],m!=null&&dt(a,s,k,m,c,null))}function T3(a,s,c,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,O=null,k=null,U=null,J=null,se=null;for(re in c){var le=c[re];if(c.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=le;default:m.hasOwnProperty(re)||dt(a,s,re,null,m,le)}}for(var Z in m){var re=m[Z];if(le=c[Z],m.hasOwnProperty(Z)&&(re!=null||le!=null))switch(Z){case"type":x=re;break;case"name":y=re;break;case"checked":J=re;break;case"defaultChecked":se=re;break;case"value":O=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==le&&dt(a,s,Z,re,m,le)}}vm(a,O,k,U,J,se,x,y);return;case"select":re=O=k=Z=null;for(x in c)if(U=c[x],c.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":re=U;default:m.hasOwnProperty(x)||dt(a,s,x,null,m,U)}for(y in m)if(x=m[y],U=c[y],m.hasOwnProperty(y)&&(x!=null||U!=null))switch(y){case"value":Z=x;break;case"defaultValue":k=x;break;case"multiple":O=x;default:x!==U&&dt(a,s,y,x,m,U)}s=k,c=O,m=re,Z!=null?no(a,!!c,Z,!1):!!m!=!!c&&(s!=null?no(a,!!c,s,!0):no(a,!!c,c?[]:"",!1));return;case"textarea":re=Z=null;for(k in c)if(y=c[k],c.hasOwnProperty(k)&&y!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:dt(a,s,k,null,m,y)}for(O in m)if(y=m[O],x=c[O],m.hasOwnProperty(O)&&(y!=null||x!=null))switch(O){case"value":Z=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&dt(a,s,O,y,m,x)}C_(a,Z,re);return;case"option":for(var be in c)if(Z=c[be],c.hasOwnProperty(be)&&Z!=null&&!m.hasOwnProperty(be))switch(be){case"selected":a.selected=!1;break;default:dt(a,s,be,null,m,Z)}for(U in m)if(Z=m[U],re=c[U],m.hasOwnProperty(U)&&Z!==re&&(Z!=null||re!=null))switch(U){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:dt(a,s,U,Z,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in c)Z=c[Ae],c.hasOwnProperty(Ae)&&Z!=null&&!m.hasOwnProperty(Ae)&&dt(a,s,Ae,null,m,Z);for(J in m)if(Z=m[J],re=c[J],m.hasOwnProperty(J)&&Z!==re&&(Z!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:dt(a,s,J,Z,m,re)}return;default:if(bm(s)){for(var ft in c)Z=c[ft],c.hasOwnProperty(ft)&&Z!==void 0&&!m.hasOwnProperty(ft)&&ig(a,s,ft,void 0,m,Z);for(se in m)Z=m[se],re=c[se],!m.hasOwnProperty(se)||Z===re||Z===void 0&&re===void 0||ig(a,s,se,Z,m,re);return}}for(var G in c)Z=c[G],c.hasOwnProperty(G)&&Z!=null&&!m.hasOwnProperty(G)&&dt(a,s,G,null,m,Z);for(le in m)Z=m[le],re=c[le],!m.hasOwnProperty(le)||Z===re||Z==null&&re==null||dt(a,s,le,Z,m,re)}function MS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],x=y.transferSize,O=y.initiatorType,k=y.duration;if(x&&k&&MS(O)){for(O=0,k=y.responseEnd,m+=1;m<c.length;m++){var U=c[m],J=U.startTime;if(J>k)break;var se=U.transferSize,le=U.initiatorType;se&&MS(le)&&(U=U.responseEnd,O+=se*(U<k?1:(k-J)/(U-J)))}if(--m,s+=8*(x+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var sg=null,og=null;function Ld(a){return a.nodeType===9?a:a.ownerDocument}function PS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function lg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cg=null;function M3(){var a=window.event;return a&&a.type==="popstate"?a===cg?!1:(cg=a,!0):(cg=null,!1)}var DS=typeof setTimeout=="function"?setTimeout:void 0,P3=typeof clearTimeout=="function"?clearTimeout:void 0,LS=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof LS<"u"?function(a){return LS.resolve(null).then(a).catch(D3)}:DS;function D3(a){setTimeout(function(){throw a})}function _i(a){return a==="head"}function IS(a,s){var c=s,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),Do(s);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")vc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,vc(c);for(var x=c.firstChild;x;){var O=x.nextSibling,k=x.nodeName;x[Dl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=O}}else c==="body"&&vc(a.ownerDocument.body);c=y}while(c);Do(s)}function US(a,s){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function ug(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ug(c),pm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function L3(a,s,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Dl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Nr(a.nextSibling),a===null)break}return null}function I3(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Nr(a.nextSibling),a===null))return null;return a}function zS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Nr(a.nextSibling),a===null))return null;return a}function dg(a){return a.data==="$?"||a.data==="$~"}function fg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function U3(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var m=function(){s(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Nr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var hg=null;function $S(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Nr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function BS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function qS(a,s,c){switch(s=Ld(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function vc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);pm(a)}var Er=new Map,HS=new Set;function Id(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Pa=Y.d;Y.d={f:z3,r:$3,D:B3,C:q3,L:H3,m:F3,X:G3,S:K3,M:Y3};function z3(){var a=Pa.f(),s=Cd();return a||s}function $3(a){var s=Zs(a);s!==null&&s.tag===5&&s.type==="form"?s1(s):Pa.r(a)}var Mo=typeof document>"u"?null:document;function FS(a,s,c){var m=Mo;if(m&&typeof s=="string"&&s){var y=yr(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),HS.has(y)||(HS.add(y),a={rel:a,crossOrigin:c,href:s},m.querySelector(y)===null&&(s=m.createElement("link"),_n(s,"link",a),cn(s),m.head.appendChild(s)))}}function B3(a){Pa.D(a),FS("dns-prefetch",a,null)}function q3(a,s){Pa.C(a,s),FS("preconnect",a,s)}function H3(a,s,c){Pa.L(a,s,c);var m=Mo;if(m&&a&&s){var y='link[rel="preload"][as="'+yr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+yr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+yr(c.imageSizes)+'"]')):y+='[href="'+yr(a)+'"]';var x=y;switch(s){case"style":x=Po(a);break;case"script":x=Ro(a)}Er.has(x)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Er.set(x,a),m.querySelector(y)!==null||s==="style"&&m.querySelector(yc(x))||s==="script"&&m.querySelector(bc(x))||(s=m.createElement("link"),_n(s,"link",a),cn(s),m.head.appendChild(s)))}}function F3(a,s){Pa.m(a,s);var c=Mo;if(c&&a){var m=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+yr(m)+'"][href="'+yr(a)+'"]',x=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ro(a)}if(!Er.has(x)&&(a=g({rel:"modulepreload",href:a},s),Er.set(x,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(x)))return}m=c.createElement("link"),_n(m,"link",a),cn(m),c.head.appendChild(m)}}}function K3(a,s,c){Pa.S(a,s,c);var m=Mo;if(m&&a){var y=eo(m).hoistableStyles,x=Po(a);s=s||"default";var O=y.get(x);if(!O){var k={loading:0,preload:null};if(O=m.querySelector(yc(x)))k.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Er.get(x))&&mg(a,c);var U=O=m.createElement("link");cn(U),_n(U,"link",a),U._p=new Promise(function(J,se){U.onload=J,U.onerror=se}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Ud(O,s,m)}O={type:"stylesheet",instance:O,count:1,state:k},y.set(x,O)}}}function G3(a,s){Pa.X(a,s);var c=Mo;if(c&&a){var m=eo(c).hoistableScripts,y=Ro(a),x=m.get(y);x||(x=c.querySelector(bc(y)),x||(a=g({src:a,async:!0},s),(s=Er.get(y))&&pg(a,s),x=c.createElement("script"),cn(x),_n(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function Y3(a,s){Pa.M(a,s);var c=Mo;if(c&&a){var m=eo(c).hoistableScripts,y=Ro(a),x=m.get(y);x||(x=c.querySelector(bc(y)),x||(a=g({src:a,async:!0,type:"module"},s),(s=Er.get(y))&&pg(a,s),x=c.createElement("script"),cn(x),_n(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function KS(a,s,c,m){var y=(y=fe.current)?Id(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Po(c.href),c=eo(y).hoistableStyles,m=c.get(s),m||(m={type:"style",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Po(c.href);var x=eo(y).hoistableStyles,O=x.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,O),(x=y.querySelector(yc(a)))&&!x._p&&(O.instance=x,O.state.loading=5),Er.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Er.set(a,c),x||V3(y,a,c,O.state))),s&&m===null)throw Error(r(528,""));return O}if(s&&m!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ro(c),c=eo(y).hoistableScripts,m=c.get(s),m||(m={type:"script",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Po(a){return'href="'+yr(a)+'"'}function yc(a){return'link[rel="stylesheet"]['+a+"]"}function GS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function V3(a,s,c,m){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=a.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),_n(s,"link",c),cn(s),a.head.appendChild(s))}function Ro(a){return'[src="'+yr(a)+'"]'}function bc(a){return"script[async]"+a}function YS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var m=a.querySelector('style[data-href~="'+yr(c.href)+'"]');if(m)return s.instance=m,cn(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),cn(m),_n(m,"style",y),Ud(m,c.precedence,a),s.instance=m;case"stylesheet":y=Po(c.href);var x=a.querySelector(yc(y));if(x)return s.state.loading|=4,s.instance=x,cn(x),x;m=GS(c),(y=Er.get(y))&&mg(m,y),x=(a.ownerDocument||a).createElement("link"),cn(x);var O=x;return O._p=new Promise(function(k,U){O.onload=k,O.onerror=U}),_n(x,"link",m),s.state.loading|=4,Ud(x,c.precedence,a),s.instance=x;case"script":return x=Ro(c.src),(y=a.querySelector(bc(x)))?(s.instance=y,cn(y),y):(m=c,(y=Er.get(x))&&(m=g({},c),pg(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),cn(y),_n(y,"link",m),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Ud(m,c.precedence,a));return s.instance}function Ud(a,s,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,x=y,O=0;O<m.length;O++){var k=m[O];if(k.dataset.precedence===s)x=k;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function mg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function pg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var zd=null;function VS(a,s,c){if(zd===null){var m=new Map,y=zd=new Map;y.set(c,m)}else y=zd,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[Dl]||x[vn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(s)||"";O=a+O;var k=m.get(O);k?k.push(x):m.set(O,[x])}}return m}function WS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function W3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function XS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function X3(a,s,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Po(m.href),x=s.querySelector(yc(y));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=$d.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=x,cn(x);return}x=s.ownerDocument||s,m=GS(m),(y=Er.get(y))&&mg(m,y),x=x.createElement("link"),cn(x);var O=x;O._p=new Promise(function(k,U){O.onload=k,O.onerror=U}),_n(x,"link",m),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=$d.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var gg=0;function Q3(a,s){return a.stylesheets&&a.count===0&&qd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&qd(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+s);0<a.imgBytes&&gg===0&&(gg=62500*k3());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&qd(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>gg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function $d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Bd=null;function qd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Bd=new Map,s.forEach(J3,a),Bd=null,$d.call(a))}function J3(a,s){if(!(s.state.loading&4)){var c=Bd.get(a);if(c)var m=c.get(null);else{c=new Map,Bd.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var O=y[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),m=O)}m&&c.set(null,m)}y=s.instance,O=y.getAttribute("data-precedence"),x=c.get(O)||m,x===m&&c.set(null,y),c.set(O,y),this.count++,m=$d.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var xc={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Z3(a,s,c,m,y,x,O,k,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.hiddenUpdates=dm(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function QS(a,s,c,m,y,x,O,k,U,J,se,le){return a=new Z3(a,s,c,O,U,J,se,le,k),s=1,x===!0&&(s|=24),x=tr(3,null,null,s),a.current=x,x.stateNode=a,s=Wm(),s.refCount++,a.pooledCache=s,s.refCount++,x.memoizedState={element:m,isDehydrated:c,cache:s},Zm(x),a}function JS(a){return a?(a=uo,a):uo}function ZS(a,s,c,m,y,x){y=JS(y),m.context===null?m.context=y:m.pendingContext=y,m=ui(s),m.payload={element:c},x=x===void 0?null:x,x!==null&&(m.callback=x),c=di(a,m,s),c!==null&&(Kn(c,a,s),Jl(c,a,s))}function ej(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function vg(a,s){ej(a,s),(a=a.alternate)&&ej(a,s)}function tj(a){if(a.tag===13||a.tag===31){var s=Qi(a,67108864);s!==null&&Kn(s,a,67108864),vg(a,67108864)}}function nj(a){if(a.tag===13||a.tag===31){var s=sr();s=fm(s);var c=Qi(a,s);c!==null&&Kn(c,a,s),vg(a,s)}}var Hd=!0;function e4(a,s,c,m){var y=L.T;L.T=null;var x=Y.p;try{Y.p=2,yg(a,s,c,m)}finally{Y.p=x,L.T=y}}function t4(a,s,c,m){var y=L.T;L.T=null;var x=Y.p;try{Y.p=8,yg(a,s,c,m)}finally{Y.p=x,L.T=y}}function yg(a,s,c,m){if(Hd){var y=bg(m);if(y===null)ag(a,s,m,Fd,c),aj(a,m);else if(r4(y,a,s,c,m))m.stopPropagation();else if(aj(a,m),s&4&&-1<n4.indexOf(a)){for(;y!==null;){var x=Zs(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Ft(x.pendingLanes);if(O!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;O;){var U=1<<31-yt(O);k.entanglements[1]|=U,O&=~U}ra(x),(at&6)===0&&(Ed=Ye()+500,mc(0))}}break;case 31:case 13:k=Qi(x,2),k!==null&&Kn(k,x,2),Cd(),vg(x,2)}if(x=bg(m),x===null&&ag(a,s,m,Fd,c),x===y)break;y=x}y!==null&&m.stopPropagation()}else ag(a,s,m,null,c)}}function bg(a){return a=_m(a),xg(a)}var Fd=null;function xg(a){if(Fd=null,a=Js(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=d(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Fd=a,null}function rj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kn()){case Mn:return 2;case Un:return 8;case de:case me:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var _g=!1,wi=null,Si=null,ji=null,_c=new Map,wc=new Map,Ni=[],n4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aj(a,s){switch(a){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(s.pointerId)}}function Sc(a,s,c,m,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},s!==null&&(s=Zs(s),s!==null&&tj(s)),a):(a.eventSystemFlags|=m,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function r4(a,s,c,m,y){switch(s){case"focusin":return wi=Sc(wi,a,s,c,m,y),!0;case"dragenter":return Si=Sc(Si,a,s,c,m,y),!0;case"mouseover":return ji=Sc(ji,a,s,c,m,y),!0;case"pointerover":var x=y.pointerId;return _c.set(x,Sc(_c.get(x)||null,a,s,c,m,y)),!0;case"gotpointercapture":return x=y.pointerId,wc.set(x,Sc(wc.get(x)||null,a,s,c,m,y)),!0}return!1}function ij(a){var s=Js(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,b_(a.priority,function(){nj(c)});return}}else if(s===31){if(s=d(c),s!==null){a.blockedOn=s,b_(a.priority,function(){nj(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Kd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=bg(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);xm=m,c.target.dispatchEvent(m),xm=null}else return s=Zs(c),s!==null&&tj(s),a.blockedOn=c,!1;s.shift()}return!0}function sj(a,s,c){Kd(a)&&c.delete(s)}function a4(){_g=!1,wi!==null&&Kd(wi)&&(wi=null),Si!==null&&Kd(Si)&&(Si=null),ji!==null&&Kd(ji)&&(ji=null),_c.forEach(sj),wc.forEach(sj)}function Gd(a,s){a.blockedOn===s&&(a.blockedOn=null,_g||(_g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a4)))}var Yd=null;function oj(a){Yd!==a&&(Yd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===a&&(Yd=null);for(var s=0;s<a.length;s+=3){var c=a[s],m=a[s+1],y=a[s+2];if(typeof m!="function"){if(xg(m||c)===null)continue;break}var x=Zs(c);x!==null&&(a.splice(s,3),s-=3,bp(x,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function Do(a){function s(U){return Gd(U,a)}wi!==null&&Gd(wi,a),Si!==null&&Gd(Si,a),ji!==null&&Gd(ji,a),_c.forEach(s),wc.forEach(s);for(var c=0;c<Ni.length;c++){var m=Ni[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ni.length&&(c=Ni[0],c.blockedOn===null);)ij(c),c.blockedOn===null&&Ni.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],x=c[m+1],O=y[zn]||null;if(typeof x=="function")O||oj(c);else if(O){var k=null;if(x&&x.hasAttribute("formAction")){if(y=x,O=x[zn]||null)k=O.formAction;else if(xg(y)!==null)continue}else k=O.action;typeof k=="function"?c[m+1]=k:(c.splice(m,3),m-=3),oj(c)}}}function lj(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function wg(a){this._internalRoot=a}Vd.prototype.render=wg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,m=sr();ZS(c,m,a,s,null,null)},Vd.prototype.unmount=wg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;ZS(a.current,2,null,a,null,null),Cd(),s[Qs]=null}};function Vd(a){this._internalRoot=a}Vd.prototype.unstable_scheduleHydration=function(a){if(a){var s=y_();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Ni.length&&s!==0&&s<Ni[c].priority;c++);Ni.splice(c,0,a),c===0&&ij(a)}};var cj=t.version;if(cj!=="19.2.0")throw Error(r(527,cj,"19.2.0"));Y.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var i4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Mt=Wd.inject(i4),Re=Wd}catch{}}return Nc.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,m="",y=g1,x=v1,O=y1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=QS(a,1,!1,null,null,c,m,null,y,x,O,lj),a[Qs]=s.current,rg(a),new wg(s)},Nc.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var m=!1,y="",x=g1,O=v1,k=y1,U=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=QS(a,1,!0,s,c??null,m,y,U,x,O,k,lj),s.context=JS(null),c=s.current,m=sr(),m=fm(m),y=ui(m),y.callback=null,di(c,y,m),c=m,s.current.lanes=c,Rl(s,c),ra(s),a[Qs]=s.current,rg(a),new Vd(s)},Nc.version="19.2.0",Nc}var bj;function b4(){if(bj)return Eg.exports;bj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Eg.exports=y4(),Eg.exports}var x4=b4();const _4=Qr(x4);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xj="popstate";function w4(e={}){function t(r,i){let{pathname:o,search:l,hash:d}=r.location;return wy("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wc(i)}return j4(t,n,null,e)}function Ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S4(){return Math.random().toString(36).substring(2,10)}function _j(e,t){return{usr:e.state,key:e.key,idx:t}}function wy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bl(t):t,state:n,key:t&&t.key||r||S4()}}function Wc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function j4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let j=p(),N=j==null?null:j-h;h=j,f&&f({action:d,location:S.location,delta:N})}function v(j,N){d="PUSH";let E=wy(S.location,j,N);h=p()+1;let C=_j(E,h),A=S.createHref(E);try{l.pushState(C,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}o&&f&&f({action:d,location:S.location,delta:1})}function _(j,N){d="REPLACE";let E=wy(S.location,j,N);h=p();let C=_j(E,h),A=S.createHref(E);l.replaceState(C,"",A),o&&f&&f({action:d,location:S.location,delta:0})}function w(j){return N4(j)}let S={get action(){return d},get location(){return e(i,l)},listen(j){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(xj,g),f=j,()=>{i.removeEventListener(xj,g),f=null}},createHref(j){return t(i,j)},createURL:w,encodeLocation(j){let N=w(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:_,go(j){return l.go(j)}};return S}function N4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Wc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function NC(e,t,n="/"){return E4(e,t,n,!1)}function E4(e,t,n,r){let i=typeof t=="string"?bl(t):t,o=Fa(i.pathname||"/",n);if(o==null)return null;let l=EC(e);O4(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=U4(o);d=L4(l[f],h,r)}return d}function EC(e,t=[],n=[],r="",i=!1){let o=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;Ot(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=$a([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),EC(l.children,t,v,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:R4(g,l.index),routesMeta:v})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,d);else for(let h of OC(l.path))o(l,d,!0,h)}),t}function OC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=OC(r.join("/")),d=[];return d.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function O4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C4=/^:[\w-]+$/,A4=3,T4=2,k4=1,M4=10,P4=-2,wj=e=>e==="*";function R4(e,t){let n=e.split("/"),r=n.length;return n.some(wj)&&(r+=P4),t&&(r+=T4),n.filter(i=>!wj(i)).reduce((i,o)=>i+(C4.test(o)?A4:o===""?k4:M4),r)}function D4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function L4(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Pf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:$a([o,g.pathname]),pathnameBase:q4($a([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=$a([o,g.pathnameBase]))}return l}function Pf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=d[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=d[v];return g&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function I4(e,t=!1,n=!0){Xr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function U4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function z4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bl(e):e;return{pathname:n?n.startsWith("/")?n:$4(n,t):t,search:H4(r),hash:F4(i)}}function $4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function z0(e){let t=B4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function $0(e,t,n,r=!1){let i;typeof e=="string"?i=bl(e):(i={...e},Ot(!i.pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?t[g]:"/"}let f=z4(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var $a=e=>e.join("/").replace(/\/\/+/g,"/"),q4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var CC=["POST","PUT","PATCH","DELETE"];new Set(CC);var G4=["GET",...CC];new Set(G4);var xl=b.createContext(null);xl.displayName="DataRouter";var Eh=b.createContext(null);Eh.displayName="DataRouterState";b.createContext(!1);var AC=b.createContext({isTransitioning:!1});AC.displayName="ViewTransition";var Y4=b.createContext(new Map);Y4.displayName="Fetchers";var V4=b.createContext(null);V4.displayName="Await";var Jr=b.createContext(null);Jr.displayName="Navigation";var hu=b.createContext(null);hu.displayName="Location";var Dr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var B0=b.createContext(null);B0.displayName="RouteError";function W4(e,{relative:t}={}){Ot(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Jr),{hash:i,pathname:o,search:l}=mu(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:$a([n,o])),r.createHref({pathname:d,search:l,hash:i})}function _l(){return b.useContext(hu)!=null}function Bi(){return Ot(_l(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(hu).location}var TC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kC(e){b.useContext(Jr).static||b.useLayoutEffect(e)}function Xa(){let{isDataRoute:e}=b.useContext(Dr);return e?dL():X4()}function X4(){Ot(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(xl),{basename:t,navigator:n}=b.useContext(Jr),{matches:r}=b.useContext(Dr),{pathname:i}=Bi(),o=JSON.stringify(z0(r)),l=b.useRef(!1);return kC(()=>{l.current=!0}),b.useCallback((f,h={})=>{if(Xr(l.current,TC),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=$0(f,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:$a([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,i,e])}var Q4=b.createContext(null);function J4(e){let t=b.useContext(Dr).outlet;return b.useMemo(()=>t&&b.createElement(Q4.Provider,{value:e},t),[t,e])}function Z4(){let{matches:e}=b.useContext(Dr),t=e[e.length-1];return t?t.params:{}}function mu(e,{relative:t}={}){let{matches:n}=b.useContext(Dr),{pathname:r}=Bi(),i=JSON.stringify(z0(n));return b.useMemo(()=>$0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function eL(e,t){return MC(e,t)}function MC(e,t,n,r,i){var E;Ot(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(Jr),{matches:l}=b.useContext(Dr),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let C=g&&g.path||"";PC(h,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Bi(),_;if(t){let C=typeof t=="string"?bl(t):t;Ot(p==="/"||((E=C.pathname)==null?void 0:E.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=v;let w=_.pathname||"/",S=w;if(p!=="/"){let C=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=NC(e,{pathname:S});Xr(g||j!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=iL(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:$a([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:$a([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,n,r,i);return t&&N?b.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function tL(){let e=uL(),t=K4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,l)}var nL=b.createElement(tL,null),rL=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Dr.Provider,{value:this.props.routeContext},b.createElement(B0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aL({routeContext:e,match:t,children:n}){let r=b.useContext(xl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Dr.Provider,{value:e},n)}function iL(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Ot(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let v,_=!1,w=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||nL,d&&(f<0&&g===0?(PC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):f===g&&(_=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,g+1)),N=()=>{let E;return v?E=w:_?E=S:p.route.Component?E=b.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=h,b.createElement(aL,{match:p,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(rL,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):N()},null)}function q0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sL(e){let t=b.useContext(xl);return Ot(t,q0(e)),t}function oL(e){let t=b.useContext(Eh);return Ot(t,q0(e)),t}function lL(e){let t=b.useContext(Dr);return Ot(t,q0(e)),t}function H0(e){let t=lL(e),n=t.matches[t.matches.length-1];return Ot(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function cL(){return H0("useRouteId")}function uL(){var r;let e=b.useContext(B0),t=oL("useRouteError"),n=H0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function dL(){let{router:e}=sL("useNavigate"),t=H0("useNavigate"),n=b.useRef(!1);return kC(()=>{n.current=!0}),b.useCallback(async(i,o={})=>{Xr(n.current,TC),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Sj={};function PC(e,t,n){!t&&!Sj[e]&&(Sj[e]=!0,Xr(!1,n))}b.memo(fL);function fL({routes:e,future:t,state:n,unstable_onError:r}){return MC(e,void 0,n,r,t)}function Rf({to:e,replace:t,state:n,relative:r}){Ot(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Jr);Xr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=b.useContext(Dr),{pathname:l}=Bi(),d=Xa(),f=$0(e,z0(o),l,r==="path"),h=JSON.stringify(f);return b.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function hL(e){return J4(e.context)}function En(e){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mL({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ot(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=bl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,_=b.useMemo(()=>{let w=Fa(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:v},navigationType:r}},[l,f,h,p,g,v,r]);return Xr(_!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:b.createElement(Jr.Provider,{value:d},b.createElement(hu.Provider,{children:t,value:_}))}function pL({children:e,location:t}){return eL(Sy(e),t)}function Sy(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let o=[...t,i];if(r.type===b.Fragment){n.push.apply(n,Sy(r.props.children,o));return}Ot(r.type===En,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sy(r.props.children,o)),n.push(l)}),n}var jf="get",Nf="application/x-www-form-urlencoded";function Oh(e){return e!=null&&typeof e.tagName=="string"}function gL(e){return Oh(e)&&e.tagName.toLowerCase()==="button"}function vL(e){return Oh(e)&&e.tagName.toLowerCase()==="form"}function yL(e){return Oh(e)&&e.tagName.toLowerCase()==="input"}function bL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xL(e,t){return e.button===0&&(!t||t==="_self")&&!bL(e)}var Xd=null;function _L(){if(Xd===null)try{new FormData(document.createElement("form"),0),Xd=!1}catch{Xd=!0}return Xd}var wL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(e){return e!=null&&!wL.has(e)?(Xr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nf}"`),null):e}function SL(e,t){let n,r,i,o,l;if(vL(e)){let d=e.getAttribute("action");r=d?Fa(d,t):null,n=e.getAttribute("method")||jf,i=kg(e.getAttribute("enctype"))||Nf,o=new FormData(e)}else if(gL(e)||yL(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Fa(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||jf,i=kg(e.getAttribute("formenctype"))||kg(d.getAttribute("enctype"))||Nf,o=new FormData(d,e),!_L()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,g)}}else{if(Oh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,r=null,i=Nf,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jL(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NL(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function OL(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await NL(o,n);return l.links?l.links():[]}return[]}));return kL(r.flat(1).filter(EL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jj(e,t,n,r,i,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):o==="data"?t.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function CL(e,t,{includeHydrateFallback:n}={}){return AL(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function AL(e){return[...new Set(e)]}function TL(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function kL(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(TL(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function RC(){let e=b.useContext(xl);return F0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ML(){let e=b.useContext(Eh);return F0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var K0=b.createContext(void 0);K0.displayName="FrameworkContext";function DC(){let e=b.useContext(K0);return F0(e,"You must render this element inside a <HydratedRouter> element"),e}function PL(e,t){let n=b.useContext(K0),[r,i]=b.useState(!1),[o,l]=b.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(E=>{l(E.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),b.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[o,v,{}]:[o,v,{onFocus:Ec(d,_),onBlur:Ec(f,w),onMouseEnter:Ec(h,_),onMouseLeave:Ec(p,w),onTouchStart:Ec(g,_)}]:[!1,v,{}]}function Ec(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function RL({page:e,...t}){let{router:n}=RC(),r=b.useMemo(()=>NC(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(LL,{page:e,matches:r,...t}):null}function DL(e){let{manifest:t,routeModules:n}=DC(),[r,i]=b.useState([]);return b.useEffect(()=>{let o=!1;return OL(e,t,n).then(l=>{o||i(l)}),()=>{o=!0}},[e,t,n]),r}function LL({page:e,matches:t,...n}){let r=Bi(),{manifest:i,routeModules:o}=DC(),{basename:l}=RC(),{loaderData:d,matches:f}=ML(),h=b.useMemo(()=>jj(e,t,f,i,r,"data"),[e,t,f,i,r]),p=b.useMemo(()=>jj(e,t,f,i,r,"assets"),[e,t,f,i,r]),g=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(N=>{var C;let E=i.routes[N.route.id];!E||!E.hasLoader||(!h.some(A=>A.route.id===N.route.id)&&N.route.id in d&&((C=o[N.route.id])!=null&&C.shouldRevalidate)||E.hasClientLoader?S=!0:w.add(N.route.id))}),w.size===0)return[];let j=jL(e,l,"data");return S&&w.size>0&&j.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[l,d,r,i,h,t,e,o]),v=b.useMemo(()=>CL(p,i),[p,i]),_=DL(p);return b.createElement(b.Fragment,null,g.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:S})=>b.createElement("link",{key:w,nonce:n.nonce,...S})))}function IL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var LC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LC&&(window.__reactRouterVersion="7.9.3")}catch{}function UL({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=w4({window:n,v5Compat:!0}));let i=r.current,[o,l]=b.useState({action:i.action,location:i.location}),d=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>i.listen(d),[i,d]),b.createElement(mL,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var IC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...v},_){let{basename:w}=b.useContext(Jr),S=typeof h=="string"&&IC.test(h),j,N=!1;if(typeof h=="string"&&S&&(j=h,LC))try{let q=new URL(window.location.href),z=h.startsWith("//")?new URL(q.protocol+h):new URL(h),F=Fa(z.pathname,w);z.origin===q.origin&&F!=null?h=F+z.search+z.hash:N=!0}catch{Xr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=W4(h,{relative:i}),[C,A,T]=PL(r,v),M=BL(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function P(q){t&&t(q),q.defaultPrevented||M(q)}let D=b.createElement("a",{...v,...T,href:j||E,onClick:N||o?t:P,ref:IL(_,A),target:f,"data-discover":!S&&n==="render"?"true":void 0});return C&&!S?b.createElement(b.Fragment,null,D,b.createElement(RL,{page:E})):D});G0.displayName="Link";var jy=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:d,children:f,...h},p){let g=mu(l,{relative:h.relative}),v=Bi(),_=b.useContext(Eh),{navigator:w,basename:S}=b.useContext(Jr),j=_!=null&&GL(g)&&d===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,E=v.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(E=E.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&S&&(C=Fa(C,S)||C);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=E===N||!i&&E.startsWith(N)&&E.charAt(A)==="/",M=C!=null&&(C===N||!i&&C.startsWith(N)&&C.charAt(N.length)==="/"),P={isActive:T,isPending:M,isTransitioning:j},D=T?t:void 0,q;typeof r=="function"?q=r(P):q=[r,T?"active":null,M?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(P):o;return b.createElement(G0,{...h,"aria-current":D,className:q,ref:p,style:z,to:l,viewTransition:d},typeof f=="function"?f(P):f)});jy.displayName="NavLink";var zL=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:l=jf,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...v},_)=>{let w=FL(),S=KL(d,{relative:h}),j=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&IC.test(d),E=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,T=(A==null?void 0:A.getAttribute("formmethod"))||l;w(A||C.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return b.createElement("form",{ref:_,method:j,action:S,onSubmit:r?f:E,...v,"data-discover":!N&&e==="render"?"true":void 0})});zL.displayName="Form";function $L(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UC(e){let t=b.useContext(xl);return Ot(t,$L(e)),t}function BL(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let d=Xa(),f=Bi(),h=mu(e,{relative:o});return b.useCallback(p=>{if(xL(p,t)){p.preventDefault();let g=n!==void 0?n:Wc(f)===Wc(h);d(e,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[f,d,h,n,r,t,e,i,o,l])}var qL=0,HL=()=>`__${String(++qL)}__`;function FL(){let{router:e}=UC("useSubmit"),{basename:t}=b.useContext(Jr),n=cL();return b.useCallback(async(r,i={})=>{let{action:o,method:l,encType:d,formData:f,body:h}=SL(r,t);if(i.navigate===!1){let p=i.fetcherKey||HL();await e.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function KL(e,{relative:t}={}){let{basename:n}=b.useContext(Jr),r=b.useContext(Dr);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...mu(e||".",{relative:t})},l=Bi();if(e==null){o.search=l.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$a([n,o.pathname])),Wc(o)}function GL(e,{relative:t}={}){let n=b.useContext(AC);Ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UC("useViewTransitionState"),i=mu(e,{relative:t});if(!n.isTransitioning)return!1;let o=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pf(i.pathname,l)!=null||Pf(i.pathname,o)!=null}var Y0=jC();const YL="modulepreload",VL=function(e){return"/"+e},Nj={},pu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(n.map(h=>{if(h=VL(h),h in Nj)return;Nj[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":YL,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((_,w)=>{v.addEventListener("load",_),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})},WL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class V0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ej extends V0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Oj extends V0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cj extends V0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ny;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ny||(Ny={}));var XL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class QL{constructor(t,{headers:n={},customFetch:r,region:i=Ny.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=WL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return XL(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:d,signal:f}=r;let h={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(h["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(h["Content-Type"]="application/json",v=JSON.stringify(d)));const _=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:f}).catch(N=>{throw N.name==="AbortError"?N:new Ej(N)}),w=_.headers.get("x-relay-error");if(w&&w==="true")throw new Oj(_);if(!_.ok)throw new Cj(_);let S=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield _.json():S==="application/octet-stream"?j=yield _.blob():S==="text/event-stream"?j=_:S==="multipart/form-data"?j=yield _.formData():j=yield _.text(),{data:j,error:null,response:_}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new Ej(o)}:{data:null,error:o,response:o instanceof Cj||o instanceof Oj?o.context:void 0}}})}}var dn={},Lo={},Io={},Uo={},zo={},$o={},JL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=JL();const ZL=sl.fetch,zC=sl.fetch.bind(sl),$C=sl.Headers,eI=sl.Request,tI=sl.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:$C,Request:eI,Response:tI,default:zC,fetch:ZL},Symbol.toStringTag,{value:"Module"})),nI=u4(wl);var Qd={},Aj;function BC(){if(Aj)return Qd;Aj=1,Object.defineProperty(Qd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Qd.default=e,Qd}var Tj;function qC(){if(Tj)return $o;Tj=1;var e=$o&&$o.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(nI),n=e(BC());class r{constructor(o){var l,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,v,_;let w=null,S=null,j=null,N=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const M=await h.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const A=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&T&&T.length>1&&(j=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,N=406,E="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await h.text();try{w=JSON.parse(A),Array.isArray(w)&&h.status===404&&(S=[],w=null,N=200,E="OK")}catch{h.status===404&&A===""?(N=204,E="No Content"):w={message:A}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,N=200,E="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:j,status:N,statusText:E}});return this.shouldThrowOnError||(f=f.catch(h=>{var p,g,v;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(g=h==null?void 0:h.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=h==null?void 0:h.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return $o.default=r,$o}var kj;function HC(){if(kj)return zo;kj=1;var e=zo&&zo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(qC());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return zo.default=n,zo}var Mj;function W0(){if(Mj)return Uo;Mj=1;var e=Uo&&Uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(HC());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${h}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Uo.default=n,Uo}var Pj;function FC(){if(Pj)return Io;Pj=1;var e=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});const t=e(W0());class n{constructor(i,{headers:o={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=d}select(i,o){const{head:l=!1,count:d}=o??{},f=l?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var d;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:o}={}){var l;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Io.default=n,Io}var Rj;function rI(){if(Rj)return Lo;Rj=1;var e=Lo&&Lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lo,"__esModule",{value:!0});const t=e(FC()),n=e(W0());class r{constructor(o,{headers:l={},schema:d,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:d=!1,get:f=!1,count:h}={}){var p;let g;const v=new URL(`${this.url}/rpc/${o}`);let _;d||f?(g=d?"HEAD":"GET",Object.entries(l).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(g="POST",_=l);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:g,url:v,headers:w,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Lo.default=r,Lo}var Dj;function aI(){if(Dj)return dn;Dj=1;var e=dn&&dn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(dn,"__esModule",{value:!0}),dn.PostgrestError=dn.PostgrestBuilder=dn.PostgrestTransformBuilder=dn.PostgrestFilterBuilder=dn.PostgrestQueryBuilder=dn.PostgrestClient=void 0;const t=e(rI());dn.PostgrestClient=t.default;const n=e(FC());dn.PostgrestQueryBuilder=n.default;const r=e(W0());dn.PostgrestFilterBuilder=r.default;const i=e(HC());dn.PostgrestTransformBuilder=i.default;const o=e(qC());dn.PostgrestBuilder=o.default;const l=e(BC());return dn.PostgrestError=l.default,dn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},dn}var iI=aI();const sI=Qr(iI),{PostgrestClient:oI,PostgrestQueryBuilder:Jne,PostgrestFilterBuilder:Zne,PostgrestTransformBuilder:ere,PostgrestBuilder:tre,PostgrestError:nre}=sI;class lI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const cI="2.74.0",uI=`realtime-js/${cI}`,dI="1.0.0",Ey=1e4,fI=1e3,hI=100;var Bc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bc||(Bc={}));var tn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tn||(tn={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var Oy;(function(e){e.websocket="websocket"})(Oy||(Oy={}));var Ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ss||(Ss={}));class mI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class KC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const Lj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=pI(l,e,t,i),o),{}):{}},pI=(e,t,n,r)=>{const i=t.find(d=>d.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?GC(o,l):Cy(l)},GC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return bI(t,n)}switch(e){case bt.bool:return gI(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return vI(t);case bt.json:case bt.jsonb:return yI(t);case bt.timestamp:return xI(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return Cy(t);default:return Cy(t)}},Cy=e=>e,gI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(d=>GC(t,d))}return e},xI=e=>typeof e=="string"?e.replace(" ","T"):e,YC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Mg{constructor(t,n,r={},i=Ey){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ij;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ij||(Ij={}));class qc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qc.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=qc.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qc.syncDiff(this.state,i,o,l),d())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(o,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=o[h];if(g){const v=p.map(j=>j.presence_ref),_=g.map(j=>j.presence_ref),w=p.filter(j=>_.indexOf(j.presence_ref)<0),S=g.filter(j=>v.indexOf(j.presence_ref)<0);w.length>0&&(d[h]=w),S.length>0&&(f[h]=S)}else d[h]=p}),this.syncDiff(o,{joins:d,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(_=>_.presence_ref),v=p.filter(_=>g.indexOf(_.presence_ref)<0);t[d].unshift(...v)}r(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uj||(Uj={}));var Hc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hc||(Hc={}));var Da;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Da||(Da={}));class X0{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mg(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new KC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new qc(this),this.broadcastEndpointURL=YC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==tn.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Hc.PRESENCE]&&this.bindings[Hc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Da.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Da.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){t==null||t(Da.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,N=[];for(let E=0;E<j;E++){const C=S[E],{filter:{event:A,schema:T,table:M,filter:P}}=C,D=_&&_[E];if(D&&D.event===A&&D.schema===T&&D.table===M&&D.filter===P)N.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),this.state=tn.errored,t==null||t(Da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Da.SUBSCRIBED);return}}).receive("error",_=>{this.state=tn.errored,t==null||t(Da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===tn.joined&&t===Hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Mg(this,Fr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=Fr;if(r&&[d,f,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var w,S,j;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(S=_.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(_=>{var w,S,j,N,E,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const A=_.id,T=(w=_.filter)===null||w===void 0?void 0:w.event;return A&&((S=n.ids)===null||S===void 0?void 0:S.includes(A))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const A=(E=(N=_==null?void 0:_.filter)===null||N===void 0?void 0:N.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:j,commit_timestamp:N,type:E,errors:C}=w;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:N,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(w))}_.callback(v,r)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&X0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lj(t.columns,t.old_record)),n}}const Pg=()=>{},Jd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_I=[1e3,2e3,5e3,1e4],wI=1e4,SI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jI{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ey,this.transport=null,this.heartbeatIntervalMs=Jd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pg,this.ref=0,this.reconnectTimer=null,this.logger=Pg,this.conn=null,this.sendBuffer=[],this.serializer=new mI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>pu(async()=>{const{default:d}=await Promise.resolve().then(()=>wl);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Oy.websocket}`,this.httpEndpoint=YC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bc.connecting:return Ss.Connecting;case Bc.open:return Ss.Open;case Bc.closing:return Ss.Closing;default:return Ss.Closed}}isConnected(){return this.connectionState()===Ss.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new X0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(fI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Jd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,d=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${d}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([SI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:uI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new KC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,d,f,h,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Ey,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Jd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Pg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(g=>_I[g-1]||wI),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Q0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class NI extends Q0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ay extends Q0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var EI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const VC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},OI=()=>EI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pu(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),Ty=e=>{if(Array.isArray(e))return e.map(n=>Ty(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Ty(r)}),t},CI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Rg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AI=(e,t,n)=>qs(void 0,void 0,void 0,function*(){const r=yield OI();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new NI(Rg(i),o,l))}).catch(i=>{t(new Ay(Rg(i),i))}):t(new Ay(Rg(e),e))}),TI=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(CI(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function gu(e,t,n,r,i,o){return qs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,TI(t,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>AI(f,d,r))})})}function Df(e,t,n,r){return qs(this,void 0,void 0,function*(){return gu(e,"GET",t,n,r)})}function ia(e,t,n,r,i){return qs(this,void 0,void 0,function*(){return gu(e,"POST",t,r,i,n)})}function ky(e,t,n,r,i){return qs(this,void 0,void 0,function*(){return gu(e,"PUT",t,r,i,n)})}function kI(e,t,n,r){return qs(this,void 0,void 0,function*(){return gu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function WC(e,t,n,r,i){return qs(this,void 0,void 0,function*(){return gu(e,"DELETE",t,r,i,n)})}var MI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class PI{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return MI(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xt(t))return{data:null,error:t};throw t}})}}var RI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class DI{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new PI(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return RI(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xt(t))return{data:null,error:t};throw t}})}}var Gn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const LI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class II{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=VC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Gn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},zj),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),g=yield(t=="PUT"?ky:ia)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Gn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Gn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:zj.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield ky(this.fetch,d.toString(),f,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Xt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Gn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield ia(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),d=l.searchParams.get("token");if(!d)throw new Q0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Gn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Gn(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Gn(this,void 0,void 0,function*(){try{return{data:{path:(yield ia(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Gn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield ia(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Gn(this,void 0,void 0,function*(){try{const i=yield ia(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",d=this._getFinalPath(t),f=()=>Df(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new DI(f,this.shouldThrowOnError)}info(t){return Gn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Df(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ty(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}exists(t){return Gn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield kI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r)&&r instanceof Ay){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Gn(this,void 0,void 0,function*(){try{return{data:yield WC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Gn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},LI),n),{prefix:t||""});return{data:yield ia(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Gn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ia(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const UI="2.74.0",zI={"X-Client-Info":`storage-js/${UI}`};var Bo=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class $I{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zI),n),this.fetch=VC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Bo(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Xt(t))return{data:null,error:t};throw t}})}getBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}createBucket(t){return Bo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield ia(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Bo(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Xt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Bo(this,void 0,void 0,function*(){try{return{data:yield WC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Xt(n))return{data:null,error:n};throw n}})}}class BI extends $I{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new II(this.url,this.headers,t,this.fetch)}}const qI="2.74.0";let Uc="";typeof Deno<"u"?Uc="deno":typeof document<"u"?Uc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uc="react-native":Uc="node";const HI={"X-Client-Info":`supabase-js-${Uc}/${qI}`},FI={headers:HI},KI={schema:"public"},GI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YI={};var VI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const WI=e=>{let t;return e?t=e:typeof fetch>"u"?t=zC:t=fetch,(...n)=>t(...n)},XI=()=>typeof Headers>"u"?$C:Headers,QI=(e,t,n)=>{const r=WI(n),i=XI();return(o,l)=>VI(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var JI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function ZI(e){return e.endsWith("/")?e:e+"/"}function e5(e,t){var n,r;const{db:i,auth:o,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>JI(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function t5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const XC="2.74.0",Jo=30*1e3,My=3,Dg=My*Jo,n5="http://localhost:9999",r5="supabase.auth.token",a5={"X-Client-Info":`gotrue-js/${XC}`},Py="X-Supabase-Api-Version",QC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s5=600*1e3;class Xc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class o5 extends Xc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function l5(e){return Ce(e)&&e.name==="AuthApiError"}class js extends Xc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qi extends Xc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ai extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c5(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class qo extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zd extends qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ef extends qi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u5(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class $j extends qi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ry extends qi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lg(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class Bj extends qi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dy extends qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qj=` 	
\r=`.split(""),d5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qj.length;t+=1)e[qj[t].charCodeAt(0)]=-2;for(let t=0;t<Lf.length;t+=1)e[Lf[t].charCodeAt(0)]=t;return e})();function Hj(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Lf[r]),t.queuedBits-=6}}function JC(e,t,n){const r=d5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fj(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{m5(l,r,n)};for(let l=0;l<e.length;l+=1)JC(e.charCodeAt(l),i,o);return t.join("")}function f5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function h5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}f5(r,t)}}function m5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)JC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function p5(e){const t=[];return h5(e,n=>t.push(n)),new Uint8Array(t)}function Es(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Hj(i,n,r)),Hj(null,n,r),t.join("")}function g5(e){return Math.round(Date.now()/1e3)+e}function v5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const or=()=>typeof window<"u"&&typeof document<"u",us={tested:!1,writable:!1},ZC=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(us.tested)return us.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),us.tested=!0,us.writable=!0}catch{us.tested=!0,us.writable=!1}return us.writable};function y5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const eA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>pu(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},b5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ds=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class Ch{constructor(){this.promise=new Ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ch.promiseConstructor=Promise;function Ig(e){const t=e.split(".");if(t.length!==3)throw new Dy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!i5.test(t[r]))throw new Dy("JWT not in base64url format");return{header:JSON.parse(Fj(t[0])),payload:JSON.parse(Fj(t[1])),signature:nl(t[2]),raw:{header:t[0],payload:t[1]}}}async function x5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _5(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function w5(e){return("0"+e.toString(16)).substr(-2)}function S5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,w5).join("")}async function j5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function N5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await j5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,n=!1){const r=S5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Zo(e,`${t}-code-verifier`,i);const o=await N5(r);return[o,r===o?"plain":"s256"]}const E5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O5(e){const t=e.headers.get(Py);if(!t||!t.match(E5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function C5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function A5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fo(e){if(!T5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ug(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kj(e){return JSON.parse(JSON.stringify(e))}var k5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M5=[502,503,504];async function Gj(e){var t;if(!b5(e))throw new Ry(ps(e),0);if(M5.includes(e.status))throw new Ry(ps(e),e.status);let n;try{n=await e.json()}catch(o){throw new js(ps(o),o)}let r;const i=O5(e);if(i&&i.getTime()>=QC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Bj(ps(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Bj(ps(n),e.status,n.weak_password.reasons);throw new o5(ps(n),e.status||500,r)}const P5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pe(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Py]||(o[Py]=QC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await R5(e,t,n+d,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function R5(e,t,n,r,i,o){const l=P5(t,r,i,o);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Ry(ps(f),0)}if(d.ok||await Gj(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await Gj(f)}}function qr(e){var t;let n=null;I5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=g5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Yj(e){const t=qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ri(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function D5(e){return{data:e,error:null}}function L5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=k5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function Vj(e){return e}function I5(e){return e.access_token&&e.refresh_token&&e.expires_in}const zg=["global","local","others"];var U5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class z5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=eA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=zg[0]){if(zg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zg.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ri})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=U5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:L5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ri})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);h[`${j}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Fo(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ri})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fo(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ri})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fo(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ri})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fo(t.userId);try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fo(t.userId),Fo(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Vj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);h[`${j}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Ce(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}function Wj(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ko={debug:!!(globalThis&&ZC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $5 extends tA{}async function B5(e,t,n){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ko.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function q5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function H5(e){return parseInt(e,16)}function F5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function K5(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=nA(e.address),w=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${_}

${S}`;let N=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let E=`
Resources:`;for(const C of h){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);E+=`
- ${C}`}N+=E}return`${j}
${N}`}class Wt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class If extends Wt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function G5({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Wt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(aA(l)){if(o.rp.id!==l)return new Wt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Y5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Wt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(aA(r)){if(n.rpId!==r)return new Wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var rA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class V5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const W5=new V5;function X5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=rA(e,["challenge","user","excludeCredentials"]),o=nl(t).buffer,l=Object.assign(Object.assign({},n),{id:nl(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:nl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function Q5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=rA(e,["challenge","allowCredentials"]),i=nl(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},d),{id:nl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function J5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Es(new Uint8Array(e.response.attestationObject)),clientDataJSON:Es(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Z5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Es(new Uint8Array(i.authenticatorData)),clientDataJSON:Es(new Uint8Array(i.clientDataJSON)),signature:Es(new Uint8Array(i.signature)),userHandle:i.userHandle?Es(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xj(){var e,t;return!!(or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function e6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new If("Browser returned unexpected credential type",t)}:{data:null,error:new If("Empty credential response",t)}}catch(t){return{data:null,error:G5({error:t,options:e})}}}async function t6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new If("Browser returned unexpected credential type",t)}:{data:null,error:new If("Empty credential response",t)}}catch(t){return{data:null,error:Y5({error:t,options:e})}}}const n6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},r6={userVerification:"preferred",hints:["security-key"]};function Uf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const d=r[o];t(d)?r[o]=Uf(d,l):r[o]=Uf(l)}else r[o]=l}return r}function a6(e,t){return Uf(n6,e,t||{})}function i6(e,t){return Uf(r6,e,t||{})}class s6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=i??W5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=a6(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await e6({publicKey:h,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=i6(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await t6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new js("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Xc("rpId is required for WebAuthn authentication")};try{if(!Xj())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new js("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Xc("rpId is required for WebAuthn registration")};try{if(!Xj())return{data:null,error:new js("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ce(l)?{data:null,error:l}:{data:null,error:new js("Unexpected error in register",l)}}}}q5();const o6={url:n5,storageKey:r5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qj(e,t,n){return await n()}const Go={};class Qc{get jwks(){var t,n;return(n=(t=Go[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Go[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qc.nextInstanceID,Qc.nextInstanceID+=1,this.instanceID>0&&or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},o6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new z5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eA(i.fetch),this.lock=i.lock||Qj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=B5:this.lock=Qj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new s6(this)},this.persistSession?(i.storage?this.storage=i.storage:ZC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wj(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${XC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=y5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),or()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),u5(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ce(n)?{error:n}:{error:new js("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:qr}),{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ce(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:p,password:g,options:v}=t;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Ho(this.storage,this.storageKey)),o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:qr})}else if("phone"in t){const{phone:p,password:g,options:v}=t;o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:qr})}else throw new Zd("You must provide either an email or phone number and a password");const{data:l,error:d}=o;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:d}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Yj})}else if("phone"in t){const{phone:o,password:l,options:d}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Yj})}else throw new Zd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,d,f,h,p,g,v;let _,w;if("message"in t)_=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:N,options:E}=t;let C;if(or())if(typeof j=="object")C=j;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")C=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const A=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href),T=await C.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=nA(T[0]);let P=(r=E==null?void 0:E.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const q=await C.request({method:"eth_chainId"});P=H5(q)}const D={domain:A.host,address:M,statement:N,uri:A.href,version:"1",chainId:P,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=K5(D),w=await C.request({method:"personal_sign",params:[F5(_),M]})}try{const{data:S,error:j}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qr});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new qo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(Ce(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,i,o,l,d,f,h,p,g,v,_;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:j,wallet:N,statement:E,options:C}=t;let A;if(or())if(typeof N=="object")A=N;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))A=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const T=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const M=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let P;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")P=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)P=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(p=C==null?void 0:C.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const M=await A.signMessage(new TextEncoder().encode(w),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:j,error:N}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Es(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:qr});if(N)throw N;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new qo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:N})}catch(j){if(Ce(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new qo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ce(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,d=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qr}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new qo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ho(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Zd("You must provide either an email or phone number.")}catch(d){if(Ce(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:qr});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Ho(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:D5})}catch(o){if(Ce(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ai;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:d}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new Zd("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Dg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await ds(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Ug()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,p))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ri}):await this._useSession(async n=>{var r,i,o;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ri})})}catch(n){if(Ce(n))return c5(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Ai;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Ho(this.storage,this.storageKey));const{data:h,error:p}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Ri});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ai;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Ig(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ai;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!or())throw new ef("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ef(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $j("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ef("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $j("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!o||!d||!l||!h)throw new ef("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let v=p+g;f&&(v=parseInt(f));const _=v-p;_*1e3<=Jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:S,error:j}=await this._getUser(o);if(j)throw j;const N={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(Ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(l5(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=v5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ho(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ce(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,d,f,h,p;const{data:g,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return or()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qr}),{data:v,error:_}=g;return _?{data:{user:null,session:null},error:_}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new qo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:_})}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _5(async i=>(i>0&&await x5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Lg(o)&&Date.now()+l-r<Jo})}catch(r){if(this._debug(n,"error",r),Ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),or()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ds(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Zo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Ug()}else if(i&&!i.user&&!i.user){const l=await ds(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Oi(this.storage,this.storageKey+"-user"),await Zo(this.storage,this.storageKey,i)):i.user=Ug()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Dg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Lg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ch;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Ai;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={data:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(i,"error",o),Ce(o)){const l={data:null,error:o};return Lg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Kj(i);await Zo(this.storage,this.storageKey,o)}else{const i=Kj(n);await Zo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jo}ms, refresh threshold is ${My} ticks`),i<=My&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Ho(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?J5(t.webauthn.credential_response):Z5(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:X5(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Q5(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ig(i.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+s5>i)return r;const{data:o,error:l}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};r=_.session.access_token}const{header:i,payload:o,signature:l,raw:{header:d,payload:f}}=Ig(r);n!=null&&n.allowExpired||C5(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:o,header:i,signature:l},error:null}}const p=A5(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,p5(`${d}.${f}`)))throw new Dy("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}}Qc.nextInstanceID=0;const l6=Qc;class c6 extends l6{constructor(t){super(t)}}var u6=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class d6{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const d=t5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:KI,realtime:YI,auth:Object.assign(Object.assign({},GI),{storageKey:f}),global:FI},p=e5(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=QI(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new oI(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new BI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new QL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return u6(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:d,lock:f,debug:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c6({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:d,lock:f,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new jI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f6=(e,t,n)=>new d6(e,t,n);function h6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}h6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iA="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",sA=()=>{const e=Promise.reject(new Error(iA));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>sA()}})},m6=()=>{const e=sA(),t=async()=>{throw new Error(iA)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},p6=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},g6=()=>m6();let Ly;try{const e="https://epolcaohkaozcanyexau.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",n=p6(e);Ly=f6(n,t,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),Ly=g6()}const he=Ly,v6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",VITE_SUPABASE_URL:"https://epolcaohkaozcanyexau.supabase.co"},y6=v6,b6="https://api.cloudinary.com/v1_1",x6="cloudinary.com",_6=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),J0=e=>_6(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),oA=()=>Math.random().toString(36).slice(2,10),Fc=(e,t)=>e&&J0(e)||t,Wr=e=>{const t=y6[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},Jj=(e,t)=>{const n=Wr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: dfinissez la variable d'environnement ${e} pour ${t}.`);return n},Z0=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const o=Jj("VITE_CLOUDINARY_CLOUD_NAME","les tlversements de mdias"),l=n??Jj("VITE_CLOUDINARY_UPLOAD_PRESET","les tlversements de mdias"),d=l,f=new FormData;f.append("file",e),f.append("upload_preset",l),t&&f.append("folder",t),r&&f.append("public_id",r),i!=null&&i.length&&f.append("tags",i.join(","));const h=await fetch(`${b6}/${o}/auto/upload`,{method:"POST",body:f}),p=await h.json();if(!h.ok||p.error){const v=(g=p.error)==null?void 0:g.message;throw v&&/upload preset/i.test(v)?new Error(`Le preset Cloudinary "${d}" est introuvable ou ne permet pas les tlversements non signs. Vrifiez sa configuration dans votre console Cloudinary (Settings  Upload  Upload presets).`):new Error(v??`chec du tlversement Cloudinary (statut ${h.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoy d'URL scurise pour le fichier tlvers.");return p.secure_url??p.url},fa=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(x6)?null:t}catch{return null}},w6=Wr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",Zj=w6,lA=e=>{const t=fa(e);return t||Zj||""},S6=async(e,t)=>{const n=Wr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=Wr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??Wr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?J0(t):void 0,o=i?`${i}-${oA()}`:void 0;return Z0(e,{folder:Fc(n,"products"),uploadPreset:r,publicId:o,tags:["product"]})},j6=()=>Fc(Wr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),Jc=async(e,t)=>{const n=j6(),r=Wr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??Wr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=(t==null?void 0:t.publicId)??(e instanceof File&&e.name?J0(e.name.replace(/\.[^/.]+$/,"")):void 0),o=i?`${i}-${oA()}`:void 0,l=Array.from(new Set(["customization","custom-folder",...(t==null?void 0:t.tags)??[]]));return Z0(e,{folder:n,uploadPreset:r,publicId:o,tags:l})},cA=async(e,t)=>{const n=Wr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=Wr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??Wr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[Fc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${Fc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${Fc(t.customerReference,"client")}`),Z0(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},uA="ouiouipos:role-logins",dA=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},N6=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:o}=n;if(typeof r!="string"||typeof i!="string"||typeof o!="string")return null;const l=Date.parse(o);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},eb=()=>{const t=dA().getItem(uA);return N6(t)},fA=e=>{dA().setItem(uA,JSON.stringify(e.slice(-500)))},E6=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const o=eb();o.push(i),fA(o)}catch(o){console.warn("Unable to persist role login locally.",o)}return i},O6=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return eb().filter(r=>Date.parse(r.loginAt)>=t)},C6=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=eb().filter(r=>Date.parse(r.loginAt)>=t);fA(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),eN=e=>{const t=T6(e);return t.charAt(0).toUpperCase()+t.slice(1)},hA=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),k6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...d},f)=>b.createElement("svg",{ref:f,...M6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:hA("lucide",i),...!o&&!k6(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>b.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement(P6,{ref:o,iconNode:t,className:hA(`lucide-${A6(eN(e))}`,`lucide-${e}`,r),...i}));return n.displayName=eN(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],tb=ge("armchair",R6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mA=ge("arrow-left",D6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],I6=ge("bold",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],z6=ge("brush",U6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],B6=ge("calendar",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],H6=ge("chart-area",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],K6=ge("chart-no-axes-column",F6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y6=ge("check",G6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],pA=ge("chef-hat",V6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gA=ge("chevron-down",W6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q6=ge("chevron-right",X6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vA=ge("chevron-up",J6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Iy=ge("circle-check-big",Z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tU=ge("circle-check",eU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],rU=ge("circle-minus",nU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],nb=ge("circle-plus",aU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sU=ge("circle-question-mark",iU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lU=ge("circle-x",oU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=ge("clock",cU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zc=ge("dollar-sign",uU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fU=ge("download",dU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],yA=ge("ellipsis-vertical",hU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],pU=ge("external-link",mU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vU=ge("eye-off",gU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uy=ge("eye",yU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bA=ge("file-text",bU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],tN=ge("gift",xU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],wU=ge("grip-vertical",_U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],jU=ge("hand-platter",SU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],EU=ge("history",NU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CU=ge("info",OU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],TU=ge("italic",AU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MU=ge("layout-dashboard",kU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eu=ge("loader-circle",PU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],DU=ge("log-in",RU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IU=ge("log-out",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xA=ge("mail",UU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ah=ge("map-pin",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_A=ge("menu",$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wA=ge("message-square",BU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M5 12h14",key:"1ays0h"}]],SA=ge("minus",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],FU=ge("package-check",HU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],GU=ge("package-plus",KU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],el=ge("package",YU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],WU=ge("palette",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QU=ge("pen",XU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ZU=ge("pencil",JU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Th=ge("percent",ez);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jA=ge("phone",tz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vu=ge("plus",nz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],az=ge("receipt",rz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sz=ge("refresh-cw",iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lz=ge("save",oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rb=ge("search",cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dz=ge("send",uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hz=ge("settings",fz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pz=ge("shield",mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],NA=ge("shopping-bag",gz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],EA=ge("shopping-cart",vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],OA=ge("soup",yz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],CA=ge("square-pen",bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],_z=ge("strikethrough",xz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zf=ge("tag",wz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hs=ge("trash-2",Sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],la=ge("triangle-alert",jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ez=ge("truck",Nz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yu=ge("upload",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ab=ge("user",Cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zy=ge("users",Az);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],kz=ge("utensils-crossed",Tz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Pz=ge("utensils",Mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ua=ge("x",Rz),Ka="/site-customizer",Wn=[{name:"Dashboard",href:"/dashboard",icon:MU,permissionKey:"/dashboard"},{name:" Emporter",href:"/para-llevar",icon:NA,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:tb,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:OA,permissionKey:"/cocina"},{name:"Personnalisation",href:Ka,icon:z6,permissionKey:Ka},{name:"Produits",href:"/produits",icon:kz,permissionKey:"/produits"},{name:"Ingrdients",href:"/ingredients",icon:el,permissionKey:"/ingredients"},{name:"Promotions",href:"/promotions",icon:Th,permissionKey:"/promotions"},{name:"Rsum Ventes",href:"/resume-ventes",icon:H6,permissionKey:"/resume-ventes"}],AA={ADMIN:"admin"},ks="__home_page",Dz=e=>{if(!e.active)return!1;const t=new Date,n=new Date(e.start_date),r=e.end_date?new Date(e.end_date):null;return!(t<n||r&&t>r||e.usage_limit&&e.usage_count>=e.usage_limit)},TA=e=>{const t=new Date,n=e.config;if(n.days_of_week&&n.days_of_week.length>0){const r=t.getDay();if(!n.days_of_week.includes(r))return!1}if(n.hours_of_day){const r=t.getHours(),i=t.getMinutes(),o=r*60+i,[l,d]=n.hours_of_day.start.split(":").map(Number),[f,h]=n.hours_of_day.end.split(":").map(Number),p=l*60+d,g=f*60+h;if(o<p||o>g)return!1}return!0},kh=["review1","review2","review3","review4","review5","review6","review7"],Lz=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],Iz=["avatarUrl","highlightImageUrl","postImageUrl"],Uz=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],zz=[...Lz,...Iz],$z=kh.flatMap(e=>zz.map(t=>`instagramReviews.reviews.${e}.${t}`)),bu=[...Uz,...$z],Bz=bu.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),qz=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),Hz=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Fz=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,kA=typeof window<"u"&&typeof document<"u",Kz=e=>{const t=e.trim().replace(/"|'/g,"");return Hz.test(t)?t.toLowerCase():Fz.test(t)?t.replace(/\s+/g,""):null},Gz=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},Yz=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},MA=e=>{if(!qz.has(e.tagName)){Gz(e);return}const t=Yz(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(o=>o.trim()).filter(Boolean).find(o=>o.toLowerCase().startsWith("color"));if(i){const[,o]=i.split(":"),l=o?Kz(o):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&MA(n)})},Vz=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),Wz=e=>{const t=e??"";if(t.trim().length===0)return"";if(!kA)return Vz(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&MA(r)}),n.innerHTML.trim()},Xz=e=>{if(!kA)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},nN=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),ib=e=>{if(!e)return null;const t=Wz(e.html??""),n=nN(e.plainText??""),r=nN(Xz(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},Qz={review1:{name:"Laura Mndez",handle:"@laurita.eats",timeAgo:"hace 2 das",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story  Taco Tuesday ",highlightCaption:"Guardado en Destacadas",location:"Bogot  Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colors garnis d'herbes fraches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 das",message:"Estas arepas son lo ms: combinan ingredientes sper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel  Brunch entre amigas ",highlightCaption:"Comentarios llenos de antojos",location:"Medelln  Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dores et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastin Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aqu y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvi tema de conversacin.",highlight:"Post  Team Afterwork ",highlightCaption:"Reacciones de la oficina",location:"Barranquilla  Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ros",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El men tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cario. Increble experiencia.",highlight:"Carousel  Night Out ",highlightCaption:"Comentarios fijados",location:"Cali  Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Prez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me qued por la originalidad del men: el cheddar baa la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live  Burger Night ",highlightCaption:"Chat lleno de elogios",location:"Bogot  Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gmez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaos y fue xito total: tacos mini, dips calientes y una mesa que se vea divina para fotos. Todo lleg puntual y con instrucciones claras.",highlight:"Story  Fiesta privada ",highlightCaption:"Reseas con confeti",location:"Cartagena  Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet color avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maz dulce son mi nueva obsesin. Adems, la atencin es rapidsima.",highlight:"Reel  Veggie Lovers ",highlightCaption:"Comentarios verdes y felices",location:"Bogot  Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dores servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},qe=e=>e.trim(),sb=e=>typeof e=="string"&&e.trim().length>0,PA=(e,t)=>sb(e)?e.trim():t,RA=(e,t)=>sb(e)?e.trim():t,Kc=(e,t)=>sb(e)?e.trim():t,He=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},sa=(e,t)=>e===void 0?t??null:e===null?null:fa(e)??t??null,oa=e=>fa(e)??null,Jz=(e,t)=>{const n={};return kh.forEach(r=>{const i=t[r],o=(e==null?void 0:e[r])??{};n[r]={name:He(o==null?void 0:o.name,i.name),handle:He(o==null?void 0:o.handle,i.handle),timeAgo:He(o==null?void 0:o.timeAgo,i.timeAgo),message:He(o==null?void 0:o.message,i.message),highlight:He(o==null?void 0:o.highlight,i.highlight),highlightCaption:He(o==null?void 0:o.highlightCaption,i.highlightCaption),location:He(o==null?void 0:o.location,i.location),badgeLabel:He(o==null?void 0:o.badgeLabel,i.badgeLabel),postImageAlt:He(o==null?void 0:o.postImageAlt,i.postImageAlt),avatarUrl:sa(o==null?void 0:o.avatarUrl,i.avatarUrl),highlightImageUrl:sa(o==null?void 0:o.highlightImageUrl,i.highlightImageUrl),postImageUrl:sa(o==null?void 0:o.postImageUrl,i.postImageUrl)}}),n},Zz=e=>{const t={};return kh.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:qe((r==null?void 0:r.name)??""),handle:qe((r==null?void 0:r.handle)??""),timeAgo:qe((r==null?void 0:r.timeAgo)??""),message:qe((r==null?void 0:r.message)??""),highlight:qe((r==null?void 0:r.highlight)??""),highlightCaption:qe((r==null?void 0:r.highlightCaption)??""),location:qe((r==null?void 0:r.location)??""),badgeLabel:qe((r==null?void 0:r.badgeLabel)??""),postImageAlt:qe((r==null?void 0:r.postImageAlt)??""),avatarUrl:oa(r==null?void 0:r.avatarUrl),highlightImageUrl:oa(r==null?void 0:r.highlightImageUrl),postImageUrl:oa(r==null?void 0:r.postImageUrl)}}),t},tf=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},DA=e=>{if(!e)return null;const t=tf(e.textColor??null),n=tf(e.fontFamily??null),r=tf(e.fontSize??null),i=tf(e.backgroundColor??null),o={};return t&&(o.textColor=t),n&&(o.fontFamily=n),r&&(o.fontSize=r),i&&(o.backgroundColor=i),Object.keys(o).length>0?o:null},e$=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const o=DA(n[i]??null);o&&(r[i]=o)}),r},t$=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const o=DA(n[i]??null);o&&(r[i]=o)}),r},n$=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const o=n[i],l=ib(o??null);l&&(r[i]=l)}),r},r$=(e,t)=>{const n=e??t,r={};return bu.forEach(i=>{const o=n[i],l=ib(o??null);l&&(r[i]=l)}),r},a$=["image","video","audio","font","raw"],i$=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,s$=e=>a$.includes(e)?e:"raw",o$=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},l$=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},LA=e=>{if(!e)return null;const t=fa(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():i$(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",o=s$(e.type),l=l$(e.bytes),d=o$(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:o,createdAt:d}},c$=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>LA(r)).filter(Boolean):t.library}:t,u$=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>LA(i)).filter(Boolean):t.library}},IA={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},UA={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},zA={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},$A={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},BA={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},qA={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},HA={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},ob={library:[]},FA={},KA={},fs=(e,t)=>{var o,l,d,f;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Kc((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?sa(((d=e==null?void 0:e.background)==null?void 0:d.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:Kc((f=e==null?void 0:e.background)==null?void 0:f.color,t.background.color),image:n==="image"?i:null},fontFamily:PA((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:RA((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Kc((e==null?void 0:e.textColor)??null,t.textColor)}},hs=(e,t)=>{var o,l,d;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=Kc(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?oa(((d=e==null?void 0:e.background)==null?void 0:d.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:PA((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:RA((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Kc((e==null?void 0:e.textColor)??null,t.textColor)}},$f={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:" propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:IA},hero:{title:"Le Got Authentique du Mexique",subtitle:"Des tacos prpars avec passion, des ingrdients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernires commandes",reorderCtaLabel:"Commander  nouveau",style:UA},about:{title:"Notre Histoire",description:"Fond par des passionns de la cuisine mexicaine, OUIOUITACOS est n d'un dsir simple : partager le got authentique des tacos faits maison. Chaque recette est un hritage familial, chaque ingrdient est choisi avec soin, et chaque plat est prpar avec le cur. Venez dcouvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:zA},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:$A},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cur pour notre cuisine : ambiance solaire, service attentionn et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:BA,reviews:kh.reduce((e,t)=>(e[t]={...Qz[t]},e),{})},findUs:{title:"Encuntranos",addressLabel:"Direccin",address:`Cra. 53 #75-98
Barranquilla, Atlntico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo  11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:qA},footer:{text:"Tous droits rservs.",style:HA},elementStyles:FA,elementRichText:KA,assets:ob},$y=e=>{var n,r,i,o,l,d,f,h,p,g,v,_,w,S,j,N,E,C,A,T,M,P,D,q,z,F,H,ae,$,K,L,Y,W,ue,ne,R,I,V,X,te,fe,pe,ze,ie,Se,Te,ce;const t=$f;return{navigation:{brand:He((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:sa((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:sa((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:He((l=(o=e==null?void 0:e.navigation)==null?void 0:o.links)==null?void 0:l.home,t.navigation.links.home),about:He((f=(d=e==null?void 0:e.navigation)==null?void 0:d.links)==null?void 0:f.about,t.navigation.links.about),menu:He((p=(h=e==null?void 0:e.navigation)==null?void 0:h.links)==null?void 0:p.menu,t.navigation.links.menu),contact:He((v=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:v.contact,t.navigation.links.contact),loginCta:He((w=(_=e==null?void 0:e.navigation)==null?void 0:_.links)==null?void 0:w.loginCta,t.navigation.links.loginCta)},style:fs((S=e==null?void 0:e.navigation)==null?void 0:S.style,t.navigation.style)},hero:{title:He((j=e==null?void 0:e.hero)==null?void 0:j.title,t.hero.title),subtitle:He((N=e==null?void 0:e.hero)==null?void 0:N.subtitle,t.hero.subtitle),ctaLabel:He((E=e==null?void 0:e.hero)==null?void 0:E.ctaLabel,t.hero.ctaLabel),backgroundImage:sa((C=e==null?void 0:e.hero)==null?void 0:C.backgroundImage,t.hero.backgroundImage),historyTitle:He((A=e==null?void 0:e.hero)==null?void 0:A.historyTitle,t.hero.historyTitle),reorderCtaLabel:He((T=e==null?void 0:e.hero)==null?void 0:T.reorderCtaLabel,t.hero.reorderCtaLabel),style:fs((M=e==null?void 0:e.hero)==null?void 0:M.style,t.hero.style)},about:{title:He((P=e==null?void 0:e.about)==null?void 0:P.title,t.about.title),description:He((D=e==null?void 0:e.about)==null?void 0:D.description,t.about.description),image:sa((q=e==null?void 0:e.about)==null?void 0:q.image,t.about.image),style:fs((z=e==null?void 0:e.about)==null?void 0:z.style,t.about.style)},menu:{title:He((F=e==null?void 0:e.menu)==null?void 0:F.title,t.menu.title),ctaLabel:He((H=e==null?void 0:e.menu)==null?void 0:H.ctaLabel,t.menu.ctaLabel),loadingLabel:He((ae=e==null?void 0:e.menu)==null?void 0:ae.loadingLabel,t.menu.loadingLabel),image:sa(($=e==null?void 0:e.menu)==null?void 0:$.image,t.menu.image),style:fs((K=e==null?void 0:e.menu)==null?void 0:K.style,t.menu.style)},instagramReviews:{title:He((L=e==null?void 0:e.instagramReviews)==null?void 0:L.title,t.instagramReviews.title),subtitle:He((Y=e==null?void 0:e.instagramReviews)==null?void 0:Y.subtitle,t.instagramReviews.subtitle),image:sa((W=e==null?void 0:e.instagramReviews)==null?void 0:W.image,t.instagramReviews.image),style:fs((ue=e==null?void 0:e.instagramReviews)==null?void 0:ue.style,t.instagramReviews.style),reviews:Jz(((ne=e==null?void 0:e.instagramReviews)==null?void 0:ne.reviews)??null,t.instagramReviews.reviews)},findUs:{title:He((R=e==null?void 0:e.findUs)==null?void 0:R.title,t.findUs.title),addressLabel:He((I=e==null?void 0:e.findUs)==null?void 0:I.addressLabel,t.findUs.addressLabel),address:He((V=e==null?void 0:e.findUs)==null?void 0:V.address,t.findUs.address),cityLabel:He((X=e==null?void 0:e.findUs)==null?void 0:X.cityLabel,t.findUs.cityLabel),city:He((te=e==null?void 0:e.findUs)==null?void 0:te.city,t.findUs.city),hoursLabel:He((fe=e==null?void 0:e.findUs)==null?void 0:fe.hoursLabel,t.findUs.hoursLabel),hours:He((pe=e==null?void 0:e.findUs)==null?void 0:pe.hours,t.findUs.hours),mapLabel:He((ze=e==null?void 0:e.findUs)==null?void 0:ze.mapLabel,t.findUs.mapLabel),mapUrl:He((ie=e==null?void 0:e.findUs)==null?void 0:ie.mapUrl,t.findUs.mapUrl),style:fs((Se=e==null?void 0:e.findUs)==null?void 0:Se.style,t.findUs.style)},footer:{text:He((Te=e==null?void 0:e.footer)==null?void 0:Te.text,t.footer.text),style:fs((ce=e==null?void 0:e.footer)==null?void 0:ce.style,t.footer.style)},elementStyles:e$((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:n$((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:c$((e==null?void 0:e.assets)??null,ob)}},d$=e=>({navigation:{brand:qe(e.navigation.brand),brandLogo:oa(e.navigation.brandLogo)??null,staffLogo:oa(e.navigation.staffLogo)??null,links:{home:qe(e.navigation.links.home),about:qe(e.navigation.links.about),menu:qe(e.navigation.links.menu),contact:qe(e.navigation.links.contact),loginCta:qe(e.navigation.links.loginCta)},style:hs(e.navigation.style,IA)},hero:{title:qe(e.hero.title),subtitle:qe(e.hero.subtitle),ctaLabel:qe(e.hero.ctaLabel),backgroundImage:oa(e.hero.backgroundImage),historyTitle:qe(e.hero.historyTitle),reorderCtaLabel:qe(e.hero.reorderCtaLabel),style:hs(e.hero.style,UA)},about:{title:qe(e.about.title),description:qe(e.about.description),image:oa(e.about.image),style:hs(e.about.style,zA)},menu:{title:qe(e.menu.title),ctaLabel:qe(e.menu.ctaLabel),loadingLabel:qe(e.menu.loadingLabel),image:oa(e.menu.image),style:hs(e.menu.style,$A)},instagramReviews:{title:qe(e.instagramReviews.title),subtitle:qe(e.instagramReviews.subtitle),image:oa(e.instagramReviews.image),style:hs(e.instagramReviews.style,BA),reviews:Zz(e.instagramReviews.reviews??null)},findUs:{title:qe(e.findUs.title),addressLabel:qe(e.findUs.addressLabel),address:qe(e.findUs.address),cityLabel:qe(e.findUs.cityLabel),city:qe(e.findUs.city),hoursLabel:qe(e.findUs.hoursLabel),hours:qe(e.findUs.hours),mapLabel:qe(e.findUs.mapLabel),mapUrl:qe(e.findUs.mapUrl),style:hs(e.findUs.style,qA)},footer:{text:qe(e.footer.text),style:hs(e.footer.style,HA)},elementStyles:t$(e.elementStyles,FA),elementRichText:r$(e.elementRichText,KA),assets:u$(e.assets,ob)}),ki={},Ef=e=>{ki[e]&&ki[e].forEach(t=>t())};let rl=null;const rN="site_content",f$="default",h$=()=>{if(!(rl||typeof he.channel!="function"))try{rl=he.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>Ef("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>Ef("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>Ef("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(rl=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},Ue=e=>{if(e.error)throw new Error(e.error.message);return e.data},Ns=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},Ii=e=>{if(e)return new Date(e).getTime()},By=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},Oc=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},GA=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let o=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(o=o/1e3),n+o*r.qte_utilisee},0),m$=e=>{if(!e)return{permissions:{},homePage:void 0};const{[ks]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},aN=(e,t)=>{const n={...e};return t?n[ks]=t:delete n[ks],n},p$=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===AA.ADMIN||t==="administrateur"},g$=(e,t)=>{const n={...e};return Ka in n||(n[Ka]=p$(t)?"editor":"none"),n},Cc=(e,t)=>{const{permissions:n,homePage:r}=m$(e.permissions),i=g$(n,e.name),o={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(o.pin=e.pin),o},iN=e=>e!=null&&e.content?$y(e.content):null,Of=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),YA=e=>({id:e.id,nom:e.nom}),v$=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),Yo=(e,t)=>{const n=(e.product_recipes??[]).map(v$),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:lA(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=GA(n,t)),r},Ac=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),VA=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:By(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:Ii(e.date_envoi)}),y$=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),b$=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return y$(n,r)},x$=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const o=n.findIndex(l=>b$(l,i));o!==-1&&r.push(n.splice(o,1)[0])}),[...r,...n]},Ra=e=>{const t=(e.order_items??[]).map(VA),n=By(e.total),r=By(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:Ii(e.date_creation)??Date.now(),date_envoi_cuisine:Ii(e.date_envoi_cuisine),date_listo_cuisine:Ii(e.date_listo_cuisine),date_servido:Ii(e.date_servido),payment_status:e.payment_status,items:t,total:n??t.reduce((o,l)=>o+l.prix_unitaire*l.quantite,0),profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i},_$=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:Ii(e.sale_date)??Date.now()}),w$=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},qy=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:w$(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},sN=async e=>{if(!e.commande_id)return qy(e,new Map);const t=await he.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=Ns(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:Ii(n.date_envoi_cuisine)}]]):new Map;return qy(e,r)},Ti=()=>he.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        )
      `).order("date_creation",{ascending:!1}),S$=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,oN=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=he.from("products").select(S$(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},j$=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Vo=async(e,t)=>{let r=await e(oN({...t,includeBestSellerColumns:!0}),!0);return j$(r.error)&&(r=await e(oN({...t,includeBestSellerColumns:!1}),!1)),r},en=async e=>{const t=await Ti().eq("id",e).maybeSingle(),n=Ns(t);return n?Ra(n):null},N$=async e=>{const t=await he.from("order_items").select(`
        id,
        order_id,
        produit_id,
        nom_produit,
        prix_unitaire,
        quantite,
        excluded_ingredients,
        commentaire,
        estado,
        date_envoi
      `).eq("order_id",e);return Ue(t).map(VA)},lN=async e=>{if(e.items.length>0)return e;const t=await N$(e.id);if(t.length===0)return await en(e.id)??e;const n=t.reduce((r,i)=>r+i.prix_unitaire*i.quantite,0);return{...e,items:t,total:e.total>0?e.total:n}},WA=["a_emporter","pedir_en_linea"],Cf=e=>WA.includes(e.type),E$=e=>{if(Cf(e)){const t=e.statut==="en_cours",n=e.estado_cocina==="recibido"||e.estado_cocina==="no_enviado";return t&&n&&e.items.length>0}return e.estado_cocina!=="recibido"?!1:e.items.some(t=>t.estado==="enviado")},gs=async()=>{const e=await he.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return Ue(e).map(Of)},O$=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,cN=async e=>{try{return await gs()}catch(t){if(O$(t))return console.warn(`[api.${e}] Impossible de rcuprer les ingrdients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},$g=async()=>{const e=await he.from("categories").select("id, nom").order("nom");return Ue(e).map(YA)},uN=async()=>{const e=await he.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=Ue(e),n=t.map(l=>l.commande_id).filter(l=>!!l);let r=new Map;if(n.length>0){const l=await he.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),d=Ue(l);r=new Map(d.map(f=>[f.id,{estado_cocina:f.estado_cocina,date_envoi_cuisine:Ii(f.date_envoi_cuisine)}]))}const i=new Map,o=t.map(l=>l.id);if(o.length>0){const l=await he.from("orders").select("table_id").in("table_id",o).eq("estado_cocina","listo").in("statut",["en_cours"]);Ue(l).forEach(f=>{const h=i.get(f.table_id)||0;i.set(f.table_id,h+1)})}return t.map(l=>({...qy(l,r),readyOrdersCount:i.get(l.id)||0}))},Gc=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},C$={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},A$=e=>{const t=C$[e],n=new Date(Gc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},Bg=async e=>{const{data:t}=await he.from("orders").select("id, estado_cocina, statut").eq("table_id",e).in("statut",["en_cours"]);if(!t||t.length===0){const{data:p}=await he.from("restaurant_tables").select("statut").eq("id",e).single();(p==null?void 0:p.statut)!=="libre"&&await he.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",e);return}const n=t.map(p=>p.id),{data:r}=await he.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.some(p=>p.estado==="enviado"),l=i.some(p=>p.estado==="listo");i.some(p=>p.estado==="servido");const d=i.some(p=>p.estado==="en_attente"),f=i.every(p=>p.estado==="servido");let h;l?h="para_entregar":o||d?h="en_cuisine":f?h="para_pagar":h="en_cuisine",await he.from("restaurant_tables").update({statut:h}).eq("id",e)},dN=async e=>{const{data:t}=await he.from("orders").select("id, estado_cocina, statut").eq("table_id",tableId).in("statut",["en_cours"]);if(!t||t.length===0){await he.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",tableId);return}const n=t.map(h=>h.id),{data:r}=await he.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.every(h=>h.estado==="servido"),l=i.every(h=>h.estado==="listo"||h.estado==="servido"),d=i.some(h=>h.estado==="enviado");let f;o?f="para_pagar":l?f="para_entregar":f="en_cuisine",await he.from("restaurant_tables").update({statut:f}).eq("id",tableId)},Rn={subscribe:(e,t)=>(ki[e]||(ki[e]=[]),ki[e].push(t),e==="orders_updated"&&h$(),()=>{var n;ki[e]=(ki[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=ki[e])==null?void 0:n.length)===0&&rl&&(typeof he.removeChannel=="function"&&he.removeChannel(rl),rl=null)}),publish:e=>{Ef(e)}},Yn=e=>{(e==null?void 0:e.includeNotifications)!==!1&&Rn.publish("notifications_updated"),Rn.publish("orders_updated")},xe={notifications:Rn,getSiteContent:async()=>{const e=await he.from(rN).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=Ns(e);return iN(t)},updateSiteContent:async e=>{const t=d$(e),n=await he.from(rN).upsert({id:f$,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=Ue(n),i=iN(r);if(!i)throw new Error("Contenu du site introuvable aprs la mise  jour.");return i},getRoles:async()=>{const e=await he.from("roles").select("id, name, pin, permissions").order("name");return Ue(e).map(n=>Cc(n,!0))},getRoleById:async e=>{const t=await he.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=Ns(t);return n?Cc(n,!1):null},createRole:async e=>{const t=await he.from("roles").insert({name:e.name,pin:e.pin,permissions:aN(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=Ue(t);return Rn.publish("notifications_updated"),Cc(n,!0)},updateRole:async(e,t)=>{const n=await he.from("roles").update({name:t.name,pin:t.pin,permissions:aN(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=Ue(n);return Rn.publish("notifications_updated"),Cc(r,!0)},deleteRole:async e=>{const t=await he.from("roles").delete().eq("id",e);Ue(t),Rn.publish("notifications_updated")},loginWithPin:async e=>{const t=await he.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=Ns(t);if(!n)return null;const r=Cc(n,!1);try{await E6(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rle",i)}return r},getDashboardStats:async(e="week")=>{const{config:t,start:n,end:r}=A$(e),i=n.toISOString(),o=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const d=l.toISOString(),h=Gc().toISOString(),[p,g,v,_,w,S]=await Promise.all([uN(),gs(),$g(),Vo(X=>X),Ti().eq("statut","finalisee").gte("date_creation",h),Ti().eq("statut","finalisee").gte("date_creation",d).lt("date_creation",o)]),N=Ue(w).map(Ra),C=Ue(S).map(Ra),A=C.filter(X=>X.date_creation>=n.getTime()),T=C.filter(X=>X.date_creation<n.getTime()),M=new Map(g.map(X=>[X.id,X])),P=Ue(_),D=new Map(P.map(X=>{const te=Yo(X,M);return[te.id,te]})),q=A.reduce((X,te)=>X+(te.total??0),0),z=A.reduce((X,te)=>X+te.items.reduce((fe,pe)=>{const ze=D.get(pe.produitRef),ie=ze?GA(ze.recipe,M):0;return fe+(pe.prix_unitaire-ie)*pe.quantite},0),0),F=A.reduce((X,te)=>X+(te.couverts??0),0),H=A.length>0?q/A.length:0,ae=new Map(v.map(X=>[X.id,X.nom])),$=new Map;A.forEach(X=>{X.items.forEach(te=>{const fe=D.get(te.produitRef),pe=fe?ae.get(fe.categoria_id)??"Sans catgorie":"Sans catgorie";$.set(pe,($.get(pe)??0)+te.prix_unitaire*te.quantite)})});const K=Array.from($.entries()).map(([X,te])=>({name:X,value:te})),L=[...A].sort((X,te)=>te.date_creation-X.date_creation).slice(0,5),Y=Array.from(D.values()).filter(X=>X.is_best_seller).sort((X,te)=>{const fe=X.best_seller_rank??Number.POSITIVE_INFINITY,pe=te.best_seller_rank??Number.POSITIVE_INFINITY;return fe===pe?X.nom_produit.localeCompare(te.nom_produit):fe-pe}).slice(0,6),W=p.filter(X=>X.statut!=="libre").length,ue=p.reduce((X,te)=>X+(te.couverts??0),0),ne=N.filter(X=>X.estado_cocina==="recibido").length,R=g.filter(X=>X.stock_actuel<=X.stock_minimum),I=(X,te,fe)=>{const pe=te.getTime(),ze=fe.getTime();return X.reduce((ie,Se)=>Se.date_creation>=pe&&Se.date_creation<ze?ie+(Se.total??0):ie,0)},V=Array.from({length:t.days}).map((X,te)=>{const fe=new Date(n);fe.setDate(fe.getDate()+te);const pe=new Date(fe);pe.setDate(pe.getDate()+1);const ze=new Date(l);ze.setDate(ze.getDate()+te);const ie=new Date(ze);return ie.setDate(ie.getDate()+1),{name:t.days===7?te===t.days-1?"Auj":`J-${t.days-1-te}`:fe.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:I(A,fe,pe),ventesPeriodePrecedente:I(T,ze,ie)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:o,ventesPeriode:q,beneficePeriode:z,clientsPeriode:F,panierMoyen:H,tablesOccupees:W,clientsActuels:ue,commandesEnCuisine:ne,ingredientsStockBas:R,ventesPeriodeSeries:V,ventesParCategorie:K,recentOrders:L,bestSellerProducts:Y}},getSalesByProduct:async e=>{const t=h=>{if(h)return typeof h=="string"?h:h.toISOString()},n=t(e==null?void 0:e.start)??Gc().toISOString(),r=t(e==null?void 0:e.end);let i=he.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const o=await i,l=Ue(o),d=new Map;l.forEach(h=>{const p=d.get(h.product_id)??{name:h.product_name,value:0};p.value+=h.total_price,d.set(h.product_id,p)});const f=Array.from(d.values()).sort((h,p)=>p.value-h.value);if(f.length>6){const h=f.slice(0,6),p=f.slice(6).reduce((g,v)=>g+v.value,0);return[...h,{name:"Autres",value:p}]}return f},getTables:async()=>uN(),createTable:async e=>{const t=await he.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=Ue(t);return Yn(),sN(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await he.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=Ue(r);return Yn(),sN(i)},deleteTable:async e=>{const t=await he.from("restaurant_tables").delete().eq("id",e);Ue(t),Yn()},getIngredients:async()=>gs(),getProducts:async()=>{const[e,t]=await Promise.all([Vo(i=>i.neq("estado","archive")),cN("getProducts")]),n=Ue(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>Yo(i,r))},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Vo((i,o)=>o?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),cN("getBestSellerProducts")]),n=Ue(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,o)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,d=o.best_seller_rank??Number.POSITIVE_INFINITY;return l-d}).map(i=>Yo(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>$g(),getKitchenOrders:async()=>{const e=await Ti().in("estado_cocina",["recibido","no_enviado"]).neq("statut","finalisee"),t=Ue(e),n=await Promise.all(t.map(o=>lN(Ra(o)))),r=[];return n.filter(E$).forEach(o=>{const l=o.items.filter(h=>h.estado==="enviado"),d=l.length>0?l:Cf(o)?o.items:[];if(d.length===0)return;d.reduce((h,p)=>{const g=p.date_envoi??o.date_envoi_cuisine??o.date_creation,v=h.get(g)??[];return v.push(p),h.set(g,v),h},new Map).forEach((h,p)=>{r.push({...o,items:h,date_envoi_cuisine:p,ticketKey:`${o.id}-${p}`})})}),r.sort((o,l)=>{const d=o.date_envoi_cuisine??o.date_creation,f=l.date_envoi_cuisine??l.date_creation;return d-f})},getTakeawayOrders:async()=>{const e=await Ti().in("type",WA),t=Ue(e),n=await Promise.all(t.map(r=>lN(Ra(r))));return{pending:n.filter(r=>r.statut==="pendiente_validacion"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await en(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await he.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=Ns(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await en(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await he.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),o=Ue(i);return await he.from("restaurant_tables").update({statut:"en_cuisine",commande_id:o.id,couverts:n.couverts??n.capacite}).eq("id",e),Yn(),Ra(o)},cancelUnsentTableOrder:async e=>{const t=await en(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await he.from("order_items").delete().eq("order_id",e),await he.from("orders").delete().eq("id",e),t.table_id&&await he.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),Yn())},updateOrder:async(e,t,n)=>{const r=await en(e);if(!r)throw new Error("Order not found");if(r.items,t.items){const g=t.items.map(v=>{const _={order_id:e,produit_id:v.produitRef,nom_produit:v.nom_produit,prix_unitaire:v.prix_unitaire,quantite:v.quantite,excluded_ingredients:v.excluded_ingredients,commentaire:v.commentaire,estado:v.estado,date_envoi:Oc(v.date_envoi)??null};return Ac(v.id)&&(_.id=v.id),_});g.length>0&&await he.from("order_items").upsert(g,{defaultToNull:!1}),t.items}const{items:i,clientInfo:o,removedItemIds:l=[],...d}=t,f={};d.type&&(f.type=d.type),d.table_id!==void 0&&(f.table_id=d.table_id),d.table_nom!==void 0&&(f.table_nom=d.table_nom),d.couverts!==void 0&&(f.couverts=d.couverts),d.statut&&(f.statut=d.statut),d.estado_cocina&&(f.estado_cocina=d.estado_cocina),d.payment_status&&(f.payment_status=d.payment_status),d.payment_method!==void 0&&(f.payment_method=d.payment_method),d.payment_receipt_url!==void 0&&(f.payment_receipt_url=d.payment_receipt_url),d.receipt_url!==void 0&&(f.receipt_url=d.receipt_url),d.total!==void 0&&(f.total=d.total),d.profit!==void 0&&(f.profit=d.profit),d.date_creation!==void 0&&(f.date_creation=Oc(d.date_creation)),d.date_envoi_cuisine!==void 0&&(f.date_envoi_cuisine=Oc(d.date_envoi_cuisine)),d.date_listo_cuisine!==void 0&&(f.date_listo_cuisine=Oc(d.date_listo_cuisine)),d.date_servido!==void 0&&(f.date_servido=Oc(d.date_servido)),t.items&&(f.total=t.items.reduce((g,v)=>g+v.prix_unitaire*v.quantite,0));const h=l.filter(g=>Ac(g));h.length>0&&await he.from("order_items").delete().in("id",h),o&&(f.client_nom=(o==null?void 0:o.nom)??null,f.client_telephone=(o==null?void 0:o.telephone)??null,f.client_adresse=(o==null?void 0:o.adresse)??null),Object.keys(f).length>0&&await he.from("orders").update(f).eq("id",e),Yn({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const p=await en(e);if(!p)throw new Error("Order not found after update");return t.items?{...p,items:x$(t.items,p.items)}:p},sendOrderToKitchen:async(e,t)=>{const n=await en(e);if(!n)throw new Error("Order not found");const r=n.items.filter(f=>f.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const f=new Set(t);return r.filter(h=>f.has(h.id))})();if(i.length===0)return n;const o=i.filter(f=>Ac(f.id)).map(f=>f.id);if(o.length===0)return n;const l=new Date().toISOString();await he.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",o),await he.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await he.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),Yn();const d=await en(e);if(!d)throw new Error("Order not found after sending to kitchen");return d},markOrderAsReady:async(e,t)=>{const n=new Date().toISOString(),r=await en(e);if(!r)throw new Error("Order not found");if(t!==void 0){const o=r.items.filter(f=>(f.date_envoi??r.date_envoi_cuisine??r.date_creation)===t);for(const f of o)await he.from("order_items").update({estado:"listo"}).eq("id",f.id);r.items.every(f=>(f.date_envoi??r.date_envoi_cuisine??r.date_creation)===t||f.estado==="listo"||f.estado==="servido")&&await he.from("orders").update({estado_cocina:"listo",date_listo_cuisine:n}).eq("id",e),r.table_id&&await Bg(r.table_id),Yn();const d=await en(e);if(!d)throw new Error("Order not found after ready update");return d}Yn();const i=await en(e);if(!i)throw new Error("Order not found after ready update");return i},markOrderAsServed:async e=>{const t=await en(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await he.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),await he.from("order_items").update({estado:"servido"}).eq("order_id",e).eq("estado","listo"),t.table_id&&await Bg(t.table_id),Yn();const r=await en(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await en(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await he.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i}).eq("id",e),r.table_id&&await Bg(r.table_id),Yn();const o=await en(e);if(!o)throw new Error("Order not found after finalization");const l=await dN();return{...o,profit:l}},submitCustomerOrder:async e=>{var l,d,f;const n=new Date().toISOString(),r=await he.from("orders").insert({type:"pedir_en_linea",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",payment_method:e.payment_method??null,total:e.items.reduce((h,p)=>h+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((d=e.clientInfo)==null?void 0:d.telephone)??null,client_adresse:((f=e.clientInfo)==null?void 0:f.adresse)??null,receipt_url:e.receipt_url??null}).select("*").single(),i=Ue(r);if(e.items.length>0){const h=e.items.map(g=>{const v={order_id:i.id,produit_id:g.produitRef&&Ac(g.produitRef)?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients,commentaire:g.commentaire,estado:g.estado,date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null};return Ac(g.id)&&(v.id=g.id),v}),p=await he.from("order_items").insert(h,{defaultToNull:!1});if(p.error)throw console.error("Failed to insert order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}Yn();const o=await en(i.id);if(!o)throw new Error("Order not found after creation");return o},getCustomerOrderStatus:async e=>en(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await he.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",date_envoi_cuisine:t}).eq("id",e),await he.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),Yn();const n=await en(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await he.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),Yn();const t=await en(e);if(!t)throw new Error("Order not found after delivery");const n=await dN();return{...t,profit:n}},getNotificationCounts:async()=>{const e=await Ti(),n=Ue(e).map(Ra);return{pendingTakeaway:n.filter(r=>Cf(r)&&r.statut==="pendiente_validacion").length,readyTakeaway:n.filter(r=>Cf(r)&&r.estado_cocina==="listo").length,kitchenOrders:(await xe.getKitchenOrders()).length,lowStockIngredients:(await gs()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=Gc(e),n=t.toISOString();C6(n);const[r,i,o,l]=await Promise.all([Ti().eq("statut","finalisee"),$g(),gs(),Vo(P=>P)]);let d=[],f=!1;try{d=await O6(n)}catch(P){console.warn("Failed to fetch role logins for daily report",P),f=!0}const p=Ue(r).map(Ra),g=t.getTime(),v=e.getTime(),_=p.filter(P=>{const D=P.date_servido??P.date_listo_cuisine??P.date_creation;return D>=g&&D<=v}),w=_.reduce((P,D)=>P+D.total,0),S=_.reduce((P,D)=>P+D.couverts,0),j=_.length>0?w/_.length:0,N=new Map(o.map(P=>[P.id,P])),E=Ue(l),C=new Map(E.map(P=>{const D=Yo(P,N);return[D.id,D]})),A=new Map(i.map(P=>[P.id,P.nom])),T=new Map;_.forEach(P=>{P.items.forEach(D=>{const q=C.get(D.produitRef),z=q?A.get(q.categoria_id)??"Sans catgorie":"Sans catgorie",F=q?q.categoria_id:"unknown",H=T.get(F)??{categoryName:z,products:[]},ae=H.products.find($=>$.id===D.produitRef);ae?(ae.quantity+=D.quantite,ae.totalSales+=D.prix_unitaire*D.quantite):H.products.push({id:D.produitRef,name:D.nom_produit,quantity:D.quantite,totalSales:D.prix_unitaire*D.quantite}),T.set(F,H)})}),T.forEach(P=>{P.products.sort((D,q)=>q.quantity-D.quantity)});const M=o.filter(P=>P.stock_actuel<=P.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:S,panierMoyen:j,ventesDuJour:w,soldProducts:Array.from(T.values()),lowStockIngredients:M,roleLogins:d,roleLoginsUnavailable:f}},getSalesHistory:async()=>{const e=await he.from("sales").select("*").order("sale_date",{ascending:!1});return Ue(e).map(_$)},getFinalizedOrders:async()=>{const e=await Ti().eq("statut","finalisee");return Ue(e).map(Ra)},addIngredient:async e=>{const t=await he.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=Ue(t);return Rn.publish("notifications_updated"),Of(n)},updateIngredient:async(e,t)=>{const n=await he.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=Ue(n);return Rn.publish("notifications_updated"),Of(r)},deleteIngredient:async e=>{const t=await he.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1);if(Ue(t).length>0)throw new Error("Impossible de supprimer l'ingrdient car il est utilis dans une recette.");return await he.from("ingredients").delete().eq("id",e),Rn.publish("notifications_updated"),{success:!0}},resupplyIngredient:async(e,t,n)=>{const r=await he.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).maybeSingle(),i=Ns(r);if(!i)throw new Error("Ingredient not found");const o=i.prix_unitaire*i.stock_actuel,l=t*n,d=i.stock_actuel+t,f=d>0?(o+l)/d:0;await he.from("ingredients").update({stock_actuel:d,prix_unitaire:Number.isFinite(f)?f:0}).eq("id",e),await he.from("purchases").insert({ingredient_id:e,quantite_achetee:t,prix_total:l,date_achat:new Date().toISOString()}),Rn.publish("notifications_updated");const h=await he.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).single(),p=Ue(h);return Of(p)},addProduct:async e=>{const t=await he.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:fa(e.image),is_best_seller:e.is_best_seller,best_seller_rank:e.is_best_seller?e.best_seller_rank:null}).select("id").single(),n=Ue(t);e.recipe.length>0&&await he.from("product_recipes").insert(e.recipe.map(d=>({product_id:n.id,ingredient_id:d.ingredient_id,qte_utilisee:d.qte_utilisee}))),Rn.publish("notifications_updated");const r=await Vo(d=>d.eq("id",n.id).single()),i=Ue(r),o=await gs(),l=new Map(o.map(d=>[d.id,d]));return Yo(i,l)},updateProduct:async(e,t)=>{const{recipe:n,...r}=t,i={};if(r.nom_produit!==void 0&&(i.nom_produit=r.nom_produit),r.description!==void 0&&(i.description=r.description??null),r.prix_vente!==void 0&&(i.prix_vente=r.prix_vente),r.categoria_id!==void 0&&(i.categoria_id=r.categoria_id),r.estado!==void 0&&(i.estado=r.estado),r.image!==void 0&&(i.image=fa(r.image)),r.best_seller_rank!==void 0&&(i.best_seller_rank=r.best_seller_rank),r.is_best_seller!==void 0&&(i.is_best_seller=r.is_best_seller,r.is_best_seller||(i.best_seller_rank=null)),Object.keys(i).length>0){const h=await he.from("products").update(i).eq("id",e);Ue(h)}if(n){const h=await he.from("product_recipes").delete().eq("product_id",e);if(Ue(h),n.length>0){const p=await he.from("product_recipes").insert(n.map(g=>({product_id:e,ingredient_id:g.ingredient_id,qte_utilisee:g.qte_utilisee})));Ue(p)}}Rn.publish("notifications_updated");const o=await Vo(h=>h.eq("id",e).single()),l=Ue(o),d=await gs(),f=new Map(d.map(h=>[h.id,h]));return Yo(l,f)},deleteProduct:async e=>{await he.from("product_recipes").delete().eq("product_id",e),await he.from("products").delete().eq("id",e),Rn.publish("notifications_updated")},addCategory:async e=>{const t=await he.from("categories").insert({nom:e}).select("id, nom").single(),n=Ue(t);return Rn.publish("notifications_updated"),YA(n)},deleteCategory:async e=>{await he.from("categories").delete().eq("id",e),Rn.publish("notifications_updated")}},XA=b.createContext(void 0),T$=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!h||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(h),v=JSON.parse(p);if(!(g!=null&&g.id)||v.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const _=await xe.getRoleById(g.id);_?(n(_),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(_)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:_.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(h){console.error("Failed to restore role:",h),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const o=b.useCallback(async f=>{i(!0);try{const h=await xe.loginWithPin(f);if(!h)throw new Error("PIN invalide");return n(h),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(h)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:h.id,authenticatedAt:Date.now()})),h}finally{i(!1)}},[]),l=b.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),d=b.useCallback(async()=>{if(t!=null&&t.id)try{const f=await xe.getRoleById(t.id);f?(n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()}))):l()}catch(f){console.error("Failed to refresh role:",f)}},[l,t==null?void 0:t.id]);return u.jsx(XA.Provider,{value:{role:t,loading:r,login:o,logout:l,refreshRole:d},children:e})},pa=()=>{const e=b.useContext(XA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Bf=e=>e==="editor"||e==="readonly",lb=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Bf(n==null?void 0:n[t]))return t;const r=Wn.find(i=>Bf(n==null?void 0:n[i.permissionKey]));return r?r.href:null},k$=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),M$=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:o}=pa(),l=Xa(),d=b.useRef(null),f=b.useRef(null),h=()=>{o(),l("/")},p=i==null?void 0:i.permissions,g=b.useMemo(()=>Wn.filter(S=>{const j=p==null?void 0:p[S.permissionKey];return Bf(j)}),[p]),v=b.useMemo(()=>g.find(S=>S.permissionKey===Ka),[g]),_=b.useMemo(()=>g.filter(S=>S.permissionKey!==Ka),[g]);b.useEffect(()=>{var C;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;f.current=document.activeElement;const j=d.current,N=j==null?void 0:j.querySelectorAll(k$);(C=N==null?void 0:N[0])==null||C.focus();const E=A=>{if(A.key==="Escape"&&(A.preventDefault(),t()),A.key==="Tab"&&N&&N.length>0){const T=N[0],M=N[N.length-1];A.shiftKey?document.activeElement===T&&(A.preventDefault(),M.focus()):document.activeElement===M&&(A.preventDefault(),T.focus())}};return document.addEventListener("keydown",E),()=>{var A,T;document.removeEventListener("keydown",E),(T=(A=f.current)==null?void 0:A.focus)==null||T.call(A)}},[e,t]);const w=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),u.jsxs("aside",{ref:d,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegacin principal",children:[u.jsxs("div",{className:"app-sidebar__header",children:[u.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),u.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el men",children:u.jsx(ua,{size:20})})]}),u.jsxs("div",{className:"app-sidebar__content",children:[u.jsx("div",{className:"app-sidebar__scroll-region",children:u.jsx("nav",{className:"app-sidebar__nav",children:_.map(S=>{let j=null;return n&&(S.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?j=u.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):S.href==="/ventes"&&n.readyForService>0?j=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):S.href==="/cocina"&&n.kitchenOrders>0?j=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):S.href==="/ingredients"&&n.lowStockIngredients>0&&(j=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),u.jsxs(jy,{to:S.href,onClick:w,className:({isActive:N})=>`app-sidebar__nav-link${N?" is-active":""}`,children:[u.jsx(S.icon,{size:22}),u.jsx("span",{children:S.name}),j]},S.name)})})}),u.jsxs("div",{className:"app-sidebar__section",children:[v&&u.jsxs(jy,{to:v.href,onClick:w,className:({isActive:S})=>`app-sidebar__action${S?" is-active":""}`,children:[u.jsx(v.icon,{size:22}),u.jsx("span",{className:"font-semibold",children:v.name})]}),u.jsxs("button",{onClick:()=>{r(),w()},className:"app-sidebar__action",children:[u.jsx(bA,{size:22}),u.jsx("span",{className:"font-semibold",children:"Reporte"})]}),u.jsxs("button",{onClick:h,className:"app-sidebar__action app-sidebar__action--logout",children:[u.jsx(IU,{size:22}),u.jsx("span",{className:"font-semibold",children:"Cerrar sesin"})]})]})]})]})]})},Tn=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=b.useId();return b.useEffect(()=>{if(!e)return;const d=f=>{f.key==="Escape"&&(f.preventDefault(),t())};return window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}},[e,t]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:u.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${o[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[u.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),u.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fentre modale",children:u.jsx(ua,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},P$=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),R$=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function QA(e){return Number.isFinite(e)?Math.round(e):0}function D$(e){return P$.format(QA(e))}function ke(e){return R$.format(QA(e))}const qg=({icon:e,label:t,value:n})=>u.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[u.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),u.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),L$=({isOpen:e,onClose:t})=>{const[n,r]=b.useState(null),[i,o]=b.useState(!0),[l,d]=b.useState(null);b.useEffect(()=>{e&&(async()=>{o(!0),d(null);try{const v=await xe.generateDailyReport();r(v)}catch(v){console.error("Error al generar el informe diario",v),r(null),d("No fue posible generar el informe diario. Intenta nuevamente ms tarde.")}finally{o(!1)}})()},[e]);const f=g=>{const v=new Map;return g.forEach(_=>{const w=new Date(_.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),S=v.get(_.roleName)??[];S.push(w),v.set(_.roleName,S)}),v},h=g=>{const v=[];if(v.push("*REPORTE OUIOUITACOS*"),v.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),v.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),v.push("---"),v.push("*Estadsticas del da*"),v.push(`- Ventas: *${ke(g.ventesDuJour)}*`),v.push(`- Clientes: *${g.clientsDuJour}*`),v.push(`- Ticket promedio: *${ke(g.panierMoyen)}*`),v.push("---"),v.push("*Productos vendidos*"),g.soldProducts.length===0?v.push("Ningn producto vendido."):g.soldProducts.forEach(_=>{v.push(`
_${_.categoryName}_`),_.products.forEach(w=>{v.push(`  - ${w.quantity}x ${w.name} (${ke(w.totalSales)})`)})}),v.push("---"),v.push("*Inicios de sesin desde las 05:00*"),g.roleLoginsUnavailable)v.push("Inicios de sesin no disponibles en este dispositivo.");else{const _=f(g.roleLogins);_.size===0?v.push("No hay inicios de sesin registrados."):_.forEach((w,S)=>{v.push(`- ${S}: ${w.join(", ")}`)})}return v.push("---"),v.push("*Inventario bajo*"),g.lowStockIngredients.length===0?v.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(_=>{v.push(`- ${_.nom} (${_.stock_actuel} / ${_.stock_minimum} ${_.unite})`)}),encodeURIComponent(v.join(`
`))},p=()=>{if(!n)return;const v=`https://wa.me/?text=${h(n)}`;window.open(v,"_blank"),t()};return u.jsx(Tn,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&u.jsx("p",{children:"Generando el reporte..."}),!i&&l&&u.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&u.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&u.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&u.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[u.jsx(la,{className:"mt-0.5 h-4 w-4"}),u.jsx("span",{children:"Los inicios de sesin de los roles no estn disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),u.jsxs("div",{className:"text-center border-b pb-4",children:[u.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),u.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsx(qg,{icon:u.jsx(Zc,{}),label:"Ventas del da",value:ke(n.ventesDuJour)}),u.jsx(qg,{icon:u.jsx(zy,{}),label:"Clientes del da",value:n.clientsDuJour}),u.jsx(qg,{icon:u.jsx(EA,{}),label:"Ticket promedio",value:ke(n.panierMoyen)})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(el,{})," Productos vendidos"]}),u.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(v=>u.jsxs("li",{children:[v.quantity,"x ",v.name," - ",u.jsx("span",{className:"font-semibold",children:ke(v.totalSales)})]},v.id))})]},g.categoryName))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(DU,{})," Inicios de sesin desde las 05:00"]}),n.roleLoginsUnavailable?u.jsx("p",{className:"text-gray-500",children:"Inicios de sesin no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=f(n.roleLogins);return g.size===0?u.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesin registrados desde las 05:00."}):u.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([v,_])=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[u.jsx("span",{className:"font-semibold text-gray-800",children:v}),u.jsx("span",{className:"text-sm text-gray-600",children:_.join(", ")})]},v))})})()]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(la,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?u.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>u.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[u.jsx("span",{children:g.nom}),u.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):u.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),u.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[u.jsx(wA,{size:20})," Enviar por WhatsApp"]})]})]})})},I$=()=>{const[e,t]=b.useState(!1),{role:n}=pa(),[r,i]=b.useState(null),[o,l]=b.useState(!1),d=()=>t(!0),f=()=>t(!1);return b.useEffect(()=>{const h=async()=>{try{const g=await xe.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};h();const p=xe.notifications.subscribe("notifications_updated",h);return()=>{p()}},[]),b.useEffect(()=>{if(typeof window>"u")return;const h=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"app-shell",children:[u.jsx(M$,{isOpen:e,onClose:f,notifications:r,onReportClick:()=>l(!0)}),u.jsxs("div",{className:"app-main",children:[u.jsxs("header",{className:"app-header",children:[u.jsx("button",{type:"button",onClick:d,className:"app-header__menu-button md:hidden","aria-label":"Abrir el men",children:u.jsx(_A,{size:24})}),u.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),u.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),u.jsx("main",{className:"app-content",children:u.jsx("div",{className:"app-content__inner",children:u.jsx(hL,{})})})]})]}),u.jsx(L$,{isOpen:o,onClose:()=>l(!1)})]})},Hy="active-customer-order",Fy="active-customer-order-id",U$=1440*60*1e3,z$=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},tu=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(Hy),window.localStorage.removeItem(Fy);return}window.localStorage.setItem(Hy,JSON.stringify(e)),window.localStorage.removeItem(Fy)}catch(t){console.error("Failed to persist active order",t)}},JA=()=>{if(typeof window>"u")return null;const e=z$(window.localStorage.getItem(Hy));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(tu(null),null):e;const t=window.localStorage.getItem(Fy);if(t&&t.trim().length>0){const n={orderId:t};return tu(n),n}return null},$$=(e,t)=>{if(!e){tu(null);return}tu(t?{orderId:e,expiresAt:t}:{orderId:e})},ZA=()=>{tu(null)},B$=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},q$=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var S,j,N;const[r,i]=b.useState(null),[o,l]=b.useState(!0),[d,f]=b.useState(!1),h=[{name:"Enviado",icon:bA},{name:"Validado",icon:Iy},{name:"En preparacion",icon:pA},{name:"Listo",icon:FU}],p=b.useCallback(E=>E?E.statut==="finalisee"||E.estado_cocina==="servido"||E.estado_cocina==="entregada"||E.estado_cocina==="listo"?3:E.estado_cocina==="recibido"?2:E.statut==="en_cours"?1:E.statut==="pendiente_validacion"||E.estado_cocina==="no_enviado"?0:-1:-1,[]),g=b.useMemo(()=>p(r),[r,p]);b.useEffect(()=>{let E=!0,C;const A=async()=>{try{const T=await xe.getCustomerOrderStatus(e);if(E){if(i(T),(T==null?void 0:T.statut)==="finalisee"||(T==null?void 0:T.estado_cocina)==="servido"||(T==null?void 0:T.estado_cocina)==="entregada"){C&&clearInterval(C),B$(T);const M=T.date_servido??Date.now();$$(T.id,M+U$)}if(!T){const M=JA();(M==null?void 0:M.orderId)===e&&ZA()}}}catch(T){console.error("Failed to fetch order status",T)}finally{E&&l(!1)}};return A(),C=setInterval(A,5e3),()=>{E=!1,clearInterval(C)}},[e]);const v=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",_=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",w=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return o?u.jsx("div",{className:_,children:"Chargement du suivi de commande..."}):r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:_,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),u.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),u.jsx("div",{className:"flex justify-between items-start mb-10 px-2",children:h.map((E,C)=>{const A=C===g,T=C===h.length-1,M=C<g||T&&v,D=["w-16 h-16 rounded-full flex items-center justify-center border-4 transition-all duration-300",M?"bg-green-500 border-green-500 text-white":"",!M&&A&&C===0?"waiting-status-indicator":"",!M&&A&&C!==0?"bg-brand-primary border-brand-primary text-brand-secondary animate-pulse":"",!M&&!A?"bg-gray-200 border-gray-300 text-gray-500":""].filter(Boolean).join(" ");return u.jsxs(Qn.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center text-center w-24",children:[u.jsx("div",{className:D,children:u.jsx(E.icon,{size:32})}),u.jsx("p",{className:`mt-2 text-sm md:text-base font-semibold break-words ${A?"font-bold text-brand-primary":`${n==="hero"?"text-gray-300":"text-gray-600"}`}`,children:E.name})]}),C<h.length-1&&u.jsx("div",{className:`flex-1 h-2 mt-8 transition-colors duration-500 ${M?"bg-green-500":"bg-gray-300"}`})]},E.name)})}),u.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4`,children:[u.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Rsum de la commande"}),u.jsx("div",{className:"space-y-2",children:r.items.map(E=>u.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[u.jsxs("span",{children:[E.quantite,"x ",E.nom_produit]}),u.jsx("span",{children:ke(E.prix_unitaire*E.quantite)})]},E.id))}),u.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:ke(r.total)})]}),u.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(ab,{size:16,className:"mr-2"}),(S=r.clientInfo)==null?void 0:S.nom]}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(jA,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.telephone]}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(Ah,{size:16,className:"mr-2"}),(N=r.clientInfo)==null?void 0:N.adresse]}),r.receipt_url&&u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center text-blue-400 hover:underline",children:[u.jsx(az,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),u.jsxs("div",{className:"mt-8 text-center space-y-4",children:[v&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[u.jsx(Iy,{size:16})," Pedido listo"]})}),r.statut==="finalisee"?u.jsx("button",{onClick:t,className:`${n==="hero"?"bg-gray-200 text-gray-800":"bg-brand-primary text-brand-secondary"} font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition`,children:"Passer une nouvelle commande"}):u.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis  jour automatiquement."})]})]})}),u.jsx(Tn,{isOpen:d,onClose:()=>f(!1),title:"Justificatif de Paiement",children:r.receipt_url?u.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"Aucun justificatif fourni."})})]}):u.jsx("div",{className:_,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:`text-2xl font-bold mb-4 ${n==="hero"?"text-red-400":"text-red-600"}`,children:"Commande non trouve"}),u.jsx("p",{className:`${n==="hero"?"text-gray-200":"text-gray-600"} mb-6`,children:"Nous n'avons pas pu retrouver votre commande."}),u.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})};let nf=null;const cb=()=>{const[e,t]=b.useState(nf),[n,r]=b.useState(!0),[i,o]=b.useState(null),l=b.useCallback(async()=>{r(!0);try{const f=await xe.getSiteContent(),h=$y(f??void 0);nf=h,t(h),o(null)}catch(f){console.error("Failed to fetch site content",f),nf=$f,t($f),o(f instanceof Error?f.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),d=b.useCallback(async f=>{const h=await xe.updateSiteContent(f),p=$y(h);return t(p),nf=p,p},[]);return b.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:d}},H$={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},F$={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},ub=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},K$=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(H$))if(t.includes(n))return r;return null},G$=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return F$[r]??null},Y$=e=>{const t=K$(e.format);return t||G$(e.url)},V$=e=>{const t=ub(e.name),n=Y$(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},W$="data-custom-font-faces",eT=e=>{b.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(o=>o.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(o=>{const l=V$(o),d=l.match(/font-family: "([^"]+)";/),f=d?d[1]:o.name;r.has(f)||(r.add(f),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(W$,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},tT=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},Kr=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},db=(e,t)=>{const n=Kr(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Gr=e=>({color:e.textColor,fontFamily:tT(e.fontFamily)}),Di=e=>({...Gr(e),fontSize:e.fontSize}),fb=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:tT((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},nT=(e,t)=>({...fb(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),rT=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},aT=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",o=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${o}=${l}`}},fN="/logo-brand.svg",Ba=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'lment modifiable "${e}"`)},iT=Qn.createContext(!0),We=({id:e,onEdit:t,children:n,label:r,className:i,buttonClassName:o,as:l="div"})=>{const d=["group relative",i].filter(Boolean).join(" "),f=Qn.useContext(iT),[h,p]=b.useState(!1);if(!f)return u.jsx(l,{className:d,children:n});const g=["customization-edit-button absolute z-30 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-white shadow-lg transition-all duration-200","opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500","hover:scale-110 hover:bg-blue-600 active:scale-95",o??"right-2 top-2"].filter(Boolean).join(" "),v=_=>{_.preventDefault(),_.stopPropagation();const w=Ba(e),S=_.currentTarget.getBoundingClientRect(),j=_.currentTarget.closest(`[data-zone="${w}"]`)??_.currentTarget.parentElement,N=(j==null?void 0:j.getBoundingClientRect())??null;t(e,{zone:w,anchor:S??N})};return u.jsxs(l,{className:d,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[u.jsx("button",{type:"button",onClick:v,className:g,"aria-label":r,"data-element-id":e,title:r,children:u.jsx(QU,{className:"h-4 w-4","aria-hidden":"true"})}),h&&u.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-blue-500 border-dashed rounded-lg opacity-50 animate-pulse"}),h&&u.jsxs("div",{className:"absolute z-40 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap",children:[r,u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]}),n]})},Wo=({children:e,className:t,zone:n,activeZone:r})=>{const o=["customization-section-card relative overflow-hidden rounded-3xl border bg-white shadow-sm transition-all",r===n?"active border-brand-primary/70 shadow-brand-primary/20 ring-2 ring-brand-primary/10":"border-gray-200",t].filter(Boolean).join(" ");return u.jsx("div",{className:o,"data-zone":n,children:e})},hN=({content:e,bestSellerProducts:t,onEdit:n,activeZone:r,showEditButtons:i=!0})=>{const o=Kr(e.navigation.style),l=Gr(e.navigation.style);Di(e.navigation.style);const d=e.navigation.brandLogo??fN,f=e.navigation.staffLogo??e.navigation.brandLogo??fN,h=db(e.hero.style,e.hero.backgroundImage),p=Gr(e.hero.style),g=Di(e.hero.style),v=Kr(e.about.style),_=Gr(e.about.style);Di(e.about.style);const w=Kr(e.menu.style),S=Gr(e.menu.style),j=Di(e.menu.style),N=Kr(e.findUs.style),E=Gr(e.findUs.style),C=Kr(e.footer.style),A=Di(e.footer.style);eT(e.assets.library);const T=e.elementStyles??{},M=e.elementRichText??{},P=V=>{var fe;const X=M[V],te=(fe=X==null?void 0:X.html)==null?void 0:fe.trim();return te&&te.length>0?te:null},D=(V,X,te,fe)=>{const pe=P(V);return pe?Qn.createElement(X,{...te,dangerouslySetInnerHTML:{__html:pe}}):Qn.createElement(X,te,fe)},q={navigation:e.navigation.style,hero:e.hero.style,about:e.about.style,menu:e.menu.style,instagramReviews:e.instagramReviews.style,findUs:e.findUs.style,footer:e.footer.style},z=V=>T[V],F=V=>{const X=Ba(V);return fb(q[X],z(V))},H=V=>{const X=Ba(V);return nT(q[X],z(V))},ae=V=>{const X=Ba(V);return rT(q[X],z(V))},$=e.findUs.address.trim(),K=e.findUs.mapUrl,L=typeof K=="string"?K.trim():"",Y=L.length>0,W=!Y&&$.length>0?encodeURIComponent($):"",ue=Y?L:W?`https://www.google.com/maps?q=${W}`:"https://www.google.com/maps",ne=Y?aT(L,"output","embed"):W?`https://www.google.com/maps?q=${W}&output=embed`:"about:blank",R=Y||W.length>0,I=$.length>0?$:e.findUs.title;return u.jsx(iT.Provider,{value:i,children:u.jsxs("div",{className:"space-y-6 rounded-[2.5rem] border border-gray-200 bg-slate-50 p-6 shadow-inner",children:[u.jsx(Wo,{zone:"navigation",activeZone:r,children:u.jsx(We,{id:"navigation.style.background",label:"Modifier le fond de la navigation",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("header",{className:"login-header",style:o,children:u.jsxs("div",{className:"layout-container login-header__inner",style:l,children:[u.jsxs("div",{className:"login-brand",style:l,children:[u.jsx(We,{id:"navigation.brandLogo",label:"Modifier le logo principal",onEdit:n,as:"span",className:"inline-flex items-center",children:u.jsx("img",{src:d,alt:`Logo ${e.navigation.brand}`,className:"login-brand__logo"})}),u.jsx(We,{id:"navigation.brand",label:"Modifier le nom de la marque",onEdit:n,as:"span",className:"ml-3 inline-flex items-center",buttonClassName:"-right-3 -top-3",children:D("navigation.brand","span",{className:"login-brand__name",style:F("navigation.brand")},e.navigation.brand)})]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[u.jsx(We,{id:"navigation.links.home",label:"Modifier le lien Accueil",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.home","span",{className:"login-nav__link",style:H("navigation.links.home")},e.navigation.links.home)}),u.jsx(We,{id:"navigation.links.about",label:"Modifier le lien  propos",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.about","span",{className:"login-nav__link",style:H("navigation.links.about")},e.navigation.links.about)}),u.jsx(We,{id:"navigation.links.menu",label:"Modifier le lien Menu",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.menu","span",{className:"login-nav__link",style:H("navigation.links.menu")},e.navigation.links.menu)}),u.jsx(We,{id:"navigation.links.loginCta",label:"Modifier le bouton personnel",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("div",{className:"login-nav__staff-btn","aria-label":e.navigation.links.loginCta,role:"img",children:u.jsx(We,{id:"navigation.staffLogo",label:"Modifier le logo d'accs staff",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("img",{src:f,alt:"",className:"login-brand__logo","aria-hidden":"true"})})})})]})]})})})}),u.jsx(Wo,{zone:"hero",activeZone:r,children:u.jsx(We,{id:"hero.backgroundImage",label:"Modifier le visuel de fond du hero",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-hero",style:{...h,...p},children:u.jsx("div",{className:"section-hero__inner",children:u.jsxs("div",{className:"hero-content",style:p,children:[u.jsx(We,{id:"hero.title",label:"Modifier le titre du hero",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.title","h2",{className:"hero-title",style:F("hero.title")},e.hero.title)}),u.jsx(We,{id:"hero.subtitle",label:"Modifier le sous-titre du hero",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("hero.subtitle","p",{className:"hero-subtitle",style:H("hero.subtitle")},e.hero.subtitle)}),u.jsx(We,{id:"hero.ctaLabel",label:"Modifier le texte du bouton principal",onEdit:n,className:"mt-6 inline-flex",buttonClassName:"-right-3 -top-3",children:u.jsx("button",{type:"button",className:"ui-btn ui-btn-accent hero-cta",style:{...H("hero.ctaLabel"),...ae("hero.ctaLabel")},disabled:!0,children:D("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.ctaLabel")},e.hero.ctaLabel)})}),u.jsxs("div",{className:"hero-history mt-6",children:[u.jsx(We,{id:"hero.historyTitle",label:"Modifier le titre de l'historique",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.historyTitle","p",{className:"hero-history__title",style:H("hero.historyTitle")},e.hero.historyTitle)}),u.jsx(We,{id:"hero.reorderCtaLabel",label:"Modifier le bouton de rassort",onEdit:n,className:"hero-history__list",buttonClassName:"right-2 top-2",children:u.jsx(u.Fragment,{children:[0,1,2].map(V=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsx("p",{className:"hero-history__date",style:g,children:"Pedido del 12/03/2024"}),u.jsxs("p",{className:"hero-history__details",style:g,children:["2 article(s)  ",ke(32e3)]})]}),u.jsx("button",{type:"button",className:"hero-history__cta",style:{...H("hero.reorderCtaLabel"),...ae("hero.reorderCtaLabel")},disabled:!0,children:D("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.reorderCtaLabel")},e.hero.reorderCtaLabel)})]},V))})})]})]})})})})}),u.jsx(Wo,{zone:"about",activeZone:r,children:u.jsx(We,{id:"about.style.background",label:"Modifier le fond de la section  propos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...v,..._},children:u.jsxs("div",{className:"section-inner section-inner--center",style:_,children:[u.jsx(We,{id:"about.title",label:"Modifier le titre  propos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("about.title","h2",{className:"section-title",style:F("about.title")},e.about.title)}),u.jsx(We,{id:"about.description",label:"Modifier la description  propos",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("about.description","p",{className:"section-text section-text--muted",style:H("about.description")},e.about.description)}),e.about.image&&u.jsx(We,{id:"about.image",label:"Modifier l'image  propos",onEdit:n,className:"mt-6 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.about.image,alt:e.about.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})})]})})})}),u.jsx(Wo,{zone:"menu",activeZone:r,children:u.jsx(We,{id:"menu.style.background",label:"Modifier le fond de la section Menu",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-muted",style:{...w,...S},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:S,children:[u.jsx(We,{id:"menu.title",label:"Modifier le titre du menu",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("menu.title","h2",{className:"section-title",style:F("menu.title")},e.menu.title)}),e.menu.image&&u.jsx(We,{id:"menu.image",label:"Modifier l'image du menu",onEdit:n,className:"mb-8 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.menu.image,alt:e.menu.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})}),u.jsx("div",{className:"menu-grid",children:t.length>0?t.map(V=>{const X=!!V.image;return u.jsxs("article",{className:"ui-card menu-card",children:[X?u.jsx("img",{src:V.image,alt:V.nom_produit,className:"h-40 w-full rounded-t-xl object-cover"}):u.jsx("div",{className:"h-40 w-full rounded-t-xl bg-gradient-to-br from-orange-200 via-amber-100 to-orange-50"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:S,children:V.nom_produit}),V.description&&u.jsx("p",{className:"menu-card__description",style:j,children:V.description}),u.jsx("p",{className:"menu-card__price",style:j,children:ke(V.prix_vente)})]})]},V.id)}):u.jsx("div",{className:"col-span-full rounded-2xl border border-dashed border-slate-300 bg-white/70 p-6 text-center",children:u.jsx("p",{className:"text-sm text-slate-500",style:j,children:"Aucun best seller slectionn pour le moment."})})}),u.jsx(We,{id:"menu.ctaLabel",label:"Modifier le bouton de commande",onEdit:n,className:"section-actions mt-8",buttonClassName:"right-2 top-2",children:u.jsxs("div",{className:"section-actions",children:[u.jsx("button",{type:"button",className:"ui-btn ui-btn-primary hero-cta",style:{...H("menu.ctaLabel"),...ae("menu.ctaLabel")},disabled:!0,children:D("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("menu.ctaLabel")},e.menu.ctaLabel)}),u.jsx(We,{id:"menu.loadingLabel",label:"Modifier le texte de chargement",onEdit:n,className:"ml-4 inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("menu.loadingLabel","p",{className:"section-text section-text--muted",style:H("menu.loadingLabel")},e.menu.loadingLabel)})]})})]})})})}),u.jsx(Wo,{zone:"findUs",activeZone:r,children:u.jsx(We,{id:"findUs.style.background",label:"Modifier le fond de la section Encuntranos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...N,...E},children:u.jsxs("div",{className:"find-us-grid",style:E,children:[u.jsxs("div",{className:"find-us-panel",style:E,children:[u.jsx(We,{id:"findUs.title",label:"Modifier le titre Encuntranos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.title","h2",{className:"section-title",style:F("findUs.title")},e.findUs.title)}),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:E,children:[u.jsx(Ah,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.addressLabel",label:"Modifier le libell de l'adresse",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.addressLabel","h3",{className:"find-us-detail__title",style:F("findUs.addressLabel")},e.findUs.addressLabel)}),u.jsx(We,{id:"findUs.address",label:"Modifier l'adresse",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.address","p",{className:"find-us-detail__text",style:H("findUs.address")},e.findUs.address)})]})]}),u.jsxs("div",{className:"find-us-detail",style:E,children:[u.jsx(Sl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.hoursLabel",label:"Modifier le libell des horaires",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:F("findUs.hoursLabel")},e.findUs.hoursLabel)}),u.jsx(We,{id:"findUs.hours",label:"Modifier les horaires",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.hours","p",{className:"find-us-detail__text",style:H("findUs.hours")},e.findUs.hours)})]})]}),u.jsxs("div",{className:"find-us-detail",style:E,children:[u.jsx(xA,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(We,{id:"findUs.cityLabel",label:"Modifier le libell de l'email",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.cityLabel","h3",{className:"find-us-detail__title",style:F("findUs.cityLabel")},e.findUs.cityLabel)}),u.jsx(We,{id:"findUs.city",label:"Modifier l'email",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.city","p",{className:"find-us-detail__text",style:H("findUs.city")},e.findUs.city)})]})]})]})]}),u.jsx("div",{className:"find-us-map",style:E,children:R?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${I}`,src:ne,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:ue,target:"_blank",rel:"noopener noreferrer",children:u.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libell du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})]}):u.jsx("div",{className:"find-us-map__placeholder",children:u.jsx(We,{id:"findUs.mapLabel",label:"Modifier le libell du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})})]})})})}),u.jsx(Wo,{zone:"footer",activeZone:r,children:u.jsx(We,{id:"footer.style.background",label:"Modifier le fond du pied de page",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("footer",{className:"site-footer",style:{...C,...A},children:u.jsx("div",{className:"layout-container site-footer__inner",style:A,children:u.jsx(We,{id:"footer.text",label:"Modifier le texte du pied de page",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:u.jsxs("p",{style:H("footer.text"),children:[" ",new Date().getFullYear()," ",e.navigation.brand,"."," ",D("footer.text","span",{style:H("footer.text")},e.footer.text)]})})})})})})]})})},Ky="/logo-brand.svg",Xo=()=>({background:{type:"color",color:"#ffffff",image:null},fontFamily:"inherit",fontSize:"16px",textColor:"#000000"}),X$={navigation:{brand:"",brandLogo:Ky,links:{home:"",about:"",menu:"",loginCta:""},style:Xo()},hero:{title:"",subtitle:"",ctaLabel:"",backgroundImage:null,historyTitle:"",reorderCtaLabel:"",style:Xo()},about:{title:"",description:"",image:null,style:Xo()},menu:{title:"",ctaLabel:"",loadingLabel:"",image:null,style:Xo()},instagramReviews:JSON.parse(JSON.stringify($f.instagramReviews)),findUs:{title:"",addressLabel:"",address:"",cityLabel:"",city:"",hoursLabel:"",hours:"",mapLabel:"",mapUrl:"",style:Xo()},footer:{text:"",style:Xo()},elementStyles:{},elementRichText:{},assets:{library:[]}},sT=Qn.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},o)=>{const l=g=>{e.length<n&&!i&&t(e+g)},d=()=>{e.length>0&&!i&&t(e.slice(0,-1))},f=g=>{if(i)return;const v=g.target.value.replace(/\D/g,"").slice(0,n);t(v)},h=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),d();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return u.jsxs("div",{className:"pin-input","aria-label":"Clavier numrique scuris",children:[u.jsx("input",{ref:o,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:f,onKeyDown:h,"aria-describedby":r,"aria-label":`Code PIN  ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),u.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,v)=>u.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[v]?"":""},v))}),u.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),u.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,v)=>u.jsx("button",{type:"button",onClick:()=>l(String(v+1)),className:"pin-pad__button",disabled:i,children:v+1},v+1)),u.jsx("div",{"aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),u.jsx("button",{type:"button",onClick:d,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});sT.displayName="PinInput";const Q$=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",J$=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},Z$=()=>{const[e,t]=b.useState(!1),[n,r]=b.useState(""),[i,o]=b.useState(""),[l,d]=b.useState(!1),f=b.useRef(null),{login:h}=pa(),p=Xa(),{content:g}=cb(),[v,_]=b.useState(()=>g);b.useEffect(()=>{g&&_(g)},[g]);const w=v??X$;eT(w.assets.library);const{navigation:S,hero:j,about:N,menu:E,findUs:C,footer:A}=w,T=S.brandLogo??Ky,M=S.brandLogo??Ky,P=Kr(S.style),D=Gr(S.style),q=db(j.style,j.backgroundImage),z=Gr(j.style),F=Di(j.style),H=Kr(N.style),ae=Gr(N.style),$=Kr(E.style),K=Gr(E.style),L=Di(E.style),Y=Kr(C.style),W=Gr(C.style),ue=Kr(A.style),ne=Di(A.style),R=w.elementStyles??{},I={navigation:S.style,hero:j.style,about:N.style,menu:E.style,instagramReviews:w.instagramReviews.style,findUs:C.style,footer:A.style},V=Oe=>R[Oe],X=Oe=>{const it=Ba(Oe);return fb(I[it],V(Oe))},te=Oe=>{const it=Ba(Oe);return nT(I[it],V(Oe))},fe=Oe=>{const it=Ba(Oe);return rT(I[it],V(Oe))},pe=w.elementRichText??{},ze=Oe=>{var ln;const it=pe[Oe],Ut=(ln=it==null?void 0:it.html)==null?void 0:ln.trim();return Ut&&Ut.length>0?Ut:null},ie=(Oe,it,Ut,ln)=>{const Ur=ze(Oe);return Ur?Qn.createElement(it,{...Ut,dangerouslySetInnerHTML:{__html:Ur}}):Qn.createElement(it,Ut,ln)},[Se,Te]=b.useState([]),[ce,At]=b.useState([]),[Ie,Tt]=b.useState(!0),[kt,Ht]=b.useState(!1),[Zn,ve]=b.useState(()=>JA()),Ge=b.useCallback(async Oe=>{d(!0),o("");try{const it=await h(Oe),Ut=lb(it)??"/dashboard";t(!1),r(""),p(Ut)}catch(it){console.error("Failed to authenticate with PIN",it);const Ut=it instanceof Error&&it.message?it.message:"PIN invalide";o(Ut),r(""),requestAnimationFrame(()=>{var ln;(ln=f.current)==null||ln.focus()})}finally{d(!1)}},[h,p]);b.useEffect(()=>{if(!e)return;const Oe=window.setTimeout(()=>{var it;(it=f.current)==null||it.focus()},0);return()=>window.clearTimeout(Oe)},[e]),b.useEffect(()=>{n.length===6&&!l&&Ge(n)},[n,l,Ge]),b.useEffect(()=>{if(!(typeof window>"u"))try{const Oe=window.localStorage.getItem("customer-order-history");if(!Oe)return;const it=JSON.parse(Oe);Array.isArray(it)&&At(it)}catch(Oe){console.error("Could not load order history",Oe)}},[]),b.useEffect(()=>{let Oe=!0;return(async()=>{try{const Ut=await xe.getBestSellerProducts();Oe&&Te(Ut)}catch(Ut){console.error("Could not load best seller products",Ut)}finally{Oe&&Tt(!1)}})(),()=>{Oe=!1}},[]);const Xe=C.address.trim(),mt=C.mapUrl,pt=typeof mt=="string"?mt.trim():"",Ye=pt.length>0,kn=!Ye&&Xe.length>0?encodeURIComponent(Xe):"",Mn=Ye?pt:kn?`https://www.google.com/maps?q=${kn}`:"https://www.google.com/maps",Un=Ye?aT(pt,"output","embed"):kn?`https://www.google.com/maps?q=${kn}&output=embed`:"about:blank",de=Ye||kn.length>0,me=Xe.length>0?Xe:C.title,Ee=(Zn==null?void 0:Zn.orderId)??null,Qe=Se.slice(0,6),Je=Qe.length,Mt=Q$(Je),Re=J$(Je),rt=Oe=>{Oe.preventDefault(),n.length===6&&!l&&Ge(n)},yt=()=>{ZA(),ve(null)},Pt=Oe=>{localStorage.setItem("customer-order-reorder-id",Oe),p("/commande-client")};return u.jsxs("div",{className:"login-page",children:[u.jsx("header",{className:"login-header",style:P,children:u.jsxs("div",{className:"layout-container login-header__inner",style:D,children:[u.jsxs("div",{className:"login-brand",style:D,children:[u.jsx("img",{src:T,alt:`Logo ${S.brand}`,className:"login-brand__logo"}),ie("navigation.brand","span",{className:"login-brand__name",style:X("navigation.brand")},S.brand)]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[ie("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:te("navigation.links.home")},S.links.home),ie("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:te("navigation.links.about")},S.links.about),ie("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:te("navigation.links.menu")},S.links.menu),u.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":S.links.loginCta,children:u.jsx("img",{src:M,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),u.jsx("button",{type:"button",onClick:()=>Ht(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:u.jsx(_A,{size:24})})]})}),kt&&u.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:P,children:[u.jsx("button",{type:"button",onClick:()=>Ht(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:u.jsx(ua,{size:28})}),u.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:D,children:[ie("navigation.links.home","a",{href:"#accueil",onClick:()=>Ht(!1),className:"login-menu-overlay__link",style:te("navigation.links.home")},S.links.home),ie("navigation.links.about","a",{href:"#apropos",onClick:()=>Ht(!1),className:"login-menu-overlay__link",style:te("navigation.links.about")},S.links.about),ie("navigation.links.menu","a",{href:"#menu",onClick:()=>Ht(!1),className:"login-menu-overlay__link",style:te("navigation.links.menu")},S.links.menu),u.jsx("button",{type:"button",onClick:()=>{t(!0),Ht(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":S.links.loginCta,children:u.jsx("img",{src:M,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),u.jsxs("main",{children:[u.jsx("section",{id:"accueil",className:"section section-hero",style:{...q,...z},children:u.jsx("div",{className:"section-hero__inner",children:Ee?u.jsx(q$,{orderId:Ee,onNewOrderClick:yt,variant:"hero"}):u.jsxs("div",{className:"hero-content",style:z,children:[ie("hero.title","h2",{className:"hero-title",style:X("hero.title")},j.title),ie("hero.subtitle","p",{className:"hero-subtitle",style:te("hero.subtitle")},j.subtitle),u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...te("hero.ctaLabel"),...fe("hero.ctaLabel")},children:ie("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:te("hero.ctaLabel")},j.ctaLabel)}),ce.length>0&&u.jsxs("div",{className:"hero-history",children:[ie("hero.historyTitle","p",{className:"hero-history__title",style:te("hero.historyTitle")},j.historyTitle),u.jsx("div",{className:"hero-history__list",children:ce.slice(0,3).map(Oe=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsxs("p",{className:"hero-history__date",style:F,children:["Pedido del ",new Date(Oe.date_creation).toLocaleDateString()]}),u.jsxs("p",{className:"hero-history__details",style:F,children:[Oe.items.length," article(s)  ",ke(Oe.total)]})]}),u.jsx("button",{type:"button",onClick:()=>Pt(Oe.id),className:"hero-history__cta",style:{...te("hero.reorderCtaLabel"),...fe("hero.reorderCtaLabel")},children:ie("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:te("hero.reorderCtaLabel")},j.reorderCtaLabel)})]},Oe.id))})]})]})})}),u.jsx("section",{id:"apropos",className:"section section-surface",style:{...H,...ae},children:u.jsxs("div",{className:"section-inner section-inner--center",style:ae,children:[ie("about.title","h2",{className:"section-title",style:X("about.title")},N.title),ie("about.description","p",{className:"section-text section-text--muted",style:te("about.description")},N.description),N.image&&u.jsx("img",{src:N.image,alt:N.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),u.jsx("section",{id:"menu",className:"section section-muted",style:{...$,...K},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:K,children:[ie("menu.title","h2",{className:"section-title",style:X("menu.title")},E.title),E.image&&u.jsx("img",{src:E.image,alt:E.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),Ie?ie("menu.loadingLabel","p",{className:"section-text section-text--muted",style:te("menu.loadingLabel")},E.loadingLabel):Qe.length>0?u.jsx("div",{className:Mt,children:Qe.map(Oe=>u.jsxs("article",{className:Re,children:[u.jsx("img",{src:Oe.image,alt:Oe.nom_produit,className:"menu-card__media"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:K,children:Oe.nom_produit}),u.jsx("p",{className:"menu-card__description",style:L,children:Oe.description}),u.jsx("p",{className:"menu-card__price",style:L,children:ke(Oe.prix_vente)})]})]},Oe.id))}):u.jsx("p",{className:"section-text section-text--muted",style:L,children:"Aucun produit best seller n'est disponible pour le moment."}),u.jsx("div",{className:"section-actions",children:u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...te("menu.ctaLabel"),...fe("menu.ctaLabel")},children:ie("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:te("menu.ctaLabel")},E.ctaLabel)})})]})}),u.jsx("section",{id:"find-us",className:"section section-surface",style:{...Y,...W},children:u.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:W,children:[u.jsxs("div",{className:"find-us-panel",style:W,children:[ie("findUs.title","h2",{className:"section-title",style:X("findUs.title")},C.title),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(Ah,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[ie("findUs.addressLabel","h3",{className:"find-us-detail__title",style:X("findUs.addressLabel")},C.addressLabel),ie("findUs.address","p",{className:"find-us-detail__text",style:te("findUs.address")},C.address)]})]}),u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(Sl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[ie("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:X("findUs.hoursLabel")},C.hoursLabel),ie("findUs.hours","p",{className:"find-us-detail__text",style:te("findUs.hours")},C.hours)]})]}),u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(xA,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[ie("findUs.cityLabel","h3",{className:"find-us-detail__title",style:X("findUs.cityLabel")},C.cityLabel),ie("findUs.city","p",{className:"find-us-detail__text",style:te("findUs.city")},C.city)]})]})]})]}),u.jsx("div",{className:"find-us-map",style:W,children:de?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${me}`,src:Un,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:Mn,target:"_blank",rel:"noopener noreferrer",children:ie("findUs.mapLabel","span",{className:"find-us-map__label",style:te("findUs.mapLabel")},C.mapLabel)})]}):u.jsx("div",{className:"find-us-map__placeholder",children:ie("findUs.mapLabel","span",{className:"find-us-map__label",style:te("findUs.mapLabel")},C.mapLabel)})})]})})]}),u.jsx("footer",{className:"site-footer",style:{...ue,...ne},children:u.jsx("div",{className:"layout-container site-footer__inner",style:ne,children:u.jsxs("p",{style:te("footer.text"),children:[" ",new Date().getFullYear()," ",S.brand,"."," ",ie("footer.text","span",{style:te("footer.text")},A.text)]})})}),u.jsx(Tn,{isOpen:e,onClose:()=>{t(!1),r(""),o("")},title:"Connexion du personnel",size:"lg",children:u.jsx("div",{className:"login-modal",children:u.jsx("form",{onSubmit:rt,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:u.jsxs("div",{className:"login-modal__panel",children:[u.jsx(sT,{ref:f,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&u.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function oT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oT(e))&&(r&&(r+=" "),r+=t);return r}var Hg={},Fg={},mN;function e8(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Fg)),Fg}var Kg={},pN;function lT(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Kg)),Kg}var Gg={},gN;function cT(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Gg)),Gg}var Yg={},vN;function hb(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,l="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const h=n[o];d?h==="\\"&&o+1<i?(o++,l+=n[o]):h===d?d="":l+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,r.push(l),l=""):l+=h:h==="["?(f=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,o++}return l&&r.push(l),r}e.toPath=t})(Yg)),Yg}var yN;function mb(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e8(),n=lT(),r=cT(),i=hb();function o(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?o(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=o})(Hg)),Hg}var Vg,bN;function t8(){return bN||(bN=1,Vg=mb().get),Vg}var n8=t8();const Ls=Qr(n8);var Wg={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function r8(){if(xN)return ht;xN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var j=S.$$typeof;switch(j){case e:switch(S=S.type,S){case n:case i:case r:case f:case h:case v:return S;default:switch(S=S&&S.$$typeof,S){case l:case d:case g:case p:return S;case o:return S;default:return j}}case t:return j}}}return ht.ContextConsumer=o,ht.ContextProvider=l,ht.Element=e,ht.ForwardRef=d,ht.Fragment=n,ht.Lazy=g,ht.Memo=p,ht.Portal=t,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=f,ht.SuspenseList=h,ht.isContextConsumer=function(S){return w(S)===o},ht.isContextProvider=function(S){return w(S)===l},ht.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},ht.isForwardRef=function(S){return w(S)===d},ht.isFragment=function(S){return w(S)===n},ht.isLazy=function(S){return w(S)===g},ht.isMemo=function(S){return w(S)===p},ht.isPortal=function(S){return w(S)===t},ht.isProfiler=function(S){return w(S)===i},ht.isStrictMode=function(S){return w(S)===r},ht.isSuspense=function(S){return w(S)===f},ht.isSuspenseList=function(S){return w(S)===h},ht.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===o||S.$$typeof===d||S.$$typeof===_||S.getModuleId!==void 0)},ht.typeOf=w,ht}var _N;function a8(){return _N||(_N=1,Wg.exports=r8()),Wg.exports}var i8=a8(),hn=e=>e===0?0:e>0?1:-1,hr=e=>typeof e=="number"&&e!=+e,Os=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!hr(e),ha=e=>je(e)||typeof e=="string",s8=0,nu=e=>{var t=++s8;return"".concat(e||"").concat(t)},An=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return r;var o;if(Os(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return hr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},uT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function jn(e,t,n){return je(e)&&je(t)?e+n*(t-e):t}function o8(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ls(r,t))===n)}var mn=e=>e===null||typeof e>"u",xu=e=>mn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),l8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pb(e){if(typeof e!="string")return!1;var t=l8;return t.includes(e)}var c8=["viewBox","children"],wN=["points","pathLength"],Xg={svg:c8,polygon:wN,polyline:wN},u8=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{pb(i)&&(r[i]=(o=>n[i](n,o)))}),r},d8=(e,t,n)=>r=>(e(t,n,r),null),_u=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];pb(i)&&typeof o=="function"&&(r||(r={}),r[i]=d8(o,t,n))}),r},f8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dT(e){if(typeof e!="string")return!1;var t=f8;return t.includes(e)}function Hi(e){var t=Object.entries(e).filter(n=>{var[r]=n;return dT(r)});return Object.fromEntries(t)}var SN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jN=null,Qg=null,fT=e=>{if(e===jN&&Array.isArray(Qg))return Qg;var t=[];return b.Children.forEach(e,n=>{mn(n)||(i8.isFragment(n)?t=t.concat(fT(n.props.children)):t.push(n))}),Qg=t,jN=e,t};function gb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>SN(i)):r=[SN(t)],fT(e).forEach(i=>{var o=Ls(i,"type.displayName")||Ls(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var h8=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(Xg==null?void 0:Xg[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&o.includes(t)||dT(t)),f=!!n&&pb(t);return l||d||f},rn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var l;h8((l=r)===null||l===void 0?void 0:l[o],o,t,n)&&(i[o]=r[o])}),i},m8=["children","width","height","viewBox","className","style","title","desc"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function p8(e,t){if(e==null)return{};var n,r,i=g8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vb=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:d,title:f,desc:h}=e,p=p8(e,m8),g=o||{width:r,height:i,x:0,y:0},v=ct("recharts-surface",l);return b.createElement("svg",Gy({},rn(p,!0,"svg"),{className:v,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),b.createElement("title",null,f),b.createElement("desc",null,h),n)}),v8=["children","className"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function y8(e,t){if(e==null)return{};var n,r,i=b8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=y8(e,v8),o=ct("recharts-layer",r);return b.createElement("g",Yy({className:o},rn(i,!0),{ref:t}),n)}),hT=b.createContext(null),x8=()=>b.useContext(hT);function xt(e){return function(){return e}}const mT=Math.cos,qf=Math.sin,Zr=Math.sqrt,Hf=Math.PI,Mh=2*Hf,Vy=Math.PI,Wy=2*Vy,vs=1e-6,_8=Wy-vs;function pT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function w8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pT;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class S8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pT:w8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,d=this._y1,f=r-t,h=i-n,p=l-t,g=d-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>vs)if(!(Math.abs(g*f-h*p)>vs)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,w=i-d,S=f*f+h*h,j=_*_+w*w,N=Math.sqrt(S),E=Math.sqrt(v),C=o*Math.tan((Vy-Math.acos((S+v-j)/(2*N*E)))/2),A=C/E,T=C/N;Math.abs(A-1)>vs&&this._append`L${t+A*p},${n+A*g}`,this._append`A${o},${o},0,0,${+(g*_>p*w)},${this._x1=t+T*f},${this._y1=n+T*h}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=t+d,p=n+f,g=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>vs||Math.abs(this._y1-p)>vs)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%Wy+Wy),v>_8?this._append`A${r},${r},0,1,${g},${t-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:v>vs&&this._append`A${r},${r},0,${+(v>=Vy)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function yb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new S8(t)}function bb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gT(e){this._context=e}gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ph(e){return new gT(e)}function vT(e){return e[0]}function yT(e){return e[1]}function bT(e,t){var n=xt(!0),r=null,i=Ph,o=null,l=yb(d);e=typeof e=="function"?e:e===void 0?vT:xt(e),t=typeof t=="function"?t:t===void 0?yT:xt(t);function d(f){var h,p=(f=bb(f)).length,g,v=!1,_;for(r==null&&(o=i(_=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(g,h,f),+t(g,h,f));if(_)return o=null,_+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:xt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:xt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),d):r},d}function rf(e,t,n){var r=null,i=xt(!0),o=null,l=Ph,d=null,f=yb(h);e=typeof e=="function"?e:e===void 0?vT:xt(+e),t=typeof t=="function"?t:xt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?yT:xt(+n);function h(g){var v,_,w,S=(g=bb(g)).length,j,N=!1,E,C=new Array(S),A=new Array(S);for(o==null&&(d=l(E=f())),v=0;v<=S;++v){if(!(v<S&&i(j=g[v],v,g))===N)if(N=!N)_=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=v-1;w>=_;--w)d.point(C[w],A[w]);d.lineEnd(),d.areaEnd()}N&&(C[v]=+e(j,v,g),A[v]=+t(j,v,g),d.point(r?+r(j,v,g):C[v],n?+n(j,v,g):A[v]))}if(E)return d=null,E+""||null}function p(){return bT().defined(i).curve(l).context(o)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:xt(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:xt(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:xt(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:xt(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:xt(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:xt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:xt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,o!=null&&(d=l(o)),h):l},h.context=function(g){return arguments.length?(g==null?o=d=null:d=l(o=g),h):o},h}class xT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function j8(e){return new xT(e,!0)}function N8(e){return new xT(e,!1)}const xb={draw(e,t){const n=Zr(t/Hf);e.moveTo(n,0),e.arc(0,0,n,0,Mh)}},E8={draw(e,t){const n=Zr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_T=Zr(1/3),O8=_T*2,C8={draw(e,t){const n=Zr(t/O8),r=n*_T;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},A8={draw(e,t){const n=Zr(t),r=-n/2;e.rect(r,r,n,n)}},T8=.8908130915292852,wT=qf(Hf/10)/qf(7*Hf/10),k8=qf(Mh/10)*wT,M8=-mT(Mh/10)*wT,P8={draw(e,t){const n=Zr(t*T8),r=k8*n,i=M8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Mh*o/5,d=mT(l),f=qf(l);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*i,f*r+d*i)}e.closePath()}},Jg=Zr(3),R8={draw(e,t){const n=-Zr(t/(Jg*3));e.moveTo(0,n*2),e.lineTo(-Jg*n,-n),e.lineTo(Jg*n,-n),e.closePath()}},Or=-.5,Cr=Zr(3)/2,Xy=1/Zr(12),D8=(Xy/2+1)*3,L8={draw(e,t){const n=Zr(t/D8),r=n/2,i=n*Xy,o=r,l=n*Xy+n,d=-o,f=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(d,f),e.lineTo(Or*r-Cr*i,Cr*r+Or*i),e.lineTo(Or*o-Cr*l,Cr*o+Or*l),e.lineTo(Or*d-Cr*f,Cr*d+Or*f),e.lineTo(Or*r+Cr*i,Or*i-Cr*r),e.lineTo(Or*o+Cr*l,Or*l-Cr*o),e.lineTo(Or*d+Cr*f,Or*f-Cr*d),e.closePath()}};function I8(e,t){let n=null,r=yb(i);e=typeof e=="function"?e:xt(e||xb),t=typeof t=="function"?t:xt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:xt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:xt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ff(){}function Kf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U8(e){return new ST(e)}function jT(e){this._context=e}jT.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z8(e){return new jT(e)}function NT(e){this._context=e}NT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Kf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $8(e){return new NT(e)}function ET(e){this._context=e}ET.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B8(e){return new ET(e)}function NN(e){return e<0?-1:1}function EN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),d=(o*i+l*r)/(r+i);return(NN(o)+NN(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(d))||0}function ON(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Zg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,i+d*t,o-d,l-d*n,o,l)}function Gf(e){this._context=e}Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zg(this,this._t0,ON(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zg(this,ON(this,n=EN(this,e,t)),n);break;default:Zg(this,this._t0,n=EN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function OT(e){this._context=new CT(e)}(OT.prototype=Object.create(Gf.prototype)).point=function(e,t){Gf.prototype.point.call(this,t,e)};function CT(e){this._context=e}CT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function q8(e){return new Gf(e)}function H8(e){return new OT(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=CN(e),i=CN(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function CN(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function F8(e){return new AT(e)}function Rh(e,t){this._context=e,this._t=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function K8(e){return new Rh(e,.5)}function G8(e){return new Rh(e,0)}function Y8(e){return new Rh(e,1)}function ol(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,d=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function V8(e,t){return e[t]}function W8(e){const t=[];return t.key=e,t}function X8(){var e=xt([]),t=Qy,n=ol,r=V8;function i(o){var l=Array.from(e.apply(this,arguments),W8),d,f=l.length,h=-1,p;for(const g of o)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,o)]).data=g;for(d=0,p=bb(t(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:xt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:xt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Qy:typeof o=="function"?o:xt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ol,i):n},i}function Q8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ol(e,t)}}function J8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,d=0;l<i;++l)d+=e[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}ol(e,t)}}function Z8(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[r][1]||0,v=p[r-1][1]||0,_=(g-v)/2,w=0;w<d;++w){var S=e[t[w]],j=S[r][1]||0,N=S[r-1][1]||0;_+=j-N}f+=g,h+=_*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ol(e,t)}}var eB=["type","size","sizeType"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){tB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tB(e,t,n){return(t=nB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t){if(e==null)return{};var n,r,i=iB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TT={symbolCircle:xb,symbolCross:E8,symbolDiamond:C8,symbolSquare:A8,symbolStar:P8,symbolTriangle:R8,symbolWye:L8},sB=Math.PI/180,oB=e=>{var t="symbol".concat(xu(e));return TT[t]||xb},lB=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*sB;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cB=(e,t)=>{TT["symbol".concat(xu(e))]=t},_b=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=aB(e,eB),o=TN(TN({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var v=oB(l),_=I8().type(v).size(lB(n,r,l));return _()},{className:f,cx:h,cy:p}=o,g=rn(o,!0);return h===+h&&p===+p&&n===+n?b.createElement("path",Jy({},g,{className:ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};_b.registerSymbol=cB;function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(n),!0).forEach(function(r){wb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wb(e,t,n){return(t=dB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dB(e){var t=fB(e,"string");return typeof t=="symbol"?t:t+""}function fB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ar=32;class Sb extends b.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Ar/2,o=Ar/6,l=Ar/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Ar,y2:i,className:"recharts-legend-icon"});if(f==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ar,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return b.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ar/8,"h").concat(Ar,"v").concat(Ar*3/4,"h").concat(-Ar,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var h=uB({},t);return delete h.legendIcon,b.cloneElement(t.legendIcon,h)}return b.createElement(_b,{fill:d,cx:i,cy:i,size:Ar,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,d={x:0,y:0,width:Ar,height:Ar},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,_=ct({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?o:p.color,S=v?v(p.value,p,g):p.value;return b.createElement("li",Zy({className:_,style:f,key:"legend-item-".concat(g)},_u(this.props,p,g)),b.createElement(vb,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(S," legend icon")},this.renderIcon(p,l)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}wb(Sb,"displayName","Legend");wb(Sb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ev={},tv={},MN;function hB(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],d=r(l);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t})(tv)),tv}var nv={},PN;function kT(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(nv)),nv}var rv={},av={},iv={},RN;function mB(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(iv)),iv}var DN;function jb(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mB();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(av)),av}var sv={},LN;function pB(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(sv)),sv}var IN;function gB(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jb(),n=pB();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(rv)),rv}var ov={},lv={},UN;function vB(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(lv)),lv}var cv={},uv={},dv={},fv={},zN;function MT(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(fv)),fv}var hv={},$N;function PT(){return $N||($N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(hv)),hv}var mv={},BN;function RT(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(mv)),mv}var qN;function yB(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb(),n=MT(),r=PT(),i=RT();function o(g,v,_){return typeof _!="function"?t.isMatch(g,v):l(g,v,function w(S,j,N,E,C,A){const T=_(S,j,N,E,C,A);return T!==void 0?!!T:l(S,j,w,A)},new Map)}function l(g,v,_,w){if(v===g)return!0;switch(typeof v){case"object":return d(g,v,_,w);case"function":return Object.keys(v).length>0?l(g,{...v},_,w):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function d(g,v,_,w){if(v==null)return!0;if(Array.isArray(v))return h(g,v,_,w);if(v instanceof Map)return f(g,v,_,w);if(v instanceof Set)return p(g,v,_,w);const S=Object.keys(v);if(g==null)return S.length===0;if(S.length===0)return!0;if(w&&w.has(v))return w.get(v)===g;w&&w.set(v,g);try{for(let j=0;j<S.length;j++){const N=S[j];if(!r.isPrimitive(g)&&!(N in g)||v[N]===void 0&&g[N]!==void 0||v[N]===null&&g[N]!==null||!_(g[N],v[N],N,g,v,w))return!1}return!0}finally{w&&w.delete(v)}}function f(g,v,_,w){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,j]of v.entries()){const N=g.get(S);if(_(N,j,S,g,v,w)===!1)return!1}return!0}function h(g,v,_,w){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let j=0;j<v.length;j++){const N=v[j];let E=!1;for(let C=0;C<g.length;C++){if(S.has(C))continue;const A=g[C];let T=!1;if(_(A,N,j,g,v,w)&&(T=!0),T){S.add(C),E=!0;break}}if(!E)return!1}return!0}function p(g,v,_,w){return v.size===0?!0:g instanceof Set?h([...g],[...v],_,w):!1}e.isMatchWith=o,e.isSetMatch=p})(dv)),dv}var HN;function Nb(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yB();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(uv)),uv}var pv={},gv={},vv={},FN;function bB(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(vv)),vv}var yv={},KN;function DT(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(yv)),yv}var bv={},GN;function LT(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",_="[object Object]",w="[object Error]",S="[object DataView]",j="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]",A="[object BigUint64Array]",T="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",D="[object BigInt64Array]",q="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=A,e.booleanTag=i,e.dataViewTag=S,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=z,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=P,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=C,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=N})(bv)),bv}var xv={},YN;function xB(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(xv)),xv}var VN;function IT(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bB(),n=DT(),r=LT(),i=PT(),o=xB();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,_=new Map,w=void 0){const S=w==null?void 0:w(p,g,v,_);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(_.has(p))return _.get(p);if(Array.isArray(p)){const j=new Array(p.length);_.set(p,j);for(let N=0;N<p.length;N++)j[N]=d(p[N],N,v,_,w);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;_.set(p,j);for(const[N,E]of p)j.set(N,d(E,N,v,_,w));return j}if(p instanceof Set){const j=new Set;_.set(p,j);for(const N of p)j.add(d(N,void 0,v,_,w));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);_.set(p,j);for(let N=0;N<p.length;N++)j[N]=d(p[N],N,v,_,w);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return _.set(p,j),f(j,p,v,_,w),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return _.set(p,j),f(j,p,v,_,w),j}if(p instanceof Blob){const j=new Blob([p],{type:p.type});return _.set(p,j),f(j,p,v,_,w),j}if(p instanceof Error){const j=new p.constructor;return _.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,v,_,w),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return _.set(p,j),f(j,p,v,_,w),j}return p}function f(p,g,v=p,_,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<S.length;j++){const N=S[j],E=Object.getOwnPropertyDescriptor(p,N);(E==null||E.writable)&&(p[N]=d(g[N],N,v,_,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(gv)),gv}var WN;function _B(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(pv)),pv}var XN;function wB(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb(),n=_B();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(cv)),cv}var _v={},wv={},Sv={},QN;function SB(){return QN||(QN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),n=LT();function r(i,o){return t.cloneDeepWith(i,(l,d,f,h)=>{const p=o==null?void 0:o(l,d,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Sv)),Sv}var JN;function jB(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SB();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(wv)),wv}var jv={},Nv={},ZN;function UT(){return ZN||(ZN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Nv)),Nv}var Ev={},eE;function NB(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ev)),Ev}var tE;function EB(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lT(),n=UT(),r=NB(),i=hb();function o(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=o})(jv)),jv}var nE;function OB(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb(),n=cT(),r=jB(),i=mb(),o=EB();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?o.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(_v)),_v}var rE;function CB(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),n=vB(),r=wB(),i=OB();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(ov)),ov}var aE;function AB(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hB(),n=kT(),r=gB(),i=CB();function o(l,d=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(d)):[]}e.uniqBy=o})(ev)),ev}var Ov,iE;function TB(){return iE||(iE=1,Ov=AB().uniqBy),Ov}var kB=TB();const sE=Qr(kB);function zT(e,t,n){return t===!0?sE(e,n):typeof t=="function"?sE(e,t):e}var Cv={exports:{}},Av={},Tv={exports:{}},kv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function MB(){if(oE)return kv;oE=1;var e=yl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function d(g,v){var _=v(),w=r({inst:{value:_,getSnapshot:v}}),S=w[0].inst,j=w[1];return o(function(){S.value=_,S.getSnapshot=v,f(S)&&j({inst:S})},[g,_,v]),i(function(){return f(S)&&j({inst:S}),g(function(){f(S)&&j({inst:S})})},[g]),l(_),_}function f(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!n(g,_)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return kv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,kv}var lE;function PB(){return lE||(lE=1,Tv.exports=MB()),Tv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function RB(){if(cE)return Av;cE=1;var e=yl(),t=PB();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Av.useSyncExternalStoreWithSelector=function(h,p,g,v,_){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=d(function(){function N(M){if(!E){if(E=!0,C=M,M=v(M),_!==void 0&&S.hasValue){var P=S.value;if(_(P,M))return A=P}return A=M}if(P=A,r(C,M))return P;var D=v(M);return _!==void 0&&_(P,D)?(C=M,P):(C=M,A=D)}var E=!1,C,A,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,v,_]);var j=i(h,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=j},[j]),f(j),j},Av}var uE;function DB(){return uE||(uE=1,Cv.exports=RB()),Cv.exports}var LB=DB(),Eb=b.createContext(null),IB=e=>e,Dt=()=>{var e=b.useContext(Eb);return e?e.store.dispatch:IB},Af=()=>{},UB=()=>Af,zB=(e,t)=>e===t;function we(e){var t=b.useContext(Eb);return LB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:UB,t?t.store.getState:Af,t?t.store.getState:Af,t?e:Af,zB)}function $B(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function BB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function qB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var dE=e=>Array.isArray(e)?e:[e];function HB(e){const t=Array.isArray(e[0])?e[0]:e;return qB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FB(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var KB=class{constructor(e){this.value=e}deref(){return this.value}},GB=typeof WeakRef<"u"?WeakRef:KB,YB=0,fE=1;function af(){return{s:YB,v:void 0,o:null,p:null}}function $T(e,t={}){let n=af();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let d=n;const{length:f}=arguments;for(let v=0,_=f;v<_;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=d.o;S===null&&(d.o=S=new WeakMap);const j=S.get(w);j===void 0?(d=af(),S.set(w,d)):d=j}else{let S=d.p;S===null&&(d.p=S=new Map);const j=S.get(w);j===void 0?(d=af(),S.set(w,d)):d=j}}const h=d;let p;if(d.s===fE)p=d.v;else if(p=e.apply(null,arguments),o++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new GB(p):p}return h.s=fE,h.v=p,p}return l.clearCache=()=>{n=af(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function VB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),$B(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:_=$T,argsMemoizeOptions:w=[]}=p,S=dE(v),j=dE(w),N=HB(i),E=g(function(){return o++,h.apply(null,arguments)},...S),C=_(function(){l++;const T=FB(N,arguments);return d=E.apply(null,T),d},...j);return Object.assign(C,{resultFunc:h,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var ee=VB($T),WB=Object.assign((e,t=ee)=>{BB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>WB}),Mv={},Pv={},Rv={},hE;function XB(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),d=t(i);if(l===d&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?d-l:l-d}return 0};e.compareValues=n})(Rv)),Rv}var Dv={},Lv={},mE;function BT(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Lv)),Lv}var pE;function QB(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Dv)),Dv}var gE;function JB(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XB(),n=QB(),r=hb();function i(o,l,d,f){if(o==null)return[];d=f?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(_=>String(_));const h=(_,w)=>{let S=_;for(let j=0;j<w.length&&S!=null;++j)S=S[w[j]];return S},p=(_,w)=>w==null||_==null?w:typeof _=="object"&&"key"in _?Object.hasOwn(w,_.key)?w[_.key]:h(w,_.path):typeof _=="function"?_(w):Array.isArray(_)?h(w,_):typeof w=="object"?w[_]:w,g=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return o.map(_=>({original:_,criteria:g.map(w=>p(w,_))})).slice().sort((_,w)=>{for(let S=0;S<g.length;S++){const j=t.compareValues(_.criteria[S],w.criteria[S],d[S]);if(j!==0)return j}return 0}).map(_=>_.original)}e.orderBy=i})(Pv)),Pv}var Iv={},vE;function ZB(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<o?l(p,f+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Iv)),Iv}var Uv={},yE;function qT(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),n=jb(),r=MT(),i=RT();function o(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],l):!1}e.isIterateeCall=o})(Uv)),Uv}var bE;function eq(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JB(),n=ZB(),r=qT();function i(o,...l){const d=l.length;return d>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Mv)),Mv}var zv,xE;function tq(){return xE||(xE=1,zv=eq().sortBy),zv}var nq=tq();const Dh=Qr(nq);var HT=e=>e.legend.settings,rq=e=>e.legend.size,aq=e=>e.legend.payload,iq=ee([aq,HT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Dh(r,n):r});function sq(){return we(iq)}var sf=1;function FT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>sf||Math.abs(l.left-t.left)>sf||Math.abs(l.top-t.top)>sf||Math.abs(l.width-t.width)>sf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oq=typeof Symbol=="function"&&Symbol.observable||"@@observable",_E=oq,$v=()=>Math.random().toString(36).substring(7).split("").join("."),lq={INIT:`@@redux/INIT${$v()}`,REPLACE:`@@redux/REPLACE${$v()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$v()}`},Yf=lq;function Ob(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function KT(e,t,n){if(typeof e!="function")throw new Error(wn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wn(1));return n(KT)(e,t)}let r=e,i=t,o=new Map,l=o,d=0,f=!1;function h(){l===o&&(l=new Map,o.forEach((j,N)=>{l.set(N,j)}))}function p(){if(f)throw new Error(wn(3));return i}function g(j){if(typeof j!="function")throw new Error(wn(4));if(f)throw new Error(wn(5));let N=!0;h();const E=d++;return l.set(E,j),function(){if(N){if(f)throw new Error(wn(6));N=!1,h(),l.delete(E),o=null}}}function v(j){if(!Ob(j))throw new Error(wn(7));if(typeof j.type>"u")throw new Error(wn(8));if(typeof j.type!="string")throw new Error(wn(17));if(f)throw new Error(wn(9));try{f=!0,i=r(i,j)}finally{f=!1}return(o=l).forEach(E=>{E()}),j}function _(j){if(typeof j!="function")throw new Error(wn(10));r=j,v({type:Yf.REPLACE})}function w(){const j=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(wn(11));function E(){const A=N;A.next&&A.next(p())}return E(),{unsubscribe:j(E)}},[_E](){return this}}}return v({type:Yf.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:_,[_E]:w}}function cq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yf.INIT})>"u")throw new Error(wn(12));if(typeof n(void 0,{type:Yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wn(13))})}function GT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{cq(n)}catch(o){i=o}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],_=l[g],w=v(_,d);if(typeof w>"u")throw d&&d.type,new Error(wn(14));h[g]=w,f=f||w!==_}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Vf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uq(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(wn(15))};const l={getState:i.getState,dispatch:(f,...h)=>o(f,...h)},d=e.map(f=>f(l));return o=Vf(...d)(i.dispatch),{...i,dispatch:o}}}function YT(e){return Ob(e)&&"type"in e&&typeof e.type=="string"}var VT=Symbol.for("immer-nothing"),wE=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Yr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ll=Object.getPrototypeOf;function Is(e){return!!e&&!!e[mr]}function Ga(e){var t;return e?WT(e)||Array.isArray(e)||!!e[wE]||!!((t=e.constructor)!=null&&t[wE])||wu(e)||Ih(e):!1}var dq=Object.prototype.constructor.toString();function WT(e){if(!e||typeof e!="object")return!1;const t=ll(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dq}function Wf(e,t){Lh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Lh(e){const t=e[mr];return t?t.type_:Array.isArray(e)?1:wu(e)?2:Ih(e)?3:0}function e0(e,t){return Lh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XT(e,t,n){const r=Lh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function fq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wu(e){return e instanceof Map}function Ih(e){return e instanceof Set}function ys(e){return e.copy_||e.base_}function t0(e,t){if(wu(e))return new Map(e);if(Ih(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=WT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[mr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(ll(e),r)}else{const r=ll(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Cb(e,t=!1){return Uh(e)||Is(e)||!Ga(e)||(Lh(e)>1&&Object.defineProperties(e,{set:{value:of},add:{value:of},clear:{value:of},delete:{value:of}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Cb(n,!0))),e}function of(){Yr(2)}function Uh(e){return Object.isFrozen(e)}var hq={};function Us(e){const t=hq[e];return t||Yr(0,e),t}var ru;function QT(){return ru}function mq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SE(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function n0(e){r0(e),e.drafts_.forEach(pq),e.drafts_=null}function r0(e){e===ru&&(ru=e.parent_)}function jE(e){return ru=mq(ru,e)}function pq(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[mr].modified_&&(n0(t),Yr(4)),Ga(e)&&(e=Xf(t,e),t.parent_||Qf(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(n[mr].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,n,[]),n0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VT?e:void 0}function Xf(e,t,n){if(Uh(t))return t;const r=t[mr];if(!r)return Wf(t,(i,o)=>EE(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Qf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),Wf(o,(d,f)=>EE(e,r,i,d,f,n,l)),Qf(e,i,!1),n&&e.patches_&&Us("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function EE(e,t,n,r,i,o,l){if(Is(i)){const d=o&&t&&t.type_!==3&&!e0(t.assigned_,r)?o.concat(r):void 0,f=Xf(e,i,d);if(XT(n,r,f),Is(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ga(i)&&!Uh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(wu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Qf(e,i)}}function Qf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cb(t,n)}function gq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:QT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ab;n&&(i=[r],o=au);const{revoke:l,proxy:d}=Proxy.revocable(i,o);return r.draft_=d,r.revoke_=l,d}var Ab={get(e,t){if(t===mr)return e;const n=ys(e);if(!e0(n,t))return vq(e,n,t);const r=n[t];return e.finalized_||!Ga(r)?r:r===Bv(e.base_,t)?(qv(e),e.copy_[t]=i0(r,e)):r},has(e,t){return t in ys(e)},ownKeys(e){return Reflect.ownKeys(ys(e))},set(e,t,n){const r=JT(ys(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Bv(ys(e),t),o=i==null?void 0:i[mr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fq(n,i)&&(n!==void 0||e0(e.base_,t)))return!0;qv(e),a0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qv(e),a0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Yr(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){Yr(12)}},au={};Wf(Ab,(e,t)=>{au[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});au.deleteProperty=function(e,t){return au.set.call(this,e,t,void 0)};au.set=function(e,t,n){return Ab.set.call(this,e[0],t,n,e[0])};function Bv(e,t){const n=e[mr];return(n?ys(n):e)[t]}function vq(e,t,n){var i;const r=JT(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function JT(e,t){if(!(t in e))return;let n=ll(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ll(n)}}function a0(e){e.modified_||(e.modified_=!0,e.parent_&&a0(e.parent_))}function qv(e){e.copy_||(e.copy_=t0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(f=o,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Yr(6),r!==void 0&&typeof r!="function"&&Yr(7);let i;if(Ga(t)){const o=jE(this),l=i0(t,void 0);let d=!0;try{i=n(l),d=!1}finally{d?n0(o):r0(o)}return SE(o,r),NE(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===VT&&(i=void 0),this.autoFreeze_&&Cb(i,!0),r){const o=[],l=[];Us("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Yr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let r,i;return[this.produce(t,n,(l,d)=>{r=l,i=d}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Yr(8),Is(e)&&(e=qa(e));const t=jE(this),n=i0(e,void 0);return n[mr].isManual_=!0,r0(t),n}finishDraft(e,t){const n=e&&e[mr];(!n||!n.isManual_)&&Yr(9);const{scope_:r}=n;return SE(r,t),NE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Us("Patches").applyPatches_;return Is(e)?r(e,t):this.produce(e,i=>r(i,t))}};function i0(e,t){const n=wu(e)?Us("MapSet").proxyMap_(e,t):Ih(e)?Us("MapSet").proxySet_(e,t):gq(e,t);return(t?t.scope_:QT()).drafts_.push(n),n}function qa(e){return Is(e)||Yr(10,e),ZT(e)}function ZT(e){if(!Ga(e)||Uh(e))return e;const t=e[mr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=t0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=t0(e,!0);return Wf(n,(r,i)=>{XT(n,r,ZT(i))}),t&&(t.finalized_=!1),n}var bq=new yq,ek=bq.produce;function tk(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var xq=tk(),_q=tk,wq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vf:Vf.apply(null,arguments)};function Pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(fr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>YT(r)&&r.type===e,n}var nk=class zc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zc.prototype)}static get[Symbol.species](){return zc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zc(...t[0].concat(this)):new zc(...t.concat(this))}};function OE(e){return Ga(e)?ek(e,()=>{}):e}function lf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Sq(e){return typeof e=="boolean"}var jq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new nk;return n&&(Sq(n)?l.push(xq):l.push(_q(n.extraArgument))),l},Nq="RTK_autoBatch",CE=e=>t=>{setTimeout(t,e)},Eq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CE(10):e.type==="callback"?e.queueNotification:CE(e.timeout),h=()=>{l=!1,o&&(o=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[Nq]),o=!i,o&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},Oq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new nk(e);return r&&i.push(Eq(typeof r=="object"?r:void 0)),i};function Cq(e){const t=jq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Ob(n))d=GT(n);else throw new Error(fr(1));let f;typeof r=="function"?f=r(t):f=t();let h=Vf;i&&(h=wq({trace:!1,...typeof i=="object"&&i}));const p=uq(...f),g=Oq(p);let v=typeof l=="function"?l(g):g();const _=h(...v);return KT(d,o,_)}function rk(e){const t={},n=[];let r;const i={addCase(o,l){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(fr(28));if(d in t)throw new Error(fr(29));return t[d]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Aq(e){return typeof e=="function"}function Tq(e,t){let[n,r,i]=rk(t),o;if(Aq(e))o=()=>OE(e());else{const d=OE(e);o=()=>d}function l(d=o(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Is(p)){const _=g(p,f);return _===void 0?p:_}else{if(Ga(p))return ek(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return l.getInitialState=o,l}var kq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Mq=(e=21)=>{let t="",n=e;for(;n--;)t+=kq[Math.random()*64|0];return t},Pq=Symbol.for("rtk-slice-createasyncthunk");function Rq(e,t){return`${e}/${t}`}function Dq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Pq];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(fr(11));const d=(typeof i.reducers=="function"?i.reducers(Iq()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(A,T){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(fr(12));if(M in h.sliceCaseReducersByType)throw new Error(fr(13));return h.sliceCaseReducersByType[M]=T,p},addMatcher(A,T){return h.sliceMatchers.push({matcher:A,reducer:T}),p},exposeAction(A,T){return h.actionCreators[A]=T,p},exposeCaseReducer(A,T){return h.sliceCaseReducersByName[A]=T,p}};f.forEach(A=>{const T=d[A],M={reducerName:A,type:Rq(o,A),createNotation:typeof i.reducers=="function"};zq(T)?Bq(M,T,p,t):Uq(M,T,p)});function g(){const[A={},T=[],M=void 0]=typeof i.extraReducers=="function"?rk(i.extraReducers):[i.extraReducers],P={...A,...h.sliceCaseReducersByType};return Tq(i.initialState,D=>{for(let q in P)D.addCase(q,P[q]);for(let q of h.sliceMatchers)D.addMatcher(q.matcher,q.reducer);for(let q of T)D.addMatcher(q.matcher,q.reducer);M&&D.addDefaultCase(M)})}const v=A=>A,_=new Map,w=new WeakMap;let S;function j(A,T){return S||(S=g()),S(A,T)}function N(){return S||(S=g()),S.getInitialState()}function E(A,T=!1){function M(D){let q=D[A];return typeof q>"u"&&T&&(q=lf(w,M,N)),q}function P(D=v){const q=lf(_,T,()=>new WeakMap);return lf(q,D,()=>{const z={};for(const[F,H]of Object.entries(i.selectors??{}))z[F]=Lq(H,D,()=>lf(w,D,N),T);return z})}return{reducerPath:A,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const C={name:o,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...E(l),injectInto(A,{reducerPath:T,...M}={}){const P=T??l;return A.inject({reducerPath:P,reducer:j},M),{...C,...E(P,!0)}}};return C}}function Lq(e,t,n,r){function i(o,...l){let d=t(o);return typeof d>"u"&&r&&(d=n()),e(d,...l)}return i.unwrapped=e,i}var gr=Dq();function Iq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Uq({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!$q(r))throw new Error(fr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?Pr(e,l):Pr(e))}function zq(e){return e._reducerDefinitionType==="asyncThunk"}function $q(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Bq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:o,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=i(e,o,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||cf,pending:d||cf,rejected:f||cf,settled:h||cf})}function cf(){}var qq="task",ak="listener",ik="completed",Tb="cancelled",Hq=`task-${Tb}`,Fq=`task-${ik}`,s0=`${ak}-${Tb}`,Kq=`${ak}-${ik}`,zh=class{constructor(e){Sg(this,"name","TaskAbortError");Sg(this,"message");this.code=e,this.message=`${qq} ${Tb} (reason: ${e})`}},kb=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},Jf=()=>{},sk=(e,t=Jf)=>(e.catch(t),e),ok=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ms=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ps=e=>{if(e.aborted){const{reason:t}=e;throw new zh(t)}};function lk(e,t){let n=Jf;return new Promise((r,i)=>{const o=()=>i(new zh(e.reason));if(e.aborted){o();return}n=ok(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Jf})}var Gq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof zh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Zf=e=>t=>sk(lk(e,t).then(n=>(Ps(e),n))),ck=e=>{const t=Zf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:al}=Object,AE={},$h="listenerMiddleware",Yq=(e,t)=>{const n=r=>ok(e,()=>Ms(r,e.reason));return(r,i)=>{kb(r);const o=new AbortController;n(o);const l=Gq(async()=>{Ps(e),Ps(o.signal);const d=await r({pause:Zf(o.signal),delay:ck(o.signal),signal:o.signal});return Ps(o.signal),d},()=>Ms(o,Fq));return i!=null&&i.autoJoin&&t.push(l.catch(Jf)),{result:Zf(e)(l),cancel(){Ms(o,Hq)}}}},Vq=(e,t)=>{const n=async(r,i)=>{Ps(t);let o=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});o=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await lk(t,Promise.race(d));return Ps(t),f}finally{o()}};return(r,i)=>sk(n(r,i))},uk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return kb(o),{predicate:i,type:t,effect:o}},dk=al(e=>{const{type:t,predicate:n,effect:r}=uk(e);return{id:Mq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>dk}),TE=(e,t)=>{const{type:n,effect:r,predicate:i}=uk(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},o0=e=>{e.pending.forEach(t=>{Ms(t,s0)})},Wq=e=>()=>{e.forEach(o0),e.clear()},kE=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},fk=al(Pr(`${$h}/add`),{withTypes:()=>fk}),Xq=Pr(`${$h}/removeAll`),hk=al(Pr(`${$h}/remove`),{withTypes:()=>hk}),Qq=(...e)=>{console.error(`${$h}/error`,...e)},Su=(e={})=>{const t=new Map,{extra:n,onError:r=Qq}=e;kb(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&o0(p)}),o=p=>{const g=TE(t,p)??dk(p);return i(g)};al(o,{withTypes:()=>o});const l=p=>{const g=TE(t,p);return g&&(g.unsubscribe(),p.cancelActive&&o0(g)),!!g};al(l,{withTypes:()=>l});const d=async(p,g,v,_)=>{const w=new AbortController,S=Vq(o,w.signal),j=[];try{p.pending.add(w),await Promise.resolve(p.effect(g,al({},v,{getOriginalState:_,condition:(N,E)=>S(N,E).then(Boolean),take:S,delay:ck(w.signal),pause:Zf(w.signal),extra:n,signal:w.signal,fork:Yq(w.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,E,C)=>{N!==w&&(Ms(N,s0),C.delete(N))})},cancel:()=>{Ms(w,s0),p.pending.delete(w)},throwIfCancelled:()=>{Ps(w.signal)}})))}catch(N){N instanceof zh||kE(r,N,{raisedBy:"effect"})}finally{await Promise.all(j),Ms(w,Kq),p.pending.delete(w)}},f=Wq(t);return{middleware:p=>g=>v=>{if(!YT(v))return g(v);if(fk.match(v))return o(v.payload);if(Xq.match(v)){f();return}if(hk.match(v))return l(v.payload);let _=p.getState();const w=()=>{if(_===AE)throw new Error(fr(23));return _};let S;try{if(S=g(v),t.size>0){const j=p.getState(),N=Array.from(t.values());for(const E of N){let C=!1;try{C=E.predicate(v,j,_)}catch(A){C=!1,kE(r,A,{raisedBy:"predicate"})}C&&d(E,v,p,w)}}}finally{_=AE}return S},startListening:o,stopListening:l,clearListeners:f}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mk=gr({name:"chartLayout",initialState:Jq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Zq,setLayout:e7,setChartSize:t7,setScale:n7}=mk.actions,r7=mk.reducer;function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){a7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=Math.PI/180,o7=e=>e*180/Math.PI,Qt=(e,t,n,r)=>({x:e+Math.cos(-eh*r)*n,y:t+Math.sin(-eh*r)*n}),pk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},l7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},c7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=l7({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>o&&(f=2*Math.PI-f),{radius:l,angle:o7(f),angleInRadian:f}},u7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},d7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},f7=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=c7({x:n,y:r},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=u7(t),p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?PE(PE({},t),{},{radius:i,angle:d7(p,t)}):null};function gk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){h7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,n){return mn(e)||mn(t)?n:ha(t)?Ls(e,t,n):typeof t=="function"?t(e):n}var g7=(e,t,n,r,i)=>{var o,l=-1,d=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(hn(p-h)!==hn(g-p)){var _=[];if(hn(g-p)===hn(i[1]-i[0])){v=g;var w=p+i[1]-i[0];_[0]=Math.min(w,(w+h)/2),_[1]=Math.max(w,(w+h)/2)}else{v=h;var S=g+i[1]-i[0];_[0]=Math.min(p,(S+p)/2),_[1]=Math.max(p,(S+p)/2)}var j=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>j[0]&&e<=j[1]||e>=_[0]&&e<=_[1]){({index:l}=n[f]);break}}else{var N=Math.min(h,g),E=Math.max(h,g);if(e>(N+p)/2&&e<=(E+p)/2){({index:l}=n[f]);break}}}else if(t){for(var C=0;C<d;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:l}=t[C]);break}}return l},v7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&o!=="center"&&je(e[o]))return kr(kr({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&l!=="middle"&&je(e[l]))return kr(kr({},e),{},{[l]:e[l]+(i||0)})}return e},Fs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",vk=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var i,o,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===n&&(o=!0),d.coordinate));return i||l.push(t),o||l.push(n),l},yk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:_}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=_==="angleAxis"&&o&&o.length>=2?hn(o[0]-o[1])*2*S:S,g||v){var j=(g||v||[]).map((N,E)=>{var C=r?r.indexOf(N):N;return{coordinate:l(C)+S,value:N,offset:S,index:E}});return j.filter(N=>!hr(N.coordinate))}return f&&h?h.map((N,E)=>({coordinate:l(N)+S,value:N,index:E,offset:S})):l.ticks&&p!=null?l.ticks(p).map((N,E)=>({coordinate:l(N)+S,value:N,offset:S,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+S,value:r?r[N]:N,index:E,offset:S}))},DE=1e-4,y7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-DE,o=Math.max(r[0],r[1])+DE,l=e(t[0]),d=e(t[n-1]);(l<i||l>o||d<i||d>o)&&e.domain([t[0],t[n-1]])}},b7=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(i[0]=n),(!je(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},x7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var d=hr(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=i,e[l][n][1]=i+d,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+d,o=e[l][n][1])}},_7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=hr(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},w7={sign:x7,expand:Q8,none:ol,silhouette:J8,wiggle:Z8,positive:_7},S7=(e,t,n)=>{var r=w7[n],i=X8().keys(t).value((o,l)=>+Rt(o,l,0)).order(Qy).offset(r);return i(e)};function j7(e){return e==null?void 0:String(e)}var LE=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var d=Rt(o,t.dataKey,t.scale.domain()[l]);return mn(d)?null:t.scale(d)-i/2+r},N7=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},E7=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},O7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],C7=(e,t,n)=>{if(e!=null)return O7(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,d=l.reduce((f,h)=>{var p=gk(h,t,n),g=E7(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},IE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Dh(t,p=>p.coordinate),o=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function zE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return kr(kr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Bh(e,t){if(e)return String(e);if(typeof t=="string")return t}function A7(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?f7({x:e,y:t},r):null}var T7=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return kr(kr(kr({},r),Qt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,{angle:f}=r;return kr(kr(kr({},r),Qt(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},k7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Qa=e=>e.layout.width,Ja=e=>e.layout.height,M7=e=>e.layout.scale,bk=e=>e.layout.margin,qh=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hh=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xk="data-recharts-item-index",_k="data-recharts-item-data-key",ju=60;function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return(t=R7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R7(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function D7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L7=e=>e.brush.height;function I7(e){var t=Hh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ju;return n+i}return n},0)}function U7(e){var t=Hh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ju;return n+i}return n},0)}function z7(e){var t=qh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $7(e){var t=qh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var an=ee([Qa,Ja,bk,L7,I7,U7,z7,$7,HT,rq],(e,t,n,r,i,o,l,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},v=uf(uf({},g),p),_=v.bottom;v.bottom+=r,v=v7(v,f,h);var w=e-v.left-v.right,S=t-v.top-v.bottom;return uf(uf({brushBottom:_},v),{},{width:Math.max(w,0),height:Math.max(S,0)})}),B7=ee(an,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Pb=ee(Qa,Ja,(e,t)=>({x:0,y:0,width:e,height:t})),q7=b.createContext(null),Lr=()=>b.useContext(q7)!=null,Fh=e=>e.brush,Kh=ee([Fh,an,bk],(e,t,n)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:je(e.width)?e.width:t.width})),Rb=()=>{var e,t=Lr(),n=we(B7),r=we(Kh),i=(e=we(Fh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},H7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wk=()=>{var e;return(e=we(an))!==null&&e!==void 0?e:H7},Db=()=>we(Qa),Lb=()=>we(Ja),F7=()=>we(e=>e.layout.margin),nt=e=>e.layout.layoutType,Ib=()=>we(nt),K7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Sk=gr({name:"legend",initialState:K7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:BE,setLegendSettings:G7,addLegendPayload:jk,removeLegendPayload:Nk}=Sk.actions,Y7=Sk.reducer,V7=["contextPayload"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(null,arguments)}function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){Ub(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ub(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e,t){if(e==null)return{};var n,r,i=J7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Z7(e){return e.value}function e9(e){var{contextPayload:t}=e,n=Q7(e,V7),r=zT(t,e.payloadUniqBy,Z7),i=cl(cl({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(Sb,i)}function t9(e,t,n,r,i,o){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-o.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-o.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cl(cl({},h),p)}function n9(e){var t=Dt();return b.useEffect(()=>{t(G7(e))},[t,e]),null}function r9(e){var t=Dt();return b.useEffect(()=>(t(BE(e)),()=>{t(BE({width:0,height:0}))}),[t,e]),null}function a9(e){var t=sq(),n=x8(),r=F7(),{width:i,height:o,wrapperStyle:l,portal:d}=e,[f,h]=FT([t]),p=Db(),g=Lb();if(p==null||g==null)return null;var v=p-(r.left||0)-(r.right||0),_=iu.getWidthOrHeight(e.layout,o,i,v),w=d?l:cl(cl({position:"absolute",width:(_==null?void 0:_.width)||i||"auto",height:(_==null?void 0:_.height)||o||"auto"},t9(l,e,r,p,g,f)),l),S=d??n;if(S==null)return null;var j=b.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},b.createElement(n9,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),b.createElement(r9,{width:f.width,height:f.height}),b.createElement(e9,l0({},e,_,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return Y0.createPortal(j,S)}class iu extends b.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&je(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return b.createElement(a9,this.props)}}Ub(iu,"displayName","Legend");Ub(iu,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(null,arguments)}function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){i9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9(e,t,n){return(t=s9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l9(e){return Array.isArray(e)&&ha(e[0])&&ha(e[1])?e.join(" ~ "):e}var c9=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,_=()=>{if(o&&o.length){var T={padding:0,margin:0},M=(d?Dh(o,d):o).map((P,D)=>{if(P.type==="none")return null;var q=P.formatter||l||l9,{value:z,name:F}=P,H=z,ae=F;if(q){var $=q(z,F,P,D,o);if(Array.isArray($))[H,ae]=$;else if($!=null)H=$;else return null}var K=Hv({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},ha(ae)?b.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,ha(ae)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},H),b.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},w=Hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Hv({margin:0},i),j=!mn(p),N=j?p:"",E=ct("recharts-default-tooltip",f),C=ct("recharts-tooltip-label",h);j&&g&&o!==void 0&&o!==null&&(N=g(p,o));var A=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",c0({className:E,style:w},A),b.createElement("p",{className:C,style:S},b.isValidElement(N)?N:"".concat(N)),_())},Tc="recharts-tooltip-wrapper",u9={visibility:"hidden"};function d9(e){var{coordinate:t,translateX:n,translateY:r}=e;return ct(Tc,{["".concat(Tc,"-right")]:je(n)&&t&&je(t.x)&&n>=t.x,["".concat(Tc,"-left")]:je(n)&&t&&je(t.x)&&n<t.x,["".concat(Tc,"-bottom")]:je(r)&&t&&je(t.y)&&r>=t.y,["".concat(Tc,"-top")]:je(r)&&t&&je(t.y)&&r<t.y})}function FE(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(o&&je(o[r]))return o[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=f[r];if(v==null)return 0;if(l[r]){var _=p,w=v;return _<w?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var S=g+d,j=v+h;return S>j?Math.max(p,v):Math.max(g,v)}function f9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function h9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:d,viewBox:f}=e,h,p,g;return l.height>0&&l.width>0&&n?(p=FE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=FE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=f9({translateX:p,translateY:g,useTranslate3d:d})):h=u9,{cssProperties:h,cssClasses:d9({translateX:p,translateY:g,coordinate:n})}}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){u0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0(e,t,n){return(t=m9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class g9 extends b.PureComponent{constructor(){super(...arguments),u0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),u0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:_,wrapperStyle:w,lastBoundingBox:S,innerRef:j,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:C}=h9({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:_}),A=N?{}:df(df({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=df(df({},A),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:T,ref:j},o)}}var v9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ks={devToolsEnabled:!1,isSsr:v9()},Ek=()=>we(e=>e.rootProps.accessibilityLayer);function pr(e){return Number.isFinite(e)}function ul(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y9(e,t,n){return(t=b9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VE={curveBasisClosed:z8,curveBasisOpen:$8,curveBasis:U8,curveBumpX:j8,curveBumpY:N8,curveLinearClosed:B8,curveLinear:Ph,curveMonotoneX:q8,curveMonotoneY:H8,curveNatural:F8,curveStep:K8,curveStepAfter:Y8,curveStepBefore:G8},ff=e=>pr(e.x)&&pr(e.y),kc=e=>e.x,Mc=e=>e.y,_9=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(xu(e));return(n==="curveMonotone"||n==="curveBump")&&t?VE["".concat(n).concat(t==="vertical"?"Y":"X")]:VE[n]||Ph},w9=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=_9(t,i),d=o?n.filter(ff):n,f;if(Array.isArray(r)){var h=o?r.filter(g=>ff(g)):r,p=d.map((g,v)=>YE(YE({},g),{},{base:h[v]}));return i==="vertical"?f=rf().y(Mc).x1(kc).x0(g=>g.base.x):f=rf().x(kc).y1(Mc).y0(g=>g.base.y),f.defined(ff).curve(l),f(p)}return i==="vertical"&&je(r)?f=rf().y(Mc).x1(kc).x0(r):je(r)?f=rf().x(kc).y1(Mc).y0(r):f=bT().x(kc).y(Mc),f.defined(ff).curve(l),f(d)},Ok=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?w9(e):r;return b.createElement("path",d0({},Hi(e),u8(e),{className:ct("recharts-curve",t),d:o===null?void 0:o,ref:i}))},S9=["x","y","top","left","width","height","className"];function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(null,arguments)}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(r){N9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N9(e,t,n){return(t=E9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e,t){if(e==null)return{};var n,r,i=A9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var T9=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),k9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:d}=e,f=C9(e,S9),h=j9({x:t,y:n,top:r,left:i,width:o,height:l},f);return!je(t)||!je(n)||!je(o)||!je(l)||!je(r)||!je(i)?null:b.createElement("path",f0({},rn(h,!0),{className:ct("recharts-cross",d),d:T9(t,n,o,l,r,i)}))};function M9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){R9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t){var n=P9({},e),r=t,i=Object.keys(t),o=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return o}function I9(){}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){U9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Ck=(e,t,n)=>e.map(r=>"".concat(B9(r)," ").concat(t,"ms ").concat(n)).join(","),q9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),su=(e,t)=>Object.keys(t).reduce((n,r)=>JE(JE({},n),{},{[r]:e(r,t[r])}),{});function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){H9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H9(e,t,n){return(t=F9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=(e,t,n)=>e+(t-e)*n,h0=e=>{var{from:t,to:n}=e;return t!==n},Ak=(e,t,n)=>{var r=su((i,o)=>{if(h0(o)){var[l,d]=e(o.from,o.to,o.velocity);return Sn(Sn({},o),{},{from:l,velocity:d})}return o},t);return n<1?su((i,o)=>h0(o)?Sn(Sn({},o),{},{velocity:th(o.velocity,r[i].velocity,n),from:th(o.from,r[i].from,n)}):o,t):Ak(e,r,n-1)};function G9(e,t,n,r,i,o){var l,d=r.reduce((v,_)=>Sn(Sn({},v),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),f=()=>su((v,_)=>_.from,d),h=()=>!Object.values(d).filter(h0).length,p=null,g=v=>{l||(l=v);var _=v-l,w=_/n.dt;d=Ak(n,d,w),i(Sn(Sn(Sn({},e),t),f())),l=v,h()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function Y9(e,t,n,r,i,o,l){var d=null,f=i.reduce((g,v)=>Sn(Sn({},g),{},{[v]:[e[v],t[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/r,_=su((S,j)=>th(...j,n(v)),f);if(o(Sn(Sn(Sn({},e),t),_)),v<1)d=l.setTimeout(p);else{var w=su((S,j)=>th(...j,n(1)),f);o(Sn(Sn(Sn({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{d()})}const V9=(e,t,n,r,i,o)=>{var l=q9(e,t);return n.isStepper===!0?G9(e,t,n,l,i,o):Y9(e,t,n,r,l,i,o)};var nh=1e-4,Tk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),e2=(e,t)=>n=>{var r=Tk(e,t);return kk(r,n)},W9=(e,t)=>n=>{var r=Tk(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return kk(i,n)},t2=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([t,r,n,i]=l);var h=e2(t,n),p=e2(r,i),g=W9(t,n),v=w=>w>1?1:w<0?0:w,_=w=>{for(var S=w>1?1:w,j=S,N=0;N<8;++N){var E=h(j)-S,C=g(j);if(Math.abs(E-S)<nh||C<nh)return p(j);j=v(j-E/C)}return p(j)};return _.isStepper=!1,_},X9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*i/1e3,v=f*i/1e3+l;return Math.abs(v-d)<nh&&Math.abs(g)<nh?[d,0]:[v,g]};return o.isStepper=!0,o.dt=i,o},Q9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t2(e);case"spring":return X9();default:if(e.split("(")[0]==="cubic-bezier")return t2(e)}return typeof e=="function"?e:null};function J9(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(o.bind(null,h),f);return}o(f),i=e.setTimeout(o.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class Z9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function eH(){return J9(new Z9)}var tH=b.createContext(eH);function nH(e,t){var n=b.useContext(tH);return b.useMemo(()=>t??n(e),[e,t,n])}var rH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},n2={t:0},Fv={t:1};function Gh(e){var t=In(e,rH),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=nH(t.animationId,t.animationManager),[g,v]=b.useState(n?n2:Fv),_=b.useRef(null);return b.useEffect(()=>{n||v(Fv)},[n]),b.useEffect(()=>{if(!n||!r)return I9;var w=V9(n2,Fv,Q9(o),i,v,p.getTimeoutController()),S=()=>{_.current=w()};return p.start([f,l,S,i,d]),()=>{p.stop(),_.current&&_.current(),d()}},[n,r,i,o,l,f,d,p]),h(g.t)}function Yh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(nu(t)),r=b.useRef(e);return r.current!==e&&(n.current=nu(t),r.current=e),n.current}function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=iH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(null,arguments)}var i2=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>o?o:i[g];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(t)),h+="L ".concat(e+n-d*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-d*p[2],",").concat(t+r)),h+="L ".concat(e+d*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var _=Math.min(o,i);h="M ".concat(e,",").concat(t+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+d*_,",").concat(t,`
            L `).concat(e+n-d*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*_,`
            L `).concat(e+n,",").concat(t+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e+n-d*_,",").concat(t+r,`
            L `).concat(e+d*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*_," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},oH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mk=e=>{var t=In(e,oH),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:o,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:_,isAnimationActive:w,isUpdateAnimationActive:S}=t,j=b.useRef(d),N=b.useRef(f),E=b.useRef(o),C=b.useRef(l),A=b.useMemo(()=>({x:o,y:l,width:d,height:f,radius:h}),[o,l,d,f,h]),T=Yh(A,"rectangle-");if(o!==+o||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var M=ct("recharts-rectangle",p);if(!S)return b.createElement("path",rh({},rn(t,!0),{className:M,d:i2(o,l,d,f,h)}));var P=j.current,D=N.current,q=E.current,z=C.current,F="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),ae=Ck(["strokeDasharray"],v,typeof g=="string"?g:void 0);return b.createElement(Gh,{animationId:T,key:T,canBegin:r>0,duration:v,easing:g,isActive:S,begin:_},$=>{var K=jn(P,d,$),L=jn(D,f,$),Y=jn(q,o,$),W=jn(z,l,$);n.current&&(j.current=K,N.current=L,E.current=Y,C.current=W);var ue;return w?$>0?ue={transition:ae,strokeDasharray:H}:ue={strokeDasharray:F}:ue={strokeDasharray:H},b.createElement("path",rh({},rn(t,!0),{className:M,d:i2(Y,W,K,L,h),ref:n,style:a2(a2({},ue),t.style)}))})};function Pk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Qt(t,n,r,i),d=Qt(t,n,r,o);return{points:[l,d],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}var lH=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},hf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+r,p=Math.asin(d/h)/eh,g=f?i:i+o*p,v=Qt(t,n,h,g),_=Qt(t,n,r,g),w=f?i-o*p:i,S=Qt(t,n,h*Math.cos(p*eh),w);return{center:v,circleTangency:_,lineTangency:S,theta:p}},Rk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,d=lH(o,l),f=o+d,h=Qt(t,n,i,o),p=Qt(t,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Qt(t,n,r,o),_=Qt(t,n,r,f);g+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},cH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=hn(h-f),{circleTangency:g,lineTangency:v,theta:_}=hf({cx:t,cy:n,radius:i,angle:f,sign:p,cornerRadius:o,cornerIsExternal:d}),{circleTangency:w,lineTangency:S,theta:j}=hf({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-_-j;if(N<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Rk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var E="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:A,theta:T}=hf({cx:t,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:M,lineTangency:P,theta:D}=hf({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),q=d?Math.abs(f-h):Math.abs(f-h)-T-D;if(q<0&&o===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},uH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dk=e=>{var t=In(e,uH),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(o<i||h===p)return null;var v=ct("recharts-sector",g),_=o-i,w=An(l,_,0,!0),S;return w>0&&Math.abs(h-p)<360?S=cH({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,_/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):S=Rk({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p}),b.createElement("path",m0({},rn(t,!0),{className:v,d:S}))};function dH(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:h,outerRadius:p,angle:g}=t,v=Qt(d,f,h,g),_=Qt(d,f,p,g);r=v.x,i=v.y,o=_.x,l=_.y}else return Pk(t);return[{x:r,y:i},{x:o,y:l}]}var Kv={},Gv={},Yv={},s2;function fH(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Yv)),Yv}var o2;function hH(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Gv)),Gv}var l2;function mH(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),n=hH();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}e.range=r})(Kv)),Kv}var Vv,c2;function pH(){return c2||(c2=1,Vv=mH().range),Vv}var gH=pH();const Lk=Qr(gH);function Ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zb(e){let t,n,r;e.length!==2?(t=Ui,n=(d,f)=>Ui(e(d),f),r=(d,f)=>e(d)-f):(t=e===Ui||e===vH?e:yH,n=e,r=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function o(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:l,right:o}}function yH(){return 0}function Ik(e){return e===null?NaN:+e}function*bH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const xH=zb(Ui),Nu=xH.right;zb(Ik).center;class u2 extends Map{constructor(t,n=SH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(d2(this,t))}has(t){return super.has(d2(this,t))}set(t,n){return super.set(_H(this,t),n)}delete(t){return super.delete(wH(this,t))}}function d2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _H({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function SH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jH(e=Ui){if(e===Ui)return Uk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Uk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const NH=Math.sqrt(50),EH=Math.sqrt(10),OH=Math.sqrt(2);function ah(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=NH?10:o>=EH?5:o>=OH?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=n&&n<2?ah(e,t,n*2):[d,f,h]}function p0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?ah(t,e,n):ah(e,t,n);if(!(o>=i))return[];const d=o-i+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(o-h)/-l;else for(let h=0;h<d;++h)f[h]=(o-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function g0(e,t,n){return t=+t,e=+e,n=+n,ah(e,t,n)[2]}function v0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?g0(t,e,n):g0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function f2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function h2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function zk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Uk:jH(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(t-h*g/f+v)),w=Math.min(r,Math.floor(t+(f-h)*g/f+v));zk(e,t,_,w,i)}const o=e[t];let l=n,d=r;for(Pc(e,n,t),i(e[r],o)>0&&Pc(e,n,r);l<d;){for(Pc(e,l,d),++l,--d;i(e[l],o)<0;)++l;for(;i(e[d],o)>0;)--d}i(e[n],o)===0?Pc(e,n,d):(++d,Pc(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Pc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function CH(e,t,n){if(e=Float64Array.from(bH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return h2(e);if(t>=1)return f2(e);var r,i=(r-1)*t,o=Math.floor(i),l=f2(zk(e,o).subarray(0,o+1)),d=h2(e.subarray(o+1));return l+(d-l)*(i-o)}}function AH(e,t,n=Ik){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return l+(d-l)*(i-o)}}function TH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y0=Symbol("implicit");function $b(){var e=new u2,t=[],n=[],r=y0;function i(o){let l=e.get(o);if(l===void 0){if(r!==y0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new u2;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $b(t,n).unknown(r)},Ir.apply(i,arguments),i}function Bb(){var e=$b().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,_=i<r,w=_?i:r,S=_?r:i;o=(S-w)/Math.max(1,v-f+h*2),d&&(o=Math.floor(o)),w+=(S-w-o*(v-f))*p,l=o*(1-f),d&&(w=Math.round(w),l=Math.round(l));var j=TH(v).map(function(N){return w+o*N});return n(_?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Bb(t(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Ir.apply(g(),arguments)}function $k(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $k(t())},e}function kH(){return $k(Bb.apply(null,arguments).paddingInner(1))}function qb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Eu(){}var ou=.7,ih=1/ou,il="\\s*([+-]?\\d+)\\s*",lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MH=/^#([0-9a-f]{3,8})$/,PH=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),RH=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),DH=new RegExp(`^rgba\\(${il},${il},${il},${lu}\\)$`),LH=new RegExp(`^rgba\\(${da},${da},${da},${lu}\\)$`),IH=new RegExp(`^hsl\\(${lu},${da},${da}\\)$`),UH=new RegExp(`^hsla\\(${lu},${da},${da},${lu}\\)$`),m2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qb(Eu,cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:p2,formatHex:p2,formatHex8:zH,formatHsl:$H,formatRgb:g2,toString:g2});function p2(){return this.rgb().formatHex()}function zH(){return this.rgb().formatHex8()}function $H(){return qk(this).formatHsl()}function g2(){return this.rgb().formatRgb()}function cu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?v2(t):n===3?new Xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PH.exec(e))?new Xn(t[1],t[2],t[3],1):(t=RH.exec(e))?new Xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DH.exec(e))?mf(t[1],t[2],t[3],t[4]):(t=LH.exec(e))?mf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IH.exec(e))?x2(t[1],t[2]/100,t[3]/100,1):(t=UH.exec(e))?x2(t[1],t[2]/100,t[3]/100,t[4]):m2.hasOwnProperty(e)?v2(m2[e]):e==="transparent"?new Xn(NaN,NaN,NaN,0):null}function v2(e){return new Xn(e>>16&255,e>>8&255,e&255,1)}function mf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xn(e,t,n,r)}function BH(e){return e instanceof Eu||(e=cu(e)),e?(e=e.rgb(),new Xn(e.r,e.g,e.b,e.opacity)):new Xn}function b0(e,t,n,r){return arguments.length===1?BH(e):new Xn(e,t,n,r??1)}function Xn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qb(Xn,b0,Bk(Eu,{brighter(e){return e=e==null?ih:Math.pow(ih,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ou:Math.pow(ou,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xn(Rs(this.r),Rs(this.g),Rs(this.b),sh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y2,formatHex:y2,formatHex8:qH,formatRgb:b2,toString:b2}));function y2(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function qH(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function b2(){const e=sh(this.opacity);return`${e===1?"rgb(":"rgba("}${Rs(this.r)}, ${Rs(this.g)}, ${Rs(this.b)}${e===1?")":`, ${e})`}`}function sh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cs(e){return e=Rs(e),(e<16?"0":"")+e.toString(16)}function x2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vr(e,t,n,r)}function qk(e){if(e instanceof Vr)return new Vr(e.h,e.s,e.l,e.opacity);if(e instanceof Eu||(e=cu(e)),!e)return new Vr;if(e instanceof Vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,d=o-i,f=(o+i)/2;return d?(t===o?l=(n-r)/d+(n<r)*6:n===o?l=(r-t)/d+2:l=(t-n)/d+4,d/=f<.5?o+i:2-o-i,l*=60):d=f>0&&f<1?0:l,new Vr(l,d,f,e.opacity)}function HH(e,t,n,r){return arguments.length===1?qk(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qb(Vr,HH,Bk(Eu,{brighter(e){return e=e==null?ih:Math.pow(ih,e),new Vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ou:Math.pow(ou,e),new Vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xn(Wv(e>=240?e-240:e+120,i,r),Wv(e,i,r),Wv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Vr(_2(this.h),pf(this.s),pf(this.l),sh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sh(this.opacity);return`${e===1?"hsl(":"hsla("}${_2(this.h)}, ${pf(this.s)*100}%, ${pf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _2(e){return e=(e||0)%360,e<0?e+360:e}function pf(e){return Math.max(0,Math.min(1,e||0))}function Wv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Hb=e=>()=>e;function FH(e,t){return function(n){return e+n*t}}function KH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function GH(e){return(e=+e)==1?Hk:function(t,n){return n-t?KH(t,n,e):Hb(isNaN(t)?n:t)}}function Hk(e,t){var n=t-e;return n?FH(e,n):Hb(isNaN(e)?t:e)}const w2=(function e(t){var n=GH(t);function r(i,o){var l=n((i=b0(i)).r,(o=b0(o)).r),d=n(i.g,o.g),f=n(i.b,o.b),h=Hk(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function YH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function VH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function WH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=jl(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(d){for(l=0;l<r;++l)o[l]=i[l](d);return o}}function XH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function oh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function QH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jl(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var x0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xv=new RegExp(x0.source,"g");function JH(e){return function(){return e}}function ZH(e){return function(t){return e(t)+""}}function eF(e,t){var n=x0.lastIndex=Xv.lastIndex=0,r,i,o,l=-1,d=[],f=[];for(e=e+"",t=t+"";(r=x0.exec(e))&&(i=Xv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),d[l]?d[l]+=o:d[++l]=o),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:oh(r,i)})),n=Xv.lastIndex;return n<t.length&&(o=t.slice(n),d[l]?d[l]+=o:d[++l]=o),d.length<2?f[0]?ZH(f[0].x):JH(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function jl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Hb(t):(n==="number"?oh:n==="string"?(r=cu(t))?(t=r,w2):eF:t instanceof cu?w2:t instanceof Date?XH:VH(t)?YH:Array.isArray(t)?WH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QH:oh)(e,t)}function Fb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function tF(e,t){t===void 0&&(t=e,e=jl);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[d](l-d)}}function nF(e){return function(){return e}}function lh(e){return+e}var S2=[0,1];function Ln(e){return e}function _0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:nF(isNaN(t)?NaN:.5)}function rF(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function aF(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=_0(i,r),o=n(l,o)):(r=_0(r,i),o=n(o,l)),function(d){return o(r(d))}}function iF(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=_0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(d){var f=Nu(e,d,1,r)-1;return o[f](i[f](d))}}function Ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vh(){var e=S2,t=S2,n=jl,r,i,o,l=Ln,d,f,h;function p(){var v=Math.min(e.length,t.length);return l!==Ln&&(l=rF(e[0],e[v-1])),d=v>2?iF:aF,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?o:(f||(f=d(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((h||(h=d(t,e.map(r),oh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,lh),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Fb,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Ln,p()):l!==Ln},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,_){return r=v,i=_,p()}}function Kb(){return Vh()(Ln,Ln)}function sF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ch(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dl(e){return e=ch(Math.abs(e)),e?e[1]:NaN}function oF(e,t){return function(n,r){for(var i=n.length,o=[],l=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),o.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=e[l=(l+1)%e.length];return o.reverse().join(t)}}function lF(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uu(e){if(!(t=cF.exec(e)))throw new Error("invalid format: "+e);var t;return new Gb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uu.prototype=Gb.prototype;function Gb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uF(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Fk;function dF(e,t){var n=ch(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Fk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ch(e,Math.max(0,t+o-1))[0]}function j2(e,t){var n=ch(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j2(e*100,t),r:j2,s:dF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function E2(e){return e}var O2=Array.prototype.map,C2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fF(e){var t=e.grouping===void 0||e.thousands===void 0?E2:oF(O2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?E2:lF(O2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=uu(g);var v=g.fill,_=g.align,w=g.sign,S=g.symbol,j=g.zero,N=g.width,E=g.comma,C=g.precision,A=g.trim,T=g.type;T==="n"?(E=!0,T="g"):N2[T]||(C===void 0&&(C=12),A=!0,T="g"),(j||v==="0"&&_==="=")&&(j=!0,v="0",_="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",P=S==="$"?r:/[%p]/.test(T)?l:"",D=N2[T],q=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(F){var H=M,ae=P,$,K,L;if(T==="c")ae=D(F)+ae,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?f:D(Math.abs(F),C),A&&(F=uF(F)),Y&&+F==0&&w!=="+"&&(Y=!1),H=(Y?w==="("?w:d:w==="-"||w==="("?"":w)+H,ae=(T==="s"?C2[8+Fk/3]:"")+ae+(Y&&w==="("?")":""),q){for($=-1,K=F.length;++$<K;)if(L=F.charCodeAt($),48>L||L>57){ae=(L===46?i+F.slice($+1):F.slice($))+ae,F=F.slice(0,$);break}}}E&&!j&&(F=t(F,1/0));var W=H.length+F.length+ae.length,ue=W<N?new Array(N-W+1).join(v):"";switch(E&&j&&(F=t(ue+F,ue.length?N-ae.length:1/0),ue=""),_){case"<":F=H+F+ae+ue;break;case"=":F=H+ue+F+ae;break;case"^":F=ue.slice(0,W=ue.length>>1)+H+F+ae+ue.slice(W);break;default:F=ue+H+F+ae;break}return o(F)}return z.toString=function(){return g+""},z}function p(g,v){var _=h((g=uu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(dl(v)/3)))*3,S=Math.pow(10,-w),j=C2[8+w/3];return function(N){return _(S*N)+j}}return{format:h,formatPrefix:p}}var gf,Yb,Kk;hF({thousands:",",grouping:[3],currency:["$",""]});function hF(e){return gf=fF(e),Yb=gf.format,Kk=gf.formatPrefix,gf}function mF(e){return Math.max(0,-dl(Math.abs(e)))}function pF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dl(t)/3)))*3-dl(Math.abs(e)))}function gF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dl(t)-dl(e))+1}function Gk(e,t,n,r){var i=v0(e,t,n),o;switch(r=uu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=pF(i,l))&&(r.precision=o),Kk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gF(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=mF(i))&&(r.precision=o-(r.type==="%")*2);break}}return Yb(r)}function Fi(e){var t=e.domain;return e.ticks=function(n){var r=t();return p0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Gk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],d=r[o],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=o,o=h);p-- >0;){if(h=g0(l,d,n),h===f)return r[i]=l,r[o]=d,t(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function Yk(){var e=Kb();return e.copy=function(){return Ou(e,Yk())},Ir.apply(e,arguments),Fi(e)}function Vk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,lh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Vk(e).unknown(t)},e=arguments.length?Array.from(e,lh):[0,1],Fi(n)}function Wk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function A2(e){return Math.log(e)}function T2(e){return Math.exp(e)}function vF(e){return-Math.log(-e)}function yF(e){return-Math.exp(-e)}function bF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xF(e){return e===10?bF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _F(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function k2(e){return(t,n)=>-e(-t,n)}function Vb(e){const t=e(A2,T2),n=t.domain;let r=10,i,o;function l(){return i=_F(r),o=xF(r),n()[0]<0?(i=k2(i),o=k2(o),e(vF,yF)):e(A2,T2),t}return t.base=function(d){return arguments.length?(r=+d,l()):r},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),_=i(p),w,S;const j=d==null?10:+d;let N=[];if(!(r%1)&&_-v<j){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(w=1;w<r;++w)if(S=v<0?w/o(-v):w*o(v),!(S<h)){if(S>p)break;N.push(S)}}else for(;v<=_;++v)for(w=r-1;w>=1;--w)if(S=v>0?w/o(-v):w*o(v),!(S<h)){if(S>p)break;N.push(S)}N.length*2<j&&(N=p0(h,p,j))}else N=p0(v,_,Math.min(_-v,j)).map(o);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=uu(f)).precision==null&&(f.trim=!0),f=Yb(f)),d===1/0)return f;const h=Math.max(1,r*d/t.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},t.nice=()=>n(Wk(n(),{floor:d=>o(Math.floor(i(d))),ceil:d=>o(Math.ceil(i(d)))})),t}function Xk(){const e=Vb(Vh()).domain([1,10]);return e.copy=()=>Ou(e,Xk()).base(e.base()),Ir.apply(e,arguments),e}function M2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function P2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wb(e){var t=1,n=e(M2(t),P2(t));return n.constant=function(r){return arguments.length?e(M2(t=+r),P2(t)):t},Fi(n)}function Qk(){var e=Wb(Vh());return e.copy=function(){return Ou(e,Qk()).constant(e.constant())},Ir.apply(e,arguments)}function R2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SF(e){return e<0?-e*e:e*e}function Xb(e){var t=e(Ln,Ln),n=1;function r(){return n===1?e(Ln,Ln):n===.5?e(wF,SF):e(R2(n),R2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fi(t)}function Qb(){var e=Xb(Vh());return e.copy=function(){return Ou(e,Qb()).exponent(e.exponent())},Ir.apply(e,arguments),e}function jF(){return Qb.apply(null,arguments).exponent(.5)}function D2(e){return Math.sign(e)*e*e}function NF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Jk(){var e=Kb(),t=[0,1],n=!1,r;function i(o){var l=NF(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(D2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,lh)).map(D2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Jk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ir.apply(i,arguments),Fi(i)}function Zk(){var e=[],t=[],n=[],r;function i(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=AH(e,l/d);return o}function o(l){return l==null||isNaN(l=+l)?r:t[Nu(n,l)]}return o.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Ui),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Zk().domain(e).range(t).unknown(r)},Ir.apply(o,arguments)}function eM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Nu(r,f,0,n)]:o}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return eM().domain([e,t]).range(i).unknown(o)},Ir.apply(Fi(l),arguments)}function tM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Nu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return tM().domain(e).range(t).unknown(n)},Ir.apply(i,arguments)}const Qv=new Date,Jv=new Date;function sn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),d=i.ceil(o);return o-l<d-o?l:d},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,d)=>{const f=[];if(o=i.ceil(o),d=d==null?1:Math.floor(d),!(o<l)||!(d>0))return f;let h;do f.push(h=new Date(+o)),t(o,d),e(o);while(h<o&&o<l);return f},i.filter=o=>sn(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!o(l););else for(;--d>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Qv.setTime(+o),Jv.setTime(+l),e(Qv),e(Jv),Math.floor(n(Qv,Jv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const uh=sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):uh);uh.range;const Ua=1e3,Mr=Ua*60,za=Mr*60,Ya=za*24,Jb=Ya*7,L2=Ya*30,Zv=Ya*365,As=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCSeconds());As.range;const Zb=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua)},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getMinutes());Zb.range;const ex=sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getUTCMinutes());ex.range;const tx=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua-e.getMinutes()*Mr)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getHours());tx.range;const nx=sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCHours());nx.range;const Cu=sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mr)/Ya,e=>e.getDate()-1);Cu.range;const Wh=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>e.getUTCDate()-1);Wh.range;const nM=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>Math.floor(e/Ya));nM.range;function Gs(e){return sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/Jb)}const Xh=Gs(0),dh=Gs(1),EF=Gs(2),OF=Gs(3),fl=Gs(4),CF=Gs(5),AF=Gs(6);Xh.range;dh.range;EF.range;OF.range;fl.range;CF.range;AF.range;function Ys(e){return sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Jb)}const Qh=Ys(0),fh=Ys(1),TF=Ys(2),kF=Ys(3),hl=Ys(4),MF=Ys(5),PF=Ys(6);Qh.range;fh.range;TF.range;kF.range;hl.range;MF.range;PF.range;const rx=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rx.range;const ax=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ax.range;const Va=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Wa=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wa.range;function rM(e,t,n,r,i,o){const l=[[As,1,Ua],[As,5,5*Ua],[As,15,15*Ua],[As,30,30*Ua],[o,1,Mr],[o,5,5*Mr],[o,15,15*Mr],[o,30,30*Mr],[i,1,za],[i,3,3*za],[i,6,6*za],[i,12,12*za],[r,1,Ya],[r,2,2*Ya],[n,1,Jb],[t,1,L2],[t,3,3*L2],[e,1,Zv]];function d(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const _=g&&typeof g.range=="function"?g:f(h,p,g),w=_?_.range(h,+p+1):[];return v?w.reverse():w}function f(h,p,g){const v=Math.abs(p-h)/g,_=zb(([,,j])=>j).right(l,v);if(_===l.length)return e.every(v0(h/Zv,p/Zv,g));if(_===0)return uh.every(Math.max(v0(h,p,g),1));const[w,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return w.every(S)}return[d,f]}const[RF,DF]=rM(Wa,ax,Qh,nM,nx,ex),[LF,IF]=rM(Va,rx,Xh,Cu,tx,Zb);function ey(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ty(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function UF(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Dc(i),p=Lc(i),g=Dc(o),v=Lc(o),_=Dc(l),w=Lc(l),S=Dc(d),j=Lc(d),N=Dc(f),E=Lc(f),C={a:Y,A:W,b:ue,B:ne,c:null,d:q2,e:q2,f:oK,g:vK,G:bK,H:aK,I:iK,j:sK,L:aM,m:lK,M:cK,p:R,q:I,Q:K2,s:G2,S:uK,u:dK,U:fK,V:hK,w:mK,W:pK,x:null,X:null,y:gK,Y:yK,Z:xK,"%":F2},A={a:V,A:X,b:te,B:fe,c:null,d:H2,e:H2,f:jK,g:RK,G:LK,H:_K,I:wK,j:SK,L:sM,m:NK,M:EK,p:pe,q:ze,Q:K2,s:G2,S:OK,u:CK,U:AK,V:TK,w:kK,W:MK,x:null,X:null,y:PK,Y:DK,Z:IK,"%":F2},T={a:z,A:F,b:H,B:ae,c:$,d:$2,e:$2,f:eK,g:z2,G:U2,H:B2,I:B2,j:XF,L:ZF,m:WF,M:QF,p:q,q:VF,Q:nK,s:rK,S:JF,u:HF,U:FF,V:KF,w:qF,W:GF,x:K,X:L,y:z2,Y:U2,Z:YF,"%":tK};C.x=M(n,C),C.X=M(r,C),C.c=M(t,C),A.x=M(n,A),A.X=M(r,A),A.c=M(t,A);function M(ie,Se){return function(Te){var ce=[],At=-1,Ie=0,Tt=ie.length,kt,Ht,Zn;for(Te instanceof Date||(Te=new Date(+Te));++At<Tt;)ie.charCodeAt(At)===37&&(ce.push(ie.slice(Ie,At)),(Ht=I2[kt=ie.charAt(++At)])!=null?kt=ie.charAt(++At):Ht=kt==="e"?" ":"0",(Zn=Se[kt])&&(kt=Zn(Te,Ht)),ce.push(kt),Ie=At+1);return ce.push(ie.slice(Ie,At)),ce.join("")}}function P(ie,Se){return function(Te){var ce=Rc(1900,void 0,1),At=D(ce,ie,Te+="",0),Ie,Tt;if(At!=Te.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Se&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ie=ty(Rc(ce.y,0,1)),Tt=Ie.getUTCDay(),Ie=Tt>4||Tt===0?fh.ceil(Ie):fh(Ie),Ie=Wh.offset(Ie,(ce.V-1)*7),ce.y=Ie.getUTCFullYear(),ce.m=Ie.getUTCMonth(),ce.d=Ie.getUTCDate()+(ce.w+6)%7):(Ie=ey(Rc(ce.y,0,1)),Tt=Ie.getDay(),Ie=Tt>4||Tt===0?dh.ceil(Ie):dh(Ie),Ie=Cu.offset(Ie,(ce.V-1)*7),ce.y=Ie.getFullYear(),ce.m=Ie.getMonth(),ce.d=Ie.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Tt="Z"in ce?ty(Rc(ce.y,0,1)).getUTCDay():ey(Rc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Tt+5)%7:ce.w+ce.U*7-(Tt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,ty(ce)):ey(ce)}}function D(ie,Se,Te,ce){for(var At=0,Ie=Se.length,Tt=Te.length,kt,Ht;At<Ie;){if(ce>=Tt)return-1;if(kt=Se.charCodeAt(At++),kt===37){if(kt=Se.charAt(At++),Ht=T[kt in I2?Se.charAt(At++):kt],!Ht||(ce=Ht(ie,Te,ce))<0)return-1}else if(kt!=Te.charCodeAt(ce++))return-1}return ce}function q(ie,Se,Te){var ce=h.exec(Se.slice(Te));return ce?(ie.p=p.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function z(ie,Se,Te){var ce=_.exec(Se.slice(Te));return ce?(ie.w=w.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function F(ie,Se,Te){var ce=g.exec(Se.slice(Te));return ce?(ie.w=v.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function H(ie,Se,Te){var ce=N.exec(Se.slice(Te));return ce?(ie.m=E.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function ae(ie,Se,Te){var ce=S.exec(Se.slice(Te));return ce?(ie.m=j.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function $(ie,Se,Te){return D(ie,t,Se,Te)}function K(ie,Se,Te){return D(ie,n,Se,Te)}function L(ie,Se,Te){return D(ie,r,Se,Te)}function Y(ie){return l[ie.getDay()]}function W(ie){return o[ie.getDay()]}function ue(ie){return f[ie.getMonth()]}function ne(ie){return d[ie.getMonth()]}function R(ie){return i[+(ie.getHours()>=12)]}function I(ie){return 1+~~(ie.getMonth()/3)}function V(ie){return l[ie.getUTCDay()]}function X(ie){return o[ie.getUTCDay()]}function te(ie){return f[ie.getUTCMonth()]}function fe(ie){return d[ie.getUTCMonth()]}function pe(ie){return i[+(ie.getUTCHours()>=12)]}function ze(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Se=M(ie+="",C);return Se.toString=function(){return ie},Se},parse:function(ie){var Se=P(ie+="",!1);return Se.toString=function(){return ie},Se},utcFormat:function(ie){var Se=M(ie+="",A);return Se.toString=function(){return ie},Se},utcParse:function(ie){var Se=P(ie+="",!0);return Se.toString=function(){return ie},Se}}}var I2={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,zF=/^%/,$F=/[\\^$*+?|[\]().{}]/g;function tt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function BF(e){return e.replace($F,"\\$&")}function Dc(e){return new RegExp("^(?:"+e.map(BF).join("|")+")","i")}function Lc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qF(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function HF(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function FF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function KF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function GF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function U2(e,t,n){var r=pn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function z2(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VF(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function WF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $2(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function XF(e,t,n){var r=pn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function B2(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function QF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function JF(e,t,n){var r=pn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ZF(e,t,n){var r=pn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function eK(e,t,n){var r=pn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tK(e,t,n){var r=zF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function nK(e,t,n){var r=pn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=pn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function q2(e,t){return tt(e.getDate(),t,2)}function aK(e,t){return tt(e.getHours(),t,2)}function iK(e,t){return tt(e.getHours()%12||12,t,2)}function sK(e,t){return tt(1+Cu.count(Va(e),e),t,3)}function aM(e,t){return tt(e.getMilliseconds(),t,3)}function oK(e,t){return aM(e,t)+"000"}function lK(e,t){return tt(e.getMonth()+1,t,2)}function cK(e,t){return tt(e.getMinutes(),t,2)}function uK(e,t){return tt(e.getSeconds(),t,2)}function dK(e){var t=e.getDay();return t===0?7:t}function fK(e,t){return tt(Xh.count(Va(e)-1,e),t,2)}function iM(e){var t=e.getDay();return t>=4||t===0?fl(e):fl.ceil(e)}function hK(e,t){return e=iM(e),tt(fl.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function mK(e){return e.getDay()}function pK(e,t){return tt(dh.count(Va(e)-1,e),t,2)}function gK(e,t){return tt(e.getFullYear()%100,t,2)}function vK(e,t){return e=iM(e),tt(e.getFullYear()%100,t,2)}function yK(e,t){return tt(e.getFullYear()%1e4,t,4)}function bK(e,t){var n=e.getDay();return e=n>=4||n===0?fl(e):fl.ceil(e),tt(e.getFullYear()%1e4,t,4)}function xK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function H2(e,t){return tt(e.getUTCDate(),t,2)}function _K(e,t){return tt(e.getUTCHours(),t,2)}function wK(e,t){return tt(e.getUTCHours()%12||12,t,2)}function SK(e,t){return tt(1+Wh.count(Wa(e),e),t,3)}function sM(e,t){return tt(e.getUTCMilliseconds(),t,3)}function jK(e,t){return sM(e,t)+"000"}function NK(e,t){return tt(e.getUTCMonth()+1,t,2)}function EK(e,t){return tt(e.getUTCMinutes(),t,2)}function OK(e,t){return tt(e.getUTCSeconds(),t,2)}function CK(e){var t=e.getUTCDay();return t===0?7:t}function AK(e,t){return tt(Qh.count(Wa(e)-1,e),t,2)}function oM(e){var t=e.getUTCDay();return t>=4||t===0?hl(e):hl.ceil(e)}function TK(e,t){return e=oM(e),tt(hl.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function kK(e){return e.getUTCDay()}function MK(e,t){return tt(fh.count(Wa(e)-1,e),t,2)}function PK(e,t){return tt(e.getUTCFullYear()%100,t,2)}function RK(e,t){return e=oM(e),tt(e.getUTCFullYear()%100,t,2)}function DK(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function LK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hl(e):hl.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function IK(){return"+0000"}function F2(){return"%"}function K2(e){return+e}function G2(e){return Math.floor(+e/1e3)}var Qo,lM,cM;UK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UK(e){return Qo=UF(e),lM=Qo.format,Qo.parse,cM=Qo.utcFormat,Qo.utcParse,Qo}function zK(e){return new Date(e)}function $K(e){return e instanceof Date?+e:+new Date(+e)}function ix(e,t,n,r,i,o,l,d,f,h){var p=Kb(),g=p.invert,v=p.domain,_=h(".%L"),w=h(":%S"),S=h("%I:%M"),j=h("%I %p"),N=h("%a %d"),E=h("%b %d"),C=h("%B"),A=h("%Y");function T(M){return(f(M)<M?_:d(M)<M?w:l(M)<M?S:o(M)<M?j:r(M)<M?i(M)<M?N:E:n(M)<M?C:A)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?v(Array.from(M,$K)):v().map(zK)},p.ticks=function(M){var P=v();return e(P[0],P[P.length-1],M??10)},p.tickFormat=function(M,P){return P==null?T:h(P)},p.nice=function(M){var P=v();return(!M||typeof M.range!="function")&&(M=t(P[0],P[P.length-1],M??10)),M?v(Wk(P,M)):p},p.copy=function(){return Ou(p,ix(e,t,n,r,i,o,l,d,f,h))},p}function BK(){return Ir.apply(ix(LF,IF,Va,rx,Xh,Cu,tx,Zb,As,lM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qK(){return Ir.apply(ix(RF,DF,Wa,ax,Qh,Wh,nx,ex,As,cM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jh(){var e=0,t=1,n,r,i,o,l=Ln,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(o(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var _,w;return arguments.length?([_,w]=v,l=g(_,w),h):[l(0),l(1)]}}return h.range=p(jl),h.rangeRound=p(Fb),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function Ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uM(){var e=Fi(Jh()(Ln));return e.copy=function(){return Ki(e,uM())},Za.apply(e,arguments)}function dM(){var e=Vb(Jh()).domain([1,10]);return e.copy=function(){return Ki(e,dM()).base(e.base())},Za.apply(e,arguments)}function fM(){var e=Wb(Jh());return e.copy=function(){return Ki(e,fM()).constant(e.constant())},Za.apply(e,arguments)}function sx(){var e=Xb(Jh());return e.copy=function(){return Ki(e,sx()).exponent(e.exponent())},Za.apply(e,arguments)}function HK(){return sx.apply(null,arguments).exponent(.5)}function hM(){var e=[],t=Ln;function n(r){if(r!=null&&!isNaN(r=+r))return t((Nu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ui),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>CH(e,o/r))},n.copy=function(){return hM(t).domain(e)},Za.apply(n,arguments)}function Zh(){var e=0,t=.5,n=1,r=1,i,o,l,d,f,h=Ln,p,g=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-o)*(r*S<r*o?d:f),h(g?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([e,t,n]=S,i=p(e=+e),o=p(t=+t),l=p(n=+n),d=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_):[e,t,n]},_.clamp=function(S){return arguments.length?(g=!!S,_):g},_.interpolator=function(S){return arguments.length?(h=S,_):h};function w(S){return function(j){var N,E,C;return arguments.length?([N,E,C]=j,h=tF(S,[N,E,C]),_):[h(0),h(.5),h(1)]}}return _.range=w(jl),_.rangeRound=w(Fb),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return p=S,i=S(e),o=S(t),l=S(n),d=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_}}function mM(){var e=Fi(Zh()(Ln));return e.copy=function(){return Ki(e,mM())},Za.apply(e,arguments)}function pM(){var e=Vb(Zh()).domain([.1,1,10]);return e.copy=function(){return Ki(e,pM()).base(e.base())},Za.apply(e,arguments)}function gM(){var e=Wb(Zh());return e.copy=function(){return Ki(e,gM()).constant(e.constant())},Za.apply(e,arguments)}function ox(){var e=Xb(Zh());return e.copy=function(){return Ki(e,ox()).exponent(e.exponent())},Za.apply(e,arguments)}function FK(){return ox.apply(null,arguments).exponent(.5)}const $c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bb,scaleDiverging:mM,scaleDivergingLog:pM,scaleDivergingPow:ox,scaleDivergingSqrt:FK,scaleDivergingSymlog:gM,scaleIdentity:Vk,scaleImplicit:y0,scaleLinear:Yk,scaleLog:Xk,scaleOrdinal:$b,scalePoint:kH,scalePow:Qb,scaleQuantile:Zk,scaleQuantize:eM,scaleRadial:Jk,scaleSequential:uM,scaleSequentialLog:dM,scaleSequentialPow:sx,scaleSequentialQuantile:hM,scaleSequentialSqrt:HK,scaleSequentialSymlog:fM,scaleSqrt:jF,scaleSymlog:Qk,scaleThreshold:tM,scaleTime:BK,scaleUtc:qK,tickFormat:Gk},Symbol.toStringTag,{value:"Module"}));var Gi=e=>e.chartData,lx=ee([Gi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cx=(e,t,n,r)=>r?lx(e):Gi(e);function ml(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(pr(t)&&pr(n))return!0}return!1}function Y2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(pr(n))i=n;else if(typeof n=="function")return;if(pr(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ml(l))return l}}function GK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ml(r))return Y2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&IE.test(i)){var f=IE.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(je(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&UE.test(o)){var p=UE.exec(o);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var v=[l,d];if(ml(v))return t==null?v:Y2(v,t,n)}}}var Nl=1e9,YK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dx,Et=!0,Rr="[DecimalError] ",Ds=Rr+"Invalid argument: ",ux=Rr+"Exponent out of range: ",El=Math.floor,bs=Math.pow,VK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,fn=1e7,St=7,vM=9007199254740991,hh=El(vM/St),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*St;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(e){return Ha(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,n=t.constructor;return vt(Ha(t,new n(e),0,1),n.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return Jt(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(dr))throw Error(Rr+"NaN");if(n.s<1)throw Error(Rr+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Et=!1,t=Ha(du(n,o),du(e,o),o),Et=!0,vt(t,i))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xM(t,e):yM(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Rr+"NaN");return n.s?(Et=!1,t=Ha(n,e,0,1).times(e),Et=!0,n.minus(t)):vt(new r(n),i)};ye.naturalExponential=ye.exp=function(){return bM(this)};ye.naturalLogarithm=ye.ln=function(){return du(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yM(t,e):xM(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ds+e);if(t=Jt(i)+1,r=i.d.length-1,n=r*St+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ye.squareRoot=ye.sqrt=function(){var e,t,n,r,i,o,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Rr+"NaN")}for(e=Jt(d),Et=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=ca(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=El((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(Ha(d,o,l+2)).times(.5),ca(o.d).slice(0,l)===(t=ca(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(vt(o,n+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;l+=4}return Et=!0,vt(r,n)};ye.times=ye.mul=function(e){var t,n,r,i,o,l,d,f,h,p=this,g=p.constructor,v=p.d,_=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,f=v.length,h=_.length,f<h&&(o=v,v=_,_=o,l=f,f=h,h=l),o=[],l=f+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)d=o[i]+_[r]*v[i-r-1]+t,o[i--]=d%fn|0,t=d/fn|0;o[i]=(o[i]+t)%fn|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Et?vt(e,g.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ma(e,0,Nl),t===void 0?t=r.rounding:ma(t,0,8),vt(n,e+Jt(n)+1,t))};ye.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=zs(r,!0):(ma(e,0,Nl),t===void 0?t=i.rounding:ma(t,0,8),r=vt(new i(r),e+1,t),n=zs(r,!0,e+1)),n};ye.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?zs(i):(ma(e,0,Nl),t===void 0?t=o.rounding:ma(t,0,8),r=vt(new o(i),e+Jt(i)+1,t),n=zs(r.abs(),!1,e+Jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return vt(new t(e),Jt(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,n,r,i,o,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(dr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Rr+"Infinity");return d}if(d.eq(dr))return d;if(r=f.precision,e.eq(dr))return vt(d,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=d.s,l){if((n=p<0?-p:p)<=vM){for(i=new f(dr),t=Math.ceil(r/St+4),Et=!1;n%2&&(i=i.times(d),W2(i.d,t)),n=El(n/2),n!==0;)d=d.times(d),W2(d.d,t);return Et=!0,e.s<0?new f(dr).div(i):vt(i,r)}}else if(o<0)throw Error(Rr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Et=!1,i=e.times(du(d,r+h)),Et=!0,i=bM(i),i.s=o,i};ye.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Jt(i),r=zs(i,n<=o.toExpNeg||n>=o.toExpPos)):(ma(e,1,Nl),t===void 0?t=o.rounding:ma(t,0,8),i=vt(new o(i),e,t),n=Jt(i),r=zs(i,e<=n||n<=o.toExpNeg,e)),r};ye.toSignificantDigits=ye.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ma(e,1,Nl),t===void 0?t=r.rounding:ma(t,0,8)),vt(new r(n),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),n=e.constructor;return zs(e,t<=n.toExpNeg||t>=n.toExpPos)};function yM(e,t){var n,r,i,o,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Et?vt(t,g):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,d=h.length):(r=h,i=l,d=f.length),l=Math.ceil(g/St),d=l>d?l+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=f.length,o=h.length,d-o<0&&(o=d,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/fn|0,f[o]%=fn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,Et?vt(t,g):t}function ma(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ds+e)}function ca(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=St-r.length,n&&(o+=Mi(n)),o+=r;l=e[t],r=l+"",n=St-r.length,n&&(o+=Mi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ha=(function(){function e(r,i){var o,l=0,d=r.length;for(r=r.slice();d--;)o=r[d]*i+l,r[d]=o%fn|0,l=o/fn|0;return l&&r.unshift(l),r}function t(r,i,o,l){var d,f;if(o!=l)f=o>l?1:-1;else for(d=f=0;d<o;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*fn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var d,f,h,p,g,v,_,w,S,j,N,E,C,A,T,M,P,D,q=r.constructor,z=r.s==i.s?1:-1,F=r.d,H=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(Rr+"Division by zero");for(f=r.e-i.e,P=H.length,T=F.length,_=new q(z),w=_.d=[],h=0;H[h]==(F[h]||0);)++h;if(H[h]>(F[h]||0)&&--f,o==null?E=o=q.precision:l?E=o+(Jt(r)-Jt(i))+1:E=o,E<0)return new q(0);if(E=E/St+2|0,h=0,P==1)for(p=0,H=H[0],E++;(h<T||p)&&E--;h++)C=p*fn+(F[h]||0),w[h]=C/H|0,p=C%H|0;else{for(p=fn/(H[0]+1)|0,p>1&&(H=e(H,p),F=e(F,p),P=H.length,T=F.length),A=P,S=F.slice(0,P),j=S.length;j<P;)S[j++]=0;D=H.slice(),D.unshift(0),M=H[0],H[1]>=fn/2&&++M;do p=0,d=t(H,S,P,j),d<0?(N=S[0],P!=j&&(N=N*fn+(S[1]||0)),p=N/M|0,p>1?(p>=fn&&(p=fn-1),g=e(H,p),v=g.length,j=S.length,d=t(g,S,v,j),d==1&&(p--,n(g,P<v?D:H,v))):(p==0&&(d=p=1),g=H.slice()),v=g.length,v<j&&g.unshift(0),n(S,g,j),d==-1&&(j=S.length,d=t(H,S,P,j),d<1&&(p++,n(S,P<j?D:H,j))),j=S.length):d===0&&(p++,S=[0]),w[h++]=p,d&&S[0]?S[j++]=F[A]||0:(S=[F[A]],j=1);while((A++<T||S[0]!==void 0)&&E--)}return w[0]||w.shift(),_.e=f,vt(_,l?o+Jt(_)+1:o)}})();function bM(e,t){var n,r,i,o,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(Jt(e)>16)throw Error(ux+Jt(e));if(!e.s)return new p(dr);for(Et=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(bs(2,h))/Math.LN10*2+5|0,d+=r,n=i=o=new p(dr),p.precision=d;;){if(i=vt(i.times(e),d),n=n.times(++f),l=o.plus(Ha(i,n,d)),ca(l.d).slice(0,d)===ca(o.d).slice(0,d)){for(;h--;)o=vt(o.times(o),d);return p.precision=g,t==null?(Et=!0,vt(o,g)):o}o=l}}function Jt(e){for(var t=e.e*St,n=e.d[0];n>=10;n/=10)t++;return t}function ny(e,t,n){if(t>e.LN10.sd())throw Et=!0,n&&(e.precision=n),Error(Rr+"LN10 precision limit exceeded");return vt(new e(e.LN10),t)}function Mi(e){for(var t="";e--;)t+="0";return t}function du(e,t){var n,r,i,o,l,d,f,h,p,g=1,v=10,_=e,w=_.d,S=_.constructor,j=S.precision;if(_.s<1)throw Error(Rr+(_.s?"NaN":"-Infinity"));if(_.eq(dr))return new S(0);if(t==null?(Et=!1,h=j):h=t,_.eq(10))return t==null&&(Et=!0),ny(S,h);if(h+=v,S.precision=h,n=ca(w),r=n.charAt(0),o=Jt(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=ca(_.d),r=n.charAt(0),g++;o=Jt(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return f=ny(S,h+2,j).times(o+""),_=du(new S(r+"."+n.slice(1)),h-v).plus(f),S.precision=j,t==null?(Et=!0,vt(_,j)):_;for(d=l=_=Ha(_.minus(dr),_.plus(dr),h),p=vt(_.times(_),h),i=3;;){if(l=vt(l.times(p),h),f=d.plus(Ha(l,new S(i),h)),ca(f.d).slice(0,h)===ca(d.d).slice(0,h))return d=d.times(2),o!==0&&(d=d.plus(ny(S,h+2,j).times(o+""))),d=Ha(d,new S(g),h),S.precision=j,t==null?(Et=!0,vt(d,j)):d;d=f,i+=2}}function V2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=El(n/St),e.d=[],r=(n+1)%St,n<0&&(r+=St),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=St;r<i;)e.d.push(+t.slice(r,r+=St));t=t.slice(r),r=St-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Et&&(e.e>hh||e.e<-hh))throw Error(ux+n)}else e.s=0,e.e=0,e.d=[0];return e}function vt(e,t,n){var r,i,o,l,d,f,h,p,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=St,i=t,h=g[p=0];else{if(p=Math.ceil((r+1)/St),o=g.length,p>=o)return e;for(h=o=g[p],l=1;o>=10;o/=10)l++;r%=St,i=r-St+l}if(n!==void 0&&(o=bs(10,l-i-1),d=h/o%10|0,f=t<0||g[p+1]!==void 0||h%o,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/bs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(o=Jt(e),g.length=1,t=t-o-1,g[0]=bs(10,(St-t%St)%St),e.e=El(-t/St)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=bs(10,St-r),g[p]=i>0?(h/bs(10,l-i)%bs(10,i)|0)*o:0),f)for(;;)if(p==0){(g[0]+=o)==fn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=fn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Et&&(e.e>hh||e.e<-hh))throw Error(ux+Jt(e));return e}function xM(e,t){var n,r,i,o,l,d,f,h,p,g,v=e.constructor,_=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Et?vt(t,_):t;if(f=e.d,g=t.d,r=t.e,h=e.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(_/St),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,t.s=-t.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(o=i;o&&f[--o]===0;)f[o]=fn-1;--f[o],f[i]+=fn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Et?vt(t,_):t):new v(0)}function zs(e,t,n){var r,i=Jt(e),o=ca(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Mi(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Mi(-i-1)+o,n&&(r=n-l)>0&&(o+=Mi(r))):i>=l?(o+=Mi(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Mi(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Mi(r))),e.s<0?"-"+o:o}function W2(e,t){if(e.length>t)return e.length=t,!0}function _M(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ds+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return V2(l,o.toString())}else if(typeof o!="string")throw Error(Ds+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,VK.test(o))V2(l,o);else throw Error(Ds+o)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_M,i.config=i.set=WK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function WK(e){if(!e||typeof e!="object")throw Error(Rr+"Object expected");var t,n,r,i=["precision",1,Nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(El(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ds+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ds+n+": "+r);return this}var dx=_M(YK);dr=new dx(1);const lt=dx;var XK=e=>e,wM={},SM=e=>e===wM,X2=e=>function t(){return arguments.length===0||arguments.length===1&&SM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jM=(e,t)=>e===1?t:X2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==wM).length;return o>=e?t(...r):jM(e-o,X2(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>SM(p)?d.shift():p);return t(...h,...d)}))}),em=e=>jM(e.length,e),w0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},QK=em((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),JK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return XK;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((d,f)=>f(d),o(...arguments))}},S0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),NM=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,d)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[d])})||(t=i,n=e(...i)),n}};function EM(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function OM(e,t,n){for(var r=new lt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}em((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});em((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});em((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var CM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},AM=(e,t,n)=>{if(e.lte(0))return new lt(0);var r=EM(e.toNumber()),i=new lt(10).pow(r),o=e.div(i),l=r!==1?.05:.1,d=new lt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return t?new lt(f.toNumber()):new lt(Math.ceil(f.toNumber()))},ZK=(e,t,n)=>{var r=new lt(1),i=new lt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new lt(10).pow(EM(e)-1),i=new lt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new lt(Math.floor(e)))}else e===0?i=new lt(Math.floor((t-1)/2)):n||(i=new lt(Math.floor(e)));var l=Math.floor((t-1)/2),d=JK(QK(f=>i.add(new lt(f-l).mul(r)).toNumber()),w0);return d(0,t)},TM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var l=AM(new lt(n).sub(t).div(r-1),i,o),d;t<=0&&n>=0?d=new lt(0):(d=new lt(t).add(n).div(2),d=d.sub(new lt(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new lt(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?TM(t,n,r,i,o+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new lt(f).mul(l)),tickMax:d.add(new lt(h).mul(l))})};function eG(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,d]=CM([t,n]);if(l===-1/0||d===1/0){var f=d===1/0?[l,...w0(0,r-1).map(()=>1/0)]:[...w0(0,r-1).map(()=>-1/0),d];return t>n?S0(f):f}if(l===d)return ZK(l,r,i);var{step:h,tickMin:p,tickMax:g}=TM(l,d,o,i,0),v=OM(p,g.add(new lt(.1).mul(h)),h);return t>n?S0(v):v}function tG(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=CM([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var d=Math.max(t,2),f=AM(new lt(l).sub(o).div(d-1),i,0),h=[...OM(new lt(o),new lt(l),f),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?S0(h):h}var nG=NM(eG),rG=NM(tG),kM=e=>e.rootProps.maxBarSize,aG=e=>e.rootProps.barGap,MM=e=>e.rootProps.barCategoryGap,iG=e=>e.rootProps.barSize,Au=e=>e.rootProps.stackOffset,fx=e=>e.options.chartName,hx=e=>e.rootProps.syncId,PM=e=>e.rootProps.syncMethod,mx=e=>e.options.eventEmitter,La={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},sG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:La.angleAxisId,includeHidden:!1,name:void 0,reversed:La.reversed,scale:La.scale,tick:La.tick,tickCount:void 0,ticks:void 0,type:La.type,unit:void 0},oG={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},lG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:La.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:La.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:La.scale,tick:La.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cG={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},px=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?lG:sG,gx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?cG:oG,nm=e=>e.polarOptions,vx=ee([Qa,Ja,an],pk),RM=ee([nm,vx],(e,t)=>{if(e!=null)return An(e.innerRadius,t,0)}),DM=ee([nm,vx],(e,t)=>{if(e!=null)return An(e.outerRadius,t,t*.8)}),uG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},LM=ee([nm],uG);ee([px,LM],tm);var IM=ee([vx,RM,DM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ee([gx,IM],tm);var UM=ee([nt,nm,RM,DM,Qa,Ja],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:An(l,i,i/2),cy:An(d,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ct=(e,t)=>t,Tu=(e,t,n)=>n;function yx(e){return e==null?void 0:e.id}var on=e=>{var t=nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ol=e=>e.tooltip.settings.axisId,gn=e=>{var t=on(e),n=Ol(e);return ku(e,t,n)},zM=ee([gn],e=>e==null?void 0:e.dataKey);function $M(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=yx(d);h.forEach((g,v)=>{var _=o==null||i?v:String(Rt(g,o,null)),w=Rt(g,d.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[p]:w}),l.set(_,S)})}}),Array.from(l.values())}function rm(e){return e.stackId!=null&&e.dataKey!=null}function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(r){dG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dG(e,t,n){return(t=fG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j0=[0,"auto"],lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BM=(e,t)=>e.cartesianAxis.xAxis[t],ei=(e,t)=>{var n=BM(e,t);return n??lr},cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ju},qM=(e,t)=>e.cartesianAxis.yAxis[t],ti=(e,t)=>{var n=qM(e,t);return n??cr},mG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??mG},qt=(e,t,n)=>{switch(t){case"xAxis":return ei(e,n);case"yAxis":return ti(e,n);case"zAxis":return bx(e,n);case"angleAxis":return px(e,n);case"radiusAxis":return gx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pG=(e,t,n)=>{switch(t){case"xAxis":return ei(e,n);case"yAxis":return ti(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ku=(e,t,n)=>{switch(t){case"xAxis":return ei(e,n);case"yAxis":return ti(e,n);case"angleAxis":return px(e,n);case"radiusAxis":return gx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var _x=e=>e.graphicalItems.cartesianItems,gG=ee([Ct,Tu],xx),wx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Mu=ee([_x,qt,gG],wx),FM=ee([Mu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rm)),KM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GM=ee([Mu],KM),Sx=e=>e.map(t=>t.data).filter(Boolean).flat(1),vG=ee([Mu],Sx),jx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Nx=ee([vG,cx],jx),Ex=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Rt(i,r)}))):e.map(r=>({value:r})),am=ee([Nx,qt,Mu],Ex);function YM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Vs(e){return e.filter(t=>ha(t)||t instanceof Date).map(Number).filter(t=>hr(t)===!1)}function yG(e,t,n){return!n||typeof t!="number"||hr(t)?[]:n.length?Vs(n.flatMap(r=>{var i=Rt(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!pr(o)||!pr(l)))return[t-o,t+l]})):[]}var bG=ee([FM,cx,gn],$M),VM=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,d]=o,f=d.map(yx);return[l,{stackedData:S7(e,f,n),graphicalItems:d}]}))},N0=ee([bG,FM,Au],VM),WM=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=C7(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},xG=ee([N0,Gi,Ct],WM),XM=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(l=>{var d,f,h=(d=r[l.id])===null||d===void 0?void 0:d.filter(g=>YM(i,g)),p=Rt(o,(f=t.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:p,errorDomain:yG(o,p,h)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:Rt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),im=e=>e.errorBars,QM=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>YM(n,r));ee([GM,im,Ct],QM);var _G=ee([Nx,qt,GM,im,Ct],XM);function wG(e){var{value:t}=e;if(ha(t)||t instanceof Date)return t}var J2=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Vs(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SG=(e,t,n)=>{var r=e.map(wG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&uT(r))?Lk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Ox=e=>{var t;if(e==null||!("domain"in e))return j0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Vs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:j0},ph=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),d=Math.max(...o);return[l,d]}},JM=e=>e.referenceElements.dots,Cl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),jG=ee([JM,Ct,Tu],Cl),ZM=e=>e.referenceElements.areas,NG=ee([ZM,Ct,Tu],Cl),eP=e=>e.referenceElements.lines,EG=ee([eP,Ct,Tu],Cl),tP=(e,t)=>{var n=Vs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},OG=ee(jG,Ct,tP),nP=(e,t)=>{var n=Vs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},CG=ee([NG,Ct],nP),rP=(e,t)=>{var n=Vs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},AG=ee(EG,Ct,rP),TG=ee(OG,AG,CG,(e,t,n)=>ph(e,n,t)),aP=ee([qt],Ox),Cx=(e,t,n,r,i,o,l)=>{var d=KK(t,e.allowDataOverflow);if(d!=null)return d;var f=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",h=f?ph(n,i,J2(r)):ph(i,J2(r));return GK(t,h,e.allowDataOverflow)},kG=ee([qt,aP,xG,_G,TG,nt,Ct],Cx),MG=[0,1],Ax=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Fs(t,o);return h&&d==null?Lk(0,n.length):f==="category"?SG(r,e,h):i==="expand"?MG:l}},Tx=ee([qt,nt,Nx,am,Au,Ct,kG],Ax),iP=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(xu(o));return d in $c?d:"point"}}},Al=ee([qt,nt,HM,fx,Ct],iP);function PG(e){if(e!=null){if(e in $c)return $c[e]();var t="scale".concat(xu(e));if(t in $c)return $c[t]()}}function kx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=PG(t);if(i!=null){var o=i.domain(n).range(r);return y7(o),o}}}var Mx=(e,t,n)=>{var r=Ox(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ml(e))return nG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ml(e))return rG(e,t.tickCount,t.allowDecimals)}},Px=ee([Tx,ku,Al],Mx),Rx=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ml(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],d=n[n.length-1];return[Math.min(i,o),Math.max(l,d)]}return t},RG=ee([qt,Tx,Px,Ct],Rx),DG=ee(am,qt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Vs(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),sP=ee(DG,nt,MM,an,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!pr(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=An(n,e*o),d=e*o/2;return d-l-(d-l)/o*l}return 0}),LG=(e,t)=>{var n=ei(e,t);return n==null||typeof n.padding!="string"?0:sP(e,"xAxis",t,n.padding)},IG=(e,t)=>{var n=ti(e,t);return n==null||typeof n.padding!="string"?0:sP(e,"yAxis",t,n.padding)},UG=ee(ei,LG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),zG=ee(ti,IG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),$G=ee([an,UG,Kh,Fh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),BG=ee([an,nt,zG,Kh,Fh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Pu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return $G(e,n,r);case"yAxis":return BG(e,n,r);case"zAxis":return(i=bx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return LM(e);case"radiusAxis":return IM(e,n);default:return}},oP=ee([qt,Pu],tm),Tl=ee([qt,Al,RG,oP],kx);ee([Mu,im,Ct],QM);function lP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sm=(e,t)=>t,om=(e,t,n)=>n,qG=ee(qh,sm,om,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lP)),HG=ee(Hh,sm,om,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lP)),cP=(e,t)=>({width:e.width,height:t.height}),FG=(e,t)=>{var n=typeof t.width=="number"?t.width:ju;return{width:n,height:e.height}},uP=ee(an,ei,cP),KG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},GG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},YG=ee(Ja,an,qG,sm,om,(e,t,n,r,i)=>{var o={},l;return n.forEach(d=>{var f=cP(t,d);l==null&&(l=KG(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;o[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),o}),VG=ee(Qa,an,HG,sm,om,(e,t,n,r,i)=>{var o={},l;return n.forEach(d=>{var f=FG(t,d);l==null&&(l=GG(t,r,e));var h=r==="left"&&!i||r==="right"&&i;o[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),o}),WG=(e,t)=>{var n=ei(e,t);if(n!=null)return YG(e,n.orientation,n.mirror)},XG=ee([an,ei,WG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),QG=(e,t)=>{var n=ti(e,t);if(n!=null)return VG(e,n.orientation,n.mirror)},JG=ee([an,ti,QG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dP=ee(an,ti,(e,t)=>{var n=typeof t.width=="number"?t.width:ju;return{width:n,height:e.height}}),Z2=(e,t,n)=>{switch(t){case"xAxis":return uP(e,n).width;case"yAxis":return dP(e,n).height;default:return}},fP=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,d=Fs(e,r),f=t.map(h=>h.value);if(l&&d&&o==="category"&&i&&uT(f))return f}},Dx=ee([nt,am,qt,Ct],fP),hP=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Fs(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(d=>d.value)}},Lx=ee([nt,am,ku,Ct],hP),eO=ee([nt,pG,Al,Tl,Dx,Lx,Pu,Px,Ct],(e,t,n,r,i,o,l,d,f)=>{if(t==null)return null;var h=Fs(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}),ZG=(e,t,n,r,i,o,l,d,f)=>{if(!(t==null||r==null)){var h=Fs(e,f),{type:p,ticks:g,tickCount:v}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/_:0;w=f==="angleAxis"&&o!=null&&o.length>=2?hn(o[0]-o[1])*2*w:w;var S=g||i;if(S){var j=S.map((N,E)=>{var C=l?l.indexOf(N):N;return{index:E,coordinate:r(C)+w,value:N,offset:w}});return j.filter(N=>!hr(N.coordinate))}return h&&d?d.map((N,E)=>({coordinate:r(N)+w,value:N,index:E,offset:w})):r.ticks?r.ticks(v).map(N=>({coordinate:r(N)+w,value:N,offset:w})):r.domain().map((N,E)=>({coordinate:r(N)+w,value:l?l[N]:N,index:E,offset:w}))}},mP=ee([nt,ku,Al,Tl,Px,Pu,Dx,Lx,Ct],ZG),eY=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Fs(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?hn(r[0]-r[1])*2*h:h,d&&o?o.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},pl=ee([nt,ku,Tl,Pu,Dx,Lx,Ct],eY),gl=ee(qt,Tl,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})}),tY=ee([qt,Al,Tx,oP],kx);ee((e,t,n)=>bx(e,n),tY,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})});var nY=ee([nt,qh,Hh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pP=e=>e.options.defaultTooltipEventType,gP=e=>e.options.validateTooltipEventTypes;function vP(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Ix(e,t){var n=pP(e),r=gP(e);return vP(t,n,r)}function rY(e){return we(t=>Ix(t,e))}var yP=(e,t)=>{var n,r=Number(t);if(!(hr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},aY=e=>e.tooltip.settings,Li={active:!1,index:null,dataKey:void 0,coordinate:void 0},iY={itemInteraction:{click:Li,hover:Li},axisInteraction:{click:Li,hover:Li},keyboardInteraction:Li,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bP=gr({name:"tooltip",initialState:iY,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:sY,removeTooltipEntrySettings:oY,setTooltipSettingsState:lY,setActiveMouseOverItemIndex:xP,mouseLeaveItem:cY,mouseLeaveChart:_P,setActiveClickItemIndex:uY,setMouseOverAxisIndex:wP,setMouseClickAxisIndex:dY,setSyncInteraction:E0,setKeyboardInteraction:O0}=bP.actions,fY=bP.reducer;function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){hY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function vY(e){return e.index!=null}var SP=(e,t,n,r)=>{if(t==null)return Li;var i=gY(e,t,n);if(i==null)return Li;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(vY(i)){if(o)return vf(vf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return vf(vf({},Li),{},{coordinate:i.coordinate})},Ux=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!pr(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},jP=(e,t,n,r,i,o,l,d)=>{if(!(o==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,o);if(h!=null)return h;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},NP=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Ru=e=>e.options.tooltipPayloadSearcher,kl=e=>e.tooltip;function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){yY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yY(e,t,n){return(t=bY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Y(e,t){return e??t}var EP=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((v,_)=>{var w,{dataDefinedOnItem:S,settings:j}=_,N=_Y(S,d),E=Array.isArray(N)?gk(N,h,p):N,C=(w=j==null?void 0:j.dataKey)!==null&&w!==void 0?w:r,A=j==null?void 0:j.nameKey,T;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?T=o8(E,r,i):T=o(E,t,f,A),Array.isArray(T))T.forEach(P=>{var D=rO(rO({},j),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(zE({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:Rt(P.payload,P.dataKey),name:P.name}))});else{var M;v.push(zE({tooltipEntrySettings:j,dataKey:C,payload:T,value:Rt(T,C),name:(M=Rt(T,A))!==null&&M!==void 0?M:j==null?void 0:j.name}))}return v},g)}},zx=ee([gn,nt,HM,fx,on],iP),wY=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SY=ee([on,Ol],xx),Du=ee([wY,gn,SY],wx),jY=ee([Du],e=>e.filter(rm)),NY=ee([Du],Sx),Ml=ee([NY,Gi],jx),EY=ee([jY,Gi,gn],$M),$x=ee([Ml,gn,Du],Ex),OY=ee([gn],Ox),CY=ee([Du],e=>e.filter(rm)),AY=ee([EY,CY,Au],VM),TY=ee([AY,Gi,on],WM),kY=ee([Du],KM),MY=ee([Ml,gn,kY,im,on],XM),PY=ee([JM,on,Ol],Cl),RY=ee([PY,on],tP),DY=ee([ZM,on,Ol],Cl),LY=ee([DY,on],nP),IY=ee([eP,on,Ol],Cl),UY=ee([IY,on],rP),zY=ee([RY,UY,LY],ph),$Y=ee([gn,OY,TY,MY,zY,nt,on],Cx),OP=ee([gn,nt,Ml,$x,Au,on,$Y],Ax),BY=ee([OP,gn,zx],Mx),qY=ee([gn,OP,BY,on],Rx),CP=e=>{var t=on(e),n=Ol(e),r=!1;return Pu(e,t,n,r)},AP=ee([gn,CP],tm),TP=ee([gn,zx,qY,AP],kx),HY=ee([nt,$x,gn,on],fP),FY=ee([nt,$x,gn,on],hP),KY=(e,t,n,r,i,o,l,d)=>{if(t){var{type:f}=t,h=Fs(e,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?hn(i[0]-i[1])*2*g:g,h&&l?l.map((v,_)=>({coordinate:r(v)+g,value:v,index:_,offset:g})):r.domain().map((v,_)=>({coordinate:r(v)+g,value:o?o[v]:v,index:_,offset:g}))}}},ni=ee([nt,gn,zx,TP,CP,HY,FY,on],KY),Bx=ee([pP,gP,aY],(e,t,n)=>vP(n.shared,e,t)),kP=e=>e.tooltip.settings.trigger,qx=e=>e.tooltip.settings.defaultIndex,lm=ee([kl,Bx,kP,qx],SP),$s=ee([lm,Ml],Ux),MP=ee([ni,$s],yP),PP=ee([lm],e=>{if(e)return e.dataKey}),RP=ee([kl,Bx,kP,qx],NP),GY=ee([Qa,Ja,nt,an,ni,qx,RP,Ru],jP),YY=ee([lm,GY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),VY=ee([lm],e=>e.active),WY=ee([RP,$s,Gi,zM,MP,Ru,Bx],EP);ee([WY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(r){XY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XY(e,t,n){return(t=QY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZY=()=>we(gn),eV=()=>{var e=ZY(),t=we(ni),n=we(TP);return Mb(iO(iO({},e),{},{scale:n}),t)},tV=()=>we(fx),Hx=(e,t)=>t,DP=(e,t,n)=>n,Fx=(e,t,n,r)=>r,nV=ee(ni,e=>Dh(e,t=>t.coordinate)),Kx=ee([kl,Hx,DP,Fx],SP),LP=ee([Kx,Ml],Ux),rV=(e,t,n)=>{if(t!=null){var r=kl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},IP=ee([kl,Hx,DP,Fx],NP),gh=ee([Qa,Ja,nt,an,ni,Fx,IP,Ru],jP),aV=ee([Kx,gh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),UP=ee(ni,LP,yP),iV=ee([IP,LP,Gi,zM,UP,Ru,Hx],EP),sV=ee([Kx],e=>({isActive:e.active,activeIndex:e.index})),oV=(e,t,n,r,i,o,l,d)=>{if(!(!e||!t||!r||!i||!o)){var f=A7(e.chartX,e.chartY,t,n,d);if(f){var h=k7(f,t),p=g7(h,l,o,r,i),g=T7(t,o,p,f);return{activeIndex:String(p),activeCoordinate:g}}}};function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){lV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lV(e,t,n){return(t=cV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dV(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:d,tooltipEventType:f,chartName:h}=e,p=t,g=n,v=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var _,w;if(h==="ScatterChart")_=p,w=k9;else if(h==="BarChart")_=M9(l,p,i,o),w=Mk;else if(l==="radial"){var{cx:S,cy:j,radius:N,startAngle:E,endAngle:C}=Pk(p);_={cx:S,cy:j,startAngle:E,endAngle:C,innerRadius:N,outerRadius:N},w=Dk}else _={points:dH(l,p,i)},w=Ok;var A=typeof d=="object"&&"className"in d?d.className:void 0,T=yf(yf(yf(yf({stroke:"#ccc",pointerEvents:"none"},i),_),rn(d,!1)),{},{payload:g,payloadIndex:v,className:ct("recharts-tooltip-cursor",A)});return b.isValidElement(d)?b.cloneElement(d,T):b.createElement(w,T)}function fV(e){var t=eV(),n=wk(),r=Ib(),i=tV();return b.createElement(dV,C0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var zP=b.createContext(null),hV=()=>b.useContext(zP),ry={exports:{}},oO;function mV(){return oO||(oO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function o(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,g||f,v),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],_]:f._events[w].push(_):(f._events[w]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,_=g.length,w=new Array(_);v<_;v++)w[v]=g[v].fn;return w},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,v,_,w){var S=n?n+h:h;if(!this._events[S])return!1;var j=this._events[S],N=arguments.length,E,C;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,v),!0;case 5:return j.fn.call(j.context,p,g,v,_),!0;case 6:return j.fn.call(j.context,p,g,v,_,w),!0}for(C=1,E=new Array(N-1);C<N;C++)E[C-1]=arguments[C];j.fn.apply(j.context,E)}else{var A=j.length,T;for(C=0;C<A;C++)switch(j[C].once&&this.removeListener(h,j[C].fn,void 0,!0),N){case 1:j[C].fn.call(j[C].context);break;case 2:j[C].fn.call(j[C].context,p);break;case 3:j[C].fn.call(j[C].context,p,g);break;case 4:j[C].fn.call(j[C].context,p,g,v);break;default:if(!E)for(T=1,E=new Array(N-1);T<N;T++)E[T-1]=arguments[T];j[C].fn.apply(j[C].context,E)}}return!0},d.prototype.on=function(h,p,g){return o(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return o(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var w=this._events[_];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&l(this,_);else{for(var S=0,j=[],N=w.length;S<N;S++)(w[S].fn!==p||v&&!w[S].once||g&&w[S].context!==g)&&j.push(w[S]);j.length?this._events[_]=j.length===1?j[0]:j:l(this,_)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(ry)),ry.exports}var pV=mV();const gV=Qr(pV);var fu=new gV,A0="recharts.syncEvent.tooltip",lO="recharts.syncEvent.brush";function $P(e,t){if(t){var n=Number.parseInt(t,10);if(!hr(n))return e==null?void 0:e[n]}}var vV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},BP=gr({name:"options",initialState:vV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yV=BP.reducer,{createEventEmitter:bV}=BP.actions;function xV(e){return e.tooltip.syncInteraction}var _V={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qP=gr({name:"chartData",initialState:_V,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:cO,setDataStartEndIndexes:wV,setComputedData:rre}=qP.actions,SV=qP.reducer,jV=["x","y"];function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){NV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NV(e,t,n){return(t=EV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CV(e,t){if(e==null)return{};var n,r,i=AV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HP=()=>{};function TV(){var e=we(hx),t=we(mx),n=Dt(),r=we(PM),i=we(ni),o=Ib(),l=Rb(),d=we(f=>f.rootProps.className);b.useEffect(()=>{if(e==null)return HP;var f=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var _=p.payload.coordinate,{x:w,y:S}=_,j=CV(_,jV),N=ms(ms(ms({},j),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),E=ms(ms({},p),{},{payload:ms(ms({},p.payload),{},{coordinate:N})});n(E)}else n(p);return}if(i!=null){var C;if(typeof r=="function"){var A={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,A);C=i[T]}else r==="value"&&(C=i.find(ae=>String(ae.value)===p.payload.label));var{coordinate:M}=p.payload;if(C==null||p.payload.active===!1||M==null||l==null){n(E0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:D}=M,q=Math.min(P,l.x+l.width),z=Math.min(D,l.y+l.height),F={x:o==="horizontal"?C.coordinate:q,y:o==="horizontal"?z:C.coordinate},H=E0({active:p.payload.active,coordinate:F,dataKey:p.payload.dataKey,index:String(C.index),label:p.payload.label});n(H)}}};return fu.on(A0,f),()=>{fu.off(A0,f)}},[d,n,t,e,r,i,o,l])}function kV(){var e=we(hx),t=we(mx),n=Dt();b.useEffect(()=>{if(e==null)return HP;var r=(i,o,l)=>{t!==l&&e===i&&n(wV(o))};return fu.on(lO,r),()=>{fu.off(lO,r)}},[n,t,e])}function MV(){var e=Dt();b.useEffect(()=>{e(bV())},[e]),TV(),kV()}function PV(e,t,n,r,i,o){var l=we(v=>rV(v,e,t)),d=we(mx),f=we(hx),h=we(PM),p=we(xV),g=p==null?void 0:p.active;b.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=E0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});fu.emit(A0,f,v,d)}},[g,n,l,i,r,d,f,h,o])}function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){RV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RV(e,t,n){return(t=DV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DV(e){var t=LV(e,"string");return typeof t=="symbol"?t:t+""}function LV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IV(e){return e.dataKey}function UV(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(c9,t)}var hO=[],zV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ks.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mO(e){var t=In(e,zV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:_,wrapperStyle:w,cursor:S,shared:j,trigger:N,defaultIndex:E,portal:C,axisId:A}=t,T=Dt(),M=typeof E=="number"?String(E):E;b.useEffect(()=>{T(lY({shared:j,trigger:N,axisId:A,active:n,defaultIndex:M}))},[T,j,N,A,n,M]);var P=Rb(),D=Ek(),q=rY(j),{activeIndex:z,isActive:F}=we(te=>sV(te,q,N,M)),H=we(te=>iV(te,q,N,M)),ae=we(te=>UP(te,q,N,M)),$=we(te=>aV(te,q,N,M)),K=H,L=hV(),Y=n??F,[W,ue]=FT([K,Y]),ne=q==="axis"?ae:void 0;PV(q,N,$,ne,z,Y);var R=C??L;if(R==null)return null;var I=K??hO;Y||(I=hO),d&&I.length&&(I=zT(K.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),p,IV));var V=I.length>0,X=b.createElement(g9,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:Y,coordinate:$,hasPayload:V,offset:h,position:g,reverseDirection:v,useTranslate3d:_,viewBox:P,wrapperStyle:w,lastBoundingBox:W,innerRef:ue,hasPortalFromProps:!!C},UV(l,fO(fO({},t),{},{payload:I,label:ne,active:Y,coordinate:$,accessibilityLayer:D})));return b.createElement(b.Fragment,null,Y0.createPortal(X,R),Y&&b.createElement(fV,{cursor:S,tooltipEventType:q,coordinate:$,payload:K,index:z}))}var ay={},iy={},sy={},pO;function $V(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,d=null;const f=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),S()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{w(),l=void 0,d=null},j=()=>{p()},N=function(...E){if(i!=null&&i.aborted)return;l=this,d=E;const C=v==null;_(),f&&C&&p()};return N.schedule=_,N.cancel=S,N.flush=j,i==null||i.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(sy)),sy}var gO;function BV(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$V();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:d=!0,maxWait:f}=o,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:h}),_=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,S),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,S),p)},w=()=>(v.flush(),p);return _.cancel=v.cancel,_.flush=w,_}e.debounce=n})(iy)),iy}var vO;function qV(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BV();function n(r,i=0,o={}){const{leading:l=!0,trailing:d=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:d})}e.throttle=n})(ay)),ay}var oy,yO;function HV(){return yO||(yO=1,oy=qV().throttle),oy}var FV=HV();const KV=Qr(FV);var Yc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){GV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GV(e,t,n){return(t=YV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xO=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:v,onResize:_,style:w={}}=e,S=b.useRef(null),j=b.useRef();j.current=_,b.useImperativeHandle(t,()=>S.current);var[N,E]=b.useState({containerWidth:r.width,containerHeight:r.height}),C=b.useCallback((T,M)=>{E(P=>{var D=Math.round(T),q=Math.round(M);return P.containerWidth===D&&P.containerHeight===q?P:{containerWidth:D,containerHeight:q}})},[]);b.useEffect(()=>{var T=q=>{var z,{width:F,height:H}=q[0].contentRect;C(F,H),(z=j.current)===null||z===void 0||z.call(j,F,H)};p>0&&(T=KV(T,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(T),{width:P,height:D}=S.current.getBoundingClientRect();return C(P,D),M.observe(S.current),()=>{M.disconnect()}},[C,p]);var A=b.useMemo(()=>{var{containerWidth:T,containerHeight:M}=N;if(T<0||M<0)return null;Yc(Os(i)||Os(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Yc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Os(i)?T:i,D=Os(o)?M:o;return n&&n>0&&(P?D=P/n:D&&(P=D*n),f&&D>f&&(D=f)),Yc(P>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,D,i,o,l,d,n),b.Children.map(h,q=>b.cloneElement(q,{width:P,height:D,style:ly({width:P,height:D},q.props.style)}))},[n,h,o,f,d,l,N,i]);return b.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",v),style:ly(ly({},w),{},{width:i,height:o,minWidth:l,minHeight:d,maxHeight:f}),ref:S},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),Lu=e=>null;Lu.displayName="Cell";function WV(e,t,n){return(t=XV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JV{constructor(t){WV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){eW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eW(e,t,n){return(t=tW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rW={cacheSize:2e3,enableCache:!0},FP=ZV({},rW),wO=new JV(FP.cacheSize),aW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SO="recharts_measurement_span";function iW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(d)}var jO=(e,t)=>{try{var n=document.getElementById(SO);n||(n=document.createElement("span"),n.setAttribute("id",SO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,aW,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ks.isSsr)return{width:0,height:0};if(!FP.enableCache)return jO(t,n);var r=iW(t,n),i=wO.get(r);if(i)return i;var o=jO(t,n);return wO.set(r,o),o},NO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lW=Object.keys(KP),tl="NaN";function cW(e,t){return e*KP[t]}class Vn{static parse(t){var n,[,r,i]=(n=oW.exec(t))!==null&&n!==void 0?n:[];return new Vn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,hr(t)&&(this.unit=""),n!==""&&!sW.test(n)&&(this.num=NaN,this.unit=""),lW.includes(n)&&(this.num=cW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hr(this.num)}}function GP(e){if(e.includes(tl))return tl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=NO.exec(t))!==null&&n!==void 0?n:[],l=Vn.parse(r??""),d=Vn.parse(o??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return tl;t=t.replace(NO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=EO.exec(t))!==null&&h!==void 0?h:[],_=Vn.parse(p??""),w=Vn.parse(v??""),S=g==="+"?_.add(w):_.subtract(w);if(S.isNaN())return tl;t=t.replace(EO,S.toString())}return t}var OO=/\(([^()]*)\)/;function uW(e){for(var t=e,n;(n=OO.exec(t))!=null;){var[,r]=n;t=t.replace(OO,GP(r))}return t}function dW(e){var t=e.replace(/\s+/g,"");return t=uW(t),t=GP(t),t}function fW(e){try{return dW(e)}catch{return tl}}function cy(e){var t=fW(e.slice(5,-1));return t===tl?"":t}var hW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mW=["dx","dy","angle","className","breakAll"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function CO(e,t){if(e==null)return{};var n,r,i=pW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YP=/[ \f\n\r\t\v\u2028\u2029]+/,VP=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];mn(t)||(n?i=t.toString().split(""):i=t.toString().split(YP));var o=i.map(d=>({word:d,width:Vc(d,r).width})),l=n?0:Vc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gW=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:d,breakAll:f}=e,h=je(o),p=l,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((H,ae)=>{var{word:$,width:K}=ae,L=H[H.length-1];if(L&&(r==null||i||L.width+K+n<Number(r)))L.words.push($),L.width+=K+n;else{var Y={words:[$],width:K};H.push(Y)}return H},[])},v=g(t),_=z=>z.reduce((F,H)=>F.width>H.width?F:H);if(!h||i)return v;var w=v.length>o||_(v).width>Number(r);if(!w)return v;for(var S="",j=z=>{var F=p.slice(0,z),H=VP({breakAll:f,style:d,children:F+S}).wordsWithComputedWidth,ae=g(H),$=ae.length>o||_(ae).width>Number(r);return[$,ae]},N=0,E=p.length-1,C=0,A;N<=E&&C<=p.length-1;){var T=Math.floor((N+E)/2),M=T-1,[P,D]=j(M),[q]=j(T);if(!P&&!q&&(N=T+1),P&&q&&(E=T-1),!P&&q){A=D;break}C++}return A||v},AO=e=>{var t=mn(e)?[]:e.toString().split(YP);return[{words:t}]},vW=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Ks.isSsr){var d,f,h=VP({breakAll:o,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return AO(r);return gW({breakAll:o,children:r,maxLines:l,style:i},d,f,t,n)}return AO(r)},TO="#808080",cm=b.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:d="start",verticalAnchor:f="end",fill:h=TO}=e,p=CO(e,hW),g=b.useMemo(()=>vW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:_,angle:w,className:S,breakAll:j}=p,N=CO(p,mW);if(!ha(n)||!ha(r)||g.length===0)return null;var E=n+(je(v)?v:0),C=r+(je(_)?_:0),A;switch(f){case"start":A=cy("calc(".concat(o,")"));break;case"middle":A=cy("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:A=cy("calc(".concat(g.length-1," * -").concat(i,")"));break}var T=[];if(l){var M=g[0].width,{width:P}=p;T.push("scale(".concat(je(P)?P/M:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(E,", ").concat(C,")")),T.length&&(N.transform=T.join(" ")),b.createElement("text",T0({},rn(N,!0),{ref:t,x:E,y:C,className:ct("recharts-text",S),textAnchor:d,fill:h.includes("url")?TO:h}),g.map((D,q)=>{var z=D.words.join(j?"":" ");return b.createElement("tspan",{x:E,dy:q===0?A:i,key:"".concat(z,"-").concat(q)},z)}))});cm.displayName="Text";var yW=["labelRef"];function bW(e,t){if(e==null)return{};var n,r,i=xW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){_W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _W(e,t,n){return(t=wW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}var WP=b.createContext(null),jW=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=b.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return b.createElement(WP.Provider,{value:l},o)},XP=()=>{var e=b.useContext(WP),t=Rb();return e||t},NW=b.createContext(null),EW=()=>{var e=b.useContext(NW),t=we(UM);return e||t},OW=e=>{var{value:t,formatter:n}=e,r=mn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Gx=e=>e!=null&&typeof e=="function",CW=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},AW=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:_}=i,w=(h+p)/2,S=CW(g,v),j=S>=0?1:-1,N,E;switch(t){case"insideStart":N=g+j*o,E=_;break;case"insideEnd":N=v-j*o,E=!_;break;case"end":N=v+j*o,E=_;break;default:throw new Error("Unsupported position ".concat(t))}E=S<=0?E:!E;var C=Qt(d,f,w,N),A=Qt(d,f,w,N+(E?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(A.x,",").concat(A.y),M=mn(e.id)?nu("recharts-radial-line-"):e.id;return b.createElement("text",Ia({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),b.createElement("defs",null,b.createElement("path",{id:M,d:T})),b.createElement("textPath",{xlinkHref:"#".concat(M)},n))},TW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Qt(r,i,l+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:_,y:w}=Qt(r,i,v,h);return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},QP=e=>"cx"in e&&je(e.cx),kW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!QP(n)&&(o=n);var{x:l,y:d,width:f,height:h}=t,p=h>=0?1:-1,g=p*r,v=p>0?"end":"start",_=p>0?"start":"end",w=f>=0?1:-1,S=w*r,j=w>0?"end":"start",N=w>0?"start":"end";if(i==="top"){var E={x:l+f/2,y:d-p*r,textAnchor:"middle",verticalAnchor:v};return Bt(Bt({},E),o?{height:Math.max(d-o.y,0),width:f}:{})}if(i==="bottom"){var C={x:l+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:_};return Bt(Bt({},C),o?{height:Math.max(o.y+o.height-(d+h),0),width:f}:{})}if(i==="left"){var A={x:l-S,y:d+h/2,textAnchor:j,verticalAnchor:"middle"};return Bt(Bt({},A),o?{width:Math.max(A.x-o.x,0),height:h}:{})}if(i==="right"){var T={x:l+f+S,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return Bt(Bt({},T),o?{width:Math.max(o.x+o.width-T.x,0),height:h}:{})}var M=o?{width:f,height:h}:{};return i==="insideLeft"?Bt({x:l+S,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},M):i==="insideRight"?Bt({x:l+f-S,y:d+h/2,textAnchor:j,verticalAnchor:"middle"},M):i==="insideTop"?Bt({x:l+f/2,y:d+g,textAnchor:"middle",verticalAnchor:_},M):i==="insideBottom"?Bt({x:l+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Bt({x:l+S,y:d+g,textAnchor:N,verticalAnchor:_},M):i==="insideTopRight"?Bt({x:l+f-S,y:d+g,textAnchor:j,verticalAnchor:_},M):i==="insideBottomLeft"?Bt({x:l+S,y:d+h-g,textAnchor:N,verticalAnchor:v},M):i==="insideBottomRight"?Bt({x:l+f-S,y:d+h-g,textAnchor:j,verticalAnchor:v},M):i&&typeof i=="object"&&(je(i.x)||Os(i.x))&&(je(i.y)||Os(i.y))?Bt({x:l+An(i.x,f),y:d+An(i.y,h),textAnchor:"end",verticalAnchor:"end"},M):Bt({x:l+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},M)},MW={offset:5};function Pi(e){var t=In(e,MW),{viewBox:n,position:r,value:i,children:o,content:l,className:d="",textBreakAll:f,labelRef:h}=t,p=EW(),g=XP(),v=r==="center"?g:p??g,_=n||v;if(!_||mn(i)&&mn(o)&&!b.isValidElement(l)&&typeof l!="function")return null;var w=Bt(Bt({},t),{},{viewBox:_});if(b.isValidElement(l)){var{labelRef:S}=w,j=bW(w,yW);return b.cloneElement(l,j)}var N;if(typeof l=="function"){if(N=b.createElement(l,w),b.isValidElement(N))return N}else N=OW(t);var E=QP(_),C=rn(t,!0);if(E&&(r==="insideStart"||r==="insideEnd"||r==="end"))return AW(t,r,N,C,_);var A=E?TW(_,t.offset,t.position):kW(t,_);return b.createElement(cm,Ia({ref:h,className:ct("recharts-label",d)},C,A,{breakAll:f}),N)}Pi.displayName="Label";var PW=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Pi,Ia({key:"label-implicit"},r)):ha(e)?b.createElement(Pi,Ia({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Pi?b.cloneElement(e,Bt({key:"label-implicit"},r)):b.createElement(Pi,Ia({key:"label-implicit",content:e},r)):Gx(e)?b.createElement(Pi,Ia({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Pi,Ia({},e,{key:"label-implicit"},r)):null};function RW(e){var{label:t}=e,n=XP();return PW(t,n)||null}var uy={},dy={},MO;function DW(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(dy)),dy}var fy={},PO;function LW(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(fy)),fy}var RO;function IW(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DW(),n=LW(),r=jb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(uy)),uy}var hy,DO;function UW(){return DO||(DO=1,hy=IW().last),hy}var zW=UW();const $W=Qr(zW);var BW=["valueAccessor"],qW=["dataKey","clockWise","id","textBreakAll"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh.apply(null,arguments)}function LO(e,t){if(e==null)return{};var n,r,i=HW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FW=e=>Array.isArray(e.value)?$W(e.value):e.value,JP=b.createContext(void 0),KW=JP.Provider,ZP=b.createContext(void 0),GW=ZP.Provider;function YW(){return b.useContext(JP)}function VW(){return b.useContext(ZP)}function Tf(e){var{valueAccessor:t=FW}=e,n=LO(e,BW),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,d=LO(n,qW),f=YW(),h=VW(),p=f||h;return!p||!p.length?null:b.createElement(Jn,{className:"recharts-label-list"},p.map((g,v)=>{var _,w=mn(r)?t(g,v):Rt(g&&g.payload,r),S=mn(o)?{}:{id:"".concat(o,"-").concat(v)};return b.createElement(Pi,vh({},rn(g,!0),d,S,{fill:(_=n.fill)!==null&&_!==void 0?_:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}Tf.displayName="LabelList";function eR(e){var{label:t}=e;return t?t===!0?b.createElement(Tf,{key:"labelList-implicit"}):b.isValidElement(t)||Gx(t)?b.createElement(Tf,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Tf,vh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var tR=e=>e.graphicalItems.polarItems,WW=ee([Ct,Tu],xx),Yx=ee([tR,qt,WW],wx),XW=ee([Yx],Sx),Vx=ee([XW,lx],jx),QW=ee([Vx,qt,Yx],Ex),JW=ee([Vx,qt,Yx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=Rt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),IO=()=>{},ZW=ee([qt,aP,IO,JW,IO,nt,Ct],Cx),nR=ee([qt,nt,Vx,QW,Au,Ct,ZW],Ax),eX=ee([nR,qt,Al],Mx);ee([qt,nR,eX,Ct],Rx);var tX={radiusAxis:{},angleAxis:{}},rR=gr({name:"polarAxis",initialState:tX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:are,removeRadiusAxis:ire,addAngleAxis:sre,removeAngleAxis:ore}=rR.actions,nX=rR.reducer;function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(r){rX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rX(e,t,n){return(t=aX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sX=(e,t)=>t,Wx=ee([tR,sX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),oX=[],Xx=(e,t,n)=>(n==null?void 0:n.length)===0?oX:n,aR=ee([lx,Wx,Xx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>zO(zO({},t.presentationProps),o.props))),i!=null)return i}}),lX=ee([aR,Wx,Xx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=Rt(r,t.nameKey,t.name),d;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:Bh(l,t.dataKey),color:d,payload:r,type:t.legendType}})}),cX=ee([aR,Wx,Xx,an],(e,t,n,r)=>{if(!(t==null||e==null))return lQ({offset:r,pieSettings:t,displayedData:e,cells:n})}),my={},$O;function uX(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(my)),my}var py,BO;function dX(){return BO||(BO=1,py=uX().isPlainObject),py}var fX=dX();const hX=Qr(fX);function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(r){mX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mX(e,t,n){return(t=pX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(null,arguments)}var FO=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},vX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yX=e=>{var t=In(e,vX),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=b.useRef(),[_,w]=b.useState(-1),S=b.useRef(i),j=b.useRef(o),N=b.useRef(l),E=b.useRef(n),C=b.useRef(r),A=Yh(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var $=v.current.getTotalLength();$&&w($)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var T=ct("recharts-trapezoid",d);if(!g)return b.createElement("g",null,b.createElement("path",yh({},rn(t,!0),{className:T,d:FO(n,r,i,o,l)})));var M=S.current,P=j.current,D=N.current,q=E.current,z=C.current,F="0px ".concat(_===-1?1:_,"px"),H="".concat(_,"px 0px"),ae=Ck(["strokeDasharray"],h,f);return b.createElement(Gh,{animationId:A,key:A,canBegin:_>0,duration:h,easing:f,isActive:g,begin:p},$=>{var K=jn(M,i,$),L=jn(P,o,$),Y=jn(D,l,$),W=jn(q,n,$),ue=jn(z,r,$);v.current&&(S.current=K,j.current=L,N.current=Y,E.current=W,C.current=ue);var ne=$>0?{transition:ae,strokeDasharray:H}:{strokeDasharray:F};return b.createElement("path",yh({},rn(t,!0),{className:T,d:FO(W,ue,K,L,Y),ref:v,style:HO(HO({},ne),t.style)}))})},bX=["option","shapeType","propTransformer","activeClassName","isActive"];function xX(e,t){if(e==null)return{};var n,r,i=_X(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _X(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){wX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NX(e,t){return bh(bh({},t),e)}function EX(e,t){return e==="symbols"}function GO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(Mk,n);case"trapezoid":return b.createElement(yX,n);case"sector":return b.createElement(Dk,n);case"symbols":if(EX(t))return b.createElement(_b,n);break;default:return null}}function OX(e){return b.isValidElement(e)?e.props:e}function iR(e){var{option:t,shapeType:n,propTransformer:r=NX,activeClassName:i="recharts-active-shape",isActive:o}=e,l=xX(e,bX),d;if(b.isValidElement(t))d=b.cloneElement(t,bh(bh({},l),OX(t)));else if(typeof t=="function")d=t(l);else if(hX(t)&&typeof t!="boolean"){var f=r(t,l);d=b.createElement(GO,{shapeType:n,elementProps:f})}else{var h=l;d=b.createElement(GO,{shapeType:n,elementProps:h})}return o?b.createElement(Jn,{className:i},d):d}var Qx=(e,t)=>{var n=Dt();return(r,i)=>o=>{e==null||e(r,i,o),n(xP({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Jx=e=>{var t=Dt();return(n,r)=>i=>{e==null||e(n,r,i),t(cY())}},Zx=(e,t)=>{var n=Dt();return(r,i)=>o=>{e==null||e(r,i,o),n(uY({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function sR(e){var{fn:t,args:n}=e,r=Dt(),i=Lr();return b.useEffect(()=>{if(!i){var o=t(n);return r(sY(o)),()=>{r(oY(o))}}},[t,n,r,i]),null}var oR=()=>{};function CX(e){var{legendPayload:t}=e,n=Dt(),r=Lr();return b.useEffect(()=>r?oR:(n(jk(t)),()=>{n(Nk(t))}),[n,r,t]),null}function AX(e){var{legendPayload:t}=e,n=Dt(),r=we(nt);return b.useEffect(()=>r!=="centric"&&r!=="radial"?oR:(n(jk(t)),()=>{n(Nk(t))}),[n,r,t]),null}var gy,TX=()=>{var[e]=b.useState(()=>nu("uid-"));return e},kX=(gy=m4.useId)!==null&&gy!==void 0?gy:TX;function MX(e,t){var n=kX();return t||(e?"".concat(e,"-").concat(n):n)}var PX=b.createContext(void 0),lR=e=>{var{id:t,type:n,children:r}=e,i=MX("recharts-".concat(n),t);return b.createElement(PX.Provider,{value:i},r(i))},RX={cartesianItems:[],polarItems:[]},cR=gr({name:"graphicalItems",initialState:RX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:DX,replaceCartesianGraphicalItem:LX,removeCartesianGraphicalItem:IX,addPolarGraphicalItem:UX,removePolarGraphicalItem:zX}=cR.actions,$X=cR.reducer;function BX(e){var t=Dt(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?t(DX(e)):n.current!==e&&t(LX({prev:n.current,next:e})),n.current=e},[t,e]),b.useEffect(()=>()=>{n.current&&(t(IX(n.current)),n.current=null)},[t]),null}function qX(e){var t=Dt();return b.useEffect(()=>(t(UX(e)),()=>{t(zX(e))}),[t,e]),null}var HX=["onMouseEnter","onClick","onMouseLeave"],FX=["id"],KX=["id"];function e_(e,t){if(e==null)return{};var n,r,i=GX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){YX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YX(e,t,n){return(t=VX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(null,arguments)}function XX(e){var t=b.useMemo(()=>gb(e.children,Lu),[e.children]),n=we(r=>lX(r,e.id,t));return n==null?null:b.createElement(AX,{legendPayload:n})}function QX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:d,hide:f,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:Bh(d,t),hide:f,type:h,color:l,unit:""}}}var JX=(e,t)=>e>t?"start":e<t?"end":"middle",ZX=(e,t,n)=>An(typeof t=="function"?t(e):t,n,n*.8),eQ=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,d=pk(o,l),f=i+An(e.cx,o,o/2),h=r+An(e.cy,l,l/2),p=An(e.innerRadius,d,0),g=ZX(n,e.outerRadius,d),v=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:v}},tQ=(e,t)=>{var n=hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function nQ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rQ=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ct("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(Ok,zi({},t,{type:"linear",className:n}))},aQ=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var i=ct("recharts-pie-label-text",nQ(e));return b.createElement(cm,zi({},t,{alignmentBaseline:"middle",className:i}),r)};function iQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var d=Hi(n),f=rn(i,!1),h=rn(o,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,_)=>{var w=(v.startAngle+v.endAngle)/2,S=Qt(v.cx,v.cy,v.outerRadius+p,w),j=Nt(Nt(Nt(Nt({},d),v),{},{stroke:"none"},f),{},{index:_,textAnchor:JX(S.x,v.cx)},S),N=Nt(Nt(Nt(Nt({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:_,points:[Qt(v.cx,v.cy,v.outerRadius,w),S],key:"line"});return b.createElement(Jn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},o&&rQ(o,N),aQ(i,j,Rt(v,l)))});return b.createElement(Jn,{className:"recharts-pie-labels"},g)}function sQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(eR,{label:i}):b.createElement(iQ,{sectors:t,props:n,showLabels:r})}function oQ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=we($s),{onMouseEnter:l,onClick:d,onMouseLeave:f}=i,h=e_(i,HX),p=Qx(l,i.dataKey),g=Jx(f),v=Zx(d,i.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((_,w)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&t.length!==1)return null;var S=n&&String(w)===o,j=o?r:null,N=S?n:j,E=Nt(Nt({},_),{},{stroke:_.stroke,tabIndex:-1,[xk]:w,[_k]:i.dataKey});return b.createElement(Jn,zi({tabIndex:-1,className:"recharts-pie-sector"},_u(h,_,w),{onMouseEnter:p(_,w),onMouseLeave:g(_,w),onClick:v(_,w),key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(w)}),b.createElement(iR,zi({option:N,isActive:S,shapeType:"sector"},E)))}))}function lQ(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),_=tQ(d,f),w=Math.abs(_),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(M=>Rt(M,h,0)!==0).length,N=(w>=360?j:j-1)*S,E=w-j*v-N,C=r.reduce((M,P)=>{var D=Rt(P,h,0);return M+(je(D)?D:0)},0),A;if(C>0){var T;A=r.map((M,P)=>{var D=Rt(M,h,0),q=Rt(M,p,P),z=eQ(n,o,M),F=(je(D)?D:0)/C,H,ae=Nt(Nt({},M),i&&i[P]&&i[P].props);P?H=T.endAngle+hn(_)*S*(D!==0?1:0):H=d;var $=H+hn(_)*((D!==0?v:0)+F*E),K=(H+$)/2,L=(z.innerRadius+z.outerRadius)/2,Y=[{name:q,value:D,payload:ae,dataKey:h,type:g}],W=Qt(z.cx,z.cy,L,K);return T=Nt(Nt(Nt(Nt({},n.presentationProps),{},{percent:F,cornerRadius:l,name:q,tooltipPayload:Y,midAngle:K,middleRadius:L,tooltipPosition:W},ae),z),{},{value:D,startAngle:H,endAngle:$,payload:ae,paddingAngle:hn(_)*S}),T})}return A}function cQ(e){var{showLabels:t,sectors:n,children:r}=e,i=b.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return b.createElement(GW,{value:t?i:void 0},r)}function uQ(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=t,v=Yh(t,"recharts-pie-"),_=n.current,[w,S]=b.useState(!1),j=b.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),N=b.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return b.createElement(cQ,{showLabels:!w,sectors:r},b.createElement(Gh,{animationId:v,begin:o,duration:l,isActive:i,easing:d,onAnimationStart:N,onAnimationEnd:j,key:v},E=>{var C=[],A=r&&r[0],T=A==null?void 0:A.startAngle;return r==null||r.forEach((M,P)=>{var D=_&&_[P],q=P>0?Ls(M,"paddingAngle",0):0;if(D){var z=jn(D.endAngle-D.startAngle,M.endAngle-M.startAngle,E),F=Nt(Nt({},M),{},{startAngle:T+q,endAngle:T+z+q});C.push(F),T=F.endAngle}else{var{endAngle:H,startAngle:ae}=M,$=jn(0,H-ae,E),K=Nt(Nt({},M),{},{startAngle:T+q,endAngle:T+$+q});C.push(K),T=K.endAngle}}),n.current=C,b.createElement(Jn,null,b.createElement(oQ,{sectors:C,activeShape:f,inactiveShape:h,allOtherPieProps:t}))}),b.createElement(sQ,{showLabels:!w,sectors:r,props:t}),t.children)}var dQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ks.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function fQ(e){var{id:t}=e,n=e_(e,FX),{hide:r,className:i,rootTabIndex:o}=e,l=b.useMemo(()=>gb(e.children,Lu),[e.children]),d=we(p=>cX(p,t,l)),f=b.useRef(null),h=ct("recharts-pie",i);return r||d==null?(f.current=null,b.createElement(Jn,{tabIndex:o,className:h})):b.createElement(b.Fragment,null,b.createElement(sR,{fn:QX,args:Nt(Nt({},e),{},{sectors:d})}),b.createElement(Jn,{tabIndex:o,className:h},b.createElement(uQ,{props:Nt(Nt({},n),{},{sectors:d}),previousSectorsRef:f})))}function uR(e){var t=In(e,dQ),{id:n}=t,r=e_(t,KX),i=Hi(r);return b.createElement(lR,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(qX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement(XX,zi({},r,{id:o})),b.createElement(fQ,zi({},r,{id:o}))))}uR.displayName="Pie";function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gQ={xAxis:{},yAxis:{},zAxis:{}},dR=gr({name:"cartesianAxis",initialState:gQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=WO(WO({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:vQ,removeXAxis:yQ,addYAxis:bQ,removeYAxis:xQ,addZAxis:lre,removeZAxis:cre,updateYAxisWidth:_Q}=dR.actions,wQ=dR.reducer,SQ=ee([an],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),jQ=ee([SQ,Qa,Ja],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),fR=()=>we(jQ),NQ="Invariant failed";function EQ(e,t){throw new Error(NQ)}var OQ=["x","y"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kQ(e,t){if(e==null)return{};var n,r,i=MQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PQ(e,t){var{x:n,y:r}=e,i=kQ(e,OQ),o="".concat(n),l=parseInt(o,10),d="".concat(r),f=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),g="".concat(t.width||i.width),v=parseInt(g,10);return Ic(Ic(Ic(Ic(Ic({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function t_(e){return b.createElement(iR,k0({shapeType:"rectangle",propTransformer:PQ,activeClassName:"recharts-active-bar"},e))}var RQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(je(t))return t;var o=je(r)||mn(r);return o?t(r,i):(o||EQ(),n)}},DQ={},hR=gr({name:"errorBars",initialState:DQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ure,replaceErrorBar:dre,removeErrorBar:fre}=hR.actions,LQ=hR.reducer,IQ=["children"];function UQ(e,t){if(e==null)return{};var n,r,i=zQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $Q={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BQ=b.createContext($Q);function qQ(e){var{children:t}=e,n=UQ(e,IQ);return b.createElement(BQ.Provider,{value:n},t)}function mR(e,t){var n,r,i=we(h=>ei(h,e)),o=we(h=>ti(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:lr.allowDataOverflow,d=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:cr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function HQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=fR(),{needClipX:o,needClipY:l,needClip:d}=mR(t,n);if(!d)return null;var{x:f,y:h,width:p,height:g}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:o?f:f-p/2,y:l?h:h-g/2,width:o?p:p*2,height:l?g:g*2}))}var FQ=["onMouseEnter","onMouseLeave","onClick"],KQ=["value","background","tooltipPosition"],GQ=["id"],YQ=["onMouseEnter","onClick","onMouseLeave"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(r){VQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(e,t){if(e==null)return{};var n,r,i=QQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Bh(n,t),payload:e}]};function ZQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Bh(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:d}}}function eJ(e){var t=we($s),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=o,h=xh(o,FQ),p=Qx(l,r),g=Jx(d),v=Zx(f,r);if(!i||n==null)return null;var _=rn(i,!1);return b.createElement(b.Fragment,null,n.map((w,S)=>{var{value:j,background:N,tooltipPosition:E}=w,C=xh(w,KQ);if(!N)return null;var A=p(w,S),T=g(w,S),M=v(w,S),P=Dn(Dn(Dn(Dn(Dn({option:i,isActive:String(S)===t},C),{},{fill:"#eee"},N),_),_u(h,w,S)),{},{onMouseEnter:A,onMouseLeave:T,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return b.createElement(t_,$i({key:"background-bar-".concat(P.index)},P))}))}function tJ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return Dn(Dn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return b.createElement(KW,{value:t?i:void 0},n)}function nJ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,d=we($s),f=we(PP),h=n&&String(o)===d&&(f==null||l===f),p=h?n:t;return b.createElement(t_,$i({},r,i,{isActive:h,option:p,index:o,dataKey:l}))}function rJ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return b.createElement(t_,$i({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function aJ(e){var{data:t,props:n}=e,r=Hi(n),{id:i}=r,o=xh(r,GQ),{shape:l,dataKey:d,activeBar:f}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,v=xh(n,YQ),_=Qx(h,d),w=Jx(g),S=Zx(p,d);return t?b.createElement(b.Fragment,null,t.map((j,N)=>b.createElement(Jn,$i({className:"recharts-bar-rectangle"},_u(v,j,N),{onMouseEnter:_(j,N),onMouseLeave:w(j,N),onClick:S(j,N),key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(N)}),f?b.createElement(nJ,{shape:l,activeBar:f,baseProps:o,entry:j,index:N,dataKey:d}):b.createElement(rJ,{shape:l,baseProps:o,entry:j,index:N,dataKey:d})))):null}function iJ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=n.current,v=Yh(t,"recharts-bar-"),[_,w]=b.useState(!1),S=!_,j=b.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),N=b.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return b.createElement(tJ,{showLabels:S,rects:r},b.createElement(Gh,{animationId:v,begin:l,duration:d,isActive:o,easing:f,onAnimationEnd:j,onAnimationStart:N,key:v},E=>{var C=E===1?r:r==null?void 0:r.map((A,T)=>{var M=g&&g[T];if(M)return Dn(Dn({},A),{},{x:jn(M.x,A.x,E),y:jn(M.y,A.y,E),width:jn(M.width,A.width,E),height:jn(M.height,A.height,E)});if(i==="horizontal"){var P=jn(0,A.height,E);return Dn(Dn({},A),{},{y:A.y+A.height-P,height:P})}var D=jn(0,A.width,E);return Dn(Dn({},A),{},{width:D})});return E>0&&(n.current=C??null),C==null?null:b.createElement(Jn,null,b.createElement(aJ,{props:t,data:C}))}),b.createElement(eR,{label:t.label}),t.children)}function sJ(e){var t=b.useRef(null);return b.createElement(iJ,{previousRectanglesRef:t,props:e})}var pR=0,oJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Rt(e,t)}};class lJ extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||n==null)return null;var p=ct("recharts-bar",i),g=h;return b.createElement(Jn,{className:p,id:h},d&&b.createElement("defs",null,b.createElement(HQ,{clipPathId:g,xAxisId:o,yAxisId:l})),b.createElement(Jn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},b.createElement(eJ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(sJ,this.props)))}}var cJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ks.isSsr,legendType:"rect",minPointSize:pR,xAxisId:0,yAxisId:0};function uJ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=mR(t,n),v=Ib(),_=Lr(),w=gb(e.children,Lu),S=we(E=>UJ(E,t,n,_,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var j,N=S==null?void 0:S[0];return N==null||N.height==null||N.width==null?j=0:j=v==="vertical"?N.height/2:N.width/2,b.createElement(qQ,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:oJ,errorBarOffset:j},b.createElement(lJ,$i({},e,{layout:v,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function dJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:_,parentViewBox:w}=e,S=t==="horizontal"?d:l,j=p?S.scale.domain():null,N=N7({numericAxis:S});return g.map((E,C)=>{var A,T,M,P,D,q;p?A=b7(p[C],j):(A=Rt(E,n),Array.isArray(A)||(A=[N,A]));var z=RQ(r,pR)(A[1],C);if(t==="horizontal"){var F,[H,ae]=[d.scale(A[0]),d.scale(A[1])];T=LE({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:E,index:C}),M=(F=ae??H)!==null&&F!==void 0?F:void 0,P=i.size;var $=H-ae;if(D=hr($)?0:$,q={x:T,y:v.top,width:P,height:v.height},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var K=hn(D||z)*(Math.abs(z)-Math.abs(D));M-=K,D+=K}}else{var[L,Y]=[l.scale(A[0]),l.scale(A[1])];if(T=L,M=LE({axis:d,ticks:h,bandSize:o,offset:i.offset,entry:E,index:C}),P=Y-L,D=i.size,q={x:v.left,y:M,width:v.width,height:D},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var W=hn(P||z)*(Math.abs(z)-Math.abs(P));P+=W}}if(T==null||M==null||P==null||D==null)return null;var ue=Dn(Dn({},E),{},{x:T,y:M,width:P,height:D,value:p?A:A[1],payload:E,background:q,tooltipPosition:{x:T+P/2,y:M+D/2},parentViewBox:w},_&&_[C]&&_[C].props);return ue}).filter(Boolean)}function fJ(e){var t=In(e,cJ),n=Lr();return b.createElement(lR,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(CX,{legendPayload:JQ(t)}),b.createElement(sR,{fn:ZQ,args:t}),b.createElement(BX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:j7(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(uJ,$i({},t,{id:r}))))}var M0=b.memo(fJ);M0.displayName="Bar";function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gJ=(e,t)=>t,vJ=(e,t,n)=>n,yJ=(e,t,n,r)=>r,bJ=(e,t,n,r,i)=>i,Iu=ee([_x,bJ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),xJ=ee([Iu],e=>e==null?void 0:e.maxBarSize),_J=(e,t,n,r,i,o)=>o,ZO=(e,t,n)=>{var r=n??e;if(!mn(r))return An(r,t,0)},wJ=ee([nt,_x,gJ,vJ,yJ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),SJ=(e,t,n,r)=>{var i=nt(e);return i==="horizontal"?N0(e,"yAxis",n,r):N0(e,"xAxis",t,r)},jJ=(e,t,n)=>{var r=nt(e);return r==="horizontal"?Z2(e,"xAxis",t):Z2(e,"yAxis",n)},NJ=(e,t,n)=>{var r={},i=e.filter(rm),o=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,v=g.map(w=>w.dataKey),_=ZO(t,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:_}}),f=o.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=ZO(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},EJ=ee([wJ,iG,jJ],NJ),OJ=(e,t,n,r,i)=>{var o,l,d=Iu(e,t,n,r,i);if(d!=null){var f=nt(e),h=kM(e),{maxBarSize:p}=d,g=mn(p)?h:p,v,_;return f==="horizontal"?(v=gl(e,"xAxis",t,r),_=pl(e,"xAxis",t,r)):(v=gl(e,"yAxis",n,r),_=pl(e,"yAxis",n,r)),(o=(l=Mb(v,_,!0))!==null&&l!==void 0?l:g)!==null&&o!==void 0?o:0}},gR=(e,t,n,r)=>{var i=nt(e),o,l;return i==="horizontal"?(o=gl(e,"xAxis",t,r),l=pl(e,"xAxis",t,r)):(o=gl(e,"yAxis",n,r),l=pl(e,"yAxis",n,r)),Mb(o,l)};function CJ(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=An(e,n,0,!0),d,f=[];if(pr(r[0].barSize)){var h=!1,p=n/o,g=r.reduce((N,E)=>N+(E.barSize||0),0);g+=(o-1)*l,g>=n&&(g-=(o-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=o*p);var v=(n-g)/2>>0,_={offset:v-l,size:0};d=r.reduce((N,E)=>{var C,A={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:_.offset+_.size+l,size:h?p:(C=E.barSize)!==null&&C!==void 0?C:0}},T=[...N,A];return _=T[T.length-1].position,T},f)}else{var w=An(t,n,0,!0);n-2*w-(o-1)*l<=0&&(l=0);var S=(n-2*w-(o-1)*l)/o;S>1&&(S>>=0);var j=pr(i)?Math.min(S,i):S;d=r.reduce((N,E,C)=>[...N,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:w+(S+l)*C+(S-j)/2,size:j}}],f)}return d}}var AJ=(e,t,n,r,i,o,l)=>{var d=mn(l)?t:l,f=CJ(n,r,i!==o?i:o,e,d);return i!==o&&f!=null&&(f=f.map(h=>bf(bf({},h),{},{position:bf(bf({},h.position),{},{offset:h.position.offset-i/2})}))),f},TJ=ee([EJ,kM,aG,MM,OJ,gR,xJ],AJ),kJ=(e,t,n,r)=>gl(e,"xAxis",t,r),MJ=(e,t,n,r)=>gl(e,"yAxis",n,r),PJ=(e,t,n,r)=>pl(e,"xAxis",t,r),RJ=(e,t,n,r)=>pl(e,"yAxis",n,r),DJ=ee([TJ,Iu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),LJ=(e,t)=>{var n=yx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},IJ=ee([SJ,Iu],LJ),UJ=ee([an,Pb,kJ,MJ,PJ,RJ,DJ,nt,cx,gR,IJ,Iu,_J],(e,t,n,r,i,o,l,d,f,h,p,g,v)=>{var{chartData:_,dataStartIndex:w,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||o==null||h==null)){var{data:j}=g,N;if(j!=null&&j.length>0?N=j:N=_==null?void 0:_.slice(w,S+1),N!=null)return dJ({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:N,offset:e,cells:v})}}),vR=e=>{var{chartData:t}=e,n=Dt(),r=Lr();return b.useEffect(()=>r?()=>{}:(n(cO(t)),()=>{n(cO(void 0))}),[t,n,r]),null},eC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yR=gr({name:"brush",initialState:eC,reducers:{setBrushSettings(e,t){return t.payload==null?eC:t.payload}}}),{setBrushSettings:hre}=yR.actions,zJ=yR.reducer;function $J(e,t,n){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e){var t=qJ(e,"string");return typeof t=="symbol"?t:t+""}function qJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n_{static create(t){return new n_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}$J(n_,"EPS",1e-4);function HJ(e){return(e%180+180)%180}var FJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=HJ(i),l=o*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},KJ={dots:[],areas:[],lines:[]},bR=gr({name:"referenceElements",initialState:KJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:mre,removeDot:pre,addArea:gre,removeArea:vre,addLine:yre,removeLine:bre}=bR.actions,GJ=bR.reducer,YJ=b.createContext(void 0),VJ=e=>{var{children:t}=e,[n]=b.useState("".concat(nu("recharts"),"-clip")),r=fR();if(r==null)return null;var{x:i,y:o,width:l,height:d}=r;return b.createElement(YJ.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:d,width:l}))),t)};function vl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function WJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return FJ(r,n)}function XJ(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:d}=e;return t===1?{start:r?i:o,end:r?i+l:o+d}:{start:r?i+l:o+d,end:r?i:o}}function _h(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function QJ(e,t){return xR(e,t+1)}function JJ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:xR(r,h)};var S=f,j,N=()=>(j===void 0&&(j=n(w,S)),j),E=w.coordinate,C=f===0||_h(e,E,N,p,d);C||(f=0,p=l,h+=1),C&&(p=E+e*(N()/2+i),f+=h)},v;h<=o.length;)if(v=g(),v)return v.v;return[]}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){ZJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZJ(e,t,n){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:d}=t,{end:f}=t,h=function(v){var _=o[v],w,S=()=>(w===void 0&&(w=n(_,v)),w);if(v===l-1){var j=e*(_.coordinate+e*S()/2-f);o[v]=_=On(On({},_),{},{tickCoord:j>0?_.coordinate-j*e:_.coordinate})}else o[v]=_=On(On({},_),{},{tickCoord:_.coordinate});var N=_h(e,_.tickCoord,S,d,f);N&&(f=_.tickCoord-e*(S()/2+i),o[v]=On(On({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return o}function rZ(e,t,n,r,i,o){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=t;if(o){var p=r[d-1],g=n(p,d-1),v=e*(p.coordinate+e*g/2-h);l[d-1]=p=On(On({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var _=_h(e,p.tickCoord,()=>g,f,h);_&&(h=p.tickCoord-e*(g/2+i),l[d-1]=On(On({},p),{},{isShow:!0}))}for(var w=o?d-1:d,S=function(E){var C=l[E],A,T=()=>(A===void 0&&(A=n(C,E)),A);if(E===0){var M=e*(C.coordinate-e*T()/2-f);l[E]=C=On(On({},C),{},{tickCoord:M<0?C.coordinate-M*e:C.coordinate})}else l[E]=C=On(On({},C),{},{tickCoord:C.coordinate});var P=_h(e,C.tickCoord,T,f,h);P&&(f=C.tickCoord+e*(T()/2+i),l[E]=On(On({},C),{},{isShow:!0}))},j=0;j<w;j++)S(j);return l}function r_(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(je(f)||Ks.isSsr){var v;return(v=QJ(i,je(f)?f:0))!==null&&v!==void 0?v:[]}var _=[],w=d==="top"||d==="bottom"?"width":"height",S=p&&w==="width"?Vc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(C,A)=>{var T=typeof h=="function"?h(C.value,A):C.value;return w==="width"?WJ(Vc(T,{fontSize:t,letterSpacing:n}),S,g):Vc(T,{fontSize:t,letterSpacing:n})[w]},N=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,E=XJ(o,N,w);return f==="equidistantPreserveStart"?JJ(N,E,j,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=rZ(N,E,j,i,l,f==="preserveStartEnd"):_=nZ(N,E,j,i,l),_.filter(C=>C.isShow))}var aZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+o,h=l+f+d+(n?r:0);return Math.round(h)}return 0},iZ=["axisLine","width","height","className","hide","ticks"],sZ=["viewBox"],oZ=["viewBox"];function P0(e,t){if(e==null)return{};var n,r,i=lZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){cZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a_={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function fZ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=nn(nn(nn({},f),rn(d,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);h=nn(nn({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);h=nn(nn({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return b.createElement("line",Bs({},h,{className:ct("recharts-cartesian-axis-line",Ls(d,"className"))}))}function hZ(e,t,n,r,i,o,l,d,f){var h,p,g,v,_,w,S=d?-1:1,j=e.tickSize||l,N=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=p=e.coordinate,v=n+ +!d*i,g=v-S*j,w=g-S*f,_=N;break;case"left":g=v=e.coordinate,p=t+ +!d*r,h=p-S*j,_=h-S*f,w=N;break;case"right":g=v=e.coordinate,p=t+ +d*r,h=p+S*j,_=h+S*f,w=N;break;default:h=p=e.coordinate,v=n+ +d*i,g=v+S*j,w=g+S*f,_=N;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x:_,y:w}}}function mZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gZ(e){var{option:t,tickProps:n,value:r}=e,i,o=ct(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,nn(nn({},n),{},{className:o}));else if(typeof t=="function")i=t(nn(nn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ct(l,t==null?void 0:t.className)),i=b.createElement(cm,Bs({},n,{className:l}),r)}return i}function vZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y:v,width:_,height:w,tickSize:S,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:C,events:A}=e,T=r_(nn(nn({},C),{},{ticks:t}),N,E),M=mZ(h,p),P=pZ(h,p),D=Hi(C),q=rn(n,!1),z=nn(nn({},D),{},{fill:"none"},rn(r,!1)),F=T.map((H,ae)=>{var{line:$,tick:K}=hZ(H,g,v,_,w,h,S,p,j),L=nn(nn(nn(nn({textAnchor:M,verticalAnchor:P},D),{},{stroke:"none",fill:i},q),K),{},{index:ae,payload:H,visibleTicksCount:T.length,tickFormatter:o,padding:d},f);return b.createElement(Jn,Bs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},_u(A,H,ae)),r&&b.createElement("line",Bs({},z,$,{className:ct("recharts-cartesian-axis-tick-line",Ls(r,"className"))})),n&&b.createElement(gZ,{option:n,tickProps:L,value:"".concat(typeof o=="function"?o(H.value,ae):H.value).concat(l||"")}))});return F.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var yZ=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:d}=e,f=P0(e,iZ),[h,p]=b.useState(""),[g,v]=b.useState(""),_=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return aZ({ticks:_.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=b.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=Array.from(j);var N=j[0];if(N){var E=window.getComputedStyle(N),C=E.fontSize,A=E.letterSpacing;(C!==h||A!==g)&&(p(C),v(A))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Jn,{className:ct("recharts-cartesian-axis",o),ref:w},b.createElement(fZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hi(e)}),b.createElement(vZ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:e,events:f}),b.createElement(jW,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(RW,{label:e.label}),e.children))}),bZ=b.memo(yZ,(e,t)=>{var{viewBox:n}=e,r=P0(e,sZ),{viewBox:i}=t,o=P0(t,oZ);return vl(n,i)&&vl(r,o)}),i_=b.forwardRef((e,t)=>{var n=In(e,a_);return b.createElement(bZ,Bs({},n,{ref:t}))});i_.displayName="CartesianAxis";var xZ=["x1","y1","x2","y2","key"],_Z=["offset"],wZ=["xAxisId","yAxisId"],SZ=["xAxisId","yAxisId"];function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(null,arguments)}function wh(e,t){if(e==null)return{};var n,r,i=OZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:d}=e;return b.createElement("rect",{x:r,y:i,ry:d,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _R(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:d}=t,f=wh(t,xZ),h=Hi(f),{offset:p}=h,g=wh(h,_Z);n=b.createElement("line",Ts({},g,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:d}))}return n}function AZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,d=wh(e,wZ),f=i.map((h,p)=>{var g=Cn(Cn({},d),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return _R(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function TZ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,d=wh(e,SZ),f=i.map((h,p)=>{var g=Cn(Cn({},d),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return _R(r,g)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function kZ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var _=!h[v+1],w=_?i+l-g:h[v+1]-g;if(w<=0)return null;var S=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:o,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function MZ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var _=!h[v+1],w=_?i+l-g:h[v+1]-g;if(w<=0)return null;var S=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:w,height:d,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var PZ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return vk(r_(Cn(Cn(Cn({},a_),n),{},{ticks:yk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},RZ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return vk(r_(Cn(Cn(Cn({},a_),n),{},{ticks:yk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},DZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wR(e){var t=Db(),n=Lb(),r=wk(),i=Cn(Cn({},In(e,DZ)),{},{x:je(e.x)?e.x:r.left,y:je(e.y)?e.y:r.top,width:je(e.width)?e.width:r.width,height:je(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:_}=i,w=Lr(),S=we(q=>eO(q,"xAxis",o,w)),j=we(q=>eO(q,"yAxis",l,w));if(!je(h)||h<=0||!je(p)||p<=0||!je(d)||d!==+d||!je(f)||f!==+f)return null;var N=i.verticalCoordinatesGenerator||PZ,E=i.horizontalCoordinatesGenerator||RZ,{horizontalPoints:C,verticalPoints:A}=i;if((!C||!C.length)&&typeof E=="function"){var T=v&&v.length,M=E({yAxis:j?Cn(Cn({},j),{},{ticks:T?v:j.ticks}):void 0,width:t,height:n,offset:r},T?!0:g);Yc(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}if((!A||!A.length)&&typeof N=="function"){var P=_&&_.length,D=N({xAxis:S?Cn(Cn({},S),{},{ticks:P?_:S.ticks}):void 0,width:t,height:n,offset:r},P?!0:g);Yc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(CZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(kZ,Ts({},i,{horizontalPoints:C})),b.createElement(MZ,Ts({},i,{verticalPoints:A})),b.createElement(AZ,Ts({},i,{offset:r,horizontalPoints:C,xAxis:S,yAxis:j})),b.createElement(TZ,Ts({},i,{offset:r,verticalPoints:A,xAxis:S,yAxis:j})))}wR.displayName="CartesianGrid";var LZ=["dangerouslySetInnerHTML","ticks"],IZ=["id"],UZ=["domain"],zZ=["domain"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(null,arguments)}function Sh(e,t){if(e==null)return{};var n,r,i=$Z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function BZ(e){var t=Dt();return b.useEffect(()=>(t(vQ(e)),()=>{t(yQ(e))}),[e,t]),null}var qZ=e=>{var{xAxisId:t,className:n}=e,r=we(Pb),i=Lr(),o="xAxis",l=we(j=>Tl(j,o,t,i)),d=we(j=>mP(j,o,t,i)),f=we(j=>uP(j,t)),h=we(j=>XG(j,t)),p=we(j=>BM(j,t));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,_=Sh(e,LZ),{id:w}=p,S=Sh(p,IZ);return b.createElement(i_,R0({},_,S,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:ct("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:d}))},HZ={allowDataOverflow:lr.allowDataOverflow,allowDecimals:lr.allowDecimals,allowDuplicatedCategory:lr.allowDuplicatedCategory,height:lr.height,hide:!1,mirror:lr.mirror,orientation:lr.orientation,padding:lr.padding,reversed:lr.reversed,scale:lr.scale,tickCount:lr.tickCount,type:lr.type,xAxisId:0},FZ=e=>{var t,n,r,i,o,l=In(e,HZ);return b.createElement(b.Fragment,null,b.createElement(BZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),b.createElement(qZ,l))},KZ=(e,t)=>{var{domain:n}=e,r=Sh(e,UZ),{domain:i}=t,o=Sh(t,zZ);return vl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vl({domain:n},{domain:i}):!1},SR=b.memo(FZ,KZ);SR.displayName="XAxis";var GZ=["dangerouslySetInnerHTML","ticks"],YZ=["id"],VZ=["domain"],WZ=["domain"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D0.apply(null,arguments)}function jh(e,t){if(e==null)return{};var n,r,i=XZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QZ(e){var t=Dt();return b.useEffect(()=>(t(bQ(e)),()=>{t(xQ(e))}),[e,t]),null}var JZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=b.useRef(null),l=b.useRef(null),d=we(Pb),f=Lr(),h=Dt(),p="yAxis",g=we(T=>Tl(T,p,t,f)),v=we(T=>dP(T,t)),_=we(T=>JG(T,t)),w=we(T=>mP(T,p,t,f)),S=we(T=>qM(T,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Gx(i)||b.isValidElement(i)||S==null)){var T=o.current;if(T){var M=T.getCalculatedWidth();Math.round(v.width)!==Math.round(M)&&h(_Q({id:t,width:M}))}}},[w,v,h,i,t,r,S]),v==null||_==null||S==null)return null;var{dangerouslySetInnerHTML:j,ticks:N}=e,E=jh(e,GZ),{id:C}=S,A=jh(S,YZ);return b.createElement(i_,D0({},E,A,{ref:o,labelRef:l,scale:g,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:ct("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w}))},ZZ={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,hide:!1,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tickCount:cr.tickCount,type:cr.type,width:cr.width,yAxisId:0},eee=e=>{var t,n,r,i,o,l=In(e,ZZ);return b.createElement(b.Fragment,null,b.createElement(QZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),b.createElement(JZ,l))},tee=(e,t)=>{var{domain:n}=e,r=jh(e,VZ),{domain:i}=t,o=jh(t,WZ);return vl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vl({domain:n},{domain:i}):!1},jR=b.memo(eee,tee);jR.displayName="YAxis";var vy={exports:{}},yy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function nee(){if(aC)return yy;aC=1;var e=yl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,d=e.useDebugValue;return yy.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var _=i(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function j(T){if(!N){if(N=!0,E=T,T=g(T),v!==void 0&&w.hasValue){var M=w.value;if(v(M,T))return C=M}return C=T}if(M=C,n(E,T))return M;var P=g(T);return v!==void 0&&v(M,P)?(E=T,M):(E=T,C=P)}var N=!1,E,C,A=p===void 0?null:p;return[function(){return j(h())},A===null?void 0:function(){return j(A())}]},[h,p,g,v]);var S=r(f,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),d(S),S},yy}var iC;function ree(){return iC||(iC=1,vy.exports=nee()),vy.exports}ree();function aee(e){e()}function iee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){aee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var sC={notify(){},get:()=>[]};function see(e,t){let n,r=sC,i=0,o=!1;function l(S){p();const j=r.subscribe(S);let N=!1;return()=>{N||(N=!0,j(),g())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return o}function p(){i++,n||(n=e.subscribe(f),r=iee())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sC)}function v(){o||(o=!0,p())}function _(){o&&(o=!1,g())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return w}var oee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lee=oee(),cee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uee=cee(),dee=()=>lee||uee?b.useLayoutEffect:b.useEffect,fee=dee(),by=Symbol.for("react-redux-context"),xy=typeof globalThis<"u"?globalThis:{};function hee(){if(!b.createContext)return{};const e=xy[by]??(xy[by]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var mee=hee();function pee(e){const{children:t,context:n,serverState:r,store:i}=e,o=b.useMemo(()=>{const f=see(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=b.useMemo(()=>i.getState(),[i]);fee(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const d=n||mee;return b.createElement(d.Provider,{value:o},t)}var gee=pee,vee=(e,t)=>t,s_=ee([vee,nt,UM,on,AP,ni,nV,an],oV),o_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},NR=Pr("mouseClick"),ER=Su();ER.startListening({actionCreator:NR,effect:(e,t)=>{var n=e.payload,r=s_(t.getState(),o_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(dY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var L0=Pr("mouseMove"),OR=Su();OR.startListening({actionCreator:L0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Ix(r,r.tooltip.settings.shared),o=s_(r,o_(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(wP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(_P()))}});var oC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},CR=gr({name:"rootProps",initialState:oC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:oC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),yee=CR.reducer,{updateOptions:bee}=CR.actions,AR=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xee}=AR.actions,_ee=AR.reducer,TR=Pr("keyDown"),kR=Pr("focus"),l_=Su();l_.startListening({actionCreator:TR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(Ux(i,Ml(n))),d=ni(n);if(o==="Enter"){var f=gh(n,"axis","hover",String(i.index));t.dispatch(O0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=nY(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=l+g*p;if(!(d==null||v>=d.length||v<0)){var _=gh(n,"axis","hover",String(v));t.dispatch(O0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});l_.startListening({actionCreator:kR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=gh(n,"axis","hover",String(o));t.dispatch(O0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Tr=Pr("externalEvent"),MR=Su();MR.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:YY(n),activeDataKey:PP(n),activeIndex:$s(n),activeLabel:MP(n),activeTooltipIndex:$s(n),isTooltipActive:VY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var wee=ee([kl],e=>e.tooltipItemPayloads),See=ee([wee,Ru,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),PR=Pr("touchMove"),RR=Su();RR.startListening({actionCreator:PR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Ix(r,r.tooltip.settings.shared);if(i==="axis"){var o=s_(r,o_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(wP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(xk),p=(l=f.getAttribute(_k))!==null&&l!==void 0?l:void 0,g=See(t.getState(),h,p);t.dispatch(xP({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var jee=GT({brush:zJ,cartesianAxis:wQ,chartData:SV,errorBars:LQ,graphicalItems:$X,layout:r7,legend:Y7,options:yV,polarAxis:nX,polarOptions:_ee,referenceElements:GJ,rootProps:yee,tooltip:fY}),Nee=function(t){return Cq({reducer:jee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([ER.middleware,OR.middleware,l_.middleware,MR.middleware,RR.middleware]),devTools:Ks.devToolsEnabled})};function DR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Lr(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=Nee(t));var l=Eb;return b.createElement(gee,{context:l,store:o.current},n)}function LR(e){var{layout:t,width:n,height:r,margin:i}=e,o=Dt(),l=Lr();return b.useEffect(()=>{l||(o(e7(t)),o(t7({width:n,height:r})),o(Zq(i)))},[o,l,t,n,r,i]),null}function IR(e){var t=Dt();return b.useEffect(()=>{t(bee(e))},[t,e]),null}var Eee=["children"];function Oee(e,t){if(e==null)return{};var n,r,i=Cee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nh.apply(null,arguments)}var Aee={width:"100%",height:"100%"},Tee=b.forwardRef((e,t)=>{var n=Db(),r=Lb(),i=Ek();if(!ul(n)||!ul(r))return null;var{children:o,otherAttributes:l,title:d,desc:f}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,b.createElement(vb,Nh({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Aee,ref:t}),o)}),kee=e=>{var{children:t}=e,n=we(Kh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return b.createElement(vb,{width:r,height:i,x:l,y:o},t)},lC=b.forwardRef((e,t)=>{var{children:n}=e,r=Oee(e,Eee),i=Lr();return i?b.createElement(kee,null,n):b.createElement(Tee,Nh({ref:t},r),n)});function Mee(){var e=Dt(),[t,n]=b.useState(null),r=we(M7);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;pr(o)&&o!==r&&e(n7(o))}},[t,e,r]),n}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:_,onTouchMove:w,onTouchStart:S,style:j,width:N}=e,E=Dt(),[C,A]=b.useState(null),[T,M]=b.useState(null);MV();var P=Mee(),D=b.useCallback(I=>{P(I),typeof t=="function"&&t(I),A(I),M(I)},[P,t,A,M]),q=b.useCallback(I=>{E(NR(I)),E(Tr({handler:o,reactEvent:I}))},[E,o]),z=b.useCallback(I=>{E(L0(I)),E(Tr({handler:h,reactEvent:I}))},[E,h]),F=b.useCallback(I=>{E(_P()),E(Tr({handler:p,reactEvent:I}))},[E,p]),H=b.useCallback(I=>{E(L0(I)),E(Tr({handler:g,reactEvent:I}))},[E,g]),ae=b.useCallback(()=>{E(kR())},[E]),$=b.useCallback(I=>{E(TR(I.key))},[E]),K=b.useCallback(I=>{E(Tr({handler:l,reactEvent:I}))},[E,l]),L=b.useCallback(I=>{E(Tr({handler:d,reactEvent:I}))},[E,d]),Y=b.useCallback(I=>{E(Tr({handler:f,reactEvent:I}))},[E,f]),W=b.useCallback(I=>{E(Tr({handler:v,reactEvent:I}))},[E,v]),ue=b.useCallback(I=>{E(Tr({handler:S,reactEvent:I}))},[E,S]),ne=b.useCallback(I=>{E(PR(I)),E(Tr({handler:w,reactEvent:I}))},[E,w]),R=b.useCallback(I=>{E(Tr({handler:_,reactEvent:I}))},[E,_]);return b.createElement(zP.Provider,{value:C},b.createElement(hT.Provider,{value:T},b.createElement("div",{className:ct("recharts-wrapper",r),style:Pee({position:"relative",cursor:"default",width:N,height:i},j),onClick:q,onContextMenu:K,onDoubleClick:L,onFocus:ae,onKeyDown:$,onMouseDown:Y,onMouseEnter:z,onMouseLeave:F,onMouseMove:H,onMouseUp:W,onTouchEnd:R,onTouchMove:ne,onTouchStart:ue,ref:D},n)))}),Uee=["children","className","width","height","style","compact","title","desc"];function zee(e,t){if(e==null)return{};var n,r,i=$ee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UR=b.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:l,compact:d,title:f,desc:h}=e,p=zee(e,Uee),g=Hi(p);return d?b.createElement(lC,{otherAttributes:g,title:f,desc:h},n):b.createElement(Iee,{className:r,style:l,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(lC,{otherAttributes:g,title:f,desc:h,ref:t},b.createElement(VJ,null,n)))}),Bee=["width","height"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function qee(e,t){if(e==null)return{};var n,r,i=Hee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fee={top:5,right:5,bottom:5,left:5},Kee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Fee,reverseStackOrder:!1,syncMethod:"index"},Gee=b.forwardRef(function(t,n){var r,i=In(t.categoricalChartProps,Kee),{width:o,height:l}=i,d=qee(i,Bee);if(!ul(o)||!ul(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,_={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return b.createElement(DR,{preloadedState:{options:_},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},b.createElement(vR,{chartData:v.data}),b.createElement(LR,{width:o,height:l,layout:i.layout,margin:i.margin}),b.createElement(IR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(UR,I0({},d,{width:o,height:l,ref:n})))}),Yee=["axis","item"],Vee=b.forwardRef((e,t)=>b.createElement(Gee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yee,tooltipPayloadSearcher:$P,categoricalChartProps:e,ref:t}));function Wee(e){var t=Dt();return b.useEffect(()=>{t(xee(e))},[t,e]),null}var Xee=["width","height","layout"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function Qee(e,t){if(e==null)return{};var n,r,i=Jee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zee={top:5,right:5,bottom:5,left:5},ete={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Zee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},tte=b.forwardRef(function(t,n){var r,i=In(t.categoricalChartProps,ete),{width:o,height:l,layout:d}=i,f=Qee(i,Xee);if(!ul(o)||!ul(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,_={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return b.createElement(DR,{preloadedState:{options:_},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},b.createElement(vR,{chartData:i.data}),b.createElement(LR,{width:o,height:l,layout:d,margin:i.margin}),b.createElement(IR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(Wee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(UR,U0({width:o,height:l},f,{ref:n})))}),nte=["item"],rte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ate=b.forwardRef((e,t)=>{var n=In(e,rte);return b.createElement(tte,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:nte,tooltipPayloadSearcher:$P,categoricalChartProps:n,ref:t})});const uC=[{value:"editor",label:"diteur",headerDescription:"Gestion complte",helper:"Crer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des donnes."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accs bloqu",helper:"Masquer totalement la section.",tooltip:"Bloque compltement laccs  la section ou  la fonctionnalit."}],ite=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:o})=>{const l=b.useMemo(()=>{if(e.length===0)return[];const f=Wn.map(_=>_.permissionKey),h=new Set(f),p=f.filter(_=>e.includes(_)),g=e.filter(_=>!h.has(_)).sort((_,w)=>r(_).localeCompare(r(w),"fr")),v=[];return p.length>0&&v.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&v.push({id:"custom",title:"Permissions personnalises",keys:g}),v},[r,e]),d=f=>{e.forEach(h=>{(t[h]??"none")!==f&&n(h,f)})};return e.length===0?u.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rle pour le moment."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("editor"),title:"Autoriser toutes les sections en mode dition.",children:"Tout autoriser"}),u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),u.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>d("none"),title:"Rvoquer toutes les permissions.",children:"Tout bloquer"})]}),u.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:u.jsx("div",{className:"max-h-96 overflow-auto",children:u.jsx("div",{className:"min-w-full",children:u.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[u.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),uC.map(f=>u.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[u.jsx("div",{children:f.label}),u.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:f.headerDescription})]},f.value)),l.map(f=>u.jsxs(Qn.Fragment,{children:[u.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:f.title}),f.keys.map(h=>{const p=t[h]??"none",g=`permission-${h.replace(/[^a-zA-Z0-9_-]/g,"_")}`,v=h in i;return u.jsxs(Qn.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(h)}),v&&o&&u.jsx("button",{type:"button",onClick:()=>o(h),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalise",children:u.jsx(Hs,{className:"h-4 w-4"})})]})}),uC.map(_=>{const w=p===_.value;return u.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:u.jsxs("label",{className:`permission-choice${w?" is-active":""}`,title:_.tooltip,children:[u.jsx("input",{type:"radio",className:"sr-only",name:g,value:_.value,checked:w,onChange:()=>n(h,_.value)}),u.jsx("span",{className:"permission-choice__label",children:_.label}),u.jsx("span",{className:"permission-choice__helper",children:_.helper})]})},_.value)})]},h)})]},f.id))]})})})})]})},ste=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:o,onAddCustomPermission:l,onRemoveCustomPermission:d,onCancel:f,isSubmitting:h,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:v,isPermissionGranted:_})=>{const[w,S]=b.useState(!1),[j,N]=b.useState(""),[E,C]=b.useState(""),[A,T]=b.useState(null),M=()=>{S(!1),N(""),C(""),T(null)},P=()=>{const D=j.trim(),q=E.trim();if(!D||!q){T("La cl technique et le nom affich sont obligatoires.");return}if(g.includes(D)){T("Cette cl de permission existe dj.");return}l(D,q),M()};return u.jsxs("div",{children:[u.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rle slectionn":"Crer un nouveau rle"}),u.jsxs("form",{onSubmit:n,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rle"}),u.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accs"}),u.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par dfaut"}),u.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:D=>i(D.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:Wn.map(D=>{const q=_(t.permissions[D.permissionKey]);return u.jsxs("option",{value:D.permissionKey,disabled:!q,children:[v(D.permissionKey),q?"":" (accs requis)"]},D.permissionKey)})}),p?u.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont dsactives."}):u.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),u.jsx(ite,{permissionKeys:g,permissions:t.permissions,onChange:o,getPermissionLabel:v,customPermissions:t.customPermissions,onRemoveCustomPermission:d}),u.jsx("div",{className:"mt-4 space-y-3",children:w?u.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[u.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Cl technique"}),u.jsx("input",{type:"text",value:j,onChange:D=>{N(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affich"}),u.jsx("input",{type:"text",value:E,onChange:D=>{C(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),A&&u.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:A}),u.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:M,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsx("button",{type:"button",onClick:P,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):u.jsx("button",{type:"button",onClick:()=>{S(!0),T(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&u.jsx("button",{type:"button",onClick:f,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(lz,{className:"mr-2 h-4 w-4"}),h?"Enregistrement...":e==="edit"?"Mettre  jour":"Crer"]})]})]})]})},ote=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:o,isEditing:l,deletingRoleId:d,getPermissionLabel:f})=>{const h=!t&&e.length===0;return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rles existants"}),u.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[u.jsx(vu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rle"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?u.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rles..."}):h?u.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rle configur pour le moment."}):u.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&o===p.id;return u.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??""]}),p.homePage&&u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",f(p.homePage)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),u.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:d===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(Hs,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var SC;const lte=((SC=Wn[0])==null?void 0:SC.permissionKey)??"/dashboard",cte=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===AA.ADMIN||t==="administrateur"},xs=(e,t,n={})=>{const r={...e||{}};return delete r[ks],Wn.forEach(i=>{i.permissionKey in r||(i.permissionKey===Ka&&cte(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},_s=e=>{const t=Wn.find(n=>ws(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??lte},dC=e=>{const t=xs(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:_s(t),customPermissions:{...e}}},ws=e=>e==="editor"||e==="readonly",ute=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=pa(),[i,o]=b.useState([]),[l,d]=b.useState({}),[f,h]=b.useState(()=>dC({})),[p,g]=b.useState("create"),[v,_]=b.useState(!1),[w,S]=b.useState(!1),[j,N]=b.useState(null),[E,C]=b.useState(null),[A,T]=b.useState(null),M=b.useMemo(()=>{const ne=Wn.map(I=>I.permissionKey),R=new Set;return Object.keys(l).forEach(I=>{ne.includes(I)||R.add(I)}),i.forEach(I=>{Object.keys(I.permissions).forEach(V=>{V!==ks&&(ne.includes(V)||R.add(V))})}),[...ne,...Array.from(R)]},[i,l]),P=b.useMemo(()=>Wn.some(ne=>ws(f.permissions[ne.permissionKey])),[f.permissions]),D=b.useCallback(async()=>{_(!0);try{const ne=await xe.getRoles();o(ne),d(R=>{const I={...R};let V=!1;const X=new Set(Wn.map(te=>te.permissionKey));return ne.forEach(te=>{Object.keys(te.permissions).forEach(fe=>{fe===ks||X.has(fe)||fe in I||(I[fe]=fe,V=!0)})}),V?I:R}),T(null)}catch(ne){console.error("Failed to load roles:",ne),T("Impossible de charger les rles.")}finally{_(!1)}},[]),q=b.useCallback(()=>{g("create"),h(dC(l))},[l]);b.useEffect(()=>{e&&(C(null),T(null),q(),D())},[e,D,q]),b.useEffect(()=>{h(ne=>{const R=ne.homePage;if(ws(ne.permissions[R]))return ne;const I=_s(ne.permissions);return I===R?ne:{...ne,homePage:I}})},[f.permissions]),b.useEffect(()=>{h(ne=>{const R=ne.customPermissions,I=l,V=Object.keys(R),X=Object.keys(I);if(V.length===X.length&&V.every(pe=>I[pe]===R[pe]))return ne;const te=xs(ne.permissions,ne.name,I),fe=ws(te[ne.homePage])?ne.homePage:_s(te);return{...ne,customPermissions:{...I},permissions:te,homePage:fe}})},[l]);const z=b.useCallback(ne=>{const R=Wn.find(I=>I.permissionKey===ne);return R?R.name:l[ne]??ne},[l]);return{roles:i,formState:f,mode:p,isFetching:v,isSubmitting:w,deletingRoleId:j,statusMessage:E,errorMessage:A,permissionKeys:M,hasAccessibleHomePage:P,handleInputChange:ne=>{const{name:R,value:I}=ne.target;h(V=>({...V,[R]:I}))},handlePermissionChange:(ne,R)=>{h(I=>({...I,permissions:{...I.permissions,[ne]:R}}))},handleHomePageChange:ne=>{h(R=>({...R,homePage:ne}))},handleSelectRole:ne=>{const R=new Set(Wn.map(te=>te.permissionKey)),I={...l};let V=!1;Object.keys(ne.permissions).forEach(te=>{te===ks||R.has(te)||te in I||(I[te]=te,V=!0)}),V&&d(I);const X=xs(ne.permissions,ne.name,V?I:l);g("edit"),h({id:ne.id,name:ne.name,pin:ne.pin??"",permissions:X,homePage:ne.homePage??_s(X),customPermissions:{...V?I:l}}),C(null),T(null)},handleDeleteRole:async ne=>{if(confirm("Supprimer ce rle ? Cette action est irrversible.")){N(ne),C(null),T(null);try{await xe.deleteRole(ne),C("Rle supprim avec succs."),p==="edit"&&f.id===ne&&q(),await D(),(r==null?void 0:r.id)===ne&&await n()}catch(R){console.error("Failed to delete role:",R),T("Impossible de supprimer le rle.")}finally{N(null)}}},handleSubmit:async ne=>{if(ne.preventDefault(),T(null),C(null),!f.name.trim()||!f.pin.trim()){T("Le nom et le code PIN sont obligatoires.");return}S(!0);try{const R=xs(f.permissions,f.name,l),I=ws(R[f.homePage])?f.homePage:_s(R);if(p==="create")await xe.createRole({name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:I}),C("Rle cr avec succs."),await D(),await n(),q();else if(f.id){const V=await xe.updateRole(f.id,{name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:I});C("Rle mis  jour avec succs.");const X=xs(V.permissions,V.name,l);h({id:V.id,name:V.name,pin:V.pin??"",permissions:X,homePage:V.homePage??_s(X),customPermissions:{...l}}),await D(),(r==null?void 0:r.id)===V.id&&await n()}}catch(R){console.error("Failed to save role:",R),T("Impossible d'enregistrer le rle.")}finally{S(!1)}},handleClose:()=>{q(),C(null),T(null),t()},resetForm:q,getPermissionLabel:z,isPermissionGranted:ws,handleAddCustomPermission:(ne,R)=>{Wn.some(I=>I.permissionKey===ne)||d(I=>{if(I[ne]===R)return I;const V={...I,[ne]:R};return h(X=>{const te=xs(X.permissions,X.name,V);return ne in te||(te[ne]="none"),{...X,customPermissions:{...V},permissions:te}}),V})},handleRemoveCustomPermission:ne=>{Wn.some(R=>R.permissionKey===ne)||d(R=>{if(!(ne in R))return R;const I={...R};return delete I[ne],h(V=>{const{[ne]:X,...te}=V.customPermissions,fe={...V.permissions};delete fe[ne];const pe=xs(fe,V.name,I),ze=ws(pe[V.homePage])?V.homePage:_s(pe);return{...V,customPermissions:{...te},permissions:pe,homePage:ze}}),I})}}},dte=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:o,isSubmitting:l,deletingRoleId:d,statusMessage:f,errorMessage:h,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:v,handlePermissionChange:_,handleHomePageChange:w,handleSelectRole:S,handleDeleteRole:j,handleSubmit:N,handleClose:E,resetForm:C,getPermissionLabel:A,isPermissionGranted:T,handleAddCustomPermission:M,handleRemoveCustomPermission:P}=ute({isOpen:e,onClose:t});return u.jsx(Tn,{isOpen:e,onClose:E,title:"Gestion des rles",size:"xl",children:u.jsxs("div",{className:"flex flex-col gap-6",children:[f&&u.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:f}),h&&u.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:h}),u.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[u.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:u.jsx(ote,{roles:n,isFetching:o,onCreateRole:C,onSelectRole:S,onDeleteRole:j,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:d,getPermissionLabel:A})}),u.jsx("div",{className:"flex-1",children:u.jsx(ste,{mode:i,formState:r,onSubmit:N,onInputChange:v,onHomePageChange:w,onPermissionChange:_,onAddCustomPermission:M,onRemoveCustomPermission:P,onCancel:C,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:A,isPermissionGranted:T})})]})]})})},xf=({title:e,value:t,icon:n})=>u.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[u.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),u.jsxs("div",{className:"w-full space-y-2",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),u.jsx("div",{className:"w-full flex justify-center",children:u.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),_f=({title:e,value:t,icon:n,onClick:r})=>u.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[u.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-gray-500",children:e}),u.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),zR={week:{label:"ltimos 7 das",days:7},month:{label:"ltimos 30 das",days:30}},fte=e=>{const{days:t}=zR[e],n=new Date(Gc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},hte=()=>{const[e,t]=b.useState(null),[n,r]=b.useState([]),[i,o]=b.useState(!0),[l,d]=b.useState("category"),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[v,_]=b.useState("week");if(b.useEffect(()=>{(async()=>{const{start:E,end:C}=fte(v),A=E.toISOString(),T=C.toISOString();o(!0);try{const[M,P]=await Promise.all([xe.getDashboardStats(v),xe.getSalesByProduct({start:A,end:T})]);t(M),r(P)}catch(M){console.error("Failed to fetch dashboard stats",M)}finally{o(!1)}})()},[v]),i)return u.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return u.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const w=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],S=l==="category"?e.ventesParCategorie:n,j=S.length>0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries(zR).map(([N,E])=>{const C=N,A=v===C;return u.jsx("button",{onClick:()=>_(C),className:`px-3 py-1.5 rounded-md transition-colors ${A?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:E.label},C)})}),u.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[u.jsx(pz,{className:"mr-2 h-4 w-4"}),"Gestin de roles"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(xf,{title:`Ventas (${e.periodLabel})`,value:ke(e.ventesPeriode),icon:u.jsx(Zc,{size:28})}),u.jsx(xf,{title:`Beneficio (${e.periodLabel})`,value:ke(e.beneficePeriode),icon:u.jsx(Zc,{size:28})}),u.jsx(xf,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:u.jsx(zy,{size:28})}),u.jsx(xf,{title:"Ticket promedio",value:ke(e.panierMoyen),icon:u.jsx(K6,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(_f,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:u.jsx(tb,{size:24})}),u.jsx(_f,{title:"Clientes actuales",value:e.clientsActuels,icon:u.jsx(zy,{size:24})}),u.jsx(_f,{title:"En cocina",value:e.commandesEnCuisine,icon:u.jsx(OA,{size:24})}),u.jsx(_f,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:u.jsx(la,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>h(!0)})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),u.jsx(xO,{width:"100%",height:300,children:u.jsxs(Vee,{data:e.ventesPeriodeSeries,children:[u.jsx(wR,{strokeDasharray:"3 3"}),u.jsx(SR,{dataKey:"name"}),u.jsx(jR,{}),u.jsx(mO,{}),u.jsx(iu,{}),u.jsx(M0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),u.jsx(M0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribucin de ventas (",e.periodLabel,")"]}),u.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[u.jsx("button",{onClick:()=>d("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categora"}),u.jsx("button",{onClick:()=>d("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),j?u.jsx(xO,{width:"100%",height:300,children:u.jsxs(ate,{children:[u.jsx(uR,{data:S,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:S.map((N,E)=>u.jsx(Lu,{fill:w[E%w.length]},`cell-${E}`))}),u.jsx(mO,{formatter:N=>ke(N)}),u.jsx(iu,{})]})}):u.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),u.jsx(Tn,{isOpen:f,onClose:()=>h(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?u.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(N=>u.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-red-800",children:N.nom}),u.jsxs("span",{className:"font-bold text-red-600",children:[N.stock_actuel," / ",N.stock_minimum," ",N.unite]})]},N.id))}):u.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),u.jsx(dte,{isOpen:p,onClose:()=>g(!1)})]})},mte=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},c_=({startTime:e,className:t=""})=>{const[n,r]=b.useState(Date.now()-e);b.useEffect(()=>{const d=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(d)},[e]);const i=Math.floor(n/6e4),o=mte(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return u.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[u.jsx(Sl,{size:20}),u.jsx("span",{children:o})]})},fC={nom:"",capacite:"",couverts:""},pte=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:o=!1})=>{const[l,d]=b.useState(fC),[f,h]=b.useState({}),[p,g]=b.useState(null),[v,_]=b.useState(!1),w=b.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);b.useEffect(()=>{if(!e){d(fC),h({}),g(null),_(!1);return}const E={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:o&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};d(E),h({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,o]);const S=E=>{const{name:C,value:A}=E.target;d(T=>({...T,[C]:A}))},j=()=>{const E={},C=l.nom.trim(),A=l.capacite.trim();C||(E.nom="Le nom est requis.");let T=null;if(!A)E.capacite="La capacit est requise.";else{const M=Number(A);!Number.isInteger(M)||M<=0?E.capacite="La capacit doit tre un entier positif.":T=M}if(o){const M=l.couverts.trim();if(!M)E.couverts="Le nombre de couverts est requis.";else{const P=Number(M);!Number.isInteger(P)||P<=0?E.couverts="Les couverts doivent tre un entier positif.":T!==null&&P>T&&(E.couverts="Les couverts ne peuvent pas dpasser la capacit.")}}return E},N=async E=>{E.preventDefault(),h({}),g(null);const C=j();if(Object.keys(C).length>0){h(C);return}const A={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(o){const T=l.couverts.trim();T&&(A.couverts=Number(T))}_(!0);try{await i(A)}catch(T){const M=T instanceof Error&&T.message?T.message:"Une erreur est survenue. Veuillez ressayer.";g(M)}finally{_(!1)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:w,size:"md",children:u.jsxs("form",{onSubmit:N,className:"space-y-5",children:[p&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),u.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:S,disabled:v,placeholder:"Ex. Terrasse 1",autoFocus:!0}),f.nom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.nom})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacit (nombre de places)"}),u.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:S,disabled:v,placeholder:"Ex. 4"}),f.capacite&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.capacite})]}),o&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),u.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:S,disabled:v,placeholder:"Ex. 2"}),f.couverts&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.couverts})]}),u.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:v,children:"Annuler"}),u.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:v,children:v?"Enregistrement...":"Enregistrer"})]})]})})},Ci={libre:{text:"Libre",statusClass:"status--free",Icon:tb},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:Pz},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:jU},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:Zc}},gte=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let o=0;for(;o<i.length&&i[o].toLowerCase()===r.toLowerCase();)o+=1;return[r,...i.slice(o)].join(" ")},vte=e=>{switch(e.statut){case"libre":return Ci.libre;case"en_cuisine":return Ci.en_cuisine;case"para_entregar":return Ci.para_entregar;case"para_pagar":return Ci.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?Ci.para_pagar:e.estado_cocina==="listo"?Ci.para_entregar:e.commandeId?Ci.en_cuisine:Ci.libre}},yte=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:o})=>{const l=Xa(),{text:d,statusClass:f,Icon:h}=vte(e),[p,g]=b.useState(!1),v=b.useRef(null),_=()=>{l(`/commande/${e.id}`)},w=A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),_())},S=A=>{A.stopPropagation(),e.commandeId&&t(e.commandeId)},j=A=>{A.stopPropagation(),g(T=>!T)};b.useEffect(()=>{if(!p)return;const A=T=>{v.current&&!v.current.contains(T.target)&&g(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[p]);const N=A=>{A.stopPropagation(),g(!1),r==null||r(e)},E=async A=>{if(A.stopPropagation(),g(!1),!!i)try{await i(e)}catch(T){console.error("Failed to delete table from card:",T)}},C=gte(e.nom);return u.jsxs("div",{onClick:_,onKeyDown:w,className:`ui-card status-card ${f} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&u.jsx("div",{className:"absolute left-3 top-3 z-10",children:u.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&u.jsxs("div",{className:"absolute right-3 top-3",ref:v,children:[u.jsx("button",{type:"button",onClick:j,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:o,children:u.jsx(yA,{size:18})}),p&&u.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[u.jsxs("button",{type:"button",onClick:N,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[u.jsx(ZU,{size:16}),"Modifier"]}),u.jsxs("button",{type:"button",onClick:E,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:o,children:[u.jsx(Hs,{size:16}),o?"Suppression":"Supprimer"]})]})]}),u.jsxs("div",{className:"status-card__header",children:[u.jsx("h3",{className:"status-card__title",children:C}),e.date_envoi_cuisine&&e.statut!=="libre"&&u.jsx("div",{className:"status-card__timer",children:u.jsx(c_,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),u.jsxs("div",{className:"status-card__body",children:[u.jsx(h,{size:56,className:"status-card__icon"}),u.jsx("p",{className:"status-card__state",children:d})]}),u.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?u.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):u.jsxs("p",{className:"status-card__meta",children:["Capacit : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&u.jsx("button",{type:"button",onClick:S,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},bte=()=>{var $;const{role:e}=pa(),t=(($=e==null?void 0:e.permissions)==null?void 0:$["/ventes"])==="editor",[n,r]=b.useState([]),[i,o]=b.useState(!0),[l,d]=b.useState(null),[f,h]=b.useState(null),[p,g]=b.useState(null),[v,_]=b.useState(!1),[w,S]=b.useState("create"),[j,N]=b.useState(null),[E,C]=b.useState(null),A=b.useRef(0),T=b.useCallback(async()=>{const K=++A.current;try{const L=await xe.getTables();K===A.current&&(r(L),d(null))}catch(L){console.error("Failed to fetch tables",L),K===A.current&&d("Impossible de charger le plan de salle. Veuillez ressayer.")}finally{K===A.current&&o(!1)}},[]);b.useEffect(()=>{o(!0),T();const K=setInterval(T,1e4),L=xe.notifications.subscribe("orders_updated",T);return()=>{clearInterval(K),L()}},[T]);const M=b.useCallback(()=>{_(!1),N(null)},[]),P=b.useCallback(()=>{S("create"),N(null),h(null),g(null),_(!0)},[]),D=b.useCallback(K=>{S("edit"),N(K),h(null),g(null),_(!0)},[]),q=b.useCallback(async K=>{h(null),g(null);try{let L="";if(w==="create")await xe.createTable(K),L="Table cre avec succs.";else{if(!j){const Y="Aucune table slectionne pour la mise  jour.";throw h(Y),new Error(Y)}await xe.updateTable(j.id,K),L="Table mise  jour avec succs."}await T(),M(),g(L)}catch(L){console.error("Failed to save table:",L);const Y=w==="create"?"Impossible de crer la table. Veuillez ressayer.":"Impossible de mettre  jour la table. Veuillez ressayer.";throw h(Y),new Error(Y)}},[T,M,w,j]),z=b.useCallback(async K=>{if(confirm("Supprimer cette table ? Cette action est irrversible.")){h(null),g(null),C(K.id);try{await xe.deleteTable(K.id),await T(),g("Table supprime avec succs.")}catch(L){console.error("Failed to delete table:",L),h("Impossible de supprimer la table. Veuillez ressayer.")}finally{C(null)}}},[T]),F=b.useCallback(async K=>{h(null),g(null);const L=n.find(Y=>Y.commandeId===K);if(L){r(Y=>Y.map(W=>W.id===L.id?{...W,statut:"para_pagar",estado_cocina:"servido"}:W));try{await xe.markOrderAsServed(K),await T()}catch(Y){console.error("Failed to mark order as served:",Y),h("Impossible de marquer la commande comme servie. Veuillez ressayer."),await T()}}},[T,n]);if(i)return u.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const H=w==="edit"&&j?{nom:j.nom,capacite:j.capacite,couverts:j.couverts}:void 0,ae=w==="edit"&&!!(j!=null&&j.commandeId);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[t&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"button",onClick:P,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[u.jsx(vu,{size:18}),"Ajouter une table"]})}),l&&u.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),f&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:f}),p&&u.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),u.jsx("div",{className:"mt-6 status-grid",children:n.map(K=>u.jsx(yte,{table:K,onServe:F,canEdit:!!t,onEdit:D,onDelete:z,isDeleting:E===K.id},K.id))}),u.jsx(pte,{isOpen:v,onClose:M,mode:w,initialValues:H,onSubmit:q,showCouvertsField:ae})]})},xte=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,o]=b.useState("efectivo"),[l,d]=b.useState(null),[f,h]=b.useState(!1),p=async g=>{g.preventDefault(),i&&(h(!0),await r(i,l),h(!1),t())};return u.jsx(Tn,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),u.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:ke(n.total)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mtodo de pago"}),u.jsxs("select",{value:i,onChange:g=>o(g.target.value),className:"mt-1 ui-select",children:[u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),u.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[u.jsx(yu,{size:18}),u.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),u.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>d(g.target.files?g.target.files[0]:null),className:"hidden"})]}),u.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Finalizando...":"Confirmar pago"})]})]})})},_te=e=>e??"",wte=e=>!e||e.length===0?[]:e.slice().sort(),kf=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:_te(n.commentaire),excludedIngredients:wte(n.excluded_ingredients)});return{size:e.length,itemsById:t}},hC=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let o=0;o<r.excludedIngredients.length;o+=1)if(r.excludedIngredients[o]!==i.excludedIngredients[o])return!1}return!0},Ste=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:o,isProductAvailable:l,handleProductPointerDown:d,handleProductKeyDown:f})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(h=>u.jsx("button",{onClick:()=>o(h.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===h.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:h.nom},h.id))]})}),u.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(h=>{const p=!l(h),g=t[h.id]||0,v=()=>n(h),_=d(h),w=f(h);return u.jsxs("button",{type:"button",onClick:v,onPointerDown:_,onKeyDown:w,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&u.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&u.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:u.jsx(la,{size:16})}),u.jsx("img",{src:h.image,alt:h.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),u.jsx("p",{className:"font-semibold text-sm text-gray-800",children:h.nom_produit}),u.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:h.description}),u.jsx("p",{className:"font-bold text-brand-primary mt-1",children:ke(h.prix_vente)})]},h.id)})})]}),jte=b.memo(Ste),Nte=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:o,onSendToKitchen:l,onServeOrder:d,onOpenPayment:f,isSending:h,hasPending:p,orderStatus:g,editingCommentId:v})=>{const _=e.pending.length+e.sent.length;return u.jsxs("div",{className:"ui-card flex flex-col",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),u.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:_===0?u.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles  envoyer"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:w,index:S})=>u.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:ke(w.quantite*w.prix_unitaire)})]}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("p",{className:"text-sm text-gray-700",children:[ke(w.prix_unitaire)," /u"]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[u.jsx("button",{onClick:()=>n(S,-1),className:"p-1",children:u.jsx(rU,{size:20})}),u.jsx("span",{className:"font-bold w-6 text-center",children:w.quantite}),u.jsx("button",{onClick:()=>n(S,1),className:"p-1",children:u.jsx(nb,{size:20})})]})]}),v===w.id||w.commentaire?u.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:w.commentaire??"",onChange:j=>r(S,j.target.value),onBlur:()=>i(S),autoFocus:v===w.id,className:"mt-2 ui-input text-sm"}):u.jsxs("button",{onClick:()=>o(w.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[u.jsx(wA,{size:12})," Ajouter un commentaire"]})]},w.id))]}),e.sent.length>0&&u.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoys en cuisine"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:w})=>u.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:ke(w.quantite*w.prix_unitaire)})]}),u.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[ke(w.prix_unitaire)," /u"]}),w.commentaire&&u.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',w.commentaire,'"']})]},w.id))]})]})}),u.jsxs("div",{className:"p-4 border-t space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:ke(t)})]}),g==="listo"&&u.jsxs("button",{onClick:d,className:"w-full ui-btn-info justify-center py-3",children:[u.jsx(Y6,{size:20}),u.jsx("span",{children:"Entregada"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:l,disabled:h||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[u.jsx(dz,{size:20}),u.jsx("span",{children:h?"Synchronisation":"Envoyer en Cuisine"})]}),u.jsxs("button",{onClick:f,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[u.jsx(Zc,{size:20}),u.jsx("span",{children:"Finaliser"})]})]})]})]})},Ete=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,o]=b.useState(1),[l,d]=b.useState("");if(b.useEffect(()=>{e&&(o(1),d(""))},[e,t==null?void 0:t.id]),!t)return null;const f=()=>{o(g=>Math.max(1,g-1))},h=()=>{o(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return u.jsx(Tn,{isOpen:e,onClose:n,title:t.nom_produit,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&u.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),u.jsx("textarea",{value:l,onChange:g=>d(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spcifiques"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantit",children:u.jsx(SA,{size:18})}),u.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),u.jsx("button",{type:"button",onClick:h,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantit",children:u.jsx(vu,{size:18})})]}),u.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",ke(t.prix_vente*i),")"]})]})]})})},_y=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),aa=e=>JSON.parse(JSON.stringify(e)),mC=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),pC=e=>(e??"").trim(),Ote=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>i===r[o])},Cte=(e,t,n,r,i=[])=>{const o=pC(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,d=e.findIndex(h=>h.produitRef===t.id&&h.estado==="en_attente"&&pC(h.commentaire)===o&&Ote(h.excluded_ingredients??[],i));if(d>-1)return e.map((h,p)=>p===d?{...h,quantite:h.quantite+l}:h);const f={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:o,estado:"en_attente"};return[...e,f]},gC=kf([]),Ate=()=>{const{tableId:e}=Z4(),t=Xa(),[n,r]=b.useState(null),[i,o]=b.useState(null),[l,d]=b.useState([]),[f,h]=b.useState([]),[p,g]=b.useState([]),[v,_]=b.useState("all"),[w,S]=b.useState(!0),[j,N]=b.useState(!1),[E,C]=b.useState(!1),[A,T]=b.useState(null),[M,P]=b.useState(!1),[D,q]=b.useState(null),z=b.useRef(n),F=b.useRef(i),H=b.useRef(null),ae=b.useRef(null),$=b.useRef(null),K=b.useRef(Promise.resolve()),L=b.useRef(null),Y=b.useRef(null),W=b.useCallback((de,me,Ee)=>{if(!me||me.length===0)return de.current=null,gC;const Qe=Ee??kf(me);return de.current={source:me,snapshot:Qe},Qe},[]),ue=b.useCallback((de,me)=>{if(!de||de.length===0)return me.current=null,gC;const Ee=me.current;return Ee&&Ee.source===de?Ee.snapshot:W(me,de)},[W]);b.useEffect(()=>{z.current=n},[n]),b.useEffect(()=>{F.current=i},[i]);const ne=b.useCallback(de=>{const me=z.current;if(!me)return!0;const Ee=de??F.current;if(!Ee)return!0;const Qe=ue(me.items,L),Je=de?kf(Ee.items):ue(Ee.items,Y);return hC(Je,Qe)},[ue]),R=b.useCallback(()=>{const de=ae.current;if(!de)return;const me=kf(de.items);H.current=aa(de);const Ee=z.current;if(Ee){const Je=ue(Ee.items,L);if(hC(Je,me)){ae.current=null;return}}ae.current=null,z.current=de,r(de),W(L,de.items,me);const Qe=aa(de);F.current=Qe,o(Qe),W(Y,Qe.items)},[ue,W]),I=b.useCallback(async(de=!1)=>{if(e)try{if(de||S(!0),de){const Re=await xe.createOrGetOrderByTableId(e),rt=aa(Re);if(H.current=rt,ne()){ae.current=null,r(Re),z.current=Re,W(L,Re.items);const Pt=aa(Re);F.current=Pt,o(Pt),W(Y,Pt.items)}else{const Pt=F.current;Pt&&JSON.stringify(Pt)===JSON.stringify(Re)?ae.current=null:ae.current=rt}return}const[me,Ee,Qe,Je]=await Promise.all([xe.createOrGetOrderByTableId(e),xe.getProducts(),xe.getCategories(),xe.getIngredients()]);H.current=aa(me),r(me),z.current=me,W(L,me.items);const Mt=aa(me);o(Mt),F.current=Mt,W(Y,Mt.items),d(Ee),h(Qe),g(Je),ae.current=null}catch(me){console.error("Failed to load order data",me),t("/ventes")}finally{de||S(!1)}},[ne,t,e,W]);b.useEffect(()=>{I()},[I]),b.useEffect(()=>{ne()&&R()},[R,ne,n,i]),b.useEffect(()=>{const de=xe.notifications.subscribe("orders_updated",()=>I(!0));return()=>de()},[I]);const V=b.useMemo(()=>!ne(),[ne,n,i]),X=b.useMemo(()=>n?n.items.reduce((de,me)=>(me.estado!=="en_attente"||(de[me.produitRef]=(de[me.produitRef]||0)+me.quantite),de),{}):{},[n]),te=b.useMemo(()=>v==="all"?l:l.filter(de=>de.categoria_id===v),[v,l]),fe=b.useCallback(de=>{if(!de.recipe||de.recipe.length===0)return!0;for(const me of de.recipe){const Ee=p.find(Qe=>Qe.id===me.ingredient_id);if(!Ee||Ee.stock_actuel<=Ee.stock_minimum)return!1}return!0},[p]);b.useEffect(()=>()=>{$.current!==null&&(window.clearTimeout($.current),$.current=null)},[]);const pe=b.useCallback(async(de,me)=>{const Ee=z.current;if(!Ee)return;const Qe=Pt=>typeof de=="function"?de(Pt):de,Mt=(me!=null&&me.isLocalUpdate?Ee.items:(me==null?void 0:me.removalSourceItems)??Ee.items).map(Pt=>({...Pt})),Re=Qe(Mt),rt={...Ee,items:Re,total:Re.reduce((Pt,Oe)=>Pt+Oe.quantite*Oe.prix_unitaire,0)};if(r(rt),z.current=rt,W(L,rt.items),me!=null&&me.isLocalUpdate)return;const yt=async()=>{try{let Pt=ae.current??H.current??null;if(!Pt){const Ft=await xe.getOrderById(Ee.id);Ft?(Pt=Ft,H.current=aa(Ft)):Pt=Ee}if(!Pt)return;const Oe=z.current.items.map(Ft=>({...Ft})),Ut=((me==null?void 0:me.removalSourceItems)??Ee.items).filter(Ft=>_y(Ft.id)&&!Oe.some(Xs=>Xs.id===Ft.id)).map(Ft=>Ft.id),ln=await xe.updateOrder(Ee.id,{items:Oe,removedItemIds:Ut},{includeNotifications:!1});r(ln),z.current=ln,W(L,ln.items);const Ur=aa(ln);o(Ur),F.current=Ur,W(Y,Ur.items),H.current=aa(ln),xe.getIngredients().then(g).catch(Ft=>{console.error("Failed to refresh ingredients",Ft)}),R()}catch(Pt){console.error("Failed to update order:",Pt),alert("Une erreur est survenue lors de la mise  jour de la commande."),I(!0)}};K.current=K.current.then(yt,yt),await K.current},[R,I,W]),ze=b.useCallback((de=300)=>{$.current!==null&&window.clearTimeout($.current);const me=de>0?de:1;$.current=window.setTimeout(async()=>{if($.current=null,!z.current)return;const Ee=z.current.items.map(Je=>({...Je})),Qe=H.current?H.current.items.map(Je=>({...Je})):Ee.map(Je=>({...Je}));await pe(Ee,{removalSourceItems:Qe})},me)},[pe]),ie=b.useCallback(de=>{z.current&&(pe(de,{isLocalUpdate:!0}),ze())},[ze,pe]),Se=b.useCallback(de=>{q(de)},[]),Te=b.useCallback(()=>{q(null)},[]),ce=b.useCallback(de=>{D&&(ie(me=>Cte(me,D,de,mC)),q(null))},[ie,D]),At=b.useCallback((de,me)=>{const Ee=z.current;if(!Ee||!Ee.items[de])return;const Qe=Ee.items[de].id;ie(Je=>{const Mt=Je.findIndex(rt=>rt.id===Qe);if(Mt===-1)return Je;const Re=Je[Mt].quantite+me;return Re<=0?Je.filter(rt=>rt.id!==Qe):Je.map(rt=>rt.id===Qe?{...rt,quantite:Re}:rt)})},[ie]),Ie=b.useCallback((de,me)=>{const Ee=z.current;if(!Ee||!Ee.items[de])return;const Qe=Ee.items[de].id;pe(Je=>{const Mt=Je.findIndex(yt=>yt.id===Qe);if(Mt===-1)return Je;const Re=Je.map(yt=>({...yt})),rt=Re[Mt];if(rt.quantite>1&&!rt.commentaire&&me){rt.quantite-=1;const yt={...rt,id:mC(),quantite:1,commentaire:me};Re.push(yt),T(yt.id)}else rt.commentaire=me;return Re},{isLocalUpdate:!0})},[pe]),Tt=b.useCallback(de=>{z.current&&(pe(z.current.items.map(me=>({...me}))),T(null))},[pe]),kt=b.useCallback(async()=>{if(z.current){P(!0);try{let de=z.current;for(;de&&de.items.some(Re=>Re.estado==="en_attente"&&!_y(Re.id));)await pe(de.items.map(Re=>({...Re}))),de=z.current;if(de=z.current,!de)return;const me=de.items.filter(Re=>Re.estado==="en_attente");if(me.length===0)return;if(me.filter(Re=>!_y(Re.id)).length>0){console.warn("Des articles non persists subsistent aprs synchronisation, envoi annul.");return}const Qe=me.map(Re=>Re.id),Je=await xe.sendOrderToKitchen(de.id,Qe);r(Je),z.current=Je,W(L,Je.items);const Mt=aa(Je);o(Mt),F.current=Mt,W(Y,Mt.items),t("/ventes")}catch(de){console.error("Failed to send order to kitchen",de),alert("Erreur lors de l'envoi en cuisine.")}finally{P(!1)}}},[t,pe,W]),Ht=b.useCallback(async()=>{if(n)try{const de=await xe.markOrderAsServed(n.id);r(de),z.current=de,W(L,de.items)}catch(de){console.error("Failed to mark order as served",de)}},[n,W]),Zn=async(de,me)=>{if(n)try{let Ee=n.payment_receipt_url??void 0;if(me&&me instanceof File)try{Ee=await cA(me,{orderId:n.id})}catch(Qe){console.error("Failed to upload receipt",Qe)}await xe.finalizeOrder(n.id,de,Ee),t("/ventes")}catch(Ee){console.error("Failed to finalize order",Ee),alert("Erreur lors de la finalisation de la commande. Veuillez ressayer.")}},ve=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){C(!0);return}V?C(!0):t("/ventes")},Ge=async()=>{try{n&&n.estado_cocina==="no_enviado"?await xe.cancelUnsentTableOrder(n.id):i&&!ne(i)&&await pe(i.items)}catch(de){console.error("Failed to cancel unsent order before exiting",de)}finally{C(!1),t("/ventes")}},Xe=(n==null?void 0:n.items)??[],mt=b.useMemo(()=>Xe.reduce((de,me,Ee)=>(me.estado==="en_attente"?de.pending.push({item:me,index:Ee}):de.sent.push({item:me,index:Ee}),de),{pending:[],sent:[]}),[Xe]),pt=b.useCallback(de=>me=>{me.preventDefault(),me.currentTarget.focus()},[]),Ye=b.useCallback(de=>me=>{(me.key==="Enter"||me.key===" ")&&(me.preventDefault(),Se(de))},[Se]),kn=b.useCallback(()=>{N(!0)},[]),Mn=b.useCallback(de=>{T(de)},[]),Un=b.useMemo(()=>mt.pending.length>0,[mt]);return w?u.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[u.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("button",{onClick:ve,className:"ui-btn-dark",title:"Retour au plan de salle",children:[u.jsx(mA,{size:20}),u.jsx("span",{children:"Retour plan de salle"})]}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),u.jsx(jte,{filteredProducts:te,quantities:X,onAdd:Se,activeCategoryId:v,categories:f,onSelectCategory:_,isProductAvailable:fe,handleProductPointerDown:pt,handleProductKeyDown:Ye})]}),u.jsx(Nte,{categorizedItems:mt,total:n.total,onQuantityChange:At,onCommentChange:Ie,onPersistComment:Tt,onStartEditingComment:Mn,onSendToKitchen:kt,onServeOrder:Ht,onOpenPayment:kn,isSending:M,hasPending:Un,orderStatus:n.estado_cocina,editingCommentId:A})]}),u.jsx(Ete,{isOpen:D!==null,product:D,onClose:Te,onSave:ce}),u.jsx(xte,{isOpen:j,onClose:()=>N(!1),order:n,onFinalize:Zn}),u.jsxs(Tn,{isOpen:E,onClose:()=>C(!1),title:"Quitter sans envoyer ?",children:[u.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoys en cuisine. Si vous quittez, ils seront annuls. Voulez-vous continuer ?"}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:()=>C(!1),className:"ui-btn-secondary",children:"Non, rester"}),u.jsx("button",{onClick:Ge,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):u.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouve."})},Tte={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},kte=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},$R=e=>{const t=kte(e),n=Tte[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},Mte=({order:e,onReady:t,canMarkReady:n})=>{const r=$R(e.date_envoi_cuisine||Date.now()),i=b.useMemo(()=>{const d=[],f=new Map;return e.items.forEach(h=>{var w;const p=(w=h.commentaire)==null?void 0:w.trim(),g=p||"no_comment",v=`${h.produitRef}::${g}`;if(p){d.push({key:`${v}::${h.id}`,nom_produit:h.nom_produit,quantite:h.quantite,commentaire:p});return}const _=f.get(v);if(_!==void 0){d[_].quantite+=h.quantite;return}f.set(v,d.length),d.push({key:v,nom_produit:h.nom_produit,quantite:h.quantite})}),d},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-4",children:[u.jsx("h3",{className:"w-full text-center text-3xl font-semibold text-gray-900 sm:text-left sm:text-4xl",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),u.jsx(c_,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:u.jsx("ul",{className:"space-y-3",children:i.map(d=>u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${r.accent}`,children:d.quantite}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d.nom_produit})]}),d.commentaire&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:d.commentaire})]},d.key))})}),u.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-3",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&u.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[u.jsx(pA,{size:22,className:"shrink-0"}),u.jsx("span",{children:"LISTO"})]})]})})]})},Pte=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),{role:i}=pa(),o=(i==null?void 0:i.permissions["/cocina"])==="editor",l=b.useCallback(async()=>{try{const f=await xe.getKitchenOrders();t(f)}catch(f){console.error("Failed to fetch kitchen orders",f)}finally{r(!1)}},[]);b.useEffect(()=>{l();const f=setInterval(l,5e3),h=xe.notifications.subscribe("orders_updated",l);return()=>{clearInterval(f),h()}},[l]);const d=async(f,h)=>{try{await xe.markOrderAsReady(f,h),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):u.jsx("div",{className:"flex h-full flex-col",children:e.length===0?u.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparacin."}):u.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(f=>u.jsx(Mte,{order:f,onReady:d,canMarkReady:o},f.ticketKey))})})},vC=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,o]=b.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,d=e.date_envoi_cuisine||e.date_creation,f=$R(d),h={normal:"Normal",warning:"En seguimiento",critical:"Crtico"};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${f.border} ${f.background}`,children:[u.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${f.accent}`}),u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(d).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),u.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${f.badge}`,children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${f.accent}`}),u.jsx("span",{children:h[f.level]})]})]}),u.jsx(c_,{startTime:d,className:"text-sm sm:text-base"})]})}),u.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&u.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[u.jsx(ab,{size:16,className:f.icon}),u.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[u.jsx(jA,{size:14,className:"text-gray-500"}),u.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx(Ah,{size:16,className:`mt-0.5 text-gray-500 ${f.icon}`}),u.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artculos"}),e.items.length>0?u.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var v;const g=(v=p.commentaire)==null?void 0:v.trim();return u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${f.accent}`,children:p.quantite}),u.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),u.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:ke(p.prix_unitaire*p.quantite)})]}),g&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):u.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido an no tiene artculos registrados."})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:ke(e.total)})]})]}),u.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>o(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[u.jsx(Uy,{size:16,className:f.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),u.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&u.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),u.jsx(Tn,{isOpen:i,onClose:()=>o(!1),title:"Comprobante de pago",children:e.receipt_url?u.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"No se proporcion comprobante."})})]})},Rte=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,o]=b.useState(!0),[l,d]=b.useState(null),f=b.useCallback(async()=>{try{const{pending:g,ready:v}=await xe.getTakeawayOrders();t(g.sort((_,w)=>_.date_creation-w.date_creation)),r(v.sort((_,w)=>(_.date_listo_cuisine||0)-(w.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{o(!1)}},[]);b.useEffect(()=>{o(!0),f();const g=setInterval(f,1e4),v=xe.notifications.subscribe("orders_updated",f);return()=>{clearInterval(g),v()}},[f]);const h=async g=>{if(!l){d(g);try{await xe.validateTakeawayOrder(g),await f()}catch(v){console.error("Failed to validate order:",v),alert(`No se pudo validar el pedido: ${v.message}`)}finally{d(null)}}},p=async g=>{if(!l){d(g);try{await xe.markTakeawayAsDelivered(g),await f()}catch(v){console.error("Failed to mark order as delivered:",v),alert("Ocurri un error al finalizar el pedido.")}finally{d(null)}}};return i?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validacin (",e.length,")"]}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>u.jsx(vC,{order:g,onValidate:h,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),u.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>u.jsx(vC,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},Dte=()=>{const{role:e}=pa(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[o,l]=b.useState(null),[d,f]=b.useState(""),[h,p]=b.useState(!1),[g,v]=b.useState(!1),[_,w]=b.useState(!1),[S,j]=b.useState(null),[N,E]=b.useState("add"),C=(e==null?void 0:e.permissions["/ingredients"])==="editor",A=b.useCallback(async()=>{try{const P=await xe.getIngredients();n(P),l(null)}catch(P){l("Impossible de charger les ingrdients."),console.error(P)}finally{i(!1)}},[]);b.useEffect(()=>{i(!0),A()},[A]);const T=b.useMemo(()=>t.filter(P=>P.nom.toLowerCase().includes(d.toLowerCase())),[t,d]),M=(P,D=null)=>{j(D),P==="add"||P==="edit"?(E(P),p(!0)):P==="resupply"?v(!0):P==="delete"&&w(!0)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-80",children:[u.jsx(rb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un ingrdient...",value:d,onChange:P=>f(P.target.value),className:"ui-input pl-10 sm:w-64"})]}),C&&u.jsxs("button",{onClick:()=>M("add"),className:"w-full md:w-auto ui-btn-primary",children:[u.jsx(nb,{size:20}),"Ajouter un ingrdient"]})]}),r?u.jsx("p",{className:"text-gray-800",children:"Chargement..."}):o?u.jsx("p",{className:"text-red-500",children:o}):u.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),C&&u.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{children:T.map(P=>{const D=P.stock_actuel<=P.stock_minimum;return u.jsxs("tr",{className:`border-b hover:bg-gray-50 ${D?"bg-red-50":""}`,children:[u.jsx("td",{className:`p-3 font-semibold ${D?"text-red-900":"text-gray-900"}`,children:P.nom}),u.jsxs("td",{className:`p-3 font-bold ${D?"text-red-700":"text-gray-800"}`,children:[P.stock_actuel," ",P.unite]}),u.jsxs("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:[P.stock_minimum," ",P.unite]}),u.jsx("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:ke(P.prix_unitaire)}),C&&u.jsx("td",{className:"p-3 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>M("resupply",P),title:"Rapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:u.jsx(GU,{size:20})}),u.jsx("button",{onClick:()=>M("edit",P),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:u.jsx(CA,{size:20})}),u.jsx("button",{onClick:()=>M("delete",P),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:u.jsx(Hs,{size:20})})]})})]},P.id)})})]})}),h&&C&&u.jsx(Lte,{isOpen:h,onClose:()=>p(!1),onSuccess:A,ingredient:S,mode:N}),g&&C&&S&&u.jsx(Ite,{isOpen:g,onClose:()=>v(!1),onSuccess:A,ingredient:S}),_&&C&&S&&u.jsx(Ute,{isOpen:_,onClose:()=>w(!1),onSuccess:A,ingredient:S})]})},Lte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[o,l]=b.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[d,f]=b.useState(!1),h=async p=>{p.preventDefault(),f(!0);try{i==="edit"&&r?await xe.updateIngredient(r.id,o):await xe.addIngredient(o),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{f(!1)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrdient":"Modifier l'Ingrdient",children:u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",id:"nom",value:o.nom,onChange:p=>l({...o,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unit"}),u.jsxs("select",{id:"unite",value:o.unite,onChange:p=>l({...o,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"g",children:"Grammes (g)"}),u.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),u.jsx("option",{value:"ml",children:"Millilitres (ml)"}),u.jsx("option",{value:"L",children:"Litres (L)"}),u.jsx("option",{value:"unite",children:"Unit"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),u.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:o.stock_minimum,onChange:p=>l({...o,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:d?"Sauvegarde...":"Sauvegarder"})]})]})})},Ite=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=b.useState(0),[l,d]=b.useState(0),[f,h]=b.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){h(!0);try{await xe.resupplyIngredient(r.id,i,l),n(),t()}catch(v){console.error("Failed to resupply ingredient",v)}finally{h(!1)}}};return u.jsx(Tn,{isOpen:e,onClose:t,title:`Rapprovisionner: ${r.nom}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantit Achete (",r.unite,")"]}),u.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>o(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unit (",r.unite,")"]}),u.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>d(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Ajout...":"Ajouter au Stock"})]})]})})},Ute=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=b.useState(!1),[l,d]=b.useState(null),f=async()=>{o(!0),d(null);try{await xe.deleteIngredient(r.id),n(),t()}catch(h){console.error("Failed to delete ingredient",h),d("Impossible de supprimer cet ingrdient car il est utilis dans au moins une recette.")}finally{o(!1)}};return u.jsxs(Tn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["tes-vous sr de vouloir supprimer l'ingrdient ",u.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irrversible."]}),l&&u.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:f,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},yC=[1,2,3,4,5,6],bC=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:Iy};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:Sl};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:lU};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:sU}}},zte=()=>{const{role:e}=pa(),[t,n]=b.useState([]),[r,i]=b.useState([]),[o,l]=b.useState([]),[d,f]=b.useState(!0),[h,p]=b.useState(null),[g,v]=b.useState(""),[_,w]=b.useState("all"),[S,j]=b.useState(!1),[N,E]=b.useState(!1),[C,A]=b.useState(!1),[T,M]=b.useState(null),[P,D]=b.useState("add"),q=(e==null?void 0:e.permissions["/produits"])==="editor",z=b.useCallback(async()=>{try{f(!0);const[K,L,Y]=await Promise.all([xe.getProducts(),xe.getCategories(),xe.getIngredients()]);n(K),i(L),l(Y),p(null)}catch(K){p("Impossible de charger les donnes des produits."),console.error(K)}finally{f(!1)}},[]);b.useEffect(()=>{z()},[z]);const F=b.useMemo(()=>t.filter(K=>K.nom_produit.toLowerCase().includes(g.toLowerCase())&&(_==="all"||K.categoria_id===_)),[t,g,_]),H=b.useMemo(()=>{const K=new Map;return t.forEach(L=>{L.is_best_seller&&L.best_seller_rank!=null&&K.set(L.best_seller_rank,L)}),K},[t]),ae=(K,L="add",Y=null)=>{K==="product"?(D(L),M(Y),j(!0)):K==="category"?E(!0):K==="delete"&&Y&&(M(Y),A(!0))},$=async(K,L)=>{try{await xe.updateProduct(K.id,{estado:L}),z()}catch(Y){console.error("Failed to update status",Y);const W=Y instanceof Error?Y.message:"Une erreur inconnue s'est produite.";alert(`chec de la mise  jour du statut du produit : ${W}`)}};return d?u.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):h?u.jsx("p",{className:"text-red-500",children:h}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[u.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[u.jsx(rb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:K=>v(K.target.value),className:"ui-input pl-10"})]}),u.jsxs("select",{value:_,onChange:K=>w(K.target.value),className:"ui-select md:w-56",children:[u.jsx("option",{value:"all",children:"Toutes les catgories"}),r.map(K=>u.jsx("option",{value:K.id,children:K.nom},K.id))]})]}),q&&u.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[u.jsx("button",{onClick:()=>E(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:u.jsx(hz,{size:20})}),u.jsxs("button",{onClick:()=>ae("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[u.jsx(nb,{size:20}),"Ajouter Produit"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:F.map(K=>u.jsx($te,{product:K,category:r.find(L=>L.id===K.categoria_id),onEdit:()=>ae("product","edit",K),onDelete:()=>ae("delete","edit",K),onStatusChange:$,canEdit:q},K.id))}),S&&q&&u.jsx(Bte,{isOpen:S,onClose:()=>j(!1),onSuccess:z,product:T,mode:P,categories:r,ingredients:o,occupiedPositions:H}),N&&q&&u.jsx(qte,{isOpen:N,onClose:()=>E(!1),onSuccess:z,categories:r}),C&&q&&T&&u.jsx(Hte,{isOpen:C,onClose:()=>A(!1),onSuccess:z,product:T})]})},$te=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:o})=>{const{text:l,color:d,Icon:f}=bC(e.estado),[h,p]=b.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,u.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&u.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),u.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catgorie"}),u.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),u.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:ke(e.prix_vente)})]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${d}`,children:[u.jsx(f,{size:14})," ",l]}),o&&u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>p(!h),className:"p-1 text-gray-500 hover:text-gray-800",children:u.jsx(yA,{size:20})}),h&&u.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[u.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),u.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),u.jsx("div",{className:"border-t my-1"}),u.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(v=>u.jsx("button",{onClick:()=>{i(e,v),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:bC(v).text},v))]})]})]})]})]})},Bte=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:o,ingredients:l,occupiedPositions:d})=>{var q;const[f,h]=b.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((q=o[0])==null?void 0:q.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=b.useState(null),[v,_]=b.useState(!1);b.useEffect(()=>{var z;e&&(h({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((z=o[0])==null?void 0:z.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,o]);const w=b.useCallback(()=>{for(const z of yC){const F=d.get(z);if(!F||F.id===(r==null?void 0:r.id))return z}return null},[d,r==null?void 0:r.id]),S=b.useCallback(z=>{h(F=>{if(z){const H=F.best_seller_rank??w();return{...F,is_best_seller:!0,best_seller_rank:H??null}}return{...F,is_best_seller:!1,best_seller_rank:null}})},[w]),j=b.useCallback(z=>{const F=z.target.value;h(H=>({...H,best_seller_rank:F?Number(F):null}))},[]),N=b.useMemo(()=>new Map(l.map(z=>[z.id,z])),[l]),E=b.useMemo(()=>f.recipe.reduce((z,F)=>{const H=N.get(F.ingredient_id);if(!H)return z;let ae=H.prix_unitaire;return(H.unite==="kg"||H.unite==="L")&&(ae=ae/1e3),z+ae*F.qte_utilisee},0),[f.recipe,N]),C=f.prix_vente-E,A=f.prix_vente>0?C/f.prix_vente*100:0,T=(z,F,H)=>{const ae=[...f.recipe];if(F==="qte_utilisee"){const{valueAsNumber:$,value:K}=H.currentTarget,L=Number.isNaN($)?Number(K.replace(",",".")):$;ae[z]={...ae[z],[F]:Number.isNaN(L)?ae[z].qte_utilisee:L}}else ae[z]={...ae[z],[F]:H.currentTarget.value};h($=>({...$,recipe:ae}))},M=()=>{l.length!==0&&h({...f,recipe:[...f.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},P=z=>{const F=f.recipe.filter((H,ae)=>ae!==z);h({...f,recipe:F})},D=async z=>{var F;if(z.preventDefault(),f.recipe.length===0){alert("Veuillez ajouter au moins un ingrdient  la recette.");return}if(f.is_best_seller){if(f.best_seller_rank==null){alert("Veuillez slectionner une position de best seller disponible.");return}const H=d.get(f.best_seller_rank);if(H&&H.id!==(r==null?void 0:r.id)){alert(`La position ${f.best_seller_rank} est dj occupe par ${H.nom_produit}.`);return}}_(!0);try{let H=((F=f.image)==null?void 0:F.trim())??"";p&&(H=await S6(p,f.nom_produit));const ae={...f,image:H,is_best_seller:f.is_best_seller,best_seller_rank:f.is_best_seller?f.best_seller_rank:null};i==="edit"&&r?await xe.updateProduct(r.id,ae):await xe.addProduct(ae),n(),g(null),t()}catch(H){console.error("Failed to save product",H);const ae=H instanceof Error?H.message:"Une erreur inconnue s'est produite.";alert(`chec du tlversement de l'image du produit : ${ae}`)}finally{_(!1)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:u.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",value:f.nom_produit,onChange:z=>h({...f,nom_produit:z.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:f.prix_vente,onChange:z=>{const{valueAsNumber:F,value:H}=z.currentTarget,ae=Number.isNaN(F)?Number(H.replace(",",".")):F;h($=>({...$,prix_vente:Number.isNaN(ae)?$.prix_vente:ae}))},required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catgorie"}),u.jsx("select",{value:f.categoria_id,onChange:z=>h({...f,categoria_id:z.target.value}),required:!0,className:"mt-1 ui-select",children:o.map(z=>u.jsx("option",{value:z.id,children:z.nom},z.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{value:f.estado,onChange:z=>h({...f,estado:z.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"disponible",children:"Disponible"}),u.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),u.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),u.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[u.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:f.is_best_seller,onChange:z=>S(z.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),u.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),u.jsxs("select",{id:"best-seller-rank",value:f.best_seller_rank??"",onChange:j,disabled:!f.is_best_seller,className:"mt-1 ui-select",children:[u.jsx("option",{value:"",children:"Slectionner une position"}),yC.map(z=>{const F=d.get(z),H=(F==null?void 0:F.id)===(r==null?void 0:r.id),ae=!!(F&&!H),$=F?H?`${z}  Position actuelle`:`${z}  Occup par ${F.nom_produit}`:`${z}`;return u.jsx("option",{value:z,disabled:ae,children:$},z)})]}),f.is_best_seller&&f.best_seller_rank===null&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Slectionnez une position disponible pour ce best seller."})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Cot de revient"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ke(E)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),u.jsx("p",{className:`text-lg font-semibold ${C>=0?"text-emerald-600":"text-red-600"}`,children:ke(C)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),u.jsxs("p",{className:`text-lg font-semibold ${A>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(A)?D$(A):"0","%"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{rows:3,value:f.description,onChange:z=>h({...f,description:z.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),u.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[u.jsx("img",{src:p?URL.createObjectURL(p):lA(f.image),alt:"Aperu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),u.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(yu,{size:16}),u.jsx("span",{children:"Changer l'image"})]}),u.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:z=>g(z.target.files?z.target.files[0]:null)})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),f.recipe.length===0&&u.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrdient."})}),u.jsx("div",{className:"space-y-2",children:f.recipe.map((z,F)=>{var H,ae;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wU,{className:"text-gray-400 cursor-move",size:16}),u.jsx("select",{value:z.ingredient_id,onChange:$=>T(F,"ingredient_id",$),className:"ui-select flex-grow",children:l.map($=>u.jsx("option",{value:$.id,children:$.nom},$.id))}),u.jsx("input",{type:"number",placeholder:"Qt",value:z.qte_utilisee,onChange:$=>T(F,"qte_utilisee",$),className:"ui-input w-24"}),u.jsx("span",{className:"text-gray-500 text-sm w-12",children:((H=l.find($=>$.id===z.ingredient_id))==null?void 0:H.unite)==="kg"?"g":(ae=l.find($=>$.id===z.ingredient_id))==null?void 0:ae.unite}),u.jsx("button",{type:"button",onClick:()=>P(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Hs,{size:16})})]},F)})}),u.jsx("button",{type:"button",onClick:M,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrdient"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:v||f.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:v?"Sauvegarde...":"Sauvegarder"})]})]})})},qte=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,o]=b.useState(""),[l,d]=b.useState(""),f=async()=>{if(i.trim())try{await xe.addCategory(i),o(""),n()}catch(p){console.error(p)}},h=async p=>{d("");try{await xe.deleteCategory(p),n()}catch(g){d(g.message),console.error(g)}};return u.jsx(Tn,{isOpen:e,onClose:t,title:"Grer les Catgories",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Nom de la nouvelle catgorie",className:"ui-input flex-grow"}),u.jsx("button",{onClick:f,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&u.jsx("p",{className:"text-red-500 text-sm",children:l}),u.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>u.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{className:"text-gray-800",children:p.nom}),u.jsx("button",{onClick:()=>h(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Hs,{size:16})})]},p.id))}),u.jsx("div",{className:"pt-4 flex",children:u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},Hte=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,o]=b.useState(!1),l=async()=>{o(!0);try{await xe.deleteProduct(r.id),n(),t()}catch(d){console.error("Failed to delete product",d)}finally{o(!1)}};return u.jsxs(Tn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["tes-vous sr de vouloir supprimer le produit ",u.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irrversible."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},Ws=e=>{if(e.error)throw new Error(e.error.message);return e.data},Fte=async()=>{const e=await he.from("promotions").select("*").order("priority",{ascending:!1});return Ws(e)},u_=async()=>{const e=new Date().toISOString(),t=await he.from("promotions").select("*").eq("active",!0).lte("start_date",e).or(`end_date.is.null,end_date.gte.${e}`).order("priority",{ascending:!1});return Ws(t).filter(r=>r.usage_limit&&r.usage_count>=r.usage_limit?!1:TA(r))},Kte=async e=>{const t=await he.from("promotions").insert({name:e.name,description:e.description,active:e.active,start_date:e.start_date,end_date:e.end_date,conditions:e.conditions,config:e.config,priority:e.priority,stackable:e.stackable,usage_limit:e.usage_limit,usage_count:0}).select().single();return Ws(t)},Gte=async(e,t)=>{const n=await he.from("promotions").update({name:t.name,description:t.description,active:t.active,start_date:t.start_date,end_date:t.end_date,conditions:t.conditions,config:t.config,priority:t.priority,stackable:t.stackable,usage_limit:t.usage_limit}).eq("id",e).select().single();return Ws(n)},Yte=async e=>{const t=await he.from("promotions").delete().eq("id",e);Ws(t)},Vte=async(e,t)=>{const n=await he.from("promotions").update({active:t}).eq("id",e).select().single();return Ws(n)},Wte=async e=>{const t=await he.from("promotion_usages").select("*").eq("promotion_id",e).order("applied_at",{ascending:!1});return Ws(t)},Xte=async(e,t)=>Vte(e,t==="active"),Qte=[{value:"percentage",label:"Pourcentage"},{value:"fixed_amount",label:"Montant fixe"},{value:"promo_code",label:"Code promo"},{value:"buy_x_get_y",label:"2x1 / Achetez X, obtenez Y"},{value:"free_product",label:"Produit gratuit"},{value:"free_shipping",label:"Livraison gratuite"},{value:"combo",label:"Combo"},{value:"threshold",label:"Palier"},{value:"happy_hour",label:"Happy hour"}],Jte=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"scheduled",label:"Programme"},{value:"expired",label:"Expire"}],xC=({isOpen:e,onClose:t,onSave:n,promotion:r})=>{var H,ae;const[i,o]=b.useState(""),[l,d]=b.useState("percentage"),[f,h]=b.useState("active"),[p,g]=b.useState(0),[v,_]=b.useState({}),[w,S]=b.useState({type:"percentage",value:0,applies_to:"total"}),[j,N]=b.useState({}),[E,C]=b.useState(!1),[A,T]=b.useState(null),[M,P]=b.useState("general"),[D,q]=b.useState(!1);b.useEffect(()=>{r&&(o(r.name),d(r.type),h(r.status),g(r.priority),_(r.conditions),S(r.discount),N(r.visuals||{}))},[r]);const z=async $=>{$.preventDefault(),C(!0),T(null);try{r?await Gte(r.id,{name:i,type:l,status:f,priority:p,conditions:v,discount:w,visuals:j}):await Kte({name:i,type:l,status:f,priority:p,conditions:v,discount:w,visuals:j}),n()}catch(K){T(K instanceof Error?K.message:"Une erreur est survenue")}finally{C(!1)}},F=async $=>{var L;const K=(L=$.target.files)==null?void 0:L[0];if(K){q(!0);try{const Y=await Jc(K);N({...j,banner_image:fa(Y)})}catch{T("Erreur lors du tlchargement de l'image")}finally{q(!1)}}};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r?"Modifier la promotion":"Nouvelle promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(ua,{size:24})})]}),A&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:A}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${M==="general"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>P("general"),children:"Gnral"}),u.jsx("button",{className:`px-4 py-3 font-medium ${M==="conditions"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>P("conditions"),children:"Conditions"}),u.jsx("button",{className:`px-4 py-3 font-medium ${M==="discount"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>P("discount"),children:"Rduction"}),u.jsx("button",{className:`px-4 py-3 font-medium ${M==="visuals"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>P("visuals"),children:"Affichage"})]}),u.jsxs("form",{onSubmit:z,className:"overflow-y-auto p-6",children:[M==="general"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la promotion"}),u.jsx("input",{type:"text",id:"name",value:i,onChange:$=>o($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de promotion"}),u.jsx("select",{id:"type",value:l,onChange:$=>d($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:Qte.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),u.jsx("select",{id:"status",value:f,onChange:$=>h($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:Jte.map($=>u.jsx("option",{value:$.value,children:$.label},$.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorit"}),u.jsx("input",{type:"number",id:"priority",value:p,onChange:$=>g(parseInt($.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:"100"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Plus la valeur est leve, plus la promotion est prioritaire."})]})]}),M==="conditions"&&u.jsxs("div",{className:"space-y-6",children:[l==="promo_code"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code promo"}),u.jsx("input",{type:"text",id:"promo_code",value:v.promo_code||"",onChange:$=>_({...v,promo_code:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:l==="promo_code"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant minimum de commande"}),u.jsx("input",{type:"number",id:"min_order_amount",value:v.min_order_amount||"",onChange:$=>_({...v,min_order_amount:parseFloat($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de commande"}),u.jsx("input",{type:"number",id:"max_order_amount",value:v.max_order_amount||"",onChange:$=>_({...v,max_order_amount:parseFloat($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),u.jsx("input",{type:"datetime-local",id:"start_date",value:v.start_date?new Date(v.start_date).toISOString().slice(0,16):"",onChange:$=>_({...v,start_date:$.target.value?new Date($.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),u.jsx("input",{type:"datetime-local",id:"end_date",value:v.end_date?new Date(v.end_date).toISOString().slice(0,16):"",onChange:$=>_({...v,end_date:$.target.value?new Date($.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jours de la semaine"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"].map(($,K)=>{var L;return u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"checkbox",checked:((L=v.days_of_week)==null?void 0:L.includes(K))||!1,onChange:Y=>{const W=v.days_of_week||[];Y.target.checked?_({...v,days_of_week:[...W,K]}):_({...v,days_of_week:W.filter(ue=>ue!==K)})},className:"form-checkbox h-4 w-4 text-brand-primary"}),u.jsx("span",{className:"ml-2 text-sm",children:$})]},K)})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de dbut"}),u.jsx("input",{type:"time",id:"hours_start",value:((H=v.hours_of_day)==null?void 0:H.start)||"",onChange:$=>_({...v,hours_of_day:{...v.hours_of_day||{},start:$.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),u.jsx("input",{type:"time",id:"hours_end",value:((ae=v.hours_of_day)==null?void 0:ae.end)||"",onChange:$=>_({...v,hours_of_day:{...v.hours_of_day||{},end:$.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre maximum d'utilisations"}),u.jsx("input",{type:"number",id:"max_uses",value:v.max_uses_total||"",onChange:$=>_({...v,max_uses_total:parseInt($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses_per_customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum par client"}),u.jsx("input",{type:"number",id:"max_uses_per_customer",value:v.max_uses_per_customer||"",onChange:$=>_({...v,max_uses_per_customer:parseInt($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]})]}),l==="buy_x_get_y"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"buy_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantit  acheter"}),u.jsx("input",{type:"number",id:"buy_quantity",value:v.buy_quantity||"",onChange:$=>_({...v,buy_quantity:parseInt($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"get_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantit offerte"}),u.jsx("input",{type:"number",id:"get_quantity",value:v.get_quantity||"",onChange:$=>_({...v,get_quantity:parseInt($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"first_order_only",checked:v.first_order_only||!1,onChange:$=>_({...v,first_order_only:$.target.checked}),className:"h-4 w-4 text-brand-primary"}),u.jsx("label",{htmlFor:"first_order_only",className:"ml-2 text-sm text-gray-700",children:"Uniquement pour la premire commande"})]})]}),M==="discount"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de rduction"}),u.jsxs("select",{id:"discount_type",value:w.type,onChange:$=>S({...w,type:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur de la rduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"discount_value",value:w.value,onChange:$=>S({...w,value:parseFloat($.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:(w.type==="percentage","0.01"),required:!0}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.type==="percentage"?"%":""})]})]})]}),w.type==="percentage"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_discount_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de la rduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"max_discount_amount",value:w.max_discount_amount||"",onChange:$=>S({...w,max_discount_amount:parseFloat($.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"applies_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application de la rduction"}),u.jsxs("select",{id:"applies_to",value:w.applies_to,onChange:$=>S({...w,applies_to:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"total",children:"Total de la commande"}),u.jsx("option",{value:"products",children:"Produits spcifiques"}),u.jsx("option",{value:"shipping",children:"Frais de livraison"})]})]})]}),M==="visuals"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du badge"}),u.jsx("input",{type:"text",id:"badge_text",value:j.badge_text||"",onChange:$=>N({...j,badge_text:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 2x1, -20%, etc."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur du texte du badge"}),u.jsx("input",{type:"color",id:"badge_color",value:j.badge_color||"#FFFFFF",onChange:$=>N({...j,badge_color:$.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur de fond du badge"}),u.jsx("input",{type:"color",id:"badge_bg_color",value:j.badge_bg_color||"#F9A826",onChange:$=>N({...j,badge_bg_color:$.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de fond du badge (optionnel)"}),u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Si vous uploadez une image, elle remplacera la couleur de fond du badge"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"badge_bg_image",onChange:async $=>{var L;const K=(L=$.target.files)==null?void 0:L[0];if(K){q(!0);try{const Y=await Jc(K,{tags:["badge-background"]});N({...j,badge_bg_image:fa(Y)})}catch{T("Erreur lors du tlchargement de l'image du badge")}finally{q(!1)}}},className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Tlchargement...":"Choisir une image"})]}),j.badge_bg_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:j.badge_bg_image,alt:"Aperu de l'image de fond du badge",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>N({...j,badge_bg_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(ua,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte de la bannire"}),u.jsx("input",{type:"text",id:"banner_text",value:j.banner_text||"",onChange:$=>N({...j,banner_text:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Offre spciale : 20% de rduction sur tous les tacos !"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de la bannire"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"banner_image",onChange:F,className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Tlchargement...":"Choisir une image"})]}),j.banner_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:j.banner_image,alt:"Aperu de la bannire",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>N({...j,banner_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(ua,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_cta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du bouton d'appel  l'action"}),u.jsx("input",{type:"text",id:"banner_cta",value:j.banner_cta||"",onChange:$=>N({...j,banner_cta:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: En profiter maintenant"})]})]})]}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:E,children:"Annuler"}),u.jsx("button",{type:"submit",onClick:z,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary-dark flex items-center gap-2",disabled:E,children:E?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),u.jsx("span",{children:"Enregistrement..."})]}):u.jsx("span",{children:"Enregistrer"})})]})]})}):null},Zte={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},ene={active:"Active",inactive:"Inactive",scheduled:"Programme",expired:"Expire"},tne={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},nne=({isOpen:e,onClose:t,promotion:n})=>{const[r,i]=b.useState([]),[o,l]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState("details");b.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{l(!0),f(null);try{const _=await Wte(n.id);i(_)}catch(_){f("Erreur lors du chargement des utilisations"),console.error(_)}finally{l(!1)}},v=_=>{const w=new Date(_);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Dtails de la promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(ua,{size:24})})]}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${h==="details"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("details"),children:"Dtails"}),u.jsxs("button",{className:`px-4 py-3 font-medium ${h==="usages"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("usages"),children:["Utilisations (",n.usage_count,")"]})]}),u.jsxs("div",{className:"overflow-y-auto p-6",children:[h==="details"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:n.name}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${tne[n.status]}`,children:ene[n.status]}),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:Zte[n.type]})]})]}),u.jsx("div",{className:"mt-2 md:mt-0",children:u.jsxs("span",{className:"text-sm text-gray-500",children:["Priorit: ",n.priority]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(CU,{size:16,className:"mr-1"}),"Informations gnrales"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ID:"}),u.jsx("span",{className:"text-sm font-mono",children:n.id})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Cre le:"}),u.jsx("span",{className:"text-sm",children:v(n.created_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Mise  jour:"}),u.jsx("span",{className:"text-sm",children:v(n.updated_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations:"}),u.jsx("span",{className:"text-sm",children:n.usage_count})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(Th,{size:16,className:"mr-1"}),"Rduction"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),u.jsx("span",{className:"text-sm",children:n.discount.type==="percentage"?"Pourcentage":"Montant fixe"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Valeur:"}),u.jsxs("span",{className:"text-sm font-medium",children:[n.discount.value,n.discount.type==="percentage"?"%":""]})]}),n.discount.max_discount_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.max_discount_amount,""]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Application:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.applies_to==="total"&&"Total de la commande",n.discount.applies_to==="products"&&"Produits spcifiques",n.discount.applies_to==="shipping"&&"Frais de livraison"]})]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(B6,{size:16,className:"mr-1"}),"Conditions"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.conditions.promo_code&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Code promo:"}),u.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-0.5 rounded",children:n.conditions.promo_code})]}),n.conditions.min_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant minimum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.min_order_amount,""]})]}),n.conditions.max_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.max_order_amount,""]})]}),n.conditions.start_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de dbut:"}),u.jsx("span",{className:"text-sm",children:v(n.conditions.start_date)})]}),n.conditions.end_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de fin:"}),u.jsx("span",{className:"text-sm",children:v(n.conditions.end_date)})]}),n.conditions.days_of_week&&n.conditions.days_of_week.length>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Jours:"}),u.jsx("span",{className:"text-sm",children:n.conditions.days_of_week.map(_=>["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"][_]).join(", ")})]}),n.conditions.hours_of_day&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Heures:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.hours_of_day.start," - ",n.conditions.hours_of_day.end]})]}),n.conditions.max_uses_total&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations max:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_total})]}),n.conditions.max_uses_per_customer&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Max par client:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_per_customer})]}),n.conditions.first_order_only&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Premire commande:"}),u.jsx("span",{className:"text-sm",children:"Oui"})]}),n.type==="buy_x_get_y"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Achetez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.buy_quantity})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Obtenez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.get_quantity})]})]})]})]}),n.visuals&&Object.keys(n.visuals).length>0&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(zf,{size:16,className:"mr-1"}),"lments visuels"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.visuals.badge_text&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Badge:"}),u.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:n.visuals.badge_color||"#F9A826",color:"#ffffff"},children:n.visuals.badge_text})]}),n.visuals.banner_text&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Texte bannire:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_text})]}),n.visuals.banner_cta&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Bouton:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_cta})]})]}),n.visuals.banner_image&&u.jsxs("div",{className:"mt-4",children:[u.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Image de bannire:"}),u.jsx("img",{src:n.visuals.banner_image,alt:"Bannire promotionnelle",className:"w-full h-auto max-h-40 object-cover rounded-lg"})]})]})]}),h==="usages"&&u.jsxs("div",{children:[d&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),o?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]}):r.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune utilisation enregistre pour cette promotion"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Commande"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Montant"})]})}),u.jsx("tbody",{children:r.map(_=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:v(_.applied_at)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("a",{href:"#",className:"text-brand-primary hover:underline flex items-center",onClick:w=>{w.preventDefault()},children:[_.order_id.substring(0,8),"...",u.jsx(pU,{size:14,className:"ml-1"})]})}),u.jsx("td",{className:"px-4 py-3",children:_.customer_phone||"-"}),u.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:[_.discount_amount.toFixed(2),""]})]},_.id))})]})})]})]}),u.jsx("div",{className:"flex justify-end p-6 border-t",children:u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fermer"})})]})}):null},rne=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmLabel:o="Confirmer",cancelLabel:l="Annuler",confirmButtonClass:d="bg-brand-primary hover:bg-brand-primary-dark"})=>e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(ua,{size:24})})]}),u.jsx("div",{className:"p-6",children:u.jsx("p",{className:"text-gray-700",children:i})}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:l}),u.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-white rounded-md ${d}`,children:o})]})]})}):null,ane={active:"Active",inactive:"Inactive",scheduled:"Programme",expired:"Expire"},ine={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},sne={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},one={percentage:u.jsx(Th,{size:16}),fixed_amount:u.jsx(zf,{size:16}),promo_code:u.jsx(zf,{size:16}),buy_x_get_y:u.jsx(el,{size:16}),free_product:u.jsx(el,{size:16}),free_shipping:u.jsx(el,{size:16}),combo:u.jsx(el,{size:16}),threshold:u.jsx(vA,{size:16}),happy_hour:u.jsx(Sl,{size:16})},lne=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,o]=b.useState(null),[l,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[v,_]=b.useState(!1),[w,S]=b.useState(null),[j,N]=b.useState(""),[E,C]=b.useState("all"),[A,T]=b.useState("all"),[M,P]=b.useState("priority"),[D,q]=b.useState("desc"),z=async()=>{r(!0),o(null);try{const R=await Fte();t(R)}catch(R){o("Erreur lors du chargement des promotions"),console.error(R)}finally{r(!1)}};b.useEffect(()=>{z()},[]);const F=()=>{S(null),d(!0)},H=R=>{S(R),h(!0)},ae=R=>{S(R),g(!0)},$=R=>{S(R),_(!0)},K=async R=>{try{const I=R.active?"inactive":"active",V=await Xte(R.id,I);t(e.map(X=>X.id===R.id?V:X))}catch(I){o("Erreur lors de la mise  jour du statut"),console.error(I)}},L=async()=>{if(w)try{await Yte(w.id),t(e.filter(R=>R.id!==w.id)),_(!1)}catch(R){o("Erreur lors de la suppression de la promotion"),console.error(R)}},Y=R=>{M===R?q(D==="asc"?"desc":"asc"):(P(R),q("desc"))},W=e.filter(R=>{const I=R.name.toLowerCase().includes(j.toLowerCase()),V=E==="all"||R.status===E,X=A==="all"||R.type===A;return I&&V&&X}).sort((R,I)=>{let V=0;switch(M){case"name":V=R.name.localeCompare(I.name);break;case"priority":V=R.priority-I.priority;break;case"created_at":V=new Date(R.created_at).getTime()-new Date(I.created_at).getTime();break;case"usage_count":V=R.usage_count-I.usage_count;break}return D==="asc"?V:-V}),ue=R=>M!==R?null:D==="asc"?u.jsx(vA,{size:16}):u.jsx(gA,{size:16}),ne=R=>{const I=new Date(R);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(I)};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des promotions"}),u.jsxs("button",{onClick:F,className:"bg-brand-primary hover:bg-brand-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(vu,{size:20}),"Nouvelle promotion"]})]}),i&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Rechercher une promotion...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg",value:j,onChange:R=>N(R.target.value)}),u.jsx(rb,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:E,onChange:R=>C(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"active",children:"Actives"}),u.jsx("option",{value:"inactive",children:"Inactives"}),u.jsx("option",{value:"scheduled",children:"Programmes"}),u.jsx("option",{value:"expired",children:"Expires"})]}),u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:A,onChange:R=>T(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les types"}),u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"}),u.jsx("option",{value:"promo_code",children:"Code promo"}),u.jsx("option",{value:"buy_x_get_y",children:"2x1 / Achetez X, obtenez Y"}),u.jsx("option",{value:"free_product",children:"Produit gratuit"}),u.jsx("option",{value:"free_shipping",children:"Livraison gratuite"}),u.jsx("option",{value:"combo",children:"Combo"}),u.jsx("option",{value:"threshold",children:"Palier"}),u.jsx("option",{value:"happy_hour",children:"Happy hour"})]}),u.jsxs("button",{onClick:z,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(sz,{size:18}),u.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("name"),children:["Nom ",ue("name")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("priority"),children:["Priorit ",ue("priority")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("created_at"),children:["Cre le ",ue("created_at")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("usage_count"),children:["Utilisations ",ue("usage_count")]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),u.jsx("tbody",{children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center",children:u.jsxs("div",{className:"flex justify-center items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):W.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Aucune promotion trouve"})}):W.map(R=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsx("div",{className:"font-medium",children:R.name}),R.type==="promo_code"&&R.conditions.promo_code&&u.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",u.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:R.conditions.promo_code})]})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[one[R.type],u.jsx("span",{children:sne[R.type]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ine[R.status]}`,children:ane[R.status]})}),u.jsx("td",{className:"px-4 py-4",children:R.priority}),u.jsx("td",{className:"px-4 py-4",children:ne(R.created_at)}),u.jsx("td",{className:"px-4 py-4",children:R.usage_count}),u.jsx("td",{className:"px-4 py-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>K(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:R.status==="active"?"Dsactiver":"Activer",children:R.status==="active"?u.jsx(vU,{size:18}):u.jsx(Uy,{size:18})}),u.jsx("button",{onClick:()=>ae(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Voir les dtails",children:u.jsx(Uy,{size:18})}),u.jsx("button",{onClick:()=>H(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Modifier",children:u.jsx(CA,{size:18})}),u.jsx("button",{onClick:()=>$(R),className:"p-1.5 rounded-md hover:bg-gray-100 text-red-500",title:"Supprimer",children:u.jsx(Hs,{size:18})})]})})]},R.id))})]})})]}),l&&u.jsx(xC,{isOpen:l,onClose:()=>d(!1),onSave:()=>{d(!1),z()}}),f&&w&&u.jsx(xC,{isOpen:f,onClose:()=>h(!1),onSave:()=>{h(!1),z()},promotion:w}),p&&w&&u.jsx(nne,{isOpen:p,onClose:()=>g(!1),promotion:w}),v&&w&&u.jsx(rne,{isOpen:v,onClose:()=>_(!1),onConfirm:L,title:"Supprimer la promotion",message:`tes-vous sr de vouloir supprimer la promotion "${w.name}" ? Cette action est irrversible.`,confirmLabel:"Supprimer",cancelLabel:"Annuler",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},BR="ouiouitacos_active_order",cne=e=>{try{localStorage.setItem(BR,e)}catch(t){console.error("Erreur lors du stockage de la commande active:",t)}},une=()=>{try{return localStorage.getItem(BR)}catch(e){return console.error("Erreur lors de la rcupration de la commande active:",e),null}},dne=({promotion:e,className:t=""})=>{const n=e.config,r=n.visuals||{};let i=r.badge_text||"",o=r.description||e.description||"";i||(n.discount_type==="percentage"?(i=`-${n.discount_value}%`,o=o||`${n.discount_value}% de descuento`):n.discount_type==="fixed_amount"?(i=`-$${n.discount_value.toLocaleString()}`,o=o||`$${n.discount_value.toLocaleString()} de descuento`):n.buy_quantity&&n.get_quantity?(i=`${n.buy_quantity}x${n.get_quantity}`,o=o||`Compra ${n.buy_quantity}, lleva ${n.get_quantity}`):n.applies_to==="shipping"?(i="ENVO GRATIS",o=o||"Envo gratis en este producto"):(i="PROMO",o=o||e.name));const l=r.badge_color||"#FFFFFF",d=r.badge_bg_color||"#E63946",f=r.badge_position||"top-right",h={"top-left":"top-2 left-2","top-right":"top-2 right-2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"},p=r.badge_bg_image;return u.jsxs("div",{className:`absolute ${h[f]} z-10 px-3 py-1 rounded-full font-bold text-sm shadow-lg transform rotate-3 ${t}`,style:{backgroundColor:p?"transparent":d,backgroundImage:p?`url(${p})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:l,animation:"pulse 2s infinite",textShadow:p?"0 1px 3px rgba(0,0,0,0.8)":"none"},title:o,children:[i,u.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0% {
            transform: rotate(3deg) scale(1);
          }
          50% {
            transform: rotate(3deg) scale(1.05);
          }
          100% {
            transform: rotate(3deg) scale(1);
          }
        }
      `})]})},fne=e=>{const[t,n]=b.useState([]),[r,i]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{try{i(!0);const g=(await u_().catch(v=>(console.error("[useProductPromotions] Error fetching active promotions from API:",v),[]))).filter(v=>{if(!Dz(v)||!TA(v))return!1;const _=v.config,w=v.conditions||[];return!_.product_ids&&!_.category_ids&&w.length===0?!1:_.product_ids&&_.product_ids.length>0&&_.product_ids.includes(e.id)||_.category_ids&&_.category_ids.length>0&&_.category_ids.includes(e.categoria_id)?!0:w.some(j=>j.type==="specific_product"&&Array.isArray(j.value)?j.value.includes(e.id):j.type==="specific_category"&&Array.isArray(j.value)?j.value.includes(e.categoria_id):!1)}).sort((v,_)=>(_.priority||0)-(v.priority||0));n(g)}catch(h){console.error("[useProductPromotions] Error during promotion processing:",h),l(h instanceof Error?h:new Error("Une erreur est survenue")),n([])}finally{i(!1)}})()},[e]);const d=t.length>0?t[0]:null;return{promotions:t,bestPromotion:d,loading:r,error:o}},hne=({product:e,onClick:t})=>{const{promotions:n,loading:r}=fne(e);return u.jsxs("div",{onClick:()=>e.estado==="disponible"&&t(),className:`relative border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${e.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[!r&&n.length>0&&e.estado==="disponible"&&u.jsx("div",{className:"absolute top-2 right-2 flex flex-col space-y-1 z-10",children:n.map((i,o)=>u.jsx(dne,{promotion:i},i.id||o))}),u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),u.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:e.nom_produit}),u.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:e.description}),u.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:ke(e.prix_vente)}),e.estado!=="disponible"&&u.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]})},mne=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const f=await u_();t(f)}catch(f){console.error("Error loading promotions:",f)}finally{r(!1)}})()},[]);const i=e.filter(d=>{const f=d.config,h=d.conditions;return!(f.promo_code||h&&h.some(p=>p.type==="promo_code")||d.description&&/code|cdigo|promo code/i.test(d.description))});if(n||i.length===0)return null;const o=d=>{const f=d.config;return f.applies_to==="shipping"?u.jsx(Ez,{size:20}):f.discount_type==="percentage"?u.jsx(Th,{size:20}):f.hours_of_day?u.jsx(Sl,{size:20}):f.buy_quantity?u.jsx(tN,{size:20}):u.jsx(zf,{size:20})},l=d=>{const f=d.config,h=d.conditions;let p=d.description||d.name;const g=h.find(v=>v.type==="min_order_amount");return g&&(p+=` (Mnimo: $${g.value.toLocaleString()})`),f.hours_of_day&&(p+=` (${f.hours_of_day.start} - ${f.hours_of_day.end})`),f.promo_code&&(p+=` (Cdigo: ${f.promo_code})`),p};return u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[u.jsx(tN,{className:"mr-2",size:24}),"Promociones Activas"]}),u.jsx("div",{className:"space-y-2",children:i.map(d=>{var p,g;const f=d.config,h=((p=f.visuals)==null?void 0:p.badge_bg_color)||"#4CAF50";return u.jsxs("div",{className:"flex items-start p-4 rounded-lg shadow-md border-l-4 transition-transform hover:scale-[1.02]",style:{borderLeftColor:h,background:`linear-gradient(to right, ${h}15, white)`},children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:h,color:((g=f.visuals)==null?void 0:g.badge_color)||"#FFFFFF"},children:o(d)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-800",children:d.name}),u.jsx("p",{className:"text-sm text-gray-600",children:l(d)})]})]},d.id)})})]})},Mf=8e3,d_="Domicilio",pne=e=>e.nom_produit===d_,gne=()=>({id:`delivery-${Date.now()}`,produitRef:"delivery-fee",nom_produit:d_,prix_unitaire:Mf,quantite:1}),vne=({isOpen:e,onClose:t,selectedProduct:n,onAddToCart:r})=>{var _;const[i,o]=b.useState(1),[l,d]=b.useState(""),[f,h]=b.useState([]);if(b.useEffect(()=>{e&&(o((n==null?void 0:n.quantite)||1),d((n==null?void 0:n.commentaire)||""),h((n==null?void 0:n.excluded_ingredients)||[]))},[e,n]),!e||!n)return null;const p=()=>{const w=n.product;r({id:`oi${Date.now()}`,produitRef:w.id,nom_produit:w.nom_produit,prix_unitaire:w.prix_vente,quantite:i,commentaire:l.trim()||void 0,excluded_ingredients:f.length>0?f:void 0})},g=w=>{f.includes(w)?h(f.filter(S=>S!==w)):h([...f,w])},v=((_=n.product.ingredients)==null?void 0:_.split(",").map(w=>w.trim()).filter(Boolean))||[];return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n.product.nom_produit}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("img",{src:n.product.image,alt:n.product.nom_produit,className:"w-full h-48 object-cover rounded-lg mb-4"}),u.jsx("p",{className:"text-gray-600 mb-4",children:n.product.description}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"font-bold text-gray-800 mb-2",children:["Precio: ",ke(n.product.prix_vente)]}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("button",{onClick:()=>o(Math.max(1,i-1)),className:"bg-gray-200 text-gray-700 rounded-l-lg px-3 py-1",children:"-"}),u.jsx("span",{className:"bg-gray-100 px-4 py-1",children:i}),u.jsx("button",{onClick:()=>o(i+1),className:"bg-gray-200 text-gray-700 rounded-r-lg px-3 py-1",children:"+"})]})]}),v.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"Ingredientes:"}),u.jsx("div",{className:"space-y-2",children:v.map((w,S)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`ingredient-${S}`,checked:!f.includes(w),onChange:()=>g(w),className:"mr-2"}),u.jsx("label",{htmlFor:`ingredient-${S}`,className:"text-gray-700",children:w})]},S))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"comment",className:"block font-bold text-gray-800 mb-2",children:"Comentarios adicionales:"}),u.jsx("textarea",{id:"comment",value:l,onChange:w=>d(w.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-gray-700",rows:3,placeholder:"Instrucciones especiales, alergias, etc."})]}),u.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg transform hover:scale-105",children:["Agregar al carrito - ",ke(n.product.prix_vente*i)]})]})})})},yne=({isOpen:e,order:t,onClose:n})=>{const r=Xa();if(!e||!t)return null;const i=()=>{r(`/order/${t.id}`)},o=()=>{const l=generateWhatsAppMessage(t),d=t.receipt_url?`&text=${l}`:"";window.open(`https://wa.me/573000000000?${d}`,"_blank")};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-green-600",children:"Pedido enviado con xito!"}),u.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Tu pedido ha sido enviado correctamente. Recibirs una confirmacin pronto."}),u.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4",children:[u.jsxs("p",{className:"font-bold text-gray-800",children:["Nmero de pedido: #",t.id.slice(-6)]}),u.jsxs("p",{className:"text-gray-600",children:["Total: ",ke(t.total)]})]}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx("button",{onClick:i,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition",children:"Ver detalles del pedido"}),u.jsx("button",{onClick:o,className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition",children:"Enviar por WhatsApp"}),u.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"})]})]})})})},bne=()=>{const{content:e}=cb(),[t,n]=b.useState([]),[r,i]=b.useState([]),[o,l]=b.useState(!0),[d,f]=b.useState(null),[h,p]=b.useState("all"),[g,v]=b.useState([]),[_,w]=b.useState(!1),[S,j]=b.useState(null),[N,E]=b.useState({nom:"",adresse:"",telephone:""}),[C,A]=b.useState("transferencia"),[T,M]=b.useState(null),[P,D]=b.useState(!1),[q,z]=b.useState(!1),[F,H]=b.useState(null),[ae,$]=b.useState([]),[K,L]=b.useState(""),[Y,W]=b.useState(""),[ue,ne]=b.useState(""),[R,I]=b.useState(0),[V,X]=b.useState(!1),[te,fe]=b.useState(8e4);b.useEffect(()=>{(async()=>{try{const[Ge,Xe]=await Promise.all([xe.getProducts(),xe.getCategories()]);n(Ge),i(Xe);const mt=une();if(mt)try{const pt=await xe.getOrderById(mt);pt&&$([pt])}catch(pt){console.error("Error fetching active order:",pt)}}catch(Ge){console.error("Error fetching data:",Ge),f("Error al cargar los datos. Por favor, intenta de nuevo ms tarde.")}finally{l(!1)}})()},[]);const pe=b.useMemo(()=>h==="all"?t:t.filter(ve=>ve.categoria_id===h),[t,h]),ze=b.useMemo(()=>{const ve=g.reduce((pt,Ye)=>pt+Ye.quantite*Ye.prix_unitaire,0);if(g.length===0)return X(!1),ve;const Ge=ve>=te;X(Ge);const mt=ve+(Ge?0:Mf);return Math.max(0,mt-R)},[g,R,te]),ie=ve=>{j({product:ve}),w(!0)},Se=ve=>{let Ge=[...g];if(ve.commentaire)Ge.push({...ve,id:`oi${Date.now()}`});else{const Xe=Ge.findIndex(mt=>mt.produitRef===ve.produitRef&&!mt.commentaire);Xe>-1?Ge[Xe].quantite+=ve.quantite:Ge.push(ve)}v(Ge),w(!1)},Te=(ve,Ge)=>{const Xe=g.findIndex(Ye=>Ye.id===ve);if(Xe===-1)return;let mt=[...g];const pt=mt[Xe].quantite+Ge;pt<=0?mt.splice(Xe,1):mt[Xe].quantite=pt,v(mt)},ce=async()=>{ne("");try{const Ge=(await u_()).find(Mn=>{const Un=Mn.config;return Un.promo_code&&Un.promo_code.toUpperCase()===K.toUpperCase()});if(!Ge){ne("Cdigo de promocin invlido");return}const Xe=Ge.config,mt=Ge.conditions,pt=g.reduce((Mn,Un)=>Mn+Un.quantite*Un.prix_unitaire,0),Ye=mt.find(Mn=>Mn.type==="min_order_amount");if(Ye&&pt<Ye.value){ne(`Monto mnimo requerido: $${Ye.value.toLocaleString()}`);return}let kn=0;Xe.discount_type==="percentage"?kn=pt*Xe.discount_value/100:Xe.discount_type==="fixed_amount"&&(kn=Xe.discount_value),W(K),I(kn),ne("")}catch(ve){console.error("Error applying promo code:",ve),ne("Error al aplicar el cdigo de promocin")}},At=()=>{L(""),W(""),I(0),ne("")},Ie=async ve=>{if(ve.preventDefault(),!(!N.nom||!N.telephone||!N.adresse||!T||!C)){D(!0);try{let Ge;T&&(Ge=await cA(T,{customerReference:N.telephone||N.nom}));const mt={items:g.length>0?[...g,gne()]:g,clientInfo:N,receipt_url:Ge,payment_method:C},pt=await xe.submitCustomerOrder(mt);H(pt),z(!0),v([]),E({nom:"",adresse:"",telephone:""}),M(null),A("transferencia"),cne(pt.id)}catch(Ge){alert("Ocurri un error al enviar el pedido o subir el comprobante."),console.error(Ge)}finally{D(!1)}}},Tt=ve=>{const Ge=Date.now(),Xe=[],mt=ve.items.reduce((pt,Ye,kn)=>{if(pne(Ye))return pt;const Mn=t.find(de=>de.id===Ye.produitRef);if(!Mn)return Xe.push(Ye.nom_produit||Ye.produitRef),pt;const Un={...Ye,id:`oi-${Ge}-${kn}`,prix_unitaire:Mn.prix_vente};return[...pt,Un]},[]);Xe.length>0&&alert(`Algunos productos no estn disponibles: ${Xe.join(", ")}. Se han omitido del pedido.`),v(mt),$([])},kt=Xa(),Ht=()=>{g.length>0&&!window.confirm("Ests seguro de que quieres volver? Tu carrito ser vaciado.")||kt("/")},Zn=e?db(e.hero.style,e.hero.backgroundImage):{};return u.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:Zn,children:[u.jsxs("div",{className:"flex-1 p-4 lg:p-8",children:[u.jsxs("button",{onClick:Ht,className:"flex items-center text-brand-primary hover:text-brand-primary-dark font-medium mb-4 transition-colors",children:[u.jsx(mA,{size:20,className:"mr-2"}),"Volver"]}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Realizar Pedido"}),u.jsx(mne,{}),u.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>p("all"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${h==="all"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:"Todos"}),r.map(ve=>u.jsx("button",{onClick:()=>p(ve.id),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${h===ve.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:ve.nom},ve.id))]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:pe.map(ve=>u.jsx(hne,{product:ve,onClick:()=>ie(ve)},ve.id))})]}),u.jsxs("div",{className:"lg:w-96 bg-white p-4 lg:p-6 shadow-lg flex flex-col",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Mi Carrito"}),g.length===0?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[u.jsx(EA,{size:48,className:"mb-3"}),u.jsx("p",{children:"Tu carrito est vaco."})]}):u.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[g.map(ve=>u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-800",children:ve.nom_produit}),ve.commentaire&&u.jsx("p",{className:"text-sm text-gray-500 italic",children:ve.commentaire}),ve.excluded_ingredients&&ve.excluded_ingredients.length>0&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Sin: ",ve.excluded_ingredients.join(", ")]}),u.jsx("p",{className:"text-sm text-gray-600",children:ke(ve.prix_unitaire)})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>Te(ve.id,-1),className:"text-brand-primary hover:text-brand-primary-dark p-1",children:u.jsx(SA,{size:16})}),u.jsx("span",{className:"mx-2 text-gray-700 font-medium",children:ve.quantite}),u.jsx("button",{onClick:()=>Te(ve.id,1),className:"text-brand-primary hover:text-brand-primary-dark p-1",children:u.jsx(vu,{size:16})})]})]},ve.id)),g.length>0&&u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[u.jsx("p",{className:"font-medium text-gray-800",children:d_}),V?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-400 line-through",children:ke(Mf)}),u.jsx("p",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("p",{className:"text-sm text-gray-600",children:ke(Mf)})]})]}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"promoCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo de Promocin:"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",id:"promoCode",value:K,onChange:ve=>L(ve.target.value.toUpperCase()),placeholder:"Ingresa tu cdigo",className:"flex-1 border border-gray-300 rounded-md shadow-sm p-2 uppercase"}),u.jsx("button",{type:"button",onClick:ce,disabled:!K.trim()||Y===K,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Aplicar"})]}),Y&&u.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-green-700 font-medium",children:[' Cdigo "',Y,'" aplicado']}),u.jsx("button",{type:"button",onClick:At,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]}),ue&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:ue})]}),u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Total:"}),u.jsx("p",{className:"text-xl font-bold text-brand-primary",children:ke(ze)})]}),ae.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[u.jsx("p",{className:"font-semibold text-blue-700 mb-2",children:"Pedido anterior:"}),ae.map(ve=>u.jsxs("div",{className:"flex justify-between items-center text-sm text-blue-600 mb-1",children:[u.jsxs("span",{children:["#",ve.id.slice(-6)," - ",ke(ve.total)]}),u.jsxs("button",{onClick:()=>Tt(ve),className:"text-blue-500 hover:underline flex items-center",children:[u.jsx(EU,{size:16,className:"mr-1"})," Reordenar"]})]},ve.id))]}),u.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:["Nombre: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientName",value:N.nom,onChange:ve=>E({...N,nom:ve.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ingresa tu nombre completo"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientPhone",className:"block text-sm font-medium text-gray-700",children:["Telfono: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",id:"clientPhone",value:N.telephone,onChange:ve=>E({...N,telephone:ve.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ej: 3001234567"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:["Direccin: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientAddress",value:N.adresse,onChange:ve=>E({...N,adresse:ve.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Calle, nmero, barrio, ciudad"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mtodo de Pago:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center p-3 border-2 border-brand-primary rounded-lg cursor-pointer hover:bg-brand-primary/5 transition",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"transferencia",checked:C==="transferencia",onChange:()=>A("transferencia"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"Transferencia"})]}),u.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-300 rounded-lg opacity-50 cursor-not-allowed bg-gray-100",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"efectivo",disabled:!0,className:"form-radio"}),u.jsxs("span",{className:"ml-3 text-gray-500",children:["Efectivo ",u.jsx("span",{className:"text-xs",children:"(no disponible por el momento)"})]})]})]}),u.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-blue-800",children:[u.jsx("span",{className:"font-bold",children:"Nequi / BRE-B:"})," 3238090562"]})})]}),C==="transferencia"&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"paymentProof",className:"block text-sm font-medium text-gray-700 mb-2",children:["Comprobante de Pago: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"file",id:"paymentProof",accept:"image/*",onChange:ve=>M(ve.target.files?ve.target.files[0]:null),className:`mt-1 block w-full text-sm text-gray-800 font-medium
                                        file:mr-4 file:py-3 file:px-6 
                                        file:rounded-lg file:border-2 file:border-brand-primary
                                        file:text-sm file:font-bold 
                                        file:bg-brand-primary file:text-white 
                                        hover:file:bg-brand-primary-dark hover:file:shadow-lg
                                        file:transition-all file:cursor-pointer
                                        border-2 border-gray-300 rounded-lg p-2`,required:!0}),!T&&u.jsx("p",{className:"mt-2 text-xs text-red-600 font-medium",children:"* El comprobante de pago es obligatorio para confirmar tu pedido"})]}),u.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed shadow-md",disabled:P||g.length===0||C==="transferencia"&&!T,children:P?"Enviando...":"Confirmar Pedido"}),C==="transferencia"&&!T&&g.length>0&&u.jsx("p",{className:"text-center text-sm text-red-600 font-medium mt-2",children:"Debes subir el comprobante de pago para confirmar tu pedido"})]})]})]}),u.jsx(vne,{isOpen:_,onClose:()=>w(!1),selectedProduct:S,onAddToCart:Se}),u.jsx(yne,{isOpen:q,order:F,onClose:()=>z(!1)})]})},xne=()=>u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[u.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),u.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouve"}),u.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Dsol, la page que vous recherchez n'existe pas."}),u.jsx(G0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour  l'accueil"})]}),_ne=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,o]=b.useState(null),[l,d]=b.useState({startDate:"",endDate:"",paymentMethod:"all"});b.useEffect(()=>{(async()=>{try{const _=await xe.getFinalizedOrders();t([..._].sort((w,S)=>S.date_creation-w.date_creation))}catch(_){console.error("Failed to fetch finalized orders",_)}finally{r(!1)}})()},[]);const f=b.useMemo(()=>e.filter(v=>{const _=new Date(v.date_creation),w=l.startDate?new Date(l.startDate):null,S=l.endDate?new Date(l.endDate):null;w&&w.setHours(0,0,0,0),S&&S.setHours(23,59,59,999);const j=w?_>=w:!0,N=S?_<=S:!0,E=l.paymentMethod==="all"||v.payment_method===l.paymentMethod;return j&&N&&E}),[e,l]),h=v=>{d({...l,[v.target.name]:v.target.value})},p=()=>{const w=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Mtodo de pago"].join(","),...f.map(E=>{var C;return[new Date(E.date_creation).toLocaleString("es-CO"),E.type==="sur_place"?"En el local":"Para llevar",`"${E.type==="sur_place"?E.table_nom||"N/A":((C=E.clientInfo)==null?void 0:C.nom)||"N/A"}"`,E.couverts,ke(E.total),ke(E.profit||0),E.payment_method||"N/A"].join(",")})].join(`
`),S=new Blob([`\uFEFF${w}`],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(S),N=document.createElement("a");N.href=j,N.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j)},g=b.useMemo(()=>f.reduce((v,_)=>(v.totalSales+=_.total,v.totalProfit+=_.profit||0,v),{totalSales:0,totalProfit:0}),[f]);return n?u.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),u.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),u.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Mtodo de pago"}),u.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[u.jsx("option",{value:"all",children:"Todas"}),u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),u.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[u.jsx(fU,{size:18})," Export CSV"]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),u.jsx("tbody",{children:f.map(v=>{var _;return u.jsxs(Qn.Fragment,{children:[u.jsxs("tr",{onClick:()=>o(i===v.id?null:v.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[u.jsx("td",{className:"p-3",children:i===v.id?u.jsx(gA,{size:16}):u.jsx(Q6,{size:16})}),u.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(v.date_creation).toLocaleString("es-CO")}),u.jsx("td",{className:"p-3 text-sm",children:v.type==="sur_place"?u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(ab,{size:12})," En el local"]}):u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[u.jsx(NA,{size:12})," Para llevar"]})}),u.jsx("td",{className:"p-3 font-semibold text-gray-900",children:v.type==="sur_place"?v.table_nom||"N/A":((_=v.clientInfo)==null?void 0:_.nom)||"N/A"}),u.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:ke(v.total)}),u.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:ke(v.profit||0)}),u.jsx("td",{className:"p-3 text-gray-700 capitalize",children:v.payment_method||"N/A"})]}),i===v.id&&u.jsx("tr",{className:"bg-gray-50",children:u.jsx("td",{colSpan:7,className:"p-4",children:u.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[u.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artculos:"}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:v.items.map(w=>u.jsxs("li",{children:[w.quantite,"x ",w.nom_produit," - ",u.jsx("span",{className:"font-semibold",children:ke(w.prix_unitaire*w.quantite)})]},w.id))})]})})})]},v.id)})}),u.jsx("tfoot",{className:"border-t-2 border-gray-300",children:u.jsxs("tr",{className:"font-bold text-gray-900",children:[u.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),u.jsx("td",{className:"p-3 text-right",children:ke(g.totalSales)}),u.jsx("td",{className:"p-3 text-right text-green-700",children:ke(g.totalProfit)}),u.jsx("td",{})]})})]})}),f.length===0&&u.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningn pedido finalizado coincide con tus filtros."})]})]})},wf="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:border-brand-primary/50 hover:text-brand-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary disabled:opacity-50",wne=({id:e,value:t,fallback:n,onChange:r,className:i,placeholder:o})=>{const l=b.useRef(null),[d,f]=b.useState(()=>((t==null?void 0:t.plainText)??n).trim().length===0),h=()=>{const E=l.current;if(!E){f(!0);return}const C=E.textContent??"";f(C.trim().length===0)};b.useEffect(()=>{const E=l.current;if(E){if(t&&typeof t.html=="string"){E.innerHTML!==t.html&&(E.innerHTML=t.html),h();return}E.textContent!==n&&(E.textContent=n,h())}},[t,n]);const p=()=>{const E=l.current;if(!E){r(null),f(!0);return}const C=E.innerHTML,A=E.innerText,T=ib({html:C,plainText:A});r(T),h()},g=E=>{var C;document.execCommand("styleWithCSS",!1,"false"),document.execCommand(E),(C=l.current)==null||C.focus(),p()},v=E=>{var A;const C=E.target.value;document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,C),(A=l.current)==null||A.focus(),p()},_=()=>{var E;document.execCommand("removeFormat"),document.execCommand("unlink"),(E=l.current)==null||E.focus(),p()},w=()=>{p()},S=()=>{p()},j=E=>{E.preventDefault();const C=E.clipboardData.getData("text/plain");document.execCommand("insertText",!1,C),p()},N=E=>{if((E.metaKey||E.ctrlKey)&&E.key.toLowerCase()==="b"){E.preventDefault(),g("bold");return}if((E.metaKey||E.ctrlKey)&&E.key.toLowerCase()==="i"){E.preventDefault(),g("italic");return}(E.metaKey||E.ctrlKey)&&E.key.toLowerCase()==="x"&&E.shiftKey&&(E.preventDefault(),g("strikeThrough"))};return u.jsxs("div",{className:`space-y-2 ${i??""}`,children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:wf,onClick:()=>g("bold"),"aria-label":"Mettre en gras",children:u.jsx(I6,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:wf,onClick:()=>g("italic"),"aria-label":"Mettre en italique",children:u.jsx(TU,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:wf,onClick:()=>g("strikeThrough"),"aria-label":"Barrer",children:u.jsx(_z,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[u.jsx(WU,{className:"h-4 w-4","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Choisir une couleur"}),u.jsx("input",{type:"color",className:"h-8 w-8 cursor-pointer rounded-full border border-slate-200",onChange:v,"aria-label":"Slectionner une couleur de texte"})]}),u.jsx("button",{type:"button",className:wf,onClick:_,"aria-label":"Supprimer la mise en forme",children:u.jsx(ua,{className:"h-4 w-4","aria-hidden":"true"})})]}),u.jsxs("div",{className:"relative",children:[o&&d&&u.jsx("div",{className:"pointer-events-none absolute left-4 top-3 text-sm text-slate-400",children:o}),u.jsx("div",{id:e,ref:l,className:"ui-textarea w-full min-h-[120px] whitespace-pre-wrap break-words px-4 py-3",contentEditable:!0,role:"textbox","aria-multiline":"true",suppressContentEditableWarning:!0,onInput:w,onBlur:S,onKeyDown:N,onPaste:j})]})]})},Sne=["Inter","Poppins","Roboto","Montserrat","Playfair Display","Lora","Open Sans","Georgia, serif","Arial, sans-serif"],jne=["14px","16px","18px","20px","24px","clamp(1rem, 2vw, 1.5rem)"],qR=["#0f172a","#111827","#f8fafc","#ffffff","#e2e8f0","#f97316","transparent","currentColor"],Nne=new Set(Bz),Ene=new Set(["navigation.style.background","hero.style.background","about.style.background","menu.style.background","findUs.style.background","footer.style.background"]),One=new Set(["hero.backgroundImage","about.image","menu.image","navigation.brandLogo","navigation.staffLogo"]),Cne={"navigation.brand":"Nom de la marque","navigation.brandLogo":"Logo principal","navigation.staffLogo":"Logo d'accs quipe","navigation.links.home":"Lien Accueil","navigation.links.about":"Lien  propos","navigation.links.menu":"Lien Menu","navigation.links.contact":"Lien Contact","navigation.links.loginCta":"Bouton d'accs staff","navigation.style.background":"Fond de la navigation","hero.title":"Titre du hero","hero.subtitle":"Sous-titre du hero","hero.ctaLabel":"Bouton principal du hero","hero.historyTitle":"Titre de l'historique","hero.reorderCtaLabel":"Bouton de rassort","hero.backgroundImage":"Image du hero","hero.style.background":"Fond du hero","about.title":"Titre  propos","about.description":"Texte  propos","about.image":"Image  propos","about.style.background":"Fond  propos","menu.title":"Titre du menu","menu.ctaLabel":"Bouton du menu","menu.loadingLabel":"Texte de chargement du menu","menu.image":"Image du menu","menu.style.background":"Fond du menu","findUs.title":"Titre Encuntranos","findUs.addressLabel":"Libell de l'adresse (Encuntranos)","findUs.address":"Adresse (Encuntranos)","findUs.cityLabel":"Libell de contact","findUs.city":"Email (Encuntranos)","findUs.hoursLabel":"Libell des horaires","findUs.hours":"Horaires","findUs.mapLabel":"Libell du lien carte","findUs.style.background":"Fond Encuntranos","footer.text":"Texte du pied de page","footer.style.background":"Fond du pied de page"},Ane={...Cne},Tne=[{id:"preview",label:"Aperu"},{id:"custom",label:"Personnalisation"}],kne=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,um=e=>{var i;const{type:t,name:n}=e;if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t.includes("font"))return"font";const r=(i=n.split(".").pop())==null?void 0:i.toLowerCase();return r&&["ttf","otf","woff","woff2"].includes(r)?"font":"raw"},Sf=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),HR=(e,t,n)=>{const r=t.split("."),i=r.pop();if(!i)return;let o=e;r.forEach(l=>{if(o&&typeof o=="object"){const d=o[l];d&&typeof d=="object"?o[l]=Array.isArray(d)?[...d]:{...d}:o[l]={},o=o[l]}}),o&&typeof o=="object"&&(o[i]=n)},Mne=(e,t,n)=>{const r={};n.fontFamily&&n.fontFamily.trim().length>0&&(r.fontFamily=n.fontFamily.trim()),n.fontSize&&n.fontSize.trim().length>0&&(r.fontSize=n.fontSize.trim()),n.textColor&&n.textColor.trim().length>0&&(r.textColor=n.textColor.trim()),n.backgroundColor&&n.backgroundColor.trim().length>0&&(r.backgroundColor=n.backgroundColor.trim());const i={...e.elementStyles};Object.keys(r).length===0?delete i[t]:i[t]=r,e.elementStyles=i},Pne=(e,t,n)=>{const r={...e.elementRichText};n&&n.html.trim().length>0?r[t]=n:delete r[t],e.elementRichText=r},Rne=(e,t,n)=>{const r=Ba(t),i={...e[r]},o={...i.style,background:{...n}};i.style=o,e[r]=i},Dne=(e,t)=>{var o;const n=((o=e.assets)==null?void 0:o.library)??[],r=n.findIndex(l=>l.url===t.url||l.id===t.id),i=r>=0?n.map((l,d)=>d===r?t:l):[...n,t];e.assets={...e.assets,library:i}},FR=(e,t)=>{const n=t.split(".");let r=e;for(const i of n){if(!r||typeof r!="object")return"";r=r[i]}return typeof r=="string"?r:""},Lne=(e,t)=>{const n=FR(e,t);return n.trim().length>0?n:null},Ine=(e,t)=>e.elementStyles[t]??{},Une=(e,t)=>e.elementRichText[t]??null,zne=(e,t)=>{const n=Ba(t);return e[n].style.background},f_=(e,t)=>{const n=e.name.replace(/\.[^/.]+$/,"").trim()||"media",r=um(e),i=r==="font"?ub(n):n;return{id:kne(),name:i,url:t,format:e.type||"application/octet-stream",bytes:e.size,type:r,createdAt:new Date().toISOString()}},_C='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',$ne=typeof window<"u"?b.useLayoutEffect:b.useEffect,wC=e=>typeof window<"u"&&window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),Bne=e=>{if(!e)return null;const{x:t,y:n,top:r,left:i,bottom:o,right:l,width:d,height:f}=e;return{x:t,y:n,top:r,left:i,bottom:o,right:l,width:d,height:f}},h_=({title:e,onClose:t,children:n,footer:r,anchor:i,elementId:o})=>{const l=b.useId(),d=b.useRef(null),[f,h]=b.useState({top:0,left:0}),[p,g]=b.useState("top"),[v,_]=b.useState(!1),[w,S]=b.useState(!1),[j,N]=b.useState(null);b.useEffect(()=>{_(!0)},[]);const E=b.useCallback(()=>{if(typeof window>"u")return;const A=d.current;if(!A)return;const T=`[data-element-id="${wC(o)}"]`,M=document.querySelector(T),P=(M==null?void 0:M.getBoundingClientRect())??i,{width:D,height:q}=A.getBoundingClientRect(),z=document.documentElement.clientWidth,F=window.innerHeight,H=16,ae=12;if(!P){const R=Math.max(H,(z-D)/2),I=Math.max(H,(F-q)/2);h({top:I,left:R}),g("top"),S(!0),N(null);return}let $=P.top-q-ae,K="top";if($<H&&($=P.bottom+ae,K="bottom"),$+q>F-H){const R=P.top-H,I=F-P.bottom-H;R>I?($=Math.max(H,P.top-q-ae),K="top"):($=Math.min(F-q-H,P.bottom+ae),K="bottom")}const L=P.left+P.width/2-D/2,Y=z-D-H,W=Math.max(H,Math.min(L,Y));h({top:$,left:W}),g(K),S(!0);const ue=Math.max(W+12,Math.min(P.left+P.width/2,W+D-12)),ne=K==="top"?$+q-6:$-6;N({top:ne,left:ue-6})},[i,o]);if($ne(()=>{v&&E()},[E,v]),b.useEffect(()=>{if(!v)return;const A=()=>E();window.addEventListener("scroll",A,!0),window.addEventListener("resize",A);const T=`[data-element-id="${wC(o)}"]`,M=document.querySelector(T),P=[];if(typeof ResizeObserver<"u"){const D=new ResizeObserver(()=>E());M&&D.observe(M);const q=d.current;q&&D.observe(q),P.push(D)}return()=>{window.removeEventListener("scroll",A,!0),window.removeEventListener("resize",A),P.forEach(D=>D.disconnect())}},[E,o,v]),b.useEffect(()=>{if(!v)return;const A=T=>{if(T.key==="Escape"){T.preventDefault(),t();return}if(T.key==="Tab"){const M=d.current;if(!M)return;const P=Array.from(M.querySelectorAll(_C)).filter(z=>z.tabIndex!==-1&&!z.hasAttribute("disabled")&&!z.getAttribute("aria-hidden"));if(P.length===0){T.preventDefault(),M.focus();return}const D=P[0],q=P[P.length-1];if(T.shiftKey){(document.activeElement===D||!M.contains(document.activeElement))&&(T.preventDefault(),q.focus());return}document.activeElement===q&&(T.preventDefault(),D.focus())}};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[t,v]),b.useEffect(()=>{if(!v)return;const A=T=>{const M=d.current;M&&(M.contains(T.target)||t())};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[t,v]),b.useEffect(()=>{if(!v)return;const A=d.current;if(!A)return;(A.querySelectorAll(_C)[0]??A).focus({preventScroll:!0})},[v]),typeof document>"u"||!v)return null;const C=u.jsxs("div",{className:"fixed inset-0 z-[60] pointer-events-none",children:[u.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-labelledby":l,tabIndex:-1,className:"pointer-events-auto flex w-[min(90vw,32rem)] flex-col overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200",style:{position:"absolute",top:f.top,left:f.left,opacity:w?1:0},children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[u.jsx("h2",{id:l,className:"text-lg font-semibold text-slate-900",children:e}),u.jsxs("button",{type:"button",onClick:t,className:"rounded-full p-1 text-slate-500 transition hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary",children:[u.jsx(ua,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Fermer"})]})]}),u.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5",children:n}),u.jsx("div",{className:"flex items-center justify-end gap-3 border-t border-slate-200 bg-slate-50 px-6 py-4",children:r})]}),j?u.jsx("span",{"aria-hidden":"true",className:`pointer-events-none absolute h-3 w-3 rotate-45 rounded-sm bg-white shadow-[0_0_0_1px_rgba(148,163,184,0.35)] ${p==="top"?"translate-y-[-4px]":"translate-y-[4px]"}`,style:{top:j.top,left:j.left,opacity:w?1:0}}):null]});return Y0.createPortal(C,document.body)},qne=({element:e,label:t,draft:n,onApply:r,onClose:i,fontOptions:o,onAssetAdded:l,anchor:d})=>{const f=`${e.replace(/\./g,"-")}-text-form`,h=FR(n,e),p=Une(n,e),g=Ine(n,e),[v,_]=b.useState(h),[w,S]=b.useState(p),[j,N]=b.useState(g.fontFamily??""),[E,C]=b.useState(g.fontSize??""),[A,T]=b.useState(g.textColor??""),[M,P]=b.useState(g.backgroundColor??""),[D,q]=b.useState(null),[z,F]=b.useState(!1);b.useEffect(()=>{_(h),S(p),N(g.fontFamily??""),C(g.fontSize??""),T(g.textColor??""),P(g.backgroundColor??"")},[h,p,g.fontFamily,g.fontSize,g.textColor,g.backgroundColor]);const H=K=>{K.preventDefault();const L=v;r(Y=>(HR(Y,e,L),Pne(Y,e,w),Mne(Y,e,{fontFamily:j,fontSize:E,textColor:A,backgroundColor:M}),Y)),i()},ae=async K=>{var Y;const L=(Y=K.target.files)==null?void 0:Y[0];if(L){q(null),F(!0);try{const W=await Jc(L,{tags:[um(L)]}),ue=f_(L,W);l(ue),N(ue.name)}catch(W){q(W instanceof Error?W.message:"Impossible de tlverser la police. Ressayez plus tard.")}finally{F(!1),K.target.value=""}}},$=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:f,className:"ui-btn-primary",children:"Enregistrer"})]});return u.jsx(h_,{title:`Personnaliser ${t}`,onClose:i,footer:$,anchor:d,elementId:e,children:u.jsxs("form",{id:f,onSubmit:H,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-plain`,className:"block text-sm font-medium text-slate-700",children:"Texte de base"}),u.jsx("textarea",{id:`${f}-plain`,className:"ui-textarea mt-2 w-full",value:v,onChange:K=>{_(K.target.value),S(null)},rows:3})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Mise en forme avance"}),u.jsx(wne,{id:`${f}-rich`,value:w,fallback:v,onChange:K=>{S(K),K&&_(K.plainText)},className:"mt-2",placeholder:"Saisissez votre texte..."}),u.jsx("button",{type:"button",className:"mt-2 text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>S(null),children:"Supprimer la mise en forme personnalise"})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-font`,className:"block text-sm font-medium text-slate-700",children:"Police"}),u.jsx("input",{id:`${f}-font`,className:"ui-input mt-2 w-full",value:j,onChange:K=>N(K.target.value),list:`${f}-font-options`,placeholder:"Ex: Poppins"}),u.jsx("datalist",{id:`${f}-font-options`,children:o.map(K=>u.jsx("option",{value:K},K))}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:".woff,.woff2,.ttf,.otf",className:"absolute inset-0 cursor-pointer opacity-0",onChange:ae,disabled:z}),u.jsx(yu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une police"]}),z&&u.jsx(eu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"})]}),D&&u.jsx("p",{className:"mt-2 text-sm text-amber-600",children:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-size`,className:"block text-sm font-medium text-slate-700",children:"Taille du texte"}),u.jsx("input",{id:`${f}-size`,className:"ui-input mt-2 w-full",value:E,onChange:K=>C(K.target.value),list:`${f}-size-options`,placeholder:"Ex: 18px"}),u.jsx("datalist",{id:`${f}-size-options`,children:jne.map(K=>u.jsx("option",{value:K},K))})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-text-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur du texte"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-text-color`,className:"ui-input w-full",value:A,onChange:K=>T(K.target.value),placeholder:"Ex: #0f172a"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:A||"#000000",onChange:K=>T(K.target.value),"aria-label":"Choisir la couleur du texte"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:qR.map(K=>u.jsx("button",{type:"button",onClick:()=>T(K),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:K==="transparent"?"#ffffff":K},title:K},K))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-bg-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur de fond"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-bg-color`,className:"ui-input w-full",value:M,onChange:K=>P(K.target.value),placeholder:"Ex: rgba(255,255,255,0.8)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:M||"#ffffff",onChange:K=>P(K.target.value),"aria-label":"Choisir la couleur d'arrire-plan"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Laissez un champ vide pour hriter du style par dfaut."}),u.jsx("button",{type:"button",className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>{N(""),C(""),T(""),P("")},children:"Rinitialiser le style"})]})]})})},Hne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:o,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-image-form`,f=Lne(n,e)??"",[h,p]=b.useState(f),[g,v]=b.useState(null),[_,w]=b.useState(!1);b.useEffect(()=>{p(f)},[f]);const S=C=>{C.preventDefault();const A=h.trim(),T=fa(A)??(A.length>0?A:null);r(M=>(HR(M,e,T),M)),i()},j=async C=>{var T;const A=(T=C.target.files)==null?void 0:T[0];if(A){v(null),w(!0);try{const M=await Jc(A,{tags:[um(A)]}),P=f_(A,M);o(P),p(M)}catch(M){v(M instanceof Error?M.message:"Tlversement impossible. Vrifiez votre connexion.")}finally{w(!1),C.target.value=""}}},N=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),E=h.trim();return u.jsx(h_,{title:`Personnaliser ${t}`,onClose:i,footer:N,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:S,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-input`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-input`,className:"ui-input mt-2 w-full",value:h,onChange:C=>p(C.target.value),placeholder:"https://..."}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Fournissez une URL Cloudinary ou tlversez un fichier pour l'ajouter automatiquement."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*,video/*,audio/*,.ttf,.otf,.woff,.woff2",className:"absolute inset-0 cursor-pointer opacity-0",onChange:j,disabled:_}),u.jsx(yu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer un mdia"]}),_&&u.jsx(eu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>p(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Supprimer le mdia"})]}),g&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(la,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:g})]}),E&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:E,alt:"Aperu",className:"h-56 w-full object-cover"})})]})})},Fne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:o,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-background-form`,f=zne(n,e),[h,p]=b.useState(f.type),[g,v]=b.useState(f.color),[_,w]=b.useState(f.image??""),[S,j]=b.useState(null),[N,E]=b.useState(!1);b.useEffect(()=>{p(f.type),v(f.color),w(f.image??"")},[f.type,f.color,f.image]);const C=P=>{P.preventDefault();const D=g.trim()||"transparent",q=_.trim(),z=fa(q)??(q.length>0?q:null);r(F=>(Rne(F,e,{type:h,color:D,image:h==="image"?z:null}),F)),i()},A=async P=>{var q;const D=(q=P.target.files)==null?void 0:q[0];if(D){j(null),E(!0);try{const z=await Jc(D,{tags:[um(D)]}),F=f_(D,z);o(F),w(z),p("image")}catch(z){j(z instanceof Error?z.message:"Tlversement impossible.")}finally{E(!1),P.target.value=""}}},T=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),M=_.trim();return u.jsx(h_,{title:`Personnaliser ${t}`,onClose:i,footer:T,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:C,className:"space-y-6",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="color"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("color"),children:"Couleur"}),u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="image"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("image"),children:"Image"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${d}-color`,className:"ui-input w-full",value:g,onChange:P=>v(P.target.value),placeholder:"Ex: rgba(15,23,42,0.75)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:g||"#ffffff",onChange:P=>v(P.target.value),"aria-label":"Choisir la couleur d'arrire-plan"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:qR.map(P=>u.jsx("button",{type:"button",onClick:()=>v(P),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:P==="transparent"?"#ffffff":P},title:P},P))})]}),h==="image"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-image`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-image`,className:"ui-input mt-2 w-full",value:_,onChange:P=>w(P.target.value),placeholder:"https://..."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 cursor-pointer opacity-0",onChange:A,disabled:N}),u.jsx(yu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une image"]}),N&&u.jsx(eu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>w(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Retirer l'image"})]}),S&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(la,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:S})]}),M&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:M,alt:"Aperu",className:"h-48 w-full object-cover"})})]})]})})},Kne=()=>{const{content:e,loading:t,error:n,updateContent:r}=cb(),[i,o]=b.useState(()=>e?Sf(e):null),[l,d]=b.useState(null),[f,h]=b.useState(null),[p,g]=b.useState("custom"),[v,_]=b.useState(null),[w,S]=b.useState(!1),[j,N]=b.useState(null),[E,C]=b.useState(null),[A,T]=b.useState([]),[M,P]=b.useState(!1),[D,q]=b.useState(null);b.useEffect(()=>{e&&o(Sf(e))},[e]),b.useEffect(()=>{let W=!0;return(async()=>{P(!0),q(null);try{const ne=await xe.getBestSellerProducts();W&&T(ne)}catch(ne){W&&q(ne instanceof Error?ne.message:"Impossible de charger les produits mis en avant.")}finally{W&&P(!1)}})(),()=>{W=!1}},[]),b.useEffect(()=>{if(!E)return;const W=setTimeout(()=>C(null),4e3);return()=>clearTimeout(W)},[E]);const z=b.useCallback(W=>{o(ue=>{if(!ue)return ue;const ne=Sf(ue);return W(ne)})},[]),F=b.useCallback(W=>{o(ue=>{if(!ue)return ue;const ne=Sf(ue);return Dne(ne,W),ne})},[]),H=b.useCallback((W,ue)=>{d(W),h(ue.zone),_(Bne(ue.anchor))},[]),ae=b.useCallback(()=>{d(null),h(null),_(null)},[]),$=async()=>{S(!0),N(null),C(null);try{if(!i)throw new Error("Le brouillon est indisponible.");const W=await r(i);o(W),C("Modifications enregistres avec succs.")}catch(W){N(W instanceof Error?W.message:"Une erreur est survenue lors de la sauvegarde.")}finally{S(!1)}},K=b.useMemo(()=>{const W=Array.from(Sne);if(!i)return W;const ue=i.assets.library.filter(ne=>ne.type==="font").map(ne=>ub(ne.name));return Array.from(new Set([...W,...ue]))},[i]),L=l?Ane[l]??l:null,Y=l?Ene.has(l)?"background":One.has(l)?"image":(Nne.has(l),"text"):null;return t?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(eu,{className:"h-10 w-10 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Chargement du contenu du site"})]}):!e||!i?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(la,{className:"h-6 w-6 text-amber-500","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Le contenu du site est en cours d'initialisation"})]}):u.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-0",children:[u.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Site public"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Cliquez sur l'icne en forme de crayon pour personnaliser chaque bloc de contenu, image ou logo."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[E&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:[u.jsx(tU,{className:"h-4 w-4","aria-hidden":"true"}),E]}),j&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-amber-50 px-4 py-2 text-sm text-amber-700",children:[u.jsx(la,{className:"h-4 w-4","aria-hidden":"true"}),j]}),u.jsx("button",{type:"button",onClick:$,className:"ui-btn-primary",disabled:w,children:w?"Enregistrement":"Enregistrer les modifications"})]})]}),n&&u.jsxs("div",{className:"flex items-start gap-3 rounded-3xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(la,{className:"h-5 w-5","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx("p",{children:n}),u.jsx("p",{className:"mt-1",children:"Les valeurs affiches correspondent  la configuration par dfaut."})]})]}),u.jsx("nav",{className:"flex w-full items-center gap-2 overflow-x-auto rounded-full bg-slate-100 p-1",children:Tne.map(W=>u.jsx("button",{type:"button",onClick:()=>g(W.id),className:`flex-1 rounded-full px-4 py-2 text-sm font-medium transition ${p===W.id?"bg-white text-slate-900 shadow":"text-slate-500 hover:text-slate-700"}`,children:W.label},W.id))}),u.jsx("div",{children:p==="preview"?u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx("div",{className:"rounded-[2.5rem] border border-slate-200 bg-slate-50 p-6",children:u.jsx(hN,{content:i,bestSellerProducts:A,onEdit:()=>{},activeZone:null,showEditButtons:!1})})}):u.jsxs("div",{className:"space-y-4",children:[D&&u.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(la,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("p",{children:D})]}),u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx(hN,{content:i,bestSellerProducts:A,onEdit:(W,ue)=>H(W,ue),activeZone:f})}),M&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx(eu,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Chargement des produits populaires"]})]})}),l&&Y==="text"&&L&&u.jsx(qne,{element:l,label:L,draft:i,onApply:z,onClose:ae,fontOptions:K,onAssetAdded:F,anchor:v}),l&&Y==="image"&&L&&u.jsx(Hne,{element:l,label:L,draft:i,onApply:z,onClose:ae,onAssetAdded:F,anchor:v}),l&&Y==="background"&&L&&u.jsx(Fne,{element:l,label:L,draft:i,onApply:z,onClose:ae,onAssetAdded:F,anchor:v})]})},KR=({onLogout:e})=>{const t=Xa(),n=Qn.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return u.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accs non autoris"}),u.jsx("p",{className:"text-base text-gray-600",children:"Votre rle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir  l'cran de connexion."})]}),u.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour  la connexion"})]})},GR=()=>u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),Hr=({children:e,permissionKey:t})=>{var d;const{role:n,loading:r,logout:i}=pa();if(r)return u.jsx(GR,{});if(!n)return u.jsx(Rf,{to:"/",replace:!0});const o=t?(d=n.permissions)==null?void 0:d[t]:void 0;if(!(t?Bf(o):!0)){const f=lb(n);return f?u.jsx(Rf,{to:f,replace:!0}):u.jsx(KR,{onLogout:i})}return e},Gne=()=>{const{role:e,loading:t,logout:n}=pa();if(t)return u.jsx(GR,{});if(!e)return u.jsx(Z$,{});const r=lb(e);return r?u.jsx(Rf,{to:r,replace:!0}):u.jsx(KR,{onLogout:n})},Yne=()=>u.jsx(Hr,{children:u.jsx(I$,{})}),Vne=()=>u.jsxs(pL,{children:[u.jsx(En,{path:"/",element:u.jsx(Gne,{})}),u.jsx(En,{path:"/login",element:u.jsx(Rf,{to:"/",replace:!0})}),u.jsx(En,{path:"/commande-client",element:u.jsx(bne,{})}),u.jsxs(En,{element:u.jsx(Yne,{}),children:[u.jsx(En,{path:"/dashboard",element:u.jsx(Hr,{permissionKey:"/dashboard",children:u.jsx(hte,{})})}),u.jsx(En,{path:"/para-llevar",element:u.jsx(Hr,{permissionKey:"/para-llevar",children:u.jsx(Rte,{})})}),u.jsx(En,{path:"/ventes",element:u.jsx(Hr,{permissionKey:"/ventes",children:u.jsx(bte,{})})}),u.jsx(En,{path:"/commande/:tableId",element:u.jsx(Hr,{permissionKey:"/ventes",children:u.jsx(Ate,{})})}),u.jsx(En,{path:"/cocina",element:u.jsx(Hr,{permissionKey:"/cocina",children:u.jsx(Pte,{})})}),u.jsx(En,{path:"/resume-ventes",element:u.jsx(Hr,{permissionKey:"/resume-ventes",children:u.jsx(_ne,{})})}),u.jsx(En,{path:"/ingredients",element:u.jsx(Hr,{permissionKey:"/ingredients",children:u.jsx(Dte,{})})}),u.jsx(En,{path:"/produits",element:u.jsx(Hr,{permissionKey:"/produits",children:u.jsx(zte,{})})}),u.jsx(En,{path:"/promotions",element:u.jsx(Hr,{permissionKey:"/promotions",children:u.jsx(lne,{})})}),u.jsx(En,{path:Ka,element:u.jsx(Hr,{permissionKey:Ka,children:u.jsx(Kne,{})})})]}),u.jsx(En,{path:"*",element:u.jsx(xne,{})})]}),Wne=()=>u.jsx(T$,{children:u.jsx(UL,{children:u.jsx(Vne,{})})}),YR=document.getElementById("root");if(!YR)throw new Error("Could not find root element to mount to");const Xne=_4.createRoot(YR);Xne.render(u.jsx(Qn.StrictMode,{children:u.jsx(Wne,{})}));
