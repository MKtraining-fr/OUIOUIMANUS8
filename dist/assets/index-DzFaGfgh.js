var $3=Object.defineProperty;var U3=(e,t,n)=>t in e?$3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fg=(e,t,n)=>U3(e,typeof t!="symbol"?t+"":t,n);function q3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B3(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hg={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function H3(){if(VS)return yc;VS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return yc.Fragment=t,yc.jsx=n,yc.jsxs=n,yc}var WS;function F3(){return WS||(WS=1,hg.exports=H3()),hg.exports}var m=F3(),mg={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function K3(){if(XS)return ke;XS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function E(P,D,te){this.props=P,this.context=D,this.refs=j,this.updater=te||w}E.prototype.isReactComponent={},E.prototype.setState=function(P,D){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,D,"setState")},E.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function A(){}A.prototype=E.prototype;function N(P,D,te){this.props=P,this.context=D,this.refs=j,this.updater=te||w}var T=N.prototype=new A;T.constructor=N,S(T,E.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function H(P,D,te){var Q=te.ref;return{$$typeof:e,type:P,key:D,ref:Q!==void 0?Q:null,props:te}}function q(P,D){return H(P.type,D,P.props)}function F(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function K(P){var D={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(te){return D[te]})}var ie=/\/+/g;function U(P,D){return typeof P=="object"&&P!==null&&P.key!=null?K(""+P.key):D.toString(36)}function Z(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(M,M):(P.status="pending",P.then(function(D){P.status==="pending"&&(P.status="fulfilled",P.value=D)},function(D){P.status==="pending"&&(P.status="rejected",P.reason=D)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function L(P,D,te,Q,ee){var me=typeof P;(me==="undefined"||me==="boolean")&&(P=null);var pe=!1;if(P===null)pe=!0;else switch(me){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(P.$$typeof){case e:case t:pe=!0;break;case p:return pe=P._init,L(pe(P._payload),D,te,Q,ee)}}if(pe)return ee=ee(P),pe=Q===""?"."+U(P,0):Q,k(ee)?(te="",pe!=null&&(te=pe.replace(ie,"$&/")+"/"),L(ee,D,te,"",function(Se){return Se})):ee!=null&&(F(ee)&&(ee=q(ee,te+(ee.key==null||P&&P.key===ee.key?"":(""+ee.key).replace(ie,"$&/")+"/")+pe)),D.push(ee)),1;pe=0;var $e=Q===""?".":Q+":";if(k(P))for(var ne=0;ne<P.length;ne++)Q=P[ne],me=$e+U(Q,ne),pe+=L(Q,D,te,me,ee);else if(ne=x(P),typeof ne=="function")for(P=ne.call(P),ne=0;!(Q=P.next()).done;)Q=Q.value,me=$e+U(Q,ne++),pe+=L(Q,D,te,me,ee);else if(me==="object"){if(typeof P.then=="function")return L(Z(P),D,te,Q,ee);throw D=String(P),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(P,D,te){if(P==null)return P;var Q=[],ee=0;return L(P,Q,"","",function(me){return D.call(te,me,ee++)}),Q}function oe(P){if(P._status===-1){var D=P._result;D=D(),D.then(function(te){(P._status===0||P._status===-1)&&(P._status=1,P._result=te)},function(te){(P._status===0||P._status===-1)&&(P._status=2,P._result=te)}),P._status===-1&&(P._status=0,P._result=D)}if(P._status===1)return P._result.default;throw P._result}var fe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ae={map:V,forEach:function(P,D,te){V(P,function(){D.apply(this,arguments)},te)},count:function(P){var D=0;return V(P,function(){D++}),D},toArray:function(P){return V(P,function(D){return D})||[]},only:function(P){if(!F(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ke.Activity=g,ke.Children=ae,ke.Component=E,ke.Fragment=n,ke.Profiler=i,ke.PureComponent=N,ke.StrictMode=r,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ke.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},ke.cache=function(P){return function(){return P.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(P,D,te){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Q=S({},P.props),ee=P.key;if(D!=null)for(me in D.key!==void 0&&(ee=""+D.key),D)!z.call(D,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&D.ref===void 0||(Q[me]=D[me]);var me=arguments.length-2;if(me===1)Q.children=te;else if(1<me){for(var pe=Array(me),$e=0;$e<me;$e++)pe[$e]=arguments[$e+2];Q.children=pe}return H(P.type,ee,Q)},ke.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},ke.createElement=function(P,D,te){var Q,ee={},me=null;if(D!=null)for(Q in D.key!==void 0&&(me=""+D.key),D)z.call(D,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=D[Q]);var pe=arguments.length-2;if(pe===1)ee.children=te;else if(1<pe){for(var $e=Array(pe),ne=0;ne<pe;ne++)$e[ne]=arguments[ne+2];ee.children=$e}if(P&&P.defaultProps)for(Q in pe=P.defaultProps,pe)ee[Q]===void 0&&(ee[Q]=pe[Q]);return H(P,me,ee)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:u,render:P}},ke.isValidElement=F,ke.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:oe}},ke.memo=function(P,D){return{$$typeof:f,type:P,compare:D===void 0?null:D}},ke.startTransition=function(P){var D=R.T,te={};R.T=te;try{var Q=P(),ee=R.S;ee!==null&&ee(te,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(M,fe)}catch(me){fe(me)}finally{D!==null&&te.types!==null&&(D.types=te.types),R.T=D}},ke.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ke.use=function(P){return R.H.use(P)},ke.useActionState=function(P,D,te){return R.H.useActionState(P,D,te)},ke.useCallback=function(P,D){return R.H.useCallback(P,D)},ke.useContext=function(P){return R.H.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P,D){return R.H.useDeferredValue(P,D)},ke.useEffect=function(P,D){return R.H.useEffect(P,D)},ke.useEffectEvent=function(P){return R.H.useEffectEvent(P)},ke.useId=function(){return R.H.useId()},ke.useImperativeHandle=function(P,D,te){return R.H.useImperativeHandle(P,D,te)},ke.useInsertionEffect=function(P,D){return R.H.useInsertionEffect(P,D)},ke.useLayoutEffect=function(P,D){return R.H.useLayoutEffect(P,D)},ke.useMemo=function(P,D){return R.H.useMemo(P,D)},ke.useOptimistic=function(P,D){return R.H.useOptimistic(P,D)},ke.useReducer=function(P,D,te){return R.H.useReducer(P,D,te)},ke.useRef=function(P){return R.H.useRef(P)},ke.useState=function(P){return R.H.useState(P)},ke.useSyncExternalStore=function(P,D,te){return R.H.useSyncExternalStore(P,D,te)},ke.useTransition=function(){return R.H.useTransition()},ke.version="19.2.0",ke}var QS;function hl(){return QS||(QS=1,mg.exports=K3()),mg.exports}var _=hl();const Gr=Vr(_),G3=q3({__proto__:null,default:Gr},[_]);var pg={exports:{}},bc={},gg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS;function Y3(){return JS||(JS=1,(function(e){function t(L,V){var oe=L.length;L.push(V);e:for(;0<oe;){var fe=oe-1>>>1,ae=L[fe];if(0<i(ae,V))L[fe]=V,L[oe]=ae,oe=fe;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],oe=L.pop();if(oe!==V){L[0]=oe;e:for(var fe=0,ae=L.length,P=ae>>>1;fe<P;){var D=2*(fe+1)-1,te=L[D],Q=D+1,ee=L[Q];if(0>i(te,oe))Q<ae&&0>i(ee,te)?(L[fe]=ee,L[Q]=oe,fe=Q):(L[fe]=te,L[D]=oe,fe=D);else if(Q<ae&&0>i(ee,oe))L[fe]=ee,L[Q]=oe,fe=Q;else break e}}return V}function i(L,V){var oe=L.sortIndex-V.sortIndex;return oe!==0?oe:L.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,x=!1,w=!1,S=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=L)r(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(f)}}function k(L){if(S=!1,T(L),!w)if(n(d)!==null)w=!0,M||(M=!0,K());else{var V=n(f);V!==null&&Z(k,V.startTime-L)}}var M=!1,R=-1,z=5,H=-1;function q(){return j?!0:!(e.unstable_now()-H<z)}function F(){if(j=!1,M){var L=e.unstable_now();H=L;var V=!0;try{e:{w=!1,S&&(S=!1,A(R),R=-1),x=!0;var oe=v;try{t:{for(T(L),g=n(d);g!==null&&!(g.expirationTime>L&&q());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var ae=fe(g.expirationTime<=L);if(L=e.unstable_now(),typeof ae=="function"){g.callback=ae,T(L),V=!0;break t}g===n(d)&&r(d),T(L)}else r(d);g=n(d)}if(g!==null)V=!0;else{var P=n(f);P!==null&&Z(k,P.startTime-L),V=!1}}break e}finally{g=null,v=oe,x=!1}V=void 0}}finally{V?K():M=!1}}}var K;if(typeof N=="function")K=function(){N(F)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,U=ie.port2;ie.port1.onmessage=F,K=function(){U.postMessage(null)}}else K=function(){E(F,0)};function Z(L,V){R=E(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(L){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var oe=v;v=V;try{return L()}finally{v=oe}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=v;v=L;try{return V()}finally{v=oe}},e.unstable_scheduleCallback=function(L,V,oe){var fe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=oe+ae,L={id:p++,callback:V,priorityLevel:L,startTime:oe,expirationTime:ae,sortIndex:-1},oe>fe?(L.sortIndex=oe,t(f,L),n(d)===null&&L===n(f)&&(S?(A(R),R=-1):S=!0,Z(k,oe-fe))):(L.sortIndex=ae,t(d,L),w||x||(w=!0,M||(M=!0,K()))),L},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(L){var V=v;return function(){var oe=v;v=V;try{return L.apply(this,arguments)}finally{v=oe}}}})(vg)),vg}var ZS;function V3(){return ZS||(ZS=1,gg.exports=Y3()),gg.exports}var yg={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function W3(){if(ej)return jn;ej=1;var e=hl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},jn.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},jn.version="19.2.0",jn}var tj;function iA(){if(tj)return yg.exports;tj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yg.exports=W3(),yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj;function X3(){if(nj)return bc;nj=1;var e=V3(),t=hl(),n=iA();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,h=s;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return d(y),a;if(b===h)return d(y),s;b=b.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=b;else{for(var O=!1,C=y.child;C;){if(C===c){O=!0,c=y,h=b;break}if(C===h){O=!0,h=y,c=b;break}C=C.sibling}if(!O){for(C=b.child;C;){if(C===c){O=!0,c=b,h=y;break}if(C===h){O=!0,h=b,c=y;break}C=C.sibling}if(!O)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var ie=Symbol.for("react.client.reference");function U(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ie?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case N:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case T:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:U(a.type)||"Memo";case z:s=a._payload,a=a._init;try{return U(a(s))}catch{}}return null}var Z=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},fe=[],ae=-1;function P(a){return{current:a}}function D(a){0>ae||(a.current=fe[ae],fe[ae]=null,ae--)}function te(a,s){ae++,fe[ae]=a.current,a.current=s}var Q=P(null),ee=P(null),me=P(null),pe=P(null);function $e(a,s){switch(te(me,s),te(ee,a),te(Q,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?vS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=vS(s),a=yS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(Q),te(Q,a)}function ne(){D(Q),D(ee),D(me)}function Se(a){a.memoizedState!==null&&te(pe,a);var s=Q.current,c=yS(s,a.type);s!==c&&(te(ee,a),te(Q,c))}function Te(a){ee.current===a&&(D(Q),D(ee)),pe.current===a&&(D(pe),mc._currentValue=oe)}var ce,At;function Le(a){if(ce===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ce=s&&s[1]||"",At=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+a+At}var Ct=!1;function Tt(a,s){if(!a||Ct)return"";Ct=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var W=J}Reflect.construct(a,[],le)}else{try{le.call()}catch(J){W=J}a.call(le.prototype)}}else{try{throw Error()}catch(J){W=J}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),O=b[0],C=b[1];if(O&&C){var I=O.split(`
`),Y=C.split(`
`);for(y=h=0;h<I.length&&!I[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(h===I.length||y===Y.length)for(h=I.length-1,y=Y.length-1;1<=h&&0<=y&&I[h]!==Y[y];)y--;for(;1<=h&&0<=y;h--,y--)if(I[h]!==Y[y]){if(h!==1||y!==1)do if(h--,y--,0>y||I[h]!==Y[y]){var re=`
`+I[h].replace(" at new "," at ");return a.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",a.displayName)),re}while(1<=h&&0<=y);break}}}finally{Ct=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Le(c):""}function Bt(a,s){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==s&&s!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Tt(a.type,!1);case 11:return Tt(a.type.render,!1);case 1:return Tt(a.type,!0);case 31:return Le("Activity");default:return""}}function Qn(a){try{var s="",c=null;do s+=Bt(a,c),c=a,a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ge=Object.prototype.hasOwnProperty,Ge=e.unstable_scheduleCallback,We=e.unstable_cancelCallback,ht=e.unstable_shouldYield,mt=e.unstable_requestPaint,Ye=e.unstable_now,Tn=e.unstable_getCurrentPriorityLevel,kn=e.unstable_ImmediatePriority,Ln=e.unstable_UserBlockingPriority,ue=e.unstable_NormalPriority,he=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,rt=e.log,Xe=e.unstable_setDisableYieldValue,kt=null,Re=null;function tt(a){if(typeof rt=="function"&&Xe(a),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(kt,a)}catch{}}var vt=Math.clz32?Math.clz32:at,Pt=Math.log,Ne=Math.LN2;function at(a){return a>>>=0,a===0?32:31-(Pt(a)/Ne|0)|0}var Lt=256,on=262144,Ir=4194304;function Ht(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Fs(a,s,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,b=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var C=h&134217727;return C!==0?(h=C&~b,h!==0?y=Ht(h):(O&=C,O!==0?y=Ht(O):c||(c=C&~a,c!==0&&(y=Ht(c))))):(C=h&~b,C!==0?y=Ht(C):O!==0?y=Ht(O):c||(c=h&~a,c!==0&&(y=Ht(c)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:y}function Nl(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ER(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jx(){var a=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),a}function em(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Al(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function NR(a,s,c,h,y,b){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var C=a.entanglements,I=a.expirationTimes,Y=a.hiddenUpdates;for(c=O&~c;0<c;){var re=31-vt(c),le=1<<re;C[re]=0,I[re]=-1;var W=Y[re];if(W!==null)for(Y[re]=null,re=0;re<W.length;re++){var J=W[re];J!==null&&(J.lane&=-536870913)}c&=~le}h!==0&&Zx(a,h,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(O&~s))}function Zx(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var h=31-vt(s);a.entangledLanes|=s,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function e_(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-vt(c),y=1<<h;y&s|a[h]&s&&(a[h]|=s),c&=~y}}function t_(a,s){var c=s&-s;return c=(c&42)!==0?1:tm(c),(c&(a.suspendedLanes|s))!==0?0:c}function tm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function nm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function n_(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:qS(a.type))}function r_(a,s){var c=V.p;try{return V.p=a,s()}finally{V.p=c}}var Xa=Math.random().toString(36).slice(2),gn="__reactFiber$"+Xa,zn="__reactProps$"+Xa,Ks="__reactContainer$"+Xa,rm="__reactEvents$"+Xa,AR="__reactListeners$"+Xa,CR="__reactHandles$"+Xa,a_="__reactResources$"+Xa,Cl="__reactMarker$"+Xa;function am(a){delete a[gn],delete a[zn],delete a[rm],delete a[AR],delete a[CR]}function Gs(a){var s=a[gn];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Ks]||c[gn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=OS(a);a!==null;){if(c=a[gn])return c;a=OS(a)}return s}a=c,c=a.parentNode}return null}function Ys(a){if(a=a[gn]||a[Ks]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Tl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Vs(a){var s=a[a_];return s||(s=a[a_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ln(a){a[Cl]=!0}var i_=new Set,s_={};function qi(a,s){Ws(a,s),Ws(a+"Capture",s)}function Ws(a,s){for(s_[a]=s,a=0;a<s.length;a++)i_.add(s[a])}var TR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),o_={},l_={};function kR(a){return ge.call(l_,a)?!0:ge.call(o_,a)?!1:TR.test(a)?l_[a]=!0:(o_[a]=!0,!1)}function Tu(a,s,c){if(kR(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function ku(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function ua(a,s,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+h)}}function pr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function c_(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function PR(a,s,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(O){c=""+O,b.call(this,O)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function im(a){if(!a._valueTracker){var s=c_(a)?"checked":"value";a._valueTracker=PR(a,s,""+a[s])}}function u_(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=c_(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function Pu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var MR=/[\n"\\]/g;function gr(a){return a.replace(MR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function sm(a,s,c,h,y,b,O,C){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),s!=null?O==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+pr(s)):a.value!==""+pr(s)&&(a.value=""+pr(s)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),s!=null?om(a,O,pr(s)):c!=null?om(a,O,pr(c)):h!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.name=""+pr(C):a.removeAttribute("name")}function d_(a,s,c,h,y,b,O,C){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){im(a);return}c=c!=null?""+pr(c):"",s=s!=null?""+pr(s):c,C||s===a.value||(a.value=s),a.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=C?a.checked:!!h,a.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),im(a)}function om(a,s,c){s==="number"&&Pu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Xs(a,s,c,h){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+pr(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function f_(a,s,c){if(s!=null&&(s=""+pr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+pr(c):""}function h_(a,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(r(92));if(Z(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=pr(s),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),im(a)}function Qs(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var RR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m_(a,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":h?a.setProperty(s,c):typeof c!="number"||c===0||RR.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function p_(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&c[y]!==h&&m_(a,y,h)}else for(var b in s)s.hasOwnProperty(b)&&m_(a,b,s[b])}function lm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mu(a){return IR.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function da(){}var cm=null;function um(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Js=null,Zs=null;function g_(a){var s=Ys(a);if(s&&(a=s.stateNode)){var c=a[zn]||null;e:switch(a=s.stateNode,s.type){case"input":if(sm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+gr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var y=h[zn]||null;if(!y)throw Error(r(90));sm(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===a.form&&u_(h)}break e;case"textarea":f_(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Xs(a,!!c.multiple,s,!1)}}}var dm=!1;function v_(a,s,c){if(dm)return a(s,c);dm=!0;try{var h=a(s);return h}finally{if(dm=!1,(Js!==null||Zs!==null)&&(xd(),Js&&(s=Js,a=Zs,Zs=Js=null,g_(s),a)))for(s=0;s<a.length;s++)g_(a[s])}}function kl(a,s){var c=a.stateNode;if(c===null)return null;var h=c[zn]||null;if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=!1;if(fa)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){fm=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{fm=!1}var Qa=null,hm=null,Ru=null;function y_(){if(Ru)return Ru;var a,s=hm,c=s.length,h,y="value"in Qa?Qa.value:Qa.textContent,b=y.length;for(a=0;a<c&&s[a]===y[a];a++);var O=c-a;for(h=1;h<=O&&s[c-h]===y[b-h];h++);return Ru=y.slice(a,1<h?1-h:void 0)}function Du(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Iu(){return!0}function b_(){return!1}function $n(a){function s(c,h,y,b,O){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var C in a)a.hasOwnProperty(C)&&(c=a[C],this[C]=c?c(b):b[C]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Iu:b_,this.isPropagationStopped=b_,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),s}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=$n(Bi),Ml=g({},Bi,{view:0,detail:0}),LR=$n(Ml),mm,pm,Rl,zu=g({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Rl&&(Rl&&a.type==="mousemove"?(mm=a.screenX-Rl.screenX,pm=a.screenY-Rl.screenY):pm=mm=0,Rl=a),mm)},movementY:function(a){return"movementY"in a?a.movementY:pm}}),x_=$n(zu),zR=g({},zu,{dataTransfer:0}),$R=$n(zR),UR=g({},Ml,{relatedTarget:0}),gm=$n(UR),qR=g({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),BR=$n(qR),HR=g({},Bi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),FR=$n(HR),KR=g({},Bi,{data:0}),__=$n(KR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WR(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=VR[a])?!!s[a]:!1}function vm(){return WR}var XR=g({},Ml,{key:function(a){if(a.key){var s=GR[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Du(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?YR[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vm,charCode:function(a){return a.type==="keypress"?Du(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Du(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),QR=$n(XR),JR=g({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=$n(JR),ZR=g({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vm}),eD=$n(ZR),tD=g({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nD=$n(tD),rD=g({},zu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),aD=$n(rD),iD=g({},Bi,{newState:0,oldState:0}),sD=$n(iD),oD=[9,13,27,32],ym=fa&&"CompositionEvent"in window,Dl=null;fa&&"documentMode"in document&&(Dl=document.documentMode);var lD=fa&&"TextEvent"in window&&!Dl,S_=fa&&(!ym||Dl&&8<Dl&&11>=Dl),j_=" ",O_=!1;function E_(a,s){switch(a){case"keyup":return oD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var eo=!1;function cD(a,s){switch(a){case"compositionend":return N_(s);case"keypress":return s.which!==32?null:(O_=!0,j_);case"textInput":return a=s.data,a===j_&&O_?null:a;default:return null}}function uD(a,s){if(eo)return a==="compositionend"||!ym&&E_(a,s)?(a=y_(),Ru=hm=Qa=null,eo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return S_&&s.locale!=="ko"?null:s.data;default:return null}}var dD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!dD[a.type]:s==="textarea"}function C_(a,s,c,h){Js?Zs?Zs.push(h):Zs=[h]:Js=h,s=Nd(s,"onChange"),0<s.length&&(c=new Lu("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var Il=null,Ll=null;function fD(a){dS(a,0)}function $u(a){var s=Tl(a);if(u_(s))return a}function T_(a,s){if(a==="change")return s}var k_=!1;if(fa){var bm;if(fa){var xm="oninput"in document;if(!xm){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),xm=typeof P_.oninput=="function"}bm=xm}else bm=!1;k_=bm&&(!document.documentMode||9<document.documentMode)}function M_(){Il&&(Il.detachEvent("onpropertychange",R_),Ll=Il=null)}function R_(a){if(a.propertyName==="value"&&$u(Ll)){var s=[];C_(s,Ll,a,um(a)),v_(fD,s)}}function hD(a,s,c){a==="focusin"?(M_(),Il=s,Ll=c,Il.attachEvent("onpropertychange",R_)):a==="focusout"&&M_()}function mD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $u(Ll)}function pD(a,s){if(a==="click")return $u(s)}function gD(a,s){if(a==="input"||a==="change")return $u(s)}function vD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Jn=typeof Object.is=="function"?Object.is:vD;function zl(a,s){if(Jn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!ge.call(s,y)||!Jn(a[y],s[y]))return!1}return!0}function D_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function I_(a,s){var c=D_(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=D_(c)}}function L_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?L_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function z_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Pu(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Pu(a.document)}return s}function _m(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var yD=fa&&"documentMode"in document&&11>=document.documentMode,to=null,wm=null,$l=null,Sm=!1;function $_(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sm||to==null||to!==Pu(h)||(h=to,"selectionStart"in h&&_m(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$l&&zl($l,h)||($l=h,h=Nd(wm,"onSelect"),0<h.length&&(s=new Lu("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=to)))}function Hi(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var no={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},jm={},U_={};fa&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Fi(a){if(jm[a])return jm[a];if(!no[a])return a;var s=no[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in U_)return jm[a]=s[c];return a}var q_=Fi("animationend"),B_=Fi("animationiteration"),H_=Fi("animationstart"),bD=Fi("transitionrun"),xD=Fi("transitionstart"),_D=Fi("transitioncancel"),F_=Fi("transitionend"),K_=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function Lr(a,s){K_.set(a,s),qi(s,[a])}var Uu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},vr=[],ro=0,Em=0;function qu(){for(var a=ro,s=Em=ro=0;s<a;){var c=vr[s];vr[s++]=null;var h=vr[s];vr[s++]=null;var y=vr[s];vr[s++]=null;var b=vr[s];if(vr[s++]=null,h!==null&&y!==null){var O=h.pending;O===null?y.next=y:(y.next=O.next,O.next=y),h.pending=y}b!==0&&G_(c,y,b)}}function Bu(a,s,c,h){vr[ro++]=a,vr[ro++]=s,vr[ro++]=c,vr[ro++]=h,Em|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Nm(a,s,c,h){return Bu(a,s,c,h),Hu(a)}function Ki(a,s){return Bu(a,null,null,s),Hu(a)}function G_(a,s,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,b=a.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&s!==null&&(y=31-vt(c),a=b.hiddenUpdates,h=a[y],h===null?a[y]=[s]:h.push(s),s.lane=c|536870912),b):null}function Hu(a){if(50<oc)throw oc=0,Ip=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ao={};function wD(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(a,s,c,h){return new wD(a,s,c,h)}function Am(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ha(a,s){var c=a.alternate;return c===null?(c=Zn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Y_(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Fu(a,s,c,h,y,b){var O=0;if(h=a,typeof a=="function")Am(a)&&(O=1);else if(typeof a=="string")O=N3(a,c,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case H:return a=Zn(31,c,s,y),a.elementType=H,a.lanes=b,a;case S:return Gi(c.children,y,b,s);case j:O=8,y|=24;break;case E:return a=Zn(12,c,s,y|2),a.elementType=E,a.lanes=b,a;case k:return a=Zn(13,c,s,y),a.elementType=k,a.lanes=b,a;case M:return a=Zn(19,c,s,y),a.elementType=M,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:O=10;break e;case A:O=9;break e;case T:O=11;break e;case R:O=14;break e;case z:O=16,h=null;break e}O=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return s=Zn(O,c,s,y),s.elementType=a,s.type=h,s.lanes=b,s}function Gi(a,s,c,h){return a=Zn(7,a,h,s),a.lanes=c,a}function Cm(a,s,c){return a=Zn(6,a,null,s),a.lanes=c,a}function V_(a){var s=Zn(18,null,null,0);return s.stateNode=a,s}function Tm(a,s,c){return s=Zn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var W_=new WeakMap;function yr(a,s){if(typeof a=="object"&&a!==null){var c=W_.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Qn(s)},W_.set(a,s),s)}return{value:a,source:s,stack:Qn(s)}}var io=[],so=0,Ku=null,Ul=0,br=[],xr=0,Ja=null,Qr=1,Jr="";function ma(a,s){io[so++]=Ul,io[so++]=Ku,Ku=a,Ul=s}function X_(a,s,c){br[xr++]=Qr,br[xr++]=Jr,br[xr++]=Ja,Ja=a;var h=Qr;a=Jr;var y=32-vt(h)-1;h&=~(1<<y),c+=1;var b=32-vt(s)+y;if(30<b){var O=y-y%5;b=(h&(1<<O)-1).toString(32),h>>=O,y-=O,Qr=1<<32-vt(s)+y|c<<y|h,Jr=b+a}else Qr=1<<b|c<<y|h,Jr=a}function km(a){a.return!==null&&(ma(a,1),X_(a,1,0))}function Pm(a){for(;a===Ku;)Ku=io[--so],io[so]=null,Ul=io[--so],io[so]=null;for(;a===Ja;)Ja=br[--xr],br[xr]=null,Jr=br[--xr],br[xr]=null,Qr=br[--xr],br[xr]=null}function Q_(a,s){br[xr++]=Qr,br[xr++]=Jr,br[xr++]=Ja,Qr=s.id,Jr=s.overflow,Ja=a}var vn=null,xt=null,Ve=!1,Za=null,_r=!1,Mm=Error(r(519));function ei(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(yr(s,a)),Mm}function J_(a){var s=a.stateNode,c=a.type,h=a.memoizedProps;switch(s[gn]=a,s[zn]=h,c){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(c=0;c<cc.length;c++)qe(cc[c],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),d_(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),h_(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||pS(s.textContent,c)?(h.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),h.onScroll!=null&&qe("scroll",s),h.onScrollEnd!=null&&qe("scrollend",s),h.onClick!=null&&(s.onclick=da),s=!0):s=!1,s||ei(a,!0)}function Z_(a){for(vn=a.return;vn;)switch(vn.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:vn=vn.return}}function oo(a){if(a!==vn)return!1;if(!Ve)return Z_(a),Ve=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Qp(a.type,a.memoizedProps)),c=!c),c&&xt&&ei(a),Z_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xt=jS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xt=jS(a)}else s===27?(s=xt,mi(a.type)?(a=ng,ng=null,xt=a):xt=s):xt=vn?Sr(a.stateNode.nextSibling):null;return!0}function Yi(){xt=vn=null,Ve=!1}function Rm(){var a=Za;return a!==null&&(Hn===null?Hn=a:Hn.push.apply(Hn,a),Za=null),a}function ql(a){Za===null?Za=[a]:Za.push(a)}var Dm=P(null),Vi=null,pa=null;function ti(a,s,c){te(Dm,s._currentValue),s._currentValue=c}function ga(a){a._currentValue=Dm.current,D(Dm)}function Im(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function Lm(a,s,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var O=y.child;b=b.firstContext;e:for(;b!==null;){var C=b;b=y;for(var I=0;I<s.length;I++)if(C.context===s[I]){b.lanes|=c,C=b.alternate,C!==null&&(C.lanes|=c),Im(b.return,c,a),h||(O=null);break e}b=C.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=c,b=O.alternate,b!==null&&(b.lanes|=c),Im(O,c,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function lo(a,s,c,h){a=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var C=y.type;Jn(y.pendingProps.value,O.value)||(a!==null?a.push(C):a=[C])}}else if(y===pe.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(mc):a=[mc])}y=y.return}a!==null&&Lm(s,a,c,h),s.flags|=262144}function Gu(a){for(a=a.firstContext;a!==null;){if(!Jn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Wi(a){Vi=a,pa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function yn(a){return ew(Vi,a)}function Yu(a,s){return Vi===null&&Wi(a),ew(a,s)}function ew(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},pa===null){if(a===null)throw Error(r(308));pa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else pa=pa.next=s;return c}var SD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},jD=e.unstable_scheduleCallback,OD=e.unstable_NormalPriority,Ft={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new SD,data:new Map,refCount:0}}function Bl(a){a.refCount--,a.refCount===0&&jD(OD,function(){a.controller.abort()})}var Hl=null,$m=0,co=0,uo=null;function ED(a,s){if(Hl===null){var c=Hl=[];$m=0,co=Bp(),uo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return $m++,s.then(tw,tw),s}function tw(){if(--$m===0&&Hl!==null){uo!==null&&(uo.status="fulfilled");var a=Hl;Hl=null,co=0,uo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function ND(a,s){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var nw=L.S;L.S=function(a,s){$1=Ye(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ED(a,s),nw!==null&&nw(a,s)};var Xi=P(null);function Um(){var a=Xi.current;return a!==null?a:pt.pooledCache}function Vu(a,s){s===null?te(Xi,Xi.current):te(Xi,s.pool)}function rw(){var a=Um();return a===null?null:{parent:Ft._currentValue,pool:a}}var fo=Error(r(460)),qm=Error(r(474)),Wu=Error(r(542)),Xu={then:function(){}};function aw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function iw(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(da,da),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ow(a),a;default:if(typeof s.status=="string")s.then(da,da);else{if(a=pt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ow(a),a}throw Ji=s,fo}}function Qi(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ji=c,fo):c}}var Ji=null;function sw(){if(Ji===null)throw Error(r(459));var a=Ji;return Ji=null,a}function ow(a){if(a===fo||a===Wu)throw Error(r(483))}var ho=null,Fl=0;function Qu(a){var s=Fl;return Fl+=1,ho===null&&(ho=[]),iw(ho,a,s)}function Kl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Ju(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function lw(a){function s(B,$){if(a){var G=B.deletions;G===null?(B.deletions=[$],B.flags|=16):G.push($)}}function c(B,$){if(!a)return null;for(;$!==null;)s(B,$),$=$.sibling;return null}function h(B){for(var $=new Map;B!==null;)B.key!==null?$.set(B.key,B):$.set(B.index,B),B=B.sibling;return $}function y(B,$){return B=ha(B,$),B.index=0,B.sibling=null,B}function b(B,$,G){return B.index=G,a?(G=B.alternate,G!==null?(G=G.index,G<$?(B.flags|=67108866,$):G):(B.flags|=67108866,$)):(B.flags|=1048576,$)}function O(B){return a&&B.alternate===null&&(B.flags|=67108866),B}function C(B,$,G,se){return $===null||$.tag!==6?($=Cm(G,B.mode,se),$.return=B,$):($=y($,G),$.return=B,$)}function I(B,$,G,se){var Oe=G.type;return Oe===S?re(B,$,G.props.children,se,G.key):$!==null&&($.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===z&&Qi(Oe)===$.type)?($=y($,G.props),Kl($,G),$.return=B,$):($=Fu(G.type,G.key,G.props,null,B.mode,se),Kl($,G),$.return=B,$)}function Y(B,$,G,se){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=Tm(G,B.mode,se),$.return=B,$):($=y($,G.children||[]),$.return=B,$)}function re(B,$,G,se,Oe){return $===null||$.tag!==7?($=Gi(G,B.mode,se,Oe),$.return=B,$):($=y($,G),$.return=B,$)}function le(B,$,G){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Cm(""+$,B.mode,G),$.return=B,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return G=Fu($.type,$.key,$.props,null,B.mode,G),Kl(G,$),G.return=B,G;case w:return $=Tm($,B.mode,G),$.return=B,$;case z:return $=Qi($),le(B,$,G)}if(Z($)||K($))return $=Gi($,B.mode,G,null),$.return=B,$;if(typeof $.then=="function")return le(B,Qu($),G);if($.$$typeof===N)return le(B,Yu(B,$),G);Ju(B,$)}return null}function W(B,$,G,se){var Oe=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Oe!==null?null:C(B,$,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===Oe?I(B,$,G,se):null;case w:return G.key===Oe?Y(B,$,G,se):null;case z:return G=Qi(G),W(B,$,G,se)}if(Z(G)||K(G))return Oe!==null?null:re(B,$,G,se,null);if(typeof G.then=="function")return W(B,$,Qu(G),se);if(G.$$typeof===N)return W(B,$,Yu(B,G),se);Ju(B,G)}return null}function J(B,$,G,se,Oe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return B=B.get(G)||null,C($,B,""+se,Oe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return B=B.get(se.key===null?G:se.key)||null,I($,B,se,Oe);case w:return B=B.get(se.key===null?G:se.key)||null,Y($,B,se,Oe);case z:return se=Qi(se),J(B,$,G,se,Oe)}if(Z(se)||K(se))return B=B.get(G)||null,re($,B,se,Oe,null);if(typeof se.then=="function")return J(B,$,G,Qu(se),Oe);if(se.$$typeof===N)return J(B,$,G,Yu($,se),Oe);Ju($,se)}return null}function ye(B,$,G,se){for(var Oe=null,Qe=null,_e=$,Ie=$=0,Ke=null;_e!==null&&Ie<G.length;Ie++){_e.index>Ie?(Ke=_e,_e=null):Ke=_e.sibling;var Je=W(B,_e,G[Ie],se);if(Je===null){_e===null&&(_e=Ke);break}a&&_e&&Je.alternate===null&&s(B,_e),$=b(Je,$,Ie),Qe===null?Oe=Je:Qe.sibling=Je,Qe=Je,_e=Ke}if(Ie===G.length)return c(B,_e),Ve&&ma(B,Ie),Oe;if(_e===null){for(;Ie<G.length;Ie++)_e=le(B,G[Ie],se),_e!==null&&($=b(_e,$,Ie),Qe===null?Oe=_e:Qe.sibling=_e,Qe=_e);return Ve&&ma(B,Ie),Oe}for(_e=h(_e);Ie<G.length;Ie++)Ke=J(_e,B,Ie,G[Ie],se),Ke!==null&&(a&&Ke.alternate!==null&&_e.delete(Ke.key===null?Ie:Ke.key),$=b(Ke,$,Ie),Qe===null?Oe=Ke:Qe.sibling=Ke,Qe=Ke);return a&&_e.forEach(function(bi){return s(B,bi)}),Ve&&ma(B,Ie),Oe}function Ce(B,$,G,se){if(G==null)throw Error(r(151));for(var Oe=null,Qe=null,_e=$,Ie=$=0,Ke=null,Je=G.next();_e!==null&&!Je.done;Ie++,Je=G.next()){_e.index>Ie?(Ke=_e,_e=null):Ke=_e.sibling;var bi=W(B,_e,Je.value,se);if(bi===null){_e===null&&(_e=Ke);break}a&&_e&&bi.alternate===null&&s(B,_e),$=b(bi,$,Ie),Qe===null?Oe=bi:Qe.sibling=bi,Qe=bi,_e=Ke}if(Je.done)return c(B,_e),Ve&&ma(B,Ie),Oe;if(_e===null){for(;!Je.done;Ie++,Je=G.next())Je=le(B,Je.value,se),Je!==null&&($=b(Je,$,Ie),Qe===null?Oe=Je:Qe.sibling=Je,Qe=Je);return Ve&&ma(B,Ie),Oe}for(_e=h(_e);!Je.done;Ie++,Je=G.next())Je=J(_e,B,Ie,Je.value,se),Je!==null&&(a&&Je.alternate!==null&&_e.delete(Je.key===null?Ie:Je.key),$=b(Je,$,Ie),Qe===null?Oe=Je:Qe.sibling=Je,Qe=Je);return a&&_e.forEach(function(z3){return s(B,z3)}),Ve&&ma(B,Ie),Oe}function dt(B,$,G,se){if(typeof G=="object"&&G!==null&&G.type===S&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var Oe=G.key;$!==null;){if($.key===Oe){if(Oe=G.type,Oe===S){if($.tag===7){c(B,$.sibling),se=y($,G.props.children),se.return=B,B=se;break e}}else if($.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===z&&Qi(Oe)===$.type){c(B,$.sibling),se=y($,G.props),Kl(se,G),se.return=B,B=se;break e}c(B,$);break}else s(B,$);$=$.sibling}G.type===S?(se=Gi(G.props.children,B.mode,se,G.key),se.return=B,B=se):(se=Fu(G.type,G.key,G.props,null,B.mode,se),Kl(se,G),se.return=B,B=se)}return O(B);case w:e:{for(Oe=G.key;$!==null;){if($.key===Oe)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){c(B,$.sibling),se=y($,G.children||[]),se.return=B,B=se;break e}else{c(B,$);break}else s(B,$);$=$.sibling}se=Tm(G,B.mode,se),se.return=B,B=se}return O(B);case z:return G=Qi(G),dt(B,$,G,se)}if(Z(G))return ye(B,$,G,se);if(K(G)){if(Oe=K(G),typeof Oe!="function")throw Error(r(150));return G=Oe.call(G),Ce(B,$,G,se)}if(typeof G.then=="function")return dt(B,$,Qu(G),se);if(G.$$typeof===N)return dt(B,$,Yu(B,G),se);Ju(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,$!==null&&$.tag===6?(c(B,$.sibling),se=y($,G),se.return=B,B=se):(c(B,$),se=Cm(G,B.mode,se),se.return=B,B=se),O(B)):c(B,$)}return function(B,$,G,se){try{Fl=0;var Oe=dt(B,$,G,se);return ho=null,Oe}catch(_e){if(_e===fo||_e===Wu)throw _e;var Qe=Zn(29,_e,null,B.mode);return Qe.lanes=se,Qe.return=B,Qe}finally{}}}var Zi=lw(!0),cw=lw(!1),ni=!1;function Bm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ri(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ai(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(nt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Hu(a),G_(a,null,c),s}return Bu(a,h,s,c),Hu(a)}function Gl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,e_(a,c)}}function Fm(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=O:b=b.next=O,c=c.next}while(c!==null);b===null?y=b=s:b=b.next=s}else y=b=s;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Km=!1;function Yl(){if(Km){var a=uo;if(a!==null)throw a}}function Vl(a,s,c,h){Km=!1;var y=a.updateQueue;ni=!1;var b=y.firstBaseUpdate,O=y.lastBaseUpdate,C=y.shared.pending;if(C!==null){y.shared.pending=null;var I=C,Y=I.next;I.next=null,O===null?b=Y:O.next=Y,O=I;var re=a.alternate;re!==null&&(re=re.updateQueue,C=re.lastBaseUpdate,C!==O&&(C===null?re.firstBaseUpdate=Y:C.next=Y,re.lastBaseUpdate=I))}if(b!==null){var le=y.baseState;O=0,re=Y=I=null,C=b;do{var W=C.lane&-536870913,J=W!==C.lane;if(J?(Fe&W)===W:(h&W)===W){W!==0&&W===co&&(Km=!0),re!==null&&(re=re.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=a,Ce=C;W=s;var dt=c;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){le=ye.call(dt,le,W);break e}le=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,W=typeof ye=="function"?ye.call(dt,le,W):ye,W==null)break e;le=g({},le,W);break e;case 2:ni=!0}}W=C.callback,W!==null&&(a.flags|=64,J&&(a.flags|=8192),J=y.callbacks,J===null?y.callbacks=[W]:J.push(W))}else J={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},re===null?(Y=re=J,I=le):re=re.next=J,O|=W;if(C=C.next,C===null){if(C=y.shared.pending,C===null)break;J=C,C=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);re===null&&(I=le),y.baseState=I,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,b===null&&(y.shared.lanes=0),ci|=O,a.lanes=O,a.memoizedState=le}}function uw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function dw(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)uw(c[a],s)}var mo=P(null),Zu=P(0);function fw(a,s){a=Oa,te(Zu,a),te(mo,s),Oa=a|s.baseLanes}function Gm(){te(Zu,Oa),te(mo,mo.current)}function Ym(){Oa=Zu.current,D(mo),D(Zu)}var er=P(null),wr=null;function ii(a){var s=a.alternate;te(zt,zt.current&1),te(er,a),wr===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(wr=a)}function Vm(a){te(zt,zt.current),te(er,a),wr===null&&(wr=a)}function hw(a){a.tag===22?(te(zt,zt.current),te(er,a),wr===null&&(wr=a)):si()}function si(){te(zt,zt.current),te(er,er.current)}function tr(a){D(er),wr===a&&(wr=null),D(zt)}var zt=P(0);function ed(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||eg(c)||tg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var va=0,De=null,ct=null,Kt=null,td=!1,po=!1,es=!1,nd=0,Wl=0,go=null,AD=0;function Dt(){throw Error(r(321))}function Wm(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Jn(a[c],s[c]))return!1;return!0}function Xm(a,s,c,h,y,b){return va=b,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=a===null||a.memoizedState===null?Xw:dp,es=!1,b=c(h,y),es=!1,po&&(b=pw(s,c,h,y)),mw(a),b}function mw(a){L.H=Jl;var s=ct!==null&&ct.next!==null;if(va=0,Kt=ct=De=null,td=!1,Wl=0,go=null,s)throw Error(r(300));a===null||Gt||(a=a.dependencies,a!==null&&Gu(a)&&(Gt=!0))}function pw(a,s,c,h){De=a;var y=0;do{if(po&&(go=null),Wl=0,po=!1,25<=y)throw Error(r(301));if(y+=1,Kt=ct=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=Qw,b=s(c,h)}while(po);return b}function CD(){var a=L.H,s=a.useState()[0];return s=typeof s.then=="function"?Xl(s):s,a=a.useState()[0],(ct!==null?ct.memoizedState:null)!==a&&(De.flags|=1024),s}function Qm(){var a=nd!==0;return nd=0,a}function Jm(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Zm(a){if(td){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}td=!1}va=0,Kt=ct=De=null,po=!1,Wl=nd=0,go=null}function Pn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?De.memoizedState=Kt=a:Kt=Kt.next=a,Kt}function $t(){if(ct===null){var a=De.alternate;a=a!==null?a.memoizedState:null}else a=ct.next;var s=Kt===null?De.memoizedState:Kt.next;if(s!==null)Kt=s,ct=a;else{if(a===null)throw De.alternate===null?Error(r(467)):Error(r(310));ct=a,a={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Kt===null?De.memoizedState=Kt=a:Kt=Kt.next=a}return Kt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(a){var s=Wl;return Wl+=1,go===null&&(go=[]),a=iw(go,a,s),s=De,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Xw:dp),a}function ad(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xl(a);if(a.$$typeof===N)return yn(a)}throw Error(r(438,String(a)))}function ep(a){var s=null,c=De.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=De.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=rd(),De.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),h=0;h<a;h++)c[h]=q;return s.index++,c}function ya(a,s){return typeof s=="function"?s(a):s}function id(a){var s=$t();return tp(s,ct,a)}function tp(a,s,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,b=h.pending;if(b!==null){if(y!==null){var O=y.next;y.next=b.next,b.next=O}s.baseQueue=y=b,h.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{s=y.next;var C=O=null,I=null,Y=s,re=!1;do{var le=Y.lane&-536870913;if(le!==Y.lane?(Fe&le)===le:(va&le)===le){var W=Y.revertLane;if(W===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),le===co&&(re=!0);else if((va&W)===W){Y=Y.next,W===co&&(re=!0);continue}else le={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(C=I=le,O=b):I=I.next=le,De.lanes|=W,ci|=W;le=Y.action,es&&c(b,le),b=Y.hasEagerState?Y.eagerState:c(b,le)}else W={lane:le,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(C=I=W,O=b):I=I.next=W,De.lanes|=le,ci|=le;Y=Y.next}while(Y!==null&&Y!==s);if(I===null?O=b:I.next=C,!Jn(b,a.memoizedState)&&(Gt=!0,re&&(c=uo,c!==null)))throw c;a.memoizedState=b,a.baseState=O,a.baseQueue=I,h.lastRenderedState=b}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function np(a){var s=$t(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,b=s.memoizedState;if(y!==null){c.pending=null;var O=y=y.next;do b=a(b,O.action),O=O.next;while(O!==y);Jn(b,s.memoizedState)||(Gt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,h]}function gw(a,s,c){var h=De,y=$t(),b=Ve;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var O=!Jn((ct||y).memoizedState,c);if(O&&(y.memoizedState=c,Gt=!0),y=y.queue,ip(bw.bind(null,h,y,a),[a]),y.getSnapshot!==s||O||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,vo(9,{destroy:void 0},yw.bind(null,h,y,c,s),null),pt===null)throw Error(r(349));b||(va&127)!==0||vw(h,s,c)}return c}function vw(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=De.updateQueue,s===null?(s=rd(),De.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function yw(a,s,c,h){s.value=c,s.getSnapshot=h,xw(s)&&_w(a)}function bw(a,s,c){return c(function(){xw(s)&&_w(a)})}function xw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Jn(a,c)}catch{return!0}}function _w(a){var s=Ki(a,2);s!==null&&Fn(s,a,2)}function rp(a){var s=Pn();if(typeof a=="function"){var c=a;if(a=c(),es){tt(!0);try{c()}finally{tt(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:a},s}function ww(a,s,c,h){return a.baseState=c,tp(a,ct,typeof h=="function"?h:ya)}function TD(a,s,c,h,y){if(ld(a))throw Error(r(485));if(a=s.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};L.T!==null?c(!0):b.isTransition=!1,h(b),c=s.pending,c===null?(b.next=s.pending=b,Sw(s,b)):(b.next=c.next,s.pending=c.next=b)}}function Sw(a,s){var c=s.action,h=s.payload,y=a.state;if(s.isTransition){var b=L.T,O={};L.T=O;try{var C=c(y,h),I=L.S;I!==null&&I(O,C),jw(a,s,C)}catch(Y){ap(a,s,Y)}finally{b!==null&&O.types!==null&&(b.types=O.types),L.T=b}}else try{b=c(y,h),jw(a,s,b)}catch(Y){ap(a,s,Y)}}function jw(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Ow(a,s,h)},function(h){return ap(a,s,h)}):Ow(a,s,c)}function Ow(a,s,c){s.status="fulfilled",s.value=c,Ew(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Sw(a,c)))}function ap(a,s,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,Ew(s),s=s.next;while(s!==h)}a.action=null}function Ew(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Nw(a,s){return s}function Aw(a,s){if(Ve){var c=pt.formState;if(c!==null){e:{var h=De;if(Ve){if(xt){t:{for(var y=xt,b=_r;y.nodeType!==8;){if(!b){y=null;break t}if(y=Sr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){xt=Sr(y.nextSibling),h=y.data==="F!";break e}}ei(h)}h=!1}h&&(s=c[0])}}return c=Pn(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nw,lastRenderedState:s},c.queue=h,c=Yw.bind(null,De,h),h.dispatch=c,h=rp(!1),b=up.bind(null,De,!1,h.queue),h=Pn(),y={state:s,dispatch:null,action:a,pending:null},h.queue=y,c=TD.bind(null,De,y,b,c),y.dispatch=c,h.memoizedState=a,[s,c,!1]}function Cw(a){var s=$t();return Tw(s,ct,a)}function Tw(a,s,c){if(s=tp(a,s,Nw)[0],a=id(ya)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Xl(s)}catch(O){throw O===fo?Wu:O}else h=s;s=$t();var y=s.queue,b=y.dispatch;return c!==s.memoizedState&&(De.flags|=2048,vo(9,{destroy:void 0},kD.bind(null,y,c),null)),[h,b,a]}function kD(a,s){a.action=s}function kw(a){var s=$t(),c=ct;if(c!==null)return Tw(s,c,a);$t(),s=s.memoizedState,c=$t();var h=c.queue.dispatch;return c.memoizedState=a,[s,h,!1]}function vo(a,s,c,h){return a={tag:a,create:c,deps:h,inst:s,next:null},s=De.updateQueue,s===null&&(s=rd(),De.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a),a}function Pw(){return $t().memoizedState}function sd(a,s,c,h){var y=Pn();De.flags|=a,y.memoizedState=vo(1|s,{destroy:void 0},c,h===void 0?null:h)}function od(a,s,c,h){var y=$t();h=h===void 0?null:h;var b=y.memoizedState.inst;ct!==null&&h!==null&&Wm(h,ct.memoizedState.deps)?y.memoizedState=vo(s,b,c,h):(De.flags|=a,y.memoizedState=vo(1|s,b,c,h))}function Mw(a,s){sd(8390656,8,a,s)}function ip(a,s){od(2048,8,a,s)}function PD(a){De.flags|=4;var s=De.updateQueue;if(s===null)s=rd(),De.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Rw(a){var s=$t().memoizedState;return PD({ref:s,nextImpl:a}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Dw(a,s){return od(4,2,a,s)}function Iw(a,s){return od(4,4,a,s)}function Lw(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function zw(a,s,c){c=c!=null?c.concat([a]):null,od(4,4,Lw.bind(null,s,a),c)}function sp(){}function $w(a,s){var c=$t();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&Wm(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function Uw(a,s){var c=$t();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&Wm(s,h[1]))return h[0];if(h=a(),es){tt(!0);try{a()}finally{tt(!1)}}return c.memoizedState=[h,s],h}function op(a,s,c){return c===void 0||(va&1073741824)!==0&&(Fe&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=q1(),De.lanes|=a,ci|=a,c)}function qw(a,s,c,h){return Jn(c,s)?c:mo.current!==null?(a=op(a,c,h),Jn(a,s)||(Gt=!0),a):(va&42)===0||(va&1073741824)!==0&&(Fe&261930)===0?(Gt=!0,a.memoizedState=c):(a=q1(),De.lanes|=a,ci|=a,s)}function Bw(a,s,c,h,y){var b=V.p;V.p=b!==0&&8>b?b:8;var O=L.T,C={};L.T=C,up(a,!1,s,c);try{var I=y(),Y=L.S;if(Y!==null&&Y(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=ND(I,h);Ql(a,s,re,ar(a))}else Ql(a,s,h,ar(a))}catch(le){Ql(a,s,{then:function(){},status:"rejected",reason:le},ar())}finally{V.p=b,O!==null&&C.types!==null&&(O.types=C.types),L.T=O}}function MD(){}function lp(a,s,c,h){if(a.tag!==5)throw Error(r(476));var y=Hw(a).queue;Bw(a,y,s,oe,c===null?MD:function(){return Fw(a),c(h)})}function Hw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:oe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Fw(a){var s=Hw(a);s.next===null&&(s=a.alternate.memoizedState),Ql(a,s.next.queue,{},ar())}function cp(){return yn(mc)}function Kw(){return $t().memoizedState}function Gw(){return $t().memoizedState}function RD(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=ar();a=ri(c);var h=ai(s,a,c);h!==null&&(Fn(h,s,c),Gl(h,s,c)),s={cache:zm()},a.payload=s;return}s=s.return}}function DD(a,s,c){var h=ar();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ld(a)?Vw(s,c):(c=Nm(a,s,c,h),c!==null&&(Fn(c,a,h),Ww(c,s,h)))}function Yw(a,s,c){var h=ar();Ql(a,s,c,h)}function Ql(a,s,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ld(a))Vw(s,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var O=s.lastRenderedState,C=b(O,c);if(y.hasEagerState=!0,y.eagerState=C,Jn(C,O))return Bu(a,s,y,0),pt===null&&qu(),!1}catch{}finally{}if(c=Nm(a,s,y,h),c!==null)return Fn(c,a,h),Ww(c,s,h),!0}return!1}function up(a,s,c,h){if(h={lane:2,revertLane:Bp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ld(a)){if(s)throw Error(r(479))}else s=Nm(a,c,h,2),s!==null&&Fn(s,a,2)}function ld(a){var s=a.alternate;return a===De||s!==null&&s===De}function Vw(a,s){po=td=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Ww(a,s,c){if((c&4194048)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,e_(a,c)}}var Jl={readContext:yn,use:ad,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Jl.useEffectEvent=Dt;var Xw={readContext:yn,use:ad,useCallback:function(a,s){return Pn().memoizedState=[a,s===void 0?null:s],a},useContext:yn,useEffect:Mw,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,sd(4194308,4,Lw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return sd(4194308,4,a,s)},useInsertionEffect:function(a,s){sd(4,2,a,s)},useMemo:function(a,s){var c=Pn();s=s===void 0?null:s;var h=a();if(es){tt(!0);try{a()}finally{tt(!1)}}return c.memoizedState=[h,s],h},useReducer:function(a,s,c){var h=Pn();if(c!==void 0){var y=c(s);if(es){tt(!0);try{c(s)}finally{tt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=DD.bind(null,De,a),[h.memoizedState,a]},useRef:function(a){var s=Pn();return a={current:a},s.memoizedState=a},useState:function(a){a=rp(a);var s=a.queue,c=Yw.bind(null,De,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:sp,useDeferredValue:function(a,s){var c=Pn();return op(c,a,s)},useTransition:function(){var a=rp(!1);return a=Bw.bind(null,De,a.queue,!0,!1),Pn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var h=De,y=Pn();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),pt===null)throw Error(r(349));(Fe&127)!==0||vw(h,s,c)}y.memoizedState=c;var b={value:c,getSnapshot:s};return y.queue=b,Mw(bw.bind(null,h,b,a),[a]),h.flags|=2048,vo(9,{destroy:void 0},yw.bind(null,h,b,c,s),null),c},useId:function(){var a=Pn(),s=pt.identifierPrefix;if(Ve){var c=Jr,h=Qr;c=(h&~(1<<32-vt(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=nd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=AD++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:cp,useFormState:Aw,useActionState:Aw,useOptimistic:function(a){var s=Pn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=up.bind(null,De,!0,c),c.dispatch=s,[a,s]},useMemoCache:ep,useCacheRefresh:function(){return Pn().memoizedState=RD.bind(null,De)},useEffectEvent:function(a){var s=Pn(),c={impl:a};return s.memoizedState=c,function(){if((nt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},dp={readContext:yn,use:ad,useCallback:$w,useContext:yn,useEffect:ip,useImperativeHandle:zw,useInsertionEffect:Dw,useLayoutEffect:Iw,useMemo:Uw,useReducer:id,useRef:Pw,useState:function(){return id(ya)},useDebugValue:sp,useDeferredValue:function(a,s){var c=$t();return qw(c,ct.memoizedState,a,s)},useTransition:function(){var a=id(ya)[0],s=$t().memoizedState;return[typeof a=="boolean"?a:Xl(a),s]},useSyncExternalStore:gw,useId:Kw,useHostTransitionStatus:cp,useFormState:Cw,useActionState:Cw,useOptimistic:function(a,s){var c=$t();return ww(c,ct,a,s)},useMemoCache:ep,useCacheRefresh:Gw};dp.useEffectEvent=Rw;var Qw={readContext:yn,use:ad,useCallback:$w,useContext:yn,useEffect:ip,useImperativeHandle:zw,useInsertionEffect:Dw,useLayoutEffect:Iw,useMemo:Uw,useReducer:np,useRef:Pw,useState:function(){return np(ya)},useDebugValue:sp,useDeferredValue:function(a,s){var c=$t();return ct===null?op(c,a,s):qw(c,ct.memoizedState,a,s)},useTransition:function(){var a=np(ya)[0],s=$t().memoizedState;return[typeof a=="boolean"?a:Xl(a),s]},useSyncExternalStore:gw,useId:Kw,useHostTransitionStatus:cp,useFormState:kw,useActionState:kw,useOptimistic:function(a,s){var c=$t();return ct!==null?ww(c,ct,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:ep,useCacheRefresh:Gw};Qw.useEffectEvent=Rw;function fp(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var hp={enqueueSetState:function(a,s,c){a=a._reactInternals;var h=ar(),y=ri(h);y.payload=s,c!=null&&(y.callback=c),s=ai(a,y,h),s!==null&&(Fn(s,a,h),Gl(s,a,h))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=ar(),y=ri(h);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=ai(a,y,h),s!==null&&(Fn(s,a,h),Gl(s,a,h))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=ar(),h=ri(c);h.tag=2,s!=null&&(h.callback=s),s=ai(a,h,c),s!==null&&(Fn(s,a,c),Gl(s,a,c))}};function Jw(a,s,c,h,y,b,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,b,O):s.prototype&&s.prototype.isPureReactComponent?!zl(c,h)||!zl(y,b):!0}function Zw(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&hp.enqueueReplaceState(s,s.state,null)}function ts(a,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function e1(a){Uu(a)}function t1(a){console.error(a)}function n1(a){Uu(a)}function cd(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function r1(a,s,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function mp(a,s,c){return c=ri(c),c.tag=3,c.payload={element:null},c.callback=function(){cd(a,s)},c}function a1(a){return a=ri(a),a.tag=3,a}function i1(a,s,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;a.payload=function(){return y(b)},a.callback=function(){r1(s,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){r1(s,c,h),typeof y!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function ID(a,s,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&lo(s,c,y,!0),c=er.current,c!==null){switch(c.tag){case 31:case 13:return wr===null?_d():c.alternate===null&&It===0&&(It=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===Xu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),$p(a,h,y)),!1;case 22:return c.flags|=65536,h===Xu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),$p(a,h,y)),!1}throw Error(r(435,c.tag))}return $p(a,h,y),_d(),!1}if(Ve)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==Mm&&(a=Error(r(422),{cause:h}),ql(yr(a,c)))):(h!==Mm&&(s=Error(r(423),{cause:h}),ql(yr(s,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=yr(h,c),y=mp(a.stateNode,h,y),Fm(a,y),It!==4&&(It=2)),!1;var b=Error(r(520),{cause:h});if(b=yr(b,c),sc===null?sc=[b]:sc.push(b),It!==4&&(It=2),s===null)return!0;h=yr(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=mp(c.stateNode,h,a),Fm(c,a),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ui===null||!ui.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=a1(y),i1(y,a,c,h),Fm(c,y),!1}c=c.return}while(c!==null);return!1}var pp=Error(r(461)),Gt=!1;function bn(a,s,c,h){s.child=a===null?cw(s,null,c,h):Zi(s,a.child,c,h)}function s1(a,s,c,h,y){c=c.render;var b=s.ref;if("ref"in h){var O={};for(var C in h)C!=="ref"&&(O[C]=h[C])}else O=h;return Wi(s),h=Xm(a,s,c,O,b,y),C=Qm(),a!==null&&!Gt?(Jm(a,s,y),ba(a,s,y)):(Ve&&C&&km(s),s.flags|=1,bn(a,s,h,y),s.child)}function o1(a,s,c,h,y){if(a===null){var b=c.type;return typeof b=="function"&&!Am(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,l1(a,s,b,h,y)):(a=Fu(c.type,null,h,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!Sp(a,y)){var O=b.memoizedProps;if(c=c.compare,c=c!==null?c:zl,c(O,h)&&a.ref===s.ref)return ba(a,s,y)}return s.flags|=1,a=ha(b,h),a.ref=s.ref,a.return=s,s.child=a}function l1(a,s,c,h,y){if(a!==null){var b=a.memoizedProps;if(zl(b,h)&&a.ref===s.ref)if(Gt=!1,s.pendingProps=h=b,Sp(a,y))(a.flags&131072)!==0&&(Gt=!0);else return s.lanes=a.lanes,ba(a,s,y)}return gp(a,s,c,h,y)}function c1(a,s,c,h){var y=h.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(h=s.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,s.child=null;return u1(a,s,b,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Vu(s,b!==null?b.cachePool:null),b!==null?fw(s,b):Gm(),hw(s);else return h=s.lanes=536870912,u1(a,s,b!==null?b.baseLanes|c:c,c,h)}else b!==null?(Vu(s,b.cachePool),fw(s,b),si(),s.memoizedState=null):(a!==null&&Vu(s,null),Gm(),si());return bn(a,s,y,c),s.child}function Zl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function u1(a,s,c,h,y){var b=Um();return b=b===null?null:{parent:Ft._currentValue,pool:b},s.memoizedState={baseLanes:c,cachePool:b},a!==null&&Vu(s,null),Gm(),hw(s),a!==null&&lo(a,s,h,!0),s.childLanes=y,null}function ud(a,s){return s=fd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function d1(a,s,c){return Zi(s,a.child,null,c),a=ud(s,s.pendingProps),a.flags|=2,tr(s),s.memoizedState=null,a}function LD(a,s,c){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Ve){if(h.mode==="hidden")return a=ud(s,h),s.lanes=536870912,Zl(null,a);if(Vm(s),(a=xt)?(a=SS(a,_r),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ja!==null?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=V_(a),c.return=s,s.child=c,vn=s,xt=null)):a=null,a===null)throw ei(s);return s.lanes=536870912,null}return ud(s,h)}var b=a.memoizedState;if(b!==null){var O=b.dehydrated;if(Vm(s),y)if(s.flags&256)s.flags&=-257,s=d1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Gt||lo(a,s,c,!1),y=(c&a.childLanes)!==0,Gt||y){if(h=pt,h!==null&&(O=t_(h,c),O!==0&&O!==b.retryLane))throw b.retryLane=O,Ki(a,O),Fn(h,a,O),pp;_d(),s=d1(a,s,c)}else a=b.treeContext,xt=Sr(O.nextSibling),vn=s,Ve=!0,Za=null,_r=!1,a!==null&&Q_(s,a),s=ud(s,h),s.flags|=4096;return s}return a=ha(a.child,{mode:h.mode,children:h.children}),a.ref=s.ref,s.child=a,a.return=s,a}function dd(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function gp(a,s,c,h,y){return Wi(s),c=Xm(a,s,c,h,void 0,y),h=Qm(),a!==null&&!Gt?(Jm(a,s,y),ba(a,s,y)):(Ve&&h&&km(s),s.flags|=1,bn(a,s,c,y),s.child)}function f1(a,s,c,h,y,b){return Wi(s),s.updateQueue=null,c=pw(s,h,c,y),mw(a),h=Qm(),a!==null&&!Gt?(Jm(a,s,b),ba(a,s,b)):(Ve&&h&&km(s),s.flags|=1,bn(a,s,c,b),s.child)}function h1(a,s,c,h,y){if(Wi(s),s.stateNode===null){var b=ao,O=c.contextType;typeof O=="object"&&O!==null&&(b=yn(O)),b=new c(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},Bm(s),O=c.contextType,b.context=typeof O=="object"&&O!==null?yn(O):ao,b.state=s.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(fp(s,c,O,h),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&hp.enqueueReplaceState(b,b.state,null),Vl(s,h,b,y),Yl(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(a===null){b=s.stateNode;var C=s.memoizedProps,I=ts(c,C);b.props=I;var Y=b.context,re=c.contextType;O=ao,typeof re=="object"&&re!==null&&(O=yn(re));var le=c.getDerivedStateFromProps;re=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C||Y!==O)&&Zw(s,b,h,O),ni=!1;var W=s.memoizedState;b.state=W,Vl(s,h,b,y),Yl(),Y=s.memoizedState,C||W!==Y||ni?(typeof le=="function"&&(fp(s,c,le,h),Y=s.memoizedState),(I=ni||Jw(s,c,I,h,W,Y,O))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Y),b.props=h,b.state=Y,b.context=O,h=I):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,Hm(a,s),O=s.memoizedProps,re=ts(c,O),b.props=re,le=s.pendingProps,W=b.context,Y=c.contextType,I=ao,typeof Y=="object"&&Y!==null&&(I=yn(Y)),C=c.getDerivedStateFromProps,(Y=typeof C=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==le||W!==I)&&Zw(s,b,h,I),ni=!1,W=s.memoizedState,b.state=W,Vl(s,h,b,y),Yl();var J=s.memoizedState;O!==le||W!==J||ni||a!==null&&a.dependencies!==null&&Gu(a.dependencies)?(typeof C=="function"&&(fp(s,c,C,h),J=s.memoizedState),(re=ni||Jw(s,c,re,h,W,J,I)||a!==null&&a.dependencies!==null&&Gu(a.dependencies))?(Y||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,J,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,J,I)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&W===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&W===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=J),b.props=h,b.state=J,b.context=I,h=re):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&W===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&W===a.memoizedState||(s.flags|=1024),h=!1)}return b=h,dd(a,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&h?(s.child=Zi(s,a.child,null,y),s.child=Zi(s,null,c,y)):bn(a,s,c,y),s.memoizedState=b.state,a=s.child):a=ba(a,s,y),a}function m1(a,s,c,h){return Yi(),s.flags|=256,bn(a,s,c,h),s.child}var vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yp(a){return{baseLanes:a,cachePool:rw()}}function bp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=rr),a}function p1(a,s,c){var h=s.pendingProps,y=!1,b=(s.flags&128)!==0,O;if((O=b)||(O=a!==null&&a.memoizedState===null?!1:(zt.current&2)!==0),O&&(y=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ve){if(y?ii(s):si(),(a=xt)?(a=SS(a,_r),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ja!==null?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=V_(a),c.return=s,s.child=c,vn=s,xt=null)):a=null,a===null)throw ei(s);return tg(a)?s.lanes=32:s.lanes=536870912,null}var C=h.children;return h=h.fallback,y?(si(),y=s.mode,C=fd({mode:"hidden",children:C},y),h=Gi(h,y,c,null),C.return=s,h.return=s,C.sibling=h,s.child=C,h=s.child,h.memoizedState=yp(c),h.childLanes=bp(a,O,c),s.memoizedState=vp,Zl(null,h)):(ii(s),xp(s,C))}var I=a.memoizedState;if(I!==null&&(C=I.dehydrated,C!==null)){if(b)s.flags&256?(ii(s),s.flags&=-257,s=_p(a,s,c)):s.memoizedState!==null?(si(),s.child=a.child,s.flags|=128,s=null):(si(),C=h.fallback,y=s.mode,h=fd({mode:"visible",children:h.children},y),C=Gi(C,y,c,null),C.flags|=2,h.return=s,C.return=s,h.sibling=C,s.child=h,Zi(s,a.child,null,c),h=s.child,h.memoizedState=yp(c),h.childLanes=bp(a,O,c),s.memoizedState=vp,s=Zl(null,h));else if(ii(s),tg(C)){if(O=C.nextSibling&&C.nextSibling.dataset,O)var Y=O.dgst;O=Y,h=Error(r(419)),h.stack="",h.digest=O,ql({value:h,source:null,stack:null}),s=_p(a,s,c)}else if(Gt||lo(a,s,c,!1),O=(c&a.childLanes)!==0,Gt||O){if(O=pt,O!==null&&(h=t_(O,c),h!==0&&h!==I.retryLane))throw I.retryLane=h,Ki(a,h),Fn(O,a,h),pp;eg(C)||_d(),s=_p(a,s,c)}else eg(C)?(s.flags|=192,s.child=a.child,s=null):(a=I.treeContext,xt=Sr(C.nextSibling),vn=s,Ve=!0,Za=null,_r=!1,a!==null&&Q_(s,a),s=xp(s,h.children),s.flags|=4096);return s}return y?(si(),C=h.fallback,y=s.mode,I=a.child,Y=I.sibling,h=ha(I,{mode:"hidden",children:h.children}),h.subtreeFlags=I.subtreeFlags&65011712,Y!==null?C=ha(Y,C):(C=Gi(C,y,c,null),C.flags|=2),C.return=s,h.return=s,h.sibling=C,s.child=h,Zl(null,h),h=s.child,C=a.child.memoizedState,C===null?C=yp(c):(y=C.cachePool,y!==null?(I=Ft._currentValue,y=y.parent!==I?{parent:I,pool:I}:y):y=rw(),C={baseLanes:C.baseLanes|c,cachePool:y}),h.memoizedState=C,h.childLanes=bp(a,O,c),s.memoizedState=vp,Zl(a.child,h)):(ii(s),c=a.child,a=c.sibling,c=ha(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,a!==null&&(O=s.deletions,O===null?(s.deletions=[a],s.flags|=16):O.push(a)),s.child=c,s.memoizedState=null,c)}function xp(a,s){return s=fd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function fd(a,s){return a=Zn(22,a,null,s),a.lanes=0,a}function _p(a,s,c){return Zi(s,a.child,null,c),a=xp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function g1(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),Im(a.return,s,c)}function wp(a,s,c,h,y,b){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:b}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=y,O.treeForkCount=b)}function v1(a,s,c){var h=s.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var O=zt.current,C=(O&2)!==0;if(C?(O=O&1|2,s.flags|=128):O&=1,te(zt,O),bn(a,s,h,c),h=Ve?Ul:0,!C&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&g1(a,c,s);else if(a.tag===19)g1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&ed(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),wp(s,!1,y,c,b,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&ed(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}wp(s,!0,c,null,b,h);break;case"together":wp(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ba(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),ci|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(lo(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=ha(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=ha(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Sp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Gu(a)))}function zD(a,s,c){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),ti(s,Ft,a.memoizedState.cache),Yi();break;case 27:case 5:Se(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:ti(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vm(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ii(s),s.flags|=128,null):(c&s.child.childLanes)!==0?p1(a,s,c):(ii(s),a=ba(a,s,c),a!==null?a.sibling:null);ii(s);break;case 19:var y=(a.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(lo(a,s,c,!1),h=(c&s.childLanes)!==0),y){if(h)return v1(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),te(zt,zt.current),h)break;return null;case 22:return s.lanes=0,c1(a,s,c,s.pendingProps);case 24:ti(s,Ft,a.memoizedState.cache)}return ba(a,s,c)}function y1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Sp(a,c)&&(s.flags&128)===0)return Gt=!1,zD(a,s,c);Gt=(a.flags&131072)!==0}else Gt=!1,Ve&&(s.flags&1048576)!==0&&X_(s,Ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(a=Qi(s.elementType),s.type=a,typeof a=="function")Am(a)?(h=ts(a,h),s.tag=1,s=h1(null,s,a,h,c)):(s.tag=0,s=gp(null,s,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===T){s.tag=11,s=s1(null,s,a,h,c);break e}else if(y===R){s.tag=14,s=o1(null,s,a,h,c);break e}}throw s=U(a)||a,Error(r(306,s,""))}}return s;case 0:return gp(a,s,s.type,s.pendingProps,c);case 1:return h=s.type,y=ts(h,s.pendingProps),h1(a,s,h,y,c);case 3:e:{if($e(s,s.stateNode.containerInfo),a===null)throw Error(r(387));h=s.pendingProps;var b=s.memoizedState;y=b.element,Hm(a,s),Vl(s,h,null,c);var O=s.memoizedState;if(h=O.cache,ti(s,Ft,h),h!==b.cache&&Lm(s,[Ft],c,!0),Yl(),h=O.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=m1(a,s,h,c);break e}else if(h!==y){y=yr(Error(r(424)),s),ql(y),s=m1(a,s,h,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(xt=Sr(a.firstChild),vn=s,Ve=!0,Za=null,_r=!0,c=cw(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Yi(),h===y){s=ba(a,s,c);break e}bn(a,s,h,c)}s=s.child}return s;case 26:return dd(a,s),a===null?(c=CS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ve||(c=s.type,a=s.pendingProps,h=Ad(me.current).createElement(c),h[gn]=s,h[zn]=a,xn(h,c,a),ln(h),s.stateNode=h):s.memoizedState=CS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Se(s),a===null&&Ve&&(h=s.stateNode=ES(s.type,s.pendingProps,me.current),vn=s,_r=!0,y=xt,mi(s.type)?(ng=y,xt=Sr(h.firstChild)):xt=y),bn(a,s,s.pendingProps.children,c),dd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ve&&((y=h=xt)&&(h=m3(h,s.type,s.pendingProps,_r),h!==null?(s.stateNode=h,vn=s,xt=Sr(h.firstChild),_r=!1,y=!0):y=!1),y||ei(s)),Se(s),y=s.type,b=s.pendingProps,O=a!==null?a.memoizedProps:null,h=b.children,Qp(y,b)?h=null:O!==null&&Qp(y,O)&&(s.flags|=32),s.memoizedState!==null&&(y=Xm(a,s,CD,null,null,c),mc._currentValue=y),dd(a,s),bn(a,s,h,c),s.child;case 6:return a===null&&Ve&&((a=c=xt)&&(c=p3(c,s.pendingProps,_r),c!==null?(s.stateNode=c,vn=s,xt=null,a=!0):a=!1),a||ei(s)),null;case 13:return p1(a,s,c);case 4:return $e(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=Zi(s,null,h,c):bn(a,s,h,c),s.child;case 11:return s1(a,s,s.type,s.pendingProps,c);case 7:return bn(a,s,s.pendingProps,c),s.child;case 8:return bn(a,s,s.pendingProps.children,c),s.child;case 12:return bn(a,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,ti(s,s.type,h.value),bn(a,s,h.children,c),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Wi(s),y=yn(y),h=h(y),s.flags|=1,bn(a,s,h,c),s.child;case 14:return o1(a,s,s.type,s.pendingProps,c);case 15:return l1(a,s,s.type,s.pendingProps,c);case 19:return v1(a,s,c);case 31:return LD(a,s,c);case 22:return c1(a,s,c,s.pendingProps);case 24:return Wi(s),h=yn(Ft),a===null?(y=Um(),y===null&&(y=pt,b=zm(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),s.memoizedState={parent:h,cache:y},Bm(s),ti(s,Ft,y)):((a.lanes&c)!==0&&(Hm(a,s),Vl(s,null,null,c),Yl()),y=a.memoizedState,b=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),ti(s,Ft,h)):(h=b.cache,ti(s,Ft,h),h!==y.cache&&Lm(s,[Ft],c,!0))),bn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xa(a){a.flags|=4}function jp(a,s,c,h,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(K1())a.flags|=8192;else throw Ji=Xu,qm}else a.flags&=-16777217}function b1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!RS(s))if(K1())a.flags|=8192;else throw Ji=Xu,qm}function hd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Jx():536870912,a.lanes|=s,_o|=s)}function ec(a,s){if(!Ve)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function _t(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function $D(a,s,c){var h=s.pendingProps;switch(Pm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return c=s.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ga(Ft),ne(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(oo(s)?xa(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rm())),_t(s),null;case 26:var y=s.type,b=s.memoizedState;return a===null?(xa(s),b!==null?(_t(s),b1(s,b)):(_t(s),jp(s,y,null,h,c))):b?b!==a.memoizedState?(xa(s),_t(s),b1(s,b)):(_t(s),s.flags&=-16777217):(a=a.memoizedProps,a!==h&&xa(s),_t(s),jp(s,y,a,h,c)),null;case 27:if(Te(s),c=me.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&xa(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return _t(s),null}a=Q.current,oo(s)?J_(s):(a=ES(y,h,c),s.stateNode=a,xa(s))}return _t(s),null;case 5:if(Te(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==h&&xa(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return _t(s),null}if(b=Q.current,oo(s))J_(s);else{var O=Ad(me.current);switch(b){case 1:b=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=O.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?O.createElement(y,{is:h.is}):O.createElement(y)}}b[gn]=s,b[zn]=h;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=b;e:switch(xn(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&xa(s)}}return _t(s),jp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==h&&xa(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(a=me.current,oo(s)){if(a=s.stateNode,c=s.memoizedProps,h=null,y=vn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[gn]=s,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||pS(a.nodeValue,c)),a||ei(s,!0)}else a=Ad(a).createTextNode(h),a[gn]=s,s.stateNode=a}return _t(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(h=oo(s),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[gn]=s}else Yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),a=!1}else c=Rm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(tr(s),s):(tr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return _t(s),null;case 13:if(h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=oo(s),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[gn]=s}else Yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),y=!1}else y=Rm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(tr(s),s):(tr(s),null)}return tr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),hd(s,s.updateQueue),_t(s),null);case 4:return ne(),a===null&&Gp(s.stateNode.containerInfo),_t(s),null;case 10:return ga(s.type),_t(s),null;case 19:if(D(zt),h=s.memoizedState,h===null)return _t(s),null;if(y=(s.flags&128)!==0,b=h.rendering,b===null)if(y)ec(h,!1);else{if(It!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=ed(a),b!==null){for(s.flags|=128,ec(h,!1),a=b.updateQueue,s.updateQueue=a,hd(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Y_(c,a),c=c.sibling;return te(zt,zt.current&1|2),Ve&&ma(s,h.treeForkCount),s.child}a=a.sibling}h.tail!==null&&Ye()>yd&&(s.flags|=128,y=!0,ec(h,!1),s.lanes=4194304)}else{if(!y)if(a=ed(b),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,hd(s,a),ec(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Ve)return _t(s),null}else 2*Ye()-h.renderingStartTime>yd&&c!==536870912&&(s.flags|=128,y=!0,ec(h,!1),s.lanes=4194304);h.isBackwards?(b.sibling=s.child,s.child=b):(a=h.last,a!==null?a.sibling=b:s.child=b,h.last=b)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Ye(),a.sibling=null,c=zt.current,te(zt,y?c&1|2:c&1),Ve&&ma(s,h.treeForkCount),a):(_t(s),null);case 22:case 23:return tr(s),Ym(),h=s.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),c=s.updateQueue,c!==null&&hd(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),a!==null&&D(Xi),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ga(Ft),_t(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function UD(a,s){switch(Pm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ga(Ft),ne(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Te(s),null;case 31:if(s.memoizedState!==null){if(tr(s),s.alternate===null)throw Error(r(340));Yi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(tr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return D(zt),null;case 4:return ne(),null;case 10:return ga(s.type),null;case 22:case 23:return tr(s),Ym(),a!==null&&D(Xi),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ga(Ft),null;case 25:return null;default:return null}}function x1(a,s){switch(Pm(s),s.tag){case 3:ga(Ft),ne();break;case 26:case 27:case 5:Te(s);break;case 4:ne();break;case 31:s.memoizedState!==null&&tr(s);break;case 13:tr(s);break;case 19:D(zt);break;case 10:ga(s.type);break;case 22:case 23:tr(s),Ym(),a!==null&&D(Xi);break;case 24:ga(Ft)}}function tc(a,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var b=c.create,O=c.inst;h=b(),O.destroy=h}c=c.next}while(c!==y)}}catch(C){st(s,s.return,C)}}function oi(a,s,c){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&a)===a){var O=h.inst,C=O.destroy;if(C!==void 0){O.destroy=void 0,y=s;var I=c,Y=C;try{Y()}catch(re){st(y,I,re)}}}h=h.next}while(h!==b)}}catch(re){st(s,s.return,re)}}function _1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{dw(s,c)}catch(h){st(a,a.return,h)}}}function w1(a,s,c){c.props=ts(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){st(a,s,h)}}function nc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){st(a,s,y)}}function Zr(a,s){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){st(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){st(a,s,y)}else c.current=null}function S1(a){var s=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){st(a,a.return,y)}}function Op(a,s,c){try{var h=a.stateNode;l3(h,a.type,c,s),h[zn]=s}catch(y){st(a,a.return,y)}}function j1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&mi(a.type)||a.tag===4}function Ep(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||j1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&mi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Np(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=da));else if(h!==4&&(h===27&&mi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Np(a,s,c),a=a.sibling;a!==null;)Np(a,s,c),a=a.sibling}function md(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(h===27&&mi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(md(a,s,c),a=a.sibling;a!==null;)md(a,s,c),a=a.sibling}function O1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);xn(s,h,c),s[gn]=a,s[zn]=c}catch(b){st(a,a.return,b)}}var _a=!1,Yt=!1,Ap=!1,E1=typeof WeakSet=="function"?WeakSet:Set,cn=null;function qD(a,s){if(a=a.containerInfo,Wp=Dd,a=z_(a),_m(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var O=0,C=-1,I=-1,Y=0,re=0,le=a,W=null;t:for(;;){for(var J;le!==c||y!==0&&le.nodeType!==3||(C=O+y),le!==b||h!==0&&le.nodeType!==3||(I=O+h),le.nodeType===3&&(O+=le.nodeValue.length),(J=le.firstChild)!==null;)W=le,le=J;for(;;){if(le===a)break t;if(W===c&&++Y===y&&(C=O),W===b&&++re===h&&(I=O),(J=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=J}c=C===-1||I===-1?null:{start:C,end:I}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xp={focusedElem:a,selectionRange:c},Dd=!1,cn=s;cn!==null;)if(s=cn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,cn=a;else for(;cn!==null;){switch(s=cn,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=s,y=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var ye=ts(c.type,y);a=h.getSnapshotBeforeUpdate(ye,b),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ce){st(c,c.return,Ce)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Zp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,cn=a;break}cn=s.return}}function N1(a,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Sa(a,c),h&4&&tc(5,c);break;case 1:if(Sa(a,c),h&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(O){st(c,c.return,O)}else{var y=ts(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(O){st(c,c.return,O)}}h&64&&_1(c),h&512&&nc(c,c.return);break;case 3:if(Sa(a,c),h&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{dw(a,s)}catch(O){st(c,c.return,O)}}break;case 27:s===null&&h&4&&O1(c);case 26:case 5:Sa(a,c),s===null&&h&4&&S1(c),h&512&&nc(c,c.return);break;case 12:Sa(a,c);break;case 31:Sa(a,c),h&4&&T1(a,c);break;case 13:Sa(a,c),h&4&&k1(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=XD.bind(null,c),g3(a,c))));break;case 22:if(h=c.memoizedState!==null||_a,!h){s=s!==null&&s.memoizedState!==null||Yt,y=_a;var b=Yt;_a=h,(Yt=s)&&!b?ja(a,c,(c.subtreeFlags&8772)!==0):Sa(a,c),_a=y,Yt=b}break;case 30:break;default:Sa(a,c)}}function A1(a){var s=a.alternate;s!==null&&(a.alternate=null,A1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&am(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var St=null,Un=!1;function wa(a,s,c){for(c=c.child;c!==null;)C1(a,s,c),c=c.sibling}function C1(a,s,c){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(kt,c)}catch{}switch(c.tag){case 26:Yt||Zr(c,s),wa(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Yt||Zr(c,s);var h=St,y=Un;mi(c.type)&&(St=c.stateNode,Un=!1),wa(a,s,c),dc(c.stateNode),St=h,Un=y;break;case 5:Yt||Zr(c,s);case 6:if(h=St,y=Un,St=null,wa(a,s,c),St=h,Un=y,St!==null)if(Un)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(c.stateNode)}catch(b){st(c,s,b)}else try{St.removeChild(c.stateNode)}catch(b){st(c,s,b)}break;case 18:St!==null&&(Un?(a=St,_S(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Co(a)):_S(St,c.stateNode));break;case 4:h=St,y=Un,St=c.stateNode.containerInfo,Un=!0,wa(a,s,c),St=h,Un=y;break;case 0:case 11:case 14:case 15:oi(2,c,s),Yt||oi(4,c,s),wa(a,s,c);break;case 1:Yt||(Zr(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&w1(c,s,h)),wa(a,s,c);break;case 21:wa(a,s,c);break;case 22:Yt=(h=Yt)||c.memoizedState!==null,wa(a,s,c),Yt=h;break;default:wa(a,s,c)}}function T1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Co(a)}catch(c){st(s,s.return,c)}}}function k1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Co(a)}catch(c){st(s,s.return,c)}}function BD(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new E1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new E1),s;default:throw Error(r(435,a.tag))}}function pd(a,s){var c=BD(a);s.forEach(function(h){if(!c.has(h)){c.add(h);var y=QD.bind(null,a,h);h.then(y,y)}})}function qn(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],b=a,O=s,C=O;e:for(;C!==null;){switch(C.tag){case 27:if(mi(C.type)){St=C.stateNode,Un=!1;break e}break;case 5:St=C.stateNode,Un=!1;break e;case 3:case 4:St=C.stateNode.containerInfo,Un=!0;break e}C=C.return}if(St===null)throw Error(r(160));C1(b,O,y),St=null,Un=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)P1(s,a),s=s.sibling}var zr=null;function P1(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:qn(s,a),Bn(a),h&4&&(oi(3,a,a.return),tc(3,a),oi(5,a,a.return));break;case 1:qn(s,a),Bn(a),h&512&&(Yt||c===null||Zr(c,c.return)),h&64&&_a&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=zr;if(qn(s,a),Bn(a),h&512&&(Yt||c===null||Zr(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Cl]||b[gn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),xn(b,h,c),b[gn]=a,ln(b),h=b;break e;case"link":var O=PS("link","href",y).get(h+(c.href||""));if(O){for(var C=0;C<O.length;C++)if(b=O[C],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(C,1);break t}}b=y.createElement(h),xn(b,h,c),y.head.appendChild(b);break;case"meta":if(O=PS("meta","content",y).get(h+(c.content||""))){for(C=0;C<O.length;C++)if(b=O[C],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(C,1);break t}}b=y.createElement(h),xn(b,h,c),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[gn]=a,ln(b),h=b}a.stateNode=h}else MS(y,a.type,a.stateNode);else a.stateNode=kS(y,h,a.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?MS(y,a.type,a.stateNode):kS(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Op(a,a.memoizedProps,c.memoizedProps)}break;case 27:qn(s,a),Bn(a),h&512&&(Yt||c===null||Zr(c,c.return)),c!==null&&h&4&&Op(a,a.memoizedProps,c.memoizedProps);break;case 5:if(qn(s,a),Bn(a),h&512&&(Yt||c===null||Zr(c,c.return)),a.flags&32){y=a.stateNode;try{Qs(y,"")}catch(ye){st(a,a.return,ye)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,Op(a,y,c!==null?c.memoizedProps:y)),h&1024&&(Ap=!0);break;case 6:if(qn(s,a),Bn(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(ye){st(a,a.return,ye)}}break;case 3:if(kd=null,y=zr,zr=Cd(s.containerInfo),qn(s,a),zr=y,Bn(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Co(s.containerInfo)}catch(ye){st(a,a.return,ye)}Ap&&(Ap=!1,M1(a));break;case 4:h=zr,zr=Cd(a.stateNode.containerInfo),qn(s,a),Bn(a),zr=h;break;case 12:qn(s,a),Bn(a);break;case 31:qn(s,a),Bn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,pd(a,h)));break;case 13:qn(s,a),Bn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(vd=Ye()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,pd(a,h)));break;case 22:y=a.memoizedState!==null;var I=c!==null&&c.memoizedState!==null,Y=_a,re=Yt;if(_a=Y||y,Yt=re||I,qn(s,a),Yt=re,_a=Y,Bn(a),h&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||I||_a||Yt||ns(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){I=c=s;try{if(b=I.stateNode,y)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{C=I.stateNode;var le=I.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ye){st(I,I.return,ye)}}}else if(s.tag===6){if(c===null){I=s;try{I.stateNode.nodeValue=y?"":I.memoizedProps}catch(ye){st(I,I.return,ye)}}}else if(s.tag===18){if(c===null){I=s;try{var J=I.stateNode;y?wS(J,!0):wS(I.stateNode,!1)}catch(ye){st(I,I.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,pd(a,c))));break;case 19:qn(s,a),Bn(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,pd(a,h)));break;case 30:break;case 21:break;default:qn(s,a),Bn(a)}}function Bn(a){var s=a.flags;if(s&2){try{for(var c,h=a.return;h!==null;){if(j1(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=Ep(a);md(a,b,y);break;case 5:var O=c.stateNode;c.flags&32&&(Qs(O,""),c.flags&=-33);var C=Ep(a);md(a,C,O);break;case 3:case 4:var I=c.stateNode.containerInfo,Y=Ep(a);Np(a,Y,I);break;default:throw Error(r(161))}}catch(re){st(a,a.return,re)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function M1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;M1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Sa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N1(a,s.alternate,s),s=s.sibling}function ns(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:oi(4,s,s.return),ns(s);break;case 1:Zr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&w1(s,s.return,c),ns(s);break;case 27:dc(s.stateNode);case 26:case 5:Zr(s,s.return),ns(s);break;case 22:s.memoizedState===null&&ns(s);break;case 30:ns(s);break;default:ns(s)}a=a.sibling}}function ja(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=a,b=s,O=b.flags;switch(b.tag){case 0:case 11:case 15:ja(y,b,c),tc(4,b);break;case 1:if(ja(y,b,c),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){st(h,h.return,Y)}if(h=b,y=h.updateQueue,y!==null){var C=h.stateNode;try{var I=y.shared.hiddenCallbacks;if(I!==null)for(y.shared.hiddenCallbacks=null,y=0;y<I.length;y++)uw(I[y],C)}catch(Y){st(h,h.return,Y)}}c&&O&64&&_1(b),nc(b,b.return);break;case 27:O1(b);case 26:case 5:ja(y,b,c),c&&h===null&&O&4&&S1(b),nc(b,b.return);break;case 12:ja(y,b,c);break;case 31:ja(y,b,c),c&&O&4&&T1(y,b);break;case 13:ja(y,b,c),c&&O&4&&k1(y,b);break;case 22:b.memoizedState===null&&ja(y,b,c),nc(b,b.return);break;case 30:break;default:ja(y,b,c)}s=s.sibling}}function Cp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Bl(c))}function Tp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bl(a))}function $r(a,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)R1(a,s,c,h),s=s.sibling}function R1(a,s,c,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:$r(a,s,c,h),y&2048&&tc(9,s);break;case 1:$r(a,s,c,h);break;case 3:$r(a,s,c,h),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Bl(a)));break;case 12:if(y&2048){$r(a,s,c,h),a=s.stateNode;try{var b=s.memoizedProps,O=b.id,C=b.onPostCommit;typeof C=="function"&&C(O,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(I){st(s,s.return,I)}}else $r(a,s,c,h);break;case 31:$r(a,s,c,h);break;case 13:$r(a,s,c,h);break;case 23:break;case 22:b=s.stateNode,O=s.alternate,s.memoizedState!==null?b._visibility&2?$r(a,s,c,h):rc(a,s):b._visibility&2?$r(a,s,c,h):(b._visibility|=2,yo(a,s,c,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Cp(O,s);break;case 24:$r(a,s,c,h),y&2048&&Tp(s.alternate,s);break;default:$r(a,s,c,h)}}function yo(a,s,c,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,O=s,C=c,I=h,Y=O.flags;switch(O.tag){case 0:case 11:case 15:yo(b,O,C,I,y),tc(8,O);break;case 23:break;case 22:var re=O.stateNode;O.memoizedState!==null?re._visibility&2?yo(b,O,C,I,y):rc(b,O):(re._visibility|=2,yo(b,O,C,I,y)),y&&Y&2048&&Cp(O.alternate,O);break;case 24:yo(b,O,C,I,y),y&&Y&2048&&Tp(O.alternate,O);break;default:yo(b,O,C,I,y)}s=s.sibling}}function rc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,h=s,y=h.flags;switch(h.tag){case 22:rc(c,h),y&2048&&Cp(h.alternate,h);break;case 24:rc(c,h),y&2048&&Tp(h.alternate,h);break;default:rc(c,h)}s=s.sibling}}var ac=8192;function bo(a,s,c){if(a.subtreeFlags&ac)for(a=a.child;a!==null;)D1(a,s,c),a=a.sibling}function D1(a,s,c){switch(a.tag){case 26:bo(a,s,c),a.flags&ac&&a.memoizedState!==null&&A3(c,zr,a.memoizedState,a.memoizedProps);break;case 5:bo(a,s,c);break;case 3:case 4:var h=zr;zr=Cd(a.stateNode.containerInfo),bo(a,s,c),zr=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=ac,ac=16777216,bo(a,s,c),ac=h):bo(a,s,c));break;default:bo(a,s,c)}}function I1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ic(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];cn=h,z1(h,a)}I1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)L1(a),a=a.sibling}function L1(a){switch(a.tag){case 0:case 11:case 15:ic(a),a.flags&2048&&oi(9,a,a.return);break;case 3:ic(a);break;case 12:ic(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,gd(a)):ic(a);break;default:ic(a)}}function gd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];cn=h,z1(h,a)}I1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:oi(8,s,s.return),gd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,gd(s));break;default:gd(s)}a=a.sibling}}function z1(a,s){for(;cn!==null;){var c=cn;switch(c.tag){case 0:case 11:case 15:oi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Bl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,cn=h;else e:for(c=a;cn!==null;){h=cn;var y=h.sibling,b=h.return;if(A1(h),h===c){cn=null;break e}if(y!==null){y.return=b,cn=y;break e}cn=b}}}var HD={getCacheForType:function(a){var s=yn(Ft),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return yn(Ft).controller.signal}},FD=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,Ue=null,Fe=0,it=0,nr=null,li=!1,xo=!1,kp=!1,Oa=0,It=0,ci=0,rs=0,Pp=0,rr=0,_o=0,sc=null,Hn=null,Mp=!1,vd=0,$1=0,yd=1/0,bd=null,ui=null,Jt=0,di=null,wo=null,Ea=0,Rp=0,Dp=null,U1=null,oc=0,Ip=null;function ar(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:L.T!==null?Bp():n_()}function q1(){if(rr===0)if((Fe&536870912)===0||Ve){var a=on;on<<=1,(on&3932160)===0&&(on=262144),rr=a}else rr=536870912;return a=er.current,a!==null&&(a.flags|=32),rr}function Fn(a,s,c){(a===pt&&(it===2||it===9)||a.cancelPendingCommit!==null)&&(So(a,0),fi(a,Fe,rr,!1)),Al(a,c),((nt&2)===0||a!==pt)&&(a===pt&&((nt&2)===0&&(rs|=c),It===4&&fi(a,Fe,rr,!1)),ea(a))}function B1(a,s,c){if((nt&6)!==0)throw Error(r(327));var h=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Nl(a,s),y=h?YD(a,s):zp(a,s,!0),b=h;do{if(y===0){xo&&!h&&fi(a,s,0,!1);break}else{if(c=a.current.alternate,b&&!KD(c)){y=zp(a,s,!1),b=!1;continue}if(y===2){if(b=s,a.errorRecoveryDisabledLanes&b)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var C=a;y=sc;var I=C.current.memoizedState.isDehydrated;if(I&&(So(C,O).flags|=256),O=zp(C,O,!1),O!==2){if(kp&&!I){C.errorRecoveryDisabledLanes|=b,rs|=b,y=4;break e}b=Hn,Hn=y,b!==null&&(Hn===null?Hn=b:Hn.push.apply(Hn,b))}y=O}if(b=!1,y!==2)continue}}if(y===1){So(a,0),fi(a,s,0,!0);break}e:{switch(h=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fi(h,s,rr,!li);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=vd+300-Ye(),10<y)){if(fi(h,s,rr,!li),Fs(h,0,!0)!==0)break e;Ea=s,h.timeoutHandle=bS(H1.bind(null,h,c,Hn,bd,Mp,s,rr,rs,_o,li,b,"Throttled",-0,0),y);break e}H1(h,c,Hn,bd,Mp,s,rr,rs,_o,li,b,null,-0,0)}}break}while(!0);ea(a)}function H1(a,s,c,h,y,b,O,C,I,Y,re,le,W,J){if(a.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:da},D1(s,b,le);var ye=(b&62914560)===b?vd-Ye():(b&4194048)===b?$1-Ye():0;if(ye=C3(le,ye),ye!==null){Ea=b,a.cancelPendingCommit=ye(Q1.bind(null,a,s,b,c,h,y,O,C,I,re,le,null,W,J)),fi(a,b,O,!Y);return}}Q1(a,s,b,c,h,y,O,C,I)}function KD(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],b=y.getSnapshot;y=y.value;try{if(!Jn(b(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fi(a,s,c,h){s&=~Pp,s&=~rs,a.suspendedLanes|=s,a.pingedLanes&=~s,h&&(a.warmLanes|=s),h=a.expirationTimes;for(var y=s;0<y;){var b=31-vt(y),O=1<<b;h[b]=-1,y&=~O}c!==0&&Zx(a,c,s)}function xd(){return(nt&6)===0?(lc(0),!1):!0}function Lp(){if(Ue!==null){if(it===0)var a=Ue.return;else a=Ue,pa=Vi=null,Zm(a),ho=null,Fl=0,a=Ue;for(;a!==null;)x1(a.alternate,a),a=a.return;Ue=null}}function So(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,d3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ea=0,Lp(),pt=a,Ue=c=ha(a.current,null),Fe=s,it=0,nr=null,li=!1,xo=Nl(a,s),kp=!1,_o=rr=Pp=rs=ci=It=0,Hn=sc=null,Mp=!1,(s&8)!==0&&(s|=s&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=s;0<h;){var y=31-vt(h),b=1<<y;s|=a[y],h&=~b}return Oa=s,qu(),c}function F1(a,s){De=null,L.H=Jl,s===fo||s===Wu?(s=sw(),it=3):s===qm?(s=sw(),it=4):it=s===pp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nr=s,Ue===null&&(It=1,cd(a,yr(s,a.current)))}function K1(){var a=er.current;return a===null?!0:(Fe&4194048)===Fe?wr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?a===wr:!1}function G1(){var a=L.H;return L.H=Jl,a===null?Jl:a}function Y1(){var a=L.A;return L.A=HD,a}function _d(){It=4,li||(Fe&4194048)!==Fe&&er.current!==null||(xo=!0),(ci&134217727)===0&&(rs&134217727)===0||pt===null||fi(pt,Fe,rr,!1)}function zp(a,s,c){var h=nt;nt|=2;var y=G1(),b=Y1();(pt!==a||Fe!==s)&&(bd=null,So(a,s)),s=!1;var O=It;e:do try{if(it!==0&&Ue!==null){var C=Ue,I=nr;switch(it){case 8:Lp(),O=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var Y=it;if(it=0,nr=null,jo(a,C,I,Y),c&&xo){O=0;break e}break;default:Y=it,it=0,nr=null,jo(a,C,I,Y)}}GD(),O=It;break}catch(re){F1(a,re)}while(!0);return s&&a.shellSuspendCounter++,pa=Vi=null,nt=h,L.H=y,L.A=b,Ue===null&&(pt=null,Fe=0,qu()),O}function GD(){for(;Ue!==null;)V1(Ue)}function YD(a,s){var c=nt;nt|=2;var h=G1(),y=Y1();pt!==a||Fe!==s?(bd=null,yd=Ye()+500,So(a,s)):xo=Nl(a,s);e:do try{if(it!==0&&Ue!==null){s=Ue;var b=nr;t:switch(it){case 1:it=0,nr=null,jo(a,s,b,1);break;case 2:case 9:if(aw(b)){it=0,nr=null,W1(s);break}s=function(){it!==2&&it!==9||pt!==a||(it=7),ea(a)},b.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:aw(b)?(it=0,nr=null,W1(s)):(it=0,nr=null,jo(a,s,b,7));break;case 5:var O=null;switch(Ue.tag){case 26:O=Ue.memoizedState;case 5:case 27:var C=Ue;if(O?RS(O):C.stateNode.complete){it=0,nr=null;var I=C.sibling;if(I!==null)Ue=I;else{var Y=C.return;Y!==null?(Ue=Y,wd(Y)):Ue=null}break t}}it=0,nr=null,jo(a,s,b,5);break;case 6:it=0,nr=null,jo(a,s,b,6);break;case 8:Lp(),It=6;break e;default:throw Error(r(462))}}VD();break}catch(re){F1(a,re)}while(!0);return pa=Vi=null,L.H=h,L.A=y,nt=c,Ue!==null?0:(pt=null,Fe=0,qu(),It)}function VD(){for(;Ue!==null&&!ht();)V1(Ue)}function V1(a){var s=y1(a.alternate,a,Oa);a.memoizedProps=a.pendingProps,s===null?wd(a):Ue=s}function W1(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=f1(c,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=f1(c,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:Zm(s);default:x1(c,s),s=Ue=Y_(s,Oa),s=y1(c,s,Oa)}a.memoizedProps=a.pendingProps,s===null?wd(a):Ue=s}function jo(a,s,c,h){pa=Vi=null,Zm(s),ho=null,Fl=0;var y=s.return;try{if(ID(a,y,s,c,Fe)){It=1,cd(a,yr(c,a.current)),Ue=null;return}}catch(b){if(y!==null)throw Ue=y,b;It=1,cd(a,yr(c,a.current)),Ue=null;return}s.flags&32768?(Ve||h===1?a=!0:xo||(Fe&536870912)!==0?a=!1:(li=a=!0,(h===2||h===9||h===3||h===6)&&(h=er.current,h!==null&&h.tag===13&&(h.flags|=16384))),X1(s,a)):wd(s)}function wd(a){var s=a;do{if((s.flags&32768)!==0){X1(s,li);return}a=s.return;var c=$D(s.alternate,s,Oa);if(c!==null){Ue=c;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=a}while(s!==null);It===0&&(It=5)}function X1(a,s){do{var c=UD(a.alternate,a);if(c!==null){c.flags&=32767,Ue=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=c}while(a!==null);It=6,Ue=null}function Q1(a,s,c,h,y,b,O,C,I){a.cancelPendingCommit=null;do Sd();while(Jt!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Em,NR(a,c,b,O,C,I),a===pt&&(Ue=pt=null,Fe=0),wo=s,di=a,Ea=c,Rp=b,Dp=y,U1=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,JD(ue,function(){return nS(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=L.T,L.T=null,y=V.p,V.p=2,O=nt,nt|=4;try{qD(a,s,c)}finally{nt=O,V.p=y,L.T=h}}Jt=1,J1(),Z1(),eS()}}function J1(){if(Jt===1){Jt=0;var a=di,s=wo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null;var h=V.p;V.p=2;var y=nt;nt|=4;try{P1(s,a);var b=Xp,O=z_(a.containerInfo),C=b.focusedElem,I=b.selectionRange;if(O!==C&&C&&C.ownerDocument&&L_(C.ownerDocument.documentElement,C)){if(I!==null&&_m(C)){var Y=I.start,re=I.end;if(re===void 0&&(re=Y),"selectionStart"in C)C.selectionStart=Y,C.selectionEnd=Math.min(re,C.value.length);else{var le=C.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var J=W.getSelection(),ye=C.textContent.length,Ce=Math.min(I.start,ye),dt=I.end===void 0?Ce:Math.min(I.end,ye);!J.extend&&Ce>dt&&(O=dt,dt=Ce,Ce=O);var B=I_(C,Ce),$=I_(C,dt);if(B&&$&&(J.rangeCount!==1||J.anchorNode!==B.node||J.anchorOffset!==B.offset||J.focusNode!==$.node||J.focusOffset!==$.offset)){var G=le.createRange();G.setStart(B.node,B.offset),J.removeAllRanges(),Ce>dt?(J.addRange(G),J.extend($.node,$.offset)):(G.setEnd($.node,$.offset),J.addRange(G))}}}}for(le=[],J=C;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<le.length;C++){var se=le[C];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Dd=!!Wp,Xp=Wp=null}finally{nt=y,V.p=h,L.T=c}}a.current=s,Jt=2}}function Z1(){if(Jt===2){Jt=0;var a=di,s=wo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=L.T,L.T=null;var h=V.p;V.p=2;var y=nt;nt|=4;try{N1(a,s.alternate,s)}finally{nt=y,V.p=h,L.T=c}}Jt=3}}function eS(){if(Jt===4||Jt===3){Jt=0,mt();var a=di,s=wo,c=Ea,h=U1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,wo=di=null,tS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ui=null),nm(c),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=L.T,y=V.p,V.p=2,L.T=null;try{for(var b=a.onRecoverableError,O=0;O<h.length;O++){var C=h[O];b(C.value,{componentStack:C.stack})}}finally{L.T=s,V.p=y}}(Ea&3)!==0&&Sd(),ea(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Ip?oc++:(oc=0,Ip=a):oc=0,lc(0)}}function tS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Bl(s)))}function Sd(){return J1(),Z1(),eS(),nS()}function nS(){if(Jt!==5)return!1;var a=di,s=Rp;Rp=0;var c=nm(Ea),h=L.T,y=V.p;try{V.p=32>c?32:c,L.T=null,c=Dp,Dp=null;var b=di,O=Ea;if(Jt=0,wo=di=null,Ea=0,(nt&6)!==0)throw Error(r(331));var C=nt;if(nt|=4,L1(b.current),R1(b,b.current,O,c),nt=C,lc(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(kt,b)}catch{}return!0}finally{V.p=y,L.T=h,tS(a,s)}}function rS(a,s,c){s=yr(c,s),s=mp(a.stateNode,s,2),a=ai(a,s,2),a!==null&&(Al(a,2),ea(a))}function st(a,s,c){if(a.tag===3)rS(a,a,c);else for(;s!==null;){if(s.tag===3){rS(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ui===null||!ui.has(h))){a=yr(c,a),c=a1(2),h=ai(s,c,2),h!==null&&(i1(c,h,s,a),Al(h,2),ea(h));break}}s=s.return}}function $p(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new FD;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(c)||(kp=!0,y.add(c),a=WD.bind(null,a,s,c),s.then(a,a))}function WD(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,pt===a&&(Fe&c)===c&&(It===4||It===3&&(Fe&62914560)===Fe&&300>Ye()-vd?(nt&2)===0&&So(a,0):Pp|=c,_o===Fe&&(_o=0)),ea(a)}function aS(a,s){s===0&&(s=Jx()),a=Ki(a,s),a!==null&&(Al(a,s),ea(a))}function XD(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),aS(a,c)}function QD(a,s){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),aS(a,c)}function JD(a,s){return Ge(a,s)}var jd=null,Oo=null,Up=!1,Od=!1,qp=!1,hi=0;function ea(a){a!==Oo&&a.next===null&&(Oo===null?jd=Oo=a:Oo=Oo.next=a),Od=!0,Up||(Up=!0,e3())}function lc(a,s){if(!qp&&Od){qp=!0;do for(var c=!1,h=jd;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var O=h.suspendedLanes,C=h.pingedLanes;b=(1<<31-vt(42|a)+1)-1,b&=y&~(O&~C),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,lS(h,b))}else b=Fe,b=Fs(h,h===pt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Nl(h,b)||(c=!0,lS(h,b));h=h.next}while(c);qp=!1}}function ZD(){iS()}function iS(){Od=Up=!1;var a=0;hi!==0&&u3()&&(a=hi);for(var s=Ye(),c=null,h=jd;h!==null;){var y=h.next,b=sS(h,s);b===0?(h.next=null,c===null?jd=y:c.next=y,y===null&&(Oo=c)):(c=h,(a!==0||(b&3)!==0)&&(Od=!0)),h=y}Jt!==0&&Jt!==5||lc(a),hi!==0&&(hi=0)}function sS(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var O=31-vt(b),C=1<<O,I=y[O];I===-1?((C&c)===0||(C&h)!==0)&&(y[O]=ER(C,s)):I<=s&&(a.expiredLanes|=C),b&=~C}if(s=pt,c=Fe,c=Fs(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===s&&(it===2||it===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&We(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Nl(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(h!==null&&We(h),nm(c)){case 2:case 8:c=Ln;break;case 32:c=ue;break;case 268435456:c=Ee;break;default:c=ue}return h=oS.bind(null,a),c=Ge(c,h),a.callbackPriority=s,a.callbackNode=c,s}return h!==null&&h!==null&&We(h),a.callbackPriority=2,a.callbackNode=null,2}function oS(a,s){if(Jt!==0&&Jt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Sd()&&a.callbackNode!==c)return null;var h=Fe;return h=Fs(a,a===pt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(B1(a,h,s),sS(a,Ye()),a.callbackNode!=null&&a.callbackNode===c?oS.bind(null,a):null)}function lS(a,s){if(Sd())return null;B1(a,s,!0)}function e3(){f3(function(){(nt&6)!==0?Ge(kn,ZD):iS()})}function Bp(){if(hi===0){var a=co;a===0&&(a=Lt,Lt<<=1,(Lt&261888)===0&&(Lt=256)),hi=a}return hi}function cS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Mu(""+a)}function uS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function t3(a,s,c,h,y){if(s==="submit"&&c&&c.stateNode===y){var b=cS((y[zn]||null).action),O=h.submitter;O&&(s=(s=O[zn]||null)?cS(s.formAction):O.getAttribute("formAction"),s!==null&&(b=s,O=null));var C=new Lu("action","action",null,h,y);a.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(hi!==0){var I=O?uS(y,O):new FormData(y);lp(c,{pending:!0,data:I,method:y.method,action:b},null,I)}}else typeof b=="function"&&(C.preventDefault(),I=O?uS(y,O):new FormData(y),lp(c,{pending:!0,data:I,method:y.method,action:b},b,I))},currentTarget:y}]})}}for(var Hp=0;Hp<Om.length;Hp++){var Fp=Om[Hp],n3=Fp.toLowerCase(),r3=Fp[0].toUpperCase()+Fp.slice(1);Lr(n3,"on"+r3)}Lr(q_,"onAnimationEnd"),Lr(B_,"onAnimationIteration"),Lr(H_,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(bD,"onTransitionRun"),Lr(xD,"onTransitionStart"),Lr(_D,"onTransitionCancel"),Lr(F_,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function dS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var b=void 0;if(s)for(var O=h.length-1;0<=O;O--){var C=h[O],I=C.instance,Y=C.currentTarget;if(C=C.listener,I!==b&&y.isPropagationStopped())break e;b=C,y.currentTarget=Y;try{b(y)}catch(re){Uu(re)}y.currentTarget=null,b=I}else for(O=0;O<h.length;O++){if(C=h[O],I=C.instance,Y=C.currentTarget,C=C.listener,I!==b&&y.isPropagationStopped())break e;b=C,y.currentTarget=Y;try{b(y)}catch(re){Uu(re)}y.currentTarget=null,b=I}}}}function qe(a,s){var c=s[rm];c===void 0&&(c=s[rm]=new Set);var h=a+"__bubble";c.has(h)||(fS(s,a,2,!1),c.add(h))}function Kp(a,s,c){var h=0;s&&(h|=4),fS(c,a,h,s)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Gp(a){if(!a[Ed]){a[Ed]=!0,i_.forEach(function(c){c!=="selectionchange"&&(a3.has(c)||Kp(c,!1,a),Kp(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ed]||(s[Ed]=!0,Kp("selectionchange",!1,s))}}function fS(a,s,c,h){switch(qS(s)){case 2:var y=P3;break;case 8:y=M3;break;default:y=og}c=y.bind(null,s,c,a),y=void 0,!fm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function Yp(a,s,c,h,y){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var C=h.stateNode.containerInfo;if(C===y)break;if(O===4)for(O=h.return;O!==null;){var I=O.tag;if((I===3||I===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;C!==null;){if(O=Gs(C),O===null)return;if(I=O.tag,I===5||I===6||I===26||I===27){h=b=O;continue e}C=C.parentNode}}h=h.return}v_(function(){var Y=b,re=um(c),le=[];e:{var W=K_.get(a);if(W!==void 0){var J=Lu,ye=a;switch(a){case"keypress":if(Du(c)===0)break e;case"keydown":case"keyup":J=QR;break;case"focusin":ye="focus",J=gm;break;case"focusout":ye="blur",J=gm;break;case"beforeblur":case"afterblur":J=gm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=x_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=eD;break;case q_:case B_:case H_:J=BR;break;case F_:J=nD;break;case"scroll":case"scrollend":J=LR;break;case"wheel":J=aD;break;case"copy":case"cut":case"paste":J=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=w_;break;case"toggle":case"beforetoggle":J=sD}var Ce=(s&4)!==0,dt=!Ce&&(a==="scroll"||a==="scrollend"),B=Ce?W!==null?W+"Capture":null:W;Ce=[];for(var $=Y,G;$!==null;){var se=$;if(G=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||G===null||B===null||(se=kl($,B),se!=null&&Ce.push(uc($,se,G))),dt)break;$=$.return}0<Ce.length&&(W=new J(W,ye,null,c,re),le.push({event:W,listeners:Ce}))}}if((s&7)===0){e:{if(W=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",W&&c!==cm&&(ye=c.relatedTarget||c.fromElement)&&(Gs(ye)||ye[Ks]))break e;if((J||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,J?(ye=c.relatedTarget||c.toElement,J=Y,ye=ye?Gs(ye):null,ye!==null&&(dt=o(ye),Ce=ye.tag,ye!==dt||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):(J=null,ye=Y),J!==ye)){if(Ce=x_,se="onMouseLeave",B="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=w_,se="onPointerLeave",B="onPointerEnter",$="pointer"),dt=J==null?W:Tl(J),G=ye==null?W:Tl(ye),W=new Ce(se,$+"leave",J,c,re),W.target=dt,W.relatedTarget=G,se=null,Gs(re)===Y&&(Ce=new Ce(B,$+"enter",ye,c,re),Ce.target=G,Ce.relatedTarget=dt,se=Ce),dt=se,J&&ye)t:{for(Ce=i3,B=J,$=ye,G=0,se=B;se;se=Ce(se))G++;se=0;for(var Oe=$;Oe;Oe=Ce(Oe))se++;for(;0<G-se;)B=Ce(B),G--;for(;0<se-G;)$=Ce($),se--;for(;G--;){if(B===$||$!==null&&B===$.alternate){Ce=B;break t}B=Ce(B),$=Ce($)}Ce=null}else Ce=null;J!==null&&hS(le,W,J,Ce,!1),ye!==null&&dt!==null&&hS(le,dt,ye,Ce,!0)}}e:{if(W=Y?Tl(Y):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var Qe=T_;else if(A_(W))if(k_)Qe=gD;else{Qe=mD;var _e=hD}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&lm(Y.elementType)&&(Qe=T_):Qe=pD;if(Qe&&(Qe=Qe(a,Y))){C_(le,Qe,c,re);break e}_e&&_e(a,W,Y),a==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&om(W,"number",W.value)}switch(_e=Y?Tl(Y):window,a){case"focusin":(A_(_e)||_e.contentEditable==="true")&&(to=_e,wm=Y,$l=null);break;case"focusout":$l=wm=to=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,$_(le,c,re);break;case"selectionchange":if(yD)break;case"keydown":case"keyup":$_(le,c,re)}var Ie;if(ym)e:{switch(a){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else eo?E_(a,c)&&(Ke="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(S_&&c.locale!=="ko"&&(eo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&eo&&(Ie=y_()):(Qa=re,hm="value"in Qa?Qa.value:Qa.textContent,eo=!0)),_e=Nd(Y,Ke),0<_e.length&&(Ke=new __(Ke,a,null,c,re),le.push({event:Ke,listeners:_e}),Ie?Ke.data=Ie:(Ie=N_(c),Ie!==null&&(Ke.data=Ie)))),(Ie=lD?cD(a,c):uD(a,c))&&(Ke=Nd(Y,"onBeforeInput"),0<Ke.length&&(_e=new __("onBeforeInput","beforeinput",null,c,re),le.push({event:_e,listeners:Ke}),_e.data=Ie)),t3(le,a,Y,c,re)}dS(le,s)})}function uc(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Nd(a,s){for(var c=s+"Capture",h=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=kl(a,c),y!=null&&h.unshift(uc(a,y,b)),y=kl(a,s),y!=null&&h.push(uc(a,y,b))),a.tag===3)return h;a=a.return}return[]}function i3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function hS(a,s,c,h,y){for(var b=s._reactName,O=[];c!==null&&c!==h;){var C=c,I=C.alternate,Y=C.stateNode;if(C=C.tag,I!==null&&I===h)break;C!==5&&C!==26&&C!==27||Y===null||(I=Y,y?(Y=kl(c,b),Y!=null&&O.unshift(uc(c,Y,I))):y||(Y=kl(c,b),Y!=null&&O.push(uc(c,Y,I)))),c=c.return}O.length!==0&&a.push({event:s,listeners:O})}var s3=/\r\n?/g,o3=/\u0000|\uFFFD/g;function mS(a){return(typeof a=="string"?a:""+a).replace(s3,`
`).replace(o3,"")}function pS(a,s){return s=mS(s),mS(a)===s}function ut(a,s,c,h,y,b){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Qs(a,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Qs(a,""+h);break;case"className":ku(a,"class",h);break;case"tabIndex":ku(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ku(a,c,h);break;case"style":p_(a,h,b);break;case"data":if(s!=="object"){ku(a,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Mu(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&ut(a,s,"name",y.name,y,null),ut(a,s,"formEncType",y.formEncType,y,null),ut(a,s,"formMethod",y.formMethod,y,null),ut(a,s,"formTarget",y.formTarget,y,null)):(ut(a,s,"encType",y.encType,y,null),ut(a,s,"method",y.method,y,null),ut(a,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=Mu(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=da);break;case"onScroll":h!=null&&qe("scroll",a);break;case"onScrollEnd":h!=null&&qe("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=Mu(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":qe("beforetoggle",a),qe("toggle",a),Tu(a,"popover",h);break;case"xlinkActuate":ua(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ua(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ua(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ua(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ua(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ua(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ua(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ua(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ua(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Tu(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=DR.get(c)||c,Tu(a,c,h))}}function Vp(a,s,c,h,y,b){switch(c){case"style":p_(a,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Qs(a,h):(typeof h=="number"||typeof h=="bigint")&&Qs(a,""+h);break;case"onScroll":h!=null&&qe("scroll",a);break;case"onScrollEnd":h!=null&&qe("scrollend",a);break;case"onClick":h!=null&&(a.onclick=da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!s_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),b=a[zn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(s,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Tu(a,c,h)}}}function xn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",a),qe("load",a);var h=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var O=c[b];if(O!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(a,s,b,O,c,null)}}y&&ut(a,s,"srcSet",c.srcSet,c,null),h&&ut(a,s,"src",c.src,c,null);return;case"input":qe("invalid",a);var C=b=O=y=null,I=null,Y=null;for(h in c)if(c.hasOwnProperty(h)){var re=c[h];if(re!=null)switch(h){case"name":y=re;break;case"type":O=re;break;case"checked":I=re;break;case"defaultChecked":Y=re;break;case"value":b=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:ut(a,s,h,re,c,null)}}d_(a,b,C,I,Y,O,y,!1);return;case"select":qe("invalid",a),h=O=b=null;for(y in c)if(c.hasOwnProperty(y)&&(C=c[y],C!=null))switch(y){case"value":b=C;break;case"defaultValue":O=C;break;case"multiple":h=C;default:ut(a,s,y,C,c,null)}s=b,c=O,a.multiple=!!h,s!=null?Xs(a,!!h,s,!1):c!=null&&Xs(a,!!h,c,!0);return;case"textarea":qe("invalid",a),b=y=h=null;for(O in c)if(c.hasOwnProperty(O)&&(C=c[O],C!=null))switch(O){case"value":h=C;break;case"defaultValue":y=C;break;case"children":b=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ut(a,s,O,C,c,null)}h_(a,h,y,b);return;case"option":for(I in c)if(c.hasOwnProperty(I)&&(h=c[I],h!=null))switch(I){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ut(a,s,I,h,c,null)}return;case"dialog":qe("beforetoggle",a),qe("toggle",a),qe("cancel",a),qe("close",a);break;case"iframe":case"object":qe("load",a);break;case"video":case"audio":for(h=0;h<cc.length;h++)qe(cc[h],a);break;case"image":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"embed":case"source":case"link":qe("error",a),qe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in c)if(c.hasOwnProperty(Y)&&(h=c[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(a,s,Y,h,c,null)}return;default:if(lm(s)){for(re in c)c.hasOwnProperty(re)&&(h=c[re],h!==void 0&&Vp(a,s,re,h,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(h=c[C],h!=null&&ut(a,s,C,h,c,null))}function l3(a,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,O=null,C=null,I=null,Y=null,re=null;for(J in c){var le=c[J];if(c.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":I=le;default:h.hasOwnProperty(J)||ut(a,s,J,null,h,le)}}for(var W in h){var J=h[W];if(le=c[W],h.hasOwnProperty(W)&&(J!=null||le!=null))switch(W){case"type":b=J;break;case"name":y=J;break;case"checked":Y=J;break;case"defaultChecked":re=J;break;case"value":O=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==le&&ut(a,s,W,J,h,le)}}sm(a,O,C,I,Y,re,b,y);return;case"select":J=O=C=W=null;for(b in c)if(I=c[b],c.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":J=I;default:h.hasOwnProperty(b)||ut(a,s,b,null,h,I)}for(y in h)if(b=h[y],I=c[y],h.hasOwnProperty(y)&&(b!=null||I!=null))switch(y){case"value":W=b;break;case"defaultValue":C=b;break;case"multiple":O=b;default:b!==I&&ut(a,s,y,b,h,I)}s=C,c=O,h=J,W!=null?Xs(a,!!c,W,!1):!!h!=!!c&&(s!=null?Xs(a,!!c,s,!0):Xs(a,!!c,c?[]:"",!1));return;case"textarea":J=W=null;for(C in c)if(y=c[C],c.hasOwnProperty(C)&&y!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ut(a,s,C,null,h,y)}for(O in h)if(y=h[O],b=c[O],h.hasOwnProperty(O)&&(y!=null||b!=null))switch(O){case"value":W=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&ut(a,s,O,y,h,b)}f_(a,W,J);return;case"option":for(var ye in c)if(W=c[ye],c.hasOwnProperty(ye)&&W!=null&&!h.hasOwnProperty(ye))switch(ye){case"selected":a.selected=!1;break;default:ut(a,s,ye,null,h,W)}for(I in h)if(W=h[I],J=c[I],h.hasOwnProperty(I)&&W!==J&&(W!=null||J!=null))switch(I){case"selected":a.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ut(a,s,I,W,h,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in c)W=c[Ce],c.hasOwnProperty(Ce)&&W!=null&&!h.hasOwnProperty(Ce)&&ut(a,s,Ce,null,h,W);for(Y in h)if(W=h[Y],J=c[Y],h.hasOwnProperty(Y)&&W!==J&&(W!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:ut(a,s,Y,W,h,J)}return;default:if(lm(s)){for(var dt in c)W=c[dt],c.hasOwnProperty(dt)&&W!==void 0&&!h.hasOwnProperty(dt)&&Vp(a,s,dt,void 0,h,W);for(re in h)W=h[re],J=c[re],!h.hasOwnProperty(re)||W===J||W===void 0&&J===void 0||Vp(a,s,re,W,h,J);return}}for(var B in c)W=c[B],c.hasOwnProperty(B)&&W!=null&&!h.hasOwnProperty(B)&&ut(a,s,B,null,h,W);for(le in h)W=h[le],J=c[le],!h.hasOwnProperty(le)||W===J||W==null&&J==null||ut(a,s,le,W,h,J)}function gS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],b=y.transferSize,O=y.initiatorType,C=y.duration;if(b&&C&&gS(O)){for(O=0,C=y.responseEnd,h+=1;h<c.length;h++){var I=c[h],Y=I.startTime;if(Y>C)break;var re=I.transferSize,le=I.initiatorType;re&&gS(le)&&(I=I.responseEnd,O+=re*(I<C?1:(C-Y)/(I-Y)))}if(--h,s+=8*(b+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Wp=null,Xp=null;function Ad(a){return a.nodeType===9?a:a.ownerDocument}function vS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Qp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jp=null;function u3(){var a=window.event;return a&&a.type==="popstate"?a===Jp?!1:(Jp=a,!0):(Jp=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,d3=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,f3=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(a){return xS.resolve(null).then(a).catch(h3)}:bS;function h3(a){setTimeout(function(){throw a})}function mi(a){return a==="head"}function _S(a,s){var c=s,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),Co(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")dc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,dc(c);for(var b=c.firstChild;b;){var O=b.nextSibling,C=b.nodeName;b[Cl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=O}}else c==="body"&&dc(a.ownerDocument.body);c=y}while(c);Co(s)}function wS(a,s){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function Zp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Zp(c),am(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function m3(a,s,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Cl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Sr(a.nextSibling),a===null)break}return null}function p3(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Sr(a.nextSibling),a===null))return null;return a}function SS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Sr(a.nextSibling),a===null))return null;return a}function eg(a){return a.data==="$?"||a.data==="$~"}function tg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function g3(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Sr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var ng=null;function jS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Sr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function OS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function ES(a,s,c){switch(s=Ad(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function dc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);am(a)}var jr=new Map,NS=new Set;function Cd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Na=V.d;V.d={f:v3,r:y3,D:b3,C:x3,L:_3,m:w3,X:j3,S:S3,M:O3};function v3(){var a=Na.f(),s=xd();return a||s}function y3(a){var s=Ys(a);s!==null&&s.tag===5&&s.type==="form"?Fw(s):Na.r(a)}var Eo=typeof document>"u"?null:document;function AS(a,s,c){var h=Eo;if(h&&typeof s=="string"&&s){var y=gr(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),NS.has(y)||(NS.add(y),a={rel:a,crossOrigin:c,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),xn(s,"link",a),ln(s),h.head.appendChild(s)))}}function b3(a){Na.D(a),AS("dns-prefetch",a,null)}function x3(a,s){Na.C(a,s),AS("preconnect",a,s)}function _3(a,s,c){Na.L(a,s,c);var h=Eo;if(h&&a&&s){var y='link[rel="preload"][as="'+gr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+gr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+gr(c.imageSizes)+'"]')):y+='[href="'+gr(a)+'"]';var b=y;switch(s){case"style":b=No(a);break;case"script":b=Ao(a)}jr.has(b)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),jr.set(b,a),h.querySelector(y)!==null||s==="style"&&h.querySelector(fc(b))||s==="script"&&h.querySelector(hc(b))||(s=h.createElement("link"),xn(s,"link",a),ln(s),h.head.appendChild(s)))}}function w3(a,s){Na.m(a,s);var c=Eo;if(c&&a){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+gr(h)+'"][href="'+gr(a)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ao(a)}if(!jr.has(b)&&(a=g({rel:"modulepreload",href:a},s),jr.set(b,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(hc(b)))return}h=c.createElement("link"),xn(h,"link",a),ln(h),c.head.appendChild(h)}}}function S3(a,s,c){Na.S(a,s,c);var h=Eo;if(h&&a){var y=Vs(h).hoistableStyles,b=No(a);s=s||"default";var O=y.get(b);if(!O){var C={loading:0,preload:null};if(O=h.querySelector(fc(b)))C.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=jr.get(b))&&rg(a,c);var I=O=h.createElement("link");ln(I),xn(I,"link",a),I._p=new Promise(function(Y,re){I.onload=Y,I.onerror=re}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Td(O,s,h)}O={type:"stylesheet",instance:O,count:1,state:C},y.set(b,O)}}}function j3(a,s){Na.X(a,s);var c=Eo;if(c&&a){var h=Vs(c).hoistableScripts,y=Ao(a),b=h.get(y);b||(b=c.querySelector(hc(y)),b||(a=g({src:a,async:!0},s),(s=jr.get(y))&&ag(a,s),b=c.createElement("script"),ln(b),xn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function O3(a,s){Na.M(a,s);var c=Eo;if(c&&a){var h=Vs(c).hoistableScripts,y=Ao(a),b=h.get(y);b||(b=c.querySelector(hc(y)),b||(a=g({src:a,async:!0,type:"module"},s),(s=jr.get(y))&&ag(a,s),b=c.createElement("script"),ln(b),xn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function CS(a,s,c,h){var y=(y=me.current)?Cd(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=No(c.href),c=Vs(y).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=No(c.href);var b=Vs(y).hoistableStyles,O=b.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,O),(b=y.querySelector(fc(a)))&&!b._p&&(O.instance=b,O.state.loading=5),jr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},jr.set(a,c),b||E3(y,a,c,O.state))),s&&h===null)throw Error(r(528,""));return O}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(c),c=Vs(y).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function No(a){return'href="'+gr(a)+'"'}function fc(a){return'link[rel="stylesheet"]['+a+"]"}function TS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function E3(a,s,c,h){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=a.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),xn(s,"link",c),ln(s),a.head.appendChild(s))}function Ao(a){return'[src="'+gr(a)+'"]'}function hc(a){return"script[async]"+a}function kS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=a.querySelector('style[data-href~="'+gr(c.href)+'"]');if(h)return s.instance=h,ln(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),ln(h),xn(h,"style",y),Td(h,c.precedence,a),s.instance=h;case"stylesheet":y=No(c.href);var b=a.querySelector(fc(y));if(b)return s.state.loading|=4,s.instance=b,ln(b),b;h=TS(c),(y=jr.get(y))&&rg(h,y),b=(a.ownerDocument||a).createElement("link"),ln(b);var O=b;return O._p=new Promise(function(C,I){O.onload=C,O.onerror=I}),xn(b,"link",h),s.state.loading|=4,Td(b,c.precedence,a),s.instance=b;case"script":return b=Ao(c.src),(y=a.querySelector(hc(b)))?(s.instance=y,ln(y),y):(h=c,(y=jr.get(b))&&(h=g({},c),ag(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),ln(y),xn(y,"link",h),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Td(h,c.precedence,a));return s.instance}function Td(a,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,O=0;O<h.length;O++){var C=h[O];if(C.dataset.precedence===s)b=C;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function rg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function ag(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var kd=null;function PS(a,s,c){if(kd===null){var h=new Map,y=kd=new Map;y.set(c,h)}else y=kd,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var b=c[y];if(!(b[Cl]||b[gn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(s)||"";O=a+O;var C=h.get(O);C?C.push(b):h.set(O,[b])}}return h}function MS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function N3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function RS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function A3(a,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=No(h.href),b=s.querySelector(fc(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Pd.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=b,ln(b);return}b=s.ownerDocument||s,h=TS(h),(y=jr.get(y))&&rg(h,y),b=b.createElement("link"),ln(b);var O=b;O._p=new Promise(function(C,I){O.onload=C,O.onerror=I}),xn(b,"link",h),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Pd.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var ig=0;function C3(a,s){return a.stylesheets&&a.count===0&&Rd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&Rd(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&ig===0&&(ig=62500*c3());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Rd(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>ig?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Md=null;function Rd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Md=new Map,s.forEach(T3,a),Md=null,Pd.call(a))}function T3(a,s){if(!(s.state.loading&4)){var c=Md.get(a);if(c)var h=c.get(null);else{c=new Map,Md.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var O=y[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}y=s.instance,O=y.getAttribute("data-precedence"),b=c.get(O)||h,b===h&&c.set(null,y),c.set(O,y),this.count++,h=Pd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var mc={$$typeof:N,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function k3(a,s,c,h,y,b,O,C,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=em(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.hiddenUpdates=em(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function DS(a,s,c,h,y,b,O,C,I,Y,re,le){return a=new k3(a,s,c,O,I,Y,re,le,C),s=1,b===!0&&(s|=24),b=Zn(3,null,null,s),a.current=b,b.stateNode=a,s=zm(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:s},Bm(b),a}function IS(a){return a?(a=ao,a):ao}function LS(a,s,c,h,y,b){y=IS(y),h.context===null?h.context=y:h.pendingContext=y,h=ri(s),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=ai(a,h,s),c!==null&&(Fn(c,a,s),Gl(c,a,s))}function zS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function sg(a,s){zS(a,s),(a=a.alternate)&&zS(a,s)}function $S(a){if(a.tag===13||a.tag===31){var s=Ki(a,67108864);s!==null&&Fn(s,a,67108864),sg(a,67108864)}}function US(a){if(a.tag===13||a.tag===31){var s=ar();s=tm(s);var c=Ki(a,s);c!==null&&Fn(c,a,s),sg(a,s)}}var Dd=!0;function P3(a,s,c,h){var y=L.T;L.T=null;var b=V.p;try{V.p=2,og(a,s,c,h)}finally{V.p=b,L.T=y}}function M3(a,s,c,h){var y=L.T;L.T=null;var b=V.p;try{V.p=8,og(a,s,c,h)}finally{V.p=b,L.T=y}}function og(a,s,c,h){if(Dd){var y=lg(h);if(y===null)Yp(a,s,h,Id,c),BS(a,h);else if(D3(y,a,s,c,h))h.stopPropagation();else if(BS(a,h),s&4&&-1<R3.indexOf(a)){for(;y!==null;){var b=Ys(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=Ht(b.pendingLanes);if(O!==0){var C=b;for(C.pendingLanes|=2,C.entangledLanes|=2;O;){var I=1<<31-vt(O);C.entanglements[1]|=I,O&=~I}ea(b),(nt&6)===0&&(yd=Ye()+500,lc(0))}}break;case 31:case 13:C=Ki(b,2),C!==null&&Fn(C,b,2),xd(),sg(b,2)}if(b=lg(h),b===null&&Yp(a,s,h,Id,c),b===y)break;y=b}y!==null&&h.stopPropagation()}else Yp(a,s,h,null,c)}}function lg(a){return a=um(a),cg(a)}var Id=null;function cg(a){if(Id=null,a=Gs(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Id=a,null}function qS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case kn:return 2;case Ln:return 8;case ue:case he:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var ug=!1,pi=null,gi=null,vi=null,pc=new Map,gc=new Map,yi=[],R3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BS(a,s){switch(a){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":pc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(s.pointerId)}}function vc(a,s,c,h,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},s!==null&&(s=Ys(s),s!==null&&$S(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function D3(a,s,c,h,y){switch(s){case"focusin":return pi=vc(pi,a,s,c,h,y),!0;case"dragenter":return gi=vc(gi,a,s,c,h,y),!0;case"mouseover":return vi=vc(vi,a,s,c,h,y),!0;case"pointerover":var b=y.pointerId;return pc.set(b,vc(pc.get(b)||null,a,s,c,h,y)),!0;case"gotpointercapture":return b=y.pointerId,gc.set(b,vc(gc.get(b)||null,a,s,c,h,y)),!0}return!1}function HS(a){var s=Gs(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,r_(a.priority,function(){US(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,r_(a.priority,function(){US(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ld(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=lg(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);cm=h,c.target.dispatchEvent(h),cm=null}else return s=Ys(c),s!==null&&$S(s),a.blockedOn=c,!1;s.shift()}return!0}function FS(a,s,c){Ld(a)&&c.delete(s)}function I3(){ug=!1,pi!==null&&Ld(pi)&&(pi=null),gi!==null&&Ld(gi)&&(gi=null),vi!==null&&Ld(vi)&&(vi=null),pc.forEach(FS),gc.forEach(FS)}function zd(a,s){a.blockedOn===s&&(a.blockedOn=null,ug||(ug=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,I3)))}var $d=null;function KS(a){$d!==a&&($d=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$d===a&&($d=null);for(var s=0;s<a.length;s+=3){var c=a[s],h=a[s+1],y=a[s+2];if(typeof h!="function"){if(cg(h||c)===null)continue;break}var b=Ys(c);b!==null&&(a.splice(s,3),s-=3,lp(b,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function Co(a){function s(I){return zd(I,a)}pi!==null&&zd(pi,a),gi!==null&&zd(gi,a),vi!==null&&zd(vi,a),pc.forEach(s),gc.forEach(s);for(var c=0;c<yi.length;c++){var h=yi[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<yi.length&&(c=yi[0],c.blockedOn===null);)HS(c),c.blockedOn===null&&yi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],b=c[h+1],O=y[zn]||null;if(typeof b=="function")O||KS(c);else if(O){var C=null;if(b&&b.hasAttribute("formAction")){if(y=b,O=b[zn]||null)C=O.formAction;else if(cg(y)!==null)continue}else C=O.action;typeof C=="function"?c[h+1]=C:(c.splice(h,3),h-=3),KS(c)}}}function GS(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function dg(a){this._internalRoot=a}Ud.prototype.render=dg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,h=ar();LS(c,h,a,s,null,null)},Ud.prototype.unmount=dg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;LS(a.current,2,null,a,null,null),xd(),s[Ks]=null}};function Ud(a){this._internalRoot=a}Ud.prototype.unstable_scheduleHydration=function(a){if(a){var s=n_();a={blockedOn:null,target:a,priority:s};for(var c=0;c<yi.length&&s!==0&&s<yi[c].priority;c++);yi.splice(c,0,a),c===0&&HS(a)}};var YS=t.version;if(YS!=="19.2.0")throw Error(r(527,YS,"19.2.0"));V.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var L3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{kt=qd.inject(L3),Re=qd}catch{}}return bc.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,h="",y=e1,b=t1,O=n1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=DS(a,1,!1,null,null,c,h,null,y,b,O,GS),a[Ks]=s.current,Gp(a),new dg(s)},bc.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var h=!1,y="",b=e1,O=t1,C=n1,I=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.formState!==void 0&&(I=c.formState)),s=DS(a,1,!0,s,c??null,h,y,I,b,O,C,GS),s.context=IS(null),c=s.current,h=ar(),h=tm(h),y=ri(h),y.callback=null,ai(c,y,h),c=h,s.current.lanes=c,Al(s,c),ea(s),a[Ks]=s.current,Gp(a),new Ud(s)},bc.version="19.2.0",bc}var rj;function Q3(){if(rj)return pg.exports;rj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pg.exports=X3(),pg.exports}var J3=Q3();const Z3=Vr(J3);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aj="popstate";function e4(e={}){function t(r,i){let{pathname:o,search:l,hash:u}=r.location;return hy("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hc(i)}return n4(t,n,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function t4(){return Math.random().toString(36).substring(2,10)}function ij(e,t){return{usr:e.state,key:e.key,idx:t}}function hy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:n,key:t&&t.key||r||t4()}}function Hc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ml(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function n4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let j=p(),E=j==null?null:j-f;f=j,d&&d({action:u,location:S.location,delta:E})}function v(j,E){u="PUSH";let A=hy(S.location,j,E);f=p()+1;let N=ij(A,f),T=S.createHref(A);try{l.pushState(N,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(T)}o&&d&&d({action:u,location:S.location,delta:1})}function x(j,E){u="REPLACE";let A=hy(S.location,j,E);f=p();let N=ij(A,f),T=S.createHref(A);l.replaceState(N,"",T),o&&d&&d({action:u,location:S.location,delta:0})}function w(j){return r4(j)}let S={get action(){return u},get location(){return e(i,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(aj,g),d=j,()=>{i.removeEventListener(aj,g),d=null}},createHref(j){return t(i,j)},createURL:w,encodeLocation(j){let E=w(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:x,go(j){return l.go(j)}};return S}function r4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Hc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function sA(e,t,n="/"){return a4(e,t,n,!1)}function a4(e,t,n,r){let i=typeof t=="string"?ml(t):t,o=La(i.pathname||"/",n);if(o==null)return null;let l=oA(e);i4(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=g4(o);u=m4(l[d],f,r)}return u}function oA(e,t=[],n=[],r="",i=!1){let o=(l,u,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Et(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ra([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),oA(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:f4(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,u);else for(let f of lA(l.path))o(l,u,!0,f)}),t}function lA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=lA(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function i4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:h4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var s4=/^:[\w-]+$/,o4=3,l4=2,c4=1,u4=10,d4=-2,sj=e=>e==="*";function f4(e,t){let n=e.split("/"),r=n.length;return n.some(sj)&&(r+=d4),t&&(r+=l4),n.filter(i=>!sj(i)).reduce((i,o)=>i+(s4.test(o)?o4:o===""?c4:u4),r)}function h4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function m4(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Sf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=Sf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ra([o,g.pathname]),pathnameBase:x4(Ra([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=Ra([o,g.pathnameBase]))}return l}function Sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=p4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function p4(e,t=!1,n=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function g4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function La(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ml(e):e;return{pathname:n?n.startsWith("/")?n:y4(n,t):t,search:_4(r),hash:w4(i)}}function y4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function T0(e){let t=b4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function k0(e,t,n,r=!1){let i;typeof e=="string"?i=ml(e):(i={...e},Et(!i.pathname||!i.pathname.includes("?"),bg("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),bg("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),bg("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=v4(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Ra=e=>e.join("/").replace(/\/\/+/g,"/"),x4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var cA=["POST","PUT","PATCH","DELETE"];new Set(cA);var j4=["GET",...cA];new Set(j4);var pl=_.createContext(null);pl.displayName="DataRouter";var vh=_.createContext(null);vh.displayName="DataRouterState";_.createContext(!1);var uA=_.createContext({isTransitioning:!1});uA.displayName="ViewTransition";var O4=_.createContext(new Map);O4.displayName="Fetchers";var E4=_.createContext(null);E4.displayName="Await";var Wr=_.createContext(null);Wr.displayName="Navigation";var iu=_.createContext(null);iu.displayName="Location";var Mr=_.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var P0=_.createContext(null);P0.displayName="RouteError";function N4(e,{relative:t}={}){Et(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Wr),{hash:i,pathname:o,search:l}=su(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:Ra([n,o])),r.createHref({pathname:u,search:l,hash:i})}function gl(){return _.useContext(iu)!=null}function Di(){return Et(gl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(iu).location}var dA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fA(e){_.useContext(Wr).static||_.useLayoutEffect(e)}function Ha(){let{isDataRoute:e}=_.useContext(Mr);return e?H4():A4()}function A4(){Et(gl(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(pl),{basename:t,navigator:n}=_.useContext(Wr),{matches:r}=_.useContext(Mr),{pathname:i}=Di(),o=JSON.stringify(T0(r)),l=_.useRef(!1);return fA(()=>{l.current=!0}),_.useCallback((d,f={})=>{if(Yr(l.current,dA),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=k0(d,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ra([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,i,e])}var C4=_.createContext(null);function T4(e){let t=_.useContext(Mr).outlet;return _.useMemo(()=>t&&_.createElement(C4.Provider,{value:e},t),[t,e])}function k4(){let{matches:e}=_.useContext(Mr),t=e[e.length-1];return t?t.params:{}}function su(e,{relative:t}={}){let{matches:n}=_.useContext(Mr),{pathname:r}=Di(),i=JSON.stringify(T0(n));return _.useMemo(()=>k0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function P4(e,t){return hA(e,t)}function hA(e,t,n,r,i){var A;Et(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=_.useContext(Wr),{matches:l}=_.useContext(Mr),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";mA(f,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Di(),x;if(t){let N=typeof t=="string"?ml(t):t;Et(p==="/"||((A=N.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let w=x.pathname||"/",S=w;if(p!=="/"){let N=p.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=sA(e,{pathname:S});Yr(g||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Yr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=L4(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Ra([p,o.encodeLocation?o.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Ra([p,o.encodeLocation?o.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return t&&E?_.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function M4(){let e=B4(),t=S4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,l)}var R4=_.createElement(M4,null),D4=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(Mr.Provider,{value:this.props.routeContext},_.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I4({routeContext:e,match:t,children:n}){let r=_.useContext(pl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Mr.Provider,{value:e},n)}function L4(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Et(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,x=!1,w=null,S=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||R4,u&&(d<0&&g===0?(mA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):d===g&&(x=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,g+1)),E=()=>{let A;return v?A=w:x?A=S:p.route.Component?A=_.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,_.createElement(I4,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(D4,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):E()},null)}function M0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z4(e){let t=_.useContext(pl);return Et(t,M0(e)),t}function $4(e){let t=_.useContext(vh);return Et(t,M0(e)),t}function U4(e){let t=_.useContext(Mr);return Et(t,M0(e)),t}function R0(e){let t=U4(e),n=t.matches[t.matches.length-1];return Et(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function q4(){return R0("useRouteId")}function B4(){var r;let e=_.useContext(P0),t=$4("useRouteError"),n=R0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function H4(){let{router:e}=z4("useNavigate"),t=R0("useNavigate"),n=_.useRef(!1);return fA(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{Yr(n.current,dA),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var oj={};function mA(e,t,n){!t&&!oj[e]&&(oj[e]=!0,Yr(!1,n))}_.memo(F4);function F4({routes:e,future:t,state:n,unstable_onError:r}){return hA(e,void 0,n,r,t)}function jf({to:e,replace:t,state:n,relative:r}){Et(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Wr);Yr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=_.useContext(Mr),{pathname:l}=Di(),u=Ha(),d=k0(e,T0(o),l,r==="path"),f=JSON.stringify(d);return _.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function K4(e){return T4(e.context)}function On(e){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Et(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=ml(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,x=_.useMemo(()=>{let w=La(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:v},navigationType:r}},[l,d,f,p,g,v,r]);return Yr(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:_.createElement(Wr.Provider,{value:u},_.createElement(iu.Provider,{children:t,value:x}))}function Y4({children:e,location:t}){return P4(my(e),t)}function my(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,my(r.props.children,o));return}Et(r.type===On,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=my(r.props.children,o)),n.push(l)}),n}var mf="get",pf="application/x-www-form-urlencoded";function yh(e){return e!=null&&typeof e.tagName=="string"}function V4(e){return yh(e)&&e.tagName.toLowerCase()==="button"}function W4(e){return yh(e)&&e.tagName.toLowerCase()==="form"}function X4(e){return yh(e)&&e.tagName.toLowerCase()==="input"}function Q4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J4(e,t){return e.button===0&&(!t||t==="_self")&&!Q4(e)}var Bd=null;function Z4(){if(Bd===null)try{new FormData(document.createElement("form"),0),Bd=!1}catch{Bd=!0}return Bd}var eI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xg(e){return e!=null&&!eI.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):e}function tI(e,t){let n,r,i,o,l;if(W4(e)){let u=e.getAttribute("action");r=u?La(u,t):null,n=e.getAttribute("method")||mf,i=xg(e.getAttribute("enctype"))||pf,o=new FormData(e)}else if(V4(e)||X4(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?La(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||mf,i=xg(e.getAttribute("formenctype"))||xg(u.getAttribute("enctype"))||pf,o=new FormData(u,e),!Z4()){let{name:f,type:p,value:g}=e;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(yh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mf,r=null,i=pf,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&La(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iI(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await rI(o,n);return l.links?l.links():[]}return[]}));return cI(r.flat(1).filter(aI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lj(e,t,n,r,i,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var p;return n[f].pathname!==d.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var g;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function sI(e,t,{includeHydrateFallback:n}={}){return oI(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function oI(e){return[...new Set(e)]}function lI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function cI(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(lI(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function pA(){let e=_.useContext(pl);return D0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function uI(){let e=_.useContext(vh);return D0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var I0=_.createContext(void 0);I0.displayName="FrameworkContext";function gA(){let e=_.useContext(I0);return D0(e,"You must render this element inside a <HydratedRouter> element"),e}function dI(e,t){let n=_.useContext(I0),[r,i]=_.useState(!1),[o,l]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=_.useRef(null);_.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=E=>{E.forEach(A=>{l(A.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[e]),_.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[o,v,{}]:[o,v,{onFocus:xc(u,x),onBlur:xc(d,w),onMouseEnter:xc(f,x),onMouseLeave:xc(p,w),onTouchStart:xc(g,x)}]:[!1,v,{}]}function xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function fI({page:e,...t}){let{router:n}=pA(),r=_.useMemo(()=>sA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(mI,{page:e,matches:r,...t}):null}function hI(e){let{manifest:t,routeModules:n}=gA(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return iI(e,t,n).then(l=>{o||i(l)}),()=>{o=!0}},[e,t,n]),r}function mI({page:e,matches:t,...n}){let r=Di(),{manifest:i,routeModules:o}=gA(),{basename:l}=pA(),{loaderData:u,matches:d}=uI(),f=_.useMemo(()=>lj(e,t,d,i,r,"data"),[e,t,d,i,r]),p=_.useMemo(()=>lj(e,t,d,i,r,"assets"),[e,t,d,i,r]),g=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(t.forEach(E=>{var N;let A=i.routes[E.route.id];!A||!A.hasLoader||(!f.some(T=>T.route.id===E.route.id)&&E.route.id in u&&((N=o[E.route.id])!=null&&N.shouldRevalidate)||A.hasClientLoader?S=!0:w.add(E.route.id))}),w.size===0)return[];let j=nI(e,l,"data");return S&&w.size>0&&j.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[j.pathname+j.search]},[l,u,r,i,f,t,e,o]),v=_.useMemo(()=>sI(p,i),[p,i]),x=hI(p);return _.createElement(_.Fragment,null,g.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:S})=>_.createElement("link",{key:w,nonce:n.nonce,...S})))}function pI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vA&&(window.__reactRouterVersion="7.9.3")}catch{}function gI({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=e4({window:n,v5Compat:!0}));let i=r.current,[o,l]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement(G4,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var yA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L0=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},x){let{basename:w}=_.useContext(Wr),S=typeof f=="string"&&yA.test(f),j,E=!1;if(typeof f=="string"&&S&&(j=f,vA))try{let H=new URL(window.location.href),q=f.startsWith("//")?new URL(H.protocol+f):new URL(f),F=La(q.pathname,w);q.origin===H.origin&&F!=null?f=F+q.search+q.hash:E=!0}catch{Yr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=N4(f,{relative:i}),[N,T,k]=dI(r,v),M=bI(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function R(H){t&&t(H),H.defaultPrevented||M(H)}let z=_.createElement("a",{...v,...k,href:j||A,onClick:E||o?t:R,ref:pI(x,T),target:d,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?_.createElement(_.Fragment,null,z,_.createElement(fI,{page:A})):z});L0.displayName="Link";var py=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=su(l,{relative:f.relative}),v=Di(),x=_.useContext(vh),{navigator:w,basename:S}=_.useContext(Wr),j=x!=null&&jI(g)&&u===!0,E=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,A=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(A=A.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&S&&(N=La(N,S)||N);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=A===E||!i&&A.startsWith(E)&&A.charAt(T)==="/",M=N!=null&&(N===E||!i&&N.startsWith(E)&&N.charAt(E.length)==="/"),R={isActive:k,isPending:M,isTransitioning:j},z=k?t:void 0,H;typeof r=="function"?H=r(R):H=[r,k?"active":null,M?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(R):o;return _.createElement(L0,{...f,"aria-current":z,className:H,ref:p,style:q,to:l,viewTransition:u},typeof d=="function"?d(R):d)});py.displayName="NavLink";var vI=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:l=mf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},x)=>{let w=wI(),S=SI(u,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&yA.test(u),A=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let T=N.nativeEvent.submitter,k=(T==null?void 0:T.getAttribute("formmethod"))||l;w(T||N.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:x,method:j,action:S,onSubmit:r?d:A,...v,"data-discover":!E&&e==="render"?"true":void 0})});vI.displayName="Form";function yI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(e){let t=_.useContext(pl);return Et(t,yI(e)),t}function bI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=Ha(),d=Di(),f=su(e,{relative:o});return _.useCallback(p=>{if(J4(p,t)){p.preventDefault();let g=n!==void 0?n:Hc(d)===Hc(f);u(e,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,f,n,r,t,e,i,o,l])}var xI=0,_I=()=>`__${String(++xI)}__`;function wI(){let{router:e}=bA("useSubmit"),{basename:t}=_.useContext(Wr),n=q4();return _.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=tI(r,t);if(i.navigate===!1){let p=i.fetcherKey||_I();await e.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function SI(e,{relative:t}={}){let{basename:n}=_.useContext(Wr),r=_.useContext(Mr);Et(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...su(e||".",{relative:t})},l=Di();if(e==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ra([n,o.pathname])),Hc(o)}function jI(e,{relative:t}={}){let n=_.useContext(uA);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bA("useViewTransitionState"),i=su(e,{relative:t});if(!n.isTransitioning)return!1;let o=La(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=La(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sf(i.pathname,l)!=null||Sf(i.pathname,o)!=null}var xA=iA();const OI="modulepreload",EI=function(e){return"/"+e},cj={},ou=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(f=>{if(f=EI(f),f in cj)return;cj[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":OI,p||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((x,w)=>{v.addEventListener("load",x),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},NI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class z0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class uj extends z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dj extends z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fj extends z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gy||(gy={}));var AI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class CI{constructor(t,{headers:n={},customFetch:r,region:i=gy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=NI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return AI(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:d}=r;let f={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)));const x=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:v,signal:d}).catch(E=>{throw E.name==="AbortError"?E:new uj(E)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new dj(x);if(!x.ok)throw new fj(x);let S=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield x.json():S==="application/octet-stream"?j=yield x.blob():S==="text/event-stream"?j=x:S==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new uj(o)}:{data:null,error:o,response:o instanceof fj||o instanceof dj?o.context:void 0}}})}}var un={},To={},ko={},Po={},Mo={},Ro={},TI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=TI();const kI=tl.fetch,_A=tl.fetch.bind(tl),wA=tl.Headers,PI=tl.Request,MI=tl.Response,vl=Object.freeze(Object.defineProperty({__proto__:null,Headers:wA,Request:PI,Response:MI,default:_A,fetch:kI},Symbol.toStringTag,{value:"Module"})),RI=B3(vl);var Hd={},hj;function SA(){if(hj)return Hd;hj=1,Object.defineProperty(Hd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hd.default=e,Hd}var mj;function jA(){if(mj)return Ro;mj=1;var e=Ro&&Ro.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ro,"__esModule",{value:!0});const t=e(RI),n=e(SA());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,g,v,x;let w=null,S=null,j=null,E=f.status,A=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=M:S=JSON.parse(M))}const T=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");T&&k&&k.length>1&&(j=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,j=null,E=406,A="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const T=await f.text();try{w=JSON.parse(T),Array.isArray(w)&&f.status===404&&(S=[],w=null,E=200,A="OK")}catch{f.status===404&&T===""?(E=204,A="No Content"):w={message:T}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,E=200,A="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:S,count:j,status:E,statusText:A}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,g,v;return{error:{message:`${(p=f==null?void 0:f.name)!==null&&p!==void 0?p:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=f==null?void 0:f.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ro.default=r,Ro}var pj;function OA(){if(pj)return Mo;pj=1;var e=Mo&&Mo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mo,"__esModule",{value:!0});const t=e(jA());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(f,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Mo.default=n,Mo}var gj;function $0(){if(gj)return Po;gj=1;var e=Po&&Po.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Po,"__esModule",{value:!0});const t=e(OA());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Po.default=n,Po}var vj;function EA(){if(vj)return ko;vj=1;var e=ko&&ko.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ko,"__esModule",{value:!0});const t=e($0());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},d=l?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return ko.default=n,ko}var yj;function DI(){if(yj)return To;yj=1;var e=To&&To.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(To,"__esModule",{value:!0});const t=e(EA()),n=e($0());class r{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${o}`);let x;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(g="POST",x=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new n.default({method:g,url:v,headers:w,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return To.default=r,To}var bj;function II(){if(bj)return un;bj=1;var e=un&&un.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(un,"__esModule",{value:!0}),un.PostgrestError=un.PostgrestBuilder=un.PostgrestTransformBuilder=un.PostgrestFilterBuilder=un.PostgrestQueryBuilder=un.PostgrestClient=void 0;const t=e(DI());un.PostgrestClient=t.default;const n=e(EA());un.PostgrestQueryBuilder=n.default;const r=e($0());un.PostgrestFilterBuilder=r.default;const i=e(OA());un.PostgrestTransformBuilder=i.default;const o=e(jA());un.PostgrestBuilder=o.default;const l=e(SA());return un.PostgrestError=l.default,un.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},un}var LI=II();const zI=Vr(LI),{PostgrestClient:$I,PostgrestQueryBuilder:ene,PostgrestFilterBuilder:tne,PostgrestTransformBuilder:nne,PostgrestBuilder:rne,PostgrestError:ane}=zI;class UI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qI="2.74.0",BI=`realtime-js/${qI}`,HI="1.0.0",vy=1e4,FI=1e3,KI=100;var Dc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dc||(Dc={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var Br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Br||(Br={}));var yy;(function(e){e.websocket="websocket"})(yy||(yy={}));var vs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vs||(vs={}));class GI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class NA{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(yt||(yt={}));const xj=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=YI(l,e,t,i),o),{}):{}},YI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?AA(o,l):by(l)},AA=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return QI(t,n)}switch(e){case yt.bool:return VI(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return WI(t);case yt.json:case yt.jsonb:return XI(t);case yt.timestamp:return JI(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return by(t);default:return by(t)}},by=e=>e,VI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>AA(t,u))}return e},JI=e=>typeof e=="string"?e.replace(" ","T"):e,CA=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class _g{constructor(t,n,r={},i=vy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _j;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_j||(_j={}));class Ic{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ic.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=Ic.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ic.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=o[f];if(g){const v=p.map(j=>j.presence_ref),x=g.map(j=>j.presence_ref),w=p.filter(j=>x.indexOf(j.presence_ref)<0),S=g.filter(j=>v.indexOf(j.presence_ref)<0);w.length>0&&(u[f]=w),S.length>0&&(d[f]=S)}else u[f]=p}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(x=>x.presence_ref),v=p.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...v)}r(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wj||(wj={}));var Lc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lc||(Lc={}));var Ca;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ca||(Ca={}));class U0{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _g(this,Br.join,this.params,this.timeout),this.rejoinTimer=new NA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Br.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ic(this),this.broadcastEndpointURL=CA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Lc.PRESENCE]&&this.bindings[Lc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Ca.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Ca.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t==null||t(Ca.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,j=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,E=[];for(let A=0;A<j;A++){const N=S[A],{filter:{event:T,schema:k,table:M,filter:R}}=N,z=x&&x[A];if(z&&z.event===T&&z.schema===k&&z.table===M&&z.filter===R)E.push(Object.assign(Object.assign({},N),{id:z.id}));else{this.unsubscribe(),this.state=en.errored,t==null||t(Ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Ca.SUBSCRIBED);return}}).receive("error",x=>{this.state=en.errored,t==null||t(Ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===en.joined&&t===Lc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _g(this,Br.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _g(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>KI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Br;if(r&&[u,d,f,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,S,j;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(S=x.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var w,S,j,E,A,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const T=x.id,k=(w=x.filter)===null||w===void 0?void 0:w.event;return T&&((S=n.ids)===null||S===void 0?void 0:S.includes(T))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const T=(A=(E=x==null?void 0:x.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return T==="*"||T===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:j,commit_timestamp:E,type:A,errors:N}=w;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:E,eventType:A,new:{},old:{},errors:N}),this._getPayloadRecords(w))}x.callback(v,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&U0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Br.close,{},t)}_onError(t){this._on(Br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xj(t.columns,t.old_record)),n}}const wg=()=>{},Fd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZI=[1e3,2e3,5e3,1e4],eL=1e4,tL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vy,this.transport=null,this.heartbeatIntervalMs=Fd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wg,this.ref=0,this.reconnectTimer=null,this.logger=wg,this.conn=null,this.sendBuffer=[],this.serializer=new GI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ou(async()=>{const{default:u}=await Promise.resolve().then(()=>vl);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${yy.websocket}`,this.httpEndpoint=CA(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dc.connecting:return vs.Connecting;case Dc.open:return vs.Open;case Dc.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new U0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(FI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([tL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:BI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new NA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,d,f,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:vy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Fd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:wg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(g=>ZI[g-1]||eL),this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class q0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rL extends q0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xy extends q0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var aL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const TA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},iL=()=>aL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ou(()=>Promise.resolve().then(()=>vl),void 0)).Response:Response}),_y=e=>{if(Array.isArray(e))return e.map(n=>_y(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=_y(r)}),t},sL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Is=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const Sg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oL=(e,t,n)=>Is(void 0,void 0,void 0,function*(){const r=yield iL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new rL(Sg(i),o,l))}).catch(i=>{t(new xy(Sg(i),i))}):t(new xy(Sg(e),e))}),lL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(sL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function lu(e,t,n,r,i,o){return Is(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,lL(t,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>oL(d,u,r))})})}function Of(e,t,n,r){return Is(this,void 0,void 0,function*(){return lu(e,"GET",t,n,r)})}function na(e,t,n,r,i){return Is(this,void 0,void 0,function*(){return lu(e,"POST",t,r,i,n)})}function wy(e,t,n,r,i){return Is(this,void 0,void 0,function*(){return lu(e,"PUT",t,r,i,n)})}function cL(e,t,n,r){return Is(this,void 0,void 0,function*(){return lu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function kA(e,t,n,r,i){return Is(this,void 0,void 0,function*(){return lu(e,"DELETE",t,r,i,n)})}var uL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class dL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return uL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Wt(t))return{data:null,error:t};throw t}})}}var fL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class hL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new dL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return fL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Wt(t))return{data:null,error:t};throw t}})}}var Kn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const mL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=TA(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Kn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Sj),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),g=yield(t=="PUT"?wy:na)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Wt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Kn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:Sj.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield wy(this.fetch,u.toString(),d,{headers:p});return{data:{path:o,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Wt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Kn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield na(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new q0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Kn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Kn(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Kn(this,void 0,void 0,function*(){try{return{data:{path:(yield na(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Kn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield na(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Kn(this,void 0,void 0,function*(){try{const i=yield na(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),d=()=>Of(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new hL(d,this.shouldThrowOnError)}info(t){return Kn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Of(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:_y(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}exists(t){return Kn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r)&&r instanceof xy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Kn(this,void 0,void 0,function*(){try{return{data:yield kA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Kn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mL),n),{prefix:t||""});return{data:yield na(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Kn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield na(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gL="2.74.0",vL={"X-Client-Info":`storage-js/${gL}`};var Do=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class yL{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vL),n),this.fetch=TA(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Do(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Wt(t))return{data:null,error:t};throw t}})}getBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield Of(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}createBucket(t){return Do(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield na(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Wt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Do(this,void 0,void 0,function*(){try{return{data:yield wy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield kA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wt(n))return{data:null,error:n};throw n}})}}class bL extends yL{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new pL(this.url,this.headers,t,this.fetch)}}const xL="2.74.0";let Pc="";typeof Deno<"u"?Pc="deno":typeof document<"u"?Pc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pc="react-native":Pc="node";const _L={"X-Client-Info":`supabase-js-${Pc}/${xL}`},wL={headers:_L},SL={schema:"public"},jL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OL={};var EL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const NL=e=>{let t;return e?t=e:typeof fetch>"u"?t=_A:t=fetch,(...n)=>t(...n)},AL=()=>typeof Headers>"u"?wA:Headers,CL=(e,t,n)=>{const r=NL(n),i=AL();return(o,l)=>EL(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var TL=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};function kL(e){return e.endsWith("/")?e:e+"/"}function PL(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>TL(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function ML(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const PA="2.74.0",Ko=30*1e3,Sy=3,jg=Sy*Ko,RL="http://localhost:9999",DL="supabase.auth.token",IL={"X-Client-Info":`gotrue-js/${PA}`},jy="X-Supabase-Api-Version",MA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zL=600*1e3;class Fc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $L extends Fc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function UL(e){return Ae(e)&&e.name==="AuthApiError"}class ys extends Fc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ii extends Fc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class wi extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qL(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class Io extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kd extends Ii{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gd extends Ii{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BL(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class jj extends Ii{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oy extends Ii{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Og(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class Oj extends Ii{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ey extends Ii{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ej=` 	
\r=`.split(""),HL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ej.length;t+=1)e[Ej[t].charCodeAt(0)]=-2;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=t;return e})();function Nj(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ef[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ef[r]),t.queuedBits-=6}}function RA(e,t,n){const r=HL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Aj(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{GL(l,r,n)};for(let l=0;l<e.length;l+=1)RA(e.charCodeAt(l),i,o);return t.join("")}function FL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function KL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}FL(r,t)}}function GL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Qo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)RA(e.charCodeAt(i),n,r);return new Uint8Array(t)}function YL(e){const t=[];return KL(e,n=>t.push(n)),new Uint8Array(t)}function xs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Nj(i,n,r)),Nj(null,n,r),t.join("")}function VL(e){return Math.round(Date.now()/1e3)+e}function WL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ir=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},DA=()=>{if(!ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function XL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const IA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ou(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},QL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Go=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},is=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xi=async(e,t)=>{await e.removeItem(t)};class bh{constructor(){this.promise=new bh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}bh.promiseConstructor=Promise;function Eg(e){const t=e.split(".");if(t.length!==3)throw new Ey("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!LL.test(t[r]))throw new Ey("JWT not in base64url format");return{header:JSON.parse(Aj(t[0])),payload:JSON.parse(Aj(t[1])),signature:Qo(t[2]),raw:{header:t[0],payload:t[1]}}}async function JL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ZL(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function e6(e){return("0"+e.toString(16)).substr(-2)}function t6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,e6).join("")}async function n6(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function r6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await n6(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(e,t,n=!1){const r=t6();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Go(e,`${t}-code-verifier`,i);const o=await r6(r);return[o,r===o?"plain":"s256"]}const a6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i6(e){const t=e.headers.get(jy);if(!t||!t.match(a6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function s6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function o6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zo(e){if(!l6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ng(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cj(e){return JSON.parse(JSON.stringify(e))}var c6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u6=[502,503,504];async function Tj(e){var t;if(!QL(e))throw new Oy(cs(e),0);if(u6.includes(e.status))throw new Oy(cs(e),e.status);let n;try{n=await e.json()}catch(o){throw new ys(cs(o),o)}let r;const i=i6(e);if(i&&i.getTime()>=MA["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Oj(cs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Oj(cs(n),e.status,n.weak_password.reasons);throw new $L(cs(n),e.status||500,r)}const d6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pe(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[jy]||(o[jy]=MA["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await f6(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function f6(e,t,n,r,i,o){const l=d6(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Oy(cs(d),0)}if(u.ok||await Tj(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Tj(d)}}function Ur(e){var t;let n=null;p6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=VL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function kj(e){const t=Ur(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h6(e){return{data:e,error:null}}function m6(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=c6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Pj(e){return e}function p6(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ag=["global","local","others"];var g6=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class v6{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=IA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ag[0]){if(Ag.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ag.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ni})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=g6(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:m6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ni})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Pj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);f[`${j}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ae(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){zo(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ni})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){zo(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ni})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){zo(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ni})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){zo(t.userId);try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){zo(t.userId),zo(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Pj});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);f[`${j}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ae(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}function Mj(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const $o={debug:!!(globalThis&&DA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y6 extends LA{}async function b6(e,t,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($o.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function x6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _6(e){return parseInt(e,16)}function w6(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function S6(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=zA(e.address),w=p?`${p}://${r}`:r,S=e.statement?`${e.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${x}

${S}`;let E=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),d&&(E+=`
Request ID: ${d}`),f){let A=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);A+=`
- ${N}`}E+=A}return`${j}
${E}`}class Vt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Nf extends Vt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function j6({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(UA(l)){if(o.rp.id!==l)return new Vt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function O6({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(UA(r)){if(n.rpId!==r)return new Vt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var $A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class E6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const N6=new E6;function A6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=$A(e,["challenge","user","excludeCredentials"]),o=Qo(t).buffer,l=Object.assign(Object.assign({},n),{id:Qo(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Qo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function C6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=$A(e,["challenge","allowCredentials"]),i=Qo(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Qo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function T6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xs(new Uint8Array(e.response.attestationObject)),clientDataJSON:xs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function k6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xs(new Uint8Array(i.authenticatorData)),clientDataJSON:xs(new Uint8Array(i.clientDataJSON)),signature:xs(new Uint8Array(i.signature)),userHandle:i.userHandle?xs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Rj(){var e,t;return!!(ir()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function P6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nf("Browser returned unexpected credential type",t)}:{data:null,error:new Nf("Empty credential response",t)}}catch(t){return{data:null,error:j6({error:t,options:e})}}}async function M6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nf("Browser returned unexpected credential type",t)}:{data:null,error:new Nf("Empty credential response",t)}}catch(t){return{data:null,error:O6({error:t,options:e})}}}const R6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},D6={userVerification:"preferred",hints:["security-key"]};function Af(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Af(u,l):r[o]=Af(l)}else r[o]=l}return r}function I6(e,t){return Af(R6,e,t||{})}function L6(e,t){return Af(D6,e,t||{})}class z6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??N6.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=I6(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await P6({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=L6(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await M6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new ys("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Fc("rpId is required for WebAuthn authentication")};try{if(!Rj())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new ys("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Fc("rpId is required for WebAuthn registration")};try{if(!Rj())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new ys("Unexpected error in register",l)}}}}x6();const $6={url:RL,storageKey:DL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dj(e,t,n){return await n()}const Uo={};class Kc{get jwks(){var t,n;return(n=(t=Uo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Uo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kc.nextInstanceID,Kc.nextInstanceID+=1,this.instanceID>0&&ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},$6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new v6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=IA(i.fetch),this.lock=i.lock||Dj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ir()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=b6:this.lock=Dj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z6(this)},this.persistSession?(i.storage?this.storage=i.storage:DA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Mj(this.memoryStorage)),ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=XL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ir()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),BL(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?{error:n}:{error:new ys("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ur}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:p,password:g,options:v}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Lo(this.storage,this.storageKey)),o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:w},xform:Ur})}else if("phone"in t){const{phone:p,password:g,options:v}=t;o=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ur})}else throw new Kd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kj})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:kj})}else throw new Kd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Io}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,d,f,p,g,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:S,wallet:j,statement:E,options:A}=t;let N;if(ir())if(typeof j=="object")N=j;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")N=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=j}const T=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),k=await N.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=zA(k[0]);let R=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const H=await N.request({method:"eth_chainId"});R=_6(H)}const z={domain:T.host,address:M,statement:E,uri:T.href,version:"1",chainId:R,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=A==null?void 0:A.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=S6(z),w=await N.request({method:"personal_sign",params:[w6(x),M]})}try{const{data:S,error:j}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ur});if(j)throw j;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Io}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:j})}catch(S){if(Ae(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,i,o,l,u,d,f,p,g,v,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:j,wallet:E,statement:A,options:N}=t;let T;if(ir())if(typeof E=="object")T=E;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))T=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const k=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const M=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),A?{statement:A}:null));let R;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")R=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)R=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),S=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(p=N==null?void 0:N.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const M=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:j,error:E}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:xs(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ur});if(E)throw E;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Io}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:E})}catch(j){if(Ae(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await is(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ur});if(await xi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Io}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ae(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ur}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Io}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Lo(this.storage,this.storageKey));const{error:g}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Kd("You must provide either an email or phone number.")}catch(u){if(Ae(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Ur});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Lo(this.storage,this.storageKey)),await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:h6})}catch(o){if(Ae(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new wi;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Kd("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<jg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await is(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Ng()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,p)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,p))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ni}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wi}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ni})})}catch(n){if(Ae(n))return qL(n)&&(await this._removeSession(),await xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new wi;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Lo(this.storage,this.storageKey));const{data:f,error:p}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ni});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wi;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Eg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new wi;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ir())throw new Gd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jj("No code detected.");const{data:A,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new Gd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;d&&(v=parseInt(d));const x=v-p;x*1e3<=Ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:S,error:j}=await this._getUser(o);if(j)throw j;const E={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(UL(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=WL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lo(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ae(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,p;const{data:g,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ir()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ae(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:p}=t,g=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ur}),{data:v,error:x}=g;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Io}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:x})}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ZL(async i=>(i>0&&await JL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ur})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Og(o)&&Date.now()+l-r<Ko})}catch(r){if(this._debug(n,"error",r),Ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ir()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await is(this.storage,this.storageKey);if(i&&this.userStorage){let l=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Go(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Ng()}else if(i&&!i.user&&!i.user){const l=await is(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await xi(this.storage,this.storageKey+"-user"),await Go(this.storage,this.storageKey,i)):i.user=Ng()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${jg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Og(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bh;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new wi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Ae(o)){const l={data:null,error:o};return Og(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Go(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=Cj(i);await Go(this.storage,this.storageKey,o)}else{const i=Cj(n);await Go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await xi(this.storage,this.storageKey),await xi(this.storage,this.storageKey+"-code-verifier"),await xi(this.storage,this.storageKey+"-user"),this.userStorage&&await xi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ko}ms, refresh threshold is ${Sy} ticks`),i<=Sy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Lo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?T6(t.webauthn.credential_response):k6(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:A6(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:C6(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Eg(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+zL>i)return r;const{data:o,error:l}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:w}=await this.getSession();if(w||!x.session)return{data:null,error:w};r=x.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=Eg(r);n!=null&&n.allowExpired||s6(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:i,signature:l},error:null}}const p=o6(i.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,YL(`${u}.${d}`)))throw new Ey("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}Kc.nextInstanceID=0;const U6=Kc;class q6 extends U6{constructor(t){super(t)}}var B6=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{f(r.next(p))}catch(g){l(g)}}function d(p){try{f(r.throw(p))}catch(g){l(g)}}function f(p){p.done?o(p.value):i(p.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class H6{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=ML(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:SL,realtime:OL,auth:Object.assign(Object.assign({},jL),{storageKey:d}),global:wL},p=PL(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=CL(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new $I(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new bL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new CI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return B6(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:d,debug:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q6({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F6=(e,t,n)=>new H6(e,t,n);function K6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}K6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qA="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",BA=()=>{const e=Promise.reject(new Error(qA));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>BA()}})},G6=()=>{const e=BA(),t=async()=>{throw new Error(qA)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},Y6=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},V6=()=>G6();let Ny;try{const e="https://epolcaohkaozcanyexau.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",n=Y6(e);Ny=F6(n,t,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),Ny=V6()}const de=Ny,W6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",VITE_SUPABASE_URL:"https://epolcaohkaozcanyexau.supabase.co"},X6=W6,Q6="https://api.cloudinary.com/v1_1",J6="cloudinary.com",Z6=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),B0=e=>Z6(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),HA=()=>Math.random().toString(36).slice(2,10),zc=(e,t)=>e&&B0(e)||t,Kr=e=>{const t=X6[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},Ij=(e,t)=>{const n=Kr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: définissez la variable d'environnement ${e} pour ${t}.`);return n},H0=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const o=Ij("VITE_CLOUDINARY_CLOUD_NAME","les téléversements de médias"),l=n??Ij("VITE_CLOUDINARY_UPLOAD_PRESET","les téléversements de médias"),u=l,d=new FormData;d.append("file",e),d.append("upload_preset",l),t&&d.append("folder",t),r&&d.append("public_id",r),i!=null&&i.length&&d.append("tags",i.join(","));const f=await fetch(`${Q6}/${o}/auto/upload`,{method:"POST",body:d}),p=await f.json();if(!f.ok||p.error){const v=(g=p.error)==null?void 0:g.message;throw v&&/upload preset/i.test(v)?new Error(`Le preset Cloudinary "${u}" est introuvable ou ne permet pas les téléversements non signés. Vérifiez sa configuration dans votre console Cloudinary (Settings → Upload → Upload presets).`):new Error(v??`Échec du téléversement Cloudinary (statut ${f.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoyé d'URL sécurisée pour le fichier téléversé.");return p.secure_url??p.url},Pi=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(J6)?null:t}catch{return null}},e5=Kr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",Lj=e5,FA=e=>{const t=Pi(e);return t||Lj||""},t5=async(e,t)=>{const n=Kr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=Kr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??Kr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?B0(t):void 0,o=i?`${i}-${HA()}`:void 0;return H0(e,{folder:zc(n,"products"),uploadPreset:r,publicId:o,tags:["product"]})},n5=()=>zc(Kr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),zj=async(e,t)=>{const n=n5(),r=Kr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??Kr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=(t==null?void 0:t.publicId)??(e instanceof File&&e.name?B0(e.name.replace(/\.[^/.]+$/,"")):void 0),o=i?`${i}-${HA()}`:void 0,l=Array.from(new Set(["customization","custom-folder",...(t==null?void 0:t.tags)??[]]));return H0(e,{folder:n,uploadPreset:r,publicId:o,tags:l})},KA=async(e,t)=>{const n=Kr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=Kr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??Kr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[zc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${zc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${zc(t.customerReference,"client")}`),H0(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},GA="ouiouipos:role-logins",YA=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},r5=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:o}=n;if(typeof r!="string"||typeof i!="string"||typeof o!="string")return null;const l=Date.parse(o);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},F0=()=>{const t=YA().getItem(GA);return r5(t)},VA=e=>{YA().setItem(GA,JSON.stringify(e.slice(-500)))},a5=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const o=F0();o.push(i),VA(o)}catch(o){console.warn("Unable to persist role login locally.",o)}return i},i5=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return F0().filter(r=>Date.parse(r.loginAt)>=t)},s5=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=F0().filter(r=>Date.parse(r.loginAt)>=t);VA(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),$j=e=>{const t=l5(e);return t.charAt(0).toUpperCase()+t.slice(1)},WA=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),c5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...u5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:WA("lucide",i),...!o&&!c5(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>_.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=_.forwardRef(({className:r,...i},o)=>_.createElement(d5,{ref:o,iconNode:t,className:WA(`lucide-${o5($j(e))}`,`lucide-${e}`,r),...i}));return n.displayName=$j(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],K0=be("armchair",f5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],XA=be("arrow-left",h5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],p5=be("brush",m5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],v5=be("calendar",g5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],b5=be("chart-area",y5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],_5=be("chart-no-axes-column",x5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],S5=be("check",w5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],QA=be("chef-hat",j5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JA=be("chevron-down",O5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N5=be("chevron-right",E5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ZA=be("chevron-up",A5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ay=be("circle-check-big",C5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],k5=be("circle-minus",T5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],G0=be("circle-plus",P5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R5=be("circle-question-mark",M5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],I5=be("circle-x",D5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cu=be("clock",L5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gc=be("dollar-sign",z5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],U5=be("download",$5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],eC=be("ellipsis-vertical",q5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],H5=be("external-link",B5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K5=be("eye-off",F5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cy=be("eye",G5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tC=be("file-text",Y5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Uj=be("gift",V5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],X5=be("grip-vertical",W5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],J5=be("hand-platter",Q5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ez=be("history",Z5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nz=be("info",tz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],az=be("layout-dashboard",rz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],sz=be("log-in",iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lz=be("log-out",oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],uz=be("mail",cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Y0=be("map-pin",dz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nC=be("menu",fz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rC=be("message-square",hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M5 12h14",key:"1ays0h"}]],aC=be("minus",mz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],gz=be("package-check",pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],yz=be("package-plus",vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Wo=be("package",bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],_z=be("pencil",xz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],xh=be("percent",wz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],iC=be("phone",Sz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uu=be("plus",jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ez=be("receipt",Oz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Az=be("refresh-cw",Nz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tz=be("save",Cz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V0=be("search",kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mz=be("send",Pz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dz=be("settings",Rz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lz=be("shield",Iz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],sC=be("shopping-bag",zz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],oC=be("shopping-cart",$z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],lC=be("soup",Uz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cC=be("square-pen",qz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Cf=be("tag",Bz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ls=be("trash-2",Hz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tf=be("triangle-alert",Fz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Gz=be("truck",Kz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],uC=be("upload",Yz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W0=be("user",Vz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ty=be("users",Wz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Qz=be("utensils-crossed",Xz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Zz=be("utensils",Jz);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ti=be("x",e$),za="/site-customizer",Vn=[{name:"Dashboard",href:"/dashboard",icon:az,permissionKey:"/dashboard"},{name:"À Emporter",href:"/para-llevar",icon:sC,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:K0,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:lC,permissionKey:"/cocina"},{name:"Personnalisation",href:za,icon:p5,permissionKey:za},{name:"Produits",href:"/produits",icon:Qz,permissionKey:"/produits"},{name:"Ingrédients",href:"/ingredients",icon:Wo,permissionKey:"/ingredients"},{name:"Promotions",href:"/promotions",icon:xh,permissionKey:"/promotions"},{name:"Résumé Ventes",href:"/resume-ventes",icon:b5,permissionKey:"/resume-ventes"}],dC={ADMIN:"admin"},Os="__home_page",t$=e=>{if(!e.active)return!1;const t=new Date,n=new Date(e.start_date),r=e.end_date?new Date(e.end_date):null;return!(t<n||r&&t>r||e.usage_limit&&e.usage_count>=e.usage_limit)},fC=e=>{const t=new Date,n=e.config;if(n.days_of_week&&n.days_of_week.length>0){const r=t.getDay();if(!n.days_of_week.includes(r))return!1}if(n.hours_of_day){const r=t.getHours(),i=t.getMinutes(),o=r*60+i,[l,u]=n.hours_of_day.start.split(":").map(Number),[d,f]=n.hours_of_day.end.split(":").map(Number),p=l*60+u,g=d*60+f;if(o<p||o>g)return!1}return!0},_h=["review1","review2","review3","review4","review5","review6","review7"],n$=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],r$=["avatarUrl","highlightImageUrl","postImageUrl"],a$=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],i$=[...n$,...r$],s$=_h.flatMap(e=>i$.map(t=>`instagramReviews.reviews.${e}.${t}`)),du=[...a$,...s$],o$=du.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),l$=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),c$=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,u$=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,hC=typeof window<"u"&&typeof document<"u",d$=e=>{const t=e.trim().replace(/"|'/g,"");return c$.test(t)?t.toLowerCase():u$.test(t)?t.replace(/\s+/g,""):null},f$=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},h$=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},mC=e=>{if(!l$.has(e.tagName)){f$(e);return}const t=h$(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(o=>o.trim()).filter(Boolean).find(o=>o.toLowerCase().startsWith("color"));if(i){const[,o]=i.split(":"),l=o?d$(o):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&mC(n)})},m$=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),p$=e=>{const t=e??"";if(t.trim().length===0)return"";if(!hC)return m$(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&mC(r)}),n.innerHTML.trim()},g$=e=>{if(!hC)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},qj=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),pC=e=>{if(!e)return null;const t=p$(e.html??""),n=qj(e.plainText??""),r=qj(g$(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},v$={review1:{name:"Laura Méndez",handle:"@laurita.eats",timeAgo:"hace 2 días",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story « Taco Tuesday »",highlightCaption:"Guardado en Destacadas",location:"Bogotá · Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colorés garnis d'herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 días",message:"Estas arepas son lo más: combinan ingredientes súper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel « Brunch entre amigas »",highlightCaption:"Comentarios llenos de antojos",location:"Medellín · Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dorées et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastián Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aquí y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvió tema de conversación.",highlight:"Post « Team Afterwork »",highlightCaption:"Reacciones de la oficina",location:"Barranquilla · Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraîches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ríos",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El menú tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cariño. Increíble experiencia.",highlight:"Carousel « Night Out »",highlightCaption:"Comentarios fijados",location:"Cali · Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Pérez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me quedé por la originalidad del menú: el cheddar baña la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live « Burger Night »",highlightCaption:"Chat lleno de elogios",location:"Bogotá · Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gómez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaños y fue éxito total: tacos mini, dips calientes y una mesa que se veía divina para fotos. Todo llegó puntual y con instrucciones claras.",highlight:"Story « Fiesta privada »",highlightCaption:"Reseñas con confeti",location:"Cartagena · Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet coloré avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maíz dulce son mi nueva obsesión. Además, la atención es rapidísima.",highlight:"Reel « Veggie Lovers »",highlightCaption:"Comentarios verdes y felices",location:"Bogotá · Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dorées servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},Be=e=>e.trim(),X0=e=>typeof e=="string"&&e.trim().length>0,gC=(e,t)=>X0(e)?e.trim():t,vC=(e,t)=>X0(e)?e.trim():t,$c=(e,t)=>X0(e)?e.trim():t,He=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},ra=(e,t)=>e===void 0?t??null:e===null?null:Pi(e)??t??null,aa=e=>Pi(e)??null,y$=(e,t)=>{const n={};return _h.forEach(r=>{const i=t[r],o=(e==null?void 0:e[r])??{};n[r]={name:He(o==null?void 0:o.name,i.name),handle:He(o==null?void 0:o.handle,i.handle),timeAgo:He(o==null?void 0:o.timeAgo,i.timeAgo),message:He(o==null?void 0:o.message,i.message),highlight:He(o==null?void 0:o.highlight,i.highlight),highlightCaption:He(o==null?void 0:o.highlightCaption,i.highlightCaption),location:He(o==null?void 0:o.location,i.location),badgeLabel:He(o==null?void 0:o.badgeLabel,i.badgeLabel),postImageAlt:He(o==null?void 0:o.postImageAlt,i.postImageAlt),avatarUrl:ra(o==null?void 0:o.avatarUrl,i.avatarUrl),highlightImageUrl:ra(o==null?void 0:o.highlightImageUrl,i.highlightImageUrl),postImageUrl:ra(o==null?void 0:o.postImageUrl,i.postImageUrl)}}),n},b$=e=>{const t={};return _h.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:Be((r==null?void 0:r.name)??""),handle:Be((r==null?void 0:r.handle)??""),timeAgo:Be((r==null?void 0:r.timeAgo)??""),message:Be((r==null?void 0:r.message)??""),highlight:Be((r==null?void 0:r.highlight)??""),highlightCaption:Be((r==null?void 0:r.highlightCaption)??""),location:Be((r==null?void 0:r.location)??""),badgeLabel:Be((r==null?void 0:r.badgeLabel)??""),postImageAlt:Be((r==null?void 0:r.postImageAlt)??""),avatarUrl:aa(r==null?void 0:r.avatarUrl),highlightImageUrl:aa(r==null?void 0:r.highlightImageUrl),postImageUrl:aa(r==null?void 0:r.postImageUrl)}}),t},Yd=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},yC=e=>{if(!e)return null;const t=Yd(e.textColor??null),n=Yd(e.fontFamily??null),r=Yd(e.fontSize??null),i=Yd(e.backgroundColor??null),o={};return t&&(o.textColor=t),n&&(o.fontFamily=n),r&&(o.fontSize=r),i&&(o.backgroundColor=i),Object.keys(o).length>0?o:null},x$=(e,t)=>{const n=e??t,r={};return du.forEach(i=>{const o=yC(n[i]??null);o&&(r[i]=o)}),r},_$=(e,t)=>{const n=e??t,r={};return du.forEach(i=>{const o=yC(n[i]??null);o&&(r[i]=o)}),r},w$=(e,t)=>{const n=e??t,r={};return du.forEach(i=>{const o=n[i],l=pC(o??null);l&&(r[i]=l)}),r},S$=(e,t)=>{const n=e??t,r={};return du.forEach(i=>{const o=n[i],l=pC(o??null);l&&(r[i]=l)}),r},j$=["image","video","audio","font","raw"],O$=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,E$=e=>j$.includes(e)?e:"raw",N$=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},A$=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},bC=e=>{if(!e)return null;const t=Pi(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():O$(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",o=E$(e.type),l=A$(e.bytes),u=N$(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:o,createdAt:u}},C$=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>bC(r)).filter(Boolean):t.library}:t,T$=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>bC(i)).filter(Boolean):t.library}},xC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},_C={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},wC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},SC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},jC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},OC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},EC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},Q0={library:[]},NC={},AC={},ss=(e,t)=>{var o,l,u,d;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=$c((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?ra(((u=e==null?void 0:e.background)==null?void 0:u.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:$c((d=e==null?void 0:e.background)==null?void 0:d.color,t.background.color),image:n==="image"?i:null},fontFamily:gC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:vC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:$c((e==null?void 0:e.textColor)??null,t.textColor)}},os=(e,t)=>{var o,l,u;const n=((o=e==null?void 0:e.background)==null?void 0:o.type)==="image"?"image":"color",r=$c(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?aa(((u=e==null?void 0:e.background)==null?void 0:u.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:gC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:vC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:$c((e==null?void 0:e.textColor)??null,t.textColor)}},kf={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:"À propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:xC},hero:{title:"Le Goût Authentique du Mexique",subtitle:"Des tacos préparés avec passion, des ingrédients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernières commandes",reorderCtaLabel:"Commander à nouveau",style:_C},about:{title:"Notre Histoire",description:"Fondé par des passionnés de la cuisine mexicaine, OUIOUITACOS est né d'un désir simple : partager le goût authentique des tacos faits maison. Chaque recette est un héritage familial, chaque ingrédient est choisi avec soin, et chaque plat est préparé avec le cœur. Venez découvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:wC},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:SC},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cœur pour notre cuisine : ambiance solaire, service attentionné et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:jC,reviews:_h.reduce((e,t)=>(e[t]={...v$[t]},e),{})},findUs:{title:"Encuéntranos",addressLabel:"Dirección",address:`Cra. 53 #75-98
Barranquilla, Atlántico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo · 11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:OC},footer:{text:"Tous droits réservés.",style:EC},elementStyles:NC,elementRichText:AC,assets:Q0},ky=e=>{var n,r,i,o,l,u,d,f,p,g,v,x,w,S,j,E,A,N,T,k,M,R,z,H,q,F,K,ie,U,Z,L,V,oe,fe,ae,P,D,te,Q,ee,me,pe,$e,ne,Se,Te,ce;const t=kf;return{navigation:{brand:He((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:ra((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:ra((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:He((l=(o=e==null?void 0:e.navigation)==null?void 0:o.links)==null?void 0:l.home,t.navigation.links.home),about:He((d=(u=e==null?void 0:e.navigation)==null?void 0:u.links)==null?void 0:d.about,t.navigation.links.about),menu:He((p=(f=e==null?void 0:e.navigation)==null?void 0:f.links)==null?void 0:p.menu,t.navigation.links.menu),contact:He((v=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:v.contact,t.navigation.links.contact),loginCta:He((w=(x=e==null?void 0:e.navigation)==null?void 0:x.links)==null?void 0:w.loginCta,t.navigation.links.loginCta)},style:ss((S=e==null?void 0:e.navigation)==null?void 0:S.style,t.navigation.style)},hero:{title:He((j=e==null?void 0:e.hero)==null?void 0:j.title,t.hero.title),subtitle:He((E=e==null?void 0:e.hero)==null?void 0:E.subtitle,t.hero.subtitle),ctaLabel:He((A=e==null?void 0:e.hero)==null?void 0:A.ctaLabel,t.hero.ctaLabel),backgroundImage:ra((N=e==null?void 0:e.hero)==null?void 0:N.backgroundImage,t.hero.backgroundImage),historyTitle:He((T=e==null?void 0:e.hero)==null?void 0:T.historyTitle,t.hero.historyTitle),reorderCtaLabel:He((k=e==null?void 0:e.hero)==null?void 0:k.reorderCtaLabel,t.hero.reorderCtaLabel),style:ss((M=e==null?void 0:e.hero)==null?void 0:M.style,t.hero.style)},about:{title:He((R=e==null?void 0:e.about)==null?void 0:R.title,t.about.title),description:He((z=e==null?void 0:e.about)==null?void 0:z.description,t.about.description),image:ra((H=e==null?void 0:e.about)==null?void 0:H.image,t.about.image),style:ss((q=e==null?void 0:e.about)==null?void 0:q.style,t.about.style)},menu:{title:He((F=e==null?void 0:e.menu)==null?void 0:F.title,t.menu.title),ctaLabel:He((K=e==null?void 0:e.menu)==null?void 0:K.ctaLabel,t.menu.ctaLabel),loadingLabel:He((ie=e==null?void 0:e.menu)==null?void 0:ie.loadingLabel,t.menu.loadingLabel),image:ra((U=e==null?void 0:e.menu)==null?void 0:U.image,t.menu.image),style:ss((Z=e==null?void 0:e.menu)==null?void 0:Z.style,t.menu.style)},instagramReviews:{title:He((L=e==null?void 0:e.instagramReviews)==null?void 0:L.title,t.instagramReviews.title),subtitle:He((V=e==null?void 0:e.instagramReviews)==null?void 0:V.subtitle,t.instagramReviews.subtitle),image:ra((oe=e==null?void 0:e.instagramReviews)==null?void 0:oe.image,t.instagramReviews.image),style:ss((fe=e==null?void 0:e.instagramReviews)==null?void 0:fe.style,t.instagramReviews.style),reviews:y$(((ae=e==null?void 0:e.instagramReviews)==null?void 0:ae.reviews)??null,t.instagramReviews.reviews)},findUs:{title:He((P=e==null?void 0:e.findUs)==null?void 0:P.title,t.findUs.title),addressLabel:He((D=e==null?void 0:e.findUs)==null?void 0:D.addressLabel,t.findUs.addressLabel),address:He((te=e==null?void 0:e.findUs)==null?void 0:te.address,t.findUs.address),cityLabel:He((Q=e==null?void 0:e.findUs)==null?void 0:Q.cityLabel,t.findUs.cityLabel),city:He((ee=e==null?void 0:e.findUs)==null?void 0:ee.city,t.findUs.city),hoursLabel:He((me=e==null?void 0:e.findUs)==null?void 0:me.hoursLabel,t.findUs.hoursLabel),hours:He((pe=e==null?void 0:e.findUs)==null?void 0:pe.hours,t.findUs.hours),mapLabel:He(($e=e==null?void 0:e.findUs)==null?void 0:$e.mapLabel,t.findUs.mapLabel),mapUrl:He((ne=e==null?void 0:e.findUs)==null?void 0:ne.mapUrl,t.findUs.mapUrl),style:ss((Se=e==null?void 0:e.findUs)==null?void 0:Se.style,t.findUs.style)},footer:{text:He((Te=e==null?void 0:e.footer)==null?void 0:Te.text,t.footer.text),style:ss((ce=e==null?void 0:e.footer)==null?void 0:ce.style,t.footer.style)},elementStyles:x$((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:w$((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:C$((e==null?void 0:e.assets)??null,Q0)}},k$=e=>({navigation:{brand:Be(e.navigation.brand),brandLogo:aa(e.navigation.brandLogo)??null,staffLogo:aa(e.navigation.staffLogo)??null,links:{home:Be(e.navigation.links.home),about:Be(e.navigation.links.about),menu:Be(e.navigation.links.menu),contact:Be(e.navigation.links.contact),loginCta:Be(e.navigation.links.loginCta)},style:os(e.navigation.style,xC)},hero:{title:Be(e.hero.title),subtitle:Be(e.hero.subtitle),ctaLabel:Be(e.hero.ctaLabel),backgroundImage:aa(e.hero.backgroundImage),historyTitle:Be(e.hero.historyTitle),reorderCtaLabel:Be(e.hero.reorderCtaLabel),style:os(e.hero.style,_C)},about:{title:Be(e.about.title),description:Be(e.about.description),image:aa(e.about.image),style:os(e.about.style,wC)},menu:{title:Be(e.menu.title),ctaLabel:Be(e.menu.ctaLabel),loadingLabel:Be(e.menu.loadingLabel),image:aa(e.menu.image),style:os(e.menu.style,SC)},instagramReviews:{title:Be(e.instagramReviews.title),subtitle:Be(e.instagramReviews.subtitle),image:aa(e.instagramReviews.image),style:os(e.instagramReviews.style,jC),reviews:b$(e.instagramReviews.reviews??null)},findUs:{title:Be(e.findUs.title),addressLabel:Be(e.findUs.addressLabel),address:Be(e.findUs.address),cityLabel:Be(e.findUs.cityLabel),city:Be(e.findUs.city),hoursLabel:Be(e.findUs.hoursLabel),hours:Be(e.findUs.hours),mapLabel:Be(e.findUs.mapLabel),mapUrl:Be(e.findUs.mapUrl),style:os(e.findUs.style,OC)},footer:{text:Be(e.footer.text),style:os(e.footer.style,EC)},elementStyles:_$(e.elementStyles,NC),elementRichText:S$(e.elementRichText,AC),assets:T$(e.assets,Q0)}),ji={},gf=e=>{ji[e]&&ji[e].forEach(t=>t())};let Jo=null;const Bj="site_content",P$="default",M$=()=>{if(!(Jo||typeof de.channel!="function"))try{Jo=de.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>gf("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>gf("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>gf("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(Jo=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},ze=e=>{if(e.error)throw new Error(e.error.message);return e.data},bs=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},Ci=e=>{if(e)return new Date(e).getTime()},Py=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},_c=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},CC=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let o=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(o=o/1e3),n+o*r.qte_utilisee},0),R$=e=>{if(!e)return{permissions:{},homePage:void 0};const{[Os]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},Hj=(e,t)=>{const n={...e};return t?n[Os]=t:delete n[Os],n},D$=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===dC.ADMIN||t==="administrateur"},I$=(e,t)=>{const n={...e};return za in n||(n[za]=D$(t)?"editor":"none"),n},wc=(e,t)=>{const{permissions:n,homePage:r}=R$(e.permissions),i=I$(n,e.name),o={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(o.pin=e.pin),o},Fj=e=>e!=null&&e.content?ky(e.content):null,vf=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),TC=e=>({id:e.id,nom:e.nom}),L$=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),qo=(e,t)=>{const n=(e.product_recipes??[]).map(L$),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:FA(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=CC(n,t)),r},Sc=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),kC=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:Py(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:Ci(e.date_envoi)}),z$=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),$$=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return z$(n,r)},U$=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const o=n.findIndex(l=>$$(l,i));o!==-1&&r.push(n.splice(o,1)[0])}),[...r,...n]},Aa=e=>{const t=(e.order_items??[]).map(kC),n=Py(e.total),r=Py(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:Ci(e.date_creation)??Date.now(),date_envoi_cuisine:Ci(e.date_envoi_cuisine),date_listo_cuisine:Ci(e.date_listo_cuisine),date_servido:Ci(e.date_servido),payment_status:e.payment_status,items:t,total:n??t.reduce((o,l)=>o+l.prix_unitaire*l.quantite,0),profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i},q$=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:Ci(e.sale_date)??Date.now()}),B$=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},My=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:B$(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},Kj=async e=>{if(!e.commande_id)return My(e,new Map);const t=await de.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=bs(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:Ci(n.date_envoi_cuisine)}]]):new Map;return My(e,r)},Si=()=>de.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        )
      `).order("date_creation",{ascending:!1}),H$=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,Gj=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=de.from("products").select(H$(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},F$=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Bo=async(e,t)=>{let r=await e(Gj({...t,includeBestSellerColumns:!0}),!0);return F$(r.error)&&(r=await e(Gj({...t,includeBestSellerColumns:!1}),!1)),r},Zt=async e=>{const t=await Si().eq("id",e).maybeSingle(),n=bs(t);return n?Aa(n):null},K$=async e=>{const t=await de.from("order_items").select(`
        id,
        order_id,
        produit_id,
        nom_produit,
        prix_unitaire,
        quantite,
        excluded_ingredients,
        commentaire,
        estado,
        date_envoi
      `).eq("order_id",e);return ze(t).map(kC)},Yj=async e=>{if(e.items.length>0)return e;const t=await K$(e.id);if(t.length===0)return await Zt(e.id)??e;const n=t.reduce((r,i)=>r+i.prix_unitaire*i.quantite,0);return{...e,items:t,total:e.total>0?e.total:n}},PC=["a_emporter","pedir_en_linea"],yf=e=>PC.includes(e.type),G$=e=>{if(yf(e)){const t=e.statut==="en_cours",n=e.estado_cocina==="recibido"||e.estado_cocina==="no_enviado";return t&&n&&e.items.length>0}return e.estado_cocina!=="recibido"?!1:e.items.some(t=>t.estado==="enviado")},us=async()=>{const e=await de.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return ze(e).map(vf)},Y$=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,Vj=async e=>{try{return await us()}catch(t){if(Y$(t))return console.warn(`[api.${e}] Impossible de récupérer les ingrédients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},Cg=async()=>{const e=await de.from("categories").select("id, nom").order("nom");return ze(e).map(TC)},Wj=async()=>{const e=await de.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=ze(e),n=t.map(l=>l.commande_id).filter(l=>!!l);let r=new Map;if(n.length>0){const l=await de.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),u=ze(l);r=new Map(u.map(d=>[d.id,{estado_cocina:d.estado_cocina,date_envoi_cuisine:Ci(d.date_envoi_cuisine)}]))}const i=new Map,o=t.map(l=>l.id);if(o.length>0){const l=await de.from("orders").select("table_id").in("table_id",o).eq("estado_cocina","listo").in("statut",["en_cours"]);ze(l).forEach(d=>{const f=i.get(d.table_id)||0;i.set(d.table_id,f+1)})}return t.map(l=>({...My(l,r),readyOrdersCount:i.get(l.id)||0}))},Uc=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},V$={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},W$=e=>{const t=V$[e],n=new Date(Uc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},Tg=async e=>{const{data:t}=await de.from("orders").select("id, estado_cocina, statut").eq("table_id",e).in("statut",["en_cours"]);if(!t||t.length===0){const{data:p}=await de.from("restaurant_tables").select("statut").eq("id",e).single();(p==null?void 0:p.statut)!=="libre"&&await de.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",e);return}const n=t.map(p=>p.id),{data:r}=await de.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.some(p=>p.estado==="enviado"),l=i.some(p=>p.estado==="listo");i.some(p=>p.estado==="servido");const u=i.some(p=>p.estado==="en_attente"),d=i.every(p=>p.estado==="servido");let f;l?f="para_entregar":o||u?f="en_cuisine":d?f="para_pagar":f="en_cuisine",await de.from("restaurant_tables").update({statut:f}).eq("id",e)},Xj=async e=>{const{data:t}=await de.from("orders").select("id, estado_cocina, statut").eq("table_id",tableId).in("statut",["en_cours"]);if(!t||t.length===0){await de.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",tableId);return}const n=t.map(f=>f.id),{data:r}=await de.from("order_items").select("estado").in("order_id",n),i=r||[],o=i.every(f=>f.estado==="servido"),l=i.every(f=>f.estado==="listo"||f.estado==="servido"),u=i.some(f=>f.estado==="enviado");let d;o?d="para_pagar":l?d="para_entregar":d="en_cuisine",await de.from("restaurant_tables").update({statut:d}).eq("id",tableId)},Mn={subscribe:(e,t)=>(ji[e]||(ji[e]=[]),ji[e].push(t),e==="orders_updated"&&M$(),()=>{var n;ji[e]=(ji[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=ji[e])==null?void 0:n.length)===0&&Jo&&(typeof de.removeChannel=="function"&&de.removeChannel(Jo),Jo=null)}),publish:e=>{gf(e)}},Gn=e=>{(e==null?void 0:e.includeNotifications)!==!1&&Mn.publish("notifications_updated"),Mn.publish("orders_updated")},xe={notifications:Mn,getSiteContent:async()=>{const e=await de.from(Bj).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=bs(e);return Fj(t)},updateSiteContent:async e=>{const t=k$(e),n=await de.from(Bj).upsert({id:P$,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=ze(n),i=Fj(r);if(!i)throw new Error("Contenu du site introuvable après la mise à jour.");return i},getRoles:async()=>{const e=await de.from("roles").select("id, name, pin, permissions").order("name");return ze(e).map(n=>wc(n,!0))},getRoleById:async e=>{const t=await de.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=bs(t);return n?wc(n,!1):null},createRole:async e=>{const t=await de.from("roles").insert({name:e.name,pin:e.pin,permissions:Hj(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=ze(t);return Mn.publish("notifications_updated"),wc(n,!0)},updateRole:async(e,t)=>{const n=await de.from("roles").update({name:t.name,pin:t.pin,permissions:Hj(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=ze(n);return Mn.publish("notifications_updated"),wc(r,!0)},deleteRole:async e=>{const t=await de.from("roles").delete().eq("id",e);ze(t),Mn.publish("notifications_updated")},loginWithPin:async e=>{const t=await de.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=bs(t);if(!n)return null;const r=wc(n,!1);try{await a5(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rôle",i)}return r},getDashboardStats:async(e="week")=>{const{config:t,start:n,end:r}=W$(e),i=n.toISOString(),o=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const u=l.toISOString(),f=Uc().toISOString(),[p,g,v,x,w,S]=await Promise.all([Wj(),us(),Cg(),Bo(Q=>Q),Si().eq("statut","finalisee").gte("date_creation",f),Si().eq("statut","finalisee").gte("date_creation",u).lt("date_creation",o)]),E=ze(w).map(Aa),N=ze(S).map(Aa),T=N.filter(Q=>Q.date_creation>=n.getTime()),k=N.filter(Q=>Q.date_creation<n.getTime()),M=new Map(g.map(Q=>[Q.id,Q])),R=ze(x),z=new Map(R.map(Q=>{const ee=qo(Q,M);return[ee.id,ee]})),H=T.reduce((Q,ee)=>Q+(ee.total??0),0),q=T.reduce((Q,ee)=>Q+ee.items.reduce((me,pe)=>{const $e=z.get(pe.produitRef),ne=$e?CC($e.recipe,M):0;return me+(pe.prix_unitaire-ne)*pe.quantite},0),0),F=T.reduce((Q,ee)=>Q+(ee.couverts??0),0),K=T.length>0?H/T.length:0,ie=new Map(v.map(Q=>[Q.id,Q.nom])),U=new Map;T.forEach(Q=>{Q.items.forEach(ee=>{const me=z.get(ee.produitRef),pe=me?ie.get(me.categoria_id)??"Sans catégorie":"Sans catégorie";U.set(pe,(U.get(pe)??0)+ee.prix_unitaire*ee.quantite)})});const Z=Array.from(U.entries()).map(([Q,ee])=>({name:Q,value:ee})),L=[...T].sort((Q,ee)=>ee.date_creation-Q.date_creation).slice(0,5),V=Array.from(z.values()).filter(Q=>Q.is_best_seller).sort((Q,ee)=>{const me=Q.best_seller_rank??Number.POSITIVE_INFINITY,pe=ee.best_seller_rank??Number.POSITIVE_INFINITY;return me===pe?Q.nom_produit.localeCompare(ee.nom_produit):me-pe}).slice(0,6),oe=p.filter(Q=>Q.statut!=="libre").length,fe=p.reduce((Q,ee)=>Q+(ee.couverts??0),0),ae=E.filter(Q=>Q.estado_cocina==="recibido").length,P=g.filter(Q=>Q.stock_actuel<=Q.stock_minimum),D=(Q,ee,me)=>{const pe=ee.getTime(),$e=me.getTime();return Q.reduce((ne,Se)=>Se.date_creation>=pe&&Se.date_creation<$e?ne+(Se.total??0):ne,0)},te=Array.from({length:t.days}).map((Q,ee)=>{const me=new Date(n);me.setDate(me.getDate()+ee);const pe=new Date(me);pe.setDate(pe.getDate()+1);const $e=new Date(l);$e.setDate($e.getDate()+ee);const ne=new Date($e);return ne.setDate(ne.getDate()+1),{name:t.days===7?ee===t.days-1?"Auj":`J-${t.days-1-ee}`:me.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:D(T,me,pe),ventesPeriodePrecedente:D(k,$e,ne)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:o,ventesPeriode:H,beneficePeriode:q,clientsPeriode:F,panierMoyen:K,tablesOccupees:oe,clientsActuels:fe,commandesEnCuisine:ae,ingredientsStockBas:P,ventesPeriodeSeries:te,ventesParCategorie:Z,recentOrders:L,bestSellerProducts:V}},getSalesByProduct:async e=>{const t=f=>{if(f)return typeof f=="string"?f:f.toISOString()},n=t(e==null?void 0:e.start)??Uc().toISOString(),r=t(e==null?void 0:e.end);let i=de.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const o=await i,l=ze(o),u=new Map;l.forEach(f=>{const p=u.get(f.product_id)??{name:f.product_name,value:0};p.value+=f.total_price,u.set(f.product_id,p)});const d=Array.from(u.values()).sort((f,p)=>p.value-f.value);if(d.length>6){const f=d.slice(0,6),p=d.slice(6).reduce((g,v)=>g+v.value,0);return[...f,{name:"Autres",value:p}]}return d},getTables:async()=>Wj(),createTable:async e=>{const t=await de.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=ze(t);return Gn(),Kj(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await de.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=ze(r);return Gn(),Kj(i)},deleteTable:async e=>{const t=await de.from("restaurant_tables").delete().eq("id",e);ze(t),Gn()},getIngredients:async()=>us(),getProducts:async()=>{const[e,t]=await Promise.all([Bo(i=>i.neq("estado","archive")),Vj("getProducts")]),n=ze(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>qo(i,r))},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Bo((i,o)=>o?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),Vj("getBestSellerProducts")]),n=ze(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,o)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,u=o.best_seller_rank??Number.POSITIVE_INFINITY;return l-u}).map(i=>qo(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>Cg(),getKitchenOrders:async()=>{const e=await Si().in("estado_cocina",["recibido","no_enviado"]).neq("statut","finalisee"),t=ze(e),n=await Promise.all(t.map(o=>Yj(Aa(o)))),r=[];return n.filter(G$).forEach(o=>{const l=o.items.filter(f=>f.estado==="enviado"),u=l.length>0?l:yf(o)?o.items:[];if(u.length===0)return;u.reduce((f,p)=>{const g=p.date_envoi??o.date_envoi_cuisine??o.date_creation,v=f.get(g)??[];return v.push(p),f.set(g,v),f},new Map).forEach((f,p)=>{r.push({...o,items:f,date_envoi_cuisine:p,ticketKey:`${o.id}-${p}`})})}),r.sort((o,l)=>{const u=o.date_envoi_cuisine??o.date_creation,d=l.date_envoi_cuisine??l.date_creation;return u-d})},getTakeawayOrders:async()=>{const e=await Si().in("type",PC),t=ze(e),n=await Promise.all(t.map(r=>Yj(Aa(r))));return{pending:n.filter(r=>r.statut==="pendiente_validacion"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await Zt(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await de.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=bs(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await Zt(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await de.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),o=ze(i);return await de.from("restaurant_tables").update({statut:"en_cuisine",commande_id:o.id,couverts:n.couverts??n.capacite}).eq("id",e),Gn(),Aa(o)},cancelUnsentTableOrder:async e=>{const t=await Zt(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await de.from("order_items").delete().eq("order_id",e),await de.from("orders").delete().eq("id",e),t.table_id&&await de.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),Gn())},updateOrder:async(e,t,n)=>{const r=await Zt(e);if(!r)throw new Error("Order not found");if(r.items,t.items){const g=t.items.map(v=>{const x={order_id:e,produit_id:v.produitRef,nom_produit:v.nom_produit,prix_unitaire:v.prix_unitaire,quantite:v.quantite,excluded_ingredients:v.excluded_ingredients,commentaire:v.commentaire,estado:v.estado,date_envoi:_c(v.date_envoi)??null};return Sc(v.id)&&(x.id=v.id),x});g.length>0&&await de.from("order_items").upsert(g,{defaultToNull:!1}),t.items}const{items:i,clientInfo:o,removedItemIds:l=[],...u}=t,d={};u.type&&(d.type=u.type),u.table_id!==void 0&&(d.table_id=u.table_id),u.table_nom!==void 0&&(d.table_nom=u.table_nom),u.couverts!==void 0&&(d.couverts=u.couverts),u.statut&&(d.statut=u.statut),u.estado_cocina&&(d.estado_cocina=u.estado_cocina),u.payment_status&&(d.payment_status=u.payment_status),u.payment_method!==void 0&&(d.payment_method=u.payment_method),u.payment_receipt_url!==void 0&&(d.payment_receipt_url=u.payment_receipt_url),u.receipt_url!==void 0&&(d.receipt_url=u.receipt_url),u.total!==void 0&&(d.total=u.total),u.profit!==void 0&&(d.profit=u.profit),u.date_creation!==void 0&&(d.date_creation=_c(u.date_creation)),u.date_envoi_cuisine!==void 0&&(d.date_envoi_cuisine=_c(u.date_envoi_cuisine)),u.date_listo_cuisine!==void 0&&(d.date_listo_cuisine=_c(u.date_listo_cuisine)),u.date_servido!==void 0&&(d.date_servido=_c(u.date_servido)),t.items&&(d.total=t.items.reduce((g,v)=>g+v.prix_unitaire*v.quantite,0));const f=l.filter(g=>Sc(g));f.length>0&&await de.from("order_items").delete().in("id",f),o&&(d.client_nom=(o==null?void 0:o.nom)??null,d.client_telephone=(o==null?void 0:o.telephone)??null,d.client_adresse=(o==null?void 0:o.adresse)??null),Object.keys(d).length>0&&await de.from("orders").update(d).eq("id",e),Gn({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const p=await Zt(e);if(!p)throw new Error("Order not found after update");return t.items?{...p,items:U$(t.items,p.items)}:p},sendOrderToKitchen:async(e,t)=>{const n=await Zt(e);if(!n)throw new Error("Order not found");const r=n.items.filter(d=>d.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const d=new Set(t);return r.filter(f=>d.has(f.id))})();if(i.length===0)return n;const o=i.filter(d=>Sc(d.id)).map(d=>d.id);if(o.length===0)return n;const l=new Date().toISOString();await de.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",o),await de.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await de.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),Gn();const u=await Zt(e);if(!u)throw new Error("Order not found after sending to kitchen");return u},markOrderAsReady:async(e,t)=>{const n=new Date().toISOString(),r=await Zt(e);if(!r)throw new Error("Order not found");if(t!==void 0){const o=r.items.filter(d=>(d.date_envoi??r.date_envoi_cuisine??r.date_creation)===t);for(const d of o)await de.from("order_items").update({estado:"listo"}).eq("id",d.id);r.items.every(d=>(d.date_envoi??r.date_envoi_cuisine??r.date_creation)===t||d.estado==="listo"||d.estado==="servido")&&await de.from("orders").update({estado_cocina:"listo",date_listo_cuisine:n}).eq("id",e),r.table_id&&await Tg(r.table_id),Gn();const u=await Zt(e);if(!u)throw new Error("Order not found after ready update");return u}Gn();const i=await Zt(e);if(!i)throw new Error("Order not found after ready update");return i},markOrderAsServed:async e=>{const t=await Zt(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await de.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),await de.from("order_items").update({estado:"servido"}).eq("order_id",e).eq("estado","listo"),t.table_id&&await Tg(t.table_id),Gn();const r=await Zt(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await Zt(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await de.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i}).eq("id",e),r.table_id&&await Tg(r.table_id),Gn();const o=await Zt(e);if(!o)throw new Error("Order not found after finalization");const l=await Xj();return{...o,profit:l}},submitCustomerOrder:async e=>{var l,u,d;const n=new Date().toISOString(),r=await de.from("orders").insert({type:"pedir_en_linea",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",payment_method:e.payment_method??null,total:e.items.reduce((f,p)=>f+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((u=e.clientInfo)==null?void 0:u.telephone)??null,client_adresse:((d=e.clientInfo)==null?void 0:d.adresse)??null,receipt_url:e.receipt_url??null}).select("*").single(),i=ze(r);if(e.items.length>0){const f=e.items.map(g=>{const v={order_id:i.id,produit_id:g.produitRef&&Sc(g.produitRef)?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients,commentaire:g.commentaire,estado:g.estado,date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null};return Sc(g.id)&&(v.id=g.id),v}),p=await de.from("order_items").insert(f,{defaultToNull:!1});if(p.error)throw console.error("Failed to insert order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}Gn();const o=await Zt(i.id);if(!o)throw new Error("Order not found after creation");return o},getCustomerOrderStatus:async e=>Zt(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await de.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",date_envoi_cuisine:t}).eq("id",e),await de.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),Gn();const n=await Zt(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await de.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),Gn();const t=await Zt(e);if(!t)throw new Error("Order not found after delivery");const n=await Xj();return{...t,profit:n}},getNotificationCounts:async()=>{const e=await Si(),n=ze(e).map(Aa);return{pendingTakeaway:n.filter(r=>yf(r)&&r.statut==="pendiente_validacion").length,readyTakeaway:n.filter(r=>yf(r)&&r.estado_cocina==="listo").length,kitchenOrders:(await xe.getKitchenOrders()).length,lowStockIngredients:(await us()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=Uc(e),n=t.toISOString();s5(n);const[r,i,o,l]=await Promise.all([Si().eq("statut","finalisee"),Cg(),us(),Bo(R=>R)]);let u=[],d=!1;try{u=await i5(n)}catch(R){console.warn("Failed to fetch role logins for daily report",R),d=!0}const p=ze(r).map(Aa),g=t.getTime(),v=e.getTime(),x=p.filter(R=>{const z=R.date_servido??R.date_listo_cuisine??R.date_creation;return z>=g&&z<=v}),w=x.reduce((R,z)=>R+z.total,0),S=x.reduce((R,z)=>R+z.couverts,0),j=x.length>0?w/x.length:0,E=new Map(o.map(R=>[R.id,R])),A=ze(l),N=new Map(A.map(R=>{const z=qo(R,E);return[z.id,z]})),T=new Map(i.map(R=>[R.id,R.nom])),k=new Map;x.forEach(R=>{R.items.forEach(z=>{const H=N.get(z.produitRef),q=H?T.get(H.categoria_id)??"Sans catégorie":"Sans catégorie",F=H?H.categoria_id:"unknown",K=k.get(F)??{categoryName:q,products:[]},ie=K.products.find(U=>U.id===z.produitRef);ie?(ie.quantity+=z.quantite,ie.totalSales+=z.prix_unitaire*z.quantite):K.products.push({id:z.produitRef,name:z.nom_produit,quantity:z.quantite,totalSales:z.prix_unitaire*z.quantite}),k.set(F,K)})}),k.forEach(R=>{R.products.sort((z,H)=>H.quantity-z.quantity)});const M=o.filter(R=>R.stock_actuel<=R.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:S,panierMoyen:j,ventesDuJour:w,soldProducts:Array.from(k.values()),lowStockIngredients:M,roleLogins:u,roleLoginsUnavailable:d}},getSalesHistory:async()=>{const e=await de.from("sales").select("*").order("sale_date",{ascending:!1});return ze(e).map(q$)},getFinalizedOrders:async()=>{const e=await Si().eq("statut","finalisee");return ze(e).map(Aa)},addIngredient:async e=>{const t=await de.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=ze(t);return Mn.publish("notifications_updated"),vf(n)},updateIngredient:async(e,t)=>{const n=await de.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=ze(n);return Mn.publish("notifications_updated"),vf(r)},deleteIngredient:async e=>{const t=await de.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1);if(ze(t).length>0)throw new Error("Impossible de supprimer l'ingrédient car il est utilisé dans une recette.");return await de.from("ingredients").delete().eq("id",e),Mn.publish("notifications_updated"),{success:!0}},resupplyIngredient:async(e,t,n)=>{const r=await de.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).maybeSingle(),i=bs(r);if(!i)throw new Error("Ingredient not found");const o=i.prix_unitaire*i.stock_actuel,l=t*n,u=i.stock_actuel+t,d=u>0?(o+l)/u:0;await de.from("ingredients").update({stock_actuel:u,prix_unitaire:Number.isFinite(d)?d:0}).eq("id",e),await de.from("purchases").insert({ingredient_id:e,quantite_achetee:t,prix_total:l,date_achat:new Date().toISOString()}),Mn.publish("notifications_updated");const f=await de.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").eq("id",e).single(),p=ze(f);return vf(p)},addProduct:async e=>{const t=await de.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:Pi(e.image),is_best_seller:e.is_best_seller,best_seller_rank:e.is_best_seller?e.best_seller_rank:null}).select("id").single(),n=ze(t);e.recipe.length>0&&await de.from("product_recipes").insert(e.recipe.map(u=>({product_id:n.id,ingredient_id:u.ingredient_id,qte_utilisee:u.qte_utilisee}))),Mn.publish("notifications_updated");const r=await Bo(u=>u.eq("id",n.id).single()),i=ze(r),o=await us(),l=new Map(o.map(u=>[u.id,u]));return qo(i,l)},updateProduct:async(e,t)=>{const{recipe:n,...r}=t,i={};if(r.nom_produit!==void 0&&(i.nom_produit=r.nom_produit),r.description!==void 0&&(i.description=r.description??null),r.prix_vente!==void 0&&(i.prix_vente=r.prix_vente),r.categoria_id!==void 0&&(i.categoria_id=r.categoria_id),r.estado!==void 0&&(i.estado=r.estado),r.image!==void 0&&(i.image=Pi(r.image)),r.best_seller_rank!==void 0&&(i.best_seller_rank=r.best_seller_rank),r.is_best_seller!==void 0&&(i.is_best_seller=r.is_best_seller,r.is_best_seller||(i.best_seller_rank=null)),Object.keys(i).length>0){const f=await de.from("products").update(i).eq("id",e);ze(f)}if(n){const f=await de.from("product_recipes").delete().eq("product_id",e);if(ze(f),n.length>0){const p=await de.from("product_recipes").insert(n.map(g=>({product_id:e,ingredient_id:g.ingredient_id,qte_utilisee:g.qte_utilisee})));ze(p)}}Mn.publish("notifications_updated");const o=await Bo(f=>f.eq("id",e).single()),l=ze(o),u=await us(),d=new Map(u.map(f=>[f.id,f]));return qo(l,d)},deleteProduct:async e=>{await de.from("product_recipes").delete().eq("product_id",e),await de.from("products").delete().eq("id",e),Mn.publish("notifications_updated")},addCategory:async e=>{const t=await de.from("categories").insert({nom:e}).select("id, nom").single(),n=ze(t);return Mn.publish("notifications_updated"),TC(n)},deleteCategory:async e=>{await de.from("categories").delete().eq("id",e),Mn.publish("notifications_updated")}},MC=_.createContext(void 0),X$=({children:e})=>{const[t,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!f||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(f),v=JSON.parse(p);if(!(g!=null&&g.id)||v.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const x=await xe.getRoleById(g.id);x?(n(x),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(x)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:x.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(f){console.error("Failed to restore role:",f),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const o=_.useCallback(async d=>{i(!0);try{const f=await xe.loginWithPin(d);if(!f)throw new Error("PIN invalide");return n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()})),f}finally{i(!1)}},[]),l=_.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),u=_.useCallback(async()=>{if(t!=null&&t.id)try{const d=await xe.getRoleById(t.id);d?(n(d),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(d)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:d.id,authenticatedAt:Date.now()}))):l()}catch(d){console.error("Failed to refresh role:",d)}},[l,t==null?void 0:t.id]);return m.jsx(MC.Provider,{value:{role:t,loading:r,login:o,logout:l,refreshRole:u},children:e})},ca=()=>{const e=_.useContext(MC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Pf=e=>e==="editor"||e==="readonly",J0=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Pf(n==null?void 0:n[t]))return t;const r=Vn.find(i=>Pf(n==null?void 0:n[i.permissionKey]));return r?r.href:null},Q$=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),J$=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:o}=ca(),l=Ha(),u=_.useRef(null),d=_.useRef(null),f=()=>{o(),l("/")},p=i==null?void 0:i.permissions,g=_.useMemo(()=>Vn.filter(S=>{const j=p==null?void 0:p[S.permissionKey];return Pf(j)}),[p]),v=_.useMemo(()=>g.find(S=>S.permissionKey===za),[g]),x=_.useMemo(()=>g.filter(S=>S.permissionKey!==za),[g]);_.useEffect(()=>{var N;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;d.current=document.activeElement;const j=u.current,E=j==null?void 0:j.querySelectorAll(Q$);(N=E==null?void 0:E[0])==null||N.focus();const A=T=>{if(T.key==="Escape"&&(T.preventDefault(),t()),T.key==="Tab"&&E&&E.length>0){const k=E[0],M=E[E.length-1];T.shiftKey?document.activeElement===k&&(T.preventDefault(),M.focus()):document.activeElement===M&&(T.preventDefault(),k.focus())}};return document.addEventListener("keydown",A),()=>{var T,k;document.removeEventListener("keydown",A),(k=(T=d.current)==null?void 0:T.focus)==null||k.call(T)}},[e,t]);const w=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),m.jsxs("aside",{ref:u,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegación principal",children:[m.jsxs("div",{className:"app-sidebar__header",children:[m.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),m.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el menú",children:m.jsx(Ti,{size:20})})]}),m.jsxs("div",{className:"app-sidebar__content",children:[m.jsx("div",{className:"app-sidebar__scroll-region",children:m.jsx("nav",{className:"app-sidebar__nav",children:x.map(S=>{let j=null;return n&&(S.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?j=m.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):S.href==="/ventes"&&n.readyForService>0?j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):S.href==="/cocina"&&n.kitchenOrders>0?j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):S.href==="/ingredients"&&n.lowStockIngredients>0&&(j=m.jsx("span",{className:"app-sidebar__badge-group",children:m.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),m.jsxs(py,{to:S.href,onClick:w,className:({isActive:E})=>`app-sidebar__nav-link${E?" is-active":""}`,children:[m.jsx(S.icon,{size:22}),m.jsx("span",{children:S.name}),j]},S.name)})})}),m.jsxs("div",{className:"app-sidebar__section",children:[v&&m.jsxs(py,{to:v.href,onClick:w,className:({isActive:S})=>`app-sidebar__action${S?" is-active":""}`,children:[m.jsx(v.icon,{size:22}),m.jsx("span",{className:"font-semibold",children:v.name})]}),m.jsxs("button",{onClick:()=>{r(),w()},className:"app-sidebar__action",children:[m.jsx(tC,{size:22}),m.jsx("span",{className:"font-semibold",children:"Reporte"})]}),m.jsxs("button",{onClick:f,className:"app-sidebar__action app-sidebar__action--logout",children:[m.jsx(lz,{size:22}),m.jsx("span",{className:"font-semibold",children:"Cerrar sesión"})]})]})]})]})]})},Cn=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const o={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=_.useId();return _.useEffect(()=>{if(!e)return;const u=d=>{d.key==="Escape"&&(d.preventDefault(),t())};return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[e,t]),e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${o[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:u=>u.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[m.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),m.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fenêtre modale",children:m.jsx(Ti,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},Z$=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),eU=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function RC(e){return Number.isFinite(e)?Math.round(e):0}function tU(e){return Z$.format(RC(e))}function Me(e){return eU.format(RC(e))}const kg=({icon:e,label:t,value:n})=>m.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[m.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),m.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),nU=({isOpen:e,onClose:t})=>{const[n,r]=_.useState(null),[i,o]=_.useState(!0),[l,u]=_.useState(null);_.useEffect(()=>{e&&(async()=>{o(!0),u(null);try{const v=await xe.generateDailyReport();r(v)}catch(v){console.error("Error al generar el informe diario",v),r(null),u("No fue posible generar el informe diario. Intenta nuevamente más tarde.")}finally{o(!1)}})()},[e]);const d=g=>{const v=new Map;return g.forEach(x=>{const w=new Date(x.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),S=v.get(x.roleName)??[];S.push(w),v.set(x.roleName,S)}),v},f=g=>{const v=[];if(v.push("*REPORTE OUIOUITACOS*"),v.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),v.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),v.push("---"),v.push("*Estadísticas del día*"),v.push(`- Ventas: *${Me(g.ventesDuJour)}*`),v.push(`- Clientes: *${g.clientsDuJour}*`),v.push(`- Ticket promedio: *${Me(g.panierMoyen)}*`),v.push("---"),v.push("*Productos vendidos*"),g.soldProducts.length===0?v.push("Ningún producto vendido."):g.soldProducts.forEach(x=>{v.push(`
_${x.categoryName}_`),x.products.forEach(w=>{v.push(`  - ${w.quantity}x ${w.name} (${Me(w.totalSales)})`)})}),v.push("---"),v.push("*Inicios de sesión desde las 05:00*"),g.roleLoginsUnavailable)v.push("Inicios de sesión no disponibles en este dispositivo.");else{const x=d(g.roleLogins);x.size===0?v.push("No hay inicios de sesión registrados."):x.forEach((w,S)=>{v.push(`- ${S}: ${w.join(", ")}`)})}return v.push("---"),v.push("*Inventario bajo*"),g.lowStockIngredients.length===0?v.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(x=>{v.push(`- ${x.nom} (${x.stock_actuel} / ${x.stock_minimum} ${x.unite})`)}),encodeURIComponent(v.join(`
`))},p=()=>{if(!n)return;const v=`https://wa.me/?text=${f(n)}`;window.open(v,"_blank"),t()};return m.jsx(Cn,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&m.jsx("p",{children:"Generando el reporte..."}),!i&&l&&m.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&m.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&m.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&m.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[m.jsx(Tf,{className:"mt-0.5 h-4 w-4"}),m.jsx("span",{children:"Los inicios de sesión de los roles no están disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),m.jsxs("div",{className:"text-center border-b pb-4",children:[m.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),m.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[m.jsx(kg,{icon:m.jsx(Gc,{}),label:"Ventas del día",value:Me(n.ventesDuJour)}),m.jsx(kg,{icon:m.jsx(Ty,{}),label:"Clientes del día",value:n.clientsDuJour}),m.jsx(kg,{icon:m.jsx(oC,{}),label:"Ticket promedio",value:Me(n.panierMoyen)})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(Wo,{})," Productos vendidos"]}),m.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),m.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(v=>m.jsxs("li",{children:[v.quantity,"x ",v.name," - ",m.jsx("span",{className:"font-semibold",children:Me(v.totalSales)})]},v.id))})]},g.categoryName))})]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(sz,{})," Inicios de sesión desde las 05:00"]}),n.roleLoginsUnavailable?m.jsx("p",{className:"text-gray-500",children:"Inicios de sesión no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=d(n.roleLogins);return g.size===0?m.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesión registrados desde las 05:00."}):m.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([v,x])=>m.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{className:"font-semibold text-gray-800",children:v}),m.jsx("span",{className:"text-sm text-gray-600",children:x.join(", ")})]},v))})})()]}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[m.jsx(Tf,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?m.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>m.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[m.jsx("span",{children:g.nom}),m.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):m.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[m.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),m.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[m.jsx(rC,{size:20})," Enviar por WhatsApp"]})]})]})})},rU=()=>{const[e,t]=_.useState(!1),{role:n}=ca(),[r,i]=_.useState(null),[o,l]=_.useState(!1),u=()=>t(!0),d=()=>t(!1);return _.useEffect(()=>{const f=async()=>{try{const g=await xe.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};f();const p=xe.notifications.subscribe("notifications_updated",f);return()=>{p()}},[]),_.useEffect(()=>{if(typeof window>"u")return;const f=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"app-shell",children:[m.jsx(J$,{isOpen:e,onClose:d,notifications:r,onReportClick:()=>l(!0)}),m.jsxs("div",{className:"app-main",children:[m.jsxs("header",{className:"app-header",children:[m.jsx("button",{type:"button",onClick:u,className:"app-header__menu-button md:hidden","aria-label":"Abrir el menú",children:m.jsx(nC,{size:24})}),m.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),m.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),m.jsx("main",{className:"app-content",children:m.jsx("div",{className:"app-content__inner",children:m.jsx(K4,{})})})]})]}),m.jsx(nU,{isOpen:o,onClose:()=>l(!1)})]})},Ry="active-customer-order",Dy="active-customer-order-id",aU=1440*60*1e3,iU=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},Yc=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(Ry),window.localStorage.removeItem(Dy);return}window.localStorage.setItem(Ry,JSON.stringify(e)),window.localStorage.removeItem(Dy)}catch(t){console.error("Failed to persist active order",t)}},DC=()=>{if(typeof window>"u")return null;const e=iU(window.localStorage.getItem(Ry));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(Yc(null),null):e;const t=window.localStorage.getItem(Dy);if(t&&t.trim().length>0){const n={orderId:t};return Yc(n),n}return null},sU=(e,t)=>{if(!e){Yc(null);return}Yc(t?{orderId:e,expiresAt:t}:{orderId:e})},IC=()=>{Yc(null)},oU=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},lU=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var S,j,E;const[r,i]=_.useState(null),[o,l]=_.useState(!0),[u,d]=_.useState(!1),f=[{name:"Enviado",icon:tC},{name:"Validado",icon:Ay},{name:"En preparacion",icon:QA},{name:"Listo",icon:gz}],p=_.useCallback(A=>A?A.statut==="finalisee"||A.estado_cocina==="servido"||A.estado_cocina==="entregada"||A.estado_cocina==="listo"?3:A.estado_cocina==="recibido"?2:A.statut==="en_cours"?1:A.statut==="pendiente_validacion"||A.estado_cocina==="no_enviado"?0:-1:-1,[]),g=_.useMemo(()=>p(r),[r,p]);_.useEffect(()=>{let A=!0,N;const T=async()=>{try{const k=await xe.getCustomerOrderStatus(e);if(A){if(i(k),(k==null?void 0:k.statut)==="finalisee"||(k==null?void 0:k.estado_cocina)==="servido"||(k==null?void 0:k.estado_cocina)==="entregada"){N&&clearInterval(N),oU(k);const M=k.date_servido??Date.now();sU(k.id,M+aU)}if(!k){const M=DC();(M==null?void 0:M.orderId)===e&&IC()}}}catch(k){console.error("Failed to fetch order status",k)}finally{A&&l(!1)}};return T(),N=setInterval(T,5e3),()=>{A=!1,clearInterval(N)}},[e]);const v=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",x=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",w=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return o?m.jsx("div",{className:x,children:"Chargement du suivi de commande..."}):r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:x,children:m.jsxs("div",{className:w,children:[m.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),m.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),m.jsx("div",{className:"flex justify-between items-start mb-10 px-2",children:f.map((A,N)=>{const T=N===g,k=N===f.length-1,M=N<g||k&&v,z=["w-16 h-16 rounded-full flex items-center justify-center border-4 transition-all duration-300",M?"bg-green-500 border-green-500 text-white":"",!M&&T&&N===0?"waiting-status-indicator":"",!M&&T&&N!==0?"bg-brand-primary border-brand-primary text-brand-secondary animate-pulse":"",!M&&!T?"bg-gray-200 border-gray-300 text-gray-500":""].filter(Boolean).join(" ");return m.jsxs(Gr.Fragment,{children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-24",children:[m.jsx("div",{className:z,children:m.jsx(A.icon,{size:32})}),m.jsx("p",{className:`mt-2 text-sm md:text-base font-semibold break-words ${T?"font-bold text-brand-primary":`${n==="hero"?"text-gray-300":"text-gray-600"}`}`,children:A.name})]}),N<f.length-1&&m.jsx("div",{className:`flex-1 h-2 mt-8 transition-colors duration-500 ${M?"bg-green-500":"bg-gray-300"}`})]},A.name)})}),m.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4`,children:[m.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Résumé de la commande"}),m.jsx("div",{className:"space-y-2",children:r.items.map(A=>m.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[m.jsxs("span",{children:[A.quantite,"x ",A.nom_produit]}),m.jsx("span",{children:Me(A.prix_unitaire*A.quantite)})]},A.id))}),m.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Me(r.total)})]}),m.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(W0,{size:16,className:"mr-2"}),(S=r.clientInfo)==null?void 0:S.nom]}),m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(iC,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.telephone]}),m.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[m.jsx(Y0,{size:16,className:"mr-2"}),(E=r.clientInfo)==null?void 0:E.adresse]}),r.receipt_url&&m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center text-blue-400 hover:underline",children:[m.jsx(Ez,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),m.jsxs("div",{className:"mt-8 text-center space-y-4",children:[v&&m.jsx("div",{className:"flex justify-center",children:m.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[m.jsx(Ay,{size:16})," Pedido listo"]})}),r.statut==="finalisee"?m.jsx("button",{onClick:t,className:`${n==="hero"?"bg-gray-200 text-gray-800":"bg-brand-primary text-brand-secondary"} font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition`,children:"Passer une nouvelle commande"}):m.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis à jour automatiquement."})]})]})}),m.jsx(Cn,{isOpen:u,onClose:()=>d(!1),title:"Justificatif de Paiement",children:r.receipt_url?m.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):m.jsx("p",{children:"Aucun justificatif fourni."})})]}):m.jsx("div",{className:x,children:m.jsxs("div",{className:w,children:[m.jsx("h2",{className:`text-2xl font-bold mb-4 ${n==="hero"?"text-red-400":"text-red-600"}`,children:"Commande non trouvée"}),m.jsx("p",{className:`${n==="hero"?"text-gray-200":"text-gray-600"} mb-6`,children:"Nous n'avons pas pu retrouver votre commande."}),m.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})};let Vd=null;const LC=()=>{const[e,t]=_.useState(Vd),[n,r]=_.useState(!0),[i,o]=_.useState(null),l=_.useCallback(async()=>{r(!0);try{const d=await xe.getSiteContent(),f=ky(d??void 0);Vd=f,t(f),o(null)}catch(d){console.error("Failed to fetch site content",d),Vd=kf,t(kf),o(d instanceof Error?d.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),u=_.useCallback(async d=>{const f=await xe.updateSiteContent(d),p=ky(f);return t(p),Vd=p,p},[]);return _.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:u}},cU={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},uU={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},dU=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},fU=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(cU))if(t.includes(n))return r;return null},hU=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return uU[r]??null},mU=e=>{const t=fU(e.format);return t||hU(e.url)},pU=e=>{const t=dU(e.name),n=mU(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},gU="data-custom-font-faces",vU=e=>{_.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(o=>o.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(o=>{const l=pU(o),u=l.match(/font-family: "([^"]+)";/),d=u?u[1]:o.name;r.has(d)||(r.add(d),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(gU,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},zC=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},Yo=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},$C=(e,t)=>{const n=Yo(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Vo=e=>({color:e.textColor,fontFamily:zC(e.fontFamily)}),Pg=e=>({...Vo(e),fontSize:e.fontSize}),UC=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:zC((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},yU=(e,t)=>({...UC(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),bU=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},xU=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",o=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${o}=${l}`}},Mg=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'élément modifiable "${e}"`)};Gr.createContext(!0);const Iy="/logo-brand.svg",Ho=()=>({background:{type:"color",color:"#ffffff",image:null},fontFamily:"inherit",fontSize:"16px",textColor:"#000000"}),_U={navigation:{brand:"",brandLogo:Iy,links:{home:"",about:"",menu:"",loginCta:""},style:Ho()},hero:{title:"",subtitle:"",ctaLabel:"",backgroundImage:null,historyTitle:"",reorderCtaLabel:"",style:Ho()},about:{title:"",description:"",image:null,style:Ho()},menu:{title:"",ctaLabel:"",loadingLabel:"",image:null,style:Ho()},instagramReviews:JSON.parse(JSON.stringify(kf.instagramReviews)),findUs:{title:"",addressLabel:"",address:"",cityLabel:"",city:"",hoursLabel:"",hours:"",mapLabel:"",mapUrl:"",style:Ho()},footer:{text:"",style:Ho()},elementStyles:{},elementRichText:{},assets:{library:[]}},qC=Gr.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},o)=>{const l=g=>{e.length<n&&!i&&t(e+g)},u=()=>{e.length>0&&!i&&t(e.slice(0,-1))},d=g=>{if(i)return;const v=g.target.value.replace(/\D/g,"").slice(0,n);t(v)},f=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),u();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return m.jsxs("div",{className:"pin-input","aria-label":"Clavier numérique sécurisé",children:[m.jsx("input",{ref:o,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:d,onKeyDown:f,"aria-describedby":r,"aria-label":`Code PIN à ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),m.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,v)=>m.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[v]?"•":""},v))}),m.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),m.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,v)=>m.jsx("button",{type:"button",onClick:()=>l(String(v+1)),className:"pin-pad__button",disabled:i,children:v+1},v+1)),m.jsx("div",{"aria-hidden":"true"}),m.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),m.jsx("button",{type:"button",onClick:u,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});qC.displayName="PinInput";const wU=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",SU=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},jU=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState(""),[i,o]=_.useState(""),[l,u]=_.useState(!1),d=_.useRef(null),{login:f}=ca(),p=Ha(),{content:g}=LC(),[v,x]=_.useState(()=>g);_.useEffect(()=>{g&&x(g)},[g]);const w=v??_U;vU(w.assets.library);const{navigation:S,hero:j,about:E,menu:A,findUs:N,footer:T}=w,k=S.brandLogo??Iy,M=S.brandLogo??Iy,R=Yo(S.style),z=Vo(S.style),H=$C(j.style,j.backgroundImage),q=Vo(j.style),F=Pg(j.style),K=Yo(E.style),ie=Vo(E.style),U=Yo(A.style),Z=Vo(A.style),L=Pg(A.style),V=Yo(N.style),oe=Vo(N.style),fe=Yo(T.style),ae=Pg(T.style),P=w.elementStyles??{},D={navigation:S.style,hero:j.style,about:E.style,menu:A.style,instagramReviews:w.instagramReviews.style,findUs:N.style,footer:T.style},te=Ne=>P[Ne],Q=Ne=>{const at=Mg(Ne);return UC(D[at],te(Ne))},ee=Ne=>{const at=Mg(Ne);return yU(D[at],te(Ne))},me=Ne=>{const at=Mg(Ne);return bU(D[at],te(Ne))},pe=w.elementRichText??{},$e=Ne=>{var on;const at=pe[Ne],Lt=(on=at==null?void 0:at.html)==null?void 0:on.trim();return Lt&&Lt.length>0?Lt:null},ne=(Ne,at,Lt,on)=>{const Ir=$e(Ne);return Ir?Gr.createElement(at,{...Lt,dangerouslySetInnerHTML:{__html:Ir}}):Gr.createElement(at,Lt,on)},[Se,Te]=_.useState([]),[ce,At]=_.useState([]),[Le,Ct]=_.useState(!0),[Tt,Bt]=_.useState(!1),[Qn,ge]=_.useState(()=>DC()),Ge=_.useCallback(async Ne=>{u(!0),o("");try{const at=await f(Ne),Lt=J0(at)??"/dashboard";t(!1),r(""),p(Lt)}catch(at){console.error("Failed to authenticate with PIN",at);const Lt=at instanceof Error&&at.message?at.message:"PIN invalide";o(Lt),r(""),requestAnimationFrame(()=>{var on;(on=d.current)==null||on.focus()})}finally{u(!1)}},[f,p]);_.useEffect(()=>{if(!e)return;const Ne=window.setTimeout(()=>{var at;(at=d.current)==null||at.focus()},0);return()=>window.clearTimeout(Ne)},[e]),_.useEffect(()=>{n.length===6&&!l&&Ge(n)},[n,l,Ge]),_.useEffect(()=>{if(!(typeof window>"u"))try{const Ne=window.localStorage.getItem("customer-order-history");if(!Ne)return;const at=JSON.parse(Ne);Array.isArray(at)&&At(at)}catch(Ne){console.error("Could not load order history",Ne)}},[]),_.useEffect(()=>{let Ne=!0;return(async()=>{try{const Lt=await xe.getBestSellerProducts();Ne&&Te(Lt)}catch(Lt){console.error("Could not load best seller products",Lt)}finally{Ne&&Ct(!1)}})(),()=>{Ne=!1}},[]);const We=N.address.trim(),ht=N.mapUrl,mt=typeof ht=="string"?ht.trim():"",Ye=mt.length>0,Tn=!Ye&&We.length>0?encodeURIComponent(We):"",kn=Ye?mt:Tn?`https://www.google.com/maps?q=${Tn}`:"https://www.google.com/maps",Ln=Ye?xU(mt,"output","embed"):Tn?`https://www.google.com/maps?q=${Tn}&output=embed`:"about:blank",ue=Ye||Tn.length>0,he=We.length>0?We:N.title,Ee=(Qn==null?void 0:Qn.orderId)??null,rt=Se.slice(0,6),Xe=rt.length,kt=wU(Xe),Re=SU(Xe),tt=Ne=>{Ne.preventDefault(),n.length===6&&!l&&Ge(n)},vt=()=>{IC(),ge(null)},Pt=Ne=>{localStorage.setItem("customer-order-reorder-id",Ne),p("/commande-client")};return m.jsxs("div",{className:"login-page",children:[m.jsx("header",{className:"login-header",style:R,children:m.jsxs("div",{className:"layout-container login-header__inner",style:z,children:[m.jsxs("div",{className:"login-brand",style:z,children:[m.jsx("img",{src:k,alt:`Logo ${S.brand}`,className:"login-brand__logo"}),ne("navigation.brand","span",{className:"login-brand__name",style:Q("navigation.brand")},S.brand)]}),m.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[ne("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:ee("navigation.links.home")},S.links.home),ne("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:ee("navigation.links.about")},S.links.about),ne("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:ee("navigation.links.menu")},S.links.menu),m.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":S.links.loginCta,children:m.jsx("img",{src:M,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),m.jsx("button",{type:"button",onClick:()=>Bt(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:m.jsx(nC,{size:24})})]})}),Tt&&m.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:R,children:[m.jsx("button",{type:"button",onClick:()=>Bt(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:m.jsx(Ti,{size:28})}),m.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:z,children:[ne("navigation.links.home","a",{href:"#accueil",onClick:()=>Bt(!1),className:"login-menu-overlay__link",style:ee("navigation.links.home")},S.links.home),ne("navigation.links.about","a",{href:"#apropos",onClick:()=>Bt(!1),className:"login-menu-overlay__link",style:ee("navigation.links.about")},S.links.about),ne("navigation.links.menu","a",{href:"#menu",onClick:()=>Bt(!1),className:"login-menu-overlay__link",style:ee("navigation.links.menu")},S.links.menu),m.jsx("button",{type:"button",onClick:()=>{t(!0),Bt(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":S.links.loginCta,children:m.jsx("img",{src:M,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),m.jsxs("main",{children:[m.jsx("section",{id:"accueil",className:"section section-hero",style:{...H,...q},children:m.jsx("div",{className:"section-hero__inner",children:Ee?m.jsx(lU,{orderId:Ee,onNewOrderClick:vt,variant:"hero"}):m.jsxs("div",{className:"hero-content",style:q,children:[ne("hero.title","h2",{className:"hero-title",style:Q("hero.title")},j.title),ne("hero.subtitle","p",{className:"hero-subtitle",style:ee("hero.subtitle")},j.subtitle),m.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...ee("hero.ctaLabel"),...me("hero.ctaLabel")},children:ne("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:ee("hero.ctaLabel")},j.ctaLabel)}),ce.length>0&&m.jsxs("div",{className:"hero-history",children:[ne("hero.historyTitle","p",{className:"hero-history__title",style:ee("hero.historyTitle")},j.historyTitle),m.jsx("div",{className:"hero-history__list",children:ce.slice(0,3).map(Ne=>m.jsxs("div",{className:"hero-history__item",children:[m.jsxs("div",{className:"hero-history__meta",children:[m.jsxs("p",{className:"hero-history__date",style:F,children:["Pedido del ",new Date(Ne.date_creation).toLocaleDateString()]}),m.jsxs("p",{className:"hero-history__details",style:F,children:[Ne.items.length," article(s) • ",Me(Ne.total)]})]}),m.jsx("button",{type:"button",onClick:()=>Pt(Ne.id),className:"hero-history__cta",style:{...ee("hero.reorderCtaLabel"),...me("hero.reorderCtaLabel")},children:ne("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:ee("hero.reorderCtaLabel")},j.reorderCtaLabel)})]},Ne.id))})]})]})})}),m.jsx("section",{id:"apropos",className:"section section-surface",style:{...K,...ie},children:m.jsxs("div",{className:"section-inner section-inner--center",style:ie,children:[ne("about.title","h2",{className:"section-title",style:Q("about.title")},E.title),ne("about.description","p",{className:"section-text section-text--muted",style:ee("about.description")},E.description),E.image&&m.jsx("img",{src:E.image,alt:E.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),m.jsx("section",{id:"menu",className:"section section-muted",style:{...U,...Z},children:m.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:Z,children:[ne("menu.title","h2",{className:"section-title",style:Q("menu.title")},A.title),A.image&&m.jsx("img",{src:A.image,alt:A.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),Le?ne("menu.loadingLabel","p",{className:"section-text section-text--muted",style:ee("menu.loadingLabel")},A.loadingLabel):rt.length>0?m.jsx("div",{className:kt,children:rt.map(Ne=>m.jsxs("article",{className:Re,children:[m.jsx("img",{src:Ne.image,alt:Ne.nom_produit,className:"menu-card__media"}),m.jsxs("div",{className:"menu-card__body",children:[m.jsx("h3",{className:"menu-card__title",style:Z,children:Ne.nom_produit}),m.jsx("p",{className:"menu-card__description",style:L,children:Ne.description}),m.jsx("p",{className:"menu-card__price",style:L,children:Me(Ne.prix_vente)})]})]},Ne.id))}):m.jsx("p",{className:"section-text section-text--muted",style:L,children:"Aucun produit best seller n'est disponible pour le moment."}),m.jsx("div",{className:"section-actions",children:m.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...ee("menu.ctaLabel"),...me("menu.ctaLabel")},children:ne("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:ee("menu.ctaLabel")},A.ctaLabel)})})]})}),m.jsx("section",{id:"find-us",className:"section section-surface",style:{...V,...oe},children:m.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:oe,children:[m.jsxs("div",{className:"find-us-panel",style:oe,children:[ne("findUs.title","h2",{className:"section-title",style:Q("findUs.title")},N.title),m.jsxs("div",{className:"find-us-details",children:[m.jsxs("div",{className:"find-us-detail",style:oe,children:[m.jsx(Y0,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[ne("findUs.addressLabel","h3",{className:"find-us-detail__title",style:Q("findUs.addressLabel")},N.addressLabel),ne("findUs.address","p",{className:"find-us-detail__text",style:ee("findUs.address")},N.address)]})]}),m.jsxs("div",{className:"find-us-detail",style:oe,children:[m.jsx(cu,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[ne("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:Q("findUs.hoursLabel")},N.hoursLabel),ne("findUs.hours","p",{className:"find-us-detail__text",style:ee("findUs.hours")},N.hours)]})]}),m.jsxs("div",{className:"find-us-detail",style:oe,children:[m.jsx(uz,{className:"find-us-detail__icon","aria-hidden":"true"}),m.jsxs("div",{children:[ne("findUs.cityLabel","h3",{className:"find-us-detail__title",style:Q("findUs.cityLabel")},N.cityLabel),ne("findUs.city","p",{className:"find-us-detail__text",style:ee("findUs.city")},N.city)]})]})]})]}),m.jsx("div",{className:"find-us-map",style:oe,children:ue?m.jsxs("div",{className:"find-us-map__frame",children:[m.jsx("iframe",{title:`Carte Google Maps pour ${he}`,src:Ln,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),m.jsx("a",{className:"find-us-map__link",href:kn,target:"_blank",rel:"noopener noreferrer",children:ne("findUs.mapLabel","span",{className:"find-us-map__label",style:ee("findUs.mapLabel")},N.mapLabel)})]}):m.jsx("div",{className:"find-us-map__placeholder",children:ne("findUs.mapLabel","span",{className:"find-us-map__label",style:ee("findUs.mapLabel")},N.mapLabel)})})]})})]}),m.jsx("footer",{className:"site-footer",style:{...fe,...ae},children:m.jsx("div",{className:"layout-container site-footer__inner",style:ae,children:m.jsxs("p",{style:ee("footer.text"),children:["© ",new Date().getFullYear()," ",S.brand,"."," ",ne("footer.text","span",{style:ee("footer.text")},T.text)]})})}),m.jsx(Cn,{isOpen:e,onClose:()=>{t(!1),r(""),o("")},title:"Connexion du personnel",size:"lg",children:m.jsx("div",{className:"login-modal",children:m.jsx("form",{onSubmit:tt,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:m.jsxs("div",{className:"login-modal__panel",children:[m.jsx(qC,{ref:d,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&m.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function BC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=BC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=BC(e))&&(r&&(r+=" "),r+=t);return r}var Rg={},Dg={},Qj;function OU(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Dg)),Dg}var Ig={},Jj;function HC(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Ig)),Ig}var Lg={},Zj;function FC(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Lg)),Lg}var zg={},eO;function Z0(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,l="",u="",d=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const f=n[o];u?f==="\\"&&o+1<i?(o++,l+=n[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,r.push(l),l=""):l+=f:f==="["?(d=!0,l&&(r.push(l),l="")):f==="."?l&&(r.push(l),l=""):l+=f,o++}return l&&r.push(l),r}e.toPath=t})(zg)),zg}var tO;function eb(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OU(),n=HC(),r=FC(),i=Z0();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return f;p=p[d[g]]}return p===void 0?f:p}e.get=o})(Rg)),Rg}var $g,nO;function EU(){return nO||(nO=1,$g=eb().get),$g}var NU=EU();const Ts=Vr(NU);var Ug={exports:{}},ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function AU(){if(rO)return ft;rO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function w(S){if(typeof S=="object"&&S!==null){var j=S.$$typeof;switch(j){case e:switch(S=S.type,S){case n:case i:case r:case d:case f:case v:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case o:return S;default:return j}}case t:return j}}}return ft.ContextConsumer=o,ft.ContextProvider=l,ft.Element=e,ft.ForwardRef=u,ft.Fragment=n,ft.Lazy=g,ft.Memo=p,ft.Portal=t,ft.Profiler=i,ft.StrictMode=r,ft.Suspense=d,ft.SuspenseList=f,ft.isContextConsumer=function(S){return w(S)===o},ft.isContextProvider=function(S){return w(S)===l},ft.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},ft.isForwardRef=function(S){return w(S)===u},ft.isFragment=function(S){return w(S)===n},ft.isLazy=function(S){return w(S)===g},ft.isMemo=function(S){return w(S)===p},ft.isPortal=function(S){return w(S)===t},ft.isProfiler=function(S){return w(S)===i},ft.isStrictMode=function(S){return w(S)===r},ft.isSuspense=function(S){return w(S)===d},ft.isSuspenseList=function(S){return w(S)===f},ft.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===o||S.$$typeof===u||S.$$typeof===x||S.getModuleId!==void 0)},ft.typeOf=w,ft}var aO;function CU(){return aO||(aO=1,Ug.exports=AU()),Ug.exports}var TU=CU(),fn=e=>e===0?0:e>0?1:-1,dr=e=>typeof e=="number"&&e!=+e,_s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!dr(e),oa=e=>je(e)||typeof e=="string",kU=0,Vc=e=>{var t=++kU;return"".concat(e||"").concat(t)},An=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return r;var o;if(_s(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return dr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},KC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Sn(e,t,n){return je(e)&&je(t)?e+n*(t-e):t}function PU(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ts(r,t))===n)}var hn=e=>e===null||typeof e>"u",fu=e=>hn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),MU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function tb(e){if(typeof e!="string")return!1;var t=MU;return t.includes(e)}var RU=["viewBox","children"],iO=["points","pathLength"],qg={svg:RU,polygon:iO,polyline:iO},DU=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{tb(i)&&(r[i]=(o=>n[i](n,o)))}),r},IU=(e,t,n)=>r=>(e(t,n,r),null),hu=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];tb(i)&&typeof o=="function"&&(r||(r={}),r[i]=IU(o,t,n))}),r},LU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GC(e){if(typeof e!="string")return!1;var t=LU;return t.includes(e)}function Li(e){var t=Object.entries(e).filter(n=>{var[r]=n;return GC(r)});return Object.fromEntries(t)}var sO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",oO=null,Bg=null,YC=e=>{if(e===oO&&Array.isArray(Bg))return Bg;var t=[];return _.Children.forEach(e,n=>{hn(n)||(TU.isFragment(n)?t=t.concat(YC(n.props.children)):t.push(n))}),Bg=t,oO=e,t};function nb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>sO(i)):r=[sO(t)],YC(e).forEach(i=>{var o=Ts(i,"type.displayName")||Ts(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var zU=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(qg==null?void 0:qg[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&o.includes(t)||GC(t)),d=!!n&&tb(t);return l||u||d},nn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var l;zU((l=r)===null||l===void 0?void 0:l[o],o,t,n)&&(i[o]=r[o])}),i},$U=["children","width","height","viewBox","className","style","title","desc"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(null,arguments)}function UU(e,t){if(e==null)return{};var n,r,i=qU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rb=_.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=e,p=UU(e,$U),g=o||{width:r,height:i,x:0,y:0},v=lt("recharts-surface",l);return _.createElement("svg",Ly({},nn(p,!0,"svg"),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),_.createElement("title",null,d),_.createElement("desc",null,f),n)}),BU=["children","className"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function HU(e,t){if(e==null)return{};var n,r,i=FU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xn=_.forwardRef((e,t)=>{var{children:n,className:r}=e,i=HU(e,BU),o=lt("recharts-layer",r);return _.createElement("g",zy({className:o},nn(i,!0),{ref:t}),n)}),VC=_.createContext(null),KU=()=>_.useContext(VC);function bt(e){return function(){return e}}const WC=Math.cos,Mf=Math.sin,Xr=Math.sqrt,Rf=Math.PI,wh=2*Rf,$y=Math.PI,Uy=2*$y,ds=1e-6,GU=Uy-ds;function XC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function YU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XC;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class VU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XC:YU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,p=l-t,g=u-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ds)if(!(Math.abs(g*d-f*p)>ds)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,w=i-u,S=d*d+f*f,j=x*x+w*w,E=Math.sqrt(S),A=Math.sqrt(v),N=o*Math.tan(($y-Math.acos((S+v-j)/(2*E*A)))/2),T=N/A,k=N/E;Math.abs(T-1)>ds&&this._append`L${t+T*p},${n+T*g}`,this._append`A${o},${o},0,0,${+(g*x>p*w)},${this._x1=t+k*d},${this._y1=n+k*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,p=n+d,g=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ds||Math.abs(this._y1-p)>ds)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%Uy+Uy),v>GU?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:v>ds&&this._append`A${r},${r},0,${+(v>=$y)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ab(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new VU(t)}function ib(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QC(e){this._context=e}QC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sh(e){return new QC(e)}function JC(e){return e[0]}function ZC(e){return e[1]}function eT(e,t){var n=bt(!0),r=null,i=Sh,o=null,l=ab(u);e=typeof e=="function"?e:e===void 0?JC:bt(e),t=typeof t=="function"?t:t===void 0?ZC:bt(t);function u(d){var f,p=(d=ib(d)).length,g,v=!1,x;for(r==null&&(o=i(x=l())),f=0;f<=p;++f)!(f<p&&n(g=d[f],f,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(g,f,d),+t(g,f,d));if(x)return o=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:bt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:bt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function Wd(e,t,n){var r=null,i=bt(!0),o=null,l=Sh,u=null,d=ab(f);e=typeof e=="function"?e:e===void 0?JC:bt(+e),t=typeof t=="function"?t:bt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ZC:bt(+n);function f(g){var v,x,w,S=(g=ib(g)).length,j,E=!1,A,N=new Array(S),T=new Array(S);for(o==null&&(u=l(A=d())),v=0;v<=S;++v){if(!(v<S&&i(j=g[v],v,g))===E)if(E=!E)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=x;--w)u.point(N[w],T[w]);u.lineEnd(),u.areaEnd()}E&&(N[v]=+e(j,v,g),T[v]=+t(j,v,g),u.point(r?+r(j,v,g):N[v],n?+n(j,v,g):T[v]))}if(A)return u=null,A+""||null}function p(){return eT().defined(i).curve(l).context(o)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:bt(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:bt(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:bt(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:bt(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:bt(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:bt(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:bt(!!g),f):i},f.curve=function(g){return arguments.length?(l=g,o!=null&&(u=l(o)),f):l},f.context=function(g){return arguments.length?(g==null?o=u=null:u=l(o=g),f):o},f}class tT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function WU(e){return new tT(e,!0)}function XU(e){return new tT(e,!1)}const sb={draw(e,t){const n=Xr(t/Rf);e.moveTo(n,0),e.arc(0,0,n,0,wh)}},QU={draw(e,t){const n=Xr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},nT=Xr(1/3),JU=nT*2,ZU={draw(e,t){const n=Xr(t/JU),r=n*nT;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},e8={draw(e,t){const n=Xr(t),r=-n/2;e.rect(r,r,n,n)}},t8=.8908130915292852,rT=Mf(Rf/10)/Mf(7*Rf/10),n8=Mf(wh/10)*rT,r8=-WC(wh/10)*rT,a8={draw(e,t){const n=Xr(t*t8),r=n8*n,i=r8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=wh*o/5,u=WC(l),d=Mf(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Hg=Xr(3),i8={draw(e,t){const n=-Xr(t/(Hg*3));e.moveTo(0,n*2),e.lineTo(-Hg*n,-n),e.lineTo(Hg*n,-n),e.closePath()}},Or=-.5,Er=Xr(3)/2,qy=1/Xr(12),s8=(qy/2+1)*3,o8={draw(e,t){const n=Xr(t/s8),r=n/2,i=n*qy,o=r,l=n*qy+n,u=-o,d=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(Or*r-Er*i,Er*r+Or*i),e.lineTo(Or*o-Er*l,Er*o+Or*l),e.lineTo(Or*u-Er*d,Er*u+Or*d),e.lineTo(Or*r+Er*i,Or*i-Er*r),e.lineTo(Or*o+Er*l,Or*l-Er*o),e.lineTo(Or*u+Er*d,Or*d-Er*u),e.closePath()}};function l8(e,t){let n=null,r=ab(i);e=typeof e=="function"?e:bt(e||sb),t=typeof t=="function"?t:bt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:bt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:bt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Df(){}function If(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aT(e){this._context=e}aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:If(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:If(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c8(e){return new aT(e)}function iT(e){this._context=e}iT.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:If(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u8(e){return new iT(e)}function sT(e){this._context=e}sT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:If(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d8(e){return new sT(e)}function oT(e){this._context=e}oT.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f8(e){return new oT(e)}function lO(e){return e<0?-1:1}function cO(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(lO(o)+lO(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function uO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Fg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function Lf(e){this._context=e}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fg(this,this._t0,uO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fg(this,uO(this,n=cO(this,e,t)),n);break;default:Fg(this,this._t0,n=cO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function lT(e){this._context=new cT(e)}(lT.prototype=Object.create(Lf.prototype)).point=function(e,t){Lf.prototype.point.call(this,t,e)};function cT(e){this._context=e}cT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function h8(e){return new Lf(e)}function m8(e){return new lT(e)}function uT(e){this._context=e}uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=dO(e),i=dO(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dO(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function p8(e){return new uT(e)}function jh(e,t){this._context=e,this._t=t}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function g8(e){return new jh(e,.5)}function v8(e){return new jh(e,0)}function y8(e){return new jh(e,1)}function nl(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function By(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function b8(e,t){return e[t]}function x8(e){const t=[];return t.key=e,t}function _8(){var e=bt([]),t=By,n=nl,r=b8;function i(o){var l=Array.from(e.apply(this,arguments),x8),u,d=l.length,f=-1,p;for(const g of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(g,l[u].key,f,o)]).data=g;for(u=0,p=ib(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:bt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:bt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?By:typeof o=="function"?o:bt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??nl,i):n},i}function w8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}nl(e,t)}}function S8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}nl(e,t)}}function j8(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],g=p[r][1]||0,v=p[r-1][1]||0,x=(g-v)/2,w=0;w<u;++w){var S=e[t[w]],j=S[r][1]||0,E=S[r-1][1]||0;x+=j-E}d+=g,f+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,nl(e,t)}}var O8=["type","size","sizeType"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){E8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E8(e,t,n){return(t=N8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N8(e){var t=A8(e,"string");return typeof t=="symbol"?t:t+""}function A8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C8(e,t){if(e==null)return{};var n,r,i=T8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dT={symbolCircle:sb,symbolCross:QU,symbolDiamond:ZU,symbolSquare:e8,symbolStar:a8,symbolTriangle:i8,symbolWye:o8},k8=Math.PI/180,P8=e=>{var t="symbol".concat(fu(e));return dT[t]||sb},M8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*k8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},R8=(e,t)=>{dT["symbol".concat(fu(e))]=t},ob=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=C8(e,O8),o=hO(hO({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=P8(l),x=l8().type(v).size(M8(n,r,l));return x()},{className:d,cx:f,cy:p}=o,g=nn(o,!0);return f===+f&&p===+p&&n===+n?_.createElement("path",Hy({},g,{className:lt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};ob.registerSymbol=R8;function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t,n){return(t=I8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=L8(e,"string");return typeof t=="symbol"?t:t+""}function L8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nr=32;class cb extends _.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Nr/2,o=Nr/6,l=Nr/3,u=t.inactive?r:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Nr,y2:i,className:"recharts-legend-icon"});if(d==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Nr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Nr/8,"h").concat(Nr,"v").concat(Nr*3/4,"h").concat(-Nr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var f=D8({},t);return delete f.legendIcon,_.cloneElement(t.legendIcon,f)}return _.createElement(ob,{fill:u,cx:i,cy:i,size:Nr,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,u={x:0,y:0,width:Nr,height:Nr},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,x=lt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?o:p.color,S=v?v(p.value,p,g):p.value;return _.createElement("li",Fy({className:x,style:d,key:"legend-item-".concat(g)},hu(this.props,p,g)),_.createElement(rb,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(S," legend icon")},this.renderIcon(p,l)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},S))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}lb(cb,"displayName","Legend");lb(cb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Kg={},Gg={},pO;function z8(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Gg)),Gg}var Yg={},gO;function fT(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Yg)),Yg}var Vg={},Wg={},Xg={},vO;function $8(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Xg)),Xg}var yO;function ub(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$8();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Wg)),Wg}var Qg={},bO;function U8(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Qg)),Qg}var xO;function q8(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ub(),n=U8();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Vg)),Vg}var Jg={},Zg={},_O;function B8(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Zg)),Zg}var ev={},tv={},nv={},rv={},wO;function hT(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(rv)),rv}var av={},SO;function mT(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(av)),av}var iv={},jO;function pT(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(iv)),iv}var OO;function H8(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db(),n=hT(),r=mT(),i=pT();function o(g,v,x){return typeof x!="function"?t.isMatch(g,v):l(g,v,function w(S,j,E,A,N,T){const k=x(S,j,E,A,N,T);return k!==void 0?!!k:l(S,j,w,T)},new Map)}function l(g,v,x,w){if(v===g)return!0;switch(typeof v){case"object":return u(g,v,x,w);case"function":return Object.keys(v).length>0?l(g,{...v},x,w):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function u(g,v,x,w){if(v==null)return!0;if(Array.isArray(v))return f(g,v,x,w);if(v instanceof Map)return d(g,v,x,w);if(v instanceof Set)return p(g,v,x,w);const S=Object.keys(v);if(g==null)return S.length===0;if(S.length===0)return!0;if(w&&w.has(v))return w.get(v)===g;w&&w.set(v,g);try{for(let j=0;j<S.length;j++){const E=S[j];if(!r.isPrimitive(g)&&!(E in g)||v[E]===void 0&&g[E]!==void 0||v[E]===null&&g[E]!==null||!x(g[E],v[E],E,g,v,w))return!1}return!0}finally{w&&w.delete(v)}}function d(g,v,x,w){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,j]of v.entries()){const E=g.get(S);if(x(E,j,S,g,v,w)===!1)return!1}return!0}function f(g,v,x,w){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let j=0;j<v.length;j++){const E=v[j];let A=!1;for(let N=0;N<g.length;N++){if(S.has(N))continue;const T=g[N];let k=!1;if(x(T,E,j,g,v,w)&&(k=!0),k){S.add(N),A=!0;break}}if(!A)return!1}return!0}function p(g,v,x,w){return v.size===0?!0:g instanceof Set?f([...g],[...v],x,w):!1}e.isMatchWith=o,e.isSetMatch=p})(nv)),nv}var EO;function db(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H8();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(tv)),tv}var sv={},ov={},lv={},NO;function F8(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(lv)),lv}var cv={},AO;function gT(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(cv)),cv}var uv={},CO;function vT(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",w="[object Error]",S="[object DataView]",j="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",N="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",M="[object Int16Array]",R="[object Int32Array]",z="[object BigInt64Array]",H="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=S,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=H,e.float64ArrayTag=q,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=R,e.int8ArrayTag=k,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=N,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=E})(uv)),uv}var dv={},TO;function K8(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(dv)),dv}var kO;function yT(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F8(),n=gT(),r=vT(),i=mT(),o=K8();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,v,x=new Map,w=void 0){const S=w==null?void 0:w(p,g,v,x);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const j=new Array(p.length);x.set(p,j);for(let E=0;E<p.length;E++)j[E]=u(p[E],E,v,x,w);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;x.set(p,j);for(const[E,A]of p)j.set(E,u(A,E,v,x,w));return j}if(p instanceof Set){const j=new Set;x.set(p,j);for(const E of p)j.add(u(E,void 0,v,x,w));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,j);for(let E=0;E<p.length;E++)j[E]=u(p[E],E,v,x,w);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,j),d(j,p,v,x,w),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return x.set(p,j),d(j,p,v,x,w),j}if(p instanceof Blob){const j=new Blob([p],{type:p.type});return x.set(p,j),d(j,p,v,x,w),j}if(p instanceof Error){const j=new p.constructor;return x.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,d(j,p,v,x,w),j}if(typeof p=="object"&&f(p)){const j=Object.create(Object.getPrototypeOf(p));return x.set(p,j),d(j,p,v,x,w),j}return p}function d(p,g,v=p,x,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<S.length;j++){const E=S[j],A=Object.getOwnPropertyDescriptor(p,E);(A==null||A.writable)&&(p[E]=u(g[E],E,v,x,w))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(ov)),ov}var PO;function G8(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(sv)),sv}var MO;function Y8(){return MO||(MO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db(),n=G8();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(ev)),ev}var fv={},hv={},mv={},RO;function V8(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yT(),n=vT();function r(i,o){return t.cloneDeepWith(i,(l,u,d,f)=>{const p=o==null?void 0:o(l,u,d,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(mv)),mv}var DO;function W8(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V8();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(hv)),hv}var pv={},gv={},IO;function bT(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(gv)),gv}var vv={},LO;function X8(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(vv)),vv}var zO;function Q8(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HC(),n=bT(),r=X8(),i=Z0();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const g=d[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=o})(pv)),pv}var $O;function J8(){return $O||($O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=db(),n=FC(),r=W8(),i=eb(),o=Q8();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const p=i.get(f,u);return p===void 0?o.has(f,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(fv)),fv}var UO;function Z8(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fT(),n=B8(),r=Y8(),i=J8();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Jg)),Jg}var qO;function eq(){return qO||(qO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z8(),n=fT(),r=q8(),i=Z8();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Kg)),Kg}var yv,BO;function tq(){return BO||(BO=1,yv=eq().uniqBy),yv}var nq=tq();const HO=Vr(nq);function xT(e,t,n){return t===!0?HO(e,n):typeof t=="function"?HO(e,t):e}var bv={exports:{}},xv={},_v={exports:{}},wv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function rq(){if(FO)return wv;FO=1;var e=hl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var x=v(),w=r({inst:{value:x,getSnapshot:v}}),S=w[0].inst,j=w[1];return o(function(){S.value=x,S.getSnapshot=v,d(S)&&j({inst:S})},[g,x,v]),i(function(){return d(S)&&j({inst:S}),g(function(){d(S)&&j({inst:S})})},[g]),l(x),x}function d(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return wv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,wv}var KO;function aq(){return KO||(KO=1,_v.exports=rq()),_v.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function iq(){if(GO)return xv;GO=1;var e=hl(),t=aq();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return xv.useSyncExternalStoreWithSelector=function(f,p,g,v,x){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function E(M){if(!A){if(A=!0,N=M,M=v(M),x!==void 0&&S.hasValue){var R=S.value;if(x(R,M))return T=R}return T=M}if(R=T,r(N,M))return R;var z=v(M);return x!==void 0&&x(R,z)?(N=M,R):(N=M,T=z)}var A=!1,N,T,k=g===void 0?null:g;return[function(){return E(p())},k===null?void 0:function(){return E(k())}]},[p,g,v,x]);var j=i(f,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=j},[j]),d(j),j},xv}var YO;function sq(){return YO||(YO=1,bv.exports=iq()),bv.exports}var oq=sq(),fb=_.createContext(null),lq=e=>e,Rt=()=>{var e=_.useContext(fb);return e?e.store.dispatch:lq},bf=()=>{},cq=()=>bf,uq=(e,t)=>e===t;function we(e){var t=_.useContext(fb);return oq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cq,t?t.store.getState:bf,t?t.store.getState:bf,t?e:bf,uq)}function dq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var VO=e=>Array.isArray(e)?e:[e];function mq(e){const t=Array.isArray(e[0])?e[0]:e;return hq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function pq(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var gq=class{constructor(e){this.value=e}deref(){return this.value}},vq=typeof WeakRef<"u"?WeakRef:gq,yq=0,WO=1;function Xd(){return{s:yq,v:void 0,o:null,p:null}}function _T(e,t={}){let n=Xd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let u=n;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const j=S.get(w);j===void 0?(u=Xd(),S.set(w,u)):u=j}else{let S=u.p;S===null&&(u.p=S=new Map);const j=S.get(w);j===void 0?(u=Xd(),S.set(w,u)):u=j}}const f=u;let p;if(u.s===WO)p=u.v;else if(p=e.apply(null,arguments),o++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new vq(p):p}return f.s=WO,f.v=p,p}return l.clearCache=()=>{n=Xd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function bq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),dq(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:x=_T,argsMemoizeOptions:w=[]}=p,S=VO(v),j=VO(w),E=mq(i),A=g(function(){return o++,f.apply(null,arguments)},...S),N=x(function(){l++;const k=pq(E,arguments);return u=A.apply(null,k),u},...j);return Object.assign(N,{resultFunc:f,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var X=bq(_T),xq=Object.assign((e,t=X)=>{fq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>xq}),Sv={},jv={},Ov={},XO;function _q(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Ov)),Ov}var Ev={},Nv={},QO;function wT(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Nv)),Nv}var JO;function wq(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Ev)),Ev}var ZO;function Sq(){return ZO||(ZO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_q(),n=wq(),r=Z0();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const f=(x,w)=>{let S=x;for(let j=0;j<w.length&&S!=null;++j)S=S[w[j]];return S},p=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:f(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?f(w,x):typeof w=="object"?w[x]:w,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return o.map(x=>({original:x,criteria:g.map(w=>p(w,x))})).slice().sort((x,w)=>{for(let S=0;S<g.length;S++){const j=t.compareValues(x.criteria[S],w.criteria[S],u[S]);if(j!==0)return j}return 0}).map(x=>x.original)}e.orderBy=i})(jv)),jv}var Av={},eE;function jq(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<o?l(p,d+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Av)),Av}var Cv={},tE;function ST(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT(),n=ub(),r=hT(),i=pT();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=o})(Cv)),Cv}var nE;function Oq(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sq(),n=jq(),r=ST();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Sv)),Sv}var Tv,rE;function Eq(){return rE||(rE=1,Tv=Oq().sortBy),Tv}var Nq=Eq();const Oh=Vr(Nq);var jT=e=>e.legend.settings,Aq=e=>e.legend.size,Cq=e=>e.legend.payload,Tq=X([Cq,jT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Oh(r,n):r});function kq(){return we(Tq)}var Qd=1;function OT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Qd||Math.abs(l.left-t.left)>Qd||Math.abs(l.top-t.top)>Qd||Math.abs(l.width-t.width)>Qd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function _n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Pq=typeof Symbol=="function"&&Symbol.observable||"@@observable",aE=Pq,kv=()=>Math.random().toString(36).substring(7).split("").join("."),Mq={INIT:`@@redux/INIT${kv()}`,REPLACE:`@@redux/REPLACE${kv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kv()}`},zf=Mq;function hb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ET(e,t,n){if(typeof e!="function")throw new Error(_n(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_n(1));return n(ET)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((j,E)=>{l.set(E,j)}))}function p(){if(d)throw new Error(_n(3));return i}function g(j){if(typeof j!="function")throw new Error(_n(4));if(d)throw new Error(_n(5));let E=!0;f();const A=u++;return l.set(A,j),function(){if(E){if(d)throw new Error(_n(6));E=!1,f(),l.delete(A),o=null}}}function v(j){if(!hb(j))throw new Error(_n(7));if(typeof j.type>"u")throw new Error(_n(8));if(typeof j.type!="string")throw new Error(_n(17));if(d)throw new Error(_n(9));try{d=!0,i=r(i,j)}finally{d=!1}return(o=l).forEach(A=>{A()}),j}function x(j){if(typeof j!="function")throw new Error(_n(10));r=j,v({type:zf.REPLACE})}function w(){const j=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(_n(11));function A(){const T=E;T.next&&T.next(p())}return A(),{unsubscribe:j(A)}},[aE](){return this}}}return v({type:zf.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[aE]:w}}function Rq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:zf.INIT})>"u")throw new Error(_n(12));if(typeof n(void 0,{type:zf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function NT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{Rq(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],x=l[g],w=v(x,u);if(typeof w>"u")throw u&&u.type,new Error(_n(14));f[g]=w,d=d||w!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function $f(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Dq(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(_n(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=e.map(d=>d(l));return o=$f(...u)(i.dispatch),{...i,dispatch:o}}}function AT(e){return hb(e)&&"type"in e&&typeof e.type=="string"}var CT=Symbol.for("immer-nothing"),iE=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rl=Object.getPrototypeOf;function ks(e){return!!e&&!!e[fr]}function $a(e){var t;return e?TT(e)||Array.isArray(e)||!!e[iE]||!!((t=e.constructor)!=null&&t[iE])||mu(e)||Nh(e):!1}var Iq=Object.prototype.constructor.toString();function TT(e){if(!e||typeof e!="object")return!1;const t=rl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Iq}function Uf(e,t){Eh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Eh(e){const t=e[fr];return t?t.type_:Array.isArray(e)?1:mu(e)?2:Nh(e)?3:0}function Ky(e,t){return Eh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kT(e,t,n){const r=Eh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Lq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mu(e){return e instanceof Map}function Nh(e){return e instanceof Set}function fs(e){return e.copy_||e.base_}function Gy(e,t){if(mu(e))return new Map(e);if(Nh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=TT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[fr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(rl(e),r)}else{const r=rl(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function mb(e,t=!1){return Ah(e)||ks(e)||!$a(e)||(Eh(e)>1&&Object.defineProperties(e,{set:{value:Jd},add:{value:Jd},clear:{value:Jd},delete:{value:Jd}}),Object.freeze(e),t&&Object.values(e).forEach(n=>mb(n,!0))),e}function Jd(){Hr(2)}function Ah(e){return Object.isFrozen(e)}var zq={};function Ps(e){const t=zq[e];return t||Hr(0,e),t}var Wc;function PT(){return Wc}function $q(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sE(e,t){t&&(Ps("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yy(e){Vy(e),e.drafts_.forEach(Uq),e.drafts_=null}function Vy(e){e===Wc&&(Wc=e.parent_)}function oE(e){return Wc=$q(Wc,e)}function Uq(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[fr].modified_&&(Yy(t),Hr(4)),$a(e)&&(e=qf(t,e),t.parent_||Bf(t,e)),t.patches_&&Ps("Patches").generateReplacementPatches_(n[fr].base_,e,t.patches_,t.inversePatches_)):e=qf(t,n,[]),Yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CT?e:void 0}function qf(e,t,n){if(Ah(t))return t;const r=t[fr];if(!r)return Uf(t,(i,o)=>cE(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Bf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),Uf(o,(u,d)=>cE(e,r,i,u,d,n,l)),Bf(e,i,!1),n&&e.patches_&&Ps("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function cE(e,t,n,r,i,o,l){if(ks(i)){const u=o&&t&&t.type_!==3&&!Ky(t.assigned_,r)?o.concat(r):void 0,d=qf(e,i,u);if(kT(n,r,d),ks(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if($a(i)&&!Ah(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(mu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Bf(e,i)}}function Bf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mb(t,n)}function qq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:PT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=pb;n&&(i=[r],o=Xc);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var pb={get(e,t){if(t===fr)return e;const n=fs(e);if(!Ky(n,t))return Bq(e,n,t);const r=n[t];return e.finalized_||!$a(r)?r:r===Pv(e.base_,t)?(Mv(e),e.copy_[t]=Xy(r,e)):r},has(e,t){return t in fs(e)},ownKeys(e){return Reflect.ownKeys(fs(e))},set(e,t,n){const r=MT(fs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Pv(fs(e),t),o=i==null?void 0:i[fr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Lq(n,i)&&(n!==void 0||Ky(e.base_,t)))return!0;Mv(e),Wy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Pv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mv(e),Wy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=fs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return rl(e.base_)},setPrototypeOf(){Hr(12)}},Xc={};Uf(pb,(e,t)=>{Xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xc.deleteProperty=function(e,t){return Xc.set.call(this,e,t,void 0)};Xc.set=function(e,t,n){return pb.set.call(this,e[0],t,n,e[0])};function Pv(e,t){const n=e[fr];return(n?fs(n):e)[t]}function Bq(e,t,n){var i;const r=MT(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function MT(e,t){if(!(t in e))return;let n=rl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rl(n)}}function Wy(e){e.modified_||(e.modified_=!0,e.parent_&&Wy(e.parent_))}function Mv(e){e.copy_||(e.copy_=Gy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(d=o,...f){return l.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&Hr(6),r!==void 0&&typeof r!="function"&&Hr(7);let i;if($a(t)){const o=oE(this),l=Xy(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Yy(o):Vy(o)}return sE(o,r),lE(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===CT&&(i=void 0),this.autoFreeze_&&mb(i,!0),r){const o=[],l=[];Ps("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Hr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$a(e)||Hr(8),ks(e)&&(e=Da(e));const t=oE(this),n=Xy(e,void 0);return n[fr].isManual_=!0,Vy(t),n}finishDraft(e,t){const n=e&&e[fr];(!n||!n.isManual_)&&Hr(9);const{scope_:r}=n;return sE(r,t),lE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ps("Patches").applyPatches_;return ks(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Xy(e,t){const n=mu(e)?Ps("MapSet").proxyMap_(e,t):Nh(e)?Ps("MapSet").proxySet_(e,t):qq(e,t);return(t?t.scope_:PT()).drafts_.push(n),n}function Da(e){return ks(e)||Hr(10,e),RT(e)}function RT(e){if(!$a(e)||Ah(e))return e;const t=e[fr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Gy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Gy(e,!0);return Uf(n,(r,i)=>{kT(n,r,RT(i))}),t&&(t.finalized_=!1),n}var Fq=new Hq,DT=Fq.produce;function IT(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Kq=IT(),Gq=IT,Yq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$f:$f.apply(null,arguments)};function kr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ur(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>AT(r)&&r.type===e,n}var LT=class Mc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mc.prototype)}static get[Symbol.species](){return Mc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mc(...t[0].concat(this)):new Mc(...t.concat(this))}};function uE(e){return $a(e)?DT(e,()=>{}):e}function Zd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Vq(e){return typeof e=="boolean"}var Wq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new LT;return n&&(Vq(n)?l.push(Kq):l.push(Gq(n.extraArgument))),l},Xq="RTK_autoBatch",dE=e=>t=>{setTimeout(t,e)},Qq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dE(10):e.type==="callback"?e.queueNotification:dE(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[Xq]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(p)}finally{i=!0}}})},Jq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new LT(e);return r&&i.push(Qq(typeof r=="object"?r:void 0)),i};function Zq(e){const t=Wq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(hb(n))u=NT(n);else throw new Error(ur(1));let d;typeof r=="function"?d=r(t):d=t();let f=$f;i&&(f=Yq({trace:!1,...typeof i=="object"&&i}));const p=Dq(...d),g=Jq(p);let v=typeof l=="function"?l(g):g();const x=f(...v);return ET(u,o,x)}function zT(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(ur(28));if(u in t)throw new Error(ur(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function eB(e){return typeof e=="function"}function tB(e,t){let[n,r,i]=zT(t),o;if(eB(e))o=()=>uE(e());else{const u=uE(e);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,g)=>{if(g)if(ks(p)){const x=g(p,d);return x===void 0?p:x}else{if($a(p))return DT(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var nB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rB=(e=21)=>{let t="",n=e;for(;n--;)t+=nB[Math.random()*64|0];return t},aB=Symbol.for("rtk-slice-createasyncthunk");function iB(e,t){return`${e}/${t}`}function sB({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[aB];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(ur(11));const u=(typeof i.reducers=="function"?i.reducers(lB()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,k){const M=typeof T=="string"?T:T.type;if(!M)throw new Error(ur(12));if(M in f.sliceCaseReducersByType)throw new Error(ur(13));return f.sliceCaseReducersByType[M]=k,p},addMatcher(T,k){return f.sliceMatchers.push({matcher:T,reducer:k}),p},exposeAction(T,k){return f.actionCreators[T]=k,p},exposeCaseReducer(T,k){return f.sliceCaseReducersByName[T]=k,p}};d.forEach(T=>{const k=u[T],M={reducerName:T,type:iB(o,T),createNotation:typeof i.reducers=="function"};uB(k)?fB(M,k,p,t):cB(M,k,p)});function g(){const[T={},k=[],M=void 0]=typeof i.extraReducers=="function"?zT(i.extraReducers):[i.extraReducers],R={...T,...f.sliceCaseReducersByType};return tB(i.initialState,z=>{for(let H in R)z.addCase(H,R[H]);for(let H of f.sliceMatchers)z.addMatcher(H.matcher,H.reducer);for(let H of k)z.addMatcher(H.matcher,H.reducer);M&&z.addDefaultCase(M)})}const v=T=>T,x=new Map,w=new WeakMap;let S;function j(T,k){return S||(S=g()),S(T,k)}function E(){return S||(S=g()),S.getInitialState()}function A(T,k=!1){function M(z){let H=z[T];return typeof H>"u"&&k&&(H=Zd(w,M,E)),H}function R(z=v){const H=Zd(x,k,()=>new WeakMap);return Zd(H,z,()=>{const q={};for(const[F,K]of Object.entries(i.selectors??{}))q[F]=oB(K,z,()=>Zd(w,z,E),k);return q})}return{reducerPath:T,getSelectors:R,get selectors(){return R(M)},selectSlice:M}}const N={name:o,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...A(l),injectInto(T,{reducerPath:k,...M}={}){const R=k??l;return T.inject({reducerPath:R,reducer:j},M),{...N,...A(R,!0)}}};return N}}function oB(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var mr=sB();function lB(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function cB({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!dB(r))throw new Error(ur(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?kr(e,l):kr(e))}function uB(e){return e._reducerDefinitionType==="asyncThunk"}function dB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fB({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ur(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=n,g=i(e,o,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:l||ef,pending:u||ef,rejected:d||ef,settled:f||ef})}function ef(){}var hB="task",$T="listener",UT="completed",gb="cancelled",mB=`task-${gb}`,pB=`task-${UT}`,Qy=`${$T}-${gb}`,gB=`${$T}-${UT}`,Ch=class{constructor(e){fg(this,"name","TaskAbortError");fg(this,"message");this.code=e,this.message=`${hB} ${gb} (reason: ${e})`}},vb=(e,t)=>{if(typeof e!="function")throw new TypeError(ur(32))},Hf=()=>{},qT=(e,t=Hf)=>(e.catch(t),e),BT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Es=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ns=e=>{if(e.aborted){const{reason:t}=e;throw new Ch(t)}};function HT(e,t){let n=Hf;return new Promise((r,i)=>{const o=()=>i(new Ch(e.reason));if(e.aborted){o();return}n=BT(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Hf})}var vB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ch?"cancelled":"rejected",error:n}}finally{t==null||t()}},Ff=e=>t=>qT(HT(e,t).then(n=>(Ns(e),n))),FT=e=>{const t=Ff(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Zo}=Object,fE={},Th="listenerMiddleware",yB=(e,t)=>{const n=r=>BT(e,()=>Es(r,e.reason));return(r,i)=>{vb(r);const o=new AbortController;n(o);const l=vB(async()=>{Ns(e),Ns(o.signal);const u=await r({pause:Ff(o.signal),delay:FT(o.signal),signal:o.signal});return Ns(o.signal),u},()=>Es(o,pB));return i!=null&&i.autoJoin&&t.push(l.catch(Hf)),{result:Ff(e)(l),cancel(){Es(o,mB)}}}},bB=(e,t)=>{const n=async(r,i)=>{Ns(t);let o=()=>{};const u=[new Promise((d,f)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});o=()=>{p(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await HT(t,Promise.race(u));return Ns(t),d}finally{o()}};return(r,i)=>qT(n(r,i))},KT=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=kr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ur(21));return vb(o),{predicate:i,type:t,effect:o}},GT=Zo(e=>{const{type:t,predicate:n,effect:r}=KT(e);return{id:rB(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ur(22))}}},{withTypes:()=>GT}),hE=(e,t)=>{const{type:n,effect:r,predicate:i}=KT(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Jy=e=>{e.pending.forEach(t=>{Es(t,Qy)})},xB=e=>()=>{e.forEach(Jy),e.clear()},mE=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},YT=Zo(kr(`${Th}/add`),{withTypes:()=>YT}),_B=kr(`${Th}/removeAll`),VT=Zo(kr(`${Th}/remove`),{withTypes:()=>VT}),wB=(...e)=>{console.error(`${Th}/error`,...e)},pu=(e={})=>{const t=new Map,{extra:n,onError:r=wB}=e;vb(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Jy(p)}),o=p=>{const g=hE(t,p)??GT(p);return i(g)};Zo(o,{withTypes:()=>o});const l=p=>{const g=hE(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Jy(g)),!!g};Zo(l,{withTypes:()=>l});const u=async(p,g,v,x)=>{const w=new AbortController,S=bB(o,w.signal),j=[];try{p.pending.add(w),await Promise.resolve(p.effect(g,Zo({},v,{getOriginalState:x,condition:(E,A)=>S(E,A).then(Boolean),take:S,delay:FT(w.signal),pause:Ff(w.signal),extra:n,signal:w.signal,fork:yB(w.signal,j),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,A,N)=>{E!==w&&(Es(E,Qy),N.delete(E))})},cancel:()=>{Es(w,Qy),p.pending.delete(w)},throwIfCancelled:()=>{Ns(w.signal)}})))}catch(E){E instanceof Ch||mE(r,E,{raisedBy:"effect"})}finally{await Promise.all(j),Es(w,gB),p.pending.delete(w)}},d=xB(t);return{middleware:p=>g=>v=>{if(!AT(v))return g(v);if(YT.match(v))return o(v.payload);if(_B.match(v)){d();return}if(VT.match(v))return l(v.payload);let x=p.getState();const w=()=>{if(x===fE)throw new Error(ur(23));return x};let S;try{if(S=g(v),t.size>0){const j=p.getState(),E=Array.from(t.values());for(const A of E){let N=!1;try{N=A.predicate(v,j,x)}catch(T){N=!1,mE(r,T,{raisedBy:"predicate"})}N&&u(A,v,p,w)}}}finally{x=fE}return S},startListening:o,stopListening:l,clearListeners:d}};function ur(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WT=mr({name:"chartLayout",initialState:SB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jB,setLayout:OB,setChartSize:EB,setScale:NB}=WT.actions,AB=WT.reducer;function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){CB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CB(e,t,n){return(t=TB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TB(e){var t=kB(e,"string");return typeof t=="symbol"?t:t+""}function kB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kf=Math.PI/180,PB=e=>e*180/Math.PI,Xt=(e,t,n,r)=>({x:e+Math.cos(-Kf*r)*n,y:t+Math.sin(-Kf*r)*n}),XT=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},MB=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},RB=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=MB({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:PB(d),angleInRadian:d}},DB=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},IB=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},LB=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=RB({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=DB(t),p=o,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?gE(gE({},t),{},{radius:i,angle:IB(p,t)}):null};function QT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){zB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zB(e,t,n){return(t=$B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $B(e){var t=UB(e,"string");return typeof t=="symbol"?t:t+""}function UB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mt(e,t,n){return hn(e)||hn(t)?n:oa(t)?Ts(e,t,n):typeof t=="function"?t(e):n}var qB=(e,t,n,r,i)=>{var o,l=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(fn(p-f)!==fn(g-p)){var x=[];if(fn(g-p)===fn(i[1]-i[0])){v=g;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+f)/2),x[1]=Math.max(w,(w+f)/2)}else{v=f;var S=g+i[1]-i[0];x[0]=Math.min(p,(S+p)/2),x[1]=Math.max(p,(S+p)/2)}var j=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>j[0]&&e<=j[1]||e>=x[0]&&e<=x[1]){({index:l}=n[d]);break}}else{var E=Math.min(f,g),A=Math.max(f,g);if(e>(E+p)/2&&e<=(A+p)/2){({index:l}=n[d]);break}}}else if(t){for(var N=0;N<u;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:l}=t[N]);break}}return l},BB=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&je(e[o]))return Cr(Cr({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&je(e[l]))return Cr(Cr({},e),{},{[l]:e[l]+(i||0)})}return e},zs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JT=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},ZT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=x==="angleAxis"&&o&&o.length>=2?fn(o[0]-o[1])*2*S:S,g||v){var j=(g||v||[]).map((E,A)=>{var N=r?r.indexOf(E):E;return{coordinate:l(N)+S,value:E,offset:S,index:A}});return j.filter(E=>!dr(E.coordinate))}return d&&f?f.map((E,A)=>({coordinate:l(E)+S,value:E,index:A,offset:S})):l.ticks&&p!=null?l.ticks(p).map((E,A)=>({coordinate:l(E)+S,value:E,offset:S,index:A})):l.domain().map((E,A)=>({coordinate:l(E)+S,value:r?r[E]:E,index:A,offset:S}))},yE=1e-4,HB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-yE,o=Math.max(r[0],r[1])+yE,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},FB=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(i[0]=n),(!je(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},KB=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var u=dr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},GB=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=dr(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},YB={sign:KB,expand:w8,none:nl,silhouette:S8,wiggle:j8,positive:GB},VB=(e,t,n)=>{var r=YB[n],i=_8().keys(t).value((o,l)=>+Mt(o,l,0)).order(By).offset(r);return i(e)};function WB(e){return e==null?void 0:String(e)}var bE=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=Mt(o,t.dataKey,t.scale.domain()[l]);return hn(u)?null:t.scale(u)-i/2+r},XB=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},QB=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},JB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ZB=(e,t,n)=>{if(e!=null)return JB(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,u=l.reduce((d,f)=>{var p=QT(f,t,n),g=QB(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},xE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_E=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yb=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Oh(t,p=>p.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function wE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Cr(Cr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function kh(e,t){if(e)return String(e);if(typeof t=="string")return t}function e7(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?LB({x:e,y:t},r):null}var t7=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return Cr(Cr(Cr({},r),Xt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return Cr(Cr(Cr({},r),Xt(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{x:0,y:0}},n7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Fa=e=>e.layout.width,Ka=e=>e.layout.height,r7=e=>e.layout.scale,ek=e=>e.layout.margin,Ph=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Mh=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tk="data-recharts-item-index",nk="data-recharts-item-data-key",gu=60;function SE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(n),!0).forEach(function(r){a7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o7=e=>e.brush.height;function l7(e){var t=Mh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gu;return n+i}return n},0)}function c7(e){var t=Mh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gu;return n+i}return n},0)}function u7(e){var t=Ph(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function d7(e){var t=Ph(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var rn=X([Fa,Ka,ek,o7,l7,c7,u7,d7,jT,Aq],(e,t,n,r,i,o,l,u,d,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=tf(tf({},g),p),x=v.bottom;v.bottom+=r,v=BB(v,d,f);var w=e-v.left-v.right,S=t-v.top-v.bottom;return tf(tf({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(S,0)})}),f7=X(rn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),bb=X(Fa,Ka,(e,t)=>({x:0,y:0,width:e,height:t})),h7=_.createContext(null),Rr=()=>_.useContext(h7)!=null,Rh=e=>e.brush,Dh=X([Rh,rn,ek],(e,t,n)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:je(e.width)?e.width:t.width})),xb=()=>{var e,t=Rr(),n=we(f7),r=we(Dh),i=(e=we(Rh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},m7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},rk=()=>{var e;return(e=we(rn))!==null&&e!==void 0?e:m7},_b=()=>we(Fa),wb=()=>we(Ka),p7=()=>we(e=>e.layout.margin),et=e=>e.layout.layoutType,Sb=()=>we(et),g7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ak=mr({name:"legend",initialState:g7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Da(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:jE,setLegendSettings:v7,addLegendPayload:ik,removeLegendPayload:sk}=ak.actions,y7=ak.reducer,b7=["contextPayload"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){jb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jb(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w7(e,t){if(e==null)return{};var n,r,i=S7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function j7(e){return e.value}function O7(e){var{contextPayload:t}=e,n=w7(e,b7),r=xT(t,e.payloadUniqBy,j7),i=al(al({},n),{},{payload:r});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(cb,i)}function E7(e,t,n,r,i,o){var{layout:l,align:u,verticalAlign:d}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((r||0)-o.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((i||0)-o.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),al(al({},f),p)}function N7(e){var t=Rt();return _.useEffect(()=>{t(v7(e))},[t,e]),null}function A7(e){var t=Rt();return _.useEffect(()=>(t(jE(e)),()=>{t(jE({width:0,height:0}))}),[t,e]),null}function C7(e){var t=kq(),n=KU(),r=p7(),{width:i,height:o,wrapperStyle:l,portal:u}=e,[d,f]=OT([t]),p=_b(),g=wb();if(p==null||g==null)return null;var v=p-(r.left||0)-(r.right||0),x=Qc.getWidthOrHeight(e.layout,o,i,v),w=u?l:al(al({position:"absolute",width:(x==null?void 0:x.width)||i||"auto",height:(x==null?void 0:x.height)||o||"auto"},E7(l,e,r,p,g,d)),l),S=u??n;if(S==null)return null;var j=_.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:f},_.createElement(N7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),_.createElement(A7,{width:d.width,height:d.height}),_.createElement(O7,Zy({},e,x,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return xA.createPortal(j,S)}class Qc extends _.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&je(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return _.createElement(C7,this.props)}}jb(Qc,"displayName","Legend");jb(Qc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){T7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M7(e){return Array.isArray(e)&&oa(e[0])&&oa(e[1])?e.join(" ~ "):e}var R7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,x=()=>{if(o&&o.length){var k={padding:0,margin:0},M=(u?Oh(o,u):o).map((R,z)=>{if(R.type==="none")return null;var H=R.formatter||l||M7,{value:q,name:F}=R,K=q,ie=F;if(H){var U=H(q,F,R,z,o);if(Array.isArray(U))[K,ie]=U;else if(U!=null)K=U;else return null}var Z=Rv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Z},oa(ie)?_.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,oa(ie)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},K),_.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:k},M)}return null},w=Rv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Rv({margin:0},i),j=!hn(p),E=j?p:"",A=lt("recharts-default-tooltip",d),N=lt("recharts-tooltip-label",f);j&&g&&o!==void 0&&o!==null&&(E=g(p,o));var T=v?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",e0({className:A,style:w},T),_.createElement("p",{className:N,style:S},_.isValidElement(E)?E:"".concat(E)),x())},jc="recharts-tooltip-wrapper",D7={visibility:"hidden"};function I7(e){var{coordinate:t,translateX:n,translateY:r}=e;return lt(jc,{["".concat(jc,"-right")]:je(n)&&t&&je(t.x)&&n>=t.x,["".concat(jc,"-left")]:je(n)&&t&&je(t.x)&&n<t.x,["".concat(jc,"-bottom")]:je(r)&&t&&je(t.y)&&r>=t.y,["".concat(jc,"-top")]:je(r)&&t&&je(t.y)&&r<t.y})}function NE(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(o&&je(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=d[r];if(v==null)return 0;if(l[r]){var x=p,w=v;return x<w?Math.max(g,v):Math.max(p,v)}if(f==null)return 0;var S=g+u,j=v+f;return S>j?Math.max(p,v):Math.max(g,v)}function L7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function z7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,g;return l.height>0&&l.width>0&&n?(p=NE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=NE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=L7({translateX:p,translateY:g,useTranslate3d:u})):f=D7,{cssProperties:f,cssClasses:I7({translateX:p,translateY:g,coordinate:n})}}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){t0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0(e,t,n){return(t=$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q7 extends _.PureComponent{constructor(){super(...arguments),t0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),t0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:w,lastBoundingBox:S,innerRef:j,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:N}=z7({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:x}),T=E?{}:nf(nf({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=nf(nf({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:k,ref:j},o)}}var B7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$s={devToolsEnabled:!1,isSsr:B7()},ok=()=>we(e=>e.rootProps.accessibilityLayer);function hr(e){return Number.isFinite(e)}function il(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){H7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kE={curveBasisClosed:u8,curveBasisOpen:d8,curveBasis:c8,curveBumpX:WU,curveBumpY:XU,curveLinearClosed:f8,curveLinear:Sh,curveMonotoneX:h8,curveMonotoneY:m8,curveNatural:p8,curveStep:g8,curveStepAfter:y8,curveStepBefore:v8},rf=e=>hr(e.x)&&hr(e.y),Oc=e=>e.x,Ec=e=>e.y,G7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(fu(e));return(n==="curveMonotone"||n==="curveBump")&&t?kE["".concat(n).concat(t==="vertical"?"Y":"X")]:kE[n]||Sh},Y7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=G7(t,i),u=o?n.filter(rf):n,d;if(Array.isArray(r)){var f=o?r.filter(g=>rf(g)):r,p=u.map((g,v)=>TE(TE({},g),{},{base:f[v]}));return i==="vertical"?d=Wd().y(Ec).x1(Oc).x0(g=>g.base.x):d=Wd().x(Oc).y1(Ec).y0(g=>g.base.y),d.defined(rf).curve(l),d(p)}return i==="vertical"&&je(r)?d=Wd().y(Ec).x1(Oc).x0(r):je(r)?d=Wd().x(Oc).y1(Ec).y0(r):d=eT().x(Oc).y(Ec),d.defined(rf).curve(l),d(u)},lk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?Y7(e):r;return _.createElement("path",n0({},Li(e),DU(e),{className:lt("recharts-curve",t),d:o===null?void 0:o,ref:i}))},V7=["x","y","top","left","width","height","className"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(n),!0).forEach(function(r){X7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X7(e,t,n){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7(e,t){if(e==null)return{};var n,r,i=e9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var t9=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),n9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,d=Z7(e,V7),f=W7({x:t,y:n,top:r,left:i,width:o,height:l},d);return!je(t)||!je(n)||!je(o)||!je(l)||!je(r)||!je(i)?null:_.createElement("path",r0({},nn(f,!0),{className:lt("recharts-cross",u),d:t9(t,n,o,l,r,i)}))};function r9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(n),!0).forEach(function(r){i9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9(e,t,n){return(t=s9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t){var n=a9({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function l9(){}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){c9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c9(e,t,n){return(t=u9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ck=(e,t,n)=>e.map(r=>"".concat(f9(r)," ").concat(t,"ms ").concat(n)).join(","),h9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Jc=(e,t)=>Object.keys(t).reduce((n,r)=>DE(DE({},n),{},{[r]:e(r,t[r])}),{});function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=p9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf=(e,t,n)=>e+(t-e)*n,a0=e=>{var{from:t,to:n}=e;return t!==n},uk=(e,t,n)=>{var r=Jc((i,o)=>{if(a0(o)){var[l,u]=e(o.from,o.to,o.velocity);return wn(wn({},o),{},{from:l,velocity:u})}return o},t);return n<1?Jc((i,o)=>a0(o)?wn(wn({},o),{},{velocity:Gf(o.velocity,r[i].velocity,n),from:Gf(o.from,r[i].from,n)}):o,t):uk(e,r,n-1)};function v9(e,t,n,r,i,o){var l,u=r.reduce((v,x)=>wn(wn({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Jc((v,x)=>x.from,u),f=()=>!Object.values(u).filter(a0).length,p=null,g=v=>{l||(l=v);var x=v-l,w=x/n.dt;u=uk(n,u,w),i(wn(wn(wn({},e),t),d())),l=v,f()||(p=o.setTimeout(g))};return()=>(p=o.setTimeout(g),()=>{p()})}function y9(e,t,n,r,i,o,l){var u=null,d=i.reduce((g,v)=>wn(wn({},g),{},{[v]:[e[v],t[v]]}),{}),f,p=g=>{f||(f=g);var v=(g-f)/r,x=Jc((S,j)=>Gf(...j,n(v)),d);if(o(wn(wn(wn({},e),t),x)),v<1)u=l.setTimeout(p);else{var w=Jc((S,j)=>Gf(...j,n(1)),d);o(wn(wn(wn({},e),t),w))}};return()=>(u=l.setTimeout(p),()=>{u()})}const b9=(e,t,n,r,i,o)=>{var l=h9(e,t);return n.isStepper===!0?v9(e,t,n,l,i,o):y9(e,t,n,r,l,i,o)};var Yf=1e-4,dk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],fk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),LE=(e,t)=>n=>{var r=dk(e,t);return fk(r,n)},x9=(e,t)=>n=>{var r=dk(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return fk(i,n)},zE=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,r,n,i]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([t,r,n,i]=l);var f=LE(t,n),p=LE(r,i),g=x9(t,n),v=w=>w>1?1:w<0?0:w,x=w=>{for(var S=w>1?1:w,j=S,E=0;E<8;++E){var A=f(j)-S,N=g(j);if(Math.abs(A-S)<Yf||N<Yf)return p(j);j=v(j-A/N)}return p(j)};return x.isStepper=!1,x},_9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,d)=>{var f=-(l-u)*n,p=d*r,g=d+(f-p)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<Yf&&Math.abs(g)<Yf?[u,0]:[v,g]};return o.isStepper=!0,o.dt=i,o},w9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zE(e);case"spring":return _9();default:if(e.split("(")[0]==="cubic-bezier")return zE(e)}return typeof e=="function"?e:null};function S9(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(o.bind(null,f),d);return}o(d),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class j9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function O9(){return S9(new j9)}var E9=_.createContext(O9);function N9(e,t){var n=_.useContext(E9);return _.useMemo(()=>t??n(e),[e,t,n])}var A9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$E={t:0},Dv={t:1};function Ih(e){var t=In(e,A9),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,p=N9(t.animationId,t.animationManager),[g,v]=_.useState(n?$E:Dv),x=_.useRef(null);return _.useEffect(()=>{n||v(Dv)},[n]),_.useEffect(()=>{if(!n||!r)return l9;var w=b9($E,Dv,w9(o),i,v,p.getTimeoutController()),S=()=>{x.current=w()};return p.start([d,l,S,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[n,r,i,o,l,d,u,p]),f(g.t)}function Lh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Vc(t)),r=_.useRef(e);return r.current!==e&&(n.current=Vc(t),r.current=e),n.current}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){C9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C9(e,t,n){return(t=T9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(null,arguments)}var BE=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>o?o:i[g];f="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),f+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*p[1])),f+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),f+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);f="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*x,`
            L `).concat(e+n,",").concat(t+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},P9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hk=e=>{var t=In(e,P9),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&i(U)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:S}=t,j=_.useRef(u),E=_.useRef(d),A=_.useRef(o),N=_.useRef(l),T=_.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),k=Lh(T,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var M=lt("recharts-rectangle",p);if(!S)return _.createElement("path",Vf({},nn(t,!0),{className:M,d:BE(o,l,u,d,f)}));var R=j.current,z=E.current,H=A.current,q=N.current,F="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),ie=ck(["strokeDasharray"],v,typeof g=="string"?g:void 0);return _.createElement(Ih,{animationId:k,key:k,canBegin:r>0,duration:v,easing:g,isActive:S,begin:x},U=>{var Z=Sn(R,u,U),L=Sn(z,d,U),V=Sn(H,o,U),oe=Sn(q,l,U);n.current&&(j.current=Z,E.current=L,A.current=V,N.current=oe);var fe;return w?U>0?fe={transition:ie,strokeDasharray:K}:fe={strokeDasharray:F}:fe={strokeDasharray:K},_.createElement("path",Vf({},nn(t,!0),{className:M,d:BE(V,oe,Z,L,f),ref:n,style:qE(qE({},fe),t.style)}))})};function mk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Xt(t,n,r,i),u=Xt(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}var M9=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},af=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,p=Math.asin(u/f)/Kf,g=d?i:i+o*p,v=Xt(t,n,f,g),x=Xt(t,n,r,g),w=d?i-o*p:i,S=Xt(t,n,f*Math.cos(p*Kf),w);return{center:v,circleTangency:x,lineTangency:S,theta:p}},pk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=M9(o,l),d=o+u,f=Xt(t,n,i,o),p=Xt(t,n,i,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Xt(t,n,r,o),x=Xt(t,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},R9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,p=fn(f-d),{circleTangency:g,lineTangency:v,theta:x}=af({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:j}=af({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),E=u?Math.abs(d-f):Math.abs(d-f)-x-j;if(E<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:T,theta:k}=af({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:M,lineTangency:R,theta:z}=af({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),H=u?Math.abs(d-f):Math.abs(d-f)-k-z;if(H<0&&o===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},D9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gk=e=>{var t=In(e,D9),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:g}=t;if(o<i||f===p)return null;var v=lt("recharts-sector",g),x=o-i,w=An(l,x,0,!0),S;return w>0&&Math.abs(f-p)<360?S=R9({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):S=pk({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),_.createElement("path",i0({},nn(t,!0),{className:v,d:S}))};function I9(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:d,innerRadius:f,outerRadius:p,angle:g}=t,v=Xt(u,d,f,g),x=Xt(u,d,p,g);r=v.x,i=v.y,o=x.x,l=x.y}else return mk(t);return[{x:r,y:i},{x:o,y:l}]}var Iv={},Lv={},zv={},HE;function L9(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(zv)),zv}var FE;function z9(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L9();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Lv)),Lv}var KE;function $9(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ST(),n=z9();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(Iv)),Iv}var $v,GE;function U9(){return GE||(GE=1,$v=$9().range),$v}var q9=U9();const vk=Vr(q9);function ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ob(e){let t,n,r;e.length!==2?(t=ki,n=(u,d)=>ki(e(u),d),r=(u,d)=>e(u)-d):(t=e===ki||e===B9?e:H9,n=e,r=e);function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function o(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;n(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function l(u,d,f=0,p=u.length){const g=i(u,d,f,p-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:o}}function H9(){return 0}function yk(e){return e===null?NaN:+e}function*F9(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const K9=Ob(ki),vu=K9.right;Ob(yk).center;class YE extends Map{constructor(t,n=V9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(VE(this,t))}has(t){return super.has(VE(this,t))}set(t,n){return super.set(G9(this,t),n)}delete(t){return super.delete(Y9(this,t))}}function VE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function G9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Y9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function V9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function W9(e=ki){if(e===ki)return bk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function bk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const X9=Math.sqrt(50),Q9=Math.sqrt(10),J9=Math.sqrt(2);function Wf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=X9?10:o>=Q9?5:o>=J9?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Wf(e,t,n*2):[u,d,f]}function s0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Wf(t,e,n):Wf(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function o0(e,t,n){return t=+t,e=+e,n=+n,Wf(e,t,n)[2]}function l0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?o0(t,e,n):o0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function WE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function XE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?bk:W9(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(t-f*g/d+v)),w=Math.min(r,Math.floor(t+(d-f)*g/d+v));xk(e,t,x,w,i)}const o=e[t];let l=n,u=r;for(Nc(e,n,t),i(e[r],o)>0&&Nc(e,n,r);l<u;){for(Nc(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?Nc(e,n,u):(++u,Nc(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Nc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Z9(e,t,n){if(e=Float64Array.from(F9(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return XE(e);if(t>=1)return WE(e);var r,i=(r-1)*t,o=Math.floor(i),l=WE(xk(e,o).subarray(0,o+1)),u=XE(e.subarray(o+1));return l+(u-l)*(i-o)}}function eH(e,t,n=yk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function tH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Dr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ga(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const c0=Symbol("implicit");function Eb(){var e=new YE,t=[],n=[],r=c0;function i(o){let l=e.get(o);if(l===void 0){if(r!==c0)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new YE;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Eb(t,n).unknown(r)},Dr.apply(i,arguments),i}function Nb(){var e=Eb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function g(){var v=t().length,x=i<r,w=x?i:r,S=x?r:i;o=(S-w)/Math.max(1,v-d+f*2),u&&(o=Math.floor(o)),w+=(S-w-o*(v-d))*p,l=o*(1-d),u&&(w=Math.round(w),l=Math.round(l));var j=tH(v).map(function(E){return w+o*E});return n(x?j.reverse():j)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Nb(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},Dr.apply(g(),arguments)}function _k(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _k(t())},e}function nH(){return _k(Nb.apply(null,arguments).paddingInner(1))}function Ab(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yu(){}var Zc=.7,Xf=1/Zc,el="\\s*([+-]?\\d+)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rH=/^#([0-9a-f]{3,8})$/,aH=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),iH=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),sH=new RegExp(`^rgba\\(${el},${el},${el},${eu}\\)$`),oH=new RegExp(`^rgba\\(${sa},${sa},${sa},${eu}\\)$`),lH=new RegExp(`^hsl\\(${eu},${sa},${sa}\\)$`),cH=new RegExp(`^hsla\\(${eu},${sa},${sa},${eu}\\)$`),QE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ab(yu,tu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JE,formatHex:JE,formatHex8:uH,formatHsl:dH,formatRgb:ZE,toString:ZE});function JE(){return this.rgb().formatHex()}function uH(){return this.rgb().formatHex8()}function dH(){return Sk(this).formatHsl()}function ZE(){return this.rgb().formatRgb()}function tu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?e2(t):n===3?new Wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aH.exec(e))?new Wn(t[1],t[2],t[3],1):(t=iH.exec(e))?new Wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sH.exec(e))?sf(t[1],t[2],t[3],t[4]):(t=oH.exec(e))?sf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lH.exec(e))?r2(t[1],t[2]/100,t[3]/100,1):(t=cH.exec(e))?r2(t[1],t[2]/100,t[3]/100,t[4]):QE.hasOwnProperty(e)?e2(QE[e]):e==="transparent"?new Wn(NaN,NaN,NaN,0):null}function e2(e){return new Wn(e>>16&255,e>>8&255,e&255,1)}function sf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wn(e,t,n,r)}function fH(e){return e instanceof yu||(e=tu(e)),e?(e=e.rgb(),new Wn(e.r,e.g,e.b,e.opacity)):new Wn}function u0(e,t,n,r){return arguments.length===1?fH(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ab(Wn,u0,wk(yu,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wn(As(this.r),As(this.g),As(this.b),Qf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatHex8:hH,formatRgb:n2,toString:n2}));function t2(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function hH(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function n2(){const e=Qf(this.opacity);return`${e===1?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${e===1?")":`, ${e})`}`}function Qf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function As(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ws(e){return e=As(e),(e<16?"0":"")+e.toString(16)}function r2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fr(e,t,n,r)}function Sk(e){if(e instanceof Fr)return new Fr(e.h,e.s,e.l,e.opacity);if(e instanceof yu||(e=tu(e)),!e)return new Fr;if(e instanceof Fr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Fr(l,u,d,e.opacity)}function mH(e,t,n,r){return arguments.length===1?Sk(e):new Fr(e,t,n,r??1)}function Fr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ab(Fr,mH,wk(yu,{brighter(e){return e=e==null?Xf:Math.pow(Xf,e),new Fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zc:Math.pow(Zc,e),new Fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Wn(Uv(e>=240?e-240:e+120,i,r),Uv(e,i,r),Uv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Fr(a2(this.h),of(this.s),of(this.l),Qf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qf(this.opacity);return`${e===1?"hsl(":"hsla("}${a2(this.h)}, ${of(this.s)*100}%, ${of(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a2(e){return e=(e||0)%360,e<0?e+360:e}function of(e){return Math.max(0,Math.min(1,e||0))}function Uv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Cb=e=>()=>e;function pH(e,t){return function(n){return e+n*t}}function gH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vH(e){return(e=+e)==1?jk:function(t,n){return n-t?gH(t,n,e):Cb(isNaN(t)?n:t)}}function jk(e,t){var n=t-e;return n?pH(e,n):Cb(isNaN(e)?t:e)}const i2=(function e(t){var n=vH(t);function r(i,o){var l=n((i=u0(i)).r,(o=u0(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=jk(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function yH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function bH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=yl(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function _H(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yl(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var d0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qv=new RegExp(d0.source,"g");function SH(e){return function(){return e}}function jH(e){return function(t){return e(t)+""}}function OH(e,t){var n=d0.lastIndex=qv.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=d0.exec(e))&&(i=qv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Jf(r,i)})),n=qv.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?jH(d[0].x):SH(t):(t=d.length,function(f){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function yl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Cb(t):(n==="number"?Jf:n==="string"?(r=tu(t))?(t=r,i2):OH:t instanceof tu?i2:t instanceof Date?_H:bH(t)?yH:Array.isArray(t)?xH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wH:Jf)(e,t)}function Tb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function EH(e,t){t===void 0&&(t=e,e=yl);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function NH(e){return function(){return e}}function Zf(e){return+e}var s2=[0,1];function Dn(e){return e}function f0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:NH(isNaN(t)?NaN:.5)}function AH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function CH(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=f0(i,r),o=n(l,o)):(r=f0(r,i),o=n(o,l)),function(u){return o(r(u))}}function TH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=f0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var d=vu(e,u,1,r)-1;return o[d](i[d](u))}}function bu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zh(){var e=s2,t=s2,n=yl,r,i,o,l=Dn,u,d,f;function p(){var v=Math.min(e.length,t.length);return l!==Dn&&(l=AH(e[0],e[v-1])),u=v>2?TH:CH,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?o:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((f||(f=u(t,e.map(r),Jf)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Zf),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Tb,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Dn,p()):l!==Dn},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,x){return r=v,i=x,p()}}function kb(){return zh()(Dn,Dn)}function kH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sl(e){return e=eh(Math.abs(e)),e?e[1]:NaN}function PH(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function MH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var RH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nu(e){if(!(t=RH.exec(e)))throw new Error("invalid format: "+e);var t;return new Pb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nu.prototype=Pb.prototype;function Pb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DH(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ok;function IH(e,t){var n=eh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ok=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eh(e,Math.max(0,t+o-1))[0]}function o2(e,t){var n=eh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o2(e*100,t),r:o2,s:IH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c2(e){return e}var u2=Array.prototype.map,d2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LH(e){var t=e.grouping===void 0||e.thousands===void 0?c2:PH(u2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?c2:MH(u2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=nu(g);var v=g.fill,x=g.align,w=g.sign,S=g.symbol,j=g.zero,E=g.width,A=g.comma,N=g.precision,T=g.trim,k=g.type;k==="n"?(A=!0,k="g"):l2[k]||(N===void 0&&(N=12),T=!0,k="g"),(j||v==="0"&&x==="=")&&(j=!0,v="0",x="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=S==="$"?r:/[%p]/.test(k)?l:"",z=l2[k],H=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function q(F){var K=M,ie=R,U,Z,L;if(k==="c")ie=z(F)+ie,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?d:z(Math.abs(F),N),T&&(F=DH(F)),V&&+F==0&&w!=="+"&&(V=!1),K=(V?w==="("?w:u:w==="-"||w==="("?"":w)+K,ie=(k==="s"?d2[8+Ok/3]:"")+ie+(V&&w==="("?")":""),H){for(U=-1,Z=F.length;++U<Z;)if(L=F.charCodeAt(U),48>L||L>57){ie=(L===46?i+F.slice(U+1):F.slice(U))+ie,F=F.slice(0,U);break}}}A&&!j&&(F=t(F,1/0));var oe=K.length+F.length+ie.length,fe=oe<E?new Array(E-oe+1).join(v):"";switch(A&&j&&(F=t(fe+F,fe.length?E-ie.length:1/0),fe=""),x){case"<":F=K+F+ie+fe;break;case"=":F=K+fe+F+ie;break;case"^":F=fe.slice(0,oe=fe.length>>1)+K+F+ie+fe.slice(oe);break;default:F=fe+K+F+ie;break}return o(F)}return q.toString=function(){return g+""},q}function p(g,v){var x=f((g=nu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(sl(v)/3)))*3,S=Math.pow(10,-w),j=d2[8+w/3];return function(E){return x(S*E)+j}}return{format:f,formatPrefix:p}}var lf,Mb,Ek;zH({thousands:",",grouping:[3],currency:["$",""]});function zH(e){return lf=LH(e),Mb=lf.format,Ek=lf.formatPrefix,lf}function $H(e){return Math.max(0,-sl(Math.abs(e)))}function UH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(t)/3)))*3-sl(Math.abs(e)))}function qH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sl(t)-sl(e))+1}function Nk(e,t,n,r){var i=l0(e,t,n),o;switch(r=nu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=UH(i,l))&&(r.precision=o),Ek(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qH(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$H(i))&&(r.precision=o-(r.type==="%")*2);break}}return Mb(r)}function zi(e){var t=e.domain;return e.ticks=function(n){var r=t();return s0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Nk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);p-- >0;){if(f=o0(l,u,n),f===d)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Ak(){var e=kb();return e.copy=function(){return bu(e,Ak())},Dr.apply(e,arguments),zi(e)}function Ck(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Zf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ck(e).unknown(t)},e=arguments.length?Array.from(e,Zf):[0,1],zi(n)}function Tk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function f2(e){return Math.log(e)}function h2(e){return Math.exp(e)}function BH(e){return-Math.log(-e)}function HH(e){return-Math.exp(-e)}function FH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KH(e){return e===10?FH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m2(e){return(t,n)=>-e(-t,n)}function Rb(e){const t=e(f2,h2),n=t.domain;let r=10,i,o;function l(){return i=GH(r),o=KH(r),n()[0]<0?(i=m2(i),o=m2(o),e(BH,HH)):e(f2,h2),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=i(f),x=i(p),w,S;const j=u==null?10:+u;let E=[];if(!(r%1)&&x-v<j){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(w=1;w<r;++w)if(S=v<0?w/o(-v):w*o(v),!(S<f)){if(S>p)break;E.push(S)}}else for(;v<=x;++v)for(w=r-1;w>=1;--w)if(S=v>0?w/o(-v):w*o(v),!(S<f)){if(S>p)break;E.push(S)}E.length*2<j&&(E=s0(f,p,j))}else E=s0(v,x,Math.min(x-v,j)).map(o);return g?E.reverse():E},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=nu(d)).precision==null&&(d.trim=!0),d=Mb(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=f?d(p):""}},t.nice=()=>n(Tk(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function kk(){const e=Rb(zh()).domain([1,10]);return e.copy=()=>bu(e,kk()).base(e.base()),Dr.apply(e,arguments),e}function p2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Db(e){var t=1,n=e(p2(t),g2(t));return n.constant=function(r){return arguments.length?e(p2(t=+r),g2(t)):t},zi(n)}function Pk(){var e=Db(zh());return e.copy=function(){return bu(e,Pk()).constant(e.constant())},Dr.apply(e,arguments)}function v2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VH(e){return e<0?-e*e:e*e}function Ib(e){var t=e(Dn,Dn),n=1;function r(){return n===1?e(Dn,Dn):n===.5?e(YH,VH):e(v2(n),v2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},zi(t)}function Lb(){var e=Ib(zh());return e.copy=function(){return bu(e,Lb()).exponent(e.exponent())},Dr.apply(e,arguments),e}function WH(){return Lb.apply(null,arguments).exponent(.5)}function y2(e){return Math.sign(e)*e*e}function XH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Mk(){var e=kb(),t=[0,1],n=!1,r;function i(o){var l=XH(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(y2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Zf)).map(y2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Mk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Dr.apply(i,arguments),zi(i)}function Rk(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=eH(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[vu(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ki),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Rk().domain(e).range(t).unknown(r)},Dr.apply(o,arguments)}function Dk(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[vu(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Dk().domain([e,t]).range(i).unknown(o)},Dr.apply(zi(l),arguments)}function Ik(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[vu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Ik().domain(e).range(t).unknown(n)},Dr.apply(i,arguments)}const Bv=new Date,Hv=new Date;function an(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>an(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Bv.setTime(+o),Hv.setTime(+l),e(Bv),e(Hv),Math.floor(n(Bv,Hv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const th=an(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);th.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?an(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):th);th.range;const Pa=1e3,Tr=Pa*60,Ma=Tr*60,Ua=Ma*24,zb=Ua*7,b2=Ua*30,Fv=Ua*365,Ss=an(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCSeconds());Ss.range;const $b=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pa)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());$b.range;const Ub=an(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());Ub.range;const qb=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pa-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getHours());qb.range;const Bb=an(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getUTCHours());Bb.range;const xu=an(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Ua,e=>e.getDate()-1);xu.range;const $h=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ua,e=>e.getUTCDate()-1);$h.range;const Lk=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ua,e=>Math.floor(e/Ua));Lk.range;function Us(e){return an(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/zb)}const Uh=Us(0),nh=Us(1),QH=Us(2),JH=Us(3),ol=Us(4),ZH=Us(5),eF=Us(6);Uh.range;nh.range;QH.range;JH.range;ol.range;ZH.range;eF.range;function qs(e){return an(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/zb)}const qh=qs(0),rh=qs(1),tF=qs(2),nF=qs(3),ll=qs(4),rF=qs(5),aF=qs(6);qh.range;rh.range;tF.range;nF.range;ll.range;rF.range;aF.range;const Hb=an(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hb.range;const Fb=an(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fb.range;const qa=an(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qa.range;const Ba=an(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ba.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ba.range;function zk(e,t,n,r,i,o){const l=[[Ss,1,Pa],[Ss,5,5*Pa],[Ss,15,15*Pa],[Ss,30,30*Pa],[o,1,Tr],[o,5,5*Tr],[o,15,15*Tr],[o,30,30*Tr],[i,1,Ma],[i,3,3*Ma],[i,6,6*Ma],[i,12,12*Ma],[r,1,Ua],[r,2,2*Ua],[n,1,zb],[t,1,b2],[t,3,3*b2],[e,1,Fv]];function u(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const x=g&&typeof g.range=="function"?g:d(f,p,g),w=x?x.range(f,+p+1):[];return v?w.reverse():w}function d(f,p,g){const v=Math.abs(p-f)/g,x=Ob(([,,j])=>j).right(l,v);if(x===l.length)return e.every(l0(f/Fv,p/Fv,g));if(x===0)return th.every(Math.max(l0(f,p,g),1));const[w,S]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return w.every(S)}return[u,d]}const[iF,sF]=zk(Ba,Fb,qh,Lk,Bb,Ub),[oF,lF]=zk(qa,Hb,Uh,xu,qb,$b);function Kv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ac(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cF(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Cc(i),p=Tc(i),g=Cc(o),v=Tc(o),x=Cc(l),w=Tc(l),S=Cc(u),j=Tc(u),E=Cc(d),A=Tc(d),N={a:V,A:oe,b:fe,B:ae,c:null,d:O2,e:O2,f:PF,g:BF,G:FF,H:CF,I:TF,j:kF,L:$k,m:MF,M:RF,p:P,q:D,Q:A2,s:C2,S:DF,u:IF,U:LF,V:zF,w:$F,W:UF,x:null,X:null,y:qF,Y:HF,Z:KF,"%":N2},T={a:te,A:Q,b:ee,B:me,c:null,d:E2,e:E2,f:WF,g:iK,G:oK,H:GF,I:YF,j:VF,L:qk,m:XF,M:QF,p:pe,q:$e,Q:A2,s:C2,S:JF,u:ZF,U:eK,V:tK,w:nK,W:rK,x:null,X:null,y:aK,Y:sK,Z:lK,"%":N2},k={a:q,A:F,b:K,B:ie,c:U,d:S2,e:S2,f:OF,g:w2,G:_2,H:j2,I:j2,j:_F,L:jF,m:xF,M:wF,p:H,q:bF,Q:NF,s:AF,S:SF,u:mF,U:pF,V:gF,w:hF,W:vF,x:Z,X:L,y:w2,Y:_2,Z:yF,"%":EF};N.x=M(n,N),N.X=M(r,N),N.c=M(t,N),T.x=M(n,T),T.X=M(r,T),T.c=M(t,T);function M(ne,Se){return function(Te){var ce=[],At=-1,Le=0,Ct=ne.length,Tt,Bt,Qn;for(Te instanceof Date||(Te=new Date(+Te));++At<Ct;)ne.charCodeAt(At)===37&&(ce.push(ne.slice(Le,At)),(Bt=x2[Tt=ne.charAt(++At)])!=null?Tt=ne.charAt(++At):Bt=Tt==="e"?" ":"0",(Qn=Se[Tt])&&(Tt=Qn(Te,Bt)),ce.push(Tt),Le=At+1);return ce.push(ne.slice(Le,At)),ce.join("")}}function R(ne,Se){return function(Te){var ce=Ac(1900,void 0,1),At=z(ce,ne,Te+="",0),Le,Ct;if(At!=Te.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Se&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Le=Gv(Ac(ce.y,0,1)),Ct=Le.getUTCDay(),Le=Ct>4||Ct===0?rh.ceil(Le):rh(Le),Le=$h.offset(Le,(ce.V-1)*7),ce.y=Le.getUTCFullYear(),ce.m=Le.getUTCMonth(),ce.d=Le.getUTCDate()+(ce.w+6)%7):(Le=Kv(Ac(ce.y,0,1)),Ct=Le.getDay(),Le=Ct>4||Ct===0?nh.ceil(Le):nh(Le),Le=xu.offset(Le,(ce.V-1)*7),ce.y=Le.getFullYear(),ce.m=Le.getMonth(),ce.d=Le.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ct="Z"in ce?Gv(Ac(ce.y,0,1)).getUTCDay():Kv(Ac(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ct+5)%7:ce.w+ce.U*7-(Ct+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Gv(ce)):Kv(ce)}}function z(ne,Se,Te,ce){for(var At=0,Le=Se.length,Ct=Te.length,Tt,Bt;At<Le;){if(ce>=Ct)return-1;if(Tt=Se.charCodeAt(At++),Tt===37){if(Tt=Se.charAt(At++),Bt=k[Tt in x2?Se.charAt(At++):Tt],!Bt||(ce=Bt(ne,Te,ce))<0)return-1}else if(Tt!=Te.charCodeAt(ce++))return-1}return ce}function H(ne,Se,Te){var ce=f.exec(Se.slice(Te));return ce?(ne.p=p.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function q(ne,Se,Te){var ce=x.exec(Se.slice(Te));return ce?(ne.w=w.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function F(ne,Se,Te){var ce=g.exec(Se.slice(Te));return ce?(ne.w=v.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function K(ne,Se,Te){var ce=E.exec(Se.slice(Te));return ce?(ne.m=A.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function ie(ne,Se,Te){var ce=S.exec(Se.slice(Te));return ce?(ne.m=j.get(ce[0].toLowerCase()),Te+ce[0].length):-1}function U(ne,Se,Te){return z(ne,t,Se,Te)}function Z(ne,Se,Te){return z(ne,n,Se,Te)}function L(ne,Se,Te){return z(ne,r,Se,Te)}function V(ne){return l[ne.getDay()]}function oe(ne){return o[ne.getDay()]}function fe(ne){return d[ne.getMonth()]}function ae(ne){return u[ne.getMonth()]}function P(ne){return i[+(ne.getHours()>=12)]}function D(ne){return 1+~~(ne.getMonth()/3)}function te(ne){return l[ne.getUTCDay()]}function Q(ne){return o[ne.getUTCDay()]}function ee(ne){return d[ne.getUTCMonth()]}function me(ne){return u[ne.getUTCMonth()]}function pe(ne){return i[+(ne.getUTCHours()>=12)]}function $e(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var Se=M(ne+="",N);return Se.toString=function(){return ne},Se},parse:function(ne){var Se=R(ne+="",!1);return Se.toString=function(){return ne},Se},utcFormat:function(ne){var Se=M(ne+="",T);return Se.toString=function(){return ne},Se},utcParse:function(ne){var Se=R(ne+="",!0);return Se.toString=function(){return ne},Se}}}var x2={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,uF=/^%/,dF=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function fF(e){return e.replace(dF,"\\$&")}function Cc(e){return new RegExp("^(?:"+e.map(fF).join("|")+")","i")}function Tc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hF(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mF(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pF(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function gF(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function vF(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _2(e,t,n){var r=mn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function w2(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bF(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function xF(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function S2(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _F(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function j2(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function wF(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function SF(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jF(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OF(e,t,n){var r=mn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function EF(e,t,n){var r=uF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function NF(e,t,n){var r=mn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function AF(e,t,n){var r=mn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function O2(e,t){return Ze(e.getDate(),t,2)}function CF(e,t){return Ze(e.getHours(),t,2)}function TF(e,t){return Ze(e.getHours()%12||12,t,2)}function kF(e,t){return Ze(1+xu.count(qa(e),e),t,3)}function $k(e,t){return Ze(e.getMilliseconds(),t,3)}function PF(e,t){return $k(e,t)+"000"}function MF(e,t){return Ze(e.getMonth()+1,t,2)}function RF(e,t){return Ze(e.getMinutes(),t,2)}function DF(e,t){return Ze(e.getSeconds(),t,2)}function IF(e){var t=e.getDay();return t===0?7:t}function LF(e,t){return Ze(Uh.count(qa(e)-1,e),t,2)}function Uk(e){var t=e.getDay();return t>=4||t===0?ol(e):ol.ceil(e)}function zF(e,t){return e=Uk(e),Ze(ol.count(qa(e),e)+(qa(e).getDay()===4),t,2)}function $F(e){return e.getDay()}function UF(e,t){return Ze(nh.count(qa(e)-1,e),t,2)}function qF(e,t){return Ze(e.getFullYear()%100,t,2)}function BF(e,t){return e=Uk(e),Ze(e.getFullYear()%100,t,2)}function HF(e,t){return Ze(e.getFullYear()%1e4,t,4)}function FF(e,t){var n=e.getDay();return e=n>=4||n===0?ol(e):ol.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function KF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function E2(e,t){return Ze(e.getUTCDate(),t,2)}function GF(e,t){return Ze(e.getUTCHours(),t,2)}function YF(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function VF(e,t){return Ze(1+$h.count(Ba(e),e),t,3)}function qk(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function WF(e,t){return qk(e,t)+"000"}function XF(e,t){return Ze(e.getUTCMonth()+1,t,2)}function QF(e,t){return Ze(e.getUTCMinutes(),t,2)}function JF(e,t){return Ze(e.getUTCSeconds(),t,2)}function ZF(e){var t=e.getUTCDay();return t===0?7:t}function eK(e,t){return Ze(qh.count(Ba(e)-1,e),t,2)}function Bk(e){var t=e.getUTCDay();return t>=4||t===0?ll(e):ll.ceil(e)}function tK(e,t){return e=Bk(e),Ze(ll.count(Ba(e),e)+(Ba(e).getUTCDay()===4),t,2)}function nK(e){return e.getUTCDay()}function rK(e,t){return Ze(rh.count(Ba(e)-1,e),t,2)}function aK(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function iK(e,t){return e=Bk(e),Ze(e.getUTCFullYear()%100,t,2)}function sK(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function oK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ll(e):ll.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function lK(){return"+0000"}function N2(){return"%"}function A2(e){return+e}function C2(e){return Math.floor(+e/1e3)}var Fo,Hk,Fk;cK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cK(e){return Fo=cF(e),Hk=Fo.format,Fo.parse,Fk=Fo.utcFormat,Fo.utcParse,Fo}function uK(e){return new Date(e)}function dK(e){return e instanceof Date?+e:+new Date(+e)}function Kb(e,t,n,r,i,o,l,u,d,f){var p=kb(),g=p.invert,v=p.domain,x=f(".%L"),w=f(":%S"),S=f("%I:%M"),j=f("%I %p"),E=f("%a %d"),A=f("%b %d"),N=f("%B"),T=f("%Y");function k(M){return(d(M)<M?x:u(M)<M?w:l(M)<M?S:o(M)<M?j:r(M)<M?i(M)<M?E:A:n(M)<M?N:T)(M)}return p.invert=function(M){return new Date(g(M))},p.domain=function(M){return arguments.length?v(Array.from(M,dK)):v().map(uK)},p.ticks=function(M){var R=v();return e(R[0],R[R.length-1],M??10)},p.tickFormat=function(M,R){return R==null?k:f(R)},p.nice=function(M){var R=v();return(!M||typeof M.range!="function")&&(M=t(R[0],R[R.length-1],M??10)),M?v(Tk(R,M)):p},p.copy=function(){return bu(p,Kb(e,t,n,r,i,o,l,u,d,f))},p}function fK(){return Dr.apply(Kb(oF,lF,qa,Hb,Uh,xu,qb,$b,Ss,Hk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hK(){return Dr.apply(Kb(iF,sF,Ba,Fb,qh,$h,Bb,Ub,Ss,Fk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bh(){var e=0,t=1,n,r,i,o,l=Dn,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function p(g){return function(v){var x,w;return arguments.length?([x,w]=v,l=g(x,w),f):[l(0),l(1)]}}return f.range=p(yl),f.rangeRound=p(Tb),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),f}}function $i(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Kk(){var e=zi(Bh()(Dn));return e.copy=function(){return $i(e,Kk())},Ga.apply(e,arguments)}function Gk(){var e=Rb(Bh()).domain([1,10]);return e.copy=function(){return $i(e,Gk()).base(e.base())},Ga.apply(e,arguments)}function Yk(){var e=Db(Bh());return e.copy=function(){return $i(e,Yk()).constant(e.constant())},Ga.apply(e,arguments)}function Gb(){var e=Ib(Bh());return e.copy=function(){return $i(e,Gb()).exponent(e.exponent())},Ga.apply(e,arguments)}function mK(){return Gb.apply(null,arguments).exponent(.5)}function Vk(){var e=[],t=Dn;function n(r){if(r!=null&&!isNaN(r=+r))return t((vu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ki),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Z9(e,o/r))},n.copy=function(){return Vk(t).domain(e)},Ga.apply(n,arguments)}function Hh(){var e=0,t=.5,n=1,r=1,i,o,l,u,d,f=Dn,p,g=!1,v;function x(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-o)*(r*S<r*o?u:d),f(g?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,n]=S,i=p(e=+e),o=p(t=+t),l=p(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x):[e,t,n]},x.clamp=function(S){return arguments.length?(g=!!S,x):g},x.interpolator=function(S){return arguments.length?(f=S,x):f};function w(S){return function(j){var E,A,N;return arguments.length?([E,A,N]=j,f=EH(S,[E,A,N]),x):[f(0),f(.5),f(1)]}}return x.range=w(yl),x.rangeRound=w(Tb),x.unknown=function(S){return arguments.length?(v=S,x):v},function(S){return p=S,i=S(e),o=S(t),l=S(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x}}function Wk(){var e=zi(Hh()(Dn));return e.copy=function(){return $i(e,Wk())},Ga.apply(e,arguments)}function Xk(){var e=Rb(Hh()).domain([.1,1,10]);return e.copy=function(){return $i(e,Xk()).base(e.base())},Ga.apply(e,arguments)}function Qk(){var e=Db(Hh());return e.copy=function(){return $i(e,Qk()).constant(e.constant())},Ga.apply(e,arguments)}function Yb(){var e=Ib(Hh());return e.copy=function(){return $i(e,Yb()).exponent(e.exponent())},Ga.apply(e,arguments)}function pK(){return Yb.apply(null,arguments).exponent(.5)}const Rc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nb,scaleDiverging:Wk,scaleDivergingLog:Xk,scaleDivergingPow:Yb,scaleDivergingSqrt:pK,scaleDivergingSymlog:Qk,scaleIdentity:Ck,scaleImplicit:c0,scaleLinear:Ak,scaleLog:kk,scaleOrdinal:Eb,scalePoint:nH,scalePow:Lb,scaleQuantile:Rk,scaleQuantize:Dk,scaleRadial:Mk,scaleSequential:Kk,scaleSequentialLog:Gk,scaleSequentialPow:Gb,scaleSequentialQuantile:Vk,scaleSequentialSqrt:mK,scaleSequentialSymlog:Yk,scaleSqrt:WH,scaleSymlog:Pk,scaleThreshold:Ik,scaleTime:fK,scaleUtc:hK,tickFormat:Nk},Symbol.toStringTag,{value:"Module"}));var Ui=e=>e.chartData,Vb=X([Ui],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Wb=(e,t,n,r)=>r?Vb(e):Ui(e);function cl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(hr(t)&&hr(n))return!0}return!1}function T2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(hr(n))i=n;else if(typeof n=="function")return;if(hr(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(cl(l))return l}}function vK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(cl(r))return T2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&xE.test(i)){var d=xE.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(je(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&_E.test(o)){var p=_E.exec(o);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(cl(v))return t==null?v:T2(v,t,n)}}}var bl=1e9,yK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qb,Ot=!0,Pr="[DecimalError] ",Cs=Pr+"Invalid argument: ",Xb=Pr+"Exponent out of range: ",xl=Math.floor,hs=Math.pow,bK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cr,dn=1e7,wt=7,Jk=9007199254740991,ah=xl(Jk/wt),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ve.dividedBy=ve.div=function(e){return Ia(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,n=t.constructor;return gt(Ia(t,new n(e),0,1),n.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return Qt(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(cr))throw Error(Pr+"NaN");if(n.s<1)throw Error(Pr+(n.s?"NaN":"-Infinity"));return n.eq(cr)?new r(0):(Ot=!1,t=Ia(ru(n,o),ru(e,o),o),Ot=!0,gt(t,i))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tP(t,e):Zk(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Pr+"NaN");return n.s?(Ot=!1,t=Ia(n,e,0,1).times(e),Ot=!0,n.minus(t)):gt(new r(n),i)};ve.naturalExponential=ve.exp=function(){return eP(this)};ve.naturalLogarithm=ve.ln=function(){return ru(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zk(t,e):tP(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cs+e);if(t=Qt(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ve.squareRoot=ve.sqrt=function(){var e,t,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Pr+"NaN")}for(e=Qt(u),Ot=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ia(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(Ia(u,o,l+2)).times(.5),ia(o.d).slice(0,l)===(t=ia(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(gt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return Ot=!0,gt(r,n)};ve.times=ve.mul=function(e){var t,n,r,i,o,l,u,d,f,p=this,g=p.constructor,v=p.d,x=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,d=v.length,f=x.length,d<f&&(o=v,v=x,x=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+x[r]*v[i-r-1]+t,o[i--]=u%dn|0,t=u/dn|0;o[i]=(o[i]+t)%dn|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ot?gt(e,g.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(la(e,0,bl),t===void 0?t=r.rounding:la(t,0,8),gt(n,e+Qt(n)+1,t))};ve.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ms(r,!0):(la(e,0,bl),t===void 0?t=i.rounding:la(t,0,8),r=gt(new i(r),e+1,t),n=Ms(r,!0,e+1)),n};ve.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Ms(i):(la(e,0,bl),t===void 0?t=o.rounding:la(t,0,8),r=gt(new o(i),e+Qt(i)+1,t),n=Ms(r.abs(),!1,e+Qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Qt(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,n,r,i,o,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(cr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Pr+"Infinity");return u}if(u.eq(cr))return u;if(r=d.precision,e.eq(cr))return gt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=p<0?-p:p)<=Jk){for(i=new d(cr),t=Math.ceil(r/wt+4),Ot=!1;n%2&&(i=i.times(u),P2(i.d,t)),n=xl(n/2),n!==0;)u=u.times(u),P2(u.d,t);return Ot=!0,e.s<0?new d(cr).div(i):gt(i,r)}}else if(o<0)throw Error(Pr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Ot=!1,i=e.times(ru(u,r+f)),Ot=!0,i=eP(i),i.s=o,i};ve.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Qt(i),r=Ms(i,n<=o.toExpNeg||n>=o.toExpPos)):(la(e,1,bl),t===void 0?t=o.rounding:la(t,0,8),i=gt(new o(i),e,t),n=Qt(i),r=Ms(i,e<=n||n<=o.toExpNeg,e)),r};ve.toSignificantDigits=ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(la(e,1,bl),t===void 0?t=r.rounding:la(t,0,8)),gt(new r(n),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qt(e),n=e.constructor;return Ms(e,t<=n.toExpNeg||t>=n.toExpPos)};function Zk(e,t){var n,r,i,o,l,u,d,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Ot?gt(t,g):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(g/wt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/dn|0,d[o]%=dn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Ot?gt(t,g):t}function la(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Cs+e)}function ia(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=wt-r.length,n&&(o+=Oi(n)),o+=r;l=e[t],r=l+"",n=wt-r.length,n&&(o+=Oi(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ia=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%dn|0,l=o/dn|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*dn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,p,g,v,x,w,S,j,E,A,N,T,k,M,R,z,H=r.constructor,q=r.s==i.s?1:-1,F=r.d,K=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Pr+"Division by zero");for(d=r.e-i.e,R=K.length,k=F.length,x=new H(q),w=x.d=[],f=0;K[f]==(F[f]||0);)++f;if(K[f]>(F[f]||0)&&--d,o==null?A=o=H.precision:l?A=o+(Qt(r)-Qt(i))+1:A=o,A<0)return new H(0);if(A=A/wt+2|0,f=0,R==1)for(p=0,K=K[0],A++;(f<k||p)&&A--;f++)N=p*dn+(F[f]||0),w[f]=N/K|0,p=N%K|0;else{for(p=dn/(K[0]+1)|0,p>1&&(K=e(K,p),F=e(F,p),R=K.length,k=F.length),T=R,S=F.slice(0,R),j=S.length;j<R;)S[j++]=0;z=K.slice(),z.unshift(0),M=K[0],K[1]>=dn/2&&++M;do p=0,u=t(K,S,R,j),u<0?(E=S[0],R!=j&&(E=E*dn+(S[1]||0)),p=E/M|0,p>1?(p>=dn&&(p=dn-1),g=e(K,p),v=g.length,j=S.length,u=t(g,S,v,j),u==1&&(p--,n(g,R<v?z:K,v))):(p==0&&(u=p=1),g=K.slice()),v=g.length,v<j&&g.unshift(0),n(S,g,j),u==-1&&(j=S.length,u=t(K,S,R,j),u<1&&(p++,n(S,R<j?z:K,j))),j=S.length):u===0&&(p++,S=[0]),w[f++]=p,u&&S[0]?S[j++]=F[T]||0:(S=[F[T]],j=1);while((T++<k||S[0]!==void 0)&&A--)}return w[0]||w.shift(),x.e=d,gt(x,l?o+Qt(x)+1:o)}})();function eP(e,t){var n,r,i,o,l,u,d=0,f=0,p=e.constructor,g=p.precision;if(Qt(e)>16)throw Error(Xb+Qt(e));if(!e.s)return new p(cr);for(Ot=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(hs(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new p(cr),p.precision=u;;){if(i=gt(i.times(e),u),n=n.times(++d),l=o.plus(Ia(i,n,u)),ia(l.d).slice(0,u)===ia(o.d).slice(0,u)){for(;f--;)o=gt(o.times(o),u);return p.precision=g,t==null?(Ot=!0,gt(o,g)):o}o=l}}function Qt(e){for(var t=e.e*wt,n=e.d[0];n>=10;n/=10)t++;return t}function Yv(e,t,n){if(t>e.LN10.sd())throw Ot=!0,n&&(e.precision=n),Error(Pr+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function Oi(e){for(var t="";e--;)t+="0";return t}function ru(e,t){var n,r,i,o,l,u,d,f,p,g=1,v=10,x=e,w=x.d,S=x.constructor,j=S.precision;if(x.s<1)throw Error(Pr+(x.s?"NaN":"-Infinity"));if(x.eq(cr))return new S(0);if(t==null?(Ot=!1,f=j):f=t,x.eq(10))return t==null&&(Ot=!0),Yv(S,f);if(f+=v,S.precision=f,n=ia(w),r=n.charAt(0),o=Qt(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=ia(x.d),r=n.charAt(0),g++;o=Qt(x),r>1?(x=new S("0."+n),o++):x=new S(r+"."+n.slice(1))}else return d=Yv(S,f+2,j).times(o+""),x=ru(new S(r+"."+n.slice(1)),f-v).plus(d),S.precision=j,t==null?(Ot=!0,gt(x,j)):x;for(u=l=x=Ia(x.minus(cr),x.plus(cr),f),p=gt(x.times(x),f),i=3;;){if(l=gt(l.times(p),f),d=u.plus(Ia(l,new S(i),f)),ia(d.d).slice(0,f)===ia(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Yv(S,f+2,j).times(o+""))),u=Ia(u,new S(g),f),S.precision=j,t==null?(Ot=!0,gt(u,j)):u;u=d,i+=2}}function k2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xl(n/wt),e.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wt;r<i;)e.d.push(+t.slice(r,r+=wt));t=t.slice(r),r=wt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ot&&(e.e>ah||e.e<-ah))throw Error(Xb+n)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,n){var r,i,o,l,u,d,f,p,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=wt,i=t,f=g[p=0];else{if(p=Math.ceil((r+1)/wt),o=g.length,p>=o)return e;for(f=o=g[p],l=1;o>=10;o/=10)l++;r%=wt,i=r-wt+l}if(n!==void 0&&(o=hs(10,l-i-1),u=f/o%10|0,d=t<0||g[p+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/hs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(o=Qt(e),g.length=1,t=t-o-1,g[0]=hs(10,(wt-t%wt)%wt),e.e=xl(-t/wt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,o=1,p--):(g.length=p+1,o=hs(10,wt-r),g[p]=i>0?(f/hs(10,l-i)%hs(10,i)|0)*o:0),d)for(;;)if(p==0){(g[0]+=o)==dn&&(g[0]=1,++e.e);break}else{if(g[p]+=o,g[p]!=dn)break;g[p--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(Ot&&(e.e>ah||e.e<-ah))throw Error(Xb+Qt(e));return e}function tP(e,t){var n,r,i,o,l,u,d,f,p,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Ot?gt(t,x):t;if(d=e.d,g=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=f,u=d.length),i=Math.max(Math.ceil(x/wt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(o=i;o&&d[--o]===0;)d[o]=dn-1;--d[o],d[i]+=dn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,Ot?gt(t,x):t):new v(0)}function Ms(e,t,n){var r,i=Qt(e),o=ia(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Oi(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Oi(-i-1)+o,n&&(r=n-l)>0&&(o+=Oi(r))):i>=l?(o+=Oi(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Oi(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Oi(r))),e.s<0?"-"+o:o}function P2(e,t){if(e.length>t)return e.length=t,!0}function nP(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Cs+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return k2(l,o.toString())}else if(typeof o!="string")throw Error(Cs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,bK.test(o))k2(l,o);else throw Error(Cs+o)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nP,i.config=i.set=xK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function xK(e){if(!e||typeof e!="object")throw Error(Pr+"Object expected");var t,n,r,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Cs+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cs+n+": "+r);return this}var Qb=nP(yK);cr=new Qb(1);const ot=Qb;var _K=e=>e,rP={},aP=e=>e===rP,M2=e=>function t(){return arguments.length===0||arguments.length===1&&aP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},iP=(e,t)=>e===1?t:M2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==rP).length;return o>=e?t(...r):iP(e-o,M2(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(p=>aP(p)?u.shift():p);return t(...f,...u)}))}),Fh=e=>iP(e.length,e),h0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},wK=Fh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),SK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return _K;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),o(...arguments))}},m0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),sP=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function oP(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function lP(e,t,n){for(var r=new ot(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}Fh((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Fh((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Fh((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var cP=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},uP=(e,t,n)=>{if(e.lte(0))return new ot(0);var r=oP(e.toNumber()),i=new ot(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new ot(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new ot(d.toNumber()):new ot(Math.ceil(d.toNumber()))},jK=(e,t,n)=>{var r=new ot(1),i=new ot(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ot(10).pow(oP(e)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ot(Math.floor(e)))}else e===0?i=new ot(Math.floor((t-1)/2)):n||(i=new ot(Math.floor(e)));var l=Math.floor((t-1)/2),u=SK(wK(d=>i.add(new ot(d-l).mul(r)).toNumber()),h0);return u(0,t)},dP=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var l=uP(new ot(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new ot(0):(u=new ot(t).add(n).div(2),u=u.sub(new ot(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new ot(n).sub(u).div(l).toNumber()),p=d+f+1;return p>r?dP(t,n,r,i,o+1):(p<r&&(f=n>0?f+(r-p):f,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new ot(d).mul(l)),tickMax:u.add(new ot(f).mul(l))})};function OK(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,u]=cP([t,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...h0(0,r-1).map(()=>1/0)]:[...h0(0,r-1).map(()=>-1/0),u];return t>n?m0(d):d}if(l===u)return jK(l,r,i);var{step:f,tickMin:p,tickMax:g}=dP(l,u,o,i,0),v=lP(p,g.add(new ot(.1).mul(f)),f);return t>n?m0(v):v}function EK(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=cP([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var u=Math.max(t,2),d=uP(new ot(l).sub(o).div(u-1),i,0),f=[...lP(new ot(o),new ot(l),d),l];return i===!1&&(f=f.map(p=>Math.round(p))),n>r?m0(f):f}var NK=sP(OK),AK=sP(EK),fP=e=>e.rootProps.maxBarSize,CK=e=>e.rootProps.barGap,hP=e=>e.rootProps.barCategoryGap,TK=e=>e.rootProps.barSize,_u=e=>e.rootProps.stackOffset,Jb=e=>e.options.chartName,Zb=e=>e.rootProps.syncId,mP=e=>e.rootProps.syncMethod,ex=e=>e.options.eventEmitter,Ta={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},lr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ta.angleAxisId,includeHidden:!1,name:void 0,reversed:Ta.reversed,scale:Ta.scale,tick:Ta.tick,tickCount:void 0,ticks:void 0,type:Ta.type,unit:void 0},PK={allowDataOverflow:lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lr.scale,tick:lr.tick,tickCount:lr.tickCount,ticks:void 0,type:lr.type,unit:void 0},MK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ta.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ta.scale,tick:Ta.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},RK={allowDataOverflow:lr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lr.scale,tick:lr.tick,tickCount:lr.tickCount,ticks:void 0,type:"category",unit:void 0},tx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MK:kK,nx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?RK:PK,Gh=e=>e.polarOptions,rx=X([Fa,Ka,rn],XT),pP=X([Gh,rx],(e,t)=>{if(e!=null)return An(e.innerRadius,t,0)}),gP=X([Gh,rx],(e,t)=>{if(e!=null)return An(e.outerRadius,t,t*.8)}),DK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},vP=X([Gh],DK);X([tx,vP],Kh);var yP=X([rx,pP,gP],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});X([nx,yP],Kh);var bP=X([et,Gh,pP,gP,Fa,Ka],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:An(l,i,i/2),cy:An(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Nt=(e,t)=>t,wu=(e,t,n)=>n;function ax(e){return e==null?void 0:e.id}var sn=e=>{var t=et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_l=e=>e.tooltip.settings.axisId,pn=e=>{var t=sn(e),n=_l(e);return Su(e,t,n)},xP=X([pn],e=>e==null?void 0:e.dataKey);function _P(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var p=ax(u);f.forEach((g,v)=>{var x=o==null||i?v:String(Mt(g,o,null)),w=Mt(g,u.dataKey,0),S;l.has(x)?S=l.get(x):S={},Object.assign(S,{[p]:w}),l.set(x,S)})}}),Array.from(l.values())}function Yh(e){return e.stackId!=null&&e.dataKey!=null}function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){IK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IK(e,t,n){return(t=LK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0=[0,"auto"],sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wP=(e,t)=>e.cartesianAxis.xAxis[t],Ya=(e,t)=>{var n=wP(e,t);return n??sr},or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:p0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gu},SP=(e,t)=>e.cartesianAxis.yAxis[t],Va=(e,t)=>{var n=SP(e,t);return n??or},$K={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ix=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??$K},qt=(e,t,n)=>{switch(t){case"xAxis":return Ya(e,n);case"yAxis":return Va(e,n);case"zAxis":return ix(e,n);case"angleAxis":return tx(e,n);case"radiusAxis":return nx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},UK=(e,t,n)=>{switch(t){case"xAxis":return Ya(e,n);case"yAxis":return Va(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Su=(e,t,n)=>{switch(t){case"xAxis":return Ya(e,n);case"yAxis":return Va(e,n);case"angleAxis":return tx(e,n);case"radiusAxis":return nx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ox=e=>e.graphicalItems.cartesianItems,qK=X([Nt,wu],sx),lx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),ju=X([ox,qt,qK],lx),OP=X([ju],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Yh)),EP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NP=X([ju],EP),cx=e=>e.map(t=>t.data).filter(Boolean).flat(1),BK=X([ju],cx),ux=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},dx=X([BK,Wb],ux),fx=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Mt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Mt(i,r)}))):e.map(r=>({value:r})),Vh=X([dx,qt,ju],fx);function AP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bs(e){return e.filter(t=>oa(t)||t instanceof Date).map(Number).filter(t=>dr(t)===!1)}function HK(e,t,n){return!n||typeof t!="number"||dr(t)?[]:n.length?Bs(n.flatMap(r=>{var i=Mt(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!hr(o)||!hr(l)))return[t-o,t+l]})):[]}var FK=X([OP,Wb,pn],_P),CP=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=u.map(ax);return[l,{stackedData:VB(e,d,n),graphicalItems:u}]}))},g0=X([FK,OP,_u],CP),TP=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=ZB(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},KK=X([g0,Ui,Nt],TP),kP=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(g=>AP(i,g)),p=Mt(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:p,errorDomain:HK(o,p,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:Mt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),Wh=e=>e.errorBars,PP=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>AP(n,r));X([NP,Wh,Nt],PP);var GK=X([dx,qt,NP,Wh,Nt],kP);function YK(e){var{value:t}=e;if(oa(t)||t instanceof Date)return t}var D2=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Bs(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},VK=(e,t,n)=>{var r=e.map(YK).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&KC(r))?vk(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},hx=e=>{var t;if(e==null||!("domain"in e))return p0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Bs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:p0},sh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},MP=e=>e.referenceElements.dots,wl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),WK=X([MP,Nt,wu],wl),RP=e=>e.referenceElements.areas,XK=X([RP,Nt,wu],wl),DP=e=>e.referenceElements.lines,QK=X([DP,Nt,wu],wl),IP=(e,t)=>{var n=Bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},JK=X(WK,Nt,IP),LP=(e,t)=>{var n=Bs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ZK=X([XK,Nt],LP),zP=(e,t)=>{var n=Bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eG=X(QK,Nt,zP),tG=X(JK,eG,ZK,(e,t,n)=>sh(e,n,t)),$P=X([qt],hx),mx=(e,t,n,r,i,o,l)=>{var u=gK(t,e.allowDataOverflow);if(u!=null)return u;var d=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=d?sh(n,i,D2(r)):sh(i,D2(r));return vK(t,f,e.allowDataOverflow)},nG=X([qt,$P,KK,GK,tG,et,Nt],mx),rG=[0,1],px=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=zs(t,o);return f&&u==null?vk(0,n.length):d==="category"?VK(r,e,f):i==="expand"?rG:l}},gx=X([qt,et,dx,Vh,_u,Nt,nG],px),UP=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(fu(o));return u in Rc?u:"point"}}},Sl=X([qt,et,jP,Jb,Nt],UP);function aG(e){if(e!=null){if(e in Rc)return Rc[e]();var t="scale".concat(fu(e));if(t in Rc)return Rc[t]()}}function vx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=aG(t);if(i!=null){var o=i.domain(n).range(r);return HB(o),o}}}var yx=(e,t,n)=>{var r=hx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&cl(e))return NK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cl(e))return AK(e,t.tickCount,t.allowDecimals)}},bx=X([gx,Su,Sl],yx),xx=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},iG=X([qt,gx,bx,Nt],xx),sG=X(Vh,qt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Bs(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),qP=X(sG,et,hP,rn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!hr(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=An(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),oG=(e,t)=>{var n=Ya(e,t);return n==null||typeof n.padding!="string"?0:qP(e,"xAxis",t,n.padding)},lG=(e,t)=>{var n=Va(e,t);return n==null||typeof n.padding!="string"?0:qP(e,"yAxis",t,n.padding)},cG=X(Ya,oG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),uG=X(Va,lG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),dG=X([rn,cG,Dh,Rh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),fG=X([rn,et,uG,Dh,Rh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ou=(e,t,n,r)=>{var i;switch(t){case"xAxis":return dG(e,n,r);case"yAxis":return fG(e,n,r);case"zAxis":return(i=ix(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return vP(e);case"radiusAxis":return yP(e,n);default:return}},BP=X([qt,Ou],Kh),jl=X([qt,Sl,iG,BP],vx);X([ju,Wh,Nt],PP);function HP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Xh=(e,t)=>t,Qh=(e,t,n)=>n,hG=X(Ph,Xh,Qh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(HP)),mG=X(Mh,Xh,Qh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(HP)),FP=(e,t)=>({width:e.width,height:t.height}),pG=(e,t)=>{var n=typeof t.width=="number"?t.width:gu;return{width:n,height:e.height}},KP=X(rn,Ya,FP),gG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},vG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},yG=X(Ka,rn,hG,Xh,Qh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=FP(t,u);l==null&&(l=gG(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),bG=X(Fa,rn,mG,Xh,Qh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=pG(t,u);l==null&&(l=vG(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),xG=(e,t)=>{var n=Ya(e,t);if(n!=null)return yG(e,n.orientation,n.mirror)},_G=X([rn,Ya,xG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),wG=(e,t)=>{var n=Va(e,t);if(n!=null)return bG(e,n.orientation,n.mirror)},SG=X([rn,Va,wG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),GP=X(rn,Va,(e,t)=>{var n=typeof t.width=="number"?t.width:gu;return{width:n,height:e.height}}),I2=(e,t,n)=>{switch(t){case"xAxis":return KP(e,n).width;case"yAxis":return GP(e,n).height;default:return}},YP=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=zs(e,r),d=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&KC(d))return d}},_x=X([et,Vh,qt,Nt],YP),VP=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=zs(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},wx=X([et,Vh,Su,Nt],VP),L2=X([et,UK,Sl,jl,_x,wx,Ou,bx,Nt],(e,t,n,r,i,o,l,u,d)=>{if(t==null)return null;var f=zs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}),jG=(e,t,n,r,i,o,l,u,d)=>{if(!(t==null||r==null)){var f=zs(e,d),{type:p,ticks:g,tickCount:v}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&o!=null&&o.length>=2?fn(o[0]-o[1])*2*w:w;var S=g||i;if(S){var j=S.map((E,A)=>{var N=l?l.indexOf(E):E;return{index:A,coordinate:r(N)+w,value:E,offset:w}});return j.filter(E=>!dr(E.coordinate))}return f&&u?u.map((E,A)=>({coordinate:r(E)+w,value:E,index:A,offset:w})):r.ticks?r.ticks(v).map(E=>({coordinate:r(E)+w,value:E,offset:w})):r.domain().map((E,A)=>({coordinate:r(E)+w,value:l?l[E]:E,index:A,offset:w}))}},WP=X([et,Su,Sl,jl,bx,Ou,_x,wx,Nt],jG),OG=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=zs(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?fn(r[0]-r[1])*2*f:f,u&&o?o.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:i?i[p]:p,index:g,offset:f}))}},ul=X([et,Su,jl,Ou,_x,wx,Nt],OG),dl=X(qt,jl,(e,t)=>{if(!(e==null||t==null))return ih(ih({},e),{},{scale:t})}),EG=X([qt,Sl,gx,BP],vx);X((e,t,n)=>ix(e,n),EG,(e,t)=>{if(!(e==null||t==null))return ih(ih({},e),{},{scale:t})});var NG=X([et,Ph,Mh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),XP=e=>e.options.defaultTooltipEventType,QP=e=>e.options.validateTooltipEventTypes;function JP(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Sx(e,t){var n=XP(e),r=QP(e);return JP(t,n,r)}function AG(e){return we(t=>Sx(t,e))}var ZP=(e,t)=>{var n,r=Number(t);if(!(dr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},CG=e=>e.tooltip.settings,Ai={active:!1,index:null,dataKey:void 0,coordinate:void 0},TG={itemInteraction:{click:Ai,hover:Ai},axisInteraction:{click:Ai,hover:Ai},keyboardInteraction:Ai,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},eM=mr({name:"tooltip",initialState:TG,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Da(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kG,removeTooltipEntrySettings:PG,setTooltipSettingsState:MG,setActiveMouseOverItemIndex:tM,mouseLeaveItem:RG,mouseLeaveChart:nM,setActiveClickItemIndex:DG,setMouseOverAxisIndex:rM,setMouseClickAxisIndex:IG,setSyncInteraction:v0,setKeyboardInteraction:y0}=eM.actions,LG=eM.reducer;function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){zG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zG(e,t,n){return(t=$G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $G(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function BG(e){return e.index!=null}var aM=(e,t,n,r)=>{if(t==null)return Ai;var i=qG(e,t,n);if(i==null)return Ai;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(BG(i)){if(o)return cf(cf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return cf(cf({},Ai),{},{coordinate:i.coordinate})},jx=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!hr(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},iM=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,o);if(f!=null)return f;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},sM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Eu=e=>e.options.tooltipPayloadSearcher,Ol=e=>e.tooltip;function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(r){HG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HG(e,t,n){return(t=FG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e,t){return e??t}var oM=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,g=[];return e.reduce((v,x)=>{var w,{dataDefinedOnItem:S,settings:j}=x,E=GG(S,u),A=Array.isArray(E)?QT(E,f,p):E,N=(w=j==null?void 0:j.dataKey)!==null&&w!==void 0?w:r,T=j==null?void 0:j.nameKey,k;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?k=PU(A,r,i):k=o(A,t,d,T),Array.isArray(k))k.forEach(R=>{var z=U2(U2({},j),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});v.push(wE({tooltipEntrySettings:z,dataKey:R.dataKey,payload:R.payload,value:Mt(R.payload,R.dataKey),name:R.name}))});else{var M;v.push(wE({tooltipEntrySettings:j,dataKey:N,payload:k,value:Mt(k,N),name:(M=Mt(k,T))!==null&&M!==void 0?M:j==null?void 0:j.name}))}return v},g)}},Ox=X([pn,et,jP,Jb,sn],UP),YG=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VG=X([sn,_l],sx),Nu=X([YG,pn,VG],lx),WG=X([Nu],e=>e.filter(Yh)),XG=X([Nu],cx),El=X([XG,Ui],ux),QG=X([WG,Ui,pn],_P),Ex=X([El,pn,Nu],fx),JG=X([pn],hx),ZG=X([Nu],e=>e.filter(Yh)),eY=X([QG,ZG,_u],CP),tY=X([eY,Ui,sn],TP),nY=X([Nu],EP),rY=X([El,pn,nY,Wh,sn],kP),aY=X([MP,sn,_l],wl),iY=X([aY,sn],IP),sY=X([RP,sn,_l],wl),oY=X([sY,sn],LP),lY=X([DP,sn,_l],wl),cY=X([lY,sn],zP),uY=X([iY,cY,oY],sh),dY=X([pn,JG,tY,rY,uY,et,sn],mx),lM=X([pn,et,El,Ex,_u,sn,dY],px),fY=X([lM,pn,Ox],yx),hY=X([pn,lM,fY,sn],xx),cM=e=>{var t=sn(e),n=_l(e),r=!1;return Ou(e,t,n,r)},uM=X([pn,cM],Kh),dM=X([pn,Ox,hY,uM],vx),mY=X([et,Ex,pn,sn],YP),pY=X([et,Ex,pn,sn],VP),gY=(e,t,n,r,i,o,l,u)=>{if(t){var{type:d}=t,f=zs(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fn(i[0]-i[1])*2*g:g,f&&l?l.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:o?o[v]:v,index:x,offset:g}))}}},Wa=X([et,pn,Ox,dM,cM,mY,pY,sn],gY),Nx=X([XP,QP,CG],(e,t,n)=>JP(n.shared,e,t)),fM=e=>e.tooltip.settings.trigger,Ax=e=>e.tooltip.settings.defaultIndex,Jh=X([Ol,Nx,fM,Ax],aM),Rs=X([Jh,El],jx),hM=X([Wa,Rs],ZP),mM=X([Jh],e=>{if(e)return e.dataKey}),pM=X([Ol,Nx,fM,Ax],sM),vY=X([Fa,Ka,et,rn,Wa,Ax,pM,Eu],iM),yY=X([Jh,vY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bY=X([Jh],e=>e.active),xY=X([pM,Rs,Ui,xP,hM,Eu,Nx],oM);X([xY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(r){_Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Y(e,t,n){return(t=wY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jY=()=>we(pn),OY=()=>{var e=jY(),t=we(Wa),n=we(dM);return yb(B2(B2({},e),{},{scale:n}),t)},EY=()=>we(Jb),Cx=(e,t)=>t,gM=(e,t,n)=>n,Tx=(e,t,n,r)=>r,NY=X(Wa,e=>Oh(e,t=>t.coordinate)),kx=X([Ol,Cx,gM,Tx],aM),vM=X([kx,El],jx),AY=(e,t,n)=>{if(t!=null){var r=Ol(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},yM=X([Ol,Cx,gM,Tx],sM),oh=X([Fa,Ka,et,rn,Wa,Tx,yM,Eu],iM),CY=X([kx,oh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),bM=X(Wa,vM,ZP),TY=X([yM,vM,Ui,xP,bM,Eu,Cx],oM),kY=X([kx],e=>({isActive:e.active,activeIndex:e.index})),PY=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o)){var d=e7(e.chartX,e.chartY,t,n,u);if(d){var f=n7(d,t),p=qB(f,l,o,r,i),g=t7(t,o,p,d);return{activeIndex:String(p),activeCoordinate:g}}}};function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(null,arguments)}function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(r){MY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MY(e,t,n){return(t=RY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IY(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,p=t,g=n,v=r;if(!u||!p||f!=="ScatterChart"&&d!=="axis")return null;var x,w;if(f==="ScatterChart")x=p,w=n9;else if(f==="BarChart")x=r9(l,p,i,o),w=hk;else if(l==="radial"){var{cx:S,cy:j,radius:E,startAngle:A,endAngle:N}=mk(p);x={cx:S,cy:j,startAngle:A,endAngle:N,innerRadius:E,outerRadius:E},w=gk}else x={points:I9(l,p,i)},w=lk;var T=typeof u=="object"&&"className"in u?u.className:void 0,k=uf(uf(uf(uf({stroke:"#ccc",pointerEvents:"none"},i),x),nn(u,!1)),{},{payload:g,payloadIndex:v,className:lt("recharts-tooltip-cursor",T)});return _.isValidElement(u)?_.cloneElement(u,k):_.createElement(w,k)}function LY(e){var t=OY(),n=rk(),r=Sb(),i=EY();return _.createElement(IY,b0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var xM=_.createContext(null),zY=()=>_.useContext(xM),Vv={exports:{}},F2;function $Y(){return F2||(F2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function o(d,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,v),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)t.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,w=new Array(x);v<x;v++)w[v]=g[v].fn;return w},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,v,x,w){var S=n?n+f:f;if(!this._events[S])return!1;var j=this._events[S],E=arguments.length,A,N;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),E){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,v),!0;case 5:return j.fn.call(j.context,p,g,v,x),!0;case 6:return j.fn.call(j.context,p,g,v,x,w),!0}for(N=1,A=new Array(E-1);N<E;N++)A[N-1]=arguments[N];j.fn.apply(j.context,A)}else{var T=j.length,k;for(N=0;N<T;N++)switch(j[N].once&&this.removeListener(f,j[N].fn,void 0,!0),E){case 1:j[N].fn.call(j[N].context);break;case 2:j[N].fn.call(j[N].context,p);break;case 3:j[N].fn.call(j[N].context,p,g);break;case 4:j[N].fn.call(j[N].context,p,g,v);break;default:if(!A)for(k=1,A=new Array(E-1);k<E;k++)A[k-1]=arguments[k];j[N].fn.apply(j[N].context,A)}}return!0},u.prototype.on=function(f,p,g){return o(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return o(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,v){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&l(this,x);else{for(var S=0,j=[],E=w.length;S<E;S++)(w[S].fn!==p||v&&!w[S].once||g&&w[S].context!==g)&&j.push(w[S]);j.length?this._events[x]=j.length===1?j[0]:j:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Vv)),Vv.exports}var UY=$Y();const qY=Vr(UY);var au=new qY,x0="recharts.syncEvent.tooltip",K2="recharts.syncEvent.brush";function _M(e,t){if(t){var n=Number.parseInt(t,10);if(!dr(n))return e==null?void 0:e[n]}}var BY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wM=mr({name:"options",initialState:BY,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HY=wM.reducer,{createEventEmitter:FY}=wM.actions;function KY(e){return e.tooltip.syncInteraction}var GY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},SM=mr({name:"chartData",initialState:GY,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:G2,setDataStartEndIndexes:YY,setComputedData:ine}=SM.actions,VY=SM.reducer,WY=["x","y"];function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){XY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XY(e,t,n){return(t=QY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZY(e,t){if(e==null)return{};var n,r,i=eV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jM=()=>{};function tV(){var e=we(Zb),t=we(ex),n=Rt(),r=we(mP),i=we(Wa),o=Sb(),l=xb(),u=we(d=>d.rootProps.className);_.useEffect(()=>{if(e==null)return jM;var d=(f,p,g)=>{if(t!==g&&e===f){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var x=p.payload.coordinate,{x:w,y:S}=x,j=ZY(x,WY),E=ls(ls(ls({},j),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof S=="number"&&{y:Math.max(l.y,Math.min(S,l.y+l.height))}),A=ls(ls({},p),{},{payload:ls(ls({},p.payload),{},{coordinate:E})});n(A)}else n(p);return}if(i!=null){var N;if(typeof r=="function"){var T={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},k=r(i,T);N=i[k]}else r==="value"&&(N=i.find(ie=>String(ie.value)===p.payload.label));var{coordinate:M}=p.payload;if(N==null||p.payload.active===!1||M==null||l==null){n(v0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:R,y:z}=M,H=Math.min(R,l.x+l.width),q=Math.min(z,l.y+l.height),F={x:o==="horizontal"?N.coordinate:H,y:o==="horizontal"?q:N.coordinate},K=v0({active:p.payload.active,coordinate:F,dataKey:p.payload.dataKey,index:String(N.index),label:p.payload.label});n(K)}}};return au.on(x0,d),()=>{au.off(x0,d)}},[u,n,t,e,r,i,o,l])}function nV(){var e=we(Zb),t=we(ex),n=Rt();_.useEffect(()=>{if(e==null)return jM;var r=(i,o,l)=>{t!==l&&e===i&&n(YY(o))};return au.on(K2,r),()=>{au.off(K2,r)}},[n,t,e])}function rV(){var e=Rt();_.useEffect(()=>{e(FY())},[e]),tV(),nV()}function aV(e,t,n,r,i,o){var l=we(v=>AY(v,e,t)),u=we(ex),d=we(Zb),f=we(mP),p=we(KY),g=p==null?void 0:p.active;_.useEffect(()=>{if(!g&&d!=null&&u!=null){var v=v0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});au.emit(x0,d,v,u)}},[g,n,l,i,r,u,d,f,o])}function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lV(e){return e.dataKey}function cV(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(R7,t)}var X2=[],uV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$s.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Q2(e){var t=In(e,uV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:x,wrapperStyle:w,cursor:S,shared:j,trigger:E,defaultIndex:A,portal:N,axisId:T}=t,k=Rt(),M=typeof A=="number"?String(A):A;_.useEffect(()=>{k(MG({shared:j,trigger:E,axisId:T,active:n,defaultIndex:M}))},[k,j,E,T,n,M]);var R=xb(),z=ok(),H=AG(j),{activeIndex:q,isActive:F}=we(ee=>kY(ee,H,E,M)),K=we(ee=>TY(ee,H,E,M)),ie=we(ee=>bM(ee,H,E,M)),U=we(ee=>CY(ee,H,E,M)),Z=K,L=zY(),V=n??F,[oe,fe]=OT([Z,V]),ae=H==="axis"?ie:void 0;aV(H,E,U,ae,q,V);var P=N??L;if(P==null)return null;var D=Z??X2;V||(D=X2),u&&D.length&&(D=xT(Z.filter(ee=>ee.value!=null&&(ee.hide!==!0||t.includeHidden)),p,lV));var te=D.length>0,Q=_.createElement(q7,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:d,active:V,coordinate:U,hasPayload:te,offset:f,position:g,reverseDirection:v,useTranslate3d:x,viewBox:R,wrapperStyle:w,lastBoundingBox:oe,innerRef:fe,hasPortalFromProps:!!N},cV(l,W2(W2({},t),{},{payload:D,label:ae,active:V,coordinate:U,accessibilityLayer:z})));return _.createElement(_.Fragment,null,xA.createPortal(Q,P),V&&_.createElement(LY,{cursor:S,tooltipEventType:H,coordinate:U,payload:Z,index:q}))}var Wv={},Xv={},Qv={},J2;function dV(){return J2||(J2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{f&&p(),S()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{w(),l=void 0,u=null},j=()=>{p()},E=function(...A){if(i!=null&&i.aborted)return;l=this,u=A;const N=v==null;x(),d&&N&&p()};return E.schedule=x,E.cancel=S,E.flush=j,i==null||i.addEventListener("abort",S,{once:!0}),E}e.debounce=t})(Qv)),Qv}var Z2;function fV(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dV();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,g=null;const v=t.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:f}),x=function(...S){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,S),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,S),p)},w=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=w,x}e.debounce=n})(Xv)),Xv}var eN;function hV(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fV();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Wv)),Wv}var Jv,tN;function mV(){return tN||(tN=1,Jv=hV().throttle),Jv}var pV=mV();const gV=Vr(pV);var qc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){vV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vV(e,t,n){return(t=yV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rN=_.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:p=0,id:g,className:v,onResize:x,style:w={}}=e,S=_.useRef(null),j=_.useRef();j.current=x,_.useImperativeHandle(t,()=>S.current);var[E,A]=_.useState({containerWidth:r.width,containerHeight:r.height}),N=_.useCallback((k,M)=>{A(R=>{var z=Math.round(k),H=Math.round(M);return R.containerWidth===z&&R.containerHeight===H?R:{containerWidth:z,containerHeight:H}})},[]);_.useEffect(()=>{var k=H=>{var q,{width:F,height:K}=H[0].contentRect;N(F,K),(q=j.current)===null||q===void 0||q.call(j,F,K)};p>0&&(k=gV(k,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),{width:R,height:z}=S.current.getBoundingClientRect();return N(R,z),M.observe(S.current),()=>{M.disconnect()}},[N,p]);var T=_.useMemo(()=>{var{containerWidth:k,containerHeight:M}=E;if(k<0||M<0)return null;qc(_s(i)||_s(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),qc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var R=_s(i)?k:i,z=_s(o)?M:o;return n&&n>0&&(R?z=R/n:z&&(R=z*n),d&&z>d&&(z=d)),qc(R>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,z,i,o,l,u,n),_.Children.map(f,H=>_.cloneElement(H,{width:R,height:z,style:Zv({width:R,height:z},H.props.style)}))},[n,f,o,d,u,l,E,i]);return _.createElement("div",{id:g?"".concat(g):void 0,className:lt("recharts-responsive-container",v),style:Zv(Zv({},w),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:S},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),Au=e=>null;Au.displayName="Cell";function xV(e,t,n){return(t=_V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _V(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SV{constructor(t){xV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){OV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OV(e,t,n){return(t=EV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AV={cacheSize:2e3,enableCache:!0},OM=jV({},AV),iN=new SV(OM.cacheSize),CV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sN="recharts_measurement_span";function TV(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var oN=(e,t)=>{try{var n=document.getElementById(sN);n||(n=document.createElement("span"),n.setAttribute("id",sN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,CV,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Bc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$s.isSsr)return{width:0,height:0};if(!OM.enableCache)return oN(t,n);var r=TV(t,n),i=iN.get(r);if(i)return i;var o=oN(t,n);return iN.set(r,o),o},lN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MV=Object.keys(EM),Xo="NaN";function RV(e,t){return e*EM[t]}class Yn{static parse(t){var n,[,r,i]=(n=PV.exec(t))!==null&&n!==void 0?n:[];return new Yn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,dr(t)&&(this.unit=""),n!==""&&!kV.test(n)&&(this.num=NaN,this.unit=""),MV.includes(n)&&(this.num=RV(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dr(this.num)}}function NM(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=lN.exec(t))!==null&&n!==void 0?n:[],l=Yn.parse(r??""),u=Yn.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Xo;t=t.replace(lN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,g,v]=(f=cN.exec(t))!==null&&f!==void 0?f:[],x=Yn.parse(p??""),w=Yn.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return Xo;t=t.replace(cN,S.toString())}return t}var uN=/\(([^()]*)\)/;function DV(e){for(var t=e,n;(n=uN.exec(t))!=null;){var[,r]=n;t=t.replace(uN,NM(r))}return t}function IV(e){var t=e.replace(/\s+/g,"");return t=DV(t),t=NM(t),t}function LV(e){try{return IV(e)}catch{return Xo}}function ey(e){var t=LV(e.slice(5,-1));return t===Xo?"":t}var zV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$V=["dx","dy","angle","className","breakAll"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(null,arguments)}function dN(e,t){if(e==null)return{};var n,r,i=UV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AM=/[ \f\n\r\t\v\u2028\u2029]+/,CM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];hn(t)||(n?i=t.toString().split(""):i=t.toString().split(AM));var o=i.map(u=>({word:u,width:Bc(u,r).width})),l=n?0:Bc(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},qV=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=e,f=je(o),p=l,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((K,ie)=>{var{word:U,width:Z}=ie,L=K[K.length-1];if(L&&(r==null||i||L.width+Z+n<Number(r)))L.words.push(U),L.width+=Z+n;else{var V={words:[U],width:Z};K.push(V)}return K},[])},v=g(t),x=q=>q.reduce((F,K)=>F.width>K.width?F:K);if(!f||i)return v;var w=v.length>o||x(v).width>Number(r);if(!w)return v;for(var S="…",j=q=>{var F=p.slice(0,q),K=CM({breakAll:d,style:u,children:F+S}).wordsWithComputedWidth,ie=g(K),U=ie.length>o||x(ie).width>Number(r);return[U,ie]},E=0,A=p.length-1,N=0,T;E<=A&&N<=p.length-1;){var k=Math.floor((E+A)/2),M=k-1,[R,z]=j(M),[H]=j(k);if(!R&&!H&&(E=k+1),R&&H&&(A=k-1),!R&&H){T=z;break}N++}return T||v},fN=e=>{var t=hn(e)?[]:e.toString().split(AM);return[{words:t}]},BV=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!$s.isSsr){var u,d,f=CM({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;u=p,d=g}else return fN(r);return qV({breakAll:o,children:r,maxLines:l,style:i},u,d,t,n)}return fN(r)},hN="#808080",Zh=_.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:d="end",fill:f=hN}=e,p=dN(e,zV),g=_.useMemo(()=>BV({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:x,angle:w,className:S,breakAll:j}=p,E=dN(p,$V);if(!oa(n)||!oa(r)||g.length===0)return null;var A=n+(je(v)?v:0),N=r+(je(x)?x:0),T;switch(d){case"start":T=ey("calc(".concat(o,")"));break;case"middle":T=ey("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:T=ey("calc(".concat(g.length-1," * -").concat(i,")"));break}var k=[];if(l){var M=g[0].width,{width:R}=p;k.push("scale(".concat(je(R)?R/M:1,")"))}return w&&k.push("rotate(".concat(w,", ").concat(A,", ").concat(N,")")),k.length&&(E.transform=k.join(" ")),_.createElement("text",_0({},nn(E,!0),{ref:t,x:A,y:N,className:lt("recharts-text",S),textAnchor:u,fill:f.includes("url")?hN:f}),g.map((z,H)=>{var q=z.words.join(j?"":" ");return _.createElement("tspan",{x:A,dy:H===0?T:i,key:"".concat(q,"-").concat(H)},q)}))});Zh.displayName="Text";var HV=["labelRef"];function FV(e,t){if(e==null)return{};var n,r,i=KV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){GV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GV(e,t,n){return(t=YV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(null,arguments)}var TM=_.createContext(null),WV=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=_.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return _.createElement(TM.Provider,{value:l},o)},kM=()=>{var e=_.useContext(TM),t=xb();return e||t},XV=_.createContext(null),QV=()=>{var e=_.useContext(XV),t=we(bP);return e||t},JV=e=>{var{value:t,formatter:n}=e,r=hn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Px=e=>e!=null&&typeof e=="function",ZV=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},eW=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=i,w=(f+p)/2,S=ZV(g,v),j=S>=0?1:-1,E,A;switch(t){case"insideStart":E=g+j*o,A=x;break;case"insideEnd":E=v-j*o,A=!x;break;case"end":E=v+j*o,A=x;break;default:throw new Error("Unsupported position ".concat(t))}A=S<=0?A:!A;var N=Xt(u,d,w,E),T=Xt(u,d,w,E+(A?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),M=hn(e.id)?Vc("recharts-radial-line-"):e.id;return _.createElement("text",ka({},r,{dominantBaseline:"central",className:lt("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:M,d:k})),_.createElement("textPath",{xlinkHref:"#".concat(M)},n))},tW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:p,y:g}=Xt(r,i,l+t,f);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x,y:w}=Xt(r,i,v,f);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},PM=e=>"cx"in e&&je(e.cx),nW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!PM(n)&&(o=n);var{x:l,y:u,width:d,height:f}=t,p=f>=0?1:-1,g=p*r,v=p>0?"end":"start",x=p>0?"start":"end",w=d>=0?1:-1,S=w*r,j=w>0?"end":"start",E=w>0?"start":"end";if(i==="top"){var A={x:l+d/2,y:u-p*r,textAnchor:"middle",verticalAnchor:v};return Ut(Ut({},A),o?{height:Math.max(u-o.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:u+f+g,textAnchor:"middle",verticalAnchor:x};return Ut(Ut({},N),o?{height:Math.max(o.y+o.height-(u+f),0),width:d}:{})}if(i==="left"){var T={x:l-S,y:u+f/2,textAnchor:j,verticalAnchor:"middle"};return Ut(Ut({},T),o?{width:Math.max(T.x-o.x,0),height:f}:{})}if(i==="right"){var k={x:l+d+S,y:u+f/2,textAnchor:E,verticalAnchor:"middle"};return Ut(Ut({},k),o?{width:Math.max(o.x+o.width-k.x,0),height:f}:{})}var M=o?{width:d,height:f}:{};return i==="insideLeft"?Ut({x:l+S,y:u+f/2,textAnchor:E,verticalAnchor:"middle"},M):i==="insideRight"?Ut({x:l+d-S,y:u+f/2,textAnchor:j,verticalAnchor:"middle"},M):i==="insideTop"?Ut({x:l+d/2,y:u+g,textAnchor:"middle",verticalAnchor:x},M):i==="insideBottom"?Ut({x:l+d/2,y:u+f-g,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Ut({x:l+S,y:u+g,textAnchor:E,verticalAnchor:x},M):i==="insideTopRight"?Ut({x:l+d-S,y:u+g,textAnchor:j,verticalAnchor:x},M):i==="insideBottomLeft"?Ut({x:l+S,y:u+f-g,textAnchor:E,verticalAnchor:v},M):i==="insideBottomRight"?Ut({x:l+d-S,y:u+f-g,textAnchor:j,verticalAnchor:v},M):i&&typeof i=="object"&&(je(i.x)||_s(i.x))&&(je(i.y)||_s(i.y))?Ut({x:l+An(i.x,d),y:u+An(i.y,f),textAnchor:"end",verticalAnchor:"end"},M):Ut({x:l+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},rW={offset:5};function Ei(e){var t=In(e,rW),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=QV(),g=kM(),v=r==="center"?g:p??g,x=n||v;if(!x||hn(i)&&hn(o)&&!_.isValidElement(l)&&typeof l!="function")return null;var w=Ut(Ut({},t),{},{viewBox:x});if(_.isValidElement(l)){var{labelRef:S}=w,j=FV(w,HV);return _.cloneElement(l,j)}var E;if(typeof l=="function"){if(E=_.createElement(l,w),_.isValidElement(E))return E}else E=JV(t);var A=PM(x),N=nn(t,!0);if(A&&(r==="insideStart"||r==="insideEnd"||r==="end"))return eW(t,r,E,N,x);var T=A?tW(x,t.offset,t.position):nW(t,x);return _.createElement(Zh,ka({ref:f,className:lt("recharts-label",u)},N,T,{breakAll:d}),E)}Ei.displayName="Label";var aW=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?_.createElement(Ei,ka({key:"label-implicit"},r)):oa(e)?_.createElement(Ei,ka({key:"label-implicit",value:e},r)):_.isValidElement(e)?e.type===Ei?_.cloneElement(e,Ut({key:"label-implicit"},r)):_.createElement(Ei,ka({key:"label-implicit",content:e},r)):Px(e)?_.createElement(Ei,ka({key:"label-implicit",content:e},r)):e&&typeof e=="object"?_.createElement(Ei,ka({},e,{key:"label-implicit"},r)):null};function iW(e){var{label:t}=e,n=kM();return aW(t,n)||null}var ty={},ny={},pN;function sW(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ny)),ny}var ry={},gN;function oW(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(ry)),ry}var vN;function lW(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sW(),n=oW(),r=ub();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(ty)),ty}var ay,yN;function cW(){return yN||(yN=1,ay=lW().last),ay}var uW=cW();const dW=Vr(uW);var fW=["valueAccessor"],hW=["dataKey","clockWise","id","textBreakAll"];function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(null,arguments)}function bN(e,t){if(e==null)return{};var n,r,i=mW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pW=e=>Array.isArray(e.value)?dW(e.value):e.value,MM=_.createContext(void 0),gW=MM.Provider,RM=_.createContext(void 0),vW=RM.Provider;function yW(){return _.useContext(MM)}function bW(){return _.useContext(RM)}function xf(e){var{valueAccessor:t=pW}=e,n=bN(e,fW),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,u=bN(n,hW),d=yW(),f=bW(),p=d||f;return!p||!p.length?null:_.createElement(Xn,{className:"recharts-label-list"},p.map((g,v)=>{var x,w=hn(r)?t(g,v):Mt(g&&g.payload,r),S=hn(o)?{}:{id:"".concat(o,"-").concat(v)};return _.createElement(Ei,lh({},nn(g,!0),u,S,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}xf.displayName="LabelList";function DM(e){var{label:t}=e;return t?t===!0?_.createElement(xf,{key:"labelList-implicit"}):_.isValidElement(t)||Px(t)?_.createElement(xf,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(xf,lh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var IM=e=>e.graphicalItems.polarItems,xW=X([Nt,wu],sx),Mx=X([IM,qt,xW],lx),_W=X([Mx],cx),Rx=X([_W,Vb],ux),wW=X([Rx,qt,Mx],fx),SW=X([Rx,qt,Mx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=Mt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Mt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),xN=()=>{},jW=X([qt,$P,xN,SW,xN,et,Nt],mx),LM=X([qt,et,Rx,wW,_u,Nt,jW],px),OW=X([LM,qt,Sl],yx);X([qt,LM,OW,Nt],xx);var EW={radiusAxis:{},angleAxis:{}},zM=mr({name:"polarAxis",initialState:EW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:sne,removeRadiusAxis:one,addAngleAxis:lne,removeAngleAxis:cne}=zM.actions,NW=zM.reducer;function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(r){AW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AW(e,t,n){return(t=CW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kW=(e,t)=>t,Dx=X([IM,kW],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),PW=[],Ix=(e,t,n)=>(n==null?void 0:n.length)===0?PW:n,$M=X([Vb,Dx,Ix],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>wN(wN({},t.presentationProps),o.props))),i!=null)return i}}),MW=X([$M,Dx,Ix],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=Mt(r,t.nameKey,t.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:kh(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),RW=X([$M,Dx,Ix,rn],(e,t,n,r)=>{if(!(t==null||e==null))return MX({offset:r,pieSettings:t,displayedData:e,cells:n})}),iy={},SN;function DW(){return SN||(SN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(iy)),iy}var sy,jN;function IW(){return jN||(jN=1,sy=DW().isPlainObject),sy}var LW=IW();const zW=Vr(LW);function ON(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(n),!0).forEach(function(r){$W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $W(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(null,arguments)}var NN=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},BW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HW=e=>{var t=In(e,BW),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=t,v=_.useRef(),[x,w]=_.useState(-1),S=_.useRef(i),j=_.useRef(o),E=_.useRef(l),A=_.useRef(n),N=_.useRef(r),T=Lh(e,"trapezoid-");if(_.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var U=v.current.getTotalLength();U&&w(U)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var k=lt("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",ch({},nn(t,!0),{className:k,d:NN(n,r,i,o,l)})));var M=S.current,R=j.current,z=E.current,H=A.current,q=N.current,F="0px ".concat(x===-1?1:x,"px"),K="".concat(x,"px 0px"),ie=ck(["strokeDasharray"],f,d);return _.createElement(Ih,{animationId:T,key:T,canBegin:x>0,duration:f,easing:d,isActive:g,begin:p},U=>{var Z=Sn(M,i,U),L=Sn(R,o,U),V=Sn(z,l,U),oe=Sn(H,n,U),fe=Sn(q,r,U);v.current&&(S.current=Z,j.current=L,E.current=V,A.current=oe,N.current=fe);var ae=U>0?{transition:ie,strokeDasharray:K}:{strokeDasharray:F};return _.createElement("path",ch({},nn(t,!0),{className:k,d:NN(oe,fe,Z,L,V),ref:v,style:EN(EN({},ae),t.style)}))})},FW=["option","shapeType","propTransformer","activeClassName","isActive"];function KW(e,t){if(e==null)return{};var n,r,i=GW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){YW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YW(e,t,n){return(t=VW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XW(e,t){return uh(uh({},t),e)}function QW(e,t){return e==="symbols"}function CN(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return _.createElement(hk,n);case"trapezoid":return _.createElement(HW,n);case"sector":return _.createElement(gk,n);case"symbols":if(QW(t))return _.createElement(ob,n);break;default:return null}}function JW(e){return _.isValidElement(e)?e.props:e}function UM(e){var{option:t,shapeType:n,propTransformer:r=XW,activeClassName:i="recharts-active-shape",isActive:o}=e,l=KW(e,FW),u;if(_.isValidElement(t))u=_.cloneElement(t,uh(uh({},l),JW(t)));else if(typeof t=="function")u=t(l);else if(zW(t)&&typeof t!="boolean"){var d=r(t,l);u=_.createElement(CN,{shapeType:n,elementProps:d})}else{var f=l;u=_.createElement(CN,{shapeType:n,elementProps:f})}return o?_.createElement(Xn,{className:i},u):u}var Lx=(e,t)=>{var n=Rt();return(r,i)=>o=>{e==null||e(r,i,o),n(tM({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},zx=e=>{var t=Rt();return(n,r)=>i=>{e==null||e(n,r,i),t(RG())}},$x=(e,t)=>{var n=Rt();return(r,i)=>o=>{e==null||e(r,i,o),n(DG({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function qM(e){var{fn:t,args:n}=e,r=Rt(),i=Rr();return _.useEffect(()=>{if(!i){var o=t(n);return r(kG(o)),()=>{r(PG(o))}}},[t,n,r,i]),null}var BM=()=>{};function ZW(e){var{legendPayload:t}=e,n=Rt(),r=Rr();return _.useEffect(()=>r?BM:(n(ik(t)),()=>{n(sk(t))}),[n,r,t]),null}function eX(e){var{legendPayload:t}=e,n=Rt(),r=we(et);return _.useEffect(()=>r!=="centric"&&r!=="radial"?BM:(n(ik(t)),()=>{n(sk(t))}),[n,r,t]),null}var oy,tX=()=>{var[e]=_.useState(()=>Vc("uid-"));return e},nX=(oy=G3.useId)!==null&&oy!==void 0?oy:tX;function rX(e,t){var n=nX();return t||(e?"".concat(e,"-").concat(n):n)}var aX=_.createContext(void 0),HM=e=>{var{id:t,type:n,children:r}=e,i=rX("recharts-".concat(n),t);return _.createElement(aX.Provider,{value:i},r(i))},iX={cartesianItems:[],polarItems:[]},FM=mr({name:"graphicalItems",initialState:iX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Da(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Da(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Da(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:sX,replaceCartesianGraphicalItem:oX,removeCartesianGraphicalItem:lX,addPolarGraphicalItem:cX,removePolarGraphicalItem:uX}=FM.actions,dX=FM.reducer;function fX(e){var t=Rt(),n=_.useRef(null);return _.useEffect(()=>{n.current===null?t(sX(e)):n.current!==e&&t(oX({prev:n.current,next:e})),n.current=e},[t,e]),_.useEffect(()=>()=>{n.current&&(t(lX(n.current)),n.current=null)},[t]),null}function hX(e){var t=Rt();return _.useEffect(()=>(t(cX(e)),()=>{t(uX(e))}),[t,e]),null}var mX=["onMouseEnter","onClick","onMouseLeave"],pX=["id"],gX=["id"];function Ux(e,t){if(e==null)return{};var n,r,i=vX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(n),!0).forEach(function(r){yX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yX(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mi.apply(null,arguments)}function _X(e){var t=_.useMemo(()=>nb(e.children,Au),[e.children]),n=we(r=>MW(r,e.id,t));return n==null?null:_.createElement(eX,{legendPayload:n})}function wX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:kh(u,t),hide:d,type:f,color:l,unit:""}}}var SX=(e,t)=>e>t?"start":e<t?"end":"middle",jX=(e,t,n)=>An(typeof t=="function"?t(e):t,n,n*.8),OX=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,u=XT(o,l),d=i+An(e.cx,o,o/2),f=r+An(e.cy,l,l/2),p=An(e.innerRadius,u,0),g=jX(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:g,maxRadius:v}},EX=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function NX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var AX=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var n=lt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return _.createElement(lk,Mi({},t,{type:"linear",className:n}))},CX=(e,t,n)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),_.isValidElement(r)))return r;var i=lt("recharts-pie-label-text",NX(e));return _.createElement(Zh,Mi({},t,{alignmentBaseline:"middle",className:i}),r)};function TX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var u=Li(n),d=nn(i,!1),f=nn(o,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,x)=>{var w=(v.startAngle+v.endAngle)/2,S=Xt(v.cx,v.cy,v.outerRadius+p,w),j=jt(jt(jt(jt({},u),v),{},{stroke:"none"},d),{},{index:x,textAnchor:SX(S.x,v.cx)},S),E=jt(jt(jt(jt({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:x,points:[Xt(v.cx,v.cy,v.outerRadius,w),S],key:"line"});return _.createElement(Xn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&AX(o,E),CX(i,j,Mt(v,l)))});return _.createElement(Xn,{className:"recharts-pie-labels"},g)}function kX(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(DM,{label:i}):_.createElement(TX,{sectors:t,props:n,showLabels:r})}function PX(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=we(Rs),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,f=Ux(i,mX),p=Lx(l,i.dataKey),g=zx(d),v=$x(u,i.dataKey);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var S=n&&String(w)===o,j=o?r:null,E=S?n:j,A=jt(jt({},x),{},{stroke:x.stroke,tabIndex:-1,[tk]:w,[nk]:i.dataKey});return _.createElement(Xn,Mi({tabIndex:-1,className:"recharts-pie-sector"},hu(f,x,w),{onMouseEnter:p(x,w),onMouseLeave:g(x,w),onClick:v(x,w),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w)}),_.createElement(UM,Mi({option:E,isActive:S,shapeType:"sector"},A)))}))}function MX(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),x=EX(u,d),w=Math.abs(x),S=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(M=>Mt(M,f,0)!==0).length,E=(w>=360?j:j-1)*S,A=w-j*v-E,N=r.reduce((M,R)=>{var z=Mt(R,f,0);return M+(je(z)?z:0)},0),T;if(N>0){var k;T=r.map((M,R)=>{var z=Mt(M,f,0),H=Mt(M,p,R),q=OX(n,o,M),F=(je(z)?z:0)/N,K,ie=jt(jt({},M),i&&i[R]&&i[R].props);R?K=k.endAngle+fn(x)*S*(z!==0?1:0):K=u;var U=K+fn(x)*((z!==0?v:0)+F*A),Z=(K+U)/2,L=(q.innerRadius+q.outerRadius)/2,V=[{name:H,value:z,payload:ie,dataKey:f,type:g}],oe=Xt(q.cx,q.cy,L,Z);return k=jt(jt(jt(jt({},n.presentationProps),{},{percent:F,cornerRadius:l,name:H,tooltipPayload:V,midAngle:Z,middleRadius:L,tooltipPosition:oe},ie),q),{},{value:z,startAngle:K,endAngle:U,payload:ie,paddingAngle:fn(x)*S}),k})}return T}function RX(e){var{showLabels:t,sectors:n,children:r}=e,i=_.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return _.createElement(vW,{value:t?i:void 0},r)}function DX(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:d,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=t,v=Lh(t,"recharts-pie-"),x=n.current,[w,S]=_.useState(!1),j=_.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),E=_.useCallback(()=>{typeof p=="function"&&p(),S(!0)},[p]);return _.createElement(RX,{showLabels:!w,sectors:r},_.createElement(Ih,{animationId:v,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:E,onAnimationEnd:j,key:v},A=>{var N=[],T=r&&r[0],k=T==null?void 0:T.startAngle;return r==null||r.forEach((M,R)=>{var z=x&&x[R],H=R>0?Ts(M,"paddingAngle",0):0;if(z){var q=Sn(z.endAngle-z.startAngle,M.endAngle-M.startAngle,A),F=jt(jt({},M),{},{startAngle:k+H,endAngle:k+q+H});N.push(F),k=F.endAngle}else{var{endAngle:K,startAngle:ie}=M,U=Sn(0,K-ie,A),Z=jt(jt({},M),{},{startAngle:k+H,endAngle:k+U+H});N.push(Z),k=Z.endAngle}}),n.current=N,_.createElement(Xn,null,_.createElement(PX,{sectors:N,activeShape:d,inactiveShape:f,allOtherPieProps:t}))}),_.createElement(kX,{showLabels:!w,sectors:r,props:t}),t.children)}var IX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$s.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function LX(e){var{id:t}=e,n=Ux(e,pX),{hide:r,className:i,rootTabIndex:o}=e,l=_.useMemo(()=>nb(e.children,Au),[e.children]),u=we(p=>RW(p,t,l)),d=_.useRef(null),f=lt("recharts-pie",i);return r||u==null?(d.current=null,_.createElement(Xn,{tabIndex:o,className:f})):_.createElement(_.Fragment,null,_.createElement(qM,{fn:wX,args:jt(jt({},e),{},{sectors:u})}),_.createElement(Xn,{tabIndex:o,className:f},_.createElement(DX,{props:jt(jt({},n),{},{sectors:u}),previousSectorsRef:d})))}function KM(e){var t=In(e,IX),{id:n}=t,r=Ux(t,gX),i=Li(r);return _.createElement(HM,{id:n,type:"pie"},o=>_.createElement(_.Fragment,null,_.createElement(hX,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(_X,Mi({},r,{id:o})),_.createElement(LX,Mi({},r,{id:o}))))}KM.displayName="Pie";function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(n),!0).forEach(function(r){zX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX={xAxis:{},yAxis:{},zAxis:{}},GM=mr({name:"cartesianAxis",initialState:qX,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=PN(PN({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:BX,removeXAxis:HX,addYAxis:FX,removeYAxis:KX,addZAxis:une,removeZAxis:dne,updateYAxisWidth:GX}=GM.actions,YX=GM.reducer,VX=X([rn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),WX=X([VX,Fa,Ka],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),YM=()=>we(WX),XX="Invariant failed";function QX(e,t){throw new Error(XX)}var JX=["x","y"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){ZX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZX(e,t,n){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nQ(e,t){if(e==null)return{};var n,r,i=rQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aQ(e,t){var{x:n,y:r}=e,i=nQ(e,JX),o="".concat(n),l=parseInt(o,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||i.height),p=parseInt(f,10),g="".concat(t.width||i.width),v=parseInt(g,10);return kc(kc(kc(kc(kc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function qx(e){return _.createElement(UM,w0({shapeType:"rectangle",propTransformer:aQ,activeClassName:"recharts-active-bar"},e))}var iQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(je(t))return t;var o=je(r)||hn(r);return o?t(r,i):(o||QX(),n)}},sQ={},VM=mr({name:"errorBars",initialState:sQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:fne,replaceErrorBar:hne,removeErrorBar:mne}=VM.actions,oQ=VM.reducer,lQ=["children"];function cQ(e,t){if(e==null)return{};var n,r,i=uQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fQ=_.createContext(dQ);function hQ(e){var{children:t}=e,n=cQ(e,lQ);return _.createElement(fQ.Provider,{value:n},t)}function WM(e,t){var n,r,i=we(f=>Ya(f,e)),o=we(f=>Va(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:sr.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:or.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function mQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=YM(),{needClipX:o,needClipY:l,needClip:u}=WM(t,n);if(!u)return null;var{x:d,y:f,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:o?d:d-p/2,y:l?f:f-g/2,width:o?p:p*2,height:l?g:g*2}))}var pQ=["onMouseEnter","onMouseLeave","onClick"],gQ=["value","background","tooltipPosition"],vQ=["id"],yQ=["onMouseEnter","onClick","onMouseLeave"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ri.apply(null,arguments)}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){bQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bQ(e,t,n){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dh(e,t){if(e==null)return{};var n,r,i=wQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:kh(n,t),payload:e}]};function jQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:kh(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function OQ(e){var t=we(Rs),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=o,f=dh(o,pQ),p=Lx(l,r),g=zx(u),v=$x(d,r);if(!i||n==null)return null;var x=nn(i,!1);return _.createElement(_.Fragment,null,n.map((w,S)=>{var{value:j,background:E,tooltipPosition:A}=w,N=dh(w,gQ);if(!E)return null;var T=p(w,S),k=g(w,S),M=v(w,S),R=Rn(Rn(Rn(Rn(Rn({option:i,isActive:String(S)===t},N),{},{fill:"#eee"},E),x),hu(f,w,S)),{},{onMouseEnter:T,onMouseLeave:k,onClick:M,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return _.createElement(qx,Ri({key:"background-bar-".concat(R.index)},R))}))}function EQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return Rn(Rn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return _.createElement(gW,{value:t?i:void 0},n)}function NQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=we(Rs),d=we(mM),f=n&&String(o)===u&&(d==null||l===d),p=f?n:t;return _.createElement(qx,Ri({},r,i,{isActive:f,option:p,index:o,dataKey:l}))}function AQ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return _.createElement(qx,Ri({},n,r,{isActive:!1,option:t,index:i,dataKey:o}))}function CQ(e){var{data:t,props:n}=e,r=Li(n),{id:i}=r,o=dh(r,vQ),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:p,onMouseLeave:g}=n,v=dh(n,yQ),x=Lx(f,u),w=zx(g),S=$x(p,u);return t?_.createElement(_.Fragment,null,t.map((j,E)=>_.createElement(Xn,Ri({className:"recharts-bar-rectangle"},hu(v,j,E),{onMouseEnter:x(j,E),onMouseLeave:w(j,E),onClick:S(j,E),key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(E)}),d?_.createElement(NQ,{shape:l,activeBar:d,baseProps:o,entry:j,index:E,dataKey:u}):_.createElement(AQ,{shape:l,baseProps:o,entry:j,index:E,dataKey:u})))):null}function TQ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,g=n.current,v=Lh(t,"recharts-bar-"),[x,w]=_.useState(!1),S=!x,j=_.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),E=_.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return _.createElement(EQ,{showLabels:S,rects:r},_.createElement(Ih,{animationId:v,begin:l,duration:u,isActive:o,easing:d,onAnimationEnd:j,onAnimationStart:E,key:v},A=>{var N=A===1?r:r==null?void 0:r.map((T,k)=>{var M=g&&g[k];if(M)return Rn(Rn({},T),{},{x:Sn(M.x,T.x,A),y:Sn(M.y,T.y,A),width:Sn(M.width,T.width,A),height:Sn(M.height,T.height,A)});if(i==="horizontal"){var R=Sn(0,T.height,A);return Rn(Rn({},T),{},{y:T.y+T.height-R,height:R})}var z=Sn(0,T.width,A);return Rn(Rn({},T),{},{width:z})});return A>0&&(n.current=N??null),N==null?null:_.createElement(Xn,null,_.createElement(CQ,{props:t,data:N}))}),_.createElement(DM,{label:t.label}),t.children)}function kQ(e){var t=_.useRef(null);return _.createElement(TQ,{previousRectanglesRef:t,props:e})}var XM=0,PQ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Mt(e,t)}};class MQ extends _.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var p=lt("recharts-bar",i),g=f;return _.createElement(Xn,{className:p,id:f},u&&_.createElement("defs",null,_.createElement(mQ,{clipPathId:g,xAxisId:o,yAxisId:l})),_.createElement(Xn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(OQ,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),_.createElement(kQ,this.props)))}}var RQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!$s.isSsr,legendType:"rect",minPointSize:XM,xAxisId:0,yAxisId:0};function DQ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p}=e,{needClip:g}=WM(t,n),v=Sb(),x=Rr(),w=nb(e.children,Au),S=we(A=>cJ(A,t,n,x,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var j,E=S==null?void 0:S[0];return E==null||E.height==null||E.width==null?j=0:j=v==="vertical"?E.height/2:E.width/2,_.createElement(hQ,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:PQ,errorBarOffset:j},_.createElement(MQ,Ri({},e,{layout:v,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function IQ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:g,offset:v,cells:x,parentViewBox:w}=e,S=t==="horizontal"?u:l,j=p?S.scale.domain():null,E=XB({numericAxis:S});return g.map((A,N)=>{var T,k,M,R,z,H;p?T=FB(p[N],j):(T=Mt(A,n),Array.isArray(T)||(T=[E,T]));var q=iQ(r,XM)(T[1],N);if(t==="horizontal"){var F,[K,ie]=[u.scale(T[0]),u.scale(T[1])];k=bE({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:A,index:N}),M=(F=ie??K)!==null&&F!==void 0?F:void 0,R=i.size;var U=K-ie;if(z=dr(U)?0:U,H={x:k,y:v.top,width:R,height:v.height},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var Z=fn(z||q)*(Math.abs(q)-Math.abs(z));M-=Z,z+=Z}}else{var[L,V]=[l.scale(T[0]),l.scale(T[1])];if(k=L,M=bE({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:A,index:N}),R=V-L,z=i.size,H={x:v.left,y:M,width:v.width,height:z},Math.abs(q)>0&&Math.abs(R)<Math.abs(q)){var oe=fn(R||q)*(Math.abs(q)-Math.abs(R));R+=oe}}if(k==null||M==null||R==null||z==null)return null;var fe=Rn(Rn({},A),{},{x:k,y:M,width:R,height:z,value:p?T:T[1],payload:A,background:H,tooltipPosition:{x:k+R/2,y:M+z/2},parentViewBox:w},x&&x[N]&&x[N].props);return fe}).filter(Boolean)}function LQ(e){var t=In(e,RQ),n=Rr();return _.createElement(HM,{id:t.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(ZW,{legendPayload:SQ(t)}),_.createElement(qM,{fn:jQ,args:t}),_.createElement(fX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:WB(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(DQ,Ri({},t,{id:r}))))}var S0=_.memo(LQ);S0.displayName="Bar";function DN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(n),!0).forEach(function(r){zQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zQ(e,t,n){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Q(e){var t=UQ(e,"string");return typeof t=="symbol"?t:t+""}function UQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qQ=(e,t)=>t,BQ=(e,t,n)=>n,HQ=(e,t,n,r)=>r,FQ=(e,t,n,r,i)=>i,Cu=X([ox,FQ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),KQ=X([Cu],e=>e==null?void 0:e.maxBarSize),GQ=(e,t,n,r,i,o)=>o,IN=(e,t,n)=>{var r=n??e;if(!hn(r))return An(r,t,0)},YQ=X([et,ox,qQ,BQ,HQ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),VQ=(e,t,n,r)=>{var i=et(e);return i==="horizontal"?g0(e,"yAxis",n,r):g0(e,"xAxis",t,r)},WQ=(e,t,n)=>{var r=et(e);return r==="horizontal"?I2(e,"xAxis",t):I2(e,"yAxis",n)},XQ=(e,t,n)=>{var r={},i=e.filter(Yh),o=e.filter(f=>f.stackId==null),l=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),u=Object.entries(l).map(f=>{var[p,g]=f,v=g.map(w=>w.dataKey),x=IN(t,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:x}}),d=o.map(f=>{var p=[f.dataKey].filter(v=>v!=null),g=IN(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]},QQ=X([YQ,TK,WQ],XQ),JQ=(e,t,n,r,i)=>{var o,l,u=Cu(e,t,n,r,i);if(u!=null){var d=et(e),f=fP(e),{maxBarSize:p}=u,g=hn(p)?f:p,v,x;return d==="horizontal"?(v=dl(e,"xAxis",t,r),x=ul(e,"xAxis",t,r)):(v=dl(e,"yAxis",n,r),x=ul(e,"yAxis",n,r)),(o=(l=yb(v,x,!0))!==null&&l!==void 0?l:g)!==null&&o!==void 0?o:0}},QM=(e,t,n,r)=>{var i=et(e),o,l;return i==="horizontal"?(o=dl(e,"xAxis",t,r),l=ul(e,"xAxis",t,r)):(o=dl(e,"yAxis",n,r),l=ul(e,"yAxis",n,r)),yb(o,l)};function ZQ(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=An(e,n,0,!0),u,d=[];if(hr(r[0].barSize)){var f=!1,p=n/o,g=r.reduce((E,A)=>E+(A.barSize||0),0);g+=(o-1)*l,g>=n&&(g-=(o-1)*l,l=0),g>=n&&p>0&&(f=!0,p*=.9,g=o*p);var v=(n-g)/2>>0,x={offset:v-l,size:0};u=r.reduce((E,A)=>{var N,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:x.offset+x.size+l,size:f?p:(N=A.barSize)!==null&&N!==void 0?N:0}},k=[...E,T];return x=k[k.length-1].position,k},d)}else{var w=An(t,n,0,!0);n-2*w-(o-1)*l<=0&&(l=0);var S=(n-2*w-(o-1)*l)/o;S>1&&(S>>=0);var j=hr(i)?Math.min(S,i):S;u=r.reduce((E,A,N)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:w+(S+l)*N+(S-j)/2,size:j}}],d)}return u}}var eJ=(e,t,n,r,i,o,l)=>{var u=hn(l)?t:l,d=ZQ(n,r,i!==o?i:o,e,u);return i!==o&&d!=null&&(d=d.map(f=>df(df({},f),{},{position:df(df({},f.position),{},{offset:f.position.offset-i/2})}))),d},tJ=X([QQ,fP,CK,hP,JQ,QM,KQ],eJ),nJ=(e,t,n,r)=>dl(e,"xAxis",t,r),rJ=(e,t,n,r)=>dl(e,"yAxis",n,r),aJ=(e,t,n,r)=>ul(e,"xAxis",t,r),iJ=(e,t,n,r)=>ul(e,"yAxis",n,r),sJ=X([tJ,Cu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),oJ=(e,t)=>{var n=ax(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},lJ=X([VQ,Cu],oJ),cJ=X([rn,bb,nJ,rJ,aJ,iJ,sJ,et,Wb,QM,lJ,Cu,GQ],(e,t,n,r,i,o,l,u,d,f,p,g,v)=>{var{chartData:x,dataStartIndex:w,dataEndIndex:S}=d;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:j}=g,E;if(j!=null&&j.length>0?E=j:E=x==null?void 0:x.slice(w,S+1),E!=null)return IQ({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:p,displayedData:E,offset:e,cells:v})}}),JM=e=>{var{chartData:t}=e,n=Rt(),r=Rr();return _.useEffect(()=>r?()=>{}:(n(G2(t)),()=>{n(G2(void 0))}),[t,n,r]),null},LN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZM=mr({name:"brush",initialState:LN,reducers:{setBrushSettings(e,t){return t.payload==null?LN:t.payload}}}),{setBrushSettings:pne}=ZM.actions,uJ=ZM.reducer;function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bx{static create(t){return new Bx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}dJ(Bx,"EPS",1e-4);function mJ(e){return(e%180+180)%180}var pJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=mJ(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},gJ={dots:[],areas:[],lines:[]},eR=mr({name:"referenceElements",initialState:gJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Da(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Da(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Da(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:gne,removeDot:vne,addArea:yne,removeArea:bne,addLine:xne,removeLine:_ne}=eR.actions,vJ=eR.reducer,yJ=_.createContext(void 0),bJ=e=>{var{children:t}=e,[n]=_.useState("".concat(Vc("recharts"),"-clip")),r=YM();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return _.createElement(yJ.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function fl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function tR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function xJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return pJ(r,n)}function _J(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function fh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function wJ(e,t){return tR(e,t+1)}function SJ(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,p=l,g=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:tR(r,f)};var S=d,j,E=()=>(j===void 0&&(j=n(w,S)),j),A=w.coordinate,N=d===0||fh(e,A,E,p,u);N||(d=0,p=l,f+=1),N&&(p=A+e*(E()/2+i),d+=f)},v;f<=o.length;)if(v=g(),v)return v.v;return[]}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){jJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jJ(e,t,n){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:d}=t,f=function(v){var x=o[v],w,S=()=>(w===void 0&&(w=n(x,v)),w);if(v===l-1){var j=e*(x.coordinate+e*S()/2-d);o[v]=x=En(En({},x),{},{tickCoord:j>0?x.coordinate-j*e:x.coordinate})}else o[v]=x=En(En({},x),{},{tickCoord:x.coordinate});var E=fh(e,x.tickCoord,S,u,d);E&&(d=x.tickCoord-e*(S()/2+i),o[v]=En(En({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return o}function AJ(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(o){var p=r[u-1],g=n(p,u-1),v=e*(p.coordinate+e*g/2-f);l[u-1]=p=En(En({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var x=fh(e,p.tickCoord,()=>g,d,f);x&&(f=p.tickCoord-e*(g/2+i),l[u-1]=En(En({},p),{},{isShow:!0}))}for(var w=o?u-1:u,S=function(A){var N=l[A],T,k=()=>(T===void 0&&(T=n(N,A)),T);if(A===0){var M=e*(N.coordinate-e*k()/2-d);l[A]=N=En(En({},N),{},{tickCoord:M<0?N.coordinate-M*e:N.coordinate})}else l[A]=N=En(En({},N),{},{tickCoord:N.coordinate});var R=fh(e,N.tickCoord,k,d,f);R&&(d=N.tickCoord+e*(k()/2+i),l[A]=En(En({},N),{},{isShow:!0}))},j=0;j<w;j++)S(j);return l}function Hx(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(je(d)||$s.isSsr){var v;return(v=wJ(i,je(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],w=u==="top"||u==="bottom"?"width":"height",S=p&&w==="width"?Bc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(N,T)=>{var k=typeof f=="function"?f(N.value,T):N.value;return w==="width"?xJ(Bc(k,{fontSize:t,letterSpacing:n}),S,g):Bc(k,{fontSize:t,letterSpacing:n})[w]},E=i.length>=2?fn(i[1].coordinate-i[0].coordinate):1,A=_J(o,E,w);return d==="equidistantPreserveStart"?SJ(E,A,j,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=AJ(E,A,j,i,l,d==="preserveStartEnd"):x=NJ(E,A,j,i,l),x.filter(N=>N.isShow))}var CJ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},TJ=["axisLine","width","height","className","hide","ticks"],kJ=["viewBox"],PJ=["viewBox"];function j0(e,t){if(e==null)return{};var n,r,i=MJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(null,arguments)}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){RJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RJ(e,t,n){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function LJ(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=tn(tn(tn({},d),nn(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);f=tn(tn({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);f=tn(tn({},f),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return _.createElement("line",Ds({},f,{className:lt("recharts-cartesian-axis-line",Ts(u,"className"))}))}function zJ(e,t,n,r,i,o,l,u,d){var f,p,g,v,x,w,S=u?-1:1,j=e.tickSize||l,E=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=p=e.coordinate,v=n+ +!u*i,g=v-S*j,w=g-S*d,x=E;break;case"left":g=v=e.coordinate,p=t+ +!u*r,f=p-S*j,x=f-S*d,w=E;break;case"right":g=v=e.coordinate,p=t+ +u*r,f=p+S*j,x=f+S*d,w=E;break;default:f=p=e.coordinate,v=n+ +u*i,g=v+S*j,w=g+S*d,x=E;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x,y:w}}}function $J(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function UJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function qJ(e){var{option:t,tickProps:n,value:r}=e,i,o=lt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,tn(tn({},n),{},{className:o}));else if(typeof t=="function")i=t(tn(tn({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=lt(l,t==null?void 0:t.className)),i=_.createElement(Zh,Ds({},n,{className:l}),r)}return i}function BJ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:p,x:g,y:v,width:x,height:w,tickSize:S,tickMargin:j,fontSize:E,letterSpacing:A,getTicksConfig:N,events:T}=e,k=Hx(tn(tn({},N),{},{ticks:t}),E,A),M=$J(f,p),R=UJ(f,p),z=Li(N),H=nn(n,!1),q=tn(tn({},z),{},{fill:"none"},nn(r,!1)),F=k.map((K,ie)=>{var{line:U,tick:Z}=zJ(K,g,v,x,w,f,S,p,j),L=tn(tn(tn(tn({textAnchor:M,verticalAnchor:R},z),{},{stroke:"none",fill:i},H),Z),{},{index:ie,payload:K,visibleTicksCount:k.length,tickFormatter:o,padding:u},d);return _.createElement(Xn,Ds({className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},hu(T,K,ie)),r&&_.createElement("line",Ds({},q,U,{className:lt("recharts-cartesian-axis-tick-line",Ts(r,"className"))})),n&&_.createElement(qJ,{option:n,tickProps:L,value:"".concat(typeof o=="function"?o(K.value,ie):K.value).concat(l||"")}))});return F.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var HJ=_.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u}=e,d=j0(e,TJ),[f,p]=_.useState(""),[g,v]=_.useState(""),x=_.useRef([]);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return CJ({ticks:x.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=_.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=Array.from(j);var E=j[0];if(E){var A=window.getComputedStyle(E),N=A.fontSize,T=A.letterSpacing;(N!==f||T!==g)&&(p(N),v(T))}}},[f,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(Xn,{className:lt("recharts-cartesian-axis",o),ref:w},_.createElement(LJ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Li(e)}),_.createElement(BJ,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:e,events:d}),_.createElement(WV,{x:e.x,y:e.y,width:e.width,height:e.height},_.createElement(iW,{label:e.label}),e.children))}),FJ=_.memo(HJ,(e,t)=>{var{viewBox:n}=e,r=j0(e,kJ),{viewBox:i}=t,o=j0(t,PJ);return fl(n,i)&&fl(r,o)}),Kx=_.forwardRef((e,t)=>{var n=In(e,Fx);return _.createElement(FJ,Ds({},n,{ref:t}))});Kx.displayName="CartesianAxis";var KJ=["x1","y1","x2","y2","key"],GJ=["offset"],YJ=["xAxisId","yAxisId"],VJ=["xAxisId","yAxisId"];function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){WJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WJ(e,t,n){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},js.apply(null,arguments)}function hh(e,t){if(e==null)return{};var n,r,i=JJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return _.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nR(e,t){var n;if(_.isValidElement(e))n=_.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:u}=t,d=hh(t,KJ),f=Li(d),{offset:p}=f,g=hh(f,GJ);n=_.createElement("line",js({},g,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:u}))}return n}function eZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=hh(e,YJ),d=i.map((f,p)=>{var g=Nn(Nn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return nR(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function tZ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=hh(e,VJ),d=i.map((f,p)=>{var g=Nn(Nn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return nR(r,g)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function nZ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var x=!f[v+1],w=x?i+l-g:f[v+1]-g;if(w<=0)return null;var S=v%t.length;return _.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:o,stroke:"none",fill:t[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function rZ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var x=!f[v+1],w=x?i+l-g:f[v+1]-g;if(w<=0)return null;var S=v%n.length;return _.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:w,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var aZ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return JT(Hx(Nn(Nn(Nn({},Fx),n),{},{ticks:ZT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},iZ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return JT(Hx(Nn(Nn(Nn({},Fx),n),{},{ticks:ZT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},sZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function rR(e){var t=_b(),n=wb(),r=rk(),i=Nn(Nn({},In(e,sZ)),{},{x:je(e.x)?e.x:r.left,y:je(e.y)?e.y:r.top,width:je(e.width)?e.width:r.width,height:je(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,w=Rr(),S=we(H=>L2(H,"xAxis",o,w)),j=we(H=>L2(H,"yAxis",l,w));if(!je(f)||f<=0||!je(p)||p<=0||!je(u)||u!==+u||!je(d)||d!==+d)return null;var E=i.verticalCoordinatesGenerator||aZ,A=i.horizontalCoordinatesGenerator||iZ,{horizontalPoints:N,verticalPoints:T}=i;if((!N||!N.length)&&typeof A=="function"){var k=v&&v.length,M=A({yAxis:j?Nn(Nn({},j),{},{ticks:k?v:j.ticks}):void 0,width:t,height:n,offset:r},k?!0:g);qc(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}if((!T||!T.length)&&typeof E=="function"){var R=x&&x.length,z=E({xAxis:S?Nn(Nn({},S),{},{ticks:R?x:S.ticks}):void 0,width:t,height:n,offset:r},R?!0:g);qc(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(T=z)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(ZJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(nZ,js({},i,{horizontalPoints:N})),_.createElement(rZ,js({},i,{verticalPoints:T})),_.createElement(eZ,js({},i,{offset:r,horizontalPoints:N,xAxis:S,yAxis:j})),_.createElement(tZ,js({},i,{offset:r,verticalPoints:T,xAxis:S,yAxis:j})))}rR.displayName="CartesianGrid";var oZ=["dangerouslySetInnerHTML","ticks"],lZ=["id"],cZ=["domain"],uZ=["domain"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function mh(e,t){if(e==null)return{};var n,r,i=dZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fZ(e){var t=Rt();return _.useEffect(()=>(t(BX(e)),()=>{t(HX(e))}),[e,t]),null}var hZ=e=>{var{xAxisId:t,className:n}=e,r=we(bb),i=Rr(),o="xAxis",l=we(j=>jl(j,o,t,i)),u=we(j=>WP(j,o,t,i)),d=we(j=>KP(j,t)),f=we(j=>_G(j,t)),p=we(j=>wP(j,t));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,x=mh(e,oZ),{id:w}=p,S=mh(p,lZ);return _.createElement(Kx,O0({},x,S,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:lt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},mZ={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,height:sr.height,hide:!1,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tickCount:sr.tickCount,type:sr.type,xAxisId:0},pZ=e=>{var t,n,r,i,o,l=In(e,mZ);return _.createElement(_.Fragment,null,_.createElement(fZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),_.createElement(hZ,l))},gZ=(e,t)=>{var{domain:n}=e,r=mh(e,cZ),{domain:i}=t,o=mh(t,uZ);return fl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fl({domain:n},{domain:i}):!1},aR=_.memo(pZ,gZ);aR.displayName="XAxis";var vZ=["dangerouslySetInnerHTML","ticks"],yZ=["id"],bZ=["domain"],xZ=["domain"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(null,arguments)}function ph(e,t){if(e==null)return{};var n,r,i=_Z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wZ(e){var t=Rt();return _.useEffect(()=>(t(FX(e)),()=>{t(KX(e))}),[e,t]),null}var SZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=_.useRef(null),l=_.useRef(null),u=we(bb),d=Rr(),f=Rt(),p="yAxis",g=we(k=>jl(k,p,t,d)),v=we(k=>GP(k,t)),x=we(k=>SG(k,t)),w=we(k=>WP(k,p,t,d)),S=we(k=>SP(k,t));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Px(i)||_.isValidElement(i)||S==null)){var k=o.current;if(k){var M=k.getCalculatedWidth();Math.round(v.width)!==Math.round(M)&&f(GX({id:t,width:M}))}}},[w,v,f,i,t,r,S]),v==null||x==null||S==null)return null;var{dangerouslySetInnerHTML:j,ticks:E}=e,A=ph(e,vZ),{id:N}=S,T=ph(S,yZ);return _.createElement(Kx,E0({},A,T,{ref:o,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:lt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w}))},jZ={allowDataOverflow:or.allowDataOverflow,allowDecimals:or.allowDecimals,allowDuplicatedCategory:or.allowDuplicatedCategory,hide:!1,mirror:or.mirror,orientation:or.orientation,padding:or.padding,reversed:or.reversed,scale:or.scale,tickCount:or.tickCount,type:or.type,width:or.width,yAxisId:0},OZ=e=>{var t,n,r,i,o,l=In(e,jZ);return _.createElement(_.Fragment,null,_.createElement(wZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),_.createElement(SZ,l))},EZ=(e,t)=>{var{domain:n}=e,r=ph(e,bZ),{domain:i}=t,o=ph(t,xZ);return fl(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:fl({domain:n},{domain:i}):!1},iR=_.memo(OZ,EZ);iR.displayName="YAxis";var ly={exports:{}},cy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function NZ(){if(qN)return cy;qN=1;var e=hl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return cy.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function j(k){if(!E){if(E=!0,A=k,k=g(k),v!==void 0&&w.hasValue){var M=w.value;if(v(M,k))return N=M}return N=k}if(M=N,n(A,k))return M;var R=g(k);return v!==void 0&&v(M,R)?(A=k,M):(A=k,N=R)}var E=!1,A,N,T=p===void 0?null:p;return[function(){return j(f())},T===null?void 0:function(){return j(T())}]},[f,p,g,v]);var S=r(d,x[0],x[1]);return o(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},cy}var BN;function AZ(){return BN||(BN=1,ly.exports=NZ()),ly.exports}AZ();function CZ(e){e()}function TZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var HN={notify(){},get:()=>[]};function kZ(e,t){let n,r=HN,i=0,o=!1;function l(S){p();const j=r.subscribe(S);let E=!1;return()=>{E||(E=!0,j(),g())}}function u(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return o}function p(){i++,n||(n=e.subscribe(d),r=TZ())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HN)}function v(){o||(o=!0,p())}function x(){o&&(o=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return w}var PZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MZ=PZ(),RZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",DZ=RZ(),IZ=()=>MZ||DZ?_.useLayoutEffect:_.useEffect,LZ=IZ(),uy=Symbol.for("react-redux-context"),dy=typeof globalThis<"u"?globalThis:{};function zZ(){if(!_.createContext)return{};const e=dy[uy]??(dy[uy]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var $Z=zZ();function UZ(e){const{children:t,context:n,serverState:r,store:i}=e,o=_.useMemo(()=>{const d=kZ(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);LZ(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||$Z;return _.createElement(u.Provider,{value:o},t)}var qZ=UZ,BZ=(e,t)=>t,Gx=X([BZ,et,bP,sn,uM,Wa,NY,rn],PY),Yx=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},sR=kr("mouseClick"),oR=pu();oR.startListening({actionCreator:sR,effect:(e,t)=>{var n=e.payload,r=Gx(t.getState(),Yx(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(IG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var N0=kr("mouseMove"),lR=pu();lR.startListening({actionCreator:N0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Sx(r,r.tooltip.settings.shared),o=Gx(r,Yx(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(rM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(nM()))}});var FN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},cR=mr({name:"rootProps",initialState:FN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:FN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),HZ=cR.reducer,{updateOptions:FZ}=cR.actions,uR=mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:KZ}=uR.actions,GZ=uR.reducer,dR=kr("keyDown"),fR=kr("focus"),Vx=pu();Vx.startListening({actionCreator:dR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(jx(i,El(n))),u=Wa(n);if(o==="Enter"){var d=oh(n,"axis","hover",String(i.index));t.dispatch(y0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var f=NG(n),p=f==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=l+g*p;if(!(u==null||v>=u.length||v<0)){var x=oh(n,"axis","hover",String(v));t.dispatch(y0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Vx.startListening({actionCreator:fR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=oh(n,"axis","hover",String(o));t.dispatch(y0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Ar=kr("externalEvent"),hR=pu();hR.startListening({actionCreator:Ar,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:yY(n),activeDataKey:mM(n),activeIndex:Rs(n),activeLabel:hM(n),activeTooltipIndex:Rs(n),isTooltipActive:bY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var YZ=X([Ol],e=>e.tooltipItemPayloads),VZ=X([YZ,Eu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),mR=kr("touchMove"),pR=pu();pR.startListening({actionCreator:mR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Sx(r,r.tooltip.settings.shared);if(i==="axis"){var o=Gx(r,Yx({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(rM({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(tk),p=(l=d.getAttribute(nk))!==null&&l!==void 0?l:void 0,g=VZ(t.getState(),f,p);t.dispatch(tM({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}});var WZ=NT({brush:uJ,cartesianAxis:YX,chartData:VY,errorBars:oQ,graphicalItems:dX,layout:AB,legend:y7,options:HY,polarAxis:NW,polarOptions:GZ,referenceElements:vJ,rootProps:HZ,tooltip:LG}),XZ=function(t){return Zq({reducer:WZ,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([oR.middleware,lR.middleware,Vx.middleware,hR.middleware,pR.middleware]),devTools:$s.devToolsEnabled})};function gR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Rr(),o=_.useRef(null);if(i)return n;o.current==null&&(o.current=XZ(t));var l=fb;return _.createElement(qZ,{context:l,store:o.current},n)}function vR(e){var{layout:t,width:n,height:r,margin:i}=e,o=Rt(),l=Rr();return _.useEffect(()=>{l||(o(OB(t)),o(EB({width:n,height:r})),o(jB(i)))},[o,l,t,n,r,i]),null}function yR(e){var t=Rt();return _.useEffect(()=>{t(FZ(e))},[t,e]),null}var QZ=["children"];function JZ(e,t){if(e==null)return{};var n,r,i=ZZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(null,arguments)}var eee={width:"100%",height:"100%"},tee=_.forwardRef((e,t)=>{var n=_b(),r=wb(),i=ok();if(!il(n)||!il(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=e,f,p;return typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,_.createElement(rb,gh({},l,{title:u,desc:d,role:p,tabIndex:f,width:n,height:r,style:eee,ref:t}),o)}),nee=e=>{var{children:t}=e,n=we(Dh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return _.createElement(rb,{width:r,height:i,x:l,y:o},t)},KN=_.forwardRef((e,t)=>{var{children:n}=e,r=JZ(e,QZ),i=Rr();return i?_.createElement(nee,null,n):_.createElement(tee,gh({ref:t},r),n)});function ree(){var e=Rt(),[t,n]=_.useState(null),r=we(r7);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;hr(o)&&o!==r&&e(NB(o))}},[t,e,r]),n}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=see(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function see(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lee=_.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:w,onTouchStart:S,style:j,width:E}=e,A=Rt(),[N,T]=_.useState(null),[k,M]=_.useState(null);rV();var R=ree(),z=_.useCallback(D=>{R(D),typeof t=="function"&&t(D),T(D),M(D)},[R,t,T,M]),H=_.useCallback(D=>{A(sR(D)),A(Ar({handler:o,reactEvent:D}))},[A,o]),q=_.useCallback(D=>{A(N0(D)),A(Ar({handler:f,reactEvent:D}))},[A,f]),F=_.useCallback(D=>{A(nM()),A(Ar({handler:p,reactEvent:D}))},[A,p]),K=_.useCallback(D=>{A(N0(D)),A(Ar({handler:g,reactEvent:D}))},[A,g]),ie=_.useCallback(()=>{A(fR())},[A]),U=_.useCallback(D=>{A(dR(D.key))},[A]),Z=_.useCallback(D=>{A(Ar({handler:l,reactEvent:D}))},[A,l]),L=_.useCallback(D=>{A(Ar({handler:u,reactEvent:D}))},[A,u]),V=_.useCallback(D=>{A(Ar({handler:d,reactEvent:D}))},[A,d]),oe=_.useCallback(D=>{A(Ar({handler:v,reactEvent:D}))},[A,v]),fe=_.useCallback(D=>{A(Ar({handler:S,reactEvent:D}))},[A,S]),ae=_.useCallback(D=>{A(mR(D)),A(Ar({handler:w,reactEvent:D}))},[A,w]),P=_.useCallback(D=>{A(Ar({handler:x,reactEvent:D}))},[A,x]);return _.createElement(xM.Provider,{value:N},_.createElement(VC.Provider,{value:k},_.createElement("div",{className:lt("recharts-wrapper",r),style:aee({position:"relative",cursor:"default",width:E,height:i},j),onClick:H,onContextMenu:Z,onDoubleClick:L,onFocus:ie,onKeyDown:U,onMouseDown:V,onMouseEnter:q,onMouseLeave:F,onMouseMove:K,onMouseUp:oe,onTouchEnd:P,onTouchMove:ae,onTouchStart:fe,ref:z},n)))}),cee=["children","className","width","height","style","compact","title","desc"];function uee(e,t){if(e==null)return{};var n,r,i=dee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bR=_.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:l,compact:u,title:d,desc:f}=e,p=uee(e,cee),g=Li(p);return u?_.createElement(KN,{otherAttributes:g,title:d,desc:f},n):_.createElement(lee,{className:r,style:l,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(KN,{otherAttributes:g,title:d,desc:f,ref:t},_.createElement(bJ,null,n)))}),fee=["width","height"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function hee(e,t){if(e==null)return{};var n,r,i=mee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pee={top:5,right:5,bottom:5,left:5},gee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pee,reverseStackOrder:!1,syncMethod:"index"},vee=_.forwardRef(function(t,n){var r,i=In(t.categoricalChartProps,gee),{width:o,height:l}=i,u=hee(i,fee);if(!il(o)||!il(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,x={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return _.createElement(gR,{preloadedState:{options:x},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:d},_.createElement(JM,{chartData:v.data}),_.createElement(vR,{width:o,height:l,layout:i.layout,margin:i.margin}),_.createElement(yR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(bR,A0({},u,{width:o,height:l,ref:n})))}),yee=["axis","item"],bee=_.forwardRef((e,t)=>_.createElement(vee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yee,tooltipPayloadSearcher:_M,categoricalChartProps:e,ref:t}));function xee(e){var t=Rt();return _.useEffect(()=>{t(KZ(e))},[t,e]),null}var _ee=["width","height","layout"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function wee(e,t){if(e==null)return{};var n,r,i=See(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function See(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jee={top:5,right:5,bottom:5,left:5},Oee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Eee=_.forwardRef(function(t,n){var r,i=In(t.categoricalChartProps,Oee),{width:o,height:l,layout:u}=i,d=wee(i,_ee);if(!il(o)||!il(l))return null;var{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,x={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return _.createElement(gR,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},_.createElement(JM,{chartData:i.data}),_.createElement(vR,{width:o,height:l,layout:u,margin:i.margin}),_.createElement(yR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(xee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(bR,C0({width:o,height:l},d,{ref:n})))}),Nee=["item"],Aee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Cee=_.forwardRef((e,t)=>{var n=In(e,Aee);return _.createElement(Eee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nee,tooltipPayloadSearcher:_M,categoricalChartProps:n,ref:t})});const YN=[{value:"editor",label:"Éditeur",headerDescription:"Gestion complète",helper:"Créer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des données."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accès bloqué",helper:"Masquer totalement la section.",tooltip:"Bloque complètement l’accès à la section ou à la fonctionnalité."}],Tee=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:o})=>{const l=_.useMemo(()=>{if(e.length===0)return[];const d=Vn.map(x=>x.permissionKey),f=new Set(d),p=d.filter(x=>e.includes(x)),g=e.filter(x=>!f.has(x)).sort((x,w)=>r(x).localeCompare(r(w),"fr")),v=[];return p.length>0&&v.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&v.push({id:"custom",title:"Permissions personnalisées",keys:g}),v},[r,e]),u=d=>{e.forEach(f=>{(t[f]??"none")!==d&&n(f,d)})};return e.length===0?m.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rôle pour le moment."}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>u("editor"),title:"Autoriser toutes les sections en mode édition.",children:"Tout autoriser"}),m.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>u("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),m.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>u("none"),title:"Révoquer toutes les permissions.",children:"Tout bloquer"})]}),m.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:m.jsx("div",{className:"max-h-96 overflow-auto",children:m.jsx("div",{className:"min-w-full",children:m.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[m.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),YN.map(d=>m.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[m.jsx("div",{children:d.label}),m.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:d.headerDescription})]},d.value)),l.map(d=>m.jsxs(Gr.Fragment,{children:[m.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:d.title}),d.keys.map(f=>{const p=t[f]??"none",g=`permission-${f.replace(/[^a-zA-Z0-9_-]/g,"_")}`,v=f in i;return m.jsxs(Gr.Fragment,{children:[m.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(f)}),v&&o&&m.jsx("button",{type:"button",onClick:()=>o(f),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalisée",children:m.jsx(Ls,{className:"h-4 w-4"})})]})}),YN.map(x=>{const w=p===x.value;return m.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:m.jsxs("label",{className:`permission-choice${w?" is-active":""}`,title:x.tooltip,children:[m.jsx("input",{type:"radio",className:"sr-only",name:g,value:x.value,checked:w,onChange:()=>n(f,x.value)}),m.jsx("span",{className:"permission-choice__label",children:x.label}),m.jsx("span",{className:"permission-choice__helper",children:x.helper})]})},x.value)})]},f)})]},d.id))]})})})})]})},kee=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:o,onAddCustomPermission:l,onRemoveCustomPermission:u,onCancel:d,isSubmitting:f,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:v,isPermissionGranted:x})=>{const[w,S]=_.useState(!1),[j,E]=_.useState(""),[A,N]=_.useState(""),[T,k]=_.useState(null),M=()=>{S(!1),E(""),N(""),k(null)},R=()=>{const z=j.trim(),H=A.trim();if(!z||!H){k("La clé technique et le nom affiché sont obligatoires.");return}if(g.includes(z)){k("Cette clé de permission existe déjà.");return}l(z,H),M()};return m.jsxs("div",{children:[m.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rôle sélectionné":"Créer un nouveau rôle"}),m.jsxs("form",{onSubmit:n,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rôle"}),m.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accès"}),m.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par défaut"}),m.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:z=>i(z.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:Vn.map(z=>{const H=x(t.permissions[z.permissionKey]);return m.jsxs("option",{value:z.permissionKey,disabled:!H,children:[v(z.permissionKey),H?"":" (accès requis)"]},z.permissionKey)})}),p?m.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont désactivées."}):m.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),m.jsxs("div",{children:[m.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),m.jsx(Tee,{permissionKeys:g,permissions:t.permissions,onChange:o,getPermissionLabel:v,customPermissions:t.customPermissions,onRemoveCustomPermission:u}),m.jsx("div",{className:"mt-4 space-y-3",children:w?m.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[m.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Clé technique"}),m.jsx("input",{type:"text",value:j,onChange:z=>{E(z.target.value),k(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affiché"}),m.jsx("input",{type:"text",value:A,onChange:z=>{N(z.target.value),k(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),T&&m.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:T}),m.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[m.jsx("button",{type:"button",onClick:M,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),m.jsx("button",{type:"button",onClick:R,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):m.jsx("button",{type:"button",onClick:()=>{S(!0),k(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&m.jsx("button",{type:"button",onClick:d,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),m.jsxs("button",{type:"submit",disabled:f,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[m.jsx(Tz,{className:"mr-2 h-4 w-4"}),f?"Enregistrement...":e==="edit"?"Mettre à jour":"Créer"]})]})]})]})},Pee=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:o,isEditing:l,deletingRoleId:u,getPermissionLabel:d})=>{const f=!t&&e.length===0;return m.jsxs("div",{className:"flex h-full flex-col",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rôles existants"}),m.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[m.jsx(uu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rôle"]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?m.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rôles..."}):f?m.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rôle configuré pour le moment."}):m.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&o===p.id;return m.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??"—"]}),p.homePage&&m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",d(p.homePage)]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),m.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:u===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[m.jsx(Ls,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var aA;const Mee=((aA=Vn[0])==null?void 0:aA.permissionKey)??"/dashboard",Ree=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===dC.ADMIN||t==="administrateur"},ms=(e,t,n={})=>{const r={...e||{}};return delete r[Os],Vn.forEach(i=>{i.permissionKey in r||(i.permissionKey===za&&Ree(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},ps=e=>{const t=Vn.find(n=>gs(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??Mee},VN=e=>{const t=ms(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:ps(t),customPermissions:{...e}}},gs=e=>e==="editor"||e==="readonly",Dee=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=ca(),[i,o]=_.useState([]),[l,u]=_.useState({}),[d,f]=_.useState(()=>VN({})),[p,g]=_.useState("create"),[v,x]=_.useState(!1),[w,S]=_.useState(!1),[j,E]=_.useState(null),[A,N]=_.useState(null),[T,k]=_.useState(null),M=_.useMemo(()=>{const ae=Vn.map(D=>D.permissionKey),P=new Set;return Object.keys(l).forEach(D=>{ae.includes(D)||P.add(D)}),i.forEach(D=>{Object.keys(D.permissions).forEach(te=>{te!==Os&&(ae.includes(te)||P.add(te))})}),[...ae,...Array.from(P)]},[i,l]),R=_.useMemo(()=>Vn.some(ae=>gs(d.permissions[ae.permissionKey])),[d.permissions]),z=_.useCallback(async()=>{x(!0);try{const ae=await xe.getRoles();o(ae),u(P=>{const D={...P};let te=!1;const Q=new Set(Vn.map(ee=>ee.permissionKey));return ae.forEach(ee=>{Object.keys(ee.permissions).forEach(me=>{me===Os||Q.has(me)||me in D||(D[me]=me,te=!0)})}),te?D:P}),k(null)}catch(ae){console.error("Failed to load roles:",ae),k("Impossible de charger les rôles.")}finally{x(!1)}},[]),H=_.useCallback(()=>{g("create"),f(VN(l))},[l]);_.useEffect(()=>{e&&(N(null),k(null),H(),z())},[e,z,H]),_.useEffect(()=>{f(ae=>{const P=ae.homePage;if(gs(ae.permissions[P]))return ae;const D=ps(ae.permissions);return D===P?ae:{...ae,homePage:D}})},[d.permissions]),_.useEffect(()=>{f(ae=>{const P=ae.customPermissions,D=l,te=Object.keys(P),Q=Object.keys(D);if(te.length===Q.length&&te.every(pe=>D[pe]===P[pe]))return ae;const ee=ms(ae.permissions,ae.name,D),me=gs(ee[ae.homePage])?ae.homePage:ps(ee);return{...ae,customPermissions:{...D},permissions:ee,homePage:me}})},[l]);const q=_.useCallback(ae=>{const P=Vn.find(D=>D.permissionKey===ae);return P?P.name:l[ae]??ae},[l]);return{roles:i,formState:d,mode:p,isFetching:v,isSubmitting:w,deletingRoleId:j,statusMessage:A,errorMessage:T,permissionKeys:M,hasAccessibleHomePage:R,handleInputChange:ae=>{const{name:P,value:D}=ae.target;f(te=>({...te,[P]:D}))},handlePermissionChange:(ae,P)=>{f(D=>({...D,permissions:{...D.permissions,[ae]:P}}))},handleHomePageChange:ae=>{f(P=>({...P,homePage:ae}))},handleSelectRole:ae=>{const P=new Set(Vn.map(ee=>ee.permissionKey)),D={...l};let te=!1;Object.keys(ae.permissions).forEach(ee=>{ee===Os||P.has(ee)||ee in D||(D[ee]=ee,te=!0)}),te&&u(D);const Q=ms(ae.permissions,ae.name,te?D:l);g("edit"),f({id:ae.id,name:ae.name,pin:ae.pin??"",permissions:Q,homePage:ae.homePage??ps(Q),customPermissions:{...te?D:l}}),N(null),k(null)},handleDeleteRole:async ae=>{if(confirm("Supprimer ce rôle ? Cette action est irréversible.")){E(ae),N(null),k(null);try{await xe.deleteRole(ae),N("Rôle supprimé avec succès."),p==="edit"&&d.id===ae&&H(),await z(),(r==null?void 0:r.id)===ae&&await n()}catch(P){console.error("Failed to delete role:",P),k("Impossible de supprimer le rôle.")}finally{E(null)}}},handleSubmit:async ae=>{if(ae.preventDefault(),k(null),N(null),!d.name.trim()||!d.pin.trim()){k("Le nom et le code PIN sont obligatoires.");return}S(!0);try{const P=ms(d.permissions,d.name,l),D=gs(P[d.homePage])?d.homePage:ps(P);if(p==="create")await xe.createRole({name:d.name.trim(),pin:d.pin.trim(),permissions:P,homePage:D}),N("Rôle créé avec succès."),await z(),await n(),H();else if(d.id){const te=await xe.updateRole(d.id,{name:d.name.trim(),pin:d.pin.trim(),permissions:P,homePage:D});N("Rôle mis à jour avec succès.");const Q=ms(te.permissions,te.name,l);f({id:te.id,name:te.name,pin:te.pin??"",permissions:Q,homePage:te.homePage??ps(Q),customPermissions:{...l}}),await z(),(r==null?void 0:r.id)===te.id&&await n()}}catch(P){console.error("Failed to save role:",P),k("Impossible d'enregistrer le rôle.")}finally{S(!1)}},handleClose:()=>{H(),N(null),k(null),t()},resetForm:H,getPermissionLabel:q,isPermissionGranted:gs,handleAddCustomPermission:(ae,P)=>{Vn.some(D=>D.permissionKey===ae)||u(D=>{if(D[ae]===P)return D;const te={...D,[ae]:P};return f(Q=>{const ee=ms(Q.permissions,Q.name,te);return ae in ee||(ee[ae]="none"),{...Q,customPermissions:{...te},permissions:ee}}),te})},handleRemoveCustomPermission:ae=>{Vn.some(P=>P.permissionKey===ae)||u(P=>{if(!(ae in P))return P;const D={...P};return delete D[ae],f(te=>{const{[ae]:Q,...ee}=te.customPermissions,me={...te.permissions};delete me[ae];const pe=ms(me,te.name,D),$e=gs(pe[te.homePage])?te.homePage:ps(pe);return{...te,customPermissions:{...ee},permissions:pe,homePage:$e}}),D})}}},Iee=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:o,isSubmitting:l,deletingRoleId:u,statusMessage:d,errorMessage:f,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:v,handlePermissionChange:x,handleHomePageChange:w,handleSelectRole:S,handleDeleteRole:j,handleSubmit:E,handleClose:A,resetForm:N,getPermissionLabel:T,isPermissionGranted:k,handleAddCustomPermission:M,handleRemoveCustomPermission:R}=Dee({isOpen:e,onClose:t});return m.jsx(Cn,{isOpen:e,onClose:A,title:"Gestion des rôles",size:"xl",children:m.jsxs("div",{className:"flex flex-col gap-6",children:[d&&m.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:d}),f&&m.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:f}),m.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[m.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:m.jsx(Pee,{roles:n,isFetching:o,onCreateRole:N,onSelectRole:S,onDeleteRole:j,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:u,getPermissionLabel:T})}),m.jsx("div",{className:"flex-1",children:m.jsx(kee,{mode:i,formState:r,onSubmit:E,onInputChange:v,onHomePageChange:w,onPermissionChange:x,onAddCustomPermission:M,onRemoveCustomPermission:R,onCancel:N,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:T,isPermissionGranted:k})})]})]})})},ff=({title:e,value:t,icon:n})=>m.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[m.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),m.jsxs("div",{className:"w-full space-y-2",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),m.jsx("div",{className:"w-full flex justify-center",children:m.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),hf=({title:e,value:t,icon:n,onClick:r})=>m.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[m.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs text-gray-500",children:e}),m.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),xR={week:{label:"Últimos 7 días",days:7},month:{label:"Últimos 30 días",days:30}},Lee=e=>{const{days:t}=xR[e],n=new Date(Uc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},zee=()=>{const[e,t]=_.useState(null),[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState("category"),[d,f]=_.useState(!1),[p,g]=_.useState(!1),[v,x]=_.useState("week");if(_.useEffect(()=>{(async()=>{const{start:A,end:N}=Lee(v),T=A.toISOString(),k=N.toISOString();o(!0);try{const[M,R]=await Promise.all([xe.getDashboardStats(v),xe.getSalesByProduct({start:T,end:k})]);t(M),r(R)}catch(M){console.error("Failed to fetch dashboard stats",M)}finally{o(!1)}})()},[v]),i)return m.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return m.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const w=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],S=l==="category"?e.ventesParCategorie:n,j=S.length>0;return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[m.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries(xR).map(([E,A])=>{const N=E,T=v===N;return m.jsx("button",{onClick:()=>x(N),className:`px-3 py-1.5 rounded-md transition-colors ${T?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:A.label},N)})}),m.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[m.jsx(Lz,{className:"mr-2 h-4 w-4"}),"Gestión de roles"]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(ff,{title:`Ventas (${e.periodLabel})`,value:Me(e.ventesPeriode),icon:m.jsx(Gc,{size:28})}),m.jsx(ff,{title:`Beneficio (${e.periodLabel})`,value:Me(e.beneficePeriode),icon:m.jsx(Gc,{size:28})}),m.jsx(ff,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:m.jsx(Ty,{size:28})}),m.jsx(ff,{title:"Ticket promedio",value:Me(e.panierMoyen),icon:m.jsx(_5,{size:28})})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsx(hf,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:m.jsx(K0,{size:24})}),m.jsx(hf,{title:"Clientes actuales",value:e.clientsActuels,icon:m.jsx(Ty,{size:24})}),m.jsx(hf,{title:"En cocina",value:e.commandesEnCuisine,icon:m.jsx(lC,{size:24})}),m.jsx(hf,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:m.jsx(Tf,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>f(!0)})]}),m.jsxs("div",{className:"ui-card p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),m.jsx(rN,{width:"100%",height:300,children:m.jsxs(bee,{data:e.ventesPeriodeSeries,children:[m.jsx(rR,{strokeDasharray:"3 3"}),m.jsx(aR,{dataKey:"name"}),m.jsx(iR,{}),m.jsx(Q2,{}),m.jsx(Qc,{}),m.jsx(S0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),m.jsx(S0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),m.jsxs("div",{className:"ui-card p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribución de ventas (",e.periodLabel,")"]}),m.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[m.jsx("button",{onClick:()=>u("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categoría"}),m.jsx("button",{onClick:()=>u("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),j?m.jsx(rN,{width:"100%",height:300,children:m.jsxs(Cee,{children:[m.jsx(KM,{data:S,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:S.map((E,A)=>m.jsx(Au,{fill:w[A%w.length]},`cell-${A}`))}),m.jsx(Q2,{formatter:E=>Me(E)}),m.jsx(Qc,{})]})}):m.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),m.jsx(Cn,{isOpen:d,onClose:()=>f(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?m.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(E=>m.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[m.jsx("span",{className:"font-semibold text-red-800",children:E.nom}),m.jsxs("span",{className:"font-bold text-red-600",children:[E.stock_actuel," / ",E.stock_minimum," ",E.unite]})]},E.id))}):m.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),m.jsx(Iee,{isOpen:p,onClose:()=>g(!1)})]})},$ee=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},Wx=({startTime:e,className:t=""})=>{const[n,r]=_.useState(Date.now()-e);_.useEffect(()=>{const u=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(u)},[e]);const i=Math.floor(n/6e4),o=$ee(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return m.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[m.jsx(cu,{size:20}),m.jsx("span",{children:o})]})},WN={nom:"",capacite:"",couverts:""},Uee=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:o=!1})=>{const[l,u]=_.useState(WN),[d,f]=_.useState({}),[p,g]=_.useState(null),[v,x]=_.useState(!1),w=_.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);_.useEffect(()=>{if(!e){u(WN),f({}),g(null),x(!1);return}const A={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:o&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};u(A),f({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,o]);const S=A=>{const{name:N,value:T}=A.target;u(k=>({...k,[N]:T}))},j=()=>{const A={},N=l.nom.trim(),T=l.capacite.trim();N||(A.nom="Le nom est requis.");let k=null;if(!T)A.capacite="La capacité est requise.";else{const M=Number(T);!Number.isInteger(M)||M<=0?A.capacite="La capacité doit être un entier positif.":k=M}if(o){const M=l.couverts.trim();if(!M)A.couverts="Le nombre de couverts est requis.";else{const R=Number(M);!Number.isInteger(R)||R<=0?A.couverts="Les couverts doivent être un entier positif.":k!==null&&R>k&&(A.couverts="Les couverts ne peuvent pas dépasser la capacité.")}}return A},E=async A=>{A.preventDefault(),f({}),g(null);const N=j();if(Object.keys(N).length>0){f(N);return}const T={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(o){const k=l.couverts.trim();k&&(T.couverts=Number(k))}x(!0);try{await i(T)}catch(k){const M=k instanceof Error&&k.message?k.message:"Une erreur est survenue. Veuillez réessayer.";g(M)}finally{x(!1)}};return m.jsx(Cn,{isOpen:e,onClose:t,title:w,size:"md",children:m.jsxs("form",{onSubmit:E,className:"space-y-5",children:[p&&m.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),m.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:S,disabled:v,placeholder:"Ex. Terrasse 1",autoFocus:!0}),d.nom&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.nom})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacité (nombre de places)"}),m.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:S,disabled:v,placeholder:"Ex. 4"}),d.capacite&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.capacite})]}),o&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),m.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:S,disabled:v,placeholder:"Ex. 2"}),d.couverts&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.couverts})]}),m.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:v,children:"Annuler"}),m.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:v,children:v?"Enregistrement...":"Enregistrer"})]})]})})},_i={libre:{text:"Libre",statusClass:"status--free",Icon:K0},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:Zz},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:J5},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:Gc}},qee=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let o=0;for(;o<i.length&&i[o].toLowerCase()===r.toLowerCase();)o+=1;return[r,...i.slice(o)].join(" ")},Bee=e=>{switch(e.statut){case"libre":return _i.libre;case"en_cuisine":return _i.en_cuisine;case"para_entregar":return _i.para_entregar;case"para_pagar":return _i.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?_i.para_pagar:e.estado_cocina==="listo"?_i.para_entregar:e.commandeId?_i.en_cuisine:_i.libre}},Hee=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:o})=>{const l=Ha(),{text:u,statusClass:d,Icon:f}=Bee(e),[p,g]=_.useState(!1),v=_.useRef(null),x=()=>{l(`/commande/${e.id}`)},w=T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),x())},S=T=>{T.stopPropagation(),e.commandeId&&t(e.commandeId)},j=T=>{T.stopPropagation(),g(k=>!k)};_.useEffect(()=>{if(!p)return;const T=k=>{v.current&&!v.current.contains(k.target)&&g(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[p]);const E=T=>{T.stopPropagation(),g(!1),r==null||r(e)},A=async T=>{if(T.stopPropagation(),g(!1),!!i)try{await i(e)}catch(k){console.error("Failed to delete table from card:",k)}},N=qee(e.nom);return m.jsxs("div",{onClick:x,onKeyDown:w,className:`ui-card status-card ${d} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&m.jsx("div",{className:"absolute left-3 top-3 z-10",children:m.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&m.jsxs("div",{className:"absolute right-3 top-3",ref:v,children:[m.jsx("button",{type:"button",onClick:j,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:o,children:m.jsx(eC,{size:18})}),p&&m.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[m.jsxs("button",{type:"button",onClick:E,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[m.jsx(_z,{size:16}),"Modifier"]}),m.jsxs("button",{type:"button",onClick:A,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:o,children:[m.jsx(Ls,{size:16}),o?"Suppression…":"Supprimer"]})]})]}),m.jsxs("div",{className:"status-card__header",children:[m.jsx("h3",{className:"status-card__title",children:N}),e.date_envoi_cuisine&&e.statut!=="libre"&&m.jsx("div",{className:"status-card__timer",children:m.jsx(Wx,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),m.jsxs("div",{className:"status-card__body",children:[m.jsx(f,{size:56,className:"status-card__icon"}),m.jsx("p",{className:"status-card__state",children:u})]}),m.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?m.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):m.jsxs("p",{className:"status-card__meta",children:["Capacité : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&m.jsx("button",{type:"button",onClick:S,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},Fee=()=>{var U;const{role:e}=ca(),t=((U=e==null?void 0:e.permissions)==null?void 0:U["/ventes"])==="editor",[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState(null),[d,f]=_.useState(null),[p,g]=_.useState(null),[v,x]=_.useState(!1),[w,S]=_.useState("create"),[j,E]=_.useState(null),[A,N]=_.useState(null),T=_.useRef(0),k=_.useCallback(async()=>{const Z=++T.current;try{const L=await xe.getTables();Z===T.current&&(r(L),u(null))}catch(L){console.error("Failed to fetch tables",L),Z===T.current&&u("Impossible de charger le plan de salle. Veuillez réessayer.")}finally{Z===T.current&&o(!1)}},[]);_.useEffect(()=>{o(!0),k();const Z=setInterval(k,1e4),L=xe.notifications.subscribe("orders_updated",k);return()=>{clearInterval(Z),L()}},[k]);const M=_.useCallback(()=>{x(!1),E(null)},[]),R=_.useCallback(()=>{S("create"),E(null),f(null),g(null),x(!0)},[]),z=_.useCallback(Z=>{S("edit"),E(Z),f(null),g(null),x(!0)},[]),H=_.useCallback(async Z=>{f(null),g(null);try{let L="";if(w==="create")await xe.createTable(Z),L="Table créée avec succès.";else{if(!j){const V="Aucune table sélectionnée pour la mise à jour.";throw f(V),new Error(V)}await xe.updateTable(j.id,Z),L="Table mise à jour avec succès."}await k(),M(),g(L)}catch(L){console.error("Failed to save table:",L);const V=w==="create"?"Impossible de créer la table. Veuillez réessayer.":"Impossible de mettre à jour la table. Veuillez réessayer.";throw f(V),new Error(V)}},[k,M,w,j]),q=_.useCallback(async Z=>{if(confirm("Supprimer cette table ? Cette action est irréversible.")){f(null),g(null),N(Z.id);try{await xe.deleteTable(Z.id),await k(),g("Table supprimée avec succès.")}catch(L){console.error("Failed to delete table:",L),f("Impossible de supprimer la table. Veuillez réessayer.")}finally{N(null)}}},[k]),F=_.useCallback(async Z=>{f(null),g(null);const L=n.find(V=>V.commandeId===Z);if(L){r(V=>V.map(oe=>oe.id===L.id?{...oe,statut:"para_pagar",estado_cocina:"servido"}:oe));try{await xe.markOrderAsServed(Z),await k()}catch(V){console.error("Failed to mark order as served:",V),f("Impossible de marquer la commande comme servie. Veuillez réessayer."),await k()}}},[k,n]);if(i)return m.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const K=w==="edit"&&j?{nom:j.nom,capacite:j.capacite,couverts:j.couverts}:void 0,ie=w==="edit"&&!!(j!=null&&j.commandeId);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[t&&m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{type:"button",onClick:R,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[m.jsx(uu,{size:18}),"Ajouter une table"]})}),l&&m.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),d&&m.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:d}),p&&m.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),m.jsx("div",{className:"mt-6 status-grid",children:n.map(Z=>m.jsx(Hee,{table:Z,onServe:F,canEdit:!!t,onEdit:z,onDelete:q,isDeleting:A===Z.id},Z.id))}),m.jsx(Uee,{isOpen:v,onClose:M,mode:w,initialValues:K,onSubmit:H,showCouvertsField:ie})]})},Kee=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,o]=_.useState("efectivo"),[l,u]=_.useState(null),[d,f]=_.useState(!1),p=async g=>{g.preventDefault(),i&&(f(!0),await r(i,l),f(!1),t())};return m.jsx(Cn,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),m.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:Me(n.total)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{value:i,onChange:g=>o(g.target.value),className:"mt-1 ui-select",children:[m.jsx("option",{value:"efectivo",children:"Efectivo"}),m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),m.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[m.jsx(uC,{size:18}),m.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),m.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>u(g.target.files?g.target.files[0]:null),className:"hidden"})]}),m.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:d?"Finalizando...":"Confirmar pago"})]})]})})},Gee=e=>e??"",Yee=e=>!e||e.length===0?[]:e.slice().sort(),_f=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:Gee(n.commentaire),excludedIngredients:Yee(n.excluded_ingredients)});return{size:e.length,itemsById:t}},XN=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let o=0;o<r.excludedIngredients.length;o+=1)if(r.excludedIngredients[o]!==i.excludedIngredients[o])return!1}return!0},Vee=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:o,isProductAvailable:l,handleProductPointerDown:u,handleProductKeyDown:d})=>m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"p-4 border-b",children:m.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(f=>m.jsx("button",{onClick:()=>o(f.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===f.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:f.nom},f.id))]})}),m.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(f=>{const p=!l(f),g=t[f.id]||0,v=()=>n(f),x=u(f),w=d(f);return m.jsxs("button",{type:"button",onClick:v,onPointerDown:x,onKeyDown:w,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&m.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&m.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:m.jsx(Tf,{size:16})}),m.jsx("img",{src:f.image,alt:f.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),m.jsx("p",{className:"font-semibold text-sm text-gray-800",children:f.nom_produit}),m.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:f.description}),m.jsx("p",{className:"font-bold text-brand-primary mt-1",children:Me(f.prix_vente)})]},f.id)})})]}),Wee=_.memo(Vee),Xee=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:o,onSendToKitchen:l,onServeOrder:u,onOpenPayment:d,isSending:f,hasPending:p,orderStatus:g,editingCommentId:v})=>{const x=e.pending.length+e.sent.length;return m.jsxs("div",{className:"ui-card flex flex-col",children:[m.jsx("div",{className:"p-4 border-b",children:m.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),m.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:x===0?m.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles à envoyer"}),m.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?m.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:w,index:S})=>m.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:w.quantite}),m.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),m.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Me(w.quantite*w.prix_unitaire)})]}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsxs("p",{className:"text-sm text-gray-700",children:[Me(w.prix_unitaire)," /u"]}),m.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[m.jsx("button",{onClick:()=>n(S,-1),className:"p-1",children:m.jsx(k5,{size:20})}),m.jsx("span",{className:"font-bold w-6 text-center",children:w.quantite}),m.jsx("button",{onClick:()=>n(S,1),className:"p-1",children:m.jsx(G0,{size:20})})]})]}),v===w.id||w.commentaire?m.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:w.commentaire??"",onChange:j=>r(S,j.target.value),onBlur:()=>i(S),autoFocus:v===w.id,className:"mt-2 ui-input text-sm"}):m.jsxs("button",{onClick:()=>o(w.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[m.jsx(rC,{size:12})," Ajouter un commentaire"]})]},w.id))]}),e.sent.length>0&&m.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoyés en cuisine"}),m.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:w})=>m.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[m.jsxs("div",{className:"flex justify-between items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:w.quantite}),m.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),m.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Me(w.quantite*w.prix_unitaire)})]}),m.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[Me(w.prix_unitaire)," /u"]}),w.commentaire&&m.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',w.commentaire,'"']})]},w.id))]})]})}),m.jsxs("div",{className:"p-4 border-t space-y-4",children:[m.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{children:Me(t)})]}),g==="listo"&&m.jsxs("button",{onClick:u,className:"w-full ui-btn-info justify-center py-3",children:[m.jsx(S5,{size:20}),m.jsx("span",{children:"Entregada"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs("button",{onClick:l,disabled:f||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[m.jsx(Mz,{size:20}),m.jsx("span",{children:f?"Synchronisation…":"Envoyer en Cuisine"})]}),m.jsxs("button",{onClick:d,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[m.jsx(Gc,{size:20}),m.jsx("span",{children:"Finaliser"})]})]})]})]})},Qee=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,o]=_.useState(1),[l,u]=_.useState("");if(_.useEffect(()=>{e&&(o(1),u(""))},[e,t==null?void 0:t.id]),!t)return null;const d=()=>{o(g=>Math.max(1,g-1))},f=()=>{o(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return m.jsx(Cn,{isOpen:e,onClose:n,title:t.nom_produit,children:m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&m.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),m.jsx("textarea",{value:l,onChange:g=>u(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spécifiques…"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{type:"button",onClick:d,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantité",children:m.jsx(aC,{size:18})}),m.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),m.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantité",children:m.jsx(uu,{size:18})})]}),m.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",Me(t.prix_vente*i),")"]})]})]})})},fy=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),ta=e=>JSON.parse(JSON.stringify(e)),QN=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),JN=e=>(e??"").trim(),Jee=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>i===r[o])},Zee=(e,t,n,r,i=[])=>{const o=JN(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,u=e.findIndex(f=>f.produitRef===t.id&&f.estado==="en_attente"&&JN(f.commentaire)===o&&Jee(f.excluded_ingredients??[],i));if(u>-1)return e.map((f,p)=>p===u?{...f,quantite:f.quantite+l}:f);const d={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:o,estado:"en_attente"};return[...e,d]},ZN=_f([]),ete=()=>{const{tableId:e}=k4(),t=Ha(),[n,r]=_.useState(null),[i,o]=_.useState(null),[l,u]=_.useState([]),[d,f]=_.useState([]),[p,g]=_.useState([]),[v,x]=_.useState("all"),[w,S]=_.useState(!0),[j,E]=_.useState(!1),[A,N]=_.useState(!1),[T,k]=_.useState(null),[M,R]=_.useState(!1),[z,H]=_.useState(null),q=_.useRef(n),F=_.useRef(i),K=_.useRef(null),ie=_.useRef(null),U=_.useRef(null),Z=_.useRef(Promise.resolve()),L=_.useRef(null),V=_.useRef(null),oe=_.useCallback((ue,he,Ee)=>{if(!he||he.length===0)return ue.current=null,ZN;const rt=Ee??_f(he);return ue.current={source:he,snapshot:rt},rt},[]),fe=_.useCallback((ue,he)=>{if(!ue||ue.length===0)return he.current=null,ZN;const Ee=he.current;return Ee&&Ee.source===ue?Ee.snapshot:oe(he,ue)},[oe]);_.useEffect(()=>{q.current=n},[n]),_.useEffect(()=>{F.current=i},[i]);const ae=_.useCallback(ue=>{const he=q.current;if(!he)return!0;const Ee=ue??F.current;if(!Ee)return!0;const rt=fe(he.items,L),Xe=ue?_f(Ee.items):fe(Ee.items,V);return XN(Xe,rt)},[fe]),P=_.useCallback(()=>{const ue=ie.current;if(!ue)return;const he=_f(ue.items);K.current=ta(ue);const Ee=q.current;if(Ee){const Xe=fe(Ee.items,L);if(XN(Xe,he)){ie.current=null;return}}ie.current=null,q.current=ue,r(ue),oe(L,ue.items,he);const rt=ta(ue);F.current=rt,o(rt),oe(V,rt.items)},[fe,oe]),D=_.useCallback(async(ue=!1)=>{if(e)try{if(ue||S(!0),ue){const Re=await xe.createOrGetOrderByTableId(e),tt=ta(Re);if(K.current=tt,ae()){ie.current=null,r(Re),q.current=Re,oe(L,Re.items);const Pt=ta(Re);F.current=Pt,o(Pt),oe(V,Pt.items)}else{const Pt=F.current;Pt&&JSON.stringify(Pt)===JSON.stringify(Re)?ie.current=null:ie.current=tt}return}const[he,Ee,rt,Xe]=await Promise.all([xe.createOrGetOrderByTableId(e),xe.getProducts(),xe.getCategories(),xe.getIngredients()]);K.current=ta(he),r(he),q.current=he,oe(L,he.items);const kt=ta(he);o(kt),F.current=kt,oe(V,kt.items),u(Ee),f(rt),g(Xe),ie.current=null}catch(he){console.error("Failed to load order data",he),t("/ventes")}finally{ue||S(!1)}},[ae,t,e,oe]);_.useEffect(()=>{D()},[D]),_.useEffect(()=>{ae()&&P()},[P,ae,n,i]),_.useEffect(()=>{const ue=xe.notifications.subscribe("orders_updated",()=>D(!0));return()=>ue()},[D]);const te=_.useMemo(()=>!ae(),[ae,n,i]),Q=_.useMemo(()=>n?n.items.reduce((ue,he)=>(he.estado!=="en_attente"||(ue[he.produitRef]=(ue[he.produitRef]||0)+he.quantite),ue),{}):{},[n]),ee=_.useMemo(()=>v==="all"?l:l.filter(ue=>ue.categoria_id===v),[v,l]),me=_.useCallback(ue=>{if(!ue.recipe||ue.recipe.length===0)return!0;for(const he of ue.recipe){const Ee=p.find(rt=>rt.id===he.ingredient_id);if(!Ee||Ee.stock_actuel<=Ee.stock_minimum)return!1}return!0},[p]);_.useEffect(()=>()=>{U.current!==null&&(window.clearTimeout(U.current),U.current=null)},[]);const pe=_.useCallback(async(ue,he)=>{const Ee=q.current;if(!Ee)return;const rt=Pt=>typeof ue=="function"?ue(Pt):ue,kt=(he!=null&&he.isLocalUpdate?Ee.items:(he==null?void 0:he.removalSourceItems)??Ee.items).map(Pt=>({...Pt})),Re=rt(kt),tt={...Ee,items:Re,total:Re.reduce((Pt,Ne)=>Pt+Ne.quantite*Ne.prix_unitaire,0)};if(r(tt),q.current=tt,oe(L,tt.items),he!=null&&he.isLocalUpdate)return;const vt=async()=>{try{let Pt=ie.current??K.current??null;if(!Pt){const Ht=await xe.getOrderById(Ee.id);Ht?(Pt=Ht,K.current=ta(Ht)):Pt=Ee}if(!Pt)return;const Ne=q.current.items.map(Ht=>({...Ht})),Lt=((he==null?void 0:he.removalSourceItems)??Ee.items).filter(Ht=>fy(Ht.id)&&!Ne.some(Fs=>Fs.id===Ht.id)).map(Ht=>Ht.id),on=await xe.updateOrder(Ee.id,{items:Ne,removedItemIds:Lt},{includeNotifications:!1});r(on),q.current=on,oe(L,on.items);const Ir=ta(on);o(Ir),F.current=Ir,oe(V,Ir.items),K.current=ta(on),xe.getIngredients().then(g).catch(Ht=>{console.error("Failed to refresh ingredients",Ht)}),P()}catch(Pt){console.error("Failed to update order:",Pt),alert("Une erreur est survenue lors de la mise à jour de la commande."),D(!0)}};Z.current=Z.current.then(vt,vt),await Z.current},[P,D,oe]),$e=_.useCallback((ue=300)=>{U.current!==null&&window.clearTimeout(U.current);const he=ue>0?ue:1;U.current=window.setTimeout(async()=>{if(U.current=null,!q.current)return;const Ee=q.current.items.map(Xe=>({...Xe})),rt=K.current?K.current.items.map(Xe=>({...Xe})):Ee.map(Xe=>({...Xe}));await pe(Ee,{removalSourceItems:rt})},he)},[pe]),ne=_.useCallback(ue=>{q.current&&(pe(ue,{isLocalUpdate:!0}),$e())},[$e,pe]),Se=_.useCallback(ue=>{H(ue)},[]),Te=_.useCallback(()=>{H(null)},[]),ce=_.useCallback(ue=>{z&&(ne(he=>Zee(he,z,ue,QN)),H(null))},[ne,z]),At=_.useCallback((ue,he)=>{const Ee=q.current;if(!Ee||!Ee.items[ue])return;const rt=Ee.items[ue].id;ne(Xe=>{const kt=Xe.findIndex(tt=>tt.id===rt);if(kt===-1)return Xe;const Re=Xe[kt].quantite+he;return Re<=0?Xe.filter(tt=>tt.id!==rt):Xe.map(tt=>tt.id===rt?{...tt,quantite:Re}:tt)})},[ne]),Le=_.useCallback((ue,he)=>{const Ee=q.current;if(!Ee||!Ee.items[ue])return;const rt=Ee.items[ue].id;pe(Xe=>{const kt=Xe.findIndex(vt=>vt.id===rt);if(kt===-1)return Xe;const Re=Xe.map(vt=>({...vt})),tt=Re[kt];if(tt.quantite>1&&!tt.commentaire&&he){tt.quantite-=1;const vt={...tt,id:QN(),quantite:1,commentaire:he};Re.push(vt),k(vt.id)}else tt.commentaire=he;return Re},{isLocalUpdate:!0})},[pe]),Ct=_.useCallback(ue=>{q.current&&(pe(q.current.items.map(he=>({...he}))),k(null))},[pe]),Tt=_.useCallback(async()=>{if(q.current){R(!0);try{let ue=q.current;for(;ue&&ue.items.some(Re=>Re.estado==="en_attente"&&!fy(Re.id));)await pe(ue.items.map(Re=>({...Re}))),ue=q.current;if(ue=q.current,!ue)return;const he=ue.items.filter(Re=>Re.estado==="en_attente");if(he.length===0)return;if(he.filter(Re=>!fy(Re.id)).length>0){console.warn("Des articles non persistés subsistent après synchronisation, envoi annulé.");return}const rt=he.map(Re=>Re.id),Xe=await xe.sendOrderToKitchen(ue.id,rt);r(Xe),q.current=Xe,oe(L,Xe.items);const kt=ta(Xe);o(kt),F.current=kt,oe(V,kt.items),t("/ventes")}catch(ue){console.error("Failed to send order to kitchen",ue),alert("Erreur lors de l'envoi en cuisine.")}finally{R(!1)}}},[t,pe,oe]),Bt=_.useCallback(async()=>{if(n)try{const ue=await xe.markOrderAsServed(n.id);r(ue),q.current=ue,oe(L,ue.items)}catch(ue){console.error("Failed to mark order as served",ue)}},[n,oe]),Qn=async(ue,he)=>{if(n)try{let Ee=n.payment_receipt_url??void 0;he&&(Ee=await KA(he,{orderId:n.id})),await xe.finalizeOrder(n.id,ue,Ee),t("/ventes")}catch(Ee){console.error("Failed to finalize order",Ee),alert("Erreur lors de la finalisation ou du téléversement du justificatif.")}},ge=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){N(!0);return}te?N(!0):t("/ventes")},Ge=async()=>{try{n&&n.estado_cocina==="no_enviado"?await xe.cancelUnsentTableOrder(n.id):i&&!ae(i)&&await pe(i.items)}catch(ue){console.error("Failed to cancel unsent order before exiting",ue)}finally{N(!1),t("/ventes")}},We=(n==null?void 0:n.items)??[],ht=_.useMemo(()=>We.reduce((ue,he,Ee)=>(he.estado==="en_attente"?ue.pending.push({item:he,index:Ee}):ue.sent.push({item:he,index:Ee}),ue),{pending:[],sent:[]}),[We]),mt=_.useCallback(ue=>he=>{he.preventDefault(),he.currentTarget.focus()},[]),Ye=_.useCallback(ue=>he=>{(he.key==="Enter"||he.key===" ")&&(he.preventDefault(),Se(ue))},[Se]),Tn=_.useCallback(()=>{E(!0)},[]),kn=_.useCallback(ue=>{k(ue)},[]),Ln=_.useMemo(()=>ht.pending.length>0,[ht]);return w?m.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[m.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[m.jsx("div",{className:"p-4",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("button",{onClick:ge,className:"ui-btn-dark",title:"Retour au plan de salle",children:[m.jsx(XA,{size:20}),m.jsx("span",{children:"Retour plan de salle"})]}),m.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),m.jsx(Wee,{filteredProducts:ee,quantities:Q,onAdd:Se,activeCategoryId:v,categories:d,onSelectCategory:x,isProductAvailable:me,handleProductPointerDown:mt,handleProductKeyDown:Ye})]}),m.jsx(Xee,{categorizedItems:ht,total:n.total,onQuantityChange:At,onCommentChange:Le,onPersistComment:Ct,onStartEditingComment:kn,onSendToKitchen:Tt,onServeOrder:Bt,onOpenPayment:Tn,isSending:M,hasPending:Ln,orderStatus:n.estado_cocina,editingCommentId:T})]}),m.jsx(Qee,{isOpen:z!==null,product:z,onClose:Te,onSave:ce}),m.jsx(Kee,{isOpen:j,onClose:()=>E(!1),order:n,onFinalize:Qn}),m.jsxs(Cn,{isOpen:A,onClose:()=>N(!1),title:"Quitter sans envoyer ?",children:[m.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoyés en cuisine. Si vous quittez, ils seront annulés. Voulez-vous continuer ?"}),m.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[m.jsx("button",{onClick:()=>N(!1),className:"ui-btn-secondary",children:"Non, rester"}),m.jsx("button",{onClick:Ge,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):m.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouvée."})},tte={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},nte=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},_R=e=>{const t=nte(e),n=tte[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},rte=({order:e,onReady:t,canMarkReady:n})=>{const r=_R(e.date_envoi_cuisine||Date.now()),i=_.useMemo(()=>{const u=[],d=new Map;return e.items.forEach(f=>{var w;const p=(w=f.commentaire)==null?void 0:w.trim(),g=p||"no_comment",v=`${f.produitRef}::${g}`;if(p){u.push({key:`${v}::${f.id}`,nom_produit:f.nom_produit,quantite:f.quantite,commentaire:p});return}const x=d.get(v);if(x!==void 0){u[x].quantite+=f.quantite;return}d.set(v,u.length),u.push({key:v,nom_produit:f.nom_produit,quantite:f.quantite})}),u},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return m.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[m.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:m.jsxs("div",{className:"flex w-full flex-col gap-4",children:[m.jsx("h3",{className:"w-full text-center text-3xl font-semibold text-gray-900 sm:text-left sm:text-4xl",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),m.jsx(Wx,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:m.jsx("ul",{className:"space-y-3",children:i.map(u=>m.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${r.accent}`,children:u.quantite}),m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.nom_produit})]}),u.commentaire&&m.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:u.commentaire})]},u.key))})}),m.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:m.jsxs("div",{className:"flex w-full flex-col gap-3",children:[m.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&m.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[m.jsx(QA,{size:22,className:"shrink-0"}),m.jsx("span",{children:"LISTO"})]})]})})]})},ate=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),{role:i}=ca(),o=(i==null?void 0:i.permissions["/cocina"])==="editor",l=_.useCallback(async()=>{try{const d=await xe.getKitchenOrders();t(d)}catch(d){console.error("Failed to fetch kitchen orders",d)}finally{r(!1)}},[]);_.useEffect(()=>{l();const d=setInterval(l,5e3),f=xe.notifications.subscribe("orders_updated",l);return()=>{clearInterval(d),f()}},[l]);const u=async(d,f)=>{try{await xe.markOrderAsReady(d,f),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?m.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):m.jsx("div",{className:"flex h-full flex-col",children:e.length===0?m.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparación."}):m.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(d=>m.jsx(rte,{order:d,onReady:u,canMarkReady:o},d.ticketKey))})})},eA=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,o]=_.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,u=e.date_envoi_cuisine||e.date_creation,d=_R(u),f={normal:"Normal",warning:"En seguimiento",critical:"Crítico"};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${d.border} ${d.background}`,children:[m.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${d.accent}`}),m.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(u).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),m.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${d.badge}`,children:[m.jsx("span",{className:`h-2 w-2 rounded-full ${d.accent}`}),m.jsx("span",{children:f[d.level]})]})]}),m.jsx(Wx,{startTime:u,className:"text-sm sm:text-base"})]})}),m.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&m.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[m.jsx(W0,{size:16,className:d.icon}),m.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&m.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[m.jsx(iC,{size:14,className:"text-gray-500"}),m.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&m.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[m.jsx(Y0,{size:16,className:`mt-0.5 text-gray-500 ${d.icon}`}),m.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artículos"}),e.items.length>0?m.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var v;const g=(v=p.commentaire)==null?void 0:v.trim();return m.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[m.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${d.accent}`,children:p.quantite}),m.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),m.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:Me(p.prix_unitaire*p.quantite)})]}),g&&m.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):m.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido aún no tiene artículos registrados."})]}),m.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[m.jsx("span",{children:"Total"}),m.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:Me(e.total)})]})]}),m.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>o(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[m.jsx(Cy,{size:16,className:d.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),m.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&m.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),m.jsx(Cn,{isOpen:i,onClose:()=>o(!1),title:"Comprobante de pago",children:e.receipt_url?m.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):m.jsx("p",{children:"No se proporcionó comprobante."})})]})},ite=()=>{const[e,t]=_.useState([]),[n,r]=_.useState([]),[i,o]=_.useState(!0),[l,u]=_.useState(null),d=_.useCallback(async()=>{try{const{pending:g,ready:v}=await xe.getTakeawayOrders();t(g.sort((x,w)=>x.date_creation-w.date_creation)),r(v.sort((x,w)=>(x.date_listo_cuisine||0)-(w.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{o(!1)}},[]);_.useEffect(()=>{o(!0),d();const g=setInterval(d,1e4),v=xe.notifications.subscribe("orders_updated",d);return()=>{clearInterval(g),v()}},[d]);const f=async g=>{if(!l){u(g);try{await xe.validateTakeawayOrder(g),await d()}catch(v){console.error("Failed to validate order:",v),alert(`No se pudo validar el pedido: ${v.message}`)}finally{u(null)}}},p=async g=>{if(!l){u(g);try{await xe.markTakeawayAsDelivered(g),await d()}catch(v){console.error("Failed to mark order as delivered:",v),alert("Ocurrió un error al finalizar el pedido.")}finally{u(null)}}};return i?m.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[m.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validación (",e.length,")"]}),m.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>m.jsx(eA,{order:g,onValidate:f,isProcessing:l===g.id},g.id)):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),m.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[m.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),m.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>m.jsx(eA,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},ste=()=>{const{role:e}=ca(),[t,n]=_.useState([]),[r,i]=_.useState(!0),[o,l]=_.useState(null),[u,d]=_.useState(""),[f,p]=_.useState(!1),[g,v]=_.useState(!1),[x,w]=_.useState(!1),[S,j]=_.useState(null),[E,A]=_.useState("add"),N=(e==null?void 0:e.permissions["/ingredients"])==="editor",T=_.useCallback(async()=>{try{const R=await xe.getIngredients();n(R),l(null)}catch(R){l("Impossible de charger les ingrédients."),console.error(R)}finally{i(!1)}},[]);_.useEffect(()=>{i(!0),T()},[T]);const k=_.useMemo(()=>t.filter(R=>R.nom.toLowerCase().includes(u.toLowerCase())),[t,u]),M=(R,z=null)=>{j(z),R==="add"||R==="edit"?(A(R),p(!0)):R==="resupply"?v(!0):R==="delete"&&w(!0)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[m.jsxs("div",{className:"relative w-full md:w-80",children:[m.jsx(V0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Rechercher un ingrédient...",value:u,onChange:R=>d(R.target.value),className:"ui-input pl-10 sm:w-64"})]}),N&&m.jsxs("button",{onClick:()=>M("add"),className:"w-full md:w-auto ui-btn-primary",children:[m.jsx(G0,{size:20}),"Ajouter un ingrédient"]})]}),r?m.jsx("p",{className:"text-gray-800",children:"Chargement..."}):o?m.jsx("p",{className:"text-red-500",children:o}):m.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),N&&m.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{children:k.map(R=>{const z=R.stock_actuel<=R.stock_minimum;return m.jsxs("tr",{className:`border-b hover:bg-gray-50 ${z?"bg-red-50":""}`,children:[m.jsx("td",{className:`p-3 font-semibold ${z?"text-red-900":"text-gray-900"}`,children:R.nom}),m.jsxs("td",{className:`p-3 font-bold ${z?"text-red-700":"text-gray-800"}`,children:[R.stock_actuel," ",R.unite]}),m.jsxs("td",{className:`p-3 ${z?"text-red-800":"text-gray-700"}`,children:[R.stock_minimum," ",R.unite]}),m.jsx("td",{className:`p-3 ${z?"text-red-800":"text-gray-700"}`,children:Me(R.prix_unitaire)}),N&&m.jsx("td",{className:"p-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>M("resupply",R),title:"Réapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:m.jsx(yz,{size:20})}),m.jsx("button",{onClick:()=>M("edit",R),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:m.jsx(cC,{size:20})}),m.jsx("button",{onClick:()=>M("delete",R),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:m.jsx(Ls,{size:20})})]})})]},R.id)})})]})}),f&&N&&m.jsx(ote,{isOpen:f,onClose:()=>p(!1),onSuccess:T,ingredient:S,mode:E}),g&&N&&S&&m.jsx(lte,{isOpen:g,onClose:()=>v(!1),onSuccess:T,ingredient:S}),x&&N&&S&&m.jsx(cte,{isOpen:x,onClose:()=>w(!1),onSuccess:T,ingredient:S})]})},ote=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[o,l]=_.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[u,d]=_.useState(!1),f=async p=>{p.preventDefault(),d(!0);try{i==="edit"&&r?await xe.updateIngredient(r.id,o):await xe.addIngredient(o),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{d(!1)}};return m.jsx(Cn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrédient":"Modifier l'Ingrédient",children:m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),m.jsx("input",{type:"text",id:"nom",value:o.nom,onChange:p=>l({...o,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unité"}),m.jsxs("select",{id:"unite",value:o.unite,onChange:p=>l({...o,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[m.jsx("option",{value:"g",children:"Grammes (g)"}),m.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),m.jsx("option",{value:"ml",children:"Millilitres (ml)"}),m.jsx("option",{value:"L",children:"Litres (L)"}),m.jsx("option",{value:"unite",children:"Unité"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),m.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:o.stock_minimum,onChange:p=>l({...o,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:u,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:u?"Sauvegarde...":"Sauvegarder"})]})]})})},lte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=_.useState(0),[l,u]=_.useState(0),[d,f]=_.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){f(!0);try{await xe.resupplyIngredient(r.id,i,l),n(),t()}catch(v){console.error("Failed to resupply ingredient",v)}finally{f(!1)}}};return m.jsx(Cn,{isOpen:e,onClose:t,title:`Réapprovisionner: ${r.nom}`,children:m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantité Achetée (",r.unite,")"]}),m.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>o(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unité (",r.unite,")"]}),m.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>u(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:d?"Ajout...":"Ajouter au Stock"})]})]})})},cte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,o]=_.useState(!1),[l,u]=_.useState(null),d=async()=>{o(!0),u(null);try{await xe.deleteIngredient(r.id),n(),t()}catch(f){console.error("Failed to delete ingredient",f),u("Impossible de supprimer cet ingrédient car il est utilisé dans au moins une recette.")}finally{o(!1)}};return m.jsxs(Cn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[m.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer l'ingrédient ",m.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irréversible."]}),l&&m.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{onClick:d,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},tA=[1,2,3,4,5,6],nA=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:Ay};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:cu};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:I5};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:R5}}},ute=()=>{const{role:e}=ca(),[t,n]=_.useState([]),[r,i]=_.useState([]),[o,l]=_.useState([]),[u,d]=_.useState(!0),[f,p]=_.useState(null),[g,v]=_.useState(""),[x,w]=_.useState("all"),[S,j]=_.useState(!1),[E,A]=_.useState(!1),[N,T]=_.useState(!1),[k,M]=_.useState(null),[R,z]=_.useState("add"),H=(e==null?void 0:e.permissions["/produits"])==="editor",q=_.useCallback(async()=>{try{d(!0);const[Z,L,V]=await Promise.all([xe.getProducts(),xe.getCategories(),xe.getIngredients()]);n(Z),i(L),l(V),p(null)}catch(Z){p("Impossible de charger les données des produits."),console.error(Z)}finally{d(!1)}},[]);_.useEffect(()=>{q()},[q]);const F=_.useMemo(()=>t.filter(Z=>Z.nom_produit.toLowerCase().includes(g.toLowerCase())&&(x==="all"||Z.categoria_id===x)),[t,g,x]),K=_.useMemo(()=>{const Z=new Map;return t.forEach(L=>{L.is_best_seller&&L.best_seller_rank!=null&&Z.set(L.best_seller_rank,L)}),Z},[t]),ie=(Z,L="add",V=null)=>{Z==="product"?(z(L),M(V),j(!0)):Z==="category"?A(!0):Z==="delete"&&V&&(M(V),T(!0))},U=async(Z,L)=>{try{await xe.updateProduct(Z.id,{estado:L}),q()}catch(V){console.error("Failed to update status",V);const oe=V instanceof Error?V.message:"Une erreur inconnue s'est produite.";alert(`Échec de la mise à jour du statut du produit : ${oe}`)}};return u?m.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):f?m.jsx("p",{className:"text-red-500",children:f}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[m.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[m.jsx(V0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:Z=>v(Z.target.value),className:"ui-input pl-10"})]}),m.jsxs("select",{value:x,onChange:Z=>w(Z.target.value),className:"ui-select md:w-56",children:[m.jsx("option",{value:"all",children:"Toutes les catégories"}),r.map(Z=>m.jsx("option",{value:Z.id,children:Z.nom},Z.id))]})]}),H&&m.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[m.jsx("button",{onClick:()=>A(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:m.jsx(Dz,{size:20})}),m.jsxs("button",{onClick:()=>ie("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[m.jsx(G0,{size:20}),"Ajouter Produit"]})]})]}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:F.map(Z=>m.jsx(dte,{product:Z,category:r.find(L=>L.id===Z.categoria_id),onEdit:()=>ie("product","edit",Z),onDelete:()=>ie("delete","edit",Z),onStatusChange:U,canEdit:H},Z.id))}),S&&H&&m.jsx(fte,{isOpen:S,onClose:()=>j(!1),onSuccess:q,product:k,mode:R,categories:r,ingredients:o,occupiedPositions:K}),E&&H&&m.jsx(hte,{isOpen:E,onClose:()=>A(!1),onSuccess:q,categories:r}),N&&H&&k&&m.jsx(mte,{isOpen:N,onClose:()=>T(!1),onSuccess:q,product:k})]})},dte=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:o})=>{const{text:l,color:u,Icon:d}=nA(e.estado),[f,p]=_.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,m.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&m.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),m.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catégorie"}),m.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),m.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:Me(e.prix_vente)})]}),m.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${u}`,children:[m.jsx(d,{size:14})," ",l]}),o&&m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>p(!f),className:"p-1 text-gray-500 hover:text-gray-800",children:m.jsx(eC,{size:20})}),f&&m.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[m.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),m.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),m.jsx("div",{className:"border-t my-1"}),m.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(v=>m.jsx("button",{onClick:()=>{i(e,v),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:nA(v).text},v))]})]})]})]})]})},fte=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:o,ingredients:l,occupiedPositions:u})=>{var H;const[d,f]=_.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((H=o[0])==null?void 0:H.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=_.useState(null),[v,x]=_.useState(!1);_.useEffect(()=>{var q;e&&(f({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((q=o[0])==null?void 0:q.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,o]);const w=_.useCallback(()=>{for(const q of tA){const F=u.get(q);if(!F||F.id===(r==null?void 0:r.id))return q}return null},[u,r==null?void 0:r.id]),S=_.useCallback(q=>{f(F=>{if(q){const K=F.best_seller_rank??w();return{...F,is_best_seller:!0,best_seller_rank:K??null}}return{...F,is_best_seller:!1,best_seller_rank:null}})},[w]),j=_.useCallback(q=>{const F=q.target.value;f(K=>({...K,best_seller_rank:F?Number(F):null}))},[]),E=_.useMemo(()=>new Map(l.map(q=>[q.id,q])),[l]),A=_.useMemo(()=>d.recipe.reduce((q,F)=>{const K=E.get(F.ingredient_id);if(!K)return q;let ie=K.prix_unitaire;return(K.unite==="kg"||K.unite==="L")&&(ie=ie/1e3),q+ie*F.qte_utilisee},0),[d.recipe,E]),N=d.prix_vente-A,T=d.prix_vente>0?N/d.prix_vente*100:0,k=(q,F,K)=>{const ie=[...d.recipe];if(F==="qte_utilisee"){const{valueAsNumber:U,value:Z}=K.currentTarget,L=Number.isNaN(U)?Number(Z.replace(",",".")):U;ie[q]={...ie[q],[F]:Number.isNaN(L)?ie[q].qte_utilisee:L}}else ie[q]={...ie[q],[F]:K.currentTarget.value};f(U=>({...U,recipe:ie}))},M=()=>{l.length!==0&&f({...d,recipe:[...d.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},R=q=>{const F=d.recipe.filter((K,ie)=>ie!==q);f({...d,recipe:F})},z=async q=>{var F;if(q.preventDefault(),d.recipe.length===0){alert("Veuillez ajouter au moins un ingrédient à la recette.");return}if(d.is_best_seller){if(d.best_seller_rank==null){alert("Veuillez sélectionner une position de best seller disponible.");return}const K=u.get(d.best_seller_rank);if(K&&K.id!==(r==null?void 0:r.id)){alert(`La position ${d.best_seller_rank} est déjà occupée par ${K.nom_produit}.`);return}}x(!0);try{let K=((F=d.image)==null?void 0:F.trim())??"";p&&(K=await t5(p,d.nom_produit));const ie={...d,image:K,is_best_seller:d.is_best_seller,best_seller_rank:d.is_best_seller?d.best_seller_rank:null};i==="edit"&&r?await xe.updateProduct(r.id,ie):await xe.addProduct(ie),n(),g(null),t()}catch(K){console.error("Failed to save product",K);const ie=K instanceof Error?K.message:"Une erreur inconnue s'est produite.";alert(`Échec du téléversement de l'image du produit : ${ie}`)}finally{x(!1)}};return m.jsx(Cn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:m.jsxs("form",{onSubmit:z,className:"space-y-4",children:[m.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),m.jsx("input",{type:"text",value:d.nom_produit,onChange:q=>f({...d,nom_produit:q.target.value}),required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),m.jsx("input",{type:"number",step:"0.01",min:"0",value:d.prix_vente,onChange:q=>{const{valueAsNumber:F,value:K}=q.currentTarget,ie=Number.isNaN(F)?Number(K.replace(",",".")):F;f(U=>({...U,prix_vente:Number.isNaN(ie)?U.prix_vente:ie}))},required:!0,className:"mt-1 ui-input"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),m.jsx("select",{value:d.categoria_id,onChange:q=>f({...d,categoria_id:q.target.value}),required:!0,className:"mt-1 ui-select",children:o.map(q=>m.jsx("option",{value:q.id,children:q.nom},q.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),m.jsxs("select",{value:d.estado,onChange:q=>f({...d,estado:q.target.value}),required:!0,className:"mt-1 ui-select",children:[m.jsx("option",{value:"disponible",children:"Disponible"}),m.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),m.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),m.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[m.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:d.is_best_seller,onChange:q=>S(q.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),m.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),m.jsxs("select",{id:"best-seller-rank",value:d.best_seller_rank??"",onChange:j,disabled:!d.is_best_seller,className:"mt-1 ui-select",children:[m.jsx("option",{value:"",children:"Sélectionner une position"}),tA.map(q=>{const F=u.get(q),K=(F==null?void 0:F.id)===(r==null?void 0:r.id),ie=!!(F&&!K),U=F?K?`${q} – Position actuelle`:`${q} – Occupé par ${F.nom_produit}`:`${q}`;return m.jsx("option",{value:q,disabled:ie,children:U},q)})]}),d.is_best_seller&&d.best_seller_rank===null&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Sélectionnez une position disponible pour ce best seller."})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Coût de revient"}),m.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Me(A)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),m.jsx("p",{className:`text-lg font-semibold ${N>=0?"text-emerald-600":"text-red-600"}`,children:Me(N)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),m.jsxs("p",{className:`text-lg font-semibold ${T>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(T)?tU(T):"0","%"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),m.jsx("textarea",{rows:3,value:d.description,onChange:q=>f({...d,description:q.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),m.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[m.jsx("img",{src:p?URL.createObjectURL(p):FA(d.image),alt:"Aperçu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),m.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(uC,{size:16}),m.jsx("span",{children:"Changer l'image"})]}),m.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:q=>g(q.target.files?q.target.files[0]:null)})]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),d.recipe.length===0&&m.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:m.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrédient."})}),m.jsx("div",{className:"space-y-2",children:d.recipe.map((q,F)=>{var K,ie;return m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(X5,{className:"text-gray-400 cursor-move",size:16}),m.jsx("select",{value:q.ingredient_id,onChange:U=>k(F,"ingredient_id",U),className:"ui-select flex-grow",children:l.map(U=>m.jsx("option",{value:U.id,children:U.nom},U.id))}),m.jsx("input",{type:"number",placeholder:"Qté",value:q.qte_utilisee,onChange:U=>k(F,"qte_utilisee",U),className:"ui-input w-24"}),m.jsx("span",{className:"text-gray-500 text-sm w-12",children:((K=l.find(U=>U.id===q.ingredient_id))==null?void 0:K.unite)==="kg"?"g":(ie=l.find(U=>U.id===q.ingredient_id))==null?void 0:ie.unite}),m.jsx("button",{type:"button",onClick:()=>R(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:m.jsx(Ls,{size:16})})]},F)})}),m.jsx("button",{type:"button",onClick:M,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrédient"})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{type:"submit",disabled:v||d.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:v?"Sauvegarde...":"Sauvegarder"})]})]})})},hte=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,o]=_.useState(""),[l,u]=_.useState(""),d=async()=>{if(i.trim())try{await xe.addCategory(i),o(""),n()}catch(p){console.error(p)}},f=async p=>{u("");try{await xe.deleteCategory(p),n()}catch(g){u(g.message),console.error(g)}};return m.jsx(Cn,{isOpen:e,onClose:t,title:"Gérer les Catégories",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Nom de la nouvelle catégorie",className:"ui-input flex-grow"}),m.jsx("button",{onClick:d,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&m.jsx("p",{className:"text-red-500 text-sm",children:l}),m.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>m.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[m.jsx("span",{className:"text-gray-800",children:p.nom}),m.jsx("button",{onClick:()=>f(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:m.jsx(Ls,{size:16})})]},p.id))}),m.jsx("div",{className:"pt-4 flex",children:m.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},mte=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,o]=_.useState(!1),l=async()=>{o(!0);try{await xe.deleteProduct(r.id),n(),t()}catch(u){console.error("Failed to delete product",u)}finally{o(!1)}};return m.jsxs(Cn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[m.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer le produit ",m.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irréversible."]}),m.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),m.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},Hs=e=>{if(e.error)throw new Error(e.error.message);return e.data},pte=async()=>{const e=await de.from("promotions").select("*").order("priority",{ascending:!1});return Hs(e)},Xx=async()=>{const e=new Date().toISOString(),t=await de.from("promotions").select("*").eq("active",!0).lte("start_date",e).or(`end_date.is.null,end_date.gte.${e}`).order("priority",{ascending:!1});return Hs(t).filter(r=>r.usage_limit&&r.usage_count>=r.usage_limit?!1:fC(r))},gte=async e=>{const t=await de.from("promotions").insert({name:e.name,description:e.description,active:e.active,start_date:e.start_date,end_date:e.end_date,conditions:e.conditions,config:e.config,priority:e.priority,stackable:e.stackable,usage_limit:e.usage_limit,usage_count:0}).select().single();return Hs(t)},vte=async(e,t)=>{const n=await de.from("promotions").update({name:t.name,description:t.description,active:t.active,start_date:t.start_date,end_date:t.end_date,conditions:t.conditions,config:t.config,priority:t.priority,stackable:t.stackable,usage_limit:t.usage_limit}).eq("id",e).select().single();return Hs(n)},yte=async e=>{const t=await de.from("promotions").delete().eq("id",e);Hs(t)},bte=async(e,t)=>{const n=await de.from("promotions").update({active:t}).eq("id",e).select().single();return Hs(n)},xte=async e=>{const t=await de.from("promotion_usages").select("*").eq("promotion_id",e).order("applied_at",{ascending:!1});return Hs(t)},_te=async(e,t)=>bte(e,t==="active"),wte=[{value:"percentage",label:"Pourcentage"},{value:"fixed_amount",label:"Montant fixe"},{value:"promo_code",label:"Code promo"},{value:"buy_x_get_y",label:"2x1 / Achetez X, obtenez Y"},{value:"free_product",label:"Produit gratuit"},{value:"free_shipping",label:"Livraison gratuite"},{value:"combo",label:"Combo"},{value:"threshold",label:"Palier"},{value:"happy_hour",label:"Happy hour"}],Ste=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"scheduled",label:"Programmée"},{value:"expired",label:"Expirée"}],rA=({isOpen:e,onClose:t,onSave:n,promotion:r})=>{var K,ie;const[i,o]=_.useState(""),[l,u]=_.useState("percentage"),[d,f]=_.useState("active"),[p,g]=_.useState(0),[v,x]=_.useState({}),[w,S]=_.useState({type:"percentage",value:0,applies_to:"total"}),[j,E]=_.useState({}),[A,N]=_.useState(!1),[T,k]=_.useState(null),[M,R]=_.useState("general"),[z,H]=_.useState(!1);_.useEffect(()=>{r&&(o(r.name),u(r.type),f(r.status),g(r.priority),x(r.conditions),S(r.discount),E(r.visuals||{}))},[r]);const q=async U=>{U.preventDefault(),N(!0),k(null);try{r?await vte(r.id,{name:i,type:l,status:d,priority:p,conditions:v,discount:w,visuals:j}):await gte({name:i,type:l,status:d,priority:p,conditions:v,discount:w,visuals:j}),n()}catch(Z){k(Z instanceof Error?Z.message:"Une erreur est survenue")}finally{N(!1)}},F=async U=>{var L;const Z=(L=U.target.files)==null?void 0:L[0];if(Z){H(!0);try{const V=await zj(Z);E({...j,banner_image:Pi(V)})}catch{k("Erreur lors du téléchargement de l'image")}finally{H(!1)}}};return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold",children:r?"Modifier la promotion":"Nouvelle promotion"}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(Ti,{size:24})})]}),T&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:T}),m.jsxs("div",{className:"flex border-b",children:[m.jsx("button",{className:`px-4 py-3 font-medium ${M==="general"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("general"),children:"Général"}),m.jsx("button",{className:`px-4 py-3 font-medium ${M==="conditions"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("conditions"),children:"Conditions"}),m.jsx("button",{className:`px-4 py-3 font-medium ${M==="discount"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("discount"),children:"Réduction"}),m.jsx("button",{className:`px-4 py-3 font-medium ${M==="visuals"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>R("visuals"),children:"Affichage"})]}),m.jsxs("form",{onSubmit:q,className:"overflow-y-auto p-6",children:[M==="general"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la promotion"}),m.jsx("input",{type:"text",id:"name",value:i,onChange:U=>o(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de promotion"}),m.jsx("select",{id:"type",value:l,onChange:U=>u(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:wte.map(U=>m.jsx("option",{value:U.value,children:U.label},U.value))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),m.jsx("select",{id:"status",value:d,onChange:U=>f(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:Ste.map(U=>m.jsx("option",{value:U.value,children:U.label},U.value))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),m.jsx("input",{type:"number",id:"priority",value:p,onChange:U=>g(parseInt(U.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:"100"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Plus la valeur est élevée, plus la promotion est prioritaire."})]})]}),M==="conditions"&&m.jsxs("div",{className:"space-y-6",children:[l==="promo_code"&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code promo"}),m.jsx("input",{type:"text",id:"promo_code",value:v.promo_code||"",onChange:U=>x({...v,promo_code:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:l==="promo_code"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"min_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant minimum de commande"}),m.jsx("input",{type:"number",id:"min_order_amount",value:v.min_order_amount||"",onChange:U=>x({...v,min_order_amount:parseFloat(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de commande"}),m.jsx("input",{type:"number",id:"max_order_amount",value:v.max_order_amount||"",onChange:U=>x({...v,max_order_amount:parseFloat(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),m.jsx("input",{type:"datetime-local",id:"start_date",value:v.start_date?new Date(v.start_date).toISOString().slice(0,16):"",onChange:U=>x({...v,start_date:U.target.value?new Date(U.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),m.jsx("input",{type:"datetime-local",id:"end_date",value:v.end_date?new Date(v.end_date).toISOString().slice(0,16):"",onChange:U=>x({...v,end_date:U.target.value?new Date(U.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jours de la semaine"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"].map((U,Z)=>{var L;return m.jsxs("label",{className:"inline-flex items-center",children:[m.jsx("input",{type:"checkbox",checked:((L=v.days_of_week)==null?void 0:L.includes(Z))||!1,onChange:V=>{const oe=v.days_of_week||[];V.target.checked?x({...v,days_of_week:[...oe,Z]}):x({...v,days_of_week:oe.filter(fe=>fe!==Z)})},className:"form-checkbox h-4 w-4 text-brand-primary"}),m.jsx("span",{className:"ml-2 text-sm",children:U})]},Z)})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"hours_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de début"}),m.jsx("input",{type:"time",id:"hours_start",value:((K=v.hours_of_day)==null?void 0:K.start)||"",onChange:U=>x({...v,hours_of_day:{...v.hours_of_day||{},start:U.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"hours_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),m.jsx("input",{type:"time",id:"hours_end",value:((ie=v.hours_of_day)==null?void 0:ie.end)||"",onChange:U=>x({...v,hours_of_day:{...v.hours_of_day||{},end:U.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_uses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre maximum d'utilisations"}),m.jsx("input",{type:"number",id:"max_uses",value:v.max_uses_total||"",onChange:U=>x({...v,max_uses_total:parseInt(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_uses_per_customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum par client"}),m.jsx("input",{type:"number",id:"max_uses_per_customer",value:v.max_uses_per_customer||"",onChange:U=>x({...v,max_uses_per_customer:parseInt(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]})]}),l==="buy_x_get_y"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"buy_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité à acheter"}),m.jsx("input",{type:"number",id:"buy_quantity",value:v.buy_quantity||"",onChange:U=>x({...v,buy_quantity:parseInt(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"get_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité offerte"}),m.jsx("input",{type:"number",id:"get_quantity",value:v.get_quantity||"",onChange:U=>x({...v,get_quantity:parseInt(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"first_order_only",checked:v.first_order_only||!1,onChange:U=>x({...v,first_order_only:U.target.checked}),className:"h-4 w-4 text-brand-primary"}),m.jsx("label",{htmlFor:"first_order_only",className:"ml-2 text-sm text-gray-700",children:"Uniquement pour la première commande"})]})]}),M==="discount"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"discount_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de réduction"}),m.jsxs("select",{id:"discount_type",value:w.type,onChange:U=>S({...w,type:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"percentage",children:"Pourcentage"}),m.jsx("option",{value:"fixed_amount",children:"Montant fixe"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"discount_value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur de la réduction"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",id:"discount_value",value:w.value,onChange:U=>S({...w,value:parseFloat(U.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:(w.type==="percentage","0.01"),required:!0}),m.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.type==="percentage"?"%":"€"})]})]})]}),w.type==="percentage"&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"max_discount_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de la réduction"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"number",id:"max_discount_amount",value:w.max_discount_amount||"",onChange:U=>S({...w,max_discount_amount:parseFloat(U.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"}),m.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:"€"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"applies_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application de la réduction"}),m.jsxs("select",{id:"applies_to",value:w.applies_to,onChange:U=>S({...w,applies_to:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"total",children:"Total de la commande"}),m.jsx("option",{value:"products",children:"Produits spécifiques"}),m.jsx("option",{value:"shipping",children:"Frais de livraison"})]})]})]}),M==="visuals"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badge_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du badge"}),m.jsx("input",{type:"text",id:"badge_text",value:j.badge_text||"",onChange:U=>E({...j,badge_text:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 2x1, -20%, etc."})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badge_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur du texte du badge"}),m.jsx("input",{type:"color",id:"badge_color",value:j.badge_color||"#FFFFFF",onChange:U=>E({...j,badge_color:U.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badge_bg_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur de fond du badge"}),m.jsx("input",{type:"color",id:"badge_bg_color",value:j.badge_bg_color||"#F9A826",onChange:U=>E({...j,badge_bg_color:U.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badge_bg_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de fond du badge (optionnel)"}),m.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Si vous uploadez une image, elle remplacera la couleur de fond du badge"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[m.jsx("input",{type:"file",id:"badge_bg_image",onChange:async U=>{var L;const Z=(L=U.target.files)==null?void 0:L[0];if(Z){H(!0);try{const V=await zj(Z,{tags:["badge-background"]});E({...j,badge_bg_image:Pi(V)})}catch{k("Erreur lors du téléchargement de l'image du badge")}finally{H(!1)}}},className:"sr-only",accept:"image/*"}),m.jsx("span",{children:z?"Téléchargement...":"Choisir une image"})]}),j.badge_bg_image&&m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:j.badge_bg_image,alt:"Aperçu de l'image de fond du badge",className:"h-16 w-auto object-cover rounded"}),m.jsx("button",{type:"button",onClick:()=>E({...j,badge_bg_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:m.jsx(Ti,{size:12})})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"banner_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte de la bannière"}),m.jsx("input",{type:"text",id:"banner_text",value:j.banner_text||"",onChange:U=>E({...j,banner_text:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Offre spéciale : 20% de réduction sur tous les tacos !"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de la bannière"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[m.jsx("input",{type:"file",id:"banner_image",onChange:F,className:"sr-only",accept:"image/*"}),m.jsx("span",{children:z?"Téléchargement...":"Choisir une image"})]}),j.banner_image&&m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:j.banner_image,alt:"Aperçu de la bannière",className:"h-16 w-auto object-cover rounded"}),m.jsx("button",{type:"button",onClick:()=>E({...j,banner_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:m.jsx(Ti,{size:12})})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"banner_cta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du bouton d'appel à l'action"}),m.jsx("input",{type:"text",id:"banner_cta",value:j.banner_cta||"",onChange:U=>E({...j,banner_cta:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: En profiter maintenant"})]})]})]}),m.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:A,children:"Annuler"}),m.jsx("button",{type:"submit",onClick:q,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary-dark flex items-center gap-2",disabled:A,children:A?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),m.jsx("span",{children:"Enregistrement..."})]}):m.jsx("span",{children:"Enregistrer"})})]})]})}):null},jte={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},Ote={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},Ete={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},Nte=({isOpen:e,onClose:t,promotion:n})=>{const[r,i]=_.useState([]),[o,l]=_.useState(!1),[u,d]=_.useState(null),[f,p]=_.useState("details");_.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{l(!0),d(null);try{const x=await xte(n.id);i(x)}catch(x){d("Erreur lors du chargement des utilisations"),console.error(x)}finally{l(!1)}},v=x=>{const w=new Date(x);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Détails de la promotion"}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(Ti,{size:24})})]}),m.jsxs("div",{className:"flex border-b",children:[m.jsx("button",{className:`px-4 py-3 font-medium ${f==="details"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("details"),children:"Détails"}),m.jsxs("button",{className:`px-4 py-3 font-medium ${f==="usages"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("usages"),children:["Utilisations (",n.usage_count,")"]})]}),m.jsxs("div",{className:"overflow-y-auto p-6",children:[f==="details"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold",children:n.name}),m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ete[n.status]}`,children:Ote[n.status]}),m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:jte[n.type]})]})]}),m.jsx("div",{className:"mt-2 md:mt-0",children:m.jsxs("span",{className:"text-sm text-gray-500",children:["Priorité: ",n.priority]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(nz,{size:16,className:"mr-1"}),"Informations générales"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"ID:"}),m.jsx("span",{className:"text-sm font-mono",children:n.id})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Créée le:"}),m.jsx("span",{className:"text-sm",children:v(n.created_at)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Mise à jour:"}),m.jsx("span",{className:"text-sm",children:v(n.updated_at)})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations:"}),m.jsx("span",{className:"text-sm",children:n.usage_count})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(xh,{size:16,className:"mr-1"}),"Réduction"]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),m.jsx("span",{className:"text-sm",children:n.discount.type==="percentage"?"Pourcentage":"Montant fixe"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Valeur:"}),m.jsxs("span",{className:"text-sm font-medium",children:[n.discount.value,n.discount.type==="percentage"?"%":"€"]})]}),n.discount.max_discount_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Maximum:"}),m.jsxs("span",{className:"text-sm",children:[n.discount.max_discount_amount,"€"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Application:"}),m.jsxs("span",{className:"text-sm",children:[n.discount.applies_to==="total"&&"Total de la commande",n.discount.applies_to==="products"&&"Produits spécifiques",n.discount.applies_to==="shipping"&&"Frais de livraison"]})]})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(v5,{size:16,className:"mr-1"}),"Conditions"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.conditions.promo_code&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Code promo:"}),m.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-0.5 rounded",children:n.conditions.promo_code})]}),n.conditions.min_order_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Montant minimum:"}),m.jsxs("span",{className:"text-sm",children:[n.conditions.min_order_amount,"€"]})]}),n.conditions.max_order_amount&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Montant maximum:"}),m.jsxs("span",{className:"text-sm",children:[n.conditions.max_order_amount,"€"]})]}),n.conditions.start_date&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Date de début:"}),m.jsx("span",{className:"text-sm",children:v(n.conditions.start_date)})]}),n.conditions.end_date&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Date de fin:"}),m.jsx("span",{className:"text-sm",children:v(n.conditions.end_date)})]}),n.conditions.days_of_week&&n.conditions.days_of_week.length>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Jours:"}),m.jsx("span",{className:"text-sm",children:n.conditions.days_of_week.map(x=>["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"][x]).join(", ")})]}),n.conditions.hours_of_day&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Heures:"}),m.jsxs("span",{className:"text-sm",children:[n.conditions.hours_of_day.start," - ",n.conditions.hours_of_day.end]})]}),n.conditions.max_uses_total&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations max:"}),m.jsx("span",{className:"text-sm",children:n.conditions.max_uses_total})]}),n.conditions.max_uses_per_customer&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Max par client:"}),m.jsx("span",{className:"text-sm",children:n.conditions.max_uses_per_customer})]}),n.conditions.first_order_only&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Première commande:"}),m.jsx("span",{className:"text-sm",children:"Oui"})]}),n.type==="buy_x_get_y"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Achetez:"}),m.jsx("span",{className:"text-sm",children:n.conditions.buy_quantity})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Obtenez:"}),m.jsx("span",{className:"text-sm",children:n.conditions.get_quantity})]})]})]})]}),n.visuals&&Object.keys(n.visuals).length>0&&m.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[m.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[m.jsx(Cf,{size:16,className:"mr-1"}),"Éléments visuels"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.visuals.badge_text&&m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Badge:"}),m.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:n.visuals.badge_color||"#F9A826",color:"#ffffff"},children:n.visuals.badge_text})]}),n.visuals.banner_text&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Texte bannière:"}),m.jsx("span",{className:"text-sm",children:n.visuals.banner_text})]}),n.visuals.banner_cta&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Bouton:"}),m.jsx("span",{className:"text-sm",children:n.visuals.banner_cta})]})]}),n.visuals.banner_image&&m.jsxs("div",{className:"mt-4",children:[m.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Image de bannière:"}),m.jsx("img",{src:n.visuals.banner_image,alt:"Bannière promotionnelle",className:"w-full h-auto max-h-40 object-cover rounded-lg"})]})]})]}),f==="usages"&&m.jsxs("div",{children:[u&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),o?m.jsxs("div",{className:"flex justify-center items-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),m.jsx("span",{className:"ml-2",children:"Chargement..."})]}):r.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune utilisation enregistrée pour cette promotion"}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b",children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Commande"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Montant"})]})}),m.jsx("tbody",{children:r.map(x=>m.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[m.jsx("td",{className:"px-4 py-3",children:v(x.applied_at)}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("a",{href:"#",className:"text-brand-primary hover:underline flex items-center",onClick:w=>{w.preventDefault()},children:[x.order_id.substring(0,8),"...",m.jsx(H5,{size:14,className:"ml-1"})]})}),m.jsx("td",{className:"px-4 py-3",children:x.customer_phone||"-"}),m.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:[x.discount_amount.toFixed(2),"€"]})]},x.id))})]})})]})]}),m.jsx("div",{className:"flex justify-end p-6 border-t",children:m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fermer"})})]})}):null},Ate=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmLabel:o="Confirmer",cancelLabel:l="Annuler",confirmButtonClass:u="bg-brand-primary hover:bg-brand-primary-dark"})=>e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[m.jsx("h2",{className:"text-xl font-semibold",children:r}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(Ti,{size:24})})]}),m.jsx("div",{className:"p-6",children:m.jsx("p",{className:"text-gray-700",children:i})}),m.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:l}),m.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-white rounded-md ${u}`,children:o})]})]})}):null,Cte={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},Tte={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},kte={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},Pte={percentage:m.jsx(xh,{size:16}),fixed_amount:m.jsx(Cf,{size:16}),promo_code:m.jsx(Cf,{size:16}),buy_x_get_y:m.jsx(Wo,{size:16}),free_product:m.jsx(Wo,{size:16}),free_shipping:m.jsx(Wo,{size:16}),combo:m.jsx(Wo,{size:16}),threshold:m.jsx(ZA,{size:16}),happy_hour:m.jsx(cu,{size:16})},Mte=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[i,o]=_.useState(null),[l,u]=_.useState(!1),[d,f]=_.useState(!1),[p,g]=_.useState(!1),[v,x]=_.useState(!1),[w,S]=_.useState(null),[j,E]=_.useState(""),[A,N]=_.useState("all"),[T,k]=_.useState("all"),[M,R]=_.useState("priority"),[z,H]=_.useState("desc"),q=async()=>{r(!0),o(null);try{const P=await pte();t(P)}catch(P){o("Erreur lors du chargement des promotions"),console.error(P)}finally{r(!1)}};_.useEffect(()=>{q()},[]);const F=()=>{S(null),u(!0)},K=P=>{S(P),f(!0)},ie=P=>{S(P),g(!0)},U=P=>{S(P),x(!0)},Z=async P=>{try{const D=P.active?"inactive":"active",te=await _te(P.id,D);t(e.map(Q=>Q.id===P.id?te:Q))}catch(D){o("Erreur lors de la mise à jour du statut"),console.error(D)}},L=async()=>{if(w)try{await yte(w.id),t(e.filter(P=>P.id!==w.id)),x(!1)}catch(P){o("Erreur lors de la suppression de la promotion"),console.error(P)}},V=P=>{M===P?H(z==="asc"?"desc":"asc"):(R(P),H("desc"))},oe=e.filter(P=>{const D=P.name.toLowerCase().includes(j.toLowerCase()),te=A==="all"||P.status===A,Q=T==="all"||P.type===T;return D&&te&&Q}).sort((P,D)=>{let te=0;switch(M){case"name":te=P.name.localeCompare(D.name);break;case"priority":te=P.priority-D.priority;break;case"created_at":te=new Date(P.created_at).getTime()-new Date(D.created_at).getTime();break;case"usage_count":te=P.usage_count-D.usage_count;break}return z==="asc"?te:-te}),fe=P=>M!==P?null:z==="asc"?m.jsx(ZA,{size:16}):m.jsx(JA,{size:16}),ae=P=>{const D=new Date(P);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(D)};return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des promotions"}),m.jsxs("button",{onClick:F,className:"bg-brand-primary hover:bg-brand-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[m.jsx(uu,{size:20}),"Nouvelle promotion"]})]}),i&&m.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",placeholder:"Rechercher une promotion...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg",value:j,onChange:P=>E(P.target.value)}),m.jsx(V0,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:A,onChange:P=>N(P.target.value),children:[m.jsx("option",{value:"all",children:"Tous les statuts"}),m.jsx("option",{value:"active",children:"Actives"}),m.jsx("option",{value:"inactive",children:"Inactives"}),m.jsx("option",{value:"scheduled",children:"Programmées"}),m.jsx("option",{value:"expired",children:"Expirées"})]}),m.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:T,onChange:P=>k(P.target.value),children:[m.jsx("option",{value:"all",children:"Tous les types"}),m.jsx("option",{value:"percentage",children:"Pourcentage"}),m.jsx("option",{value:"fixed_amount",children:"Montant fixe"}),m.jsx("option",{value:"promo_code",children:"Code promo"}),m.jsx("option",{value:"buy_x_get_y",children:"2x1 / Achetez X, obtenez Y"}),m.jsx("option",{value:"free_product",children:"Produit gratuit"}),m.jsx("option",{value:"free_shipping",children:"Livraison gratuite"}),m.jsx("option",{value:"combo",children:"Combo"}),m.jsx("option",{value:"threshold",children:"Palier"}),m.jsx("option",{value:"happy_hour",children:"Happy hour"})]}),m.jsxs("button",{onClick:q,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-2",children:[m.jsx(Az,{size:18}),m.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b",children:[m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>V("name"),children:["Nom ",fe("name")]})}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"}),m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>V("priority"),children:["Priorité ",fe("priority")]})}),m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>V("created_at"),children:["Créée le ",fe("created_at")]})}),m.jsx("th",{className:"px-4 py-3 text-left",children:m.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>V("usage_count"),children:["Utilisations ",fe("usage_count")]})}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),m.jsx("tbody",{children:n?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-8 text-center",children:m.jsxs("div",{className:"flex justify-center items-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),m.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):oe.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Aucune promotion trouvée"})}):oe.map(P=>m.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[m.jsxs("td",{className:"px-4 py-4",children:[m.jsx("div",{className:"font-medium",children:P.name}),P.type==="promo_code"&&P.conditions.promo_code&&m.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",m.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:P.conditions.promo_code})]})]}),m.jsx("td",{className:"px-4 py-4",children:m.jsxs("div",{className:"flex items-center gap-1.5",children:[Pte[P.type],m.jsx("span",{children:kte[P.type]})]})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Tte[P.status]}`,children:Cte[P.status]})}),m.jsx("td",{className:"px-4 py-4",children:P.priority}),m.jsx("td",{className:"px-4 py-4",children:ae(P.created_at)}),m.jsx("td",{className:"px-4 py-4",children:P.usage_count}),m.jsx("td",{className:"px-4 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>Z(P),className:"p-1.5 rounded-md hover:bg-gray-100",title:P.status==="active"?"Désactiver":"Activer",children:P.status==="active"?m.jsx(K5,{size:18}):m.jsx(Cy,{size:18})}),m.jsx("button",{onClick:()=>ie(P),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Voir les détails",children:m.jsx(Cy,{size:18})}),m.jsx("button",{onClick:()=>K(P),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Modifier",children:m.jsx(cC,{size:18})}),m.jsx("button",{onClick:()=>U(P),className:"p-1.5 rounded-md hover:bg-gray-100 text-red-500",title:"Supprimer",children:m.jsx(Ls,{size:18})})]})})]},P.id))})]})})]}),l&&m.jsx(rA,{isOpen:l,onClose:()=>u(!1),onSave:()=>{u(!1),q()}}),d&&w&&m.jsx(rA,{isOpen:d,onClose:()=>f(!1),onSave:()=>{f(!1),q()},promotion:w}),p&&w&&m.jsx(Nte,{isOpen:p,onClose:()=>g(!1),promotion:w}),v&&w&&m.jsx(Ate,{isOpen:v,onClose:()=>x(!1),onConfirm:L,title:"Supprimer la promotion",message:`Êtes-vous sûr de vouloir supprimer la promotion "${w.name}" ? Cette action est irréversible.`,confirmLabel:"Supprimer",cancelLabel:"Annuler",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},wR="ouiouitacos_active_order",Rte=e=>{try{localStorage.setItem(wR,e)}catch(t){console.error("Erreur lors du stockage de la commande active:",t)}},Dte=()=>{try{return localStorage.getItem(wR)}catch(e){return console.error("Erreur lors de la récupération de la commande active:",e),null}},Ite=({promotion:e,className:t=""})=>{const n=e.config,r=n.visuals||{};let i=r.badge_text||"",o=r.description||e.description||"";i||(n.discount_type==="percentage"?(i=`-${n.discount_value}%`,o=o||`${n.discount_value}% de descuento`):n.discount_type==="fixed_amount"?(i=`-$${n.discount_value.toLocaleString()}`,o=o||`$${n.discount_value.toLocaleString()} de descuento`):n.buy_quantity&&n.get_quantity?(i=`${n.buy_quantity}x${n.get_quantity}`,o=o||`Compra ${n.buy_quantity}, lleva ${n.get_quantity}`):n.applies_to==="shipping"?(i="ENVÍO GRATIS",o=o||"Envío gratis en este producto"):(i="PROMO",o=o||e.name));const l=r.badge_color||"#FFFFFF",u=r.badge_bg_color||"#E63946",d=r.badge_position||"top-right",f={"top-left":"top-2 left-2","top-right":"top-2 right-2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"},p=r.badge_bg_image;return m.jsxs("div",{className:`absolute ${f[d]} z-10 px-3 py-1 rounded-full font-bold text-sm shadow-lg transform rotate-3 ${t}`,style:{backgroundColor:p?"transparent":u,backgroundImage:p?`url(${p})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:l,animation:"pulse 2s infinite",textShadow:p?"0 1px 3px rgba(0,0,0,0.8)":"none"},title:o,children:[i,m.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0% {
            transform: rotate(3deg) scale(1);
          }
          50% {
            transform: rotate(3deg) scale(1.05);
          }
          100% {
            transform: rotate(3deg) scale(1);
          }
        }
      `})]})},Lte=e=>{const[t,n]=_.useState([]),[r,i]=_.useState(!0),[o,l]=_.useState(null);_.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{try{i(!0);const g=(await Xx().catch(v=>(console.error("[useProductPromotions] Error fetching active promotions from API:",v),[]))).filter(v=>{if(!t$(v)||!fC(v))return!1;const x=v.config,w=v.conditions||[];return!x.product_ids&&!x.category_ids&&w.length===0?!1:x.product_ids&&x.product_ids.length>0&&x.product_ids.includes(e.id)||x.category_ids&&x.category_ids.length>0&&x.category_ids.includes(e.categoria_id)?!0:w.some(j=>j.type==="specific_product"&&Array.isArray(j.value)?j.value.includes(e.id):j.type==="specific_category"&&Array.isArray(j.value)?j.value.includes(e.categoria_id):!1)}).sort((v,x)=>(x.priority||0)-(v.priority||0));n(g)}catch(f){console.error("[useProductPromotions] Error during promotion processing:",f),l(f instanceof Error?f:new Error("Une erreur est survenue")),n([])}finally{i(!1)}})()},[e]);const u=t.length>0?t[0]:null;return{promotions:t,bestPromotion:u,loading:r,error:o}},zte=({product:e,onClick:t})=>{const{promotions:n,loading:r}=Lte(e);return m.jsxs("div",{onClick:()=>e.estado==="disponible"&&t(),className:`relative border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${e.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[!r&&n.length>0&&e.estado==="disponible"&&m.jsx("div",{className:"absolute top-2 right-2 flex flex-col space-y-1 z-10",children:n.map((i,o)=>m.jsx(Ite,{promotion:i},i.id||o))}),m.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),m.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:e.nom_produit}),m.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:e.description}),m.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:Me(e.prix_vente)}),e.estado!=="disponible"&&m.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]})},$te=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const d=await Xx();t(d)}catch(d){console.error("Error loading promotions:",d)}finally{r(!1)}})()},[]);const i=e.filter(u=>!u.config.promo_code);if(n||i.length===0)return null;const o=u=>{const d=u.config;return d.applies_to==="shipping"?m.jsx(Gz,{size:20}):d.discount_type==="percentage"?m.jsx(xh,{size:20}):d.hours_of_day?m.jsx(cu,{size:20}):d.buy_quantity?m.jsx(Uj,{size:20}):m.jsx(Cf,{size:20})},l=u=>{const d=u.config,f=u.conditions;let p=u.description||u.name;const g=f.find(v=>v.type==="min_order_amount");return g&&(p+=` (Mínimo: $${g.value.toLocaleString()})`),d.hours_of_day&&(p+=` (${d.hours_of_day.start} - ${d.hours_of_day.end})`),d.promo_code&&(p+=` (Código: ${d.promo_code})`),p};return m.jsxs("div",{className:"mb-6 space-y-3",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[m.jsx(Uj,{className:"mr-2",size:24}),"Promociones Activas"]}),m.jsx("div",{className:"space-y-2",children:i.map(u=>{var p,g;const d=u.config,f=((p=d.visuals)==null?void 0:p.badge_bg_color)||"#4CAF50";return m.jsxs("div",{className:"flex items-start p-4 rounded-lg shadow-md border-l-4 transition-transform hover:scale-[1.02]",style:{borderLeftColor:f,background:`linear-gradient(to right, ${f}15, white)`},children:[m.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:f,color:((g=d.visuals)==null?void 0:g.badge_color)||"#FFFFFF"},children:o(u)}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-bold text-gray-800",children:u.name}),m.jsx("p",{className:"text-sm text-gray-600",children:l(u)})]})]},u.id)})})]})},wf=5e3,Qx="Domicilio",Ute=e=>e.nom_produit===Qx,qte=()=>({id:`delivery-${Date.now()}`,produitRef:"delivery-fee",nom_produit:Qx,prix_unitaire:wf,quantite:1}),Bte=({isOpen:e,onClose:t,selectedProduct:n,onAddToCart:r})=>{var x;const[i,o]=_.useState(1),[l,u]=_.useState(""),[d,f]=_.useState([]);if(_.useEffect(()=>{e&&(o((n==null?void 0:n.quantite)||1),u((n==null?void 0:n.commentaire)||""),f((n==null?void 0:n.excluded_ingredients)||[]))},[e,n]),!e||!n)return null;const p=()=>{const w=n.product;r({id:`oi${Date.now()}`,produitRef:w.id,nom_produit:w.nom_produit,prix_unitaire:w.prix_vente,quantite:i,commentaire:l.trim()||void 0,excluded_ingredients:d.length>0?d:void 0})},g=w=>{d.includes(w)?f(d.filter(S=>S!==w)):f([...d,w])},v=((x=n.product.ingredients)==null?void 0:x.split(",").map(w=>w.trim()).filter(Boolean))||[];return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n.product.nom_produit}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("img",{src:n.product.image,alt:n.product.nom_produit,className:"w-full h-48 object-cover rounded-lg mb-4"}),m.jsx("p",{className:"text-gray-600 mb-4",children:n.product.description}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("p",{className:"font-bold text-gray-800 mb-2",children:["Precio: ",Me(n.product.prix_vente)]}),m.jsxs("div",{className:"flex items-center mt-2",children:[m.jsx("button",{onClick:()=>o(Math.max(1,i-1)),className:"bg-gray-200 text-gray-700 rounded-l-lg px-3 py-1",children:"-"}),m.jsx("span",{className:"bg-gray-100 px-4 py-1",children:i}),m.jsx("button",{onClick:()=>o(i+1),className:"bg-gray-200 text-gray-700 rounded-r-lg px-3 py-1",children:"+"})]})]}),v.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"Ingredientes:"}),m.jsx("div",{className:"space-y-2",children:v.map((w,S)=>m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:`ingredient-${S}`,checked:!d.includes(w),onChange:()=>g(w),className:"mr-2"}),m.jsx("label",{htmlFor:`ingredient-${S}`,className:"text-gray-700",children:w})]},S))})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"comment",className:"block font-bold text-gray-800 mb-2",children:"Comentarios adicionales:"}),m.jsx("textarea",{id:"comment",value:l,onChange:w=>u(w.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-gray-700",rows:3,placeholder:"Instrucciones especiales, alergias, etc."})]}),m.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg transform hover:scale-105",children:["Agregar al carrito - ",Me(n.product.prix_vente*i)]})]})})})},Hte=({isOpen:e,order:t,onClose:n})=>{const r=Ha();if(!e||!t)return null;const i=()=>{r(`/order/${t.id}`)},o=()=>{const l=generateWhatsAppMessage(t),u=t.receipt_url?`&text=${l}`:"";window.open(`https://wa.me/573000000000?${u}`,"_blank")};return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h2",{className:"text-xl font-bold text-green-600",children:"¡Pedido enviado con éxito!"}),m.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Tu pedido ha sido enviado correctamente. Recibirás una confirmación pronto."}),m.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4",children:[m.jsxs("p",{className:"font-bold text-gray-800",children:["Número de pedido: #",t.id.slice(-6)]}),m.jsxs("p",{className:"text-gray-600",children:["Total: ",Me(t.total)]})]}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx("button",{onClick:i,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition",children:"Ver detalles del pedido"}),m.jsx("button",{onClick:o,className:"bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600 transition",children:"Enviar por WhatsApp"}),m.jsx("button",{onClick:n,className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"})]})]})})})},Fte=()=>{const{content:e}=LC(),[t,n]=_.useState([]),[r,i]=_.useState([]),[o,l]=_.useState(!0),[u,d]=_.useState(null),[f,p]=_.useState("all"),[g,v]=_.useState([]),[x,w]=_.useState(!1),[S,j]=_.useState(null),[E,A]=_.useState({nom:"",adresse:"",telephone:""}),[N,T]=_.useState("transferencia"),[k,M]=_.useState(null),[R,z]=_.useState(!1),[H,q]=_.useState(!1),[F,K]=_.useState(null),[ie,U]=_.useState([]),[Z,L]=_.useState(""),[V,oe]=_.useState(""),[fe,ae]=_.useState(""),[P,D]=_.useState(0),[te,Q]=_.useState(!1),[ee,me]=_.useState(8e4);_.useEffect(()=>{(async()=>{try{const[Ge,We]=await Promise.all([xe.getProducts(),xe.getCategories()]);n(Ge),i(We);const ht=Dte();if(ht)try{const mt=await xe.getOrderById(ht);mt&&U([mt])}catch(mt){console.error("Error fetching active order:",mt)}}catch(Ge){console.error("Error fetching data:",Ge),d("Error al cargar los datos. Por favor, intenta de nuevo más tarde.")}finally{l(!1)}})()},[]);const pe=_.useMemo(()=>f==="all"?t:t.filter(ge=>ge.categoria_id===f),[t,f]),$e=_.useMemo(()=>{const ge=g.reduce((mt,Ye)=>mt+Ye.quantite*Ye.prix_unitaire,0);if(g.length===0)return Q(!1),ge;const Ge=ge>=ee;Q(Ge);const ht=ge+(Ge?0:wf);return Math.max(0,ht-P)},[g,P,ee]),ne=ge=>{j({product:ge}),w(!0)},Se=ge=>{let Ge=[...g];if(ge.commentaire)Ge.push({...ge,id:`oi${Date.now()}`});else{const We=Ge.findIndex(ht=>ht.produitRef===ge.produitRef&&!ht.commentaire);We>-1?Ge[We].quantite+=ge.quantite:Ge.push(ge)}v(Ge),w(!1)},Te=(ge,Ge)=>{const We=g.findIndex(Ye=>Ye.id===ge);if(We===-1)return;let ht=[...g];const mt=ht[We].quantite+Ge;mt<=0?ht.splice(We,1):ht[We].quantite=mt,v(ht)},ce=async()=>{ae("");try{const Ge=(await Xx()).find(kn=>{const Ln=kn.config;return Ln.promo_code&&Ln.promo_code.toUpperCase()===Z.toUpperCase()});if(!Ge){ae("Código de promoción inválido");return}const We=Ge.config,ht=Ge.conditions,mt=g.reduce((kn,Ln)=>kn+Ln.quantite*Ln.prix_unitaire,0),Ye=ht.find(kn=>kn.type==="min_order_amount");if(Ye&&mt<Ye.value){ae(`Monto mínimo requerido: $${Ye.value.toLocaleString()}`);return}let Tn=0;We.discount_type==="percentage"?Tn=mt*We.discount_value/100:We.discount_type==="fixed_amount"&&(Tn=We.discount_value),oe(Z),D(Tn),ae("")}catch(ge){console.error("Error applying promo code:",ge),ae("Error al aplicar el código de promoción")}},At=()=>{L(""),oe(""),D(0),ae("")},Le=async ge=>{if(ge.preventDefault(),!(!E.nom||!E.telephone||!E.adresse||!k||!N)){z(!0);try{let Ge;k&&(Ge=await KA(k,{customerReference:E.telephone||E.nom}));const ht={items:g.length>0?[...g,qte()]:g,clientInfo:E,receipt_url:Ge,payment_method:N},mt=await xe.submitCustomerOrder(ht);K(mt),q(!0),v([]),A({nom:"",adresse:"",telephone:""}),M(null),T("transferencia"),Rte(mt.id)}catch(Ge){alert("Ocurrió un error al enviar el pedido o subir el comprobante."),console.error(Ge)}finally{z(!1)}}},Ct=ge=>{const Ge=Date.now(),We=[],ht=ge.items.reduce((mt,Ye,Tn)=>{if(Ute(Ye))return mt;const kn=t.find(ue=>ue.id===Ye.produitRef);if(!kn)return We.push(Ye.nom_produit||Ye.produitRef),mt;const Ln={...Ye,id:`oi-${Ge}-${Tn}`,prix_unitaire:kn.prix_vente};return[...mt,Ln]},[]);We.length>0&&alert(`Algunos productos no están disponibles: ${We.join(", ")}. Se han omitido del pedido.`),v(ht),U([])},Tt=Ha(),Bt=()=>{g.length>0&&!window.confirm("¿Estás seguro de que quieres volver? Tu carrito será vaciado.")||Tt("/")},Qn=e?$C(e.hero.style,e.hero.backgroundImage):{};return m.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:Qn,children:[m.jsxs("div",{className:"flex-1 p-4 lg:p-8",children:[m.jsxs("button",{onClick:Bt,className:"flex items-center text-brand-primary hover:text-brand-primary-dark font-medium mb-4 transition-colors",children:[m.jsx(XA,{size:20,className:"mr-2"}),"Volver"]}),m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Realizar Pedido"}),m.jsx($te,{}),m.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2",children:[m.jsx("button",{onClick:()=>p("all"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${f==="all"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:"Todos"}),r.map(ge=>m.jsx("button",{onClick:()=>p(ge.id),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${f===ge.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:ge.nom},ge.id))]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:pe.map(ge=>m.jsx(zte,{product:ge,onClick:()=>ne(ge)},ge.id))})]}),m.jsxs("div",{className:"lg:w-96 bg-white p-4 lg:p-6 shadow-lg flex flex-col",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Mi Carrito"}),g.length===0?m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[m.jsx(oC,{size:48,className:"mb-3"}),m.jsx("p",{children:"Tu carrito está vacío."})]}):m.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[g.map(ge=>m.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-800",children:ge.nom_produit}),ge.commentaire&&m.jsx("p",{className:"text-sm text-gray-500 italic",children:ge.commentaire}),ge.excluded_ingredients&&ge.excluded_ingredients.length>0&&m.jsxs("p",{className:"text-xs text-gray-500",children:["Sin: ",ge.excluded_ingredients.join(", ")]}),m.jsx("p",{className:"text-sm text-gray-600",children:Me(ge.prix_unitaire)})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("button",{onClick:()=>Te(ge.id,-1),className:"text-brand-primary hover:text-brand-primary-dark p-1",children:m.jsx(aC,{size:16})}),m.jsx("span",{className:"mx-2 text-gray-700 font-medium",children:ge.quantite}),m.jsx("button",{onClick:()=>Te(ge.id,1),className:"text-brand-primary hover:text-brand-primary-dark p-1",children:m.jsx(uu,{size:16})})]})]},ge.id)),g.length>0&&m.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[m.jsx("p",{className:"font-medium text-gray-800",children:Qx}),te?m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("p",{className:"text-sm text-gray-400 line-through",children:Me(wf)}),m.jsx("p",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):m.jsx("p",{className:"text-sm text-gray-600",children:Me(wf)})]})]}),m.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"promoCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Código de Promoción:"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("input",{type:"text",id:"promoCode",value:Z,onChange:ge=>L(ge.target.value.toUpperCase()),placeholder:"Ingresa tu código",className:"flex-1 border border-gray-300 rounded-md shadow-sm p-2 uppercase"}),m.jsx("button",{type:"button",onClick:ce,disabled:!Z.trim()||V===Z,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Aplicar"})]}),V&&m.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md flex items-center justify-between",children:[m.jsxs("span",{className:"text-sm text-green-700 font-medium",children:['✓ Código "',V,'" aplicado']}),m.jsx("button",{type:"button",onClick:At,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]}),fe&&m.jsx("p",{className:"mt-2 text-sm text-red-600",children:fe})]}),m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Total:"}),m.jsx("p",{className:"text-xl font-bold text-brand-primary",children:Me($e)})]}),ie.length>0&&m.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[m.jsx("p",{className:"font-semibold text-blue-700 mb-2",children:"Pedido anterior:"}),ie.map(ge=>m.jsxs("div",{className:"flex justify-between items-center text-sm text-blue-600 mb-1",children:[m.jsxs("span",{children:["#",ge.id.slice(-6)," - ",Me(ge.total)]}),m.jsxs("button",{onClick:()=>Ct(ge),className:"text-blue-500 hover:underline flex items-center",children:[m.jsx(ez,{size:16,className:"mr-1"})," Reordenar"]})]},ge.id))]}),m.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:["Nombre: ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",id:"clientName",value:E.nom,onChange:ge=>A({...E,nom:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ingresa tu nombre completo"})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"clientPhone",className:"block text-sm font-medium text-gray-700",children:["Teléfono: ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"tel",id:"clientPhone",value:E.telephone,onChange:ge=>A({...E,telephone:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ej: 3001234567"})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:["Dirección: ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",id:"clientAddress",value:E.adresse,onChange:ge=>A({...E,adresse:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Calle, número, barrio, ciudad"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pago:"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center p-3 border-2 border-brand-primary rounded-lg cursor-pointer hover:bg-brand-primary/5 transition",children:[m.jsx("input",{type:"radio",name:"paymentMethod",value:"transferencia",checked:N==="transferencia",onChange:()=>T("transferencia"),className:"form-radio text-brand-primary"}),m.jsx("span",{className:"ml-3 font-medium",children:"Transferencia"})]}),m.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-300 rounded-lg opacity-50 cursor-not-allowed bg-gray-100",children:[m.jsx("input",{type:"radio",name:"paymentMethod",value:"efectivo",disabled:!0,className:"form-radio"}),m.jsxs("span",{className:"ml-3 text-gray-500",children:["Efectivo ",m.jsx("span",{className:"text-xs",children:"(no disponible por el momento)"})]})]})]}),m.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:m.jsxs("p",{className:"text-sm font-medium text-blue-800",children:[m.jsx("span",{className:"font-bold",children:"Nequi / BRE-B:"})," 3238090562"]})})]}),N==="transferencia"&&m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"paymentProof",className:"block text-sm font-medium text-gray-700 mb-2",children:["Comprobante de Pago: ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"file",id:"paymentProof",accept:"image/*",onChange:ge=>M(ge.target.files?ge.target.files[0]:null),className:`mt-1 block w-full text-sm text-gray-800 font-medium
                                        file:mr-4 file:py-3 file:px-6 
                                        file:rounded-lg file:border-2 file:border-brand-primary
                                        file:text-sm file:font-bold 
                                        file:bg-brand-primary file:text-white 
                                        hover:file:bg-brand-primary-dark hover:file:shadow-lg
                                        file:transition-all file:cursor-pointer
                                        border-2 border-gray-300 rounded-lg p-2`,required:!0}),!k&&m.jsx("p",{className:"mt-2 text-xs text-red-600 font-medium",children:"* El comprobante de pago es obligatorio para confirmar tu pedido"})]}),m.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed shadow-md",disabled:R||g.length===0||N==="transferencia"&&!k,children:R?"Enviando...":"Confirmar Pedido"}),N==="transferencia"&&!k&&g.length>0&&m.jsx("p",{className:"text-center text-sm text-red-600 font-medium mt-2",children:"Debes subir el comprobante de pago para confirmar tu pedido"})]})]})]}),m.jsx(Bte,{isOpen:x,onClose:()=>w(!1),selectedProduct:S,onAddToCart:Se}),m.jsx(Hte,{isOpen:H,order:F,onClose:()=>q(!1)})]})},Kte=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[m.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),m.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouvée"}),m.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Désolé, la page que vous recherchez n'existe pas."}),m.jsx(L0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour à l'accueil"})]}),Gte=()=>{const[e,t]=_.useState([]),[n,r]=_.useState(!0),[i,o]=_.useState(null),[l,u]=_.useState({startDate:"",endDate:"",paymentMethod:"all"});_.useEffect(()=>{(async()=>{try{const x=await xe.getFinalizedOrders();t([...x].sort((w,S)=>S.date_creation-w.date_creation))}catch(x){console.error("Failed to fetch finalized orders",x)}finally{r(!1)}})()},[]);const d=_.useMemo(()=>e.filter(v=>{const x=new Date(v.date_creation),w=l.startDate?new Date(l.startDate):null,S=l.endDate?new Date(l.endDate):null;w&&w.setHours(0,0,0,0),S&&S.setHours(23,59,59,999);const j=w?x>=w:!0,E=S?x<=S:!0,A=l.paymentMethod==="all"||v.payment_method===l.paymentMethod;return j&&E&&A}),[e,l]),f=v=>{u({...l,[v.target.name]:v.target.value})},p=()=>{const w=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Método de pago"].join(","),...d.map(A=>{var N;return[new Date(A.date_creation).toLocaleString("es-CO"),A.type==="sur_place"?"En el local":"Para llevar",`"${A.type==="sur_place"?A.table_nom||"N/A":((N=A.clientInfo)==null?void 0:N.nom)||"N/A"}"`,A.couverts,Me(A.total),Me(A.profit||0),A.payment_method||"N/A"].join(",")})].join(`
`),S=new Blob([`\uFEFF${w}`],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(S),E=document.createElement("a");E.href=j,E.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(j)},g=_.useMemo(()=>d.reduce((v,x)=>(v.totalSales+=x.total,v.totalProfit+=x.profit||0,v),{totalSales:0,totalProfit:0}),[d]);return n?m.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:m.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),m.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),m.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),m.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:f,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[m.jsx("option",{value:"all",children:"Todas"}),m.jsx("option",{value:"efectivo",children:"Efectivo"}),m.jsx("option",{value:"transferencia",children:"Transferencia"}),m.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),m.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[m.jsx(U5,{size:18})," Export CSV"]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),m.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),m.jsx("tbody",{children:d.map(v=>{var x;return m.jsxs(Gr.Fragment,{children:[m.jsxs("tr",{onClick:()=>o(i===v.id?null:v.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[m.jsx("td",{className:"p-3",children:i===v.id?m.jsx(JA,{size:16}):m.jsx(N5,{size:16})}),m.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(v.date_creation).toLocaleString("es-CO")}),m.jsx("td",{className:"p-3 text-sm",children:v.type==="sur_place"?m.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[m.jsx(W0,{size:12})," En el local"]}):m.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[m.jsx(sC,{size:12})," Para llevar"]})}),m.jsx("td",{className:"p-3 font-semibold text-gray-900",children:v.type==="sur_place"?v.table_nom||"N/A":((x=v.clientInfo)==null?void 0:x.nom)||"N/A"}),m.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:Me(v.total)}),m.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:Me(v.profit||0)}),m.jsx("td",{className:"p-3 text-gray-700 capitalize",children:v.payment_method||"N/A"})]}),i===v.id&&m.jsx("tr",{className:"bg-gray-50",children:m.jsx("td",{colSpan:7,className:"p-4",children:m.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[m.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artículos:"}),m.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:v.items.map(w=>m.jsxs("li",{children:[w.quantite,"x ",w.nom_produit," - ",m.jsx("span",{className:"font-semibold",children:Me(w.prix_unitaire*w.quantite)})]},w.id))})]})})})]},v.id)})}),m.jsx("tfoot",{className:"border-t-2 border-gray-300",children:m.jsxs("tr",{className:"font-bold text-gray-900",children:[m.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),m.jsx("td",{className:"p-3 text-right",children:Me(g.totalSales)}),m.jsx("td",{className:"p-3 text-right text-green-700",children:Me(g.totalProfit)}),m.jsx("td",{})]})})]})}),d.length===0&&m.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningún pedido finalizado coincide con tus filtros."})]})]})};new Set(o$);const Yte=()=>m.jsx("div",{children:"Contenu de la page de personnalisation"}),SR=({onLogout:e})=>{const t=Ha(),n=Gr.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return m.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accès non autorisé"}),m.jsx("p",{className:"text-base text-gray-600",children:"Votre rôle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir à l'écran de connexion."})]}),m.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour à la connexion"})]})},jR=()=>m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),qr=({children:e,permissionKey:t})=>{var u;const{role:n,loading:r,logout:i}=ca();if(r)return m.jsx(jR,{});if(!n)return m.jsx(jf,{to:"/",replace:!0});const o=t?(u=n.permissions)==null?void 0:u[t]:void 0;if(!(t?Pf(o):!0)){const d=J0(n);return d?m.jsx(jf,{to:d,replace:!0}):m.jsx(SR,{onLogout:i})}return e},Vte=()=>{const{role:e,loading:t,logout:n}=ca();if(t)return m.jsx(jR,{});if(!e)return m.jsx(jU,{});const r=J0(e);return r?m.jsx(jf,{to:r,replace:!0}):m.jsx(SR,{onLogout:n})},Wte=()=>m.jsx(qr,{children:m.jsx(rU,{})}),Xte=()=>m.jsxs(Y4,{children:[m.jsx(On,{path:"/",element:m.jsx(Vte,{})}),m.jsx(On,{path:"/login",element:m.jsx(jf,{to:"/",replace:!0})}),m.jsx(On,{path:"/commande-client",element:m.jsx(Fte,{})}),m.jsxs(On,{element:m.jsx(Wte,{}),children:[m.jsx(On,{path:"/dashboard",element:m.jsx(qr,{permissionKey:"/dashboard",children:m.jsx(zee,{})})}),m.jsx(On,{path:"/para-llevar",element:m.jsx(qr,{permissionKey:"/para-llevar",children:m.jsx(ite,{})})}),m.jsx(On,{path:"/ventes",element:m.jsx(qr,{permissionKey:"/ventes",children:m.jsx(Fee,{})})}),m.jsx(On,{path:"/commande/:tableId",element:m.jsx(qr,{permissionKey:"/ventes",children:m.jsx(ete,{})})}),m.jsx(On,{path:"/cocina",element:m.jsx(qr,{permissionKey:"/cocina",children:m.jsx(ate,{})})}),m.jsx(On,{path:"/resume-ventes",element:m.jsx(qr,{permissionKey:"/resume-ventes",children:m.jsx(Gte,{})})}),m.jsx(On,{path:"/ingredients",element:m.jsx(qr,{permissionKey:"/ingredients",children:m.jsx(ste,{})})}),m.jsx(On,{path:"/produits",element:m.jsx(qr,{permissionKey:"/produits",children:m.jsx(ute,{})})}),m.jsx(On,{path:"/promotions",element:m.jsx(qr,{permissionKey:"/promotions",children:m.jsx(Mte,{})})}),m.jsx(On,{path:za,element:m.jsx(qr,{permissionKey:za,children:m.jsx(Yte,{})})})]}),m.jsx(On,{path:"*",element:m.jsx(Kte,{})})]}),Qte=()=>m.jsx(X$,{children:m.jsx(gI,{children:m.jsx(Xte,{})})}),OR=document.getElementById("root");if(!OR)throw new Error("Could not find root element to mount to");const Jte=Z3.createRoot(OR);Jte.render(m.jsx(Gr.StrictMode,{children:m.jsx(Qte,{})}));
