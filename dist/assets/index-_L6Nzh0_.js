var c4=Object.defineProperty;var u4=(e,t,n)=>t in e?c4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Eg=(e,t,n)=>u4(e,typeof t!="symbol"?t+"":t,n);function d4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f4(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Og={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function h4(){if(fS)return Nc;fS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Nc.Fragment=t,Nc.jsx=n,Nc.jsxs=n,Nc}var hS;function m4(){return hS||(hS=1,Og.exports=h4()),Og.exports}var u=m4(),Ag={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function p4(){if(mS)return Re;mS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function N(R,L,X){this.props=R,this.context=L,this.refs=S,this.updater=X||w}N.prototype.isReactComponent={},N.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function O(){}O.prototype=N.prototype;function A(R,L,X){this.props=R,this.context=L,this.refs=S,this.updater=X||w}var C=A.prototype=new O;C.constructor=A,j(C,N.prototype),C.isPureReactComponent=!0;var T=Array.isArray;function k(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function q(R,L,X){var ie=X.ref;return{$$typeof:e,type:R,key:L,ref:ie!==void 0?ie:null,props:X}}function $(R,L){return q(R.type,L,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function H(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return L[X]})}var re=/\/+/g;function B(R,L){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):L.toString(36)}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(k,k):(R.status="pending",R.then(function(L){R.status==="pending"&&(R.status="fulfilled",R.value=L)},function(L){R.status==="pending"&&(R.status="rejected",R.reason=L)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function I(R,L,X,ie,se){var ye=typeof R;(ye==="undefined"||ye==="boolean")&&(R=null);var je=!1;if(R===null)je=!0;else switch(ye){case"bigint":case"string":case"number":je=!0;break;case"object":switch(R.$$typeof){case e:case t:je=!0;break;case p:return je=R._init,I(je(R._payload),L,X,ie,se)}}if(je)return se=se(R),je=ie===""?"."+B(R,0):ie,T(se)?(X="",je!=null&&(X=je.replace(re,"$&/")+"/"),I(se,L,X,"",function(pe){return pe})):se!=null&&(F(se)&&(se=$(se,X+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(re,"$&/")+"/")+je)),L.push(se)),1;je=0;var fe=ie===""?".":ie+":";if(T(R))for(var V=0;V<R.length;V++)ie=R[V],ye=fe+B(ie,V),je+=I(ie,L,X,ye,se);else if(V=b(R),typeof V=="function")for(R=V.call(R),V=0;!(ie=R.next()).done;)ie=ie.value,ye=fe+B(ie,V++),je+=I(ie,L,X,ye,se);else if(ye==="object"){if(typeof R.then=="function")return I(K(R),L,X,ie,se);throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return je}function Y(R,L,X){if(R==null)return R;var ie=[],se=0;return I(R,ie,"","",function(ye){return L.call(X,ye,se++)}),ie}function W(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var ue=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ne={map:Y,forEach:function(R,L,X){Y(R,function(){L.apply(this,arguments)},X)},count:function(R){var L=0;return Y(R,function(){L++}),L},toArray:function(R){return Y(R,function(L){return L})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Re.Activity=g,Re.Children=ne,Re.Component=N,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=A,Re.StrictMode=r,Re.Suspense=f,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Re.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},Re.cache=function(R){return function(){return R.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(R,L,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=j({},R.props),se=R.key;if(L!=null)for(ye in L.key!==void 0&&(se=""+L.key),L)!D.call(L,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&L.ref===void 0||(ie[ye]=L[ye]);var ye=arguments.length-2;if(ye===1)ie.children=X;else if(1<ye){for(var je=Array(ye),fe=0;fe<ye;fe++)je[fe]=arguments[fe+2];ie.children=je}return q(R.type,se,ie)},Re.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Re.createElement=function(R,L,X){var ie,se={},ye=null;if(L!=null)for(ie in L.key!==void 0&&(ye=""+L.key),L)D.call(L,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=L[ie]);var je=arguments.length-2;if(je===1)se.children=X;else if(1<je){for(var fe=Array(je),V=0;V<je;V++)fe[V]=arguments[V+2];se.children=fe}if(R&&R.defaultProps)for(ie in je=R.defaultProps,je)se[ie]===void 0&&(se[ie]=je[ie]);return q(R,ye,se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(R){return{$$typeof:d,render:R}},Re.isValidElement=F,Re.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:W}},Re.memo=function(R,L){return{$$typeof:h,type:R,compare:L===void 0?null:L}},Re.startTransition=function(R){var L=M.T,X={};M.T=X;try{var ie=R(),se=M.S;se!==null&&se(X,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(k,ue)}catch(ye){ue(ye)}finally{L!==null&&X.types!==null&&(L.types=X.types),M.T=L}},Re.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Re.use=function(R){return M.H.use(R)},Re.useActionState=function(R,L,X){return M.H.useActionState(R,L,X)},Re.useCallback=function(R,L){return M.H.useCallback(R,L)},Re.useContext=function(R){return M.H.useContext(R)},Re.useDebugValue=function(){},Re.useDeferredValue=function(R,L){return M.H.useDeferredValue(R,L)},Re.useEffect=function(R,L){return M.H.useEffect(R,L)},Re.useEffectEvent=function(R){return M.H.useEffectEvent(R)},Re.useId=function(){return M.H.useId()},Re.useImperativeHandle=function(R,L,X){return M.H.useImperativeHandle(R,L,X)},Re.useInsertionEffect=function(R,L){return M.H.useInsertionEffect(R,L)},Re.useLayoutEffect=function(R,L){return M.H.useLayoutEffect(R,L)},Re.useMemo=function(R,L){return M.H.useMemo(R,L)},Re.useOptimistic=function(R,L){return M.H.useOptimistic(R,L)},Re.useReducer=function(R,L,X){return M.H.useReducer(R,L,X)},Re.useRef=function(R){return M.H.useRef(R)},Re.useState=function(R){return M.H.useState(R)},Re.useSyncExternalStore=function(R,L,X){return M.H.useSyncExternalStore(R,L,X)},Re.useTransition=function(){return M.H.useTransition()},Re.version="19.2.0",Re}var pS;function bl(){return pS||(pS=1,Ag.exports=p4()),Ag.exports}var x=bl();const Yn=Vr(x),g4=d4({__proto__:null,default:Yn},[x]);var Cg={exports:{}},Ec={},Tg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function v4(){return gS||(gS=1,(function(e){function t(I,Y){var W=I.length;I.push(Y);e:for(;0<W;){var ue=W-1>>>1,ne=I[ue];if(0<i(ne,Y))I[ue]=Y,I[W]=ne,W=ue;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Y=I[0],W=I.pop();if(W!==Y){I[0]=W;e:for(var ue=0,ne=I.length,R=ne>>>1;ue<R;){var L=2*(ue+1)-1,X=I[L],ie=L+1,se=I[ie];if(0>i(X,W))ie<ne&&0>i(se,X)?(I[ue]=se,I[ie]=W,ue=ie):(I[ue]=X,I[L]=W,ue=L);else if(ie<ne&&0>i(se,W))I[ue]=se,I[ie]=W,ue=ie;else break e}}return Y}function i(I,Y){var W=I.sortIndex-Y.sortIndex;return W!==0?W:I.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],h=[],p=1,g=null,v=3,b=!1,w=!1,j=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(I){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=I)r(h),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(h)}}function T(I){if(j=!1,C(I),!w)if(n(f)!==null)w=!0,k||(k=!0,H());else{var Y=n(h);Y!==null&&K(T,Y.startTime-I)}}var k=!1,M=-1,D=5,q=-1;function $(){return S?!0:!(e.unstable_now()-q<D)}function F(){if(S=!1,k){var I=e.unstable_now();q=I;var Y=!0;try{e:{w=!1,j&&(j=!1,O(M),M=-1),b=!0;var W=v;try{t:{for(C(I),g=n(f);g!==null&&!(g.expirationTime>I&&$());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,v=g.priorityLevel;var ne=ue(g.expirationTime<=I);if(I=e.unstable_now(),typeof ne=="function"){g.callback=ne,C(I),Y=!0;break t}g===n(f)&&r(f),C(I)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var R=n(h);R!==null&&K(T,R.startTime-I),Y=!1}}break e}finally{g=null,v=W,b=!1}Y=void 0}}finally{Y?H():k=!1}}}var H;if(typeof A=="function")H=function(){A(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,B=re.port2;re.port1.onmessage=F,H=function(){B.postMessage(null)}}else H=function(){N(F,0)};function K(I,Y){M=N(function(){I(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var W=v;v=Y;try{return I()}finally{v=W}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=v;v=I;try{return Y()}finally{v=W}},e.unstable_scheduleCallback=function(I,Y,W){var ue=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ue+W:ue):W=ue,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,I={id:p++,callback:Y,priorityLevel:I,startTime:W,expirationTime:ne,sortIndex:-1},W>ue?(I.sortIndex=W,t(h,I),n(f)===null&&I===n(h)&&(j?(O(M),M=-1):j=!0,K(T,W-ue))):(I.sortIndex=ne,t(f,I),w||b||(w=!0,k||(k=!0,H()))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var Y=v;return function(){var W=v;v=Y;try{return I.apply(this,arguments)}finally{v=W}}}})(kg)),kg}var vS;function y4(){return vS||(vS=1,Tg.exports=v4()),Tg.exports}var Pg={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function b4(){if(yS)return En;yS=1;var e=bl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,En.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,p)},En.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},En.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},En.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},En.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},En.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},En.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},En.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},En.requestFormReset=function(f){r.d.r(f)},En.unstable_batchedUpdates=function(f,h){return f(h)},En.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},En.useFormStatus=function(){return l.H.useHostTransitionStatus()},En.version="19.2.0",En}var bS;function kA(){if(bS)return Pg.exports;bS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=b4(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function x4(){if(xS)return Ec;xS=1;var e=y4(),t=bl(),n=kA();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return f(y),a;if(_===m)return f(y),o;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=_;else{for(var E=!1,P=y.child;P;){if(P===c){E=!0,c=y,m=_;break}if(P===m){E=!0,m=y,c=_;break}P=P.sibling}if(!E){for(P=_.child;P;){if(P===c){E=!0,c=_,m=y;break}if(P===m){E=!0,m=_,c=y;break}P=P.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var re=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===re?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case k:return"SuspenseList";case q:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case A:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case C:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return o=a.displayName||null,o!==null?o:B(a.type)||"Memo";case D:o=a._payload,a=a._init;try{return B(a(o))}catch{}}return null}var K=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ue=[],ne=-1;function R(a){return{current:a}}function L(a){0>ne||(a.current=ue[ne],ue[ne]=null,ne--)}function X(a,o){ne++,ue[ne]=a.current,a.current=o}var ie=R(null),se=R(null),ye=R(null),je=R(null);function fe(a,o){switch(X(ye,o),X(se,a),X(ie,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?Dj(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=Dj(o),a=Ij(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(ie),X(ie,a)}function V(){L(ie),L(se),L(ye)}function pe(a){a.memoizedState!==null&&X(je,a);var o=ie.current,c=Ij(o,a.type);o!==c&&(X(se,a),X(ie,c))}function be(a){se.current===a&&(L(ie),L(se)),je.current===a&&(L(je),_c._currentValue=W)}var le,Ve;function Me(a){if(le===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);le=o&&o[1]||"",Ve=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+Ve}var Tt=!1;function kt(a,o){if(!a||Tt)return"";Tt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var Z=te}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(te){Z=te}a.call(ce.prototype)}}else{try{throw Error()}catch(te){Z=te}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&Z&&typeof te.stack=="string")return[te.stack,Z.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),E=_[0],P=_[1];if(E&&P){var U=E.split(`
`),J=P.split(`
`);for(y=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(m===U.length||y===J.length)for(m=U.length-1,y=J.length-1;1<=m&&0<=y&&U[m]!==J[y];)y--;for(;1<=m&&0<=y;m--,y--)if(U[m]!==J[y]){if(m!==1||y!==1)do if(m--,y--,0>y||U[m]!==J[y]){var ae=`
`+U[m].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=m&&0<=y);break}}}finally{Tt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Me(c):""}function Ft(a,o){switch(a.tag){case 26:case 27:case 5:return Me(a.type);case 16:return Me("Lazy");case 13:return a.child!==o&&o!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return kt(a.type,!1);case 11:return kt(a.type.render,!1);case 1:return kt(a.type,!0);case 31:return Me("Activity");default:return""}}function Wn(a){try{var o="",c=null;do o+=Ft(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ge=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,Ke=e.unstable_cancelCallback,dt=e.unstable_shouldYield,St=e.unstable_requestPaint,Qe=e.unstable_now,Xn=e.unstable_getCurrentPriorityLevel,Qr=e.unstable_ImmediatePriority,Jr=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,he=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,Je=e.log,Ze=e.unstable_setDisableYieldValue,Pt=null,Ie=null;function at(a){if(typeof Je=="function"&&Ze(a),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Pt,a)}catch{}}var yt=Math.clz32?Math.clz32:st,Mt=Math.log,Te=Math.LN2;function st(a){return a>>>=0,a===0?32:31-(Mt(a)/Te|0)|0}var Ut=256,cn=262144,Dr=4194304;function Kt(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qs(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,_=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var P=m&134217727;return P!==0?(m=P&~_,m!==0?y=Kt(m):(E&=P,E!==0?y=Kt(E):c||(c=P&~a,c!==0&&(y=Kt(c))))):(P=m&~_,P!==0?y=Kt(P):E!==0?y=Kt(E):c||(c=m&~a,c!==0&&(y=Kt(c)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:y}function Rl(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function XR(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(){var a=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),a}function mm(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Dl(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function QR(a,o,c,m,y,_){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var P=a.entanglements,U=a.expirationTimes,J=a.hiddenUpdates;for(c=E&~c;0<c;){var ae=31-yt(c),ce=1<<ae;P[ae]=0,U[ae]=-1;var Z=J[ae];if(Z!==null)for(J[ae]=null,ae=0;ae<Z.length;ae++){var te=Z[ae];te!==null&&(te.lane&=-536870913)}c&=~ce}m!==0&&v_(a,m,0),_!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=_&~(E&~o))}function v_(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-yt(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function y_(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-yt(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function b_(a,o){var c=o&-o;return c=(c&42)!==0?1:pm(c),(c&(a.suspendedLanes|o))!==0?0:c}function pm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function x_(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:iS(a.type))}function __(a,o){var c=Y.p;try{return Y.p=a,o()}finally{Y.p=c}}var ni=Math.random().toString(36).slice(2),yn="__reactFiber$"+ni,In="__reactProps$"+ni,Js="__reactContainer$"+ni,vm="__reactEvents$"+ni,JR="__reactListeners$"+ni,ZR="__reactHandles$"+ni,w_="__reactResources$"+ni,Il="__reactMarker$"+ni;function ym(a){delete a[yn],delete a[In],delete a[vm],delete a[JR],delete a[ZR]}function Zs(a){var o=a[yn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Js]||c[yn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=Hj(a);a!==null;){if(c=a[yn])return c;a=Hj(a)}return o}a=c,c=a.parentNode}return null}function eo(a){if(a=a[yn]||a[Js]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Ll(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function to(a){var o=a[w_];return o||(o=a[w_]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function un(a){a[Il]=!0}var j_=new Set,S_={};function Yi(a,o){no(a,o),no(a+"Capture",o)}function no(a,o){for(S_[a]=o,a=0;a<o.length;a++)j_.add(o[a])}var e3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),N_={},E_={};function t3(a){return ge.call(E_,a)?!0:ge.call(N_,a)?!1:e3.test(a)?E_[a]=!0:(N_[a]=!0,!1)}function zu(a,o,c){if(t3(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Bu(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function pa(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function mr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function O_(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function n3(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,_=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){c=""+E,_.call(this,E)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function bm(a){if(!a._valueTracker){var o=O_(a)?"checked":"value";a._valueTracker=n3(a,o,""+a[o])}}function A_(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=O_(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function qu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var r3=/[\n"\\]/g;function pr(a){return a.replace(r3,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xm(a,o,c,m,y,_,E,P){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),o!=null?E==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+mr(o)):a.value!==""+mr(o)&&(a.value=""+mr(o)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),o!=null?_m(a,E,mr(o)):c!=null?_m(a,E,mr(c)):m!=null&&a.removeAttribute("value"),y==null&&_!=null&&(a.defaultChecked=!!_),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.name=""+mr(P):a.removeAttribute("name")}function C_(a,o,c,m,y,_,E,P){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){bm(a);return}c=c!=null?""+mr(c):"",o=o!=null?""+mr(o):c,P||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=P?a.checked:!!m,a.defaultChecked=!!m,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),bm(a)}function _m(a,o,c){o==="number"&&qu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ro(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+mr(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function T_(a,o,c){if(o!=null&&(o=""+mr(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+mr(c):""}function k_(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=mr(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),bm(a)}function ao(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var a3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function P_(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||a3.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function M_(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&P_(a,y,m)}else for(var _ in o)o.hasOwnProperty(_)&&P_(a,_,o[_])}function wm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hu(a){return s3.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ga(){}var jm=null;function Sm(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var io=null,so=null;function R_(a){var o=eo(a);if(o&&(a=o.stateNode)){var c=a[In]||null;e:switch(a=o.stateNode,o.type){case"input":if(xm(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+pr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[In]||null;if(!y)throw Error(r(90));xm(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&A_(m)}break e;case"textarea":T_(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ro(a,!!c.multiple,o,!1)}}}var Nm=!1;function D_(a,o,c){if(Nm)return a(o,c);Nm=!0;try{var m=a(o);return m}finally{if(Nm=!1,(io!==null||so!==null)&&(Td(),io&&(o=io,a=so,so=io=null,R_(o),a)))for(o=0;o<a.length;o++)R_(a[o])}}function Ul(a,o){var c=a.stateNode;if(c===null)return null;var m=c[In]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=!1;if(va)try{var $l={};Object.defineProperty($l,"passive",{get:function(){Em=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{Em=!1}var ri=null,Om=null,Fu=null;function I_(){if(Fu)return Fu;var a,o=Om,c=o.length,m,y="value"in ri?ri.value:ri.textContent,_=y.length;for(a=0;a<c&&o[a]===y[a];a++);var E=c-a;for(m=1;m<=E&&o[c-m]===y[_-m];m++);return Fu=y.slice(a,1<m?1-m:void 0)}function Ku(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Gu(){return!0}function L_(){return!1}function Ln(a){function o(c,m,y,_,E){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(c=a[P],this[P]=c?c(_):_[P]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Gu:L_,this.isPropagationStopped=L_,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),o}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=Ln(Vi),zl=g({},Vi,{view:0,detail:0}),o3=Ln(zl),Am,Cm,Bl,Vu=g({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bl&&(Bl&&a.type==="mousemove"?(Am=a.screenX-Bl.screenX,Cm=a.screenY-Bl.screenY):Cm=Am=0,Bl=a),Am)},movementY:function(a){return"movementY"in a?a.movementY:Cm}}),U_=Ln(Vu),l3=g({},Vu,{dataTransfer:0}),c3=Ln(l3),u3=g({},zl,{relatedTarget:0}),Tm=Ln(u3),d3=g({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),f3=Ln(d3),h3=g({},Vi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),m3=Ln(h3),p3=g({},Vi,{data:0}),$_=Ln(p3),g3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b3(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=y3[a])?!!o[a]:!1}function km(){return b3}var x3=g({},zl,{key:function(a){if(a.key){var o=g3[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ku(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?v3[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(a){return a.type==="keypress"?Ku(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ku(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),_3=Ln(x3),w3=g({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z_=Ln(w3),j3=g({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),S3=Ln(j3),N3=g({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E3=Ln(N3),O3=g({},Vu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),A3=Ln(O3),C3=g({},Vi,{newState:0,oldState:0}),T3=Ln(C3),k3=[9,13,27,32],Pm=va&&"CompositionEvent"in window,ql=null;va&&"documentMode"in document&&(ql=document.documentMode);var P3=va&&"TextEvent"in window&&!ql,B_=va&&(!Pm||ql&&8<ql&&11>=ql),q_=" ",H_=!1;function F_(a,o){switch(a){case"keyup":return k3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var oo=!1;function M3(a,o){switch(a){case"compositionend":return K_(o);case"keypress":return o.which!==32?null:(H_=!0,q_);case"textInput":return a=o.data,a===q_&&H_?null:a;default:return null}}function R3(a,o){if(oo)return a==="compositionend"||!Pm&&F_(a,o)?(a=I_(),Fu=Om=ri=null,oo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return B_&&o.locale!=="ko"?null:o.data;default:return null}}var D3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!D3[a.type]:o==="textarea"}function Y_(a,o,c,m){io?so?so.push(m):so=[m]:io=m,o=Ld(o,"onChange"),0<o.length&&(c=new Yu("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var Hl=null,Fl=null;function I3(a){Cj(a,0)}function Wu(a){var o=Ll(a);if(A_(o))return a}function V_(a,o){if(a==="change")return o}var W_=!1;if(va){var Mm;if(va){var Rm="oninput"in document;if(!Rm){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),Rm=typeof X_.oninput=="function"}Mm=Rm}else Mm=!1;W_=Mm&&(!document.documentMode||9<document.documentMode)}function Q_(){Hl&&(Hl.detachEvent("onpropertychange",J_),Fl=Hl=null)}function J_(a){if(a.propertyName==="value"&&Wu(Fl)){var o=[];Y_(o,Fl,a,Sm(a)),D_(I3,o)}}function L3(a,o,c){a==="focusin"?(Q_(),Hl=o,Fl=c,Hl.attachEvent("onpropertychange",J_)):a==="focusout"&&Q_()}function U3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wu(Fl)}function $3(a,o){if(a==="click")return Wu(o)}function z3(a,o){if(a==="input"||a==="change")return Wu(o)}function B3(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Qn=typeof Object.is=="function"?Object.is:B3;function Kl(a,o){if(Qn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!ge.call(o,y)||!Qn(a[y],o[y]))return!1}return!0}function Z_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ew(a,o){var c=Z_(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Z_(c)}}function tw(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?tw(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function nw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=qu(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=qu(a.document)}return o}function Dm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var q3=va&&"documentMode"in document&&11>=document.documentMode,lo=null,Im=null,Gl=null,Lm=!1;function rw(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lm||lo==null||lo!==qu(m)||(m=lo,"selectionStart"in m&&Dm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Gl&&Kl(Gl,m)||(Gl=m,m=Ld(Im,"onSelect"),0<m.length&&(o=new Yu("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=lo)))}function Wi(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var co={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Um={},aw={};va&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Xi(a){if(Um[a])return Um[a];if(!co[a])return a;var o=co[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in aw)return Um[a]=o[c];return a}var iw=Xi("animationend"),sw=Xi("animationiteration"),ow=Xi("animationstart"),H3=Xi("transitionrun"),F3=Xi("transitionstart"),K3=Xi("transitioncancel"),lw=Xi("transitionend"),cw=new Map,$m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$m.push("scrollEnd");function Ir(a,o){cw.set(a,o),Yi(o,[a])}var Xu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},gr=[],uo=0,zm=0;function Qu(){for(var a=uo,o=zm=uo=0;o<a;){var c=gr[o];gr[o++]=null;var m=gr[o];gr[o++]=null;var y=gr[o];gr[o++]=null;var _=gr[o];if(gr[o++]=null,m!==null&&y!==null){var E=m.pending;E===null?y.next=y:(y.next=E.next,E.next=y),m.pending=y}_!==0&&uw(c,y,_)}}function Ju(a,o,c,m){gr[uo++]=a,gr[uo++]=o,gr[uo++]=c,gr[uo++]=m,zm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Bm(a,o,c,m){return Ju(a,o,c,m),Zu(a)}function Qi(a,o){return Ju(a,null,null,o),Zu(a)}function uw(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,_=a.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(y=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,y&&o!==null&&(y=31-yt(c),a=_.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),_):null}function Zu(a){if(50<mc)throw mc=0,Xp=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var fo={};function G3(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(a,o,c,m){return new G3(a,o,c,m)}function qm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ya(a,o){var c=a.alternate;return c===null?(c=Jn(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function dw(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ed(a,o,c,m,y,_){var E=0;if(m=a,typeof a=="function")qm(a)&&(E=1);else if(typeof a=="string")E=QD(a,c,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case q:return a=Jn(31,c,o,y),a.elementType=q,a.lanes=_,a;case j:return Ji(c.children,y,_,o);case S:E=8,y|=24;break;case N:return a=Jn(12,c,o,y|2),a.elementType=N,a.lanes=_,a;case T:return a=Jn(13,c,o,y),a.elementType=T,a.lanes=_,a;case k:return a=Jn(19,c,o,y),a.elementType=k,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:E=10;break e;case O:E=9;break e;case C:E=11;break e;case M:E=14;break e;case D:E=16,m=null;break e}E=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=Jn(E,c,o,y),o.elementType=a,o.type=m,o.lanes=_,o}function Ji(a,o,c,m){return a=Jn(7,a,m,o),a.lanes=c,a}function Hm(a,o,c){return a=Jn(6,a,null,o),a.lanes=c,a}function fw(a){var o=Jn(18,null,null,0);return o.stateNode=a,o}function Fm(a,o,c){return o=Jn(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var hw=new WeakMap;function vr(a,o){if(typeof a=="object"&&a!==null){var c=hw.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Wn(o)},hw.set(a,o),o)}return{value:a,source:o,stack:Wn(o)}}var ho=[],mo=0,td=null,Yl=0,yr=[],br=0,ai=null,Zr=1,ea="";function ba(a,o){ho[mo++]=Yl,ho[mo++]=td,td=a,Yl=o}function mw(a,o,c){yr[br++]=Zr,yr[br++]=ea,yr[br++]=ai,ai=a;var m=Zr;a=ea;var y=32-yt(m)-1;m&=~(1<<y),c+=1;var _=32-yt(o)+y;if(30<_){var E=y-y%5;_=(m&(1<<E)-1).toString(32),m>>=E,y-=E,Zr=1<<32-yt(o)+y|c<<y|m,ea=_+a}else Zr=1<<_|c<<y|m,ea=a}function Km(a){a.return!==null&&(ba(a,1),mw(a,1,0))}function Gm(a){for(;a===td;)td=ho[--mo],ho[mo]=null,Yl=ho[--mo],ho[mo]=null;for(;a===ai;)ai=yr[--br],yr[br]=null,ea=yr[--br],yr[br]=null,Zr=yr[--br],yr[br]=null}function pw(a,o){yr[br++]=Zr,yr[br++]=ea,yr[br++]=ai,Zr=o.id,ea=o.overflow,ai=a}var bn=null,_t=null,Ge=!1,ii=null,xr=!1,Ym=Error(r(519));function si(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(vr(o,a)),Ym}function gw(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[yn]=a,o[In]=m,c){case"dialog":ze("cancel",o),ze("close",o);break;case"iframe":case"object":case"embed":ze("load",o);break;case"video":case"audio":for(c=0;c<gc.length;c++)ze(gc[c],o);break;case"source":ze("error",o);break;case"img":case"image":case"link":ze("error",o),ze("load",o);break;case"details":ze("toggle",o);break;case"input":ze("invalid",o),C_(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ze("invalid",o);break;case"textarea":ze("invalid",o),k_(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||Mj(o.textContent,c)?(m.popover!=null&&(ze("beforetoggle",o),ze("toggle",o)),m.onScroll!=null&&ze("scroll",o),m.onScrollEnd!=null&&ze("scrollend",o),m.onClick!=null&&(o.onclick=ga),o=!0):o=!1,o||si(a,!0)}function vw(a){for(bn=a.return;bn;)switch(bn.tag){case 5:case 31:case 13:xr=!1;return;case 27:case 3:xr=!0;return;default:bn=bn.return}}function po(a){if(a!==bn)return!1;if(!Ge)return vw(a),Ge=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||dg(a.type,a.memoizedProps)),c=!c),c&&_t&&si(a),vw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=qj(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));_t=qj(a)}else o===27?(o=_t,xi(a.type)?(a=gg,gg=null,_t=a):_t=o):_t=bn?wr(a.stateNode.nextSibling):null;return!0}function Zi(){_t=bn=null,Ge=!1}function Vm(){var a=ii;return a!==null&&(Bn===null?Bn=a:Bn.push.apply(Bn,a),ii=null),a}function Vl(a){ii===null?ii=[a]:ii.push(a)}var Wm=R(null),es=null,xa=null;function oi(a,o,c){X(Wm,o._currentValue),o._currentValue=c}function _a(a){a._currentValue=Wm.current,L(Wm)}function Xm(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Qm(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var _=y.dependencies;if(_!==null){var E=y.child;_=_.firstContext;e:for(;_!==null;){var P=_;_=y;for(var U=0;U<o.length;U++)if(P.context===o[U]){_.lanes|=c,P=_.alternate,P!==null&&(P.lanes|=c),Xm(_.return,c,a),m||(E=null);break e}_=P.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(r(341));E.lanes|=c,_=E.alternate,_!==null&&(_.lanes|=c),Xm(E,c,a),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===a){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function go(a,o,c,m){a=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var P=y.type;Qn(y.pendingProps.value,E.value)||(a!==null?a.push(P):a=[P])}}else if(y===je.current){if(E=y.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(_c):a=[_c])}y=y.return}a!==null&&Qm(o,a,c,m),o.flags|=262144}function nd(a){for(a=a.firstContext;a!==null;){if(!Qn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ts(a){es=a,xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xn(a){return yw(es,a)}function rd(a,o){return es===null&&ts(a),yw(a,o)}function yw(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},xa===null){if(a===null)throw Error(r(308));xa=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else xa=xa.next=o;return c}var Y3=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},V3=e.unstable_scheduleCallback,W3=e.unstable_NormalPriority,Gt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new Y3,data:new Map,refCount:0}}function Wl(a){a.refCount--,a.refCount===0&&V3(W3,function(){a.controller.abort()})}var Xl=null,Zm=0,vo=0,yo=null;function X3(a,o){if(Xl===null){var c=Xl=[];Zm=0,vo=ng(),yo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Zm++,o.then(bw,bw),o}function bw(){if(--Zm===0&&Xl!==null){yo!==null&&(yo.status="fulfilled");var a=Xl;Xl=null,vo=0,yo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function Q3(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var xw=I.S;I.S=function(a,o){rj=Qe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&X3(a,o),xw!==null&&xw(a,o)};var ns=R(null);function ep(){var a=ns.current;return a!==null?a:gt.pooledCache}function ad(a,o){o===null?X(ns,ns.current):X(ns,o.pool)}function _w(){var a=ep();return a===null?null:{parent:Gt._currentValue,pool:a}}var bo=Error(r(460)),tp=Error(r(474)),id=Error(r(542)),sd={then:function(){}};function ww(a){return a=a.status,a==="fulfilled"||a==="rejected"}function jw(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(ga,ga),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Nw(a),a;default:if(typeof o.status=="string")o.then(ga,ga);else{if(a=gt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Nw(a),a}throw as=o,bo}}function rs(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(as=c,bo):c}}var as=null;function Sw(){if(as===null)throw Error(r(459));var a=as;return as=null,a}function Nw(a){if(a===bo||a===id)throw Error(r(483))}var xo=null,Ql=0;function od(a){var o=Ql;return Ql+=1,xo===null&&(xo=[]),jw(xo,a,o)}function Jl(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function ld(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Ew(a){function o(G,z){if(a){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function c(G,z){if(!a)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function m(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function y(G,z){return G=ya(G,z),G.index=0,G.sibling=null,G}function _(G,z,Q){return G.index=Q,a?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=67108866,z):Q):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function E(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function P(G,z,Q,oe){return z===null||z.tag!==6?(z=Hm(Q,G.mode,oe),z.return=G,z):(z=y(z,Q),z.return=G,z)}function U(G,z,Q,oe){var Ae=Q.type;return Ae===j?ae(G,z,Q.props.children,oe,Q.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&rs(Ae)===z.type)?(z=y(z,Q.props),Jl(z,Q),z.return=G,z):(z=ed(Q.type,Q.key,Q.props,null,G.mode,oe),Jl(z,Q),z.return=G,z)}function J(G,z,Q,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Fm(Q,G.mode,oe),z.return=G,z):(z=y(z,Q.children||[]),z.return=G,z)}function ae(G,z,Q,oe,Ae){return z===null||z.tag!==7?(z=Ji(Q,G.mode,oe,Ae),z.return=G,z):(z=y(z,Q),z.return=G,z)}function ce(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Hm(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Q=ed(z.type,z.key,z.props,null,G.mode,Q),Jl(Q,z),Q.return=G,Q;case w:return z=Fm(z,G.mode,Q),z.return=G,z;case D:return z=rs(z),ce(G,z,Q)}if(K(z)||H(z))return z=Ji(z,G.mode,Q,null),z.return=G,z;if(typeof z.then=="function")return ce(G,od(z),Q);if(z.$$typeof===A)return ce(G,rd(G,z),Q);ld(G,z)}return null}function Z(G,z,Q,oe){var Ae=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:P(G,z,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===Ae?U(G,z,Q,oe):null;case w:return Q.key===Ae?J(G,z,Q,oe):null;case D:return Q=rs(Q),Z(G,z,Q,oe)}if(K(Q)||H(Q))return Ae!==null?null:ae(G,z,Q,oe,null);if(typeof Q.then=="function")return Z(G,z,od(Q),oe);if(Q.$$typeof===A)return Z(G,z,rd(G,Q),oe);ld(G,Q)}return null}function te(G,z,Q,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Q)||null,P(z,G,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return G=G.get(oe.key===null?Q:oe.key)||null,U(z,G,oe,Ae);case w:return G=G.get(oe.key===null?Q:oe.key)||null,J(z,G,oe,Ae);case D:return oe=rs(oe),te(G,z,Q,oe,Ae)}if(K(oe)||H(oe))return G=G.get(Q)||null,ae(z,G,oe,Ae,null);if(typeof oe.then=="function")return te(G,z,Q,od(oe),Ae);if(oe.$$typeof===A)return te(G,z,Q,rd(z,oe),Ae);ld(z,oe)}return null}function _e(G,z,Q,oe){for(var Ae=null,et=null,Se=z,Ue=z=0,Fe=null;Se!==null&&Ue<Q.length;Ue++){Se.index>Ue?(Fe=Se,Se=null):Fe=Se.sibling;var tt=Z(G,Se,Q[Ue],oe);if(tt===null){Se===null&&(Se=Fe);break}a&&Se&&tt.alternate===null&&o(G,Se),z=_(tt,z,Ue),et===null?Ae=tt:et.sibling=tt,et=tt,Se=Fe}if(Ue===Q.length)return c(G,Se),Ge&&ba(G,Ue),Ae;if(Se===null){for(;Ue<Q.length;Ue++)Se=ce(G,Q[Ue],oe),Se!==null&&(z=_(Se,z,Ue),et===null?Ae=Se:et.sibling=Se,et=Se);return Ge&&ba(G,Ue),Ae}for(Se=m(Se);Ue<Q.length;Ue++)Fe=te(Se,G,Ue,Q[Ue],oe),Fe!==null&&(a&&Fe.alternate!==null&&Se.delete(Fe.key===null?Ue:Fe.key),z=_(Fe,z,Ue),et===null?Ae=Fe:et.sibling=Fe,et=Fe);return a&&Se.forEach(function(Ni){return o(G,Ni)}),Ge&&ba(G,Ue),Ae}function Pe(G,z,Q,oe){if(Q==null)throw Error(r(151));for(var Ae=null,et=null,Se=z,Ue=z=0,Fe=null,tt=Q.next();Se!==null&&!tt.done;Ue++,tt=Q.next()){Se.index>Ue?(Fe=Se,Se=null):Fe=Se.sibling;var Ni=Z(G,Se,tt.value,oe);if(Ni===null){Se===null&&(Se=Fe);break}a&&Se&&Ni.alternate===null&&o(G,Se),z=_(Ni,z,Ue),et===null?Ae=Ni:et.sibling=Ni,et=Ni,Se=Fe}if(tt.done)return c(G,Se),Ge&&ba(G,Ue),Ae;if(Se===null){for(;!tt.done;Ue++,tt=Q.next())tt=ce(G,tt.value,oe),tt!==null&&(z=_(tt,z,Ue),et===null?Ae=tt:et.sibling=tt,et=tt);return Ge&&ba(G,Ue),Ae}for(Se=m(Se);!tt.done;Ue++,tt=Q.next())tt=te(Se,G,Ue,tt.value,oe),tt!==null&&(a&&tt.alternate!==null&&Se.delete(tt.key===null?Ue:tt.key),z=_(tt,z,Ue),et===null?Ae=tt:et.sibling=tt,et=tt);return a&&Se.forEach(function(l4){return o(G,l4)}),Ge&&ba(G,Ue),Ae}function mt(G,z,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var Ae=Q.key;z!==null;){if(z.key===Ae){if(Ae=Q.type,Ae===j){if(z.tag===7){c(G,z.sibling),oe=y(z,Q.props.children),oe.return=G,G=oe;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&rs(Ae)===z.type){c(G,z.sibling),oe=y(z,Q.props),Jl(oe,Q),oe.return=G,G=oe;break e}c(G,z);break}else o(G,z);z=z.sibling}Q.type===j?(oe=Ji(Q.props.children,G.mode,oe,Q.key),oe.return=G,G=oe):(oe=ed(Q.type,Q.key,Q.props,null,G.mode,oe),Jl(oe,Q),oe.return=G,G=oe)}return E(G);case w:e:{for(Ae=Q.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){c(G,z.sibling),oe=y(z,Q.children||[]),oe.return=G,G=oe;break e}else{c(G,z);break}else o(G,z);z=z.sibling}oe=Fm(Q,G.mode,oe),oe.return=G,G=oe}return E(G);case D:return Q=rs(Q),mt(G,z,Q,oe)}if(K(Q))return _e(G,z,Q,oe);if(H(Q)){if(Ae=H(Q),typeof Ae!="function")throw Error(r(150));return Q=Ae.call(Q),Pe(G,z,Q,oe)}if(typeof Q.then=="function")return mt(G,z,od(Q),oe);if(Q.$$typeof===A)return mt(G,z,rd(G,Q),oe);ld(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(c(G,z.sibling),oe=y(z,Q),oe.return=G,G=oe):(c(G,z),oe=Hm(Q,G.mode,oe),oe.return=G,G=oe),E(G)):c(G,z)}return function(G,z,Q,oe){try{Ql=0;var Ae=mt(G,z,Q,oe);return xo=null,Ae}catch(Se){if(Se===bo||Se===id)throw Se;var et=Jn(29,Se,null,G.mode);return et.lanes=oe,et.return=G,et}finally{}}}var is=Ew(!0),Ow=Ew(!1),li=!1;function np(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ci(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ui(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(it&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=Zu(a),uw(a,null,c),o}return Ju(a,m,o,c),Zu(a)}function Zl(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,y_(a,c)}}function ap(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?y=_=E:_=_.next=E,c=c.next}while(c!==null);_===null?y=_=o:_=_.next=o}else y=_=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var ip=!1;function ec(){if(ip){var a=yo;if(a!==null)throw a}}function tc(a,o,c,m){ip=!1;var y=a.updateQueue;li=!1;var _=y.firstBaseUpdate,E=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var U=P,J=U.next;U.next=null,E===null?_=J:E.next=J,E=U;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==E&&(P===null?ae.firstBaseUpdate=J:P.next=J,ae.lastBaseUpdate=U))}if(_!==null){var ce=y.baseState;E=0,ae=J=U=null,P=_;do{var Z=P.lane&-536870913,te=Z!==P.lane;if(te?(He&Z)===Z:(m&Z)===Z){Z!==0&&Z===vo&&(ip=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var _e=a,Pe=P;Z=o;var mt=c;switch(Pe.tag){case 1:if(_e=Pe.payload,typeof _e=="function"){ce=_e.call(mt,ce,Z);break e}ce=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Pe.payload,Z=typeof _e=="function"?_e.call(mt,ce,Z):_e,Z==null)break e;ce=g({},ce,Z);break e;case 2:li=!0}}Z=P.callback,Z!==null&&(a.flags|=64,te&&(a.flags|=8192),te=y.callbacks,te===null?y.callbacks=[Z]:te.push(Z))}else te={lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(J=ae=te,U=ce):ae=ae.next=te,E|=Z;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;te=P,P=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);ae===null&&(U=ce),y.baseState=U,y.firstBaseUpdate=J,y.lastBaseUpdate=ae,_===null&&(y.shared.lanes=0),pi|=E,a.lanes=E,a.memoizedState=ce}}function Aw(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Cw(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Aw(c[a],o)}var _o=R(null),cd=R(0);function Tw(a,o){a=Ta,X(cd,a),X(_o,o),Ta=a|o.baseLanes}function sp(){X(cd,Ta),X(_o,_o.current)}function op(){Ta=cd.current,L(_o),L(cd)}var Zn=R(null),_r=null;function di(a){var o=a.alternate;X($t,$t.current&1),X(Zn,a),_r===null&&(o===null||_o.current!==null||o.memoizedState!==null)&&(_r=a)}function lp(a){X($t,$t.current),X(Zn,a),_r===null&&(_r=a)}function kw(a){a.tag===22?(X($t,$t.current),X(Zn,a),_r===null&&(_r=a)):fi()}function fi(){X($t,$t.current),X(Zn,Zn.current)}function er(a){L(Zn),_r===a&&(_r=null),L($t)}var $t=R(0);function ud(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mg(c)||pg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wa=0,Le=null,ft=null,Yt=null,dd=!1,wo=!1,ss=!1,fd=0,nc=0,jo=null,J3=0;function It(){throw Error(r(321))}function cp(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Qn(a[c],o[c]))return!1;return!0}function up(a,o,c,m,y,_){return wa=_,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,I.H=a===null||a.memoizedState===null?m1:Np,ss=!1,_=c(m,y),ss=!1,wo&&(_=Mw(o,c,m,y)),Pw(a),_}function Pw(a){I.H=ic;var o=ft!==null&&ft.next!==null;if(wa=0,Yt=ft=Le=null,dd=!1,nc=0,jo=null,o)throw Error(r(300));a===null||Vt||(a=a.dependencies,a!==null&&nd(a)&&(Vt=!0))}function Mw(a,o,c,m){Le=a;var y=0;do{if(wo&&(jo=null),nc=0,wo=!1,25<=y)throw Error(r(301));if(y+=1,Yt=ft=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}I.H=p1,_=o(c,m)}while(wo);return _}function Z3(){var a=I.H,o=a.useState()[0];return o=typeof o.then=="function"?rc(o):o,a=a.useState()[0],(ft!==null?ft.memoizedState:null)!==a&&(Le.flags|=1024),o}function dp(){var a=fd!==0;return fd=0,a}function fp(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function hp(a){if(dd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}dd=!1}wa=0,Yt=ft=Le=null,wo=!1,nc=fd=0,jo=null}function Pn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Le.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function zt(){if(ft===null){var a=Le.alternate;a=a!==null?a.memoizedState:null}else a=ft.next;var o=Yt===null?Le.memoizedState:Yt.next;if(o!==null)Yt=o,ft=a;else{if(a===null)throw Le.alternate===null?Error(r(467)):Error(r(310));ft=a,a={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Yt===null?Le.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(a){var o=nc;return nc+=1,jo===null&&(jo=[]),a=jw(jo,a,o),o=Le,(Yt===null?o.memoizedState:Yt.next)===null&&(o=o.alternate,I.H=o===null||o.memoizedState===null?m1:Np),a}function md(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return rc(a);if(a.$$typeof===A)return xn(a)}throw Error(r(438,String(a)))}function mp(a){var o=null,c=Le.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Le.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=hd(),Le.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=$;return o.index++,c}function ja(a,o){return typeof o=="function"?o(a):o}function pd(a){var o=zt();return pp(o,ft,a)}function pp(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,_=m.pending;if(_!==null){if(y!==null){var E=y.next;y.next=_.next,_.next=E}o.baseQueue=y=_,m.pending=null}if(_=a.baseState,y===null)a.memoizedState=_;else{o=y.next;var P=E=null,U=null,J=o,ae=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(He&ce)===ce:(wa&ce)===ce){var Z=J.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===vo&&(ae=!0);else if((wa&Z)===Z){J=J.next,Z===vo&&(ae=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(P=U=ce,E=_):U=U.next=ce,Le.lanes|=Z,pi|=Z;ce=J.action,ss&&c(_,ce),_=J.hasEagerState?J.eagerState:c(_,ce)}else Z={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(P=U=Z,E=_):U=U.next=Z,Le.lanes|=ce,pi|=ce;J=J.next}while(J!==null&&J!==o);if(U===null?E=_:U.next=P,!Qn(_,a.memoizedState)&&(Vt=!0,ae&&(c=yo,c!==null)))throw c;a.memoizedState=_,a.baseState=E,a.baseQueue=U,m.lastRenderedState=_}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function gp(a){var o=zt(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,_=o.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do _=a(_,E.action),E=E.next;while(E!==y);Qn(_,o.memoizedState)||(Vt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,m]}function Rw(a,o,c){var m=Le,y=zt(),_=Ge;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=o();var E=!Qn((ft||y).memoizedState,c);if(E&&(y.memoizedState=c,Vt=!0),y=y.queue,bp(Lw.bind(null,m,y,a),[a]),y.getSnapshot!==o||E||Yt!==null&&Yt.memoizedState.tag&1){if(m.flags|=2048,So(9,{destroy:void 0},Iw.bind(null,m,y,c,o),null),gt===null)throw Error(r(349));_||(wa&127)!==0||Dw(m,o,c)}return c}function Dw(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Le.updateQueue,o===null?(o=hd(),Le.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function Iw(a,o,c,m){o.value=c,o.getSnapshot=m,Uw(o)&&$w(a)}function Lw(a,o,c){return c(function(){Uw(o)&&$w(a)})}function Uw(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Qn(a,c)}catch{return!0}}function $w(a){var o=Qi(a,2);o!==null&&qn(o,a,2)}function vp(a){var o=Pn();if(typeof a=="function"){var c=a;if(a=c(),ss){at(!0);try{c()}finally{at(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},o}function zw(a,o,c,m){return a.baseState=c,pp(a,ft,typeof m=="function"?m:ja)}function eD(a,o,c,m,y){if(yd(a))throw Error(r(485));if(a=o.action,a!==null){var _={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};I.T!==null?c(!0):_.isTransition=!1,m(_),c=o.pending,c===null?(_.next=o.pending=_,Bw(o,_)):(_.next=c.next,o.pending=c.next=_)}}function Bw(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var _=I.T,E={};I.T=E;try{var P=c(y,m),U=I.S;U!==null&&U(E,P),qw(a,o,P)}catch(J){yp(a,o,J)}finally{_!==null&&E.types!==null&&(_.types=E.types),I.T=_}}else try{_=c(y,m),qw(a,o,_)}catch(J){yp(a,o,J)}}function qw(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){Hw(a,o,m)},function(m){return yp(a,o,m)}):Hw(a,o,c)}function Hw(a,o,c){o.status="fulfilled",o.value=c,Fw(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,Bw(a,c)))}function yp(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,Fw(o),o=o.next;while(o!==m)}a.action=null}function Fw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Kw(a,o){return o}function Gw(a,o){if(Ge){var c=gt.formState;if(c!==null){e:{var m=Le;if(Ge){if(_t){t:{for(var y=_t,_=xr;y.nodeType!==8;){if(!_){y=null;break t}if(y=wr(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){_t=wr(y.nextSibling),m=y.data==="F!";break e}}si(m)}m=!1}m&&(o=c[0])}}return c=Pn(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kw,lastRenderedState:o},c.queue=m,c=d1.bind(null,Le,m),m.dispatch=c,m=vp(!1),_=Sp.bind(null,Le,!1,m.queue),m=Pn(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=eD.bind(null,Le,y,_,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function Yw(a){var o=zt();return Vw(o,ft,a)}function Vw(a,o,c){if(o=pp(a,o,Kw)[0],a=pd(ja)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=rc(o)}catch(E){throw E===bo?id:E}else m=o;o=zt();var y=o.queue,_=y.dispatch;return c!==o.memoizedState&&(Le.flags|=2048,So(9,{destroy:void 0},tD.bind(null,y,c),null)),[m,_,a]}function tD(a,o){a.action=o}function Ww(a){var o=zt(),c=ft;if(c!==null)return Vw(o,c,a);zt(),o=o.memoizedState,c=zt();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function So(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Le.updateQueue,o===null&&(o=hd(),Le.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function Xw(){return zt().memoizedState}function gd(a,o,c,m){var y=Pn();Le.flags|=a,y.memoizedState=So(1|o,{destroy:void 0},c,m===void 0?null:m)}function vd(a,o,c,m){var y=zt();m=m===void 0?null:m;var _=y.memoizedState.inst;ft!==null&&m!==null&&cp(m,ft.memoizedState.deps)?y.memoizedState=So(o,_,c,m):(Le.flags|=a,y.memoizedState=So(1|o,_,c,m))}function Qw(a,o){gd(8390656,8,a,o)}function bp(a,o){vd(2048,8,a,o)}function nD(a){Le.flags|=4;var o=Le.updateQueue;if(o===null)o=hd(),Le.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function Jw(a){var o=zt().memoizedState;return nD({ref:o,nextImpl:a}),function(){if((it&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Zw(a,o){return vd(4,2,a,o)}function e1(a,o){return vd(4,4,a,o)}function t1(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function n1(a,o,c){c=c!=null?c.concat([a]):null,vd(4,4,t1.bind(null,o,a),c)}function xp(){}function r1(a,o){var c=zt();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&cp(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function a1(a,o){var c=zt();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&cp(o,m[1]))return m[0];if(m=a(),ss){at(!0);try{a()}finally{at(!1)}}return c.memoizedState=[m,o],m}function _p(a,o,c){return c===void 0||(wa&1073741824)!==0&&(He&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=ij(),Le.lanes|=a,pi|=a,c)}function i1(a,o,c,m){return Qn(c,o)?c:_o.current!==null?(a=_p(a,c,m),Qn(a,o)||(Vt=!0),a):(wa&42)===0||(wa&1073741824)!==0&&(He&261930)===0?(Vt=!0,a.memoizedState=c):(a=ij(),Le.lanes|=a,pi|=a,o)}function s1(a,o,c,m,y){var _=Y.p;Y.p=_!==0&&8>_?_:8;var E=I.T,P={};I.T=P,Sp(a,!1,o,c);try{var U=y(),J=I.S;if(J!==null&&J(P,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=Q3(U,m);ac(a,o,ae,rr(a))}else ac(a,o,m,rr(a))}catch(ce){ac(a,o,{then:function(){},status:"rejected",reason:ce},rr())}finally{Y.p=_,E!==null&&P.types!==null&&(E.types=P.types),I.T=E}}function rD(){}function wp(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=o1(a).queue;s1(a,y,o,W,c===null?rD:function(){return l1(a),c(m)})}function o1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function l1(a){var o=o1(a);o.next===null&&(o=a.alternate.memoizedState),ac(a,o.next.queue,{},rr())}function jp(){return xn(_c)}function c1(){return zt().memoizedState}function u1(){return zt().memoizedState}function aD(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=rr();a=ci(c);var m=ui(o,a,c);m!==null&&(qn(m,o,c),Zl(m,o,c)),o={cache:Jm()},a.payload=o;return}o=o.return}}function iD(a,o,c){var m=rr();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yd(a)?f1(o,c):(c=Bm(a,o,c,m),c!==null&&(qn(c,a,m),h1(c,o,m)))}function d1(a,o,c){var m=rr();ac(a,o,c,m)}function ac(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yd(a))f1(o,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var E=o.lastRenderedState,P=_(E,c);if(y.hasEagerState=!0,y.eagerState=P,Qn(P,E))return Ju(a,o,y,0),gt===null&&Qu(),!1}catch{}finally{}if(c=Bm(a,o,y,m),c!==null)return qn(c,a,m),h1(c,o,m),!0}return!1}function Sp(a,o,c,m){if(m={lane:2,revertLane:ng(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},yd(a)){if(o)throw Error(r(479))}else o=Bm(a,c,m,2),o!==null&&qn(o,a,2)}function yd(a){var o=a.alternate;return a===Le||o!==null&&o===Le}function f1(a,o){wo=dd=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function h1(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,y_(a,c)}}var ic={readContext:xn,use:md,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};ic.useEffectEvent=It;var m1={readContext:xn,use:md,useCallback:function(a,o){return Pn().memoizedState=[a,o===void 0?null:o],a},useContext:xn,useEffect:Qw,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,gd(4194308,4,t1.bind(null,o,a),c)},useLayoutEffect:function(a,o){return gd(4194308,4,a,o)},useInsertionEffect:function(a,o){gd(4,2,a,o)},useMemo:function(a,o){var c=Pn();o=o===void 0?null:o;var m=a();if(ss){at(!0);try{a()}finally{at(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=Pn();if(c!==void 0){var y=c(o);if(ss){at(!0);try{c(o)}finally{at(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=iD.bind(null,Le,a),[m.memoizedState,a]},useRef:function(a){var o=Pn();return a={current:a},o.memoizedState=a},useState:function(a){a=vp(a);var o=a.queue,c=d1.bind(null,Le,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:xp,useDeferredValue:function(a,o){var c=Pn();return _p(c,a,o)},useTransition:function(){var a=vp(!1);return a=s1.bind(null,Le,a.queue,!0,!1),Pn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Le,y=Pn();if(Ge){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),gt===null)throw Error(r(349));(He&127)!==0||Dw(m,o,c)}y.memoizedState=c;var _={value:c,getSnapshot:o};return y.queue=_,Qw(Lw.bind(null,m,_,a),[a]),m.flags|=2048,So(9,{destroy:void 0},Iw.bind(null,m,_,c,o),null),c},useId:function(){var a=Pn(),o=gt.identifierPrefix;if(Ge){var c=ea,m=Zr;c=(m&~(1<<32-yt(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=fd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=J3++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:jp,useFormState:Gw,useActionState:Gw,useOptimistic:function(a){var o=Pn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Sp.bind(null,Le,!0,c),c.dispatch=o,[a,o]},useMemoCache:mp,useCacheRefresh:function(){return Pn().memoizedState=aD.bind(null,Le)},useEffectEvent:function(a){var o=Pn(),c={impl:a};return o.memoizedState=c,function(){if((it&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Np={readContext:xn,use:md,useCallback:r1,useContext:xn,useEffect:bp,useImperativeHandle:n1,useInsertionEffect:Zw,useLayoutEffect:e1,useMemo:a1,useReducer:pd,useRef:Xw,useState:function(){return pd(ja)},useDebugValue:xp,useDeferredValue:function(a,o){var c=zt();return i1(c,ft.memoizedState,a,o)},useTransition:function(){var a=pd(ja)[0],o=zt().memoizedState;return[typeof a=="boolean"?a:rc(a),o]},useSyncExternalStore:Rw,useId:c1,useHostTransitionStatus:jp,useFormState:Yw,useActionState:Yw,useOptimistic:function(a,o){var c=zt();return zw(c,ft,a,o)},useMemoCache:mp,useCacheRefresh:u1};Np.useEffectEvent=Jw;var p1={readContext:xn,use:md,useCallback:r1,useContext:xn,useEffect:bp,useImperativeHandle:n1,useInsertionEffect:Zw,useLayoutEffect:e1,useMemo:a1,useReducer:gp,useRef:Xw,useState:function(){return gp(ja)},useDebugValue:xp,useDeferredValue:function(a,o){var c=zt();return ft===null?_p(c,a,o):i1(c,ft.memoizedState,a,o)},useTransition:function(){var a=gp(ja)[0],o=zt().memoizedState;return[typeof a=="boolean"?a:rc(a),o]},useSyncExternalStore:Rw,useId:c1,useHostTransitionStatus:jp,useFormState:Ww,useActionState:Ww,useOptimistic:function(a,o){var c=zt();return ft!==null?zw(c,ft,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:mp,useCacheRefresh:u1};p1.useEffectEvent=Jw;function Ep(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Op={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=rr(),y=ci(m);y.payload=o,c!=null&&(y.callback=c),o=ui(a,y,m),o!==null&&(qn(o,a,m),Zl(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=rr(),y=ci(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ui(a,y,m),o!==null&&(qn(o,a,m),Zl(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=rr(),m=ci(c);m.tag=2,o!=null&&(m.callback=o),o=ui(a,m,c),o!==null&&(qn(o,a,c),Zl(o,a,c))}};function g1(a,o,c,m,y,_,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,E):o.prototype&&o.prototype.isPureReactComponent?!Kl(c,m)||!Kl(y,_):!0}function v1(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&Op.enqueueReplaceState(o,o.state,null)}function os(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function y1(a){Xu(a)}function b1(a){console.error(a)}function x1(a){Xu(a)}function bd(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function _1(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ap(a,o,c){return c=ci(c),c.tag=3,c.payload={element:null},c.callback=function(){bd(a,o)},c}function w1(a){return a=ci(a),a.tag=3,a}function j1(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var _=m.value;a.payload=function(){return y(_)},a.callback=function(){_1(o,c,m)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){_1(o,c,m),typeof y!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function sD(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&go(o,c,y,!0),c=Zn.current,c!==null){switch(c.tag){case 31:case 13:return _r===null?kd():c.alternate===null&&Lt===0&&(Lt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===sd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Zp(a,m,y)),!1;case 22:return c.flags|=65536,m===sd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Zp(a,m,y)),!1}throw Error(r(435,c.tag))}return Zp(a,m,y),kd(),!1}if(Ge)return o=Zn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Ym&&(a=Error(r(422),{cause:m}),Vl(vr(a,c)))):(m!==Ym&&(o=Error(r(423),{cause:m}),Vl(vr(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=vr(m,c),y=Ap(a.stateNode,m,y),ap(a,y),Lt!==4&&(Lt=2)),!1;var _=Error(r(520),{cause:m});if(_=vr(_,c),hc===null?hc=[_]:hc.push(_),Lt!==4&&(Lt=2),o===null)return!0;m=vr(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=Ap(c.stateNode,m,a),ap(c,a),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gi===null||!gi.has(_))))return c.flags|=65536,y&=-y,c.lanes|=y,y=w1(y),j1(y,a,c,m),ap(c,y),!1}c=c.return}while(c!==null);return!1}var Cp=Error(r(461)),Vt=!1;function _n(a,o,c,m){o.child=a===null?Ow(o,null,c,m):is(o,a.child,c,m)}function S1(a,o,c,m,y){c=c.render;var _=o.ref;if("ref"in m){var E={};for(var P in m)P!=="ref"&&(E[P]=m[P])}else E=m;return ts(o),m=up(a,o,c,E,_,y),P=dp(),a!==null&&!Vt?(fp(a,o,y),Sa(a,o,y)):(Ge&&P&&Km(o),o.flags|=1,_n(a,o,m,y),o.child)}function N1(a,o,c,m,y){if(a===null){var _=c.type;return typeof _=="function"&&!qm(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,E1(a,o,_,m,y)):(a=ed(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Lp(a,y)){var E=_.memoizedProps;if(c=c.compare,c=c!==null?c:Kl,c(E,m)&&a.ref===o.ref)return Sa(a,o,y)}return o.flags|=1,a=ya(_,m),a.ref=o.ref,a.return=o,o.child=a}function E1(a,o,c,m,y){if(a!==null){var _=a.memoizedProps;if(Kl(_,m)&&a.ref===o.ref)if(Vt=!1,o.pendingProps=m=_,Lp(a,y))(a.flags&131072)!==0&&(Vt=!0);else return o.lanes=a.lanes,Sa(a,o,y)}return Tp(a,o,c,m,y)}function O1(a,o,c,m){var y=m.children,_=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~_}else m=0,o.child=null;return A1(a,o,_,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&ad(o,_!==null?_.cachePool:null),_!==null?Tw(o,_):sp(),kw(o);else return m=o.lanes=536870912,A1(a,o,_!==null?_.baseLanes|c:c,c,m)}else _!==null?(ad(o,_.cachePool),Tw(o,_),fi(),o.memoizedState=null):(a!==null&&ad(o,null),sp(),fi());return _n(a,o,y,c),o.child}function sc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function A1(a,o,c,m,y){var _=ep();return _=_===null?null:{parent:Gt._currentValue,pool:_},o.memoizedState={baseLanes:c,cachePool:_},a!==null&&ad(o,null),sp(),kw(o),a!==null&&go(a,o,m,!0),o.childLanes=y,null}function xd(a,o){return o=wd({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function C1(a,o,c){return is(o,a.child,null,c),a=xd(o,o.pendingProps),a.flags|=2,er(o),o.memoizedState=null,a}function oD(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Ge){if(m.mode==="hidden")return a=xd(o,m),o.lanes=536870912,sc(null,a);if(lp(o),(a=_t)?(a=Bj(a,xr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ai!==null?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},c=fw(a),c.return=o,o.child=c,bn=o,_t=null)):a=null,a===null)throw si(o);return o.lanes=536870912,null}return xd(o,m)}var _=a.memoizedState;if(_!==null){var E=_.dehydrated;if(lp(o),y)if(o.flags&256)o.flags&=-257,o=C1(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Vt||go(a,o,c,!1),y=(c&a.childLanes)!==0,Vt||y){if(m=gt,m!==null&&(E=b_(m,c),E!==0&&E!==_.retryLane))throw _.retryLane=E,Qi(a,E),qn(m,a,E),Cp;kd(),o=C1(a,o,c)}else a=_.treeContext,_t=wr(E.nextSibling),bn=o,Ge=!0,ii=null,xr=!1,a!==null&&pw(o,a),o=xd(o,m),o.flags|=4096;return o}return a=ya(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function _d(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Tp(a,o,c,m,y){return ts(o),c=up(a,o,c,m,void 0,y),m=dp(),a!==null&&!Vt?(fp(a,o,y),Sa(a,o,y)):(Ge&&m&&Km(o),o.flags|=1,_n(a,o,c,y),o.child)}function T1(a,o,c,m,y,_){return ts(o),o.updateQueue=null,c=Mw(o,m,c,y),Pw(a),m=dp(),a!==null&&!Vt?(fp(a,o,_),Sa(a,o,_)):(Ge&&m&&Km(o),o.flags|=1,_n(a,o,c,_),o.child)}function k1(a,o,c,m,y){if(ts(o),o.stateNode===null){var _=fo,E=c.contextType;typeof E=="object"&&E!==null&&(_=xn(E)),_=new c(m,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Op,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=m,_.state=o.memoizedState,_.refs={},np(o),E=c.contextType,_.context=typeof E=="object"&&E!==null?xn(E):fo,_.state=o.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Ep(o,c,E,m),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&Op.enqueueReplaceState(_,_.state,null),tc(o,m,_,y),ec(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){_=o.stateNode;var P=o.memoizedProps,U=os(c,P);_.props=U;var J=_.context,ae=c.contextType;E=fo,typeof ae=="object"&&ae!==null&&(E=xn(ae));var ce=c.getDerivedStateFromProps;ae=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P||J!==E)&&v1(o,_,m,E),li=!1;var Z=o.memoizedState;_.state=Z,tc(o,m,_,y),ec(),J=o.memoizedState,P||Z!==J||li?(typeof ce=="function"&&(Ep(o,c,ce,m),J=o.memoizedState),(U=li||g1(o,c,U,m,Z,J,E))?(ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=J),_.props=m,_.state=J,_.context=E,m=U):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{_=o.stateNode,rp(a,o),E=o.memoizedProps,ae=os(c,E),_.props=ae,ce=o.pendingProps,Z=_.context,J=c.contextType,U=fo,typeof J=="object"&&J!==null&&(U=xn(J)),P=c.getDerivedStateFromProps,(J=typeof P=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ce||Z!==U)&&v1(o,_,m,U),li=!1,Z=o.memoizedState,_.state=Z,tc(o,m,_,y),ec();var te=o.memoizedState;E!==ce||Z!==te||li||a!==null&&a.dependencies!==null&&nd(a.dependencies)?(typeof P=="function"&&(Ep(o,c,P,m),te=o.memoizedState),(ae=li||g1(o,c,ae,m,Z,te,U)||a!==null&&a.dependencies!==null&&nd(a.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,te,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,te,U)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=te),_.props=m,_.state=te,_.context=U,m=ae):(typeof _.componentDidUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Z===a.memoizedState||(o.flags|=1024),m=!1)}return _=m,_d(a,o),m=(o.flags&128)!==0,_||m?(_=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&m?(o.child=is(o,a.child,null,y),o.child=is(o,null,c,y)):_n(a,o,c,y),o.memoizedState=_.state,a=o.child):a=Sa(a,o,y),a}function P1(a,o,c,m){return Zi(),o.flags|=256,_n(a,o,c,m),o.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(a){return{baseLanes:a,cachePool:_w()}}function Mp(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=nr),a}function M1(a,o,c){var m=o.pendingProps,y=!1,_=(o.flags&128)!==0,E;if((E=_)||(E=a!==null&&a.memoizedState===null?!1:($t.current&2)!==0),E&&(y=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ge){if(y?di(o):fi(),(a=_t)?(a=Bj(a,xr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ai!==null?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},c=fw(a),c.return=o,o.child=c,bn=o,_t=null)):a=null,a===null)throw si(o);return pg(a)?o.lanes=32:o.lanes=536870912,null}var P=m.children;return m=m.fallback,y?(fi(),y=o.mode,P=wd({mode:"hidden",children:P},y),m=Ji(m,y,c,null),P.return=o,m.return=o,P.sibling=m,o.child=P,m=o.child,m.memoizedState=Pp(c),m.childLanes=Mp(a,E,c),o.memoizedState=kp,sc(null,m)):(di(o),Rp(o,P))}var U=a.memoizedState;if(U!==null&&(P=U.dehydrated,P!==null)){if(_)o.flags&256?(di(o),o.flags&=-257,o=Dp(a,o,c)):o.memoizedState!==null?(fi(),o.child=a.child,o.flags|=128,o=null):(fi(),P=m.fallback,y=o.mode,m=wd({mode:"visible",children:m.children},y),P=Ji(P,y,c,null),P.flags|=2,m.return=o,P.return=o,m.sibling=P,o.child=m,is(o,a.child,null,c),m=o.child,m.memoizedState=Pp(c),m.childLanes=Mp(a,E,c),o.memoizedState=kp,o=sc(null,m));else if(di(o),pg(P)){if(E=P.nextSibling&&P.nextSibling.dataset,E)var J=E.dgst;E=J,m=Error(r(419)),m.stack="",m.digest=E,Vl({value:m,source:null,stack:null}),o=Dp(a,o,c)}else if(Vt||go(a,o,c,!1),E=(c&a.childLanes)!==0,Vt||E){if(E=gt,E!==null&&(m=b_(E,c),m!==0&&m!==U.retryLane))throw U.retryLane=m,Qi(a,m),qn(E,a,m),Cp;mg(P)||kd(),o=Dp(a,o,c)}else mg(P)?(o.flags|=192,o.child=a.child,o=null):(a=U.treeContext,_t=wr(P.nextSibling),bn=o,Ge=!0,ii=null,xr=!1,a!==null&&pw(o,a),o=Rp(o,m.children),o.flags|=4096);return o}return y?(fi(),P=m.fallback,y=o.mode,U=a.child,J=U.sibling,m=ya(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,J!==null?P=ya(J,P):(P=Ji(P,y,c,null),P.flags|=2),P.return=o,m.return=o,m.sibling=P,o.child=m,sc(null,m),m=o.child,P=a.child.memoizedState,P===null?P=Pp(c):(y=P.cachePool,y!==null?(U=Gt._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=_w(),P={baseLanes:P.baseLanes|c,cachePool:y}),m.memoizedState=P,m.childLanes=Mp(a,E,c),o.memoizedState=kp,sc(a.child,m)):(di(o),c=a.child,a=c.sibling,c=ya(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(E=o.deletions,E===null?(o.deletions=[a],o.flags|=16):E.push(a)),o.child=c,o.memoizedState=null,c)}function Rp(a,o){return o=wd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function wd(a,o){return a=Jn(22,a,null,o),a.lanes=0,a}function Dp(a,o,c){return is(o,a.child,null,c),a=Rp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function R1(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),Xm(a.return,o,c)}function Ip(a,o,c,m,y,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:_}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=c,E.tailMode=y,E.treeForkCount=_)}function D1(a,o,c){var m=o.pendingProps,y=m.revealOrder,_=m.tail;m=m.children;var E=$t.current,P=(E&2)!==0;if(P?(E=E&1|2,o.flags|=128):E&=1,X($t,E),_n(a,o,m,c),m=Ge?Yl:0,!P&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R1(a,c,o);else if(a.tag===19)R1(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&ud(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Ip(o,!1,y,c,_,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&ud(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Ip(o,!0,c,null,_,m);break;case"together":Ip(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Sa(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),pi|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(go(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=ya(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ya(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Lp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&nd(a)))}function lD(a,o,c){switch(o.tag){case 3:fe(o,o.stateNode.containerInfo),oi(o,Gt,a.memoizedState.cache),Zi();break;case 27:case 5:pe(o);break;case 4:fe(o,o.stateNode.containerInfo);break;case 10:oi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,lp(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(di(o),o.flags|=128,null):(c&o.child.childLanes)!==0?M1(a,o,c):(di(o),a=Sa(a,o,c),a!==null?a.sibling:null);di(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(go(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return D1(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X($t,$t.current),m)break;return null;case 22:return o.lanes=0,O1(a,o,c,o.pendingProps);case 24:oi(o,Gt,a.memoizedState.cache)}return Sa(a,o,c)}function I1(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Vt=!0;else{if(!Lp(a,c)&&(o.flags&128)===0)return Vt=!1,lD(a,o,c);Vt=(a.flags&131072)!==0}else Vt=!1,Ge&&(o.flags&1048576)!==0&&mw(o,Yl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=rs(o.elementType),o.type=a,typeof a=="function")qm(a)?(m=os(a,m),o.tag=1,o=k1(null,o,a,m,c)):(o.tag=0,o=Tp(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===C){o.tag=11,o=S1(null,o,a,m,c);break e}else if(y===M){o.tag=14,o=N1(null,o,a,m,c);break e}}throw o=B(a)||a,Error(r(306,o,""))}}return o;case 0:return Tp(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=os(m,o.pendingProps),k1(a,o,m,y,c);case 3:e:{if(fe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var _=o.memoizedState;y=_.element,rp(a,o),tc(o,m,null,c);var E=o.memoizedState;if(m=E.cache,oi(o,Gt,m),m!==_.cache&&Qm(o,[Gt],c,!0),ec(),m=E.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=P1(a,o,m,c);break e}else if(m!==y){y=vr(Error(r(424)),o),Vl(y),o=P1(a,o,m,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(_t=wr(a.firstChild),bn=o,Ge=!0,ii=null,xr=!0,c=Ow(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zi(),m===y){o=Sa(a,o,c);break e}_n(a,o,m,c)}o=o.child}return o;case 26:return _d(a,o),a===null?(c=Yj(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ge||(c=o.type,a=o.pendingProps,m=Ud(ye.current).createElement(c),m[yn]=o,m[In]=a,wn(m,c,a),un(m),o.stateNode=m):o.memoizedState=Yj(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return pe(o),a===null&&Ge&&(m=o.stateNode=Fj(o.type,o.pendingProps,ye.current),bn=o,xr=!0,y=_t,xi(o.type)?(gg=y,_t=wr(m.firstChild)):_t=y),_n(a,o,o.pendingProps.children,c),_d(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Ge&&((y=m=_t)&&(m=UD(m,o.type,o.pendingProps,xr),m!==null?(o.stateNode=m,bn=o,_t=wr(m.firstChild),xr=!1,y=!0):y=!1),y||si(o)),pe(o),y=o.type,_=o.pendingProps,E=a!==null?a.memoizedProps:null,m=_.children,dg(y,_)?m=null:E!==null&&dg(y,E)&&(o.flags|=32),o.memoizedState!==null&&(y=up(a,o,Z3,null,null,c),_c._currentValue=y),_d(a,o),_n(a,o,m,c),o.child;case 6:return a===null&&Ge&&((a=c=_t)&&(c=$D(c,o.pendingProps,xr),c!==null?(o.stateNode=c,bn=o,_t=null,a=!0):a=!1),a||si(o)),null;case 13:return M1(a,o,c);case 4:return fe(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=is(o,null,m,c):_n(a,o,m,c),o.child;case 11:return S1(a,o,o.type,o.pendingProps,c);case 7:return _n(a,o,o.pendingProps,c),o.child;case 8:return _n(a,o,o.pendingProps.children,c),o.child;case 12:return _n(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,oi(o,o.type,m.value),_n(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,ts(o),y=xn(y),m=m(y),o.flags|=1,_n(a,o,m,c),o.child;case 14:return N1(a,o,o.type,o.pendingProps,c);case 15:return E1(a,o,o.type,o.pendingProps,c);case 19:return D1(a,o,c);case 31:return oD(a,o,c);case 22:return O1(a,o,c,o.pendingProps);case 24:return ts(o),m=xn(Gt),a===null?(y=ep(),y===null&&(y=gt,_=Jm(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=c),y=_),o.memoizedState={parent:m,cache:y},np(o),oi(o,Gt,y)):((a.lanes&c)!==0&&(rp(a,o),tc(o,null,null,c),ec()),y=a.memoizedState,_=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),oi(o,Gt,m)):(m=_.cache,oi(o,Gt,m),m!==y.cache&&Qm(o,[Gt],c,!0))),_n(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Na(a){a.flags|=4}function Up(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(cj())a.flags|=8192;else throw as=sd,tp}else a.flags&=-16777217}function L1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Jj(o))if(cj())a.flags|=8192;else throw as=sd,tp}function jd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?g_():536870912,a.lanes|=o,Ao|=o)}function oc(a,o){if(!Ge)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function wt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function cD(a,o,c){var m=o.pendingProps;switch(Gm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(o),null;case 1:return wt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),_a(Gt),V(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(po(o)?Na(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Vm())),wt(o),null;case 26:var y=o.type,_=o.memoizedState;return a===null?(Na(o),_!==null?(wt(o),L1(o,_)):(wt(o),Up(o,y,null,m,c))):_?_!==a.memoizedState?(Na(o),wt(o),L1(o,_)):(wt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&Na(o),wt(o),Up(o,y,a,m,c)),null;case 27:if(be(o),c=ye.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Na(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return wt(o),null}a=ie.current,po(o)?gw(o):(a=Fj(y,m,c),o.stateNode=a,Na(o))}return wt(o),null;case 5:if(be(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Na(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return wt(o),null}if(_=ie.current,po(o))gw(o);else{var E=Ud(ye.current);switch(_){case 1:_=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=E.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?E.createElement(y,{is:m.is}):E.createElement(y)}}_[yn]=o,_[In]=m;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)_.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=_;e:switch(wn(_,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Na(o)}}return wt(o),Up(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Na(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=ye.current,po(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=bn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[yn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Mj(a.nodeValue,c)),a||si(o,!0)}else a=Ud(a).createTextNode(m),a[yn]=o,o.stateNode=a}return wt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=po(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=o}else Zi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wt(o),a=!1}else c=Vm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(er(o),o):(er(o),null);if((o.flags&128)!==0)throw Error(r(558))}return wt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=po(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[yn]=o}else Zi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;wt(o),y=!1}else y=Vm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(er(o),o):(er(o),null)}return er(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),jd(o,o.updateQueue),wt(o),null);case 4:return V(),a===null&&sg(o.stateNode.containerInfo),wt(o),null;case 10:return _a(o.type),wt(o),null;case 19:if(L($t),m=o.memoizedState,m===null)return wt(o),null;if(y=(o.flags&128)!==0,_=m.rendering,_===null)if(y)oc(m,!1);else{if(Lt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=ud(a),_!==null){for(o.flags|=128,oc(m,!1),a=_.updateQueue,o.updateQueue=a,jd(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)dw(c,a),c=c.sibling;return X($t,$t.current&1|2),Ge&&ba(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Qe()>Ad&&(o.flags|=128,y=!0,oc(m,!1),o.lanes=4194304)}else{if(!y)if(a=ud(_),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,jd(o,a),oc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ge)return wt(o),null}else 2*Qe()-m.renderingStartTime>Ad&&c!==536870912&&(o.flags|=128,y=!0,oc(m,!1),o.lanes=4194304);m.isBackwards?(_.sibling=o.child,o.child=_):(a=m.last,a!==null?a.sibling=_:o.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Qe(),a.sibling=null,c=$t.current,X($t,y?c&1|2:c&1),Ge&&ba(o,m.treeForkCount),a):(wt(o),null);case 22:case 23:return er(o),op(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(wt(o),o.subtreeFlags&6&&(o.flags|=8192)):wt(o),c=o.updateQueue,c!==null&&jd(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&L(ns),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),_a(Gt),wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function uD(a,o){switch(Gm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return _a(Gt),V(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 31:if(o.memoizedState!==null){if(er(o),o.alternate===null)throw Error(r(340));Zi()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(er(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Zi()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return L($t),null;case 4:return V(),null;case 10:return _a(o.type),null;case 22:case 23:return er(o),op(),a!==null&&L(ns),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return _a(Gt),null;case 25:return null;default:return null}}function U1(a,o){switch(Gm(o),o.tag){case 3:_a(Gt),V();break;case 26:case 27:case 5:be(o);break;case 4:V();break;case 31:o.memoizedState!==null&&er(o);break;case 13:er(o);break;case 19:L($t);break;case 10:_a(o.type);break;case 22:case 23:er(o),op(),a!==null&&L(ns);break;case 24:_a(Gt)}}function lc(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var _=c.create,E=c.inst;m=_(),E.destroy=m}c=c.next}while(c!==y)}}catch(P){lt(o,o.return,P)}}function hi(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var _=y.next;m=_;do{if((m.tag&a)===a){var E=m.inst,P=E.destroy;if(P!==void 0){E.destroy=void 0,y=o;var U=c,J=P;try{J()}catch(ae){lt(y,U,ae)}}}m=m.next}while(m!==_)}}catch(ae){lt(o,o.return,ae)}}function $1(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{Cw(o,c)}catch(m){lt(a,a.return,m)}}}function z1(a,o,c){c.props=os(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){lt(a,o,m)}}function cc(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){lt(a,o,y)}}function ta(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){lt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){lt(a,o,y)}else c.current=null}function B1(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){lt(a,a.return,y)}}function $p(a,o,c){try{var m=a.stateNode;PD(m,a.type,c,o),m[In]=o}catch(y){lt(a,a.return,y)}}function q1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xi(a.type)||a.tag===4}function zp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||q1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Bp(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ga));else if(m!==4&&(m===27&&xi(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Bp(a,o,c),a=a.sibling;a!==null;)Bp(a,o,c),a=a.sibling}function Sd(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&xi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Sd(a,o,c),a=a.sibling;a!==null;)Sd(a,o,c),a=a.sibling}function H1(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);wn(o,m,c),o[yn]=a,o[In]=c}catch(_){lt(a,a.return,_)}}var Ea=!1,Wt=!1,qp=!1,F1=typeof WeakSet=="function"?WeakSet:Set,dn=null;function dD(a,o){if(a=a.containerInfo,cg=Kd,a=nw(a),Dm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var E=0,P=-1,U=-1,J=0,ae=0,ce=a,Z=null;t:for(;;){for(var te;ce!==c||y!==0&&ce.nodeType!==3||(P=E+y),ce!==_||m!==0&&ce.nodeType!==3||(U=E+m),ce.nodeType===3&&(E+=ce.nodeValue.length),(te=ce.firstChild)!==null;)Z=ce,ce=te;for(;;){if(ce===a)break t;if(Z===c&&++J===y&&(P=E),Z===_&&++ae===m&&(U=E),(te=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=te}c=P===-1||U===-1?null:{start:P,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ug={focusedElem:a,selectionRange:c},Kd=!1,dn=o;dn!==null;)if(o=dn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,dn=a;else for(;dn!==null;){switch(o=dn,_=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=o,y=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var _e=os(c.type,y);a=m.getSnapshotBeforeUpdate(_e,_),m.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){lt(c,c.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)hg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":hg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,dn=a;break}dn=o.return}}function K1(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Aa(a,c),m&4&&lc(5,c);break;case 1:if(Aa(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(E){lt(c,c.return,E)}else{var y=os(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(E){lt(c,c.return,E)}}m&64&&$1(c),m&512&&cc(c,c.return);break;case 3:if(Aa(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Cw(a,o)}catch(E){lt(c,c.return,E)}}break;case 27:o===null&&m&4&&H1(c);case 26:case 5:Aa(a,c),o===null&&m&4&&B1(c),m&512&&cc(c,c.return);break;case 12:Aa(a,c);break;case 31:Aa(a,c),m&4&&V1(a,c);break;case 13:Aa(a,c),m&4&&W1(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=xD.bind(null,c),zD(a,c))));break;case 22:if(m=c.memoizedState!==null||Ea,!m){o=o!==null&&o.memoizedState!==null||Wt,y=Ea;var _=Wt;Ea=m,(Wt=o)&&!_?Ca(a,c,(c.subtreeFlags&8772)!==0):Aa(a,c),Ea=y,Wt=_}break;case 30:break;default:Aa(a,c)}}function G1(a){var o=a.alternate;o!==null&&(a.alternate=null,G1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ym(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Nt=null,Un=!1;function Oa(a,o,c){for(c=c.child;c!==null;)Y1(a,o,c),c=c.sibling}function Y1(a,o,c){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Pt,c)}catch{}switch(c.tag){case 26:Wt||ta(c,o),Oa(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Wt||ta(c,o);var m=Nt,y=Un;xi(c.type)&&(Nt=c.stateNode,Un=!1),Oa(a,o,c),yc(c.stateNode),Nt=m,Un=y;break;case 5:Wt||ta(c,o);case 6:if(m=Nt,y=Un,Nt=null,Oa(a,o,c),Nt=m,Un=y,Nt!==null)if(Un)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(c.stateNode)}catch(_){lt(c,o,_)}else try{Nt.removeChild(c.stateNode)}catch(_){lt(c,o,_)}break;case 18:Nt!==null&&(Un?(a=Nt,$j(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Io(a)):$j(Nt,c.stateNode));break;case 4:m=Nt,y=Un,Nt=c.stateNode.containerInfo,Un=!0,Oa(a,o,c),Nt=m,Un=y;break;case 0:case 11:case 14:case 15:hi(2,c,o),Wt||hi(4,c,o),Oa(a,o,c);break;case 1:Wt||(ta(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&z1(c,o,m)),Oa(a,o,c);break;case 21:Oa(a,o,c);break;case 22:Wt=(m=Wt)||c.memoizedState!==null,Oa(a,o,c),Wt=m;break;default:Oa(a,o,c)}}function V1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Io(a)}catch(c){lt(o,o.return,c)}}}function W1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Io(a)}catch(c){lt(o,o.return,c)}}function fD(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new F1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new F1),o;default:throw Error(r(435,a.tag))}}function Nd(a,o){var c=fD(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=_D.bind(null,a,m);m.then(y,y)}})}function $n(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],_=a,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 27:if(xi(P.type)){Nt=P.stateNode,Un=!1;break e}break;case 5:Nt=P.stateNode,Un=!1;break e;case 3:case 4:Nt=P.stateNode.containerInfo,Un=!0;break e}P=P.return}if(Nt===null)throw Error(r(160));Y1(_,E,y),Nt=null,Un=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)X1(o,a),o=o.sibling}var Lr=null;function X1(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$n(o,a),zn(a),m&4&&(hi(3,a,a.return),lc(3,a),hi(5,a,a.return));break;case 1:$n(o,a),zn(a),m&512&&(Wt||c===null||ta(c,c.return)),m&64&&Ea&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=Lr;if($n(o,a),zn(a),m&512&&(Wt||c===null||ta(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Il]||_[yn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(m),y.head.insertBefore(_,y.querySelector("head > title"))),wn(_,m,c),_[yn]=a,un(_),m=_;break e;case"link":var E=Xj("link","href",y).get(m+(c.href||""));if(E){for(var P=0;P<E.length;P++)if(_=E[P],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(P,1);break t}}_=y.createElement(m),wn(_,m,c),y.head.appendChild(_);break;case"meta":if(E=Xj("meta","content",y).get(m+(c.content||""))){for(P=0;P<E.length;P++)if(_=E[P],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(P,1);break t}}_=y.createElement(m),wn(_,m,c),y.head.appendChild(_);break;default:throw Error(r(468,m))}_[yn]=a,un(_),m=_}a.stateNode=m}else Qj(y,a.type,a.stateNode);else a.stateNode=Wj(y,m,a.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?Qj(y,a.type,a.stateNode):Wj(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&$p(a,a.memoizedProps,c.memoizedProps)}break;case 27:$n(o,a),zn(a),m&512&&(Wt||c===null||ta(c,c.return)),c!==null&&m&4&&$p(a,a.memoizedProps,c.memoizedProps);break;case 5:if($n(o,a),zn(a),m&512&&(Wt||c===null||ta(c,c.return)),a.flags&32){y=a.stateNode;try{ao(y,"")}catch(_e){lt(a,a.return,_e)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,$p(a,y,c!==null?c.memoizedProps:y)),m&1024&&(qp=!0);break;case 6:if($n(o,a),zn(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(_e){lt(a,a.return,_e)}}break;case 3:if(Bd=null,y=Lr,Lr=$d(o.containerInfo),$n(o,a),Lr=y,zn(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Io(o.containerInfo)}catch(_e){lt(a,a.return,_e)}qp&&(qp=!1,Q1(a));break;case 4:m=Lr,Lr=$d(a.stateNode.containerInfo),$n(o,a),zn(a),Lr=m;break;case 12:$n(o,a),zn(a);break;case 31:$n(o,a),zn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Nd(a,m)));break;case 13:$n(o,a),zn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Od=Qe()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Nd(a,m)));break;case 22:y=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,J=Ea,ae=Wt;if(Ea=J||y,Wt=ae||U,$n(o,a),Wt=ae,Ea=J,zn(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||U||Ea||Wt||ls(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){U=c=o;try{if(_=U.stateNode,y)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{P=U.stateNode;var ce=U.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;P.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(_e){lt(U,U.return,_e)}}}else if(o.tag===6){if(c===null){U=o;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(_e){lt(U,U.return,_e)}}}else if(o.tag===18){if(c===null){U=o;try{var te=U.stateNode;y?zj(te,!0):zj(U.stateNode,!1)}catch(_e){lt(U,U.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Nd(a,c))));break;case 19:$n(o,a),zn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Nd(a,m)));break;case 30:break;case 21:break;default:$n(o,a),zn(a)}}function zn(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(q1(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,_=zp(a);Sd(a,_,y);break;case 5:var E=c.stateNode;c.flags&32&&(ao(E,""),c.flags&=-33);var P=zp(a);Sd(a,P,E);break;case 3:case 4:var U=c.stateNode.containerInfo,J=zp(a);Bp(a,J,U);break;default:throw Error(r(161))}}catch(ae){lt(a,a.return,ae)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Q1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Q1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Aa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)K1(a,o.alternate,o),o=o.sibling}function ls(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:hi(4,o,o.return),ls(o);break;case 1:ta(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&z1(o,o.return,c),ls(o);break;case 27:yc(o.stateNode);case 26:case 5:ta(o,o.return),ls(o);break;case 22:o.memoizedState===null&&ls(o);break;case 30:ls(o);break;default:ls(o)}a=a.sibling}}function Ca(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,_=o,E=_.flags;switch(_.tag){case 0:case 11:case 15:Ca(y,_,c),lc(4,_);break;case 1:if(Ca(y,_,c),m=_,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){lt(m,m.return,J)}if(m=_,y=m.updateQueue,y!==null){var P=m.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Aw(U[y],P)}catch(J){lt(m,m.return,J)}}c&&E&64&&$1(_),cc(_,_.return);break;case 27:H1(_);case 26:case 5:Ca(y,_,c),c&&m===null&&E&4&&B1(_),cc(_,_.return);break;case 12:Ca(y,_,c);break;case 31:Ca(y,_,c),c&&E&4&&V1(y,_);break;case 13:Ca(y,_,c),c&&E&4&&W1(y,_);break;case 22:_.memoizedState===null&&Ca(y,_,c),cc(_,_.return);break;case 30:break;default:Ca(y,_,c)}o=o.sibling}}function Hp(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Wl(c))}function Fp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Wl(a))}function Ur(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)J1(a,o,c,m),o=o.sibling}function J1(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(a,o,c,m),y&2048&&lc(9,o);break;case 1:Ur(a,o,c,m);break;case 3:Ur(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Wl(a)));break;case 12:if(y&2048){Ur(a,o,c,m),a=o.stateNode;try{var _=o.memoizedProps,E=_.id,P=_.onPostCommit;typeof P=="function"&&P(E,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){lt(o,o.return,U)}}else Ur(a,o,c,m);break;case 31:Ur(a,o,c,m);break;case 13:Ur(a,o,c,m);break;case 23:break;case 22:_=o.stateNode,E=o.alternate,o.memoizedState!==null?_._visibility&2?Ur(a,o,c,m):uc(a,o):_._visibility&2?Ur(a,o,c,m):(_._visibility|=2,No(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Hp(E,o);break;case 24:Ur(a,o,c,m),y&2048&&Fp(o.alternate,o);break;default:Ur(a,o,c,m)}}function No(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=a,E=o,P=c,U=m,J=E.flags;switch(E.tag){case 0:case 11:case 15:No(_,E,P,U,y),lc(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?No(_,E,P,U,y):uc(_,E):(ae._visibility|=2,No(_,E,P,U,y)),y&&J&2048&&Hp(E.alternate,E);break;case 24:No(_,E,P,U,y),y&&J&2048&&Fp(E.alternate,E);break;default:No(_,E,P,U,y)}o=o.sibling}}function uc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:uc(c,m),y&2048&&Hp(m.alternate,m);break;case 24:uc(c,m),y&2048&&Fp(m.alternate,m);break;default:uc(c,m)}o=o.sibling}}var dc=8192;function Eo(a,o,c){if(a.subtreeFlags&dc)for(a=a.child;a!==null;)Z1(a,o,c),a=a.sibling}function Z1(a,o,c){switch(a.tag){case 26:Eo(a,o,c),a.flags&dc&&a.memoizedState!==null&&JD(c,Lr,a.memoizedState,a.memoizedProps);break;case 5:Eo(a,o,c);break;case 3:case 4:var m=Lr;Lr=$d(a.stateNode.containerInfo),Eo(a,o,c),Lr=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=dc,dc=16777216,Eo(a,o,c),dc=m):Eo(a,o,c));break;default:Eo(a,o,c)}}function ej(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function fc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];dn=m,nj(m,a)}ej(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)tj(a),a=a.sibling}function tj(a){switch(a.tag){case 0:case 11:case 15:fc(a),a.flags&2048&&hi(9,a,a.return);break;case 3:fc(a);break;case 12:fc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Ed(a)):fc(a);break;default:fc(a)}}function Ed(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];dn=m,nj(m,a)}ej(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:hi(8,o,o.return),Ed(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ed(o));break;default:Ed(o)}a=a.sibling}}function nj(a,o){for(;dn!==null;){var c=dn;switch(c.tag){case 0:case 11:case 15:hi(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,dn=m;else e:for(c=a;dn!==null;){m=dn;var y=m.sibling,_=m.return;if(G1(m),m===c){dn=null;break e}if(y!==null){y.return=_,dn=y;break e}dn=_}}}var hD={getCacheForType:function(a){var o=xn(Gt),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return xn(Gt).controller.signal}},mD=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,$e=null,He=0,ot=0,tr=null,mi=!1,Oo=!1,Kp=!1,Ta=0,Lt=0,pi=0,cs=0,Gp=0,nr=0,Ao=0,hc=null,Bn=null,Yp=!1,Od=0,rj=0,Ad=1/0,Cd=null,gi=null,en=0,vi=null,Co=null,ka=0,Vp=0,Wp=null,aj=null,mc=0,Xp=null;function rr(){return(it&2)!==0&&He!==0?He&-He:I.T!==null?ng():x_()}function ij(){if(nr===0)if((He&536870912)===0||Ge){var a=cn;cn<<=1,(cn&3932160)===0&&(cn=262144),nr=a}else nr=536870912;return a=Zn.current,a!==null&&(a.flags|=32),nr}function qn(a,o,c){(a===gt&&(ot===2||ot===9)||a.cancelPendingCommit!==null)&&(To(a,0),yi(a,He,nr,!1)),Dl(a,c),((it&2)===0||a!==gt)&&(a===gt&&((it&2)===0&&(cs|=c),Lt===4&&yi(a,He,nr,!1)),na(a))}function sj(a,o,c){if((it&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Rl(a,o),y=m?vD(a,o):Jp(a,o,!0),_=m;do{if(y===0){Oo&&!m&&yi(a,o,0,!1);break}else{if(c=a.current.alternate,_&&!pD(c)){y=Jp(a,o,!1),_=!1;continue}if(y===2){if(_=o,a.errorRecoveryDisabledLanes&_)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var P=a;y=hc;var U=P.current.memoizedState.isDehydrated;if(U&&(To(P,E).flags|=256),E=Jp(P,E,!1),E!==2){if(Kp&&!U){P.errorRecoveryDisabledLanes|=_,cs|=_,y=4;break e}_=Bn,Bn=y,_!==null&&(Bn===null?Bn=_:Bn.push.apply(Bn,_))}y=E}if(_=!1,y!==2)continue}}if(y===1){To(a,0),yi(a,o,0,!0);break}e:{switch(m=a,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:yi(m,o,nr,!mi);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Od+300-Qe(),10<y)){if(yi(m,o,nr,!mi),Qs(m,0,!0)!==0)break e;ka=o,m.timeoutHandle=Lj(oj.bind(null,m,c,Bn,Cd,Yp,o,nr,cs,Ao,mi,_,"Throttled",-0,0),y);break e}oj(m,c,Bn,Cd,Yp,o,nr,cs,Ao,mi,_,null,-0,0)}}break}while(!0);na(a)}function oj(a,o,c,m,y,_,E,P,U,J,ae,ce,Z,te){if(a.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},Z1(o,_,ce);var _e=(_&62914560)===_?Od-Qe():(_&4194048)===_?rj-Qe():0;if(_e=ZD(ce,_e),_e!==null){ka=_,a.cancelPendingCommit=_e(pj.bind(null,a,o,_,c,m,y,E,P,U,ae,ce,null,Z,te)),yi(a,_,E,!J);return}}pj(a,o,_,c,m,y,E,P,U)}function pD(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],_=y.getSnapshot;y=y.value;try{if(!Qn(_(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function yi(a,o,c,m){o&=~Gp,o&=~cs,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var _=31-yt(y),E=1<<_;m[_]=-1,y&=~E}c!==0&&v_(a,c,o)}function Td(){return(it&6)===0?(pc(0),!1):!0}function Qp(){if($e!==null){if(ot===0)var a=$e.return;else a=$e,xa=es=null,hp(a),xo=null,Ql=0,a=$e;for(;a!==null;)U1(a.alternate,a),a=a.return;$e=null}}function To(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,DD(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ka=0,Qp(),gt=a,$e=c=ya(a.current,null),He=o,ot=0,tr=null,mi=!1,Oo=Rl(a,o),Kp=!1,Ao=nr=Gp=cs=pi=Lt=0,Bn=hc=null,Yp=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-yt(m),_=1<<y;o|=a[y],m&=~_}return Ta=o,Qu(),c}function lj(a,o){Le=null,I.H=ic,o===bo||o===id?(o=Sw(),ot=3):o===tp?(o=Sw(),ot=4):ot=o===Cp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,tr=o,$e===null&&(Lt=1,bd(a,vr(o,a.current)))}function cj(){var a=Zn.current;return a===null?!0:(He&4194048)===He?_r===null:(He&62914560)===He||(He&536870912)!==0?a===_r:!1}function uj(){var a=I.H;return I.H=ic,a===null?ic:a}function dj(){var a=I.A;return I.A=hD,a}function kd(){Lt=4,mi||(He&4194048)!==He&&Zn.current!==null||(Oo=!0),(pi&134217727)===0&&(cs&134217727)===0||gt===null||yi(gt,He,nr,!1)}function Jp(a,o,c){var m=it;it|=2;var y=uj(),_=dj();(gt!==a||He!==o)&&(Cd=null,To(a,o)),o=!1;var E=Lt;e:do try{if(ot!==0&&$e!==null){var P=$e,U=tr;switch(ot){case 8:Qp(),E=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(o=!0);var J=ot;if(ot=0,tr=null,ko(a,P,U,J),c&&Oo){E=0;break e}break;default:J=ot,ot=0,tr=null,ko(a,P,U,J)}}gD(),E=Lt;break}catch(ae){lj(a,ae)}while(!0);return o&&a.shellSuspendCounter++,xa=es=null,it=m,I.H=y,I.A=_,$e===null&&(gt=null,He=0,Qu()),E}function gD(){for(;$e!==null;)fj($e)}function vD(a,o){var c=it;it|=2;var m=uj(),y=dj();gt!==a||He!==o?(Cd=null,Ad=Qe()+500,To(a,o)):Oo=Rl(a,o);e:do try{if(ot!==0&&$e!==null){o=$e;var _=tr;t:switch(ot){case 1:ot=0,tr=null,ko(a,o,_,1);break;case 2:case 9:if(ww(_)){ot=0,tr=null,hj(o);break}o=function(){ot!==2&&ot!==9||gt!==a||(ot=7),na(a)},_.then(o,o);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:ww(_)?(ot=0,tr=null,hj(o)):(ot=0,tr=null,ko(a,o,_,7));break;case 5:var E=null;switch($e.tag){case 26:E=$e.memoizedState;case 5:case 27:var P=$e;if(E?Jj(E):P.stateNode.complete){ot=0,tr=null;var U=P.sibling;if(U!==null)$e=U;else{var J=P.return;J!==null?($e=J,Pd(J)):$e=null}break t}}ot=0,tr=null,ko(a,o,_,5);break;case 6:ot=0,tr=null,ko(a,o,_,6);break;case 8:Qp(),Lt=6;break e;default:throw Error(r(462))}}yD();break}catch(ae){lj(a,ae)}while(!0);return xa=es=null,I.H=m,I.A=y,it=c,$e!==null?0:(gt=null,He=0,Qu(),Lt)}function yD(){for(;$e!==null&&!dt();)fj($e)}function fj(a){var o=I1(a.alternate,a,Ta);a.memoizedProps=a.pendingProps,o===null?Pd(a):$e=o}function hj(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=T1(c,o,o.pendingProps,o.type,void 0,He);break;case 11:o=T1(c,o,o.pendingProps,o.type.render,o.ref,He);break;case 5:hp(o);default:U1(c,o),o=$e=dw(o,Ta),o=I1(c,o,Ta)}a.memoizedProps=a.pendingProps,o===null?Pd(a):$e=o}function ko(a,o,c,m){xa=es=null,hp(o),xo=null,Ql=0;var y=o.return;try{if(sD(a,y,o,c,He)){Lt=1,bd(a,vr(c,a.current)),$e=null;return}}catch(_){if(y!==null)throw $e=y,_;Lt=1,bd(a,vr(c,a.current)),$e=null;return}o.flags&32768?(Ge||m===1?a=!0:Oo||(He&536870912)!==0?a=!1:(mi=a=!0,(m===2||m===9||m===3||m===6)&&(m=Zn.current,m!==null&&m.tag===13&&(m.flags|=16384))),mj(o,a)):Pd(o)}function Pd(a){var o=a;do{if((o.flags&32768)!==0){mj(o,mi);return}a=o.return;var c=cD(o.alternate,o,Ta);if(c!==null){$e=c;return}if(o=o.sibling,o!==null){$e=o;return}$e=o=a}while(o!==null);Lt===0&&(Lt=5)}function mj(a,o){do{var c=uD(a.alternate,a);if(c!==null){c.flags&=32767,$e=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){$e=a;return}$e=a=c}while(a!==null);Lt=6,$e=null}function pj(a,o,c,m,y,_,E,P,U){a.cancelPendingCommit=null;do Md();while(en!==0);if((it&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=zm,QR(a,c,_,E,P,U),a===gt&&($e=gt=null,He=0),Co=o,vi=a,ka=c,Vp=_,Wp=y,aj=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,wD(de,function(){return xj(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=I.T,I.T=null,y=Y.p,Y.p=2,E=it,it|=4;try{dD(a,o,c)}finally{it=E,Y.p=y,I.T=m}}en=1,gj(),vj(),yj()}}function gj(){if(en===1){en=0;var a=vi,o=Co,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var m=Y.p;Y.p=2;var y=it;it|=4;try{X1(o,a);var _=ug,E=nw(a.containerInfo),P=_.focusedElem,U=_.selectionRange;if(E!==P&&P&&P.ownerDocument&&tw(P.ownerDocument.documentElement,P)){if(U!==null&&Dm(P)){var J=U.start,ae=U.end;if(ae===void 0&&(ae=J),"selectionStart"in P)P.selectionStart=J,P.selectionEnd=Math.min(ae,P.value.length);else{var ce=P.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var te=Z.getSelection(),_e=P.textContent.length,Pe=Math.min(U.start,_e),mt=U.end===void 0?Pe:Math.min(U.end,_e);!te.extend&&Pe>mt&&(E=mt,mt=Pe,Pe=E);var G=ew(P,Pe),z=ew(P,mt);if(G&&z&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==z.node||te.focusOffset!==z.offset)){var Q=ce.createRange();Q.setStart(G.node,G.offset),te.removeAllRanges(),Pe>mt?(te.addRange(Q),te.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),te.addRange(Q))}}}}for(ce=[],te=P;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ce.length;P++){var oe=ce[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Kd=!!cg,ug=cg=null}finally{it=y,Y.p=m,I.T=c}}a.current=o,en=2}}function vj(){if(en===2){en=0;var a=vi,o=Co,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var m=Y.p;Y.p=2;var y=it;it|=4;try{K1(a,o.alternate,o)}finally{it=y,Y.p=m,I.T=c}}en=3}}function yj(){if(en===4||en===3){en=0,St();var a=vi,o=Co,c=ka,m=aj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?en=5:(en=0,Co=vi=null,bj(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(gi=null),gm(c),o=o.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Pt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=I.T,y=Y.p,Y.p=2,I.T=null;try{for(var _=a.onRecoverableError,E=0;E<m.length;E++){var P=m[E];_(P.value,{componentStack:P.stack})}}finally{I.T=o,Y.p=y}}(ka&3)!==0&&Md(),na(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Xp?mc++:(mc=0,Xp=a):mc=0,pc(0)}}function bj(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Wl(o)))}function Md(){return gj(),vj(),yj(),xj()}function xj(){if(en!==5)return!1;var a=vi,o=Vp;Vp=0;var c=gm(ka),m=I.T,y=Y.p;try{Y.p=32>c?32:c,I.T=null,c=Wp,Wp=null;var _=vi,E=ka;if(en=0,Co=vi=null,ka=0,(it&6)!==0)throw Error(r(331));var P=it;if(it|=4,tj(_.current),J1(_,_.current,E,c),it=P,pc(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Pt,_)}catch{}return!0}finally{Y.p=y,I.T=m,bj(a,o)}}function _j(a,o,c){o=vr(c,o),o=Ap(a.stateNode,o,2),a=ui(a,o,2),a!==null&&(Dl(a,2),na(a))}function lt(a,o,c){if(a.tag===3)_j(a,a,c);else for(;o!==null;){if(o.tag===3){_j(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(gi===null||!gi.has(m))){a=vr(c,a),c=w1(2),m=ui(o,c,2),m!==null&&(j1(c,m,o,a),Dl(m,2),na(m));break}}o=o.return}}function Zp(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new mD;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(Kp=!0,y.add(c),a=bD.bind(null,a,o,c),o.then(a,a))}function bD(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,gt===a&&(He&c)===c&&(Lt===4||Lt===3&&(He&62914560)===He&&300>Qe()-Od?(it&2)===0&&To(a,0):Gp|=c,Ao===He&&(Ao=0)),na(a)}function wj(a,o){o===0&&(o=g_()),a=Qi(a,o),a!==null&&(Dl(a,o),na(a))}function xD(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),wj(a,c)}function _D(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),wj(a,c)}function wD(a,o){return We(a,o)}var Rd=null,Po=null,eg=!1,Dd=!1,tg=!1,bi=0;function na(a){a!==Po&&a.next===null&&(Po===null?Rd=Po=a:Po=Po.next=a),Dd=!0,eg||(eg=!0,SD())}function pc(a,o){if(!tg&&Dd){tg=!0;do for(var c=!1,m=Rd;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var _=0;else{var E=m.suspendedLanes,P=m.pingedLanes;_=(1<<31-yt(42|a)+1)-1,_&=y&~(E&~P),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,Ej(m,_))}else _=He,_=Qs(m,m===gt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Rl(m,_)||(c=!0,Ej(m,_));m=m.next}while(c);tg=!1}}function jD(){jj()}function jj(){Dd=eg=!1;var a=0;bi!==0&&RD()&&(a=bi);for(var o=Qe(),c=null,m=Rd;m!==null;){var y=m.next,_=Sj(m,o);_===0?(m.next=null,c===null?Rd=y:c.next=y,y===null&&(Po=c)):(c=m,(a!==0||(_&3)!==0)&&(Dd=!0)),m=y}en!==0&&en!==5||pc(a),bi!==0&&(bi=0)}function Sj(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var E=31-yt(_),P=1<<E,U=y[E];U===-1?((P&c)===0||(P&m)!==0)&&(y[E]=XR(P,o)):U<=o&&(a.expiredLanes|=P),_&=~P}if(o=gt,c=He,c=Qs(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(ot===2||ot===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Ke(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Rl(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Ke(m),gm(c)){case 2:case 8:c=Jr;break;case 32:c=de;break;case 268435456:c=Ee;break;default:c=de}return m=Nj.bind(null,a),c=We(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Ke(m),a.callbackPriority=2,a.callbackNode=null,2}function Nj(a,o){if(en!==0&&en!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Md()&&a.callbackNode!==c)return null;var m=He;return m=Qs(a,a===gt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(sj(a,m,o),Sj(a,Qe()),a.callbackNode!=null&&a.callbackNode===c?Nj.bind(null,a):null)}function Ej(a,o){if(Md())return null;sj(a,o,!0)}function SD(){ID(function(){(it&6)!==0?We(Qr,jD):jj()})}function ng(){if(bi===0){var a=vo;a===0&&(a=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),bi=a}return bi}function Oj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hu(""+a)}function Aj(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function ND(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var _=Oj((y[In]||null).action),E=m.submitter;E&&(o=(o=E[In]||null)?Oj(o.formAction):E.getAttribute("formAction"),o!==null&&(_=o,E=null));var P=new Yu("action","action",null,m,y);a.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(bi!==0){var U=E?Aj(y,E):new FormData(y);wp(c,{pending:!0,data:U,method:y.method,action:_},null,U)}}else typeof _=="function"&&(P.preventDefault(),U=E?Aj(y,E):new FormData(y),wp(c,{pending:!0,data:U,method:y.method,action:_},_,U))},currentTarget:y}]})}}for(var rg=0;rg<$m.length;rg++){var ag=$m[rg],ED=ag.toLowerCase(),OD=ag[0].toUpperCase()+ag.slice(1);Ir(ED,"on"+OD)}Ir(iw,"onAnimationEnd"),Ir(sw,"onAnimationIteration"),Ir(ow,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(H3,"onTransitionRun"),Ir(F3,"onTransitionStart"),Ir(K3,"onTransitionCancel"),Ir(lw,"onTransitionEnd"),no("onMouseEnter",["mouseout","mouseover"]),no("onMouseLeave",["mouseout","mouseover"]),no("onPointerEnter",["pointerout","pointerover"]),no("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function Cj(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var _=void 0;if(o)for(var E=m.length-1;0<=E;E--){var P=m[E],U=P.instance,J=P.currentTarget;if(P=P.listener,U!==_&&y.isPropagationStopped())break e;_=P,y.currentTarget=J;try{_(y)}catch(ae){Xu(ae)}y.currentTarget=null,_=U}else for(E=0;E<m.length;E++){if(P=m[E],U=P.instance,J=P.currentTarget,P=P.listener,U!==_&&y.isPropagationStopped())break e;_=P,y.currentTarget=J;try{_(y)}catch(ae){Xu(ae)}y.currentTarget=null,_=U}}}}function ze(a,o){var c=o[vm];c===void 0&&(c=o[vm]=new Set);var m=a+"__bubble";c.has(m)||(Tj(o,a,2,!1),c.add(m))}function ig(a,o,c){var m=0;o&&(m|=4),Tj(c,a,m,o)}var Id="_reactListening"+Math.random().toString(36).slice(2);function sg(a){if(!a[Id]){a[Id]=!0,j_.forEach(function(c){c!=="selectionchange"&&(AD.has(c)||ig(c,!1,a),ig(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Id]||(o[Id]=!0,ig("selectionchange",!1,o))}}function Tj(a,o,c,m){switch(iS(o)){case 2:var y=n4;break;case 8:y=r4;break;default:y=_g}c=y.bind(null,o,c,a),y=void 0,!Em||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function og(a,o,c,m,y){var _=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var E=m.tag;if(E===3||E===4){var P=m.stateNode.containerInfo;if(P===y)break;if(E===4)for(E=m.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;P!==null;){if(E=Zs(P),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){m=_=E;continue e}P=P.parentNode}}m=m.return}D_(function(){var J=_,ae=Sm(c),ce=[];e:{var Z=cw.get(a);if(Z!==void 0){var te=Yu,_e=a;switch(a){case"keypress":if(Ku(c)===0)break e;case"keydown":case"keyup":te=_3;break;case"focusin":_e="focus",te=Tm;break;case"focusout":_e="blur",te=Tm;break;case"beforeblur":case"afterblur":te=Tm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=U_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=S3;break;case iw:case sw:case ow:te=f3;break;case lw:te=E3;break;case"scroll":case"scrollend":te=o3;break;case"wheel":te=A3;break;case"copy":case"cut":case"paste":te=m3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=z_;break;case"toggle":case"beforetoggle":te=T3}var Pe=(o&4)!==0,mt=!Pe&&(a==="scroll"||a==="scrollend"),G=Pe?Z!==null?Z+"Capture":null:Z;Pe=[];for(var z=J,Q;z!==null;){var oe=z;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||G===null||(oe=Ul(z,G),oe!=null&&Pe.push(vc(z,oe,Q))),mt)break;z=z.return}0<Pe.length&&(Z=new te(Z,_e,null,c,ae),ce.push({event:Z,listeners:Pe}))}}if((o&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",Z&&c!==jm&&(_e=c.relatedTarget||c.fromElement)&&(Zs(_e)||_e[Js]))break e;if((te||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,te?(_e=c.relatedTarget||c.toElement,te=J,_e=_e?Zs(_e):null,_e!==null&&(mt=s(_e),Pe=_e.tag,_e!==mt||Pe!==5&&Pe!==27&&Pe!==6)&&(_e=null)):(te=null,_e=J),te!==_e)){if(Pe=U_,oe="onMouseLeave",G="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=z_,oe="onPointerLeave",G="onPointerEnter",z="pointer"),mt=te==null?Z:Ll(te),Q=_e==null?Z:Ll(_e),Z=new Pe(oe,z+"leave",te,c,ae),Z.target=mt,Z.relatedTarget=Q,oe=null,Zs(ae)===J&&(Pe=new Pe(G,z+"enter",_e,c,ae),Pe.target=Q,Pe.relatedTarget=mt,oe=Pe),mt=oe,te&&_e)t:{for(Pe=CD,G=te,z=_e,Q=0,oe=G;oe;oe=Pe(oe))Q++;oe=0;for(var Ae=z;Ae;Ae=Pe(Ae))oe++;for(;0<Q-oe;)G=Pe(G),Q--;for(;0<oe-Q;)z=Pe(z),oe--;for(;Q--;){if(G===z||z!==null&&G===z.alternate){Pe=G;break t}G=Pe(G),z=Pe(z)}Pe=null}else Pe=null;te!==null&&kj(ce,Z,te,Pe,!1),_e!==null&&mt!==null&&kj(ce,mt,_e,Pe,!0)}}e:{if(Z=J?Ll(J):window,te=Z.nodeName&&Z.nodeName.toLowerCase(),te==="select"||te==="input"&&Z.type==="file")var et=V_;else if(G_(Z))if(W_)et=z3;else{et=U3;var Se=L3}else te=Z.nodeName,!te||te.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&wm(J.elementType)&&(et=V_):et=$3;if(et&&(et=et(a,J))){Y_(ce,et,c,ae);break e}Se&&Se(a,Z,J),a==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&_m(Z,"number",Z.value)}switch(Se=J?Ll(J):window,a){case"focusin":(G_(Se)||Se.contentEditable==="true")&&(lo=Se,Im=J,Gl=null);break;case"focusout":Gl=Im=lo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,rw(ce,c,ae);break;case"selectionchange":if(q3)break;case"keydown":case"keyup":rw(ce,c,ae)}var Ue;if(Pm)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else oo?F_(a,c)&&(Fe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(B_&&c.locale!=="ko"&&(oo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&oo&&(Ue=I_()):(ri=ae,Om="value"in ri?ri.value:ri.textContent,oo=!0)),Se=Ld(J,Fe),0<Se.length&&(Fe=new $_(Fe,a,null,c,ae),ce.push({event:Fe,listeners:Se}),Ue?Fe.data=Ue:(Ue=K_(c),Ue!==null&&(Fe.data=Ue)))),(Ue=P3?M3(a,c):R3(a,c))&&(Fe=Ld(J,"onBeforeInput"),0<Fe.length&&(Se=new $_("onBeforeInput","beforeinput",null,c,ae),ce.push({event:Se,listeners:Fe}),Se.data=Ue)),ND(ce,a,J,c,ae)}Cj(ce,o)})}function vc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Ld(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Ul(a,c),y!=null&&m.unshift(vc(a,y,_)),y=Ul(a,o),y!=null&&m.push(vc(a,y,_))),a.tag===3)return m;a=a.return}return[]}function CD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kj(a,o,c,m,y){for(var _=o._reactName,E=[];c!==null&&c!==m;){var P=c,U=P.alternate,J=P.stateNode;if(P=P.tag,U!==null&&U===m)break;P!==5&&P!==26&&P!==27||J===null||(U=J,y?(J=Ul(c,_),J!=null&&E.unshift(vc(c,J,U))):y||(J=Ul(c,_),J!=null&&E.push(vc(c,J,U)))),c=c.return}E.length!==0&&a.push({event:o,listeners:E})}var TD=/\r\n?/g,kD=/\u0000|\uFFFD/g;function Pj(a){return(typeof a=="string"?a:""+a).replace(TD,`
`).replace(kD,"")}function Mj(a,o){return o=Pj(o),Pj(a)===o}function ht(a,o,c,m,y,_){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||ao(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&ao(a,""+m);break;case"className":Bu(a,"class",m);break;case"tabIndex":Bu(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Bu(a,c,m);break;case"style":M_(a,m,_);break;case"data":if(o!=="object"){Bu(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Hu(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&ht(a,o,"name",y.name,y,null),ht(a,o,"formEncType",y.formEncType,y,null),ht(a,o,"formMethod",y.formMethod,y,null),ht(a,o,"formTarget",y.formTarget,y,null)):(ht(a,o,"encType",y.encType,y,null),ht(a,o,"method",y.method,y,null),ht(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Hu(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=ga);break;case"onScroll":m!=null&&ze("scroll",a);break;case"onScrollEnd":m!=null&&ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Hu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":ze("beforetoggle",a),ze("toggle",a),zu(a,"popover",m);break;case"xlinkActuate":pa(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":pa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":pa(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":pa(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":pa(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":pa(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":pa(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":pa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":pa(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":zu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=i3.get(c)||c,zu(a,c,m))}}function lg(a,o,c,m,y,_){switch(c){case"style":M_(a,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?ao(a,m):(typeof m=="number"||typeof m=="bigint")&&ao(a,""+m);break;case"onScroll":m!=null&&ze("scroll",a);break;case"onScrollEnd":m!=null&&ze("scrollend",a);break;case"onClick":m!=null&&(a.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!S_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),_=a[In]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(o,_,y),typeof m=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):zu(a,c,m)}}}function wn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",a),ze("load",a);var m=!1,y=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var E=c[_];if(E!=null)switch(_){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ht(a,o,_,E,c,null)}}y&&ht(a,o,"srcSet",c.srcSet,c,null),m&&ht(a,o,"src",c.src,c,null);return;case"input":ze("invalid",a);var P=_=E=y=null,U=null,J=null;for(m in c)if(c.hasOwnProperty(m)){var ae=c[m];if(ae!=null)switch(m){case"name":y=ae;break;case"type":E=ae;break;case"checked":U=ae;break;case"defaultChecked":J=ae;break;case"value":_=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ht(a,o,m,ae,c,null)}}C_(a,_,P,U,J,E,y,!1);return;case"select":ze("invalid",a),m=E=_=null;for(y in c)if(c.hasOwnProperty(y)&&(P=c[y],P!=null))switch(y){case"value":_=P;break;case"defaultValue":E=P;break;case"multiple":m=P;default:ht(a,o,y,P,c,null)}o=_,c=E,a.multiple=!!m,o!=null?ro(a,!!m,o,!1):c!=null&&ro(a,!!m,c,!0);return;case"textarea":ze("invalid",a),_=y=m=null;for(E in c)if(c.hasOwnProperty(E)&&(P=c[E],P!=null))switch(E){case"value":m=P;break;case"defaultValue":y=P;break;case"children":_=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:ht(a,o,E,P,c,null)}k_(a,m,y,_);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(m=c[U],m!=null))switch(U){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ht(a,o,U,m,c,null)}return;case"dialog":ze("beforetoggle",a),ze("toggle",a),ze("cancel",a),ze("close",a);break;case"iframe":case"object":ze("load",a);break;case"video":case"audio":for(m=0;m<gc.length;m++)ze(gc[m],a);break;case"image":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"embed":case"source":case"link":ze("error",a),ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(m=c[J],m!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:ht(a,o,J,m,c,null)}return;default:if(wm(o)){for(ae in c)c.hasOwnProperty(ae)&&(m=c[ae],m!==void 0&&lg(a,o,ae,m,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(m=c[P],m!=null&&ht(a,o,P,m,c,null))}function PD(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,E=null,P=null,U=null,J=null,ae=null;for(te in c){var ce=c[te];if(c.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=ce;default:m.hasOwnProperty(te)||ht(a,o,te,null,m,ce)}}for(var Z in m){var te=m[Z];if(ce=c[Z],m.hasOwnProperty(Z)&&(te!=null||ce!=null))switch(Z){case"type":_=te;break;case"name":y=te;break;case"checked":J=te;break;case"defaultChecked":ae=te;break;case"value":E=te;break;case"defaultValue":P=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:te!==ce&&ht(a,o,Z,te,m,ce)}}xm(a,E,P,U,J,ae,_,y);return;case"select":te=E=P=Z=null;for(_ in c)if(U=c[_],c.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":te=U;default:m.hasOwnProperty(_)||ht(a,o,_,null,m,U)}for(y in m)if(_=m[y],U=c[y],m.hasOwnProperty(y)&&(_!=null||U!=null))switch(y){case"value":Z=_;break;case"defaultValue":P=_;break;case"multiple":E=_;default:_!==U&&ht(a,o,y,_,m,U)}o=P,c=E,m=te,Z!=null?ro(a,!!c,Z,!1):!!m!=!!c&&(o!=null?ro(a,!!c,o,!0):ro(a,!!c,c?[]:"",!1));return;case"textarea":te=Z=null;for(P in c)if(y=c[P],c.hasOwnProperty(P)&&y!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ht(a,o,P,null,m,y)}for(E in m)if(y=m[E],_=c[E],m.hasOwnProperty(E)&&(y!=null||_!=null))switch(E){case"value":Z=y;break;case"defaultValue":te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&ht(a,o,E,y,m,_)}T_(a,Z,te);return;case"option":for(var _e in c)if(Z=c[_e],c.hasOwnProperty(_e)&&Z!=null&&!m.hasOwnProperty(_e))switch(_e){case"selected":a.selected=!1;break;default:ht(a,o,_e,null,m,Z)}for(U in m)if(Z=m[U],te=c[U],m.hasOwnProperty(U)&&Z!==te&&(Z!=null||te!=null))switch(U){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ht(a,o,U,Z,m,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in c)Z=c[Pe],c.hasOwnProperty(Pe)&&Z!=null&&!m.hasOwnProperty(Pe)&&ht(a,o,Pe,null,m,Z);for(J in m)if(Z=m[J],te=c[J],m.hasOwnProperty(J)&&Z!==te&&(Z!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,o));break;default:ht(a,o,J,Z,m,te)}return;default:if(wm(o)){for(var mt in c)Z=c[mt],c.hasOwnProperty(mt)&&Z!==void 0&&!m.hasOwnProperty(mt)&&lg(a,o,mt,void 0,m,Z);for(ae in m)Z=m[ae],te=c[ae],!m.hasOwnProperty(ae)||Z===te||Z===void 0&&te===void 0||lg(a,o,ae,Z,m,te);return}}for(var G in c)Z=c[G],c.hasOwnProperty(G)&&Z!=null&&!m.hasOwnProperty(G)&&ht(a,o,G,null,m,Z);for(ce in m)Z=m[ce],te=c[ce],!m.hasOwnProperty(ce)||Z===te||Z==null&&te==null||ht(a,o,ce,Z,m,te)}function Rj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MD(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],_=y.transferSize,E=y.initiatorType,P=y.duration;if(_&&P&&Rj(E)){for(E=0,P=y.responseEnd,m+=1;m<c.length;m++){var U=c[m],J=U.startTime;if(J>P)break;var ae=U.transferSize,ce=U.initiatorType;ae&&Rj(ce)&&(U=U.responseEnd,E+=ae*(U<P?1:(P-J)/(U-J)))}if(--m,o+=8*(_+E)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var cg=null,ug=null;function Ud(a){return a.nodeType===9?a:a.ownerDocument}function Dj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ij(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function dg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fg=null;function RD(){var a=window.event;return a&&a.type==="popstate"?a===fg?!1:(fg=a,!0):(fg=null,!1)}var Lj=typeof setTimeout=="function"?setTimeout:void 0,DD=typeof clearTimeout=="function"?clearTimeout:void 0,Uj=typeof Promise=="function"?Promise:void 0,ID=typeof queueMicrotask=="function"?queueMicrotask:typeof Uj<"u"?function(a){return Uj.resolve(null).then(a).catch(LD)}:Lj;function LD(a){setTimeout(function(){throw a})}function xi(a){return a==="head"}function $j(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),Io(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")yc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,yc(c);for(var _=c.firstChild;_;){var E=_.nextSibling,P=_.nodeName;_[Il]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=E}}else c==="body"&&yc(a.ownerDocument.body);c=y}while(c);Io(o)}function zj(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function hg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":hg(c),ym(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function UD(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Il])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=wr(a.nextSibling),a===null)break}return null}function $D(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=wr(a.nextSibling),a===null))return null;return a}function Bj(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wr(a.nextSibling),a===null))return null;return a}function mg(a){return a.data==="$?"||a.data==="$~"}function pg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function zD(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function wr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var gg=null;function qj(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return wr(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function Hj(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function Fj(a,o,c){switch(o=Ud(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ym(a)}var jr=new Map,Kj=new Set;function $d(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Pa=Y.d;Y.d={f:BD,r:qD,D:HD,C:FD,L:KD,m:GD,X:VD,S:YD,M:WD};function BD(){var a=Pa.f(),o=Td();return a||o}function qD(a){var o=eo(a);o!==null&&o.tag===5&&o.type==="form"?l1(o):Pa.r(a)}var Mo=typeof document>"u"?null:document;function Gj(a,o,c){var m=Mo;if(m&&typeof o=="string"&&o){var y=pr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Kj.has(y)||(Kj.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),wn(o,"link",a),un(o),m.head.appendChild(o)))}}function HD(a){Pa.D(a),Gj("dns-prefetch",a,null)}function FD(a,o){Pa.C(a,o),Gj("preconnect",a,o)}function KD(a,o,c){Pa.L(a,o,c);var m=Mo;if(m&&a&&o){var y='link[rel="preload"][as="'+pr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+pr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+pr(c.imageSizes)+'"]')):y+='[href="'+pr(a)+'"]';var _=y;switch(o){case"style":_=Ro(a);break;case"script":_=Do(a)}jr.has(_)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),jr.set(_,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(bc(_))||o==="script"&&m.querySelector(xc(_))||(o=m.createElement("link"),wn(o,"link",a),un(o),m.head.appendChild(o)))}}function GD(a,o){Pa.m(a,o);var c=Mo;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+pr(m)+'"][href="'+pr(a)+'"]',_=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Do(a)}if(!jr.has(_)&&(a=g({rel:"modulepreload",href:a},o),jr.set(_,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xc(_)))return}m=c.createElement("link"),wn(m,"link",a),un(m),c.head.appendChild(m)}}}function YD(a,o,c){Pa.S(a,o,c);var m=Mo;if(m&&a){var y=to(m).hoistableStyles,_=Ro(a);o=o||"default";var E=y.get(_);if(!E){var P={loading:0,preload:null};if(E=m.querySelector(bc(_)))P.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=jr.get(_))&&vg(a,c);var U=E=m.createElement("link");un(U),wn(U,"link",a),U._p=new Promise(function(J,ae){U.onload=J,U.onerror=ae}),U.addEventListener("load",function(){P.loading|=1}),U.addEventListener("error",function(){P.loading|=2}),P.loading|=4,zd(E,o,m)}E={type:"stylesheet",instance:E,count:1,state:P},y.set(_,E)}}}function VD(a,o){Pa.X(a,o);var c=Mo;if(c&&a){var m=to(c).hoistableScripts,y=Do(a),_=m.get(y);_||(_=c.querySelector(xc(y)),_||(a=g({src:a,async:!0},o),(o=jr.get(y))&&yg(a,o),_=c.createElement("script"),un(_),wn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(y,_))}}function WD(a,o){Pa.M(a,o);var c=Mo;if(c&&a){var m=to(c).hoistableScripts,y=Do(a),_=m.get(y);_||(_=c.querySelector(xc(y)),_||(a=g({src:a,async:!0,type:"module"},o),(o=jr.get(y))&&yg(a,o),_=c.createElement("script"),un(_),wn(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(y,_))}}function Yj(a,o,c,m){var y=(y=ye.current)?$d(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ro(c.href),c=to(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ro(c.href);var _=to(y).hoistableStyles,E=_.get(a);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,E),(_=y.querySelector(bc(a)))&&!_._p&&(E.instance=_,E.state.loading=5),jr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},jr.set(a,c),_||XD(y,a,c,E.state))),o&&m===null)throw Error(r(528,""));return E}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Do(c),c=to(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ro(a){return'href="'+pr(a)+'"'}function bc(a){return'link[rel="stylesheet"]['+a+"]"}function Vj(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function XD(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),wn(o,"link",c),un(o),a.head.appendChild(o))}function Do(a){return'[src="'+pr(a)+'"]'}function xc(a){return"script[async]"+a}function Wj(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+pr(c.href)+'"]');if(m)return o.instance=m,un(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),un(m),wn(m,"style",y),zd(m,c.precedence,a),o.instance=m;case"stylesheet":y=Ro(c.href);var _=a.querySelector(bc(y));if(_)return o.state.loading|=4,o.instance=_,un(_),_;m=Vj(c),(y=jr.get(y))&&vg(m,y),_=(a.ownerDocument||a).createElement("link"),un(_);var E=_;return E._p=new Promise(function(P,U){E.onload=P,E.onerror=U}),wn(_,"link",m),o.state.loading|=4,zd(_,c.precedence,a),o.instance=_;case"script":return _=Do(c.src),(y=a.querySelector(xc(_)))?(o.instance=y,un(y),y):(m=c,(y=jr.get(_))&&(m=g({},c),yg(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),un(y),wn(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,zd(m,c.precedence,a));return o.instance}function zd(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,_=y,E=0;E<m.length;E++){var P=m[E];if(P.dataset.precedence===o)_=P;else if(_!==y)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function vg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function yg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Bd=null;function Xj(a,o,c){if(Bd===null){var m=new Map,y=Bd=new Map;y.set(c,m)}else y=Bd,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var _=c[y];if(!(_[Il]||_[yn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(o)||"";E=a+E;var P=m.get(E);P?P.push(_):m.set(E,[_])}}return m}function Qj(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function QD(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Jj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function JD(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Ro(m.href),_=o.querySelector(bc(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=qd.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=_,un(_);return}_=o.ownerDocument||o,m=Vj(m),(y=jr.get(y))&&vg(m,y),_=_.createElement("link"),un(_);var E=_;E._p=new Promise(function(P,U){E.onload=P,E.onerror=U}),wn(_,"link",m),c.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=qd.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var bg=0;function ZD(a,o){return a.stylesheets&&a.count===0&&Fd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Fd(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+o);0<a.imgBytes&&bg===0&&(bg=62500*MD());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Fd(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>bg?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hd=null;function Fd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hd=new Map,o.forEach(e4,a),Hd=null,qd.call(a))}function e4(a,o){if(!(o.state.loading&4)){var c=Hd.get(a);if(c)var m=c.get(null);else{c=new Map,Hd.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var E=y[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),m=E)}m&&c.set(null,m)}y=o.instance,E=y.getAttribute("data-precedence"),_=c.get(E)||m,_===m&&c.set(null,y),c.set(E,y),this.count++,m=qd.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),_?_.parentNode.insertBefore(y,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var _c={$$typeof:A,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function t4(a,o,c,m,y,_,E,P,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.hiddenUpdates=mm(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Zj(a,o,c,m,y,_,E,P,U,J,ae,ce){return a=new t4(a,o,c,E,U,J,ae,ce,P),o=1,_===!0&&(o|=24),_=Jn(3,null,null,o),a.current=_,_.stateNode=a,o=Jm(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:o},np(_),a}function eS(a){return a?(a=fo,a):fo}function tS(a,o,c,m,y,_){y=eS(y),m.context===null?m.context=y:m.pendingContext=y,m=ci(o),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=ui(a,m,o),c!==null&&(qn(c,a,o),Zl(c,a,o))}function nS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function xg(a,o){nS(a,o),(a=a.alternate)&&nS(a,o)}function rS(a){if(a.tag===13||a.tag===31){var o=Qi(a,67108864);o!==null&&qn(o,a,67108864),xg(a,67108864)}}function aS(a){if(a.tag===13||a.tag===31){var o=rr();o=pm(o);var c=Qi(a,o);c!==null&&qn(c,a,o),xg(a,o)}}var Kd=!0;function n4(a,o,c,m){var y=I.T;I.T=null;var _=Y.p;try{Y.p=2,_g(a,o,c,m)}finally{Y.p=_,I.T=y}}function r4(a,o,c,m){var y=I.T;I.T=null;var _=Y.p;try{Y.p=8,_g(a,o,c,m)}finally{Y.p=_,I.T=y}}function _g(a,o,c,m){if(Kd){var y=wg(m);if(y===null)og(a,o,m,Gd,c),sS(a,m);else if(i4(y,a,o,c,m))m.stopPropagation();else if(sS(a,m),o&4&&-1<a4.indexOf(a)){for(;y!==null;){var _=eo(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=Kt(_.pendingLanes);if(E!==0){var P=_;for(P.pendingLanes|=2,P.entangledLanes|=2;E;){var U=1<<31-yt(E);P.entanglements[1]|=U,E&=~U}na(_),(it&6)===0&&(Ad=Qe()+500,pc(0))}}break;case 31:case 13:P=Qi(_,2),P!==null&&qn(P,_,2),Td(),xg(_,2)}if(_=wg(m),_===null&&og(a,o,m,Gd,c),_===y)break;y=_}y!==null&&m.stopPropagation()}else og(a,o,m,null,c)}}function wg(a){return a=Sm(a),jg(a)}var Gd=null;function jg(a){if(Gd=null,a=Zs(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=d(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Gd=a,null}function iS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case Qr:return 2;case Jr:return 8;case de:case he:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Sg=!1,_i=null,wi=null,ji=null,wc=new Map,jc=new Map,Si=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sS(a,o){switch(a){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":wc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(o.pointerId)}}function Sc(a,o,c,m,y,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[y]},o!==null&&(o=eo(o),o!==null&&rS(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function i4(a,o,c,m,y){switch(o){case"focusin":return _i=Sc(_i,a,o,c,m,y),!0;case"dragenter":return wi=Sc(wi,a,o,c,m,y),!0;case"mouseover":return ji=Sc(ji,a,o,c,m,y),!0;case"pointerover":var _=y.pointerId;return wc.set(_,Sc(wc.get(_)||null,a,o,c,m,y)),!0;case"gotpointercapture":return _=y.pointerId,jc.set(_,Sc(jc.get(_)||null,a,o,c,m,y)),!0}return!1}function oS(a){var o=Zs(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,__(a.priority,function(){aS(c)});return}}else if(o===31){if(o=d(c),o!==null){a.blockedOn=o,__(a.priority,function(){aS(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Yd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=wg(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);jm=m,c.target.dispatchEvent(m),jm=null}else return o=eo(c),o!==null&&rS(o),a.blockedOn=c,!1;o.shift()}return!0}function lS(a,o,c){Yd(a)&&c.delete(o)}function s4(){Sg=!1,_i!==null&&Yd(_i)&&(_i=null),wi!==null&&Yd(wi)&&(wi=null),ji!==null&&Yd(ji)&&(ji=null),wc.forEach(lS),jc.forEach(lS)}function Vd(a,o){a.blockedOn===o&&(a.blockedOn=null,Sg||(Sg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s4)))}var Wd=null;function cS(a){Wd!==a&&(Wd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wd===a&&(Wd=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(jg(m||c)===null)continue;break}var _=eo(c);_!==null&&(a.splice(o,3),o-=3,wp(_,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function Io(a){function o(U){return Vd(U,a)}_i!==null&&Vd(_i,a),wi!==null&&Vd(wi,a),ji!==null&&Vd(ji,a),wc.forEach(o),jc.forEach(o);for(var c=0;c<Si.length;c++){var m=Si[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Si.length&&(c=Si[0],c.blockedOn===null);)oS(c),c.blockedOn===null&&Si.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],_=c[m+1],E=y[In]||null;if(typeof _=="function")E||cS(c);else if(E){var P=null;if(_&&_.hasAttribute("formAction")){if(y=_,E=_[In]||null)P=E.formAction;else if(jg(y)!==null)continue}else P=E.action;typeof P=="function"?c[m+1]=P:(c.splice(m,3),m-=3),cS(c)}}}function uS(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Ng(a){this._internalRoot=a}Xd.prototype.render=Ng.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=rr();tS(c,m,a,o,null,null)},Xd.prototype.unmount=Ng.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;tS(a.current,2,null,a,null,null),Td(),o[Js]=null}};function Xd(a){this._internalRoot=a}Xd.prototype.unstable_scheduleHydration=function(a){if(a){var o=x_();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Si.length&&o!==0&&o<Si[c].priority;c++);Si.splice(c,0,a),c===0&&oS(a)}};var dS=t.version;if(dS!=="19.2.0")throw Error(r(527,dS,"19.2.0"));Y.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var o4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Pt=Qd.inject(o4),Ie=Qd}catch{}}return Ec.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=y1,_=b1,E=x1;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=Zj(a,1,!1,null,null,c,m,null,y,_,E,uS),a[Js]=o.current,sg(a),new Ng(o)},Ec.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",_=y1,E=b1,P=x1,U=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),o=Zj(a,1,!0,o,c??null,m,y,U,_,E,P,uS),o.context=eS(null),c=o.current,m=rr(),m=pm(m),y=ci(m),y.callback=null,ui(c,y,m),c=m,o.current.lanes=c,Dl(o,c),na(o),a[Js]=o.current,sg(a),new Xd(o)},Ec.version="19.2.0",Ec}var _S;function _4(){if(_S)return Cg.exports;_S=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cg.exports=x4(),Cg.exports}var w4=_4();const j4=Vr(w4);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wS="popstate";function S4(e={}){function t(r,i){let{pathname:s,search:l,hash:d}=r.location;return Sy("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xc(i)}return E4(t,n,null,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N4(){return Math.random().toString(36).substring(2,10)}function jS(e,t){return{usr:e.state,key:e.key,idx:t}}function Sy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xl(t):t,state:n,key:t&&t.key||r||N4()}}function Xc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let S=p(),N=S==null?null:S-h;h=S,f&&f({action:d,location:j.location,delta:N})}function v(S,N){d="PUSH";let O=Sy(j.location,S,N);h=p()+1;let A=jS(O,h),C=j.createHref(O);try{l.pushState(A,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}s&&f&&f({action:d,location:j.location,delta:1})}function b(S,N){d="REPLACE";let O=Sy(j.location,S,N);h=p();let A=jS(O,h),C=j.createHref(O);l.replaceState(A,"",C),s&&f&&f({action:d,location:j.location,delta:0})}function w(S){return O4(S)}let j={get action(){return d},get location(){return e(i,l)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,g),f=S,()=>{i.removeEventListener(wS,g),f=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let N=w(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:b,go(S){return l.go(S)}};return j}function O4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Xc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PA(e,t,n="/"){return A4(e,t,n,!1)}function A4(e,t,n,r){let i=typeof t=="string"?xl(t):t,s=Fa(i.pathname||"/",n);if(s==null)return null;let l=MA(e);C4(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let h=z4(s);d=U4(l[f],h,r)}return d}function MA(e,t=[],n=[],r="",i=!1){let s=(l,d,f=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;At(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=za([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(At(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),MA(l.children,t,v,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:I4(g,l.index),routesMeta:v})};return e.forEach((l,d)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,d);else for(let h of RA(l.path))s(l,d,!0,h)}),t}function RA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=RA(r.join("/")),d=[];return d.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&d.push(...l),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function C4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:L4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var T4=/^:[\w-]+$/,k4=3,P4=2,M4=1,R4=10,D4=-2,SS=e=>e==="*";function I4(e,t){let n=e.split("/"),r=n.length;return n.some(SS)&&(r+=D4),t&&(r+=P4),n.filter(i=>!SS(i)).reduce((i,s)=>i+(T4.test(s)?k4:s===""?M4:R4),r)}function L4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function U4(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=Mf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Mf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:za([s,g.pathname]),pathnameBase:F4(za([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=za([s,g.pathnameBase]))}return l}function Mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=d[v]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=d[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function $4(e,t=!1,n=!0){Yr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function z4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function B4(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xl(e):e;return{pathname:n?n.startsWith("/")?n:q4(n,t):t,search:K4(r),hash:G4(i)}}function q4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B0(e){let t=H4(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function q0(e,t,n,r=!1){let i;typeof e=="string"?i=xl(e):(i={...e},At(!i.pathname||!i.pathname.includes("?"),Mg("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),Mg("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),Mg("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?t[g]:"/"}let f=B4(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var za=e=>e.join("/").replace(/\/\/+/g,"/"),F4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var DA=["POST","PUT","PATCH","DELETE"];new Set(DA);var V4=["GET",...DA];new Set(V4);var _l=x.createContext(null);_l.displayName="DataRouter";var Ah=x.createContext(null);Ah.displayName="DataRouterState";x.createContext(!1);var IA=x.createContext({isTransitioning:!1});IA.displayName="ViewTransition";var W4=x.createContext(new Map);W4.displayName="Fetchers";var X4=x.createContext(null);X4.displayName="Await";var Wr=x.createContext(null);Wr.displayName="Navigation";var mu=x.createContext(null);mu.displayName="Location";var Pr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var H0=x.createContext(null);H0.displayName="RouteError";function Q4(e,{relative:t}={}){At(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Wr),{hash:i,pathname:s,search:l}=pu(e,{relative:t}),d=s;return n!=="/"&&(d=s==="/"?n:za([n,s])),r.createHref({pathname:d,search:l,hash:i})}function wl(){return x.useContext(mu)!=null}function Bi(){return At(wl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(mu).location}var LA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UA(e){x.useContext(Wr).static||x.useLayoutEffect(e)}function ha(){let{isDataRoute:e}=x.useContext(Pr);return e?hI():J4()}function J4(){At(wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(_l),{basename:t,navigator:n}=x.useContext(Wr),{matches:r}=x.useContext(Pr),{pathname:i}=Bi(),s=JSON.stringify(B0(r)),l=x.useRef(!1);return UA(()=>{l.current=!0}),x.useCallback((f,h={})=>{if(Yr(l.current,LA),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=q0(f,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:za([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}var Z4=x.createContext(null);function eI(e){let t=x.useContext(Pr).outlet;return x.useMemo(()=>t&&x.createElement(Z4.Provider,{value:e},t),[t,e])}function tI(){let{matches:e}=x.useContext(Pr),t=e[e.length-1];return t?t.params:{}}function pu(e,{relative:t}={}){let{matches:n}=x.useContext(Pr),{pathname:r}=Bi(),i=JSON.stringify(B0(n));return x.useMemo(()=>q0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function nI(e,t){return $A(e,t)}function $A(e,t,n,r,i){var O;At(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(Wr),{matches:l}=x.useContext(Pr),d=l[l.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";zA(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Bi(),b;if(t){let A=typeof t=="string"?xl(t):t;At(p==="/"||((O=A.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let w=b.pathname||"/",j=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=PA(e,{pathname:j});Yr(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=oI(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:za([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:za([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,n,r,i);return t&&N?x.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function rI(){let e=fI(),t=Y4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,l)}var aI=x.createElement(rI,null),iI=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Pr.Provider,{value:this.props.routeContext},x.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sI({routeContext:e,match:t,children:n}){let r=x.useContext(_l);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Pr.Provider,{value:e},n)}function oI(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let d=!1,f=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:v}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let v,b=!1,w=null,j=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||aI,d&&(f<0&&g===0?(zA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):f===g&&(b=!0,j=p.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,g+1)),N=()=>{let O;return v?O=w:b?O=j:p.route.Component?O=x.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,x.createElement(sI,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(iI,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):N()},null)}function F0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lI(e){let t=x.useContext(_l);return At(t,F0(e)),t}function cI(e){let t=x.useContext(Ah);return At(t,F0(e)),t}function uI(e){let t=x.useContext(Pr);return At(t,F0(e)),t}function K0(e){let t=uI(e),n=t.matches[t.matches.length-1];return At(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function dI(){return K0("useRouteId")}function fI(){var r;let e=x.useContext(H0),t=cI("useRouteError"),n=K0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function hI(){let{router:e}=lI("useNavigate"),t=K0("useNavigate"),n=x.useRef(!1);return UA(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{Yr(n.current,LA),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var NS={};function zA(e,t,n){!t&&!NS[e]&&(NS[e]=!0,Yr(!1,n))}x.memo(mI);function mI({routes:e,future:t,state:n,unstable_onError:r}){return $A(e,void 0,n,r,t)}function Rf({to:e,replace:t,state:n,relative:r}){At(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Wr);Yr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(Pr),{pathname:l}=Bi(),d=ha(),f=q0(e,B0(s),l,r==="path"),h=JSON.stringify(f);return x.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function pI(e){return eI(e.context)}function On(e){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){At(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=xl(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,b=x.useMemo(()=>{let w=Fa(f,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:v},navigationType:r}},[l,f,h,p,g,v,r]);return Yr(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:x.createElement(Wr.Provider,{value:d},x.createElement(mu.Provider,{children:t,value:b}))}function vI({children:e,location:t}){return nI(Ny(e),t)}function Ny(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Ny(r.props.children,s));return}At(r.type===On,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ny(r.props.children,s)),n.push(l)}),n}var Ef="get",Of="application/x-www-form-urlencoded";function Ch(e){return e!=null&&typeof e.tagName=="string"}function yI(e){return Ch(e)&&e.tagName.toLowerCase()==="button"}function bI(e){return Ch(e)&&e.tagName.toLowerCase()==="form"}function xI(e){return Ch(e)&&e.tagName.toLowerCase()==="input"}function _I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wI(e,t){return e.button===0&&(!t||t==="_self")&&!_I(e)}var Jd=null;function jI(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var SI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(e){return e!=null&&!SI.has(e)?(Yr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):e}function NI(e,t){let n,r,i,s,l;if(bI(e)){let d=e.getAttribute("action");r=d?Fa(d,t):null,n=e.getAttribute("method")||Ef,i=Rg(e.getAttribute("enctype"))||Of,s=new FormData(e)}else if(yI(e)||xI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Fa(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Ef,i=Rg(e.getAttribute("formenctype"))||Rg(d.getAttribute("enctype"))||Of,s=new FormData(d,e),!jI()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(Ch(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ef,r=null,i=Of,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function G0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function CI(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await OI(s,n);return l.links?l.links():[]}return[]}));return MI(r.flat(1).filter(AI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ES(e,t,n,r,i,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,h)=>l(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function TI(e,t,{includeHydrateFallback:n}={}){return kI(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function kI(e){return[...new Set(e)]}function PI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function MI(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(PI(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function BA(){let e=x.useContext(_l);return G0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RI(){let e=x.useContext(Ah);return G0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Y0=x.createContext(void 0);Y0.displayName="FrameworkContext";function qA(){let e=x.useContext(Y0);return G0(e,"You must render this element inside a <HydratedRouter> element"),e}function DI(e,t){let n=x.useContext(Y0),[r,i]=x.useState(!1),[s,l]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let j=N=>{N.forEach(O=>{l(O.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(r){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[r]);let b=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Oc(d,b),onBlur:Oc(f,w),onMouseEnter:Oc(h,b),onMouseLeave:Oc(p,w),onTouchStart:Oc(g,b)}]:[!1,v,{}]}function Oc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function II({page:e,...t}){let{router:n}=BA(),r=x.useMemo(()=>PA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(UI,{page:e,matches:r,...t}):null}function LI(e){let{manifest:t,routeModules:n}=qA(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return CI(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function UI({page:e,matches:t,...n}){let r=Bi(),{manifest:i,routeModules:s}=qA(),{basename:l}=BA(),{loaderData:d,matches:f}=RI(),h=x.useMemo(()=>ES(e,t,f,i,r,"data"),[e,t,f,i,r]),p=x.useMemo(()=>ES(e,t,f,i,r,"assets"),[e,t,f,i,r]),g=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(N=>{var A;let O=i.routes[N.route.id];!O||!O.hasLoader||(!h.some(C=>C.route.id===N.route.id)&&N.route.id in d&&((A=s[N.route.id])!=null&&A.shouldRevalidate)||O.hasClientLoader?j=!0:w.add(N.route.id))}),w.size===0)return[];let S=EI(e,l,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[l,d,r,i,h,t,e,s]),v=x.useMemo(()=>TI(p,i),[p,i]),b=LI(p);return x.createElement(x.Fragment,null,g.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>x.createElement("link",{key:w,nonce:n.nonce,...j})))}function $I(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.9.3")}catch{}function zI({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=S4({window:n,v5Compat:!0}));let i=r.current,[s,l]=x.useState({action:i.action,location:i.location}),d=x.useCallback(f=>{x.startTransition(()=>l(f))},[l]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.createElement(gI,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V0=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...v},b){let{basename:w}=x.useContext(Wr),j=typeof h=="string"&&FA.test(h),S,N=!1;if(typeof h=="string"&&j&&(S=h,HA))try{let q=new URL(window.location.href),$=h.startsWith("//")?new URL(q.protocol+h):new URL(h),F=Fa($.pathname,w);$.origin===q.origin&&F!=null?h=F+$.search+$.hash:N=!0}catch{Yr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Q4(h,{relative:i}),[A,C,T]=DI(r,v),k=HI(h,{replace:l,state:d,target:f,preventScrollReset:p,relative:i,viewTransition:g});function M(q){t&&t(q),q.defaultPrevented||k(q)}let D=x.createElement("a",{...v,...T,href:S||O,onClick:N||s?t:M,ref:$I(b,C),target:f,"data-discover":!j&&n==="render"?"true":void 0});return A&&!j?x.createElement(x.Fragment,null,D,x.createElement(II,{page:O})):D});V0.displayName="Link";var Ey=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:d,children:f,...h},p){let g=pu(l,{relative:h.relative}),v=Bi(),b=x.useContext(Ah),{navigator:w,basename:j}=x.useContext(Wr),S=b!=null&&VI(g)&&d===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,O=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(O=O.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&j&&(A=Fa(A,j)||A);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let T=O===N||!i&&O.startsWith(N)&&O.charAt(C)==="/",k=A!=null&&(A===N||!i&&A.startsWith(N)&&A.charAt(N.length)==="/"),M={isActive:T,isPending:k,isTransitioning:S},D=T?t:void 0,q;typeof r=="function"?q=r(M):q=[r,T?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(M):s;return x.createElement(V0,{...h,"aria-current":D,className:q,ref:p,style:$,to:l,viewTransition:d},typeof f=="function"?f(M):f)});Ey.displayName="NavLink";var BI=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=Ef,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...v},b)=>{let w=GI(),j=YI(d,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&FA.test(d),O=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let C=A.nativeEvent.submitter,T=(C==null?void 0:C.getAttribute("formmethod"))||l;w(C||A.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return x.createElement("form",{ref:b,method:S,action:j,onSubmit:r?f:O,...v,"data-discover":!N&&e==="render"?"true":void 0})});BI.displayName="Form";function qI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(e){let t=x.useContext(_l);return At(t,qI(e)),t}function HI(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=ha(),f=Bi(),h=pu(e,{relative:s});return x.useCallback(p=>{if(wI(p,t)){p.preventDefault();let g=n!==void 0?n:Xc(f)===Xc(h);d(e,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[f,d,h,n,r,t,e,i,s,l])}var FI=0,KI=()=>`__${String(++FI)}__`;function GI(){let{router:e}=KA("useSubmit"),{basename:t}=x.useContext(Wr),n=dI();return x.useCallback(async(r,i={})=>{let{action:s,method:l,encType:d,formData:f,body:h}=NI(r,t);if(i.navigate===!1){let p=i.fetcherKey||KI();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function YI(e,{relative:t}={}){let{basename:n}=x.useContext(Wr),r=x.useContext(Pr);At(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...pu(e||".",{relative:t})},l=Bi();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:za([n,s.pathname])),Xc(s)}function VI(e,{relative:t}={}){let n=x.useContext(IA);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KA("useViewTransitionState"),i=pu(e,{relative:t});if(!n.isTransitioning)return!1;let s=Fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mf(i.pathname,l)!=null||Mf(i.pathname,s)!=null}var W0=kA();const Oy="active-customer-order",Ay="active-customer-order-id",WI=1440*60*1e3,XI=e=>{if(!e)return null;try{const t=JSON.parse(e);if(t&&typeof t.orderId=="string"&&t.orderId.trim().length>0)return t}catch(t){console.error("Failed to parse stored active order",t)}return null},Qc=e=>{if(!(typeof window>"u"))try{if(!e){window.localStorage.removeItem(Oy),window.localStorage.removeItem(Ay);return}window.localStorage.setItem(Oy,JSON.stringify(e)),window.localStorage.removeItem(Ay)}catch(t){console.error("Failed to persist active order",t)}},sl=()=>{if(typeof window>"u")return null;const e=XI(window.localStorage.getItem(Oy));if(e)return e.expiresAt&&e.expiresAt<=Date.now()?(Qc(null),null):e;const t=window.localStorage.getItem(Ay);if(t&&t.trim().length>0){const n={orderId:t};return Qc(n),n}return null},GA=(e,t)=>{if(!e){Qc(null);return}Qc(t?{orderId:e,expiresAt:t}:{orderId:e})},X0=()=>{Qc(null)},QI="modulepreload",JI=function(e){return"/"+e},OS={},gu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(n.map(h=>{if(h=JI(h),h in OS)return;OS[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":QI,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((b,w)=>{v.addEventListener("load",b),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},ZI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gu(async()=>{const{default:r}=await Promise.resolve().then(()=>jl);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Q0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class AS extends Q0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CS extends Q0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class TS extends Q0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cy||(Cy={}));var eL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class tL{constructor(t,{headers:n={},customFetch:r,region:i=Cy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=ZI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return eL(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:l,body:d,signal:f}=r;let h={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let v;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(h["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(h["Content-Type"]="application/json",v=JSON.stringify(d)));const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:v,signal:f}).catch(N=>{throw N.name==="AbortError"?N:new AS(N)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new CS(b);if(!b.ok)throw new TS(b);let j=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield b.json():j==="application/octet-stream"?S=yield b.blob():j==="text/event-stream"?S=b:j==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new AS(s)}:{data:null,error:s,response:s instanceof TS||s instanceof CS?s.context:void 0}}})}}var fn={},Lo={},Uo={},$o={},zo={},Bo={},nL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ol=nL();const rL=ol.fetch,YA=ol.fetch.bind(ol),VA=ol.Headers,aL=ol.Request,iL=ol.Response,jl=Object.freeze(Object.defineProperty({__proto__:null,Headers:VA,Request:aL,Response:iL,default:YA,fetch:rL},Symbol.toStringTag,{value:"Module"})),sL=f4(jl);var Zd={},kS;function WA(){if(kS)return Zd;kS=1,Object.defineProperty(Zd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Zd.default=e,Zd}var PS;function XA(){if(PS)return Bo;PS=1;var e=Bo&&Bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bo,"__esModule",{value:!0});const t=e(sL),n=e(WA());class r{constructor(s){var l,d;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(d=s.isMaybeSingle)!==null&&d!==void 0?d:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,v,b;let w=null,j=null,S=null,N=h.status,O=h.statusText;if(h.ok){if(this.method!=="HEAD"){const k=await h.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=k:j=JSON.parse(k))}const C=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&T&&T.length>1&&(S=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,S=null,N=406,O="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const C=await h.text();try{w=JSON.parse(C),Array.isArray(w)&&h.status===404&&(j=[],w=null,N=200,O="OK")}catch{h.status===404&&C===""?(N=204,O="No Content"):w={message:C}}if(w&&this.isMaybeSingle&&(!((b=w==null?void 0:w.details)===null||b===void 0)&&b.includes("0 rows"))&&(w=null,N=200,O="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:j,count:S,status:N,statusText:O}});return this.shouldThrowOnError||(f=f.catch(h=>{var p,g,v;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(g=h==null?void 0:h.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=h==null?void 0:h.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(s,l)}returns(){return this}overrideTypes(){return this}}return Bo.default=r,Bo}var MS;function QA(){if(MS)return zo;MS=1;var e=zo&&zo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(XA());class n extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:d=l}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var p;const g=[i?"analyze":null,s?"verbose":null,l?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return zo.default=n,zo}var RS;function J0(){if(RS)return $o;RS=1;var e=$o&&$o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(QA());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return $o.default=n,$o}var DS;function JA(){if(DS)return Uo;DS=1;var e=Uo&&Uo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(J0());class n{constructor(i,{headers:s={},schema:l,fetch:d}){this.url=i,this.headers=new Headers(s),this.schema=l,this.fetch=d}select(i,s){const{head:l=!1,count:d}=s??{},f=l?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:l=!0}={}){var d;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:d,defaultToNull:f=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(g.length>0){const v=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var l;const d="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var s;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Uo.default=n,Uo}var IS;function oL(){if(IS)return Lo;IS=1;var e=Lo&&Lo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lo,"__esModule",{value:!0});const t=e(JA()),n=e(J0());class r{constructor(s,{headers:l={},schema:d,fetch:f}={}){this.url=s,this.headers=new Headers(l),this.schemaName=d,this.fetch=f}from(s){const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:d=!1,get:f=!1,count:h}={}){var p;let g;const v=new URL(`${this.url}/rpc/${s}`);let b;d||f?(g=d?"HEAD":"GET",Object.entries(l).filter(([j,S])=>S!==void 0).map(([j,S])=>[j,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([j,S])=>{v.searchParams.append(j,S)})):(g="POST",b=l);const w=new Headers(this.headers);return h&&w.set("Prefer",`count=${h}`),new n.default({method:g,url:v,headers:w,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Lo.default=r,Lo}var LS;function lL(){if(LS)return fn;LS=1;var e=fn&&fn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(fn,"__esModule",{value:!0}),fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const t=e(oL());fn.PostgrestClient=t.default;const n=e(JA());fn.PostgrestQueryBuilder=n.default;const r=e(J0());fn.PostgrestFilterBuilder=r.default;const i=e(QA());fn.PostgrestTransformBuilder=i.default;const s=e(XA());fn.PostgrestBuilder=s.default;const l=e(WA());return fn.PostgrestError=l.default,fn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},fn}var cL=lL();const uL=Vr(cL),{PostgrestClient:dL,PostgrestQueryBuilder:Yne,PostgrestFilterBuilder:Vne,PostgrestTransformBuilder:Wne,PostgrestBuilder:Xne,PostgrestError:Qne}=uL;class fL{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hL="2.74.0",mL=`realtime-js/${hL}`,pL="1.0.0",Ty=1e4,gL=1e3,vL=100;var qc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qc||(qc={}));var nn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(nn||(nn={}));var Br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Br||(Br={}));var ky;(function(e){e.websocket="websocket"})(ky||(ky={}));var js;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(js||(js={}));class yL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+s));l=l+s;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class ZA{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const US=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=bL(l,e,t,i),s),{}):{}},bL=(e,t,n,r)=>{const i=t.find(d=>d.name===e),s=i==null?void 0:i.type,l=n[e];return s&&!r.includes(s)?eC(s,l):Py(l)},eC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return jL(t,n)}switch(e){case bt.bool:return xL(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return _L(t);case bt.json:case bt.jsonb:return wL(t);case bt.timestamp:return SL(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return Py(t);default:return Py(t)}},Py=e=>e,xL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},_L=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jL=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const l=e.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>eC(t,d))}return e},SL=e=>typeof e=="string"?e.replace(" ","T"):e,tC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Dg{constructor(t,n,r={},i=Ty){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $S;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($S||($S={}));class Hc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hc.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=Hc.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Hc.syncDiff(this.state,i,s,l),d())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),l=this.transformState(n),d={},f={};return this.map(s,(h,p)=>{l[h]||(f[h]=p)}),this.map(l,(h,p)=>{const g=s[h];if(g){const v=p.map(S=>S.presence_ref),b=g.map(S=>S.presence_ref),w=p.filter(S=>b.indexOf(S.presence_ref)<0),j=g.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(d[h]=w),j.length>0&&(f[h]=j)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(d,f)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),p.length>0){const g=t[d].map(b=>b.presence_ref),v=p.filter(b=>g.indexOf(b.presence_ref)<0);t[d].unshift(...v)}r(d,p,f)}),this.map(l,(d,f)=>{let h=t[d];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),t[d]=h,i(d,h,f),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zS||(zS={}));var Fc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fc||(Fc={}));var Ra;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ra||(Ra={}));class Z0{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dg(this,Br.join,this.params,this.timeout),this.rejoinTimer=new ZA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Br.reply,{},(l,d)=>{this._trigger(this._replyEventName(d),l)}),this.presence=new Hc(this),this.broadcastEndpointURL=tC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==nn.closed){const{config:{broadcast:l,presence:d,private:f}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Fc.PRESENCE]&&this.bindings[Fc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},d),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Ra.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Ra.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){t==null||t(Ra.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,S=(w=j==null?void 0:j.length)!==null&&w!==void 0?w:0,N=[];for(let O=0;O<S;O++){const A=j[O],{filter:{event:C,schema:T,table:k,filter:M}}=A,D=b&&b[O];if(D&&D.event===C&&D.schema===T&&D.table===k&&D.filter===M)N.push(Object.assign(Object.assign({},A),{id:D.id}));else{this.unsubscribe(),this.state=nn.errored,t==null||t(Ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Ra.SUBSCRIBED);return}}).receive("error",b=>{this.state=nn.errored,t==null||t(Ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===nn.joined&&t===Fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,f;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Dg(this,Br.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const l=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:p}=Br;if(r&&[d,f,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var w,j,S;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(j=b.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(s=this.bindings[l])===null||s===void 0||s.filter(b=>{var w,j,S,N,O,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const C=b.id,T=(w=b.filter)===null||w===void 0?void 0:w.event;return C&&((j=n.ids)===null||j===void 0?void 0:j.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(O=(N=b==null?void 0:b.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:j,table:S,commit_timestamp:N,type:O,errors:A}=w;v=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:N,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(w))}b.callback(v,r)})}_isClosed(){return this.state===nn.closed}_isJoined(){return this.state===nn.joined}_isJoining(){return this.state===nn.joining}_isLeaving(){return this.state===nn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Z0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Br.close,{},t)}_onError(t){this._on(Br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=US(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=US(t.columns,t.old_record)),n}}const Ig=()=>{},ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NL=[1e3,2e3,5e3,1e4],EL=1e4,OL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ty,this.transport=null,this.heartbeatIntervalMs=ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ig,this.ref=0,this.reconnectTimer=null,this.logger=Ig,this.conn=null,this.sendBuffer=[],this.serializer=new yL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>gu(async()=>{const{default:d}=await Promise.resolve().then(()=>jl);return{default:d}},void 0).then(({default:d})=>d(...l)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...l)=>s(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ky.websocket}`,this.httpEndpoint=tC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pL}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qc.connecting:return js.Connecting;case qc.open:return js.Open;case qc.closing:return js.Closing;default:return js.Closed}}isConnected(){return this.connectionState()===js.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Z0(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,l=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(gL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:l}=n,d=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${r} ${i} ${d}`.trim(),s),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,s,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([OL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:mL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ZA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,l,d,f,h,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Ty,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ef.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:Ig,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(g=>NL[g-1]||EL),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((g,v)=>v(JSON.stringify(g))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class eb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class CL extends eb{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class My extends eb{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var TL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const nC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gu(async()=>{const{default:r}=await Promise.resolve().then(()=>jl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},kL=()=>TL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gu(()=>Promise.resolve().then(()=>jl),void 0)).Response:Response}),Ry=e=>{if(Array.isArray(e))return e.map(n=>Ry(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ry(r)}),t},PL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Hs=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const Lg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ML=(e,t,n)=>Hs(void 0,void 0,void 0,function*(){const r=yield kL();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,l=(i==null?void 0:i.statusCode)||s+"";t(new CL(Lg(i),s,l))}).catch(i=>{t(new My(Lg(i),i))}):t(new My(Lg(e),e))}),RL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(PL(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function vu(e,t,n,r,i,s){return Hs(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,RL(t,r,i,s)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>ML(f,d,r))})})}function Df(e,t,n,r){return Hs(this,void 0,void 0,function*(){return vu(e,"GET",t,n,r)})}function aa(e,t,n,r,i){return Hs(this,void 0,void 0,function*(){return vu(e,"POST",t,r,i,n)})}function Dy(e,t,n,r,i){return Hs(this,void 0,void 0,function*(){return vu(e,"PUT",t,r,i,n)})}function DL(e,t,n,r){return Hs(this,void 0,void 0,function*(){return vu(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function rC(e,t,n,r,i){return Hs(this,void 0,void 0,function*(){return vu(e,"DELETE",t,r,i,n)})}var IL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class LL{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return IL(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}}var UL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class $L{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new LL(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return UL(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}}var Hn=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const zL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},BS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BL{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=nC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Hn(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},BS),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),g=yield(t=="PUT"?Dy:aa)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Hn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:BS.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield Dy(this.fetch,d.toString(),f,{headers:p});return{data:{path:s,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Qt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield aa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+s.url),d=l.searchParams.get("token");if(!d)throw new eb("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield aa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Hn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield aa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Hn(this,void 0,void 0,function*(){try{const i=yield aa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"",d=this._getFinalPath(t),f=()=>Df(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0});return new $L(f,this.shouldThrowOnError)}info(t){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Df(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ry(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}exists(t){return Hn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield DL(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r)&&r instanceof My){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Hn(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Hn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zL),n),{prefix:t||""});return{data:yield aa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Hn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield aa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const qL="2.74.0",HL={"X-Client-Info":`storage-js/${qL}`};var qo=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class FL{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},HL),n),this.fetch=nC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qo(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}getBucket(t){return qo(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}createBucket(t){return qo(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return qo(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qo(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return qo(this,void 0,void 0,function*(){try{return{data:yield rC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}}class KL extends FL{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new BL(this.url,this.headers,t,this.fetch)}}const GL="2.74.0";let Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const YL={"X-Client-Info":`supabase-js-${Lc}/${GL}`},VL={headers:YL},WL={schema:"public"},XL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QL={};var JL=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};const ZL=e=>{let t;return e?t=e:typeof fetch>"u"?t=YA:t=fetch,(...n)=>t(...n)},e5=()=>typeof Headers>"u"?VA:Headers,t5=(e,t,n)=>{const r=ZL(n),i=e5();return(s,l)=>JL(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(s,Object.assign(Object.assign({},l),{headers:h}))})};var n5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};function r5(e){return e.endsWith("/")?e:e+"/"}function a5(e,t){var n,r;const{db:i,auth:s,realtime:l,global:d}=e,{db:f,auth:h,realtime:p,global:g}=t,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>n5(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function i5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aC="2.74.0",Xo=30*1e3,Iy=3,Ug=Iy*Xo,s5="http://localhost:9999",o5="supabase.auth.token",l5={"X-Client-Info":`gotrue-js/${aC}`},Ly="X-Supabase-Api-Version",iC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u5=600*1e3;class Jc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class d5 extends Jc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function f5(e){return ke(e)&&e.name==="AuthApiError"}class Ss extends Jc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qi extends Jc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ai extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function h5(e){return ke(e)&&e.name==="AuthSessionMissingError"}class Ho extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tf extends qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nf extends qi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function m5(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class qS extends qi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uy extends qi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $g(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class HS extends qi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $y extends qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FS=` 	
\r=`.split(""),p5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FS.length;t+=1)e[FS[t].charCodeAt(0)]=-2;for(let t=0;t<If.length;t+=1)e[If[t].charCodeAt(0)]=t;return e})();function KS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(If[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(If[r]),t.queuedBits-=6}}function sC(e,t,n){const r=p5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function GS(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{y5(l,r,n)};for(let l=0;l<e.length;l+=1)sC(e.charCodeAt(l),i,s);return t.join("")}function g5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function v5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}g5(r,t)}}function y5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sC(e.charCodeAt(i),n,r);return new Uint8Array(t)}function b5(e){const t=[];return v5(e,n=>t.push(n)),new Uint8Array(t)}function Os(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>KS(i,n,r)),KS(null,n,r),t.join("")}function x5(e){return Math.round(Date.now()/1e3)+e}function _5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ar=()=>typeof window<"u"&&typeof document<"u",us={tested:!1,writable:!1},oC=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(us.tested)return us.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),us.tested=!0,us.writable=!0}catch{us.tested=!0,us.writable=!1}return us.writable};function w5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const lC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gu(async()=>{const{default:r}=await Promise.resolve().then(()=>jl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},j5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ds=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ei=async(e,t)=>{await e.removeItem(t)};class Th{constructor(){this.promise=new Th.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Th.promiseConstructor=Promise;function zg(e){const t=e.split(".");if(t.length!==3)throw new $y("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!c5.test(t[r]))throw new $y("JWT not in base64url format");return{header:JSON.parse(GS(t[0])),payload:JSON.parse(GS(t[1])),signature:nl(t[2]),raw:{header:t[0],payload:t[1]}}}async function S5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function N5(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){r(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function E5(e){return("0"+e.toString(16)).substr(-2)}function O5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,E5).join("")}async function A5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function C5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await A5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fo(e,t,n=!1){const r=O5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,i);const s=await C5(r);return[s,r===s?"plain":"s256"]}const T5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k5(e){const t=e.headers.get(Ly);if(!t||!t.match(T5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function P5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const R5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!R5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YS(e){return JSON.parse(JSON.stringify(e))}var D5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),I5=[502,503,504];async function VS(e){var t;if(!j5(e))throw new Uy(ps(e),0);if(I5.includes(e.status))throw new Uy(ps(e),e.status);let n;try{n=await e.json()}catch(s){throw new Ss(ps(s),s)}let r;const i=k5(e);if(i&&i.getTime()>=iC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new HS(ps(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new HS(ps(n),e.status,n.weak_password.reasons);throw new d5(ps(n),e.status||500,r)}const L5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function De(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ly]||(s[Ly]=iC["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await U5(e,t,n+d,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function U5(e,t,n,r,i,s){const l=L5(t,r,i,s);let d;try{d=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Uy(ps(f),0)}if(d.ok||await VS(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await VS(f)}}function $r(e){var t;let n=null;B5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=x5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function WS(e){const t=$r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $5(e){return{data:e,error:null}}function z5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,l=D5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:d,user:f},error:null}}function XS(e){return e}function B5(e){return e.access_token&&e.refresh_token&&e.expires_in}const qg=["global","local","others"];var q5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class H5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=qg[0]){if(qg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qg.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=q5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:z5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:XS});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=j}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ke(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ko(t);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ko(t);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Mi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ko(t);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ko(t.userId);try{const{data:n,error:r}=await De(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,l,d,f;try{const h={nextPage:null,lastPage:0,total:0},p=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:XS});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=j}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(ke(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}}function QS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Go={debug:!!(globalThis&&oC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class F5 extends cC{}async function K5(e,t,n){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Go.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function G5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Y5(e){return parseInt(e,16)}function V5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function W5(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:d,requestId:f,resources:h,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=uC(e.address),w=p?`${p}://${r}`:r,j=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${b}

${j}`;let N=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let O=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);O+=`
- ${A}`}N+=O}return`${S}
${N}`}class Xt extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Lf extends Xt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function X5({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(fC(l)){if(s.rp.id!==l)return new Xt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Q5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(fC(r)){if(n.rpId!==r)return new Xt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var dC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class J5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Z5=new J5;function e6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=dC(e,["challenge","user","excludeCredentials"]),s=nl(t).buffer,l=Object.assign(Object.assign({},n),{id:nl(n.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:s,user:l});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];d.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:nl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function t6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=dC(e,["challenge","allowCredentials"]),i=nl(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const d=n[l];s.allowCredentials[l]=Object.assign(Object.assign({},d),{id:nl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function n6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Os(new Uint8Array(e.response.attestationObject)),clientDataJSON:Os(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function r6(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Os(new Uint8Array(i.authenticatorData)),clientDataJSON:Os(new Uint8Array(i.clientDataJSON)),signature:Os(new Uint8Array(i.signature)),userHandle:i.userHandle?Os(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function JS(){var e,t;return!!(ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function a6(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",t)}:{data:null,error:new Lf("Empty credential response",t)}}catch(t){return{data:null,error:X5({error:t,options:e})}}}async function i6(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lf("Browser returned unexpected credential type",t)}:{data:null,error:new Lf("Empty credential response",t)}}catch(t){return{data:null,error:Q5({error:t,options:e})}}}const s6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},o6={userVerification:"preferred",hints:["security-key"]};function Uf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))r[s]=l;else if(n(l))r[s]=l;else if(t(l)){const d=r[s];t(d)?r[s]=Uf(d,l):r[s]=Uf(l)}else r[s]=l}return r}function l6(e,t){return Uf(s6,e,t||{})}function c6(e,t){return Uf(o6,e,t||{})}class u6{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:l,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:d};const f=i??Z5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=l6(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:g}=await a6({publicKey:h,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=c6(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:g}=await i6(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Ss("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new Jc("rpId is required for WebAuthn authentication")};try{if(!JS())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!l)return{data:null,error:d};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Ss("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new Jc("rpId is required for WebAuthn registration")};try{if(!JS())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:l,error:d}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:d};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Ss("Unexpected error in register",l)}}}}G5();const d6={url:s5,storageKey:o5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:l5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ZS(e,t,n){return await n()}const Yo={};class Zc{get jwks(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zc.nextInstanceID,Zc.nextInstanceID+=1,this.instanceID>0&&ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},d6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lC(i.fetch),this.lock=i.lock||ZS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=K5:this.lock=ZS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u6(this)},this.persistSession?(i.storage?this.storage=i.storage:oC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=QS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=QS(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=w5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ar()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),m5(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new Ss("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:$r}),{data:l,error:d}=s;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:p,password:g,options:v}=t;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Fo(this.storage,this.storageKey)),s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:w},xform:$r})}else if("phone"in t){const{phone:p,password:g,options:v}=t;s=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:$r})}else throw new tf("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return{data:{user:null,session:null},error:d};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:l,options:d}=t;n=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:WS})}else if("phone"in t){const{phone:s,password:l,options:d}=t;n=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:WS})}else throw new tf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ho}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,l,d,f,h,p,g,v;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:j,wallet:S,statement:N,options:O}=t;let A;if(ar())if(typeof S=="object")A=S;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")A=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const C=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href),T=await A.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=uC(T[0]);let M=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const q=await A.request({method:"eth_chainId"});M=Y5(q)}const D={domain:C.host,address:k,statement:N,uri:C.href,version:"1",chainId:M,nonce:(i=O==null?void 0:O.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=O==null?void 0:O.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=O==null?void 0:O.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=O==null?void 0:O.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=W5(D),w=await A.request({method:"personal_sign",params:[V5(b),k]})}try{const{data:j,error:S}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:$r});if(S)throw S;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ho}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:S})}catch(j){if(ke(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(t){var n,r,i,s,l,d,f,h,p,g,v,b;let w,j;if("message"in t)w=t.message,j=t.signature;else{const{chain:S,wallet:N,statement:O,options:A}=t;let C;if(ar())if(typeof N=="object")C=N;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))C=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const T=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const k=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let M;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")M=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)M=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),j=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((g=(p=A==null?void 0:A.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const k=await C.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=k}}try{const{data:S,error:N}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Os(j)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:$r});if(N)throw N;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Ho}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:N})}catch(S){if(ke(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:l}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$r});if(await Ei(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ho}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(ke(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:l}=t,d=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$r}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ho}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,l;try{if("email"in t){const{email:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Fo(this.storage,this.storageKey));const{error:g}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:p}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new tf("You must provide either an email or phone number.")}catch(d){if(ke(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:$r});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await Fo(this.storage,this.storageKey)),await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:$5})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ai;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:l}=await De(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:l,error:d}=await De(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new tf("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ug:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await ds(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Bg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,p))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mi}):await this._useSession(async n=>{var r,i,s;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Mi})})}catch(n){if(ke(n))return h5(n)&&(await this._removeSession(),await Ei(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ai;const l=i.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Fo(this.storage,this.storageKey));const{data:h,error:p}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Mi});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ai;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:l}=zg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ai;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ar())throw new nf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qS("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:d,expires_at:f,token_type:h}=t;if(!s||!d||!l||!h)throw new nf("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(d);let v=p+g;f&&(v=parseInt(f));const b=v-p;b*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const w=v-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,p);const{data:j,error:S}=await this._getUser(s);if(S)throw S;const N={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(f5(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Ei(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Fo(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ke(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var l,d,f,h,p;const{data:g,error:v}=s;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ar()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:l,provider:d,token:f,access_token:h,nonce:p}=t,g=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$r}),{data:v,error:b}=g;return b?{data:{user:null,session:null},error:b}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ho}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:b})}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)throw l;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await N5(async i=>(i>0&&await S5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$r})),(i,s)=>{const l=200*Math.pow(2,i);return s&&$g(s)&&Date.now()+l-r<Xo})}catch(r){if(this._debug(n,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ar()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ds(this.storage,this.storageKey);if(i&&this.userStorage){let l=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Qo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Bg()}else if(i&&!i.user&&!i.user){const l=await ds(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ei(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,i)):i.user=Bg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ug;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ug}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),$g(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Th;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Ai;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={data:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),ke(s)){const l={data:null,error:s};return $g(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=YS(i);await Qo(this.storage,this.storageKey,s)}else{const i=YS(n);await Qo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ei(this.storage,this.storageKey),await Ei(this.storage,this.storageKey+"-code-verifier"),await Ei(this.storage,this.storageKey+"-user"),this.userStorage&&await Ei(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xo}ms, refresh threshold is ${Iy} ticks`),i<=Iy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await Fo(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await De(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await De(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?n6(t.webauthn.credential_response):r6(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:d}=l;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:e6(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:t6(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=zg(i.access_token);let d=null;l.aal&&(d=l.aal);let f=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+u5>i)return r;const{data:s,error:l}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:w}=await this.getSession();if(w||!b.session)return{data:null,error:w};r=b.session.access_token}const{header:i,payload:s,signature:l,raw:{header:d,payload:f}}=zg(r);n!=null&&n.allowExpired||P5(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:s,header:i,signature:l},error:null}}const p=M5(i.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,b5(`${d}.${f}`)))throw new $y("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}Zc.nextInstanceID=0;const f6=Zc;class h6 extends f6{constructor(t){super(t)}}var m6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(g){l(g)}}function f(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?s(p.value):i(p.value).then(d,f)}h((r=r.apply(e,t||[])).next())})};class p6{constructor(t,n,r){var i,s,l;this.supabaseUrl=t,this.supabaseKey=n;const d=i5(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:WL,realtime:QL,auth:Object.assign(Object.assign({},XL),{storageKey:f}),global:VL},p=a5(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=t5(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new dL(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new KL(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new tL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return m6(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:l,flowType:d,lock:f,debug:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h6({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:d,lock:f,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new AL(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g6=(e,t,n)=>new p6(e,t,n);function v6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}v6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hC="Supabase client is not available in this offline build. Install @supabase/supabase-js in production.",mC=()=>{const e=Promise.reject(new Error(hC));return new Proxy({},{get(t,n){return n==="then"||n==="catch"||n==="finally"?e[n].bind(e):()=>mC()}})},y6=()=>{const e=mC(),t=async()=>{throw new Error(hC)};return{from(){return e},functions:{invoke:t},auth:{signInWithPassword:t,signOut:t,getSession:t}}},b6=e=>{try{const t=new URL(e),n=t.pathname.replace(/\/+$/,"");if(n&&n!=="/"){const r=n===""?"/":n;throw new Error(`VITE_SUPABASE_URL must point to the project root (e.g. https://xxxx.supabase.co). Remove the path "${r}" to avoid cross-origin errors.`)}return t.origin}catch(t){const n=t instanceof Error?` ${t.message}`:"";throw new Error(`Invalid VITE_SUPABASE_URL provided.${n}`.trim())}},x6=()=>y6();let zy;try{const e="https://epolcaohkaozcanyexau.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",n=b6(e);zy=g6(n,t,{auth:{persistSession:!1}})}catch(e){const t=e instanceof Error?e.message:"Unknown error while creating the Supabase client.";console.warn("Supabase client disabled. Falling back to the offline stub. Operations depending on Supabase will fail until the environment is configured.",t),zy=x6()}const me=zy,_6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwb2xjYW9oa2FvemNhbnlleGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg3NDk0NDUsImV4cCI6MjA3NDMyNTQ0NX0.xROZsagC9K1aP6XexNoqlYZfeuqGUOC9huGsrJ55x_0",VITE_SUPABASE_URL:"https://epolcaohkaozcanyexau.supabase.co"},w6=_6,j6="https://api.cloudinary.com/v1_1",S6="cloudinary.com",N6=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"),tb=e=>N6(e).toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,""),pC=()=>Math.random().toString(36).slice(2,10),Kc=(e,t)=>e&&tb(e)||t,Gr=e=>{const t=w6[e];if(typeof t!="string")return;const n=t.trim();return n.length>0?n:void 0},e2=(e,t)=>{const n=Gr(e);if(!n)throw new Error(`Configuration Cloudinary manquante: définissez la variable d'environnement ${e} pour ${t}.`);return n},nb=async(e,{folder:t,uploadPreset:n,publicId:r,tags:i})=>{var g;const s=e2("VITE_CLOUDINARY_CLOUD_NAME","les téléversements de médias"),l=n??e2("VITE_CLOUDINARY_UPLOAD_PRESET","les téléversements de médias"),d=l,f=new FormData;f.append("file",e),f.append("upload_preset",l),t&&f.append("folder",t),r&&f.append("public_id",r),i!=null&&i.length&&f.append("tags",i.join(","));const h=await fetch(`${j6}/${s}/auto/upload`,{method:"POST",body:f}),p=await h.json();if(!h.ok||p.error){const v=(g=p.error)==null?void 0:g.message;throw v&&/upload preset/i.test(v)?new Error(`Le preset Cloudinary "${d}" est introuvable ou ne permet pas les téléversements non signés. Vérifiez sa configuration dans votre console Cloudinary (Settings → Upload → Upload presets).`):new Error(v??`Échec du téléversement Cloudinary (statut ${h.status}).`)}if(!p.secure_url&&!p.url)throw new Error("Cloudinary n'a pas renvoyé d'URL sécurisée pour le fichier téléversé.");return p.secure_url??p.url},Ui=e=>{const t=e==null?void 0:e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"||!n.hostname.endsWith(S6)?null:t}catch{return null}},E6=Gr("VITE_CLOUDINARY_DEFAULT_PRODUCT_IMAGE")??"",t2=E6,gC=e=>{const t=Ui(e);return t||t2||""},O6=async(e,t)=>{const n=Gr("VITE_CLOUDINARY_PRODUCTS_FOLDER")??"products",r=Gr("VITE_CLOUDINARY_UPLOAD_PRESET_PRODUCTS")??Gr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=t?tb(t):void 0,s=i?`${i}-${pC()}`:void 0;return nb(e,{folder:Kc(n,"products"),uploadPreset:r,publicId:s,tags:["product"]})},A6=()=>Kc(Gr("VITE_CLOUDINARY_CUSTOM_FOLDER")??"Custom","Custom"),eu=async(e,t)=>{const n=A6(),r=Gr("VITE_CLOUDINARY_UPLOAD_PRESET_CUSTOM")??Gr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=(t==null?void 0:t.publicId)??(e instanceof File&&e.name?tb(e.name.replace(/\.[^/.]+$/,"")):void 0),s=i?`${i}-${pC()}`:void 0,l=Array.from(new Set(["customization","custom-folder",...(t==null?void 0:t.tags)??[]]));return nb(e,{folder:n,uploadPreset:r,publicId:s,tags:l})},vC=async(e,t)=>{const n=Gr("VITE_CLOUDINARY_RECEIPTS_FOLDER")??"receipts",r=Gr("VITE_CLOUDINARY_UPLOAD_PRESET_RECEIPTS")??Gr("VITE_CLOUDINARY_UPLOAD_PRESET"),i=[Kc(n,"receipts")];return t!=null&&t.orderId?i.push(`order-${Kc(t.orderId,"commande")}`):t!=null&&t.customerReference&&i.push(`customer-${Kc(t.customerReference,"client")}`),nb(e,{folder:i.join("/"),uploadPreset:r,tags:["payment","receipt"]})},yC="ouiouipos:role-logins",bC=()=>{if(typeof window>"u"||!window.localStorage)throw new Error("Local storage is not available for role login tracking.");return window.localStorage},C6=e=>{if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.map(n=>{if(!n||typeof n!="object")return null;const{roleId:r,roleName:i,loginAt:s}=n;if(typeof r!="string"||typeof i!="string"||typeof s!="string")return null;const l=Date.parse(s);return Number.isNaN(l)?null:{roleId:r,roleName:i,loginAt:new Date(l).toISOString()}}).filter(n=>!!n).sort((n,r)=>Date.parse(n.loginAt)-Date.parse(r.loginAt)):[]}catch(t){return console.warn("Unable to parse stored role logins, clearing history.",t),[]}},rb=()=>{const t=bC().getItem(yC);return C6(t)},xC=e=>{bC().setItem(yC,JSON.stringify(e.slice(-500)))},n2=async(e,t,n)=>{const r=n??new Date().toISOString(),i={roleId:e,roleName:t,loginAt:r};try{const s=rb();s.push(i),xC(s)}catch(s){console.warn("Unable to persist role login locally.",s)}return i},r2=async e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid start date provided when fetching role logins.");return rb().filter(r=>Date.parse(r.loginAt)>=t)},a2=e=>{try{const t=Date.parse(e);if(Number.isNaN(t))return;const n=rb().filter(r=>Date.parse(r.loginAt)>=t);xC(n)}catch(t){console.warn("Unable to prune stored role logins.",t)}};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),i2=e=>{const t=k6(e);return t.charAt(0).toUpperCase()+t.slice(1)},_C=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),P6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...d},f)=>x.createElement("svg",{ref:f,...M6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_C("lucide",i),...!s&&!P6(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>x.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(R6,{ref:s,iconNode:t,className:_C(`lucide-${T6(i2(e))}`,`lucide-${e}`,r),...i}));return n.displayName=i2(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],ab=ve("armchair",D6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wC=ve("arrow-left",I6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],U6=ve("bold",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],z6=ve("brush",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q6=ve("calendar",B6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 11.207a.5.5 0 0 1 .146-.353l2-2a.5.5 0 0 1 .708 0l3.292 3.292a.5.5 0 0 0 .708 0l4.292-4.292a.5.5 0 0 1 .854.353V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1z",key:"q0gr47"}]],F6=ve("chart-area",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],G6=ve("chart-no-axes-column",K6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V6=ve("check",Y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],jC=ve("chef-hat",W6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SC=ve("chevron-down",X6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J6=ve("chevron-right",Q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NC=ve("chevron-up",Z6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$f=ve("circle-check-big",eU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nU=ve("circle-check",tU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],aU=ve("circle-minus",rU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ib=ve("circle-plus",iU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oU=ve("circle-question-mark",sU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cU=ve("circle-x",lU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=ve("clock",uU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tu=ve("dollar-sign",dU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hU=ve("download",fU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],EC=ve("ellipsis-vertical",mU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gU=ve("external-link",pU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yU=ve("eye-off",vU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],By=ve("eye",bU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],OC=ve("file-text",xU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],s2=ve("gift",_U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],jU=ve("grip-vertical",wU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M12 3V2",key:"ar7q03"}],["path",{d:"m15.4 17.4 3.2-2.8a2 2 0 1 1 2.8 2.9l-3.6 3.3c-.7.8-1.7 1.2-2.8 1.2h-4c-1.1 0-2.1-.4-2.8-1.2l-1.302-1.464A1 1 0 0 0 6.151 19H5",key:"n2g93r"}],["path",{d:"M2 14h12a2 2 0 0 1 0 4h-2",key:"1o2jem"}],["path",{d:"M4 10h16",key:"img6z1"}],["path",{d:"M5 10a7 7 0 0 1 14 0",key:"1ega1o"}],["path",{d:"M5 14v6a1 1 0 0 1-1 1H2",key:"1hescx"}]],NU=ve("hand-platter",SU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],OU=ve("history",EU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CU=ve("info",AU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],kU=ve("italic",TU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],MU=ve("layout-dashboard",PU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nu=ve("loader-circle",RU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],IU=ve("log-in",DU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UU=ve("log-out",LU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AC=ve("mail",$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kh=ve("map-pin",zU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],CC=ve("menu",BU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],TC=ve("message-square",qU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M5 12h14",key:"1ays0h"}]],kC=ve("minus",HU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],KU=ve("package-check",FU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],YU=ve("package-plus",GU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zo=ve("package",VU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],XU=ve("palette",WU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JU=ve("pen",QU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],e$=ve("pencil",ZU);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Ph=ve("percent",t$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],PC=ve("phone",n$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yu=ve("plus",r$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],i$=ve("receipt",a$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],o$=ve("refresh-cw",s$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c$=ve("save",l$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sb=ve("search",u$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],f$=ve("send",d$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m$=ve("settings",h$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],g$=ve("shield",p$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],MC=ve("shopping-bag",v$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],RC=ve("shopping-cart",y$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],DC=ve("soup",b$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IC=ve("square-pen",x$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],w$=ve("strikethrough",_$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zf=ve("tag",j$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fs=ve("trash-2",S$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oa=ve("triangle-alert",N$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],O$=ve("truck",E$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bu=ve("upload",A$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ob=ve("user",C$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qy=ve("users",T$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],P$=ve("utensils-crossed",k$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],R$=ve("utensils",M$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ca=ve("x",D$),Ka="/site-customizer",Kn=[{name:"Dashboard",href:"/dashboard",icon:MU,permissionKey:"/dashboard"},{name:"À Emporter",href:"/para-llevar",icon:MC,permissionKey:"/para-llevar"},{name:"Plan de Salle",href:"/ventes",icon:ab,permissionKey:"/ventes"},{name:"Cuisine",href:"/cocina",icon:DC,permissionKey:"/cocina"},{name:"Personnalisation",href:Ka,icon:z6,permissionKey:Ka},{name:"Produits",href:"/produits",icon:P$,permissionKey:"/produits"},{name:"Ingrédients",href:"/ingredients",icon:Zo,permissionKey:"/ingredients"},{name:"Promotions",href:"/promotions",icon:Ph,permissionKey:"/promotions"},{name:"Résumé Ventes",href:"/resume-ventes",icon:F6,permissionKey:"/resume-ventes"}],LC={ADMIN:"admin"},Ps="__home_page",UC=e=>{if(!e.active)return!1;const t=new Date,n=new Date(e.start_date),r=e.end_date?new Date(e.end_date):null;return!(t<n||r&&t>r||e.usage_limit&&e.usage_count>=e.usage_limit)},lb=e=>{const t=new Date,n=e.config;if(n.days_of_week&&n.days_of_week.length>0){const r=t.getDay();if(!n.days_of_week.includes(r))return!1}if(n.hours_of_day){const r=t.getHours(),i=t.getMinutes(),s=r*60+i,[l,d]=n.hours_of_day.start.split(":").map(Number),[f,h]=n.hours_of_day.end.split(":").map(Number),p=l*60+d,g=f*60+h;if(s<p||s>g)return!1}return!0},Mh=["review1","review2","review3","review4","review5","review6","review7"],I$=["name","handle","timeAgo","message","highlight","highlightCaption","location","badgeLabel","postImageAlt"],L$=["avatarUrl","highlightImageUrl","postImageUrl"],U$=["navigation.brand","navigation.brandLogo","navigation.staffLogo","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","navigation.style.background","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","hero.backgroundImage","about.title","about.description","about.image","about.style.background","menu.title","menu.ctaLabel","menu.loadingLabel","menu.image","menu.style.background","instagramReviews.title","instagramReviews.subtitle","instagramReviews.image","instagramReviews.style.background","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","findUs.style.background","footer.text","footer.style.background"],$$=[...I$,...L$],z$=Mh.flatMap(e=>$$.map(t=>`instagramReviews.reviews.${e}.${t}`)),xu=[...U$,...z$],B$=xu.filter(e=>!e.endsWith(".style.background")&&!e.endsWith(".image")&&!e.endsWith(".avatarUrl")&&!e.endsWith(".highlightImageUrl")&&!e.endsWith(".postImageUrl")&&e!=="hero.backgroundImage"&&e!=="navigation.brandLogo"&&e!=="navigation.staffLogo"),q$=new Set(["STRONG","EM","S","STRIKE","SPAN","BR","DIV","P","B","I"]),H$=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,F$=/^rgba?\((\s*\d{1,3}\s*,){2}\s*\d{1,3}\s*(,\s*(0|1|0?\.\d+))?\s*\)$/,$C=typeof window<"u"&&typeof document<"u",K$=e=>{const t=e.trim().replace(/"|'/g,"");return H$.test(t)?t.toLowerCase():F$.test(t)?t.replace(/\s+/g,""):null},G$=e=>{const t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},Y$=e=>{const n={B:"strong",I:"em",STRIKE:"s"}[e.tagName];if(!n)return e;const r=document.createElement(n);for(;e.firstChild;)r.appendChild(e.firstChild);return e.replaceWith(r),r},zC=e=>{if(!q$.has(e.tagName)){G$(e);return}const t=Y$(e);if(Array.from(t.attributes).forEach(n=>{n.name!=="style"&&t.removeAttribute(n.name)}),t.hasAttribute("style")){const i=(t.getAttribute("style")??"").split(";").map(s=>s.trim()).filter(Boolean).find(s=>s.toLowerCase().startsWith("color"));if(i){const[,s]=i.split(":"),l=s?K$(s):null;l?t.setAttribute("style",`color: ${l}`):t.removeAttribute("style")}else t.removeAttribute("style")}Array.from(t.childNodes).forEach(n=>{var r;if(n.nodeType===Node.COMMENT_NODE){(r=n.parentNode)==null||r.removeChild(n);return}n.nodeType===Node.ELEMENT_NODE&&zC(n)})},V$=e=>e.replace(/<\/?(?!br\b)[^>]+>/gi,"").replace(/\r\n|\r|\n/g,"<br>").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),W$=e=>{const t=e??"";if(t.trim().length===0)return"";if(!$C)return V$(t).trim();const n=document.createElement("template");return n.innerHTML=t,Array.from(n.content.childNodes).forEach(r=>{var i;if(r.nodeType===Node.COMMENT_NODE){(i=r.parentNode)==null||i.removeChild(r);return}r.nodeType===Node.ELEMENT_NODE&&zC(r)}),n.innerHTML.trim()},X$=e=>{if(!$C)return e.replace(/<[^>]+>/g,"");const t=document.createElement("template");return t.innerHTML=e,t.content.textContent??""},o2=e=>e.replace(/[\u200B\u200C\u200D\uFEFF]/g,"").replace(/\r\n/g,`
`),cb=e=>{if(!e)return null;const t=W$(e.html??""),n=o2(e.plainText??""),r=o2(X$(t)),i=n.trim().length>0?n:r;return t.trim().length===0&&i.trim().length===0?null:{html:t,plainText:i}},Q$={review1:{name:"Laura Méndez",handle:"@laurita.eats",timeAgo:"hace 2 días",message:"No puedo con la originalidad de estos tacos al pastor: cada mordisco tiene un giro gourmet brutal. La salsa cheddar queda cremosa sin empalagar y el toque crujiente lo es todo.",highlight:"Story « Taco Tuesday »",highlightCaption:"Guardado en Destacadas",location:"Bogotá · Servicio nocturno",badgeLabel:"Instagram",postImageAlt:"Assiette de tacos colorés garnis d'herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1521305916504-4a1121188589?auto=format&fit=crop&w=640&q=80"},review2:{name:"Camila Torres",handle:"@camigoesout",timeAgo:"hace 5 días",message:"Estas arepas son lo más: combinan ingredientes súper frescos con un toque gourmet creativo. La mezcla dulce-salado y esa salsa cheddar para remojar me tuvieron feliz todo el brunch.",highlight:"Reel « Brunch entre amigas »",highlightCaption:"Comentarios llenos de antojos",location:"Medellín · Brunch de domingo",badgeLabel:"Instagram",postImageAlt:"Gros plan sur des arepas dorées et une sauce maison.",avatarUrl:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1478145046317-39f10e56b5e9?auto=format&fit=crop&w=640&q=80"},review3:{name:"Sebastián Ruiz",handle:"@ruizhungry",timeAgo:"hace 1 semana",message:"Armamos un afterwork aquí y fue un hit: combos originales, porciones generosas y un crunch brutal en cada bocado. La salsa cheddar se volvió tema de conversación.",highlight:"Post « Team Afterwork »",highlightCaption:"Reacciones de la oficina",location:"Barranquilla · Terraza privada",badgeLabel:"Instagram",postImageAlt:"Table conviviale avec plusieurs plats mexicains et des boissons fraîches.",avatarUrl:"https://images.unsplash.com/photo-1521572267360-ee0c2909d518?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=640&q=80"},review4:{name:"Valentina Ríos",handle:"@valen.foodnotes",timeAgo:"hace 2 semanas",message:"El menú tiene un mood gourmet sin perder lo reconfortante: masa crocante, cheddar fundido y combinaciones de ingredientes que se sienten pensadas con cariño. Increíble experiencia.",highlight:"Carousel « Night Out »",highlightCaption:"Comentarios fijados",location:"Cali · Cena casual",badgeLabel:"Instagram",postImageAlt:"Pizza gourmande avec fromage coulant et herbes fraîches.",avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=640&q=80"},review5:{name:"Alejandro Pérez",handle:"@alexlovesfood",timeAgo:"hace 3 semanas",message:"Vine por curiosidad y me quedé por la originalidad del menú: el cheddar baña la burger justo como me gusta y el pan crujiente aguanta toda la salsa. Asociaciones de sabores top.",highlight:"Live « Burger Night »",highlightCaption:"Chat lleno de elogios",location:"Bogotá · Servicio takeout",badgeLabel:"Instagram",postImageAlt:"Burger gourmet avec sauce et frites croustillantes.",avatarUrl:"https://images.unsplash.com/photo-1529665253569-6d01c0eaf7b6?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=640&q=80"},review6:{name:"Juliana Gómez",handle:"@julie.foodstories",timeAgo:"hace 1 mes",message:"Pedimos catering para un cumpleaños y fue éxito total: tacos mini, dips calientes y una mesa que se veía divina para fotos. Todo llegó puntual y con instrucciones claras.",highlight:"Story « Fiesta privada »",highlightCaption:"Reseñas con confeti",location:"Cartagena · Evento privado",badgeLabel:"Instagram",postImageAlt:"Buffet coloré avec tacos, dips et accompagnements.",avatarUrl:"https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528715471579-d1bcf0ba5e83?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?auto=format&fit=crop&w=640&q=80"},review7:{name:"Manuela Herrera",handle:"@manuelatryit",timeAgo:"hace 6 semanas",message:"Amo que tengan opciones veggies sin perder el toque cheddar: las quesadillas con hongos y maíz dulce son mi nueva obsesión. Además, la atención es rapidísima.",highlight:"Reel « Veggie Lovers »",highlightCaption:"Comentarios verdes y felices",location:"Bogotá · Servicio para llevar",badgeLabel:"Instagram",postImageAlt:"Quesadillas dorées servies avec salsa verde.",avatarUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&w=320&q=80",highlightImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=320&q=80",postImageUrl:"https://images.unsplash.com/photo-1528712306091-ed0763094c98?auto=format&fit=crop&w=640&q=80"}},Be=e=>e.trim(),ub=e=>typeof e=="string"&&e.trim().length>0,BC=(e,t)=>ub(e)?e.trim():t,qC=(e,t)=>ub(e)?e.trim():t,Gc=(e,t)=>ub(e)?e.trim():t,qe=(e,t)=>{if(typeof e!="string")return t;const n=e.trim();return n.length>0?n:t},ia=(e,t)=>e===void 0?t??null:e===null?null:Ui(e)??t??null,sa=e=>Ui(e)??null,J$=(e,t)=>{const n={};return Mh.forEach(r=>{const i=t[r],s=(e==null?void 0:e[r])??{};n[r]={name:qe(s==null?void 0:s.name,i.name),handle:qe(s==null?void 0:s.handle,i.handle),timeAgo:qe(s==null?void 0:s.timeAgo,i.timeAgo),message:qe(s==null?void 0:s.message,i.message),highlight:qe(s==null?void 0:s.highlight,i.highlight),highlightCaption:qe(s==null?void 0:s.highlightCaption,i.highlightCaption),location:qe(s==null?void 0:s.location,i.location),badgeLabel:qe(s==null?void 0:s.badgeLabel,i.badgeLabel),postImageAlt:qe(s==null?void 0:s.postImageAlt,i.postImageAlt),avatarUrl:ia(s==null?void 0:s.avatarUrl,i.avatarUrl),highlightImageUrl:ia(s==null?void 0:s.highlightImageUrl,i.highlightImageUrl),postImageUrl:ia(s==null?void 0:s.postImageUrl,i.postImageUrl)}}),n},Z$=e=>{const t={};return Mh.forEach(n=>{const r=(e==null?void 0:e[n])??{};t[n]={name:Be((r==null?void 0:r.name)??""),handle:Be((r==null?void 0:r.handle)??""),timeAgo:Be((r==null?void 0:r.timeAgo)??""),message:Be((r==null?void 0:r.message)??""),highlight:Be((r==null?void 0:r.highlight)??""),highlightCaption:Be((r==null?void 0:r.highlightCaption)??""),location:Be((r==null?void 0:r.location)??""),badgeLabel:Be((r==null?void 0:r.badgeLabel)??""),postImageAlt:Be((r==null?void 0:r.postImageAlt)??""),avatarUrl:sa(r==null?void 0:r.avatarUrl),highlightImageUrl:sa(r==null?void 0:r.highlightImageUrl),postImageUrl:sa(r==null?void 0:r.postImageUrl)}}),t},rf=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},HC=e=>{if(!e)return null;const t=rf(e.textColor??null),n=rf(e.fontFamily??null),r=rf(e.fontSize??null),i=rf(e.backgroundColor??null),s={};return t&&(s.textColor=t),n&&(s.fontFamily=n),r&&(s.fontSize=r),i&&(s.backgroundColor=i),Object.keys(s).length>0?s:null},ez=(e,t)=>{const n=e??t,r={};return xu.forEach(i=>{const s=HC(n[i]??null);s&&(r[i]=s)}),r},tz=(e,t)=>{const n=e??t,r={};return xu.forEach(i=>{const s=HC(n[i]??null);s&&(r[i]=s)}),r},nz=(e,t)=>{const n=e??t,r={};return xu.forEach(i=>{const s=n[i],l=cb(s??null);l&&(r[i]=l)}),r},rz=(e,t)=>{const n=e??t,r={};return xu.forEach(i=>{const s=n[i],l=cb(s??null);l&&(r[i]=l)}),r},az=["image","video","audio","font","raw"],iz=()=>`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,sz=e=>az.includes(e)?e:"raw",oz=e=>{if(typeof e=="string"){const t=Date.parse(e);if(!Number.isNaN(t))return new Date(t).toISOString()}return new Date().toISOString()},lz=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:Math.round(t)},FC=e=>{if(!e)return null;const t=Ui(e.url??void 0);if(!t)return null;const n=typeof e.id=="string"&&e.id.trim().length>0?e.id.trim():iz(),r=typeof e.name=="string"&&e.name.trim().length>0?e.name.trim():n,i=typeof e.format=="string"&&e.format.trim().length>0?e.format.trim():"application/octet-stream",s=sz(e.type),l=lz(e.bytes),d=oz(e.createdAt);return{id:n,name:r,url:t,format:i,bytes:l,type:s,createdAt:d}},cz=(e,t)=>e?{library:Array.isArray(e.library)?e.library.map(r=>FC(r)).filter(Boolean):t.library}:t,uz=(e,t)=>{const n=e??t;return{library:Array.isArray(n.library)?n.library.map(i=>FC(i)).filter(Boolean):t.library}},KC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#f1f5f9"},GC={background:{type:"image",color:"#0f172a",image:"https://picsum.photos/seed/tacosbg/1920/1080"},fontFamily:"Inter",fontSize:"18px",textColor:"#f8fafc"},YC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},VC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},WC={background:{type:"color",color:"#ffffff",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#111827"},XC={background:{type:"color",color:"#f8fafc",image:null},fontFamily:"Inter",fontSize:"16px",textColor:"#0f172a"},QC={background:{type:"color",color:"#0f172a",image:null},fontFamily:"Inter",fontSize:"14px",textColor:"#e2e8f0"},db={library:[]},JC={},ZC={},fs=(e,t)=>{var s,l,d,f;const n=((s=e==null?void 0:e.background)==null?void 0:s.type)==="image"?"image":"color",r=Gc((l=e==null?void 0:e.background)==null?void 0:l.color,t.background.color),i=n==="image"?ia(((d=e==null?void 0:e.background)==null?void 0:d.image)??void 0,t.background.image):null;return{background:{type:n,color:n==="color"?r:Gc((f=e==null?void 0:e.background)==null?void 0:f.color,t.background.color),image:n==="image"?i:null},fontFamily:BC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:qC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Gc((e==null?void 0:e.textColor)??null,t.textColor)}},hs=(e,t)=>{var s,l,d;const n=((s=e==null?void 0:e.background)==null?void 0:s.type)==="image"?"image":"color",r=Gc(((l=e==null?void 0:e.background)==null?void 0:l.color)??null,t.background.color),i=n==="image"?sa(((d=e==null?void 0:e.background)==null?void 0:d.image)??null):null;return{background:{type:n,color:r,image:n==="image"?i:null},fontFamily:BC((e==null?void 0:e.fontFamily)??null,t.fontFamily),fontSize:qC((e==null?void 0:e.fontSize)??null,t.fontSize),textColor:Gc((e==null?void 0:e.textColor)??null,t.textColor)}},Bf={navigation:{brand:"OUIOUITACOS",brandLogo:"/logo-brand.svg",staffLogo:"/logo-staff.svg",links:{home:"Accueil",about:"À propos",menu:"Menu",contact:"Contact",loginCta:"Staff Login"},style:KC},hero:{title:"Le Goût Authentique du Mexique",subtitle:"Des tacos préparés avec passion, des ingrédients frais et une touche de tradition pour un voyage gustatif inoubliable.",ctaLabel:"Commander en ligne",backgroundImage:"https://picsum.photos/seed/tacosbg/1920/1080",historyTitle:"Vos dernières commandes",reorderCtaLabel:"Commander à nouveau",style:GC},about:{title:"Notre Histoire",description:"Fondé par des passionnés de la cuisine mexicaine, OUIOUITACOS est né d'un désir simple : partager le goût authentique des tacos faits maison. Chaque recette est un héritage familial, chaque ingrédient est choisi avec soin, et chaque plat est préparé avec le cœur. Venez découvrir une explosion de saveurs qui vous transportera directement dans les rues de Mexico.",image:null,style:YC},menu:{title:"Nos Best-sellers",ctaLabel:"Voir le menu complet & Commander",loadingLabel:"Chargement du menu...",image:null,style:VC},instagramReviews:{title:"Ils nous adorent sur Instagram",subtitle:"Des foodies de toute la Colombie partagent leur coup de cœur pour notre cuisine : ambiance solaire, service attentionné et assiettes qui brillent autant que leurs stories.",image:"https://picsum.photos/seed/instagramreviews/600/600",style:WC,reviews:Mh.reduce((e,t)=>(e[t]={...Q$[t]},e),{})},findUs:{title:"Encuéntranos",addressLabel:"Dirección",address:`Cra. 53 #75-98
Barranquilla, Atlántico
Colombie`,cityLabel:"Email",city:"hola@ouiouipos.co",hoursLabel:"Horarios",hours:"Lunes a domingo · 11h00 - 23h00",mapLabel:"Ver en Google Maps",mapUrl:"https://www.google.com/maps?q=OUIOUITACOS%2C%20Cra%2053%20%2375-98%2C%20Barranquilla%2C%20Atl%C3%A1ntico%2C%20Colombie",style:XC},footer:{text:"Tous droits réservés.",style:QC},elementStyles:JC,elementRichText:ZC,assets:db},Hy=e=>{var n,r,i,s,l,d,f,h,p,g,v,b,w,j,S,N,O,A,C,T,k,M,D,q,$,F,H,re,B,K,I,Y,W,ue,ne,R,L,X,ie,se,ye,je,fe,V,pe,be,le;const t=Bf;return{navigation:{brand:qe((n=e==null?void 0:e.navigation)==null?void 0:n.brand,t.navigation.brand),brandLogo:ia((r=e==null?void 0:e.navigation)==null?void 0:r.brandLogo,t.navigation.brandLogo),staffLogo:ia((i=e==null?void 0:e.navigation)==null?void 0:i.staffLogo,t.navigation.staffLogo),links:{home:qe((l=(s=e==null?void 0:e.navigation)==null?void 0:s.links)==null?void 0:l.home,t.navigation.links.home),about:qe((f=(d=e==null?void 0:e.navigation)==null?void 0:d.links)==null?void 0:f.about,t.navigation.links.about),menu:qe((p=(h=e==null?void 0:e.navigation)==null?void 0:h.links)==null?void 0:p.menu,t.navigation.links.menu),contact:qe((v=(g=e==null?void 0:e.navigation)==null?void 0:g.links)==null?void 0:v.contact,t.navigation.links.contact),loginCta:qe((w=(b=e==null?void 0:e.navigation)==null?void 0:b.links)==null?void 0:w.loginCta,t.navigation.links.loginCta)},style:fs((j=e==null?void 0:e.navigation)==null?void 0:j.style,t.navigation.style)},hero:{title:qe((S=e==null?void 0:e.hero)==null?void 0:S.title,t.hero.title),subtitle:qe((N=e==null?void 0:e.hero)==null?void 0:N.subtitle,t.hero.subtitle),ctaLabel:qe((O=e==null?void 0:e.hero)==null?void 0:O.ctaLabel,t.hero.ctaLabel),backgroundImage:ia((A=e==null?void 0:e.hero)==null?void 0:A.backgroundImage,t.hero.backgroundImage),historyTitle:qe((C=e==null?void 0:e.hero)==null?void 0:C.historyTitle,t.hero.historyTitle),reorderCtaLabel:qe((T=e==null?void 0:e.hero)==null?void 0:T.reorderCtaLabel,t.hero.reorderCtaLabel),style:fs((k=e==null?void 0:e.hero)==null?void 0:k.style,t.hero.style)},about:{title:qe((M=e==null?void 0:e.about)==null?void 0:M.title,t.about.title),description:qe((D=e==null?void 0:e.about)==null?void 0:D.description,t.about.description),image:ia((q=e==null?void 0:e.about)==null?void 0:q.image,t.about.image),style:fs(($=e==null?void 0:e.about)==null?void 0:$.style,t.about.style)},menu:{title:qe((F=e==null?void 0:e.menu)==null?void 0:F.title,t.menu.title),ctaLabel:qe((H=e==null?void 0:e.menu)==null?void 0:H.ctaLabel,t.menu.ctaLabel),loadingLabel:qe((re=e==null?void 0:e.menu)==null?void 0:re.loadingLabel,t.menu.loadingLabel),image:ia((B=e==null?void 0:e.menu)==null?void 0:B.image,t.menu.image),style:fs((K=e==null?void 0:e.menu)==null?void 0:K.style,t.menu.style)},instagramReviews:{title:qe((I=e==null?void 0:e.instagramReviews)==null?void 0:I.title,t.instagramReviews.title),subtitle:qe((Y=e==null?void 0:e.instagramReviews)==null?void 0:Y.subtitle,t.instagramReviews.subtitle),image:ia((W=e==null?void 0:e.instagramReviews)==null?void 0:W.image,t.instagramReviews.image),style:fs((ue=e==null?void 0:e.instagramReviews)==null?void 0:ue.style,t.instagramReviews.style),reviews:J$(((ne=e==null?void 0:e.instagramReviews)==null?void 0:ne.reviews)??null,t.instagramReviews.reviews)},findUs:{title:qe((R=e==null?void 0:e.findUs)==null?void 0:R.title,t.findUs.title),addressLabel:qe((L=e==null?void 0:e.findUs)==null?void 0:L.addressLabel,t.findUs.addressLabel),address:qe((X=e==null?void 0:e.findUs)==null?void 0:X.address,t.findUs.address),cityLabel:qe((ie=e==null?void 0:e.findUs)==null?void 0:ie.cityLabel,t.findUs.cityLabel),city:qe((se=e==null?void 0:e.findUs)==null?void 0:se.city,t.findUs.city),hoursLabel:qe((ye=e==null?void 0:e.findUs)==null?void 0:ye.hoursLabel,t.findUs.hoursLabel),hours:qe((je=e==null?void 0:e.findUs)==null?void 0:je.hours,t.findUs.hours),mapLabel:qe((fe=e==null?void 0:e.findUs)==null?void 0:fe.mapLabel,t.findUs.mapLabel),mapUrl:qe((V=e==null?void 0:e.findUs)==null?void 0:V.mapUrl,t.findUs.mapUrl),style:fs((pe=e==null?void 0:e.findUs)==null?void 0:pe.style,t.findUs.style)},footer:{text:qe((be=e==null?void 0:e.footer)==null?void 0:be.text,t.footer.text),style:fs((le=e==null?void 0:e.footer)==null?void 0:le.style,t.footer.style)},elementStyles:ez((e==null?void 0:e.elementStyles)??null,t.elementStyles),elementRichText:nz((e==null?void 0:e.elementRichText)??null,t.elementRichText),assets:cz((e==null?void 0:e.assets)??null,db)}},dz=e=>({navigation:{brand:Be(e.navigation.brand),brandLogo:sa(e.navigation.brandLogo)??null,staffLogo:sa(e.navigation.staffLogo)??null,links:{home:Be(e.navigation.links.home),about:Be(e.navigation.links.about),menu:Be(e.navigation.links.menu),contact:Be(e.navigation.links.contact),loginCta:Be(e.navigation.links.loginCta)},style:hs(e.navigation.style,KC)},hero:{title:Be(e.hero.title),subtitle:Be(e.hero.subtitle),ctaLabel:Be(e.hero.ctaLabel),backgroundImage:sa(e.hero.backgroundImage),historyTitle:Be(e.hero.historyTitle),reorderCtaLabel:Be(e.hero.reorderCtaLabel),style:hs(e.hero.style,GC)},about:{title:Be(e.about.title),description:Be(e.about.description),image:sa(e.about.image),style:hs(e.about.style,YC)},menu:{title:Be(e.menu.title),ctaLabel:Be(e.menu.ctaLabel),loadingLabel:Be(e.menu.loadingLabel),image:sa(e.menu.image),style:hs(e.menu.style,VC)},instagramReviews:{title:Be(e.instagramReviews.title),subtitle:Be(e.instagramReviews.subtitle),image:sa(e.instagramReviews.image),style:hs(e.instagramReviews.style,WC),reviews:Z$(e.instagramReviews.reviews??null)},findUs:{title:Be(e.findUs.title),addressLabel:Be(e.findUs.addressLabel),address:Be(e.findUs.address),cityLabel:Be(e.findUs.cityLabel),city:Be(e.findUs.city),hoursLabel:Be(e.findUs.hoursLabel),hours:Be(e.findUs.hours),mapLabel:Be(e.findUs.mapLabel),mapUrl:Be(e.findUs.mapUrl),style:hs(e.findUs.style,XC)},footer:{text:Be(e.footer.text),style:hs(e.footer.style,QC)},elementStyles:tz(e.elementStyles,JC),elementRichText:rz(e.elementRichText,ZC),assets:uz(e.assets,db)}),Ti={},Af=e=>{Ti[e]&&Ti[e].forEach(t=>t())};let rl=null;const l2="site_content",fz="default",hz=()=>{if(!(rl||typeof me.channel!="function"))try{rl=me.channel("orders-updates").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>Af("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"order_items"},()=>Af("orders_updated")).on("postgres_changes",{event:"*",schema:"public",table:"restaurant_tables"},()=>Af("orders_updated")).subscribe(e=>{(e==="CHANNEL_ERROR"||e==="CLOSED"||e==="TIMED_OUT")&&(rl=null)})}catch(e){console.warn("Failed to subscribe to real-time order updates",e)}},Xe=e=>{if(e.error)throw new Error(e.error.message);return e.data},Ns=e=>{if(e.error&&e.status!==406)throw new Error(e.error.message);return e.data??null},Ii=e=>{if(e)return new Date(e).getTime()},Uc=e=>{if(e==null)return;if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},Jo=e=>{if(e!==void 0)return e===null?null:new Date(e).toISOString()},qf=(e,t)=>e.reduce((n,r)=>{const i=t.get(r.ingredient_id);if(!i)return n;let s=i.prix_unitaire;return(i.unite==="kg"||i.unite==="L")&&(s=s/1e3),n+s*r.qte_utilisee},0),mz=e=>{if(!e)return{permissions:{},homePage:void 0};const{[Ps]:t,...n}=e;return{permissions:n,homePage:typeof t=="string"?t:void 0}},c2=(e,t)=>{const n={...e};return t?n[Ps]=t:delete n[Ps],n},pz=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===LC.ADMIN||t==="administrateur"},gz=(e,t)=>{const n={...e};return Ka in n||(n[Ka]=pz(t)?"editor":"none"),n},Ac=(e,t)=>{const{permissions:n,homePage:r}=mz(e.permissions),i=gz(n,e.name),s={id:e.id,name:e.name,homePage:r,permissions:i};return t&&e.pin&&(s.pin=e.pin),s},u2=e=>e!=null&&e.content?Hy(e.content):null,Fy=e=>({id:e.id,nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:e.stock_actuel,prix_unitaire:e.prix_unitaire}),Ky=e=>({id:e.id,nom:e.nom}),vz=e=>({ingredient_id:e.ingredient_id,qte_utilisee:e.qte_utilisee}),gs=(e,t)=>{const n=(e.product_recipes??[]).map(vz),r={id:e.id,nom_produit:e.nom_produit,description:e.description??void 0,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:gC(e.image),recipe:n,is_best_seller:e.is_best_seller??!1,best_seller_rank:e.best_seller_rank??null};return t&&(r.cout_revient=qf(n,t)),r},Gy=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),yz=e=>({id:e.id,produitRef:e.produit_id,nom_produit:e.nom_produit,prix_unitaire:Uc(e.prix_unitaire)??0,quantite:e.quantite,excluded_ingredients:e.excluded_ingredients??[],commentaire:e.commentaire??"",estado:e.estado,date_envoi:Ii(e.date_envoi)}),bz=(e,t)=>e.length!==t.length?!1:e.every((n,r)=>n===t[r]),xz=(e,t)=>{if(e.produitRef!==t.produitRef||e.nom_produit!==t.nom_produit||e.prix_unitaire!==t.prix_unitaire||e.quantite!==t.quantite||e.commentaire!==t.commentaire||e.estado!==t.estado)return!1;const n=[...e.excluded_ingredients].sort(),r=[...t.excluded_ingredients].sort();return bz(n,r)},_z=(e,t)=>{const n=[...t],r=[];return e.forEach(i=>{const s=n.findIndex(l=>xz(l,i));s!==-1&&r.push(n.splice(s,1)[0])}),[...r,...n]},Ma=e=>{const t=(e.order_items??[]).map(yz),n=Uc(e.total),r=Uc(e.profit),i={id:e.id,type:e.type,table_id:e.table_id??void 0,table_nom:e.table_nom??void 0,couverts:e.couverts??0,statut:e.statut,estado_cocina:e.estado_cocina,date_creation:Ii(e.date_creation)??Date.now(),date_envoi_cuisine:Ii(e.date_envoi_cuisine),date_listo_cuisine:Ii(e.date_listo_cuisine),date_servido:Ii(e.date_servido),payment_status:e.payment_status,items:t,total:n??t.reduce((s,l)=>s+l.prix_unitaire*l.quantite,0),profit:r,payment_method:e.payment_method??void 0,payment_receipt_url:e.payment_receipt_url??void 0,receipt_url:e.receipt_url??void 0};return(e.client_nom||e.client_telephone||e.client_adresse)&&(i.clientInfo={nom:e.client_nom??"",telephone:e.client_telephone??"",adresse:e.client_adresse??void 0}),i.subtotal=Uc(e.subtotal),i.total_discount=Uc(e.total_discount),i.promo_code=e.promo_code??void 0,i.applied_promotions=e.applied_promotions?typeof e.applied_promotions=="string"?JSON.parse(e.applied_promotions):e.applied_promotions:void 0,i},wz=e=>({id:e.id,orderId:e.order_id,productId:e.product_id,productName:e.product_name,categoryId:e.category_id,categoryName:e.category_name,quantity:e.quantity,unitPrice:e.unit_price,totalPrice:e.total_price,unitCost:e.unit_cost,totalCost:e.total_cost,profit:e.profit,paymentMethod:e.payment_method??void 0,saleDate:Ii(e.sale_date)??Date.now()}),jz=(e,t)=>{if(!e.commande_id)return"libre";const n=t==null?void 0:t.estado_cocina;return!n||n==="no_enviado"?"libre":n==="listo"?"para_entregar":n==="servido"||n==="entregada"?"para_pagar":e.statut==="para_entregar"||e.statut==="para_pagar"?e.statut:"en_cuisine"},Yy=(e,t)=>{const n=e.commande_id?t.get(e.commande_id):void 0,r={id:e.id,nom:e.nom,capacite:e.capacite,statut:jz(e,n),commandeId:e.commande_id??void 0,couverts:e.commande_id?e.couverts??void 0:void 0};return r.commandeId&&n&&(r.estado_cocina=n.estado_cocina,r.date_envoi_cuisine=n.date_envoi_cuisine),r},d2=async e=>{if(!e.commande_id)return Yy(e,new Map);const t=await me.from("orders").select("id, estado_cocina, date_envoi_cuisine").eq("id",e.commande_id).maybeSingle(),n=Ns(t),r=n?new Map([[n.id,{estado_cocina:n.estado_cocina,date_envoi_cuisine:Ii(n.date_envoi_cuisine)}]]):new Map;return Yy(e,r)},Ci=()=>me.from("orders").select(`
        id,
        type,
        table_id,
        table_nom,
        couverts,
        statut,
        estado_cocina,
        date_creation,
        date_envoi_cuisine,
        date_listo_cuisine,
        date_servido,
        payment_status,
        total,
        profit,
        payment_method,
        payment_receipt_url,
        client_nom,
        client_telephone,
        client_adresse,
        receipt_url,
        order_items (
          id,
          order_id,
          produit_id,
          nom_produit,
          prix_unitaire,
          quantite,
          excluded_ingredients,
          commentaire,
          estado,
          date_envoi
        ),
        subtotal,
        total_discount,
        promo_code,
        applied_promotions
      `).order("date_creation",{ascending:!1}),Sz=(e,t)=>`
        id,
        nom_produit,
        description,
        prix_vente,
        categoria_id,
        estado,
        image${e?`,
        is_best_seller,
        best_seller_rank`:""}${t?`,
        product_recipes (
          ingredient_id,
          qte_utilisee
        )`:""}
      `,f2=e=>{const t=(e==null?void 0:e.includeBestSellerColumns)!==!1,n=(e==null?void 0:e.includeRecipes)!==!1;let r=me.from("products").select(Sz(t,n));return e!=null&&e.orderBy?r=r.order(e.orderBy.column,{ascending:e.orderBy.ascending??!0,nullsFirst:e.orderBy.nullsFirst}):r=r.order("nom_produit"),r},Nz=e=>{if(!(e!=null&&e.message))return!1;const t=e.message.toLowerCase();return t.includes("does not exist")&&t.includes("column")&&(t.includes("is_best_seller")||t.includes("best_seller_rank"))},Es=async(e,t)=>{let r=await e(f2({...t,includeBestSellerColumns:!0}),!0);return Nz(r.error)&&(r=await e(f2({...t,includeBestSellerColumns:!1}),!1)),r},tn=async e=>{const t=await Ci().eq("id",e).maybeSingle(),n=Ns(t);return n?Ma(n):null},el=async()=>{const e=await me.from("ingredients").select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").order("nom");return Xe(e).map(Fy)},Ez=e=>e?typeof e=="string"?e.toLowerCase().includes("permission"):e instanceof Error?e.message.toLowerCase().includes("permission"):typeof e=="object"&&"message"in e?String(e.message??"").toLowerCase().includes("permission"):!1:!1,Hg=async e=>{try{return await el()}catch(t){if(Ez(t))return console.warn(`[api.${e}] Impossible de récupérer les ingrédients (permissions insuffisantes). Poursuite avec une liste vide.`,t),[];throw t}},Cf=async()=>{const e=await me.from("categories").select("id, nom").order("nom");return Xe(e).map(Ky)},h2=async()=>{const e=await me.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").order("nom"),t=Xe(e),n=t.map(i=>i.commande_id).filter(i=>!!i);let r=new Map;if(n.length>0){const i=await me.from("orders").select("id, estado_cocina, date_envoi_cuisine").in("id",n),s=Xe(i);r=new Map(s.map(l=>[l.id,{estado_cocina:l.estado_cocina,date_envoi_cuisine:Ii(l.date_envoi_cuisine)}]))}return t.map(i=>Yy(i,r))},Yc=(e=new Date)=>{const t=new Date(e);return t.setHours(5,0,0,0),e<t&&t.setDate(t.getDate()-1),t},Oz={week:{days:7,label:"7 derniers jours"},month:{days:30,label:"30 derniers jours"}},Az=e=>{const t=Oz[e],n=new Date(Yc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t.days),{config:t,start:r,end:n}},m2=async e=>{if(!e.items.length)return await me.from("sales").delete().eq("order_id",e.id),await me.from("orders").update({profit:0}).eq("id",e.id),0;const t=Array.from(new Set(e.items.map(b=>b.produitRef))),n=t.length>0?Es(b=>b.in("id",t)):Es(b=>b.limit(0)),[r,i,s]=await Promise.all([Cf(),el(),n]),l=new Map(i.map(b=>[b.id,b])),d=new Map(r.map(b=>[b.id,b.nom]));let f=[];t.length>0&&(f=Xe(s));const h=new Map(f.map(b=>{const w=gs(b,l);return[w.id,w]})),p=Jo(e.date_servido)??new Date().toISOString(),g=e.items.filter(b=>Gy(b.produitRef)).map(b=>{const w=h.get(b.produitRef),j=w?qf(w.recipe,l):0,S=(w==null?void 0:w.categoria_id)??"unknown",N=w?d.get(S)??"Sans catégorie":"Sans catégorie",O=(b.prix_unitaire-j)*b.quantite;return{order_id:e.id,product_id:b.produitRef,product_name:b.nom_produit,category_id:S,category_name:N,quantity:b.quantite,unit_price:b.prix_unitaire,total_price:b.prix_unitaire*b.quantite,unit_cost:j,total_cost:j*b.quantite,profit:O,payment_method:e.payment_method??null,sale_date:p}}),v=g.reduce((b,w)=>b+w.profit,0);return await me.from("sales").delete().eq("order_id",e.id),await me.from("sales").insert(g),await me.from("orders").update({profit:v}).eq("id",e.id),v},Da={subscribe:(e,t)=>(Ti[e]||(Ti[e]=[]),Ti[e].push(t),e==="orders_updated"&&hz(),()=>{var n;Ti[e]=(Ti[e]??[]).filter(r=>r!==t),e==="orders_updated"&&((n=Ti[e])==null?void 0:n.length)===0&&rl&&(typeof me.removeChannel=="function"&&me.removeChannel(rl),rl=null)}),publish:e=>{Af(e)}},Bt=e=>{(e==null?void 0:e.includeNotifications)!==!1&&Da.publish("notifications_updated"),Da.publish("orders_updated")},we={notifications:Da,getSiteContent:async()=>{const e=await me.from(l2).select("id, content, updated_at").order("updated_at",{ascending:!1}).limit(1).maybeSingle(),t=Ns(e);return u2(t)},updateSiteContent:async e=>{const t=dz(e),n=await me.from(l2).upsert({id:fz,content:t},{onConflict:"id"}).select("id, content, updated_at").single(),r=Xe(n),i=u2(r);if(!i)throw new Error("Contenu du site introuvable après la mise à jour.");return i},getRoles:async()=>{const e=await me.from("roles").select("id, name, pin, permissions").order("name");return Xe(e).map(n=>Ac(n,!0))},getRoleById:async e=>{const t=await me.from("roles").select("id, name, permissions").eq("id",e).maybeSingle(),n=Ns(t);return n?Ac(n,!1):null},createRole:async e=>{const t=await me.from("roles").insert({name:e.name,pin:e.pin,permissions:c2(e.permissions,e.homePage)}).select("id, name, pin, permissions").single(),n=Xe(t);return Da.publish("notifications_updated"),Ac(n,!0)},updateRole:async(e,t)=>{const n=await me.from("roles").update({name:t.name,pin:t.pin,permissions:c2(t.permissions,t.homePage)}).eq("id",e).select("id, name, pin, permissions").single(),r=Xe(n);return Da.publish("notifications_updated"),Ac(r,!0)},deleteRole:async e=>{const t=await me.from("roles").delete().eq("id",e);Xe(t),Da.publish("notifications_updated")},loginWithPin:async e=>{const t=await me.from("roles").select("id, name, permissions").eq("pin",e).maybeSingle(),n=Ns(t);if(!n)return null;const r=Ac(n,!1);try{await n2(r.id,r.name)}catch(i){console.warn("Failed to enregistrer la connexion du rôle",i)}return r},getDashboardStats:async(e="week")=>{var je;const{config:t,start:n,end:r}=Az(e),i=n.toISOString(),s=r.toISOString(),l=new Date(n);l.setDate(l.getDate()-t.days);const d=l.toISOString(),h=Yc().toISOString(),[p,g,v,b,w,j]=await Promise.all([h2(),el(),Cf(),Es(fe=>fe),Ci().eq("statut","finalisee").gte("date_creation",h),Ci().eq("statut","finalisee").gte("date_creation",d).lt("date_creation",s)]),N=Xe(w).map(Ma),A=Xe(j).map(Ma),C=A.filter(fe=>fe.date_creation>=n.getTime()),T=A.filter(fe=>fe.date_creation<n.getTime()),k=new Map(g.map(fe=>[fe.id,fe])),M=Xe(b),D=new Map(M.map(fe=>{const V=gs(fe,k);return[V.id,V]})),q=new Map(v.map(fe=>[fe.id,fe.nom])),$=Jo((je=N[0])==null?void 0:je.date_servido)??new Date().toISOString(),F=N.flatMap(fe=>fe.items.map(V=>{const pe=D.get(V.produitRef),be=pe?qf(pe.recipe,k):0,le=(pe==null?void 0:pe.categoria_id)??"unknown",Ve=pe?q.get(le)??"Sans catégorie":"Sans catégorie",Me=(V.prix_unitaire-be)*V.quantite;return{order_id:fe.id,product_id:V.produitRef,product_name:V.nom_produit,category_id:le,category_name:Ve,quantity:V.quantite,unit_price:V.prix_unitaire,total_price:V.prix_unitaire*V.quantite,unit_cost:be,total_cost:be*V.quantite,profit:Me,payment_method:fe.payment_method??null,sale_date:$}})),H=F.reduce((fe,V)=>fe+V.total_price,0);F.reduce((fe,V)=>fe+V.profit,0),N.reduce((fe,V)=>fe+(V.couverts??0),0),N.length>0&&H/N.length;const re=C.reduce((fe,V)=>fe+(V.total??0),0),B=C.reduce((fe,V)=>fe+V.items.reduce((pe,be)=>{const le=D.get(be.produitRef),Ve=le?qf(le.recipe,k):0;return pe+(be.prix_unitaire-Ve)*be.quantite},0),0),K=C.reduce((fe,V)=>fe+(V.couverts??0),0),I=C.length>0?re/C.length:0,Y=new Map;C.forEach(fe=>{fe.items.forEach(V=>{const pe=D.get(V.produitRef),be=pe?q.get(pe.categoria_id)??"Sans catégorie":"Sans catégorie";Y.set(be,(Y.get(be)??0)+V.prix_unitaire*V.quantite)})});const W=Array.from(Y.entries()).map(([fe,V])=>({name:fe,value:V})),ue=[...C].sort((fe,V)=>V.date_creation-fe.date_creation).slice(0,5),ne=Array.from(D.values()).filter(fe=>fe.is_best_seller).sort((fe,V)=>{const pe=fe.best_seller_rank??Number.POSITIVE_INFINITY,be=V.best_seller_rank??Number.POSITIVE_INFINITY;return pe===be?fe.nom_produit.localeCompare(V.nom_produit):pe-be}).slice(0,6),R=p.filter(fe=>fe.statut!=="libre").length,L=p.reduce((fe,V)=>fe+(V.couverts??0),0),X=N.filter(fe=>fe.estado_cocina==="recibido").length,ie=g.filter(fe=>fe.stock_actuel<=fe.stock_minimum),se=(fe,V,pe)=>{const be=V.getTime(),le=pe.getTime();return fe.reduce((Ve,Me)=>Me.date_creation>=be&&Me.date_creation<le?Ve+(Me.total??0):Ve,0)},ye=Array.from({length:t.days}).map((fe,V)=>{const pe=new Date(n);pe.setDate(pe.getDate()+V);const be=new Date(pe);be.setDate(be.getDate()+1);const le=new Date(l);le.setDate(le.getDate()+V);const Ve=new Date(le);return Ve.setDate(Ve.getDate()+1),{name:t.days===7?V===t.days-1?"Auj":`J-${t.days-1-V}`:pe.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),ventes:se(C,pe,be),ventesPeriodePrecedente:se(T,le,Ve)}});return{period:e,periodLabel:t.label,periodStart:i,periodEnd:s,ventesPeriode:re,beneficePeriode:B,clientsPeriode:K,panierMoyen:I,tablesOccupees:R,clientsActuels:L,commandesEnCuisine:X,ingredientsStockBas:ie,ventesPeriodeSeries:ye,ventesParCategorie:W,recentOrders:ue,bestSellerProducts:ne}},getSalesByProduct:async e=>{const t=h=>{if(h)return typeof h=="string"?h:h.toISOString()},n=t(e==null?void 0:e.start)??Yc().toISOString(),r=t(e==null?void 0:e.end);let i=me.from("sales").select("product_id, product_name, total_price").gte("sale_date",n);r&&(i=i.lt("sale_date",r));const s=await i,l=Xe(s),d=new Map;l.forEach(h=>{const p=d.get(h.product_id)??{name:h.product_name,value:0};p.value+=h.total_price,d.set(h.product_id,p)});const f=Array.from(d.values()).sort((h,p)=>p.value-h.value);if(f.length>6){const h=f.slice(0,6),p=f.slice(6).reduce((g,v)=>g+v.value,0);return[...h,{name:"Autres",value:p}]}return f},getTables:async()=>h2(),createTable:async e=>{const t=await me.from("restaurant_tables").insert({nom:e.nom,capacite:e.capacite,couverts:e.couverts??null}).select("id, nom, capacite, statut, commande_id, couverts").single(),n=Xe(t);return Bt(),d2(n)},updateTable:async(e,t)=>{const n={};t.nom!==void 0&&(n.nom=t.nom),t.capacite!==void 0&&(n.capacite=t.capacite),t.couverts!==void 0&&(n.couverts=t.couverts??null);const r=await me.from("restaurant_tables").update(n).eq("id",e).select("id, nom, capacite, statut, commande_id, couverts").single(),i=Xe(r);return Bt(),d2(i)},deleteTable:async e=>{const t=await me.from("restaurant_tables").delete().eq("id",e);Xe(t),Bt()},getIngredients:async()=>el(),getProducts:async()=>{const[e,t]=await Promise.all([Es(i=>i.neq("estado","archive")),Hg("getProducts")]),n=Xe(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.map(i=>gs(i,r))},getProductById:async e=>{const[t,n]=await Promise.all([Es(s=>s.eq("id",e).maybeSingle()),Hg("getProductById")]),r=Ns(t);if(!r)return null;const i=n.length>0?new Map(n.map(s=>[s.id,s])):void 0;return gs(r,i)},getBestSellerProducts:async()=>{const[e,t]=await Promise.all([Es((i,s)=>s?i.eq("is_best_seller",!0).order("best_seller_rank",{ascending:!0,nullsFirst:!1}).limit(6):i.limit(0),{includeRecipes:!1}),Hg("getBestSellerProducts")]),n=Xe(e),r=t.length>0?new Map(t.map(i=>[i.id,i])):void 0;return n.filter(i=>i.estado!=="archive").sort((i,s)=>{const l=i.best_seller_rank??Number.POSITIVE_INFINITY,d=s.best_seller_rank??Number.POSITIVE_INFINITY;return l-d}).map(i=>gs(i,r)).filter(i=>i.is_best_seller).slice(0,6)},getCategories:async()=>Cf(),createProduct:async(e,t)=>{let n;t&&(n=await me.storage.from("product-images").upload(`${e.nom_produit}-${Date.now()}`,t).then(s=>{var l;if(s.error)throw s.error;return(l=s.data)==null?void 0:l.path}));const r=await me.from("products").insert({nom_produit:e.nom_produit,description:e.description??null,prix_vente:e.prix_vente,categoria_id:e.categoria_id,estado:e.estado,image:n??null}).select("id, nom_produit, description, prix_vente, categoria_id, estado, image").single(),i=Xe(r);return e.recipe.length>0&&await me.from("product_recipes").insert(e.recipe.map(s=>({product_id:i.id,ingredient_id:s.ingredient_id,qte_utilisee:s.qte_utilisee}))),Bt(),gs({...i,product_recipes:e.recipe.map(s=>({...s,product_id:i.id}))})},updateProduct:async(e,t,n)=>{let r;n?r=await me.storage.from("product-images").upload(`${t.nom_produit??e}-${Date.now()}`,n).then(l=>{var d;if(l.error)throw l.error;return(d=l.data)==null?void 0:d.path}):"image"in t&&t.image===null&&(r=null);const i={};t.nom_produit!==void 0&&(i.nom_produit=t.nom_produit),t.description!==void 0&&(i.description=t.description),t.prix_vente!==void 0&&(i.prix_vente=t.prix_vente),t.categoria_id!==void 0&&(i.categoria_id=t.categoria_id),t.estado!==void 0&&(i.estado=t.estado),r!==void 0&&(i.image=r),Object.keys(i).length>0&&await me.from("products").update(i).eq("id",e),t.recipe&&(await me.from("product_recipes").delete().eq("product_id",e),t.recipe.length>0&&await me.from("product_recipes").insert(t.recipe.map(l=>({product_id:e,ingredient_id:l.ingredient_id,qte_utilisee:l.qte_utilisee})))),Bt();const s=await we.getProductById(e);if(!s)throw new Error("Product not found after update");return s},deleteProduct:async e=>{const t=await we.getProductById(e);if(t!=null&&t.image){const n=t.image.split("/").pop();n&&await me.storage.from("product-images").remove([n])}await me.from("product_recipes").delete().eq("product_id",e),await me.from("products").delete().eq("id",e),Bt()},createCategory:async e=>{const t=await me.from("categories").insert(e).select("id, nom").single(),n=Xe(t);return Bt(),Ky(n)},updateCategory:async(e,t)=>{const n=await me.from("categories").update(t).eq("id",e).select("id, nom").single(),r=Xe(n);return Bt(),Ky(r)},deleteCategory:async e=>{await me.from("categories").delete().eq("id",e),Bt()},createIngredient:async e=>{const t=await me.from("ingredients").insert({nom:e.nom,unite:e.unite,stock_minimum:e.stock_minimum,stock_actuel:0,prix_unitaire:0}).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),n=Xe(t);return Da.publish("notifications_updated"),Fy(n)},updateIngredient:async(e,t)=>{const n=await me.from("ingredients").update(t).eq("id",e).select("id, nom, unite, stock_minimum, stock_actuel, prix_unitaire").single(),r=Xe(n);return Da.publish("notifications_updated"),Fy(r)},deleteIngredient:async e=>{const t=await me.from("product_recipes").select("ingredient_id, product_id, qte_utilisee").eq("ingredient_id",e).limit(1),{data:n}=t;return n&&n.length>0?{success:!1}:(await me.from("ingredients").delete().eq("id",e),Da.publish("notifications_updated"),{success:!0})},getKitchenOrders:async()=>{const e=await Ci().eq("estado_cocina","recibido").or("statut.eq.en_cours,type.eq.a_emporter"),n=Xe(e).map(Ma),r=[];return n.forEach(i=>{const s=i.items.filter(d=>d.estado==="enviado");if(s.length===0)return;s.reduce((d,f)=>{const h=f.date_envoi??i.date_envoi_cuisine??i.date_creation,p=d.get(h)??[];return p.push(f),d.set(h,p),d},new Map).forEach((d,f)=>{r.push({...i,items:d,date_envoi_cuisine:f,ticketKey:`${i.id}-${f}`})})}),r.sort((i,s)=>{const l=i.date_envoi_cuisine??i.date_creation,d=s.date_envoi_cuisine??s.date_creation;return l-d})},getTakeawayOrders:async()=>{const e=await Ci().eq("type","a_emporter"),n=Xe(e).map(Ma);return{pending:n.filter(r=>r.statut==="pendiente_validacion"&&r.estado_cocina==="no_enviado"),ready:n.filter(r=>r.estado_cocina==="listo")}},getOrderById:async e=>await tn(e)??void 0,createOrGetOrderByTableId:async e=>{const t=await me.from("restaurant_tables").select("id, nom, capacite, statut, commande_id, couverts").eq("id",e).maybeSingle(),n=Ns(t);if(!n)throw new Error("Table not found");if(n.commande_id){const l=await tn(n.commande_id);if(l)return l}const r=new Date().toISOString(),i=await me.from("orders").insert({type:"sur_place",table_id:n.id,table_nom:n.nom,couverts:n.couverts??n.capacite,statut:"en_cours",estado_cocina:"no_enviado",date_creation:r,payment_status:"unpaid",total:0}).select("*").single(),s=Xe(i);return await me.from("restaurant_tables").update({statut:"en_cuisine",commande_id:s.id,couverts:n.couverts??n.capacite}).eq("id",e),Bt(),Ma(s)},cancelUnsentTableOrder:async e=>{const t=await tn(e);!t||t.estado_cocina!=="no_enviado"||t.items.some(r=>r.estado!=="en_attente")||(await me.from("order_items").delete().eq("order_id",e),await me.from("orders").delete().eq("id",e),t.table_id&&await me.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",t.table_id),Bt())},addOrderItems:async(e,t)=>{const n=new Date().toISOString(),r=t.map(s=>({...s,order_id:e,estado:"en_attente",date_envoi:n}));await me.from("order_items").insert(r),Bt();const i=await tn(e);if(!i)throw new Error("Order not found after adding items");return i},updateOrderItems:async(e,t)=>{const n=await tn(e);if(!n)throw new Error("Order not found");const r=new Set(n.items.map(p=>p.id)),i=new Set(t.map(p=>p.id)),s=t.filter(p=>!r.has(p.id)),l=t.filter(p=>r.has(p.id)),d=n.items.filter(p=>!i.has(p.id)),f=new Date().toISOString();s.length>0&&await me.from("order_items").insert(s.map(p=>({...p,order_id:e,estado:"en_attente",date_envoi:f}))),l.length>0&&await Promise.all(l.map(p=>me.from("order_items").update({produit_id:p.produitRef,nom_produit:p.nom_produit,prix_unitaire:p.prix_unitaire,quantite:p.quantite,excluded_ingredients:p.excluded_ingredients??[],commentaire:p.commentaire,estado:p.estado??"en_attente",date_envoi:p.date_envoi?new Date(p.date_envoi).toISOString():f}).eq("id",p.id))),d.length>0&&await me.from("order_items").delete().in("id",d.map(p=>p.id)),Bt();const h=await tn(e);if(!h)throw new Error("Order not found after item update");return h},updateOrder:async(e,t,n)=>{t.items&&t.items;const{items:r,clientInfo:i,removedItemIds:s=[],...l}=t,d={};l.type&&(d.type=l.type),l.table_id!==void 0&&(d.table_id=l.table_id),l.table_nom!==void 0&&(d.table_nom=l.table_nom),l.couverts!==void 0&&(d.couverts=l.couverts),l.statut&&(d.statut=l.statut),l.estado_cocina&&(d.estado_cocina=l.estado_cocina),l.payment_status&&(d.payment_status=l.payment_status),l.payment_method!==void 0&&(d.payment_method=l.payment_method),l.payment_receipt_url!==void 0&&(d.payment_receipt_url=l.payment_receipt_url),l.receipt_url!==void 0&&(d.receipt_url=l.receipt_url),l.total!==void 0&&(d.total=l.total),l.profit!==void 0&&(d.profit=l.profit),l.date_creation!==void 0&&(d.date_creation=Jo(l.date_creation)),l.date_envoi_cuisine!==void 0&&(d.date_envoi_cuisine=Jo(l.date_envoi_cuisine)),l.date_listo_cuisine!==void 0&&(d.date_listo_cuisine=Jo(l.date_listo_cuisine)),l.date_servido!==void 0&&(d.date_servido=Jo(l.date_servido)),t.items&&(d.total=t.items.reduce((p,g)=>p+g.prix_unitaire*g.quantite,0));const f=s.filter(p=>Gy(p));f.length>0&&await me.from("order_items").delete().in("id",f),i&&(d.client_nom=(i==null?void 0:i.nom)??null,d.client_telephone=(i==null?void 0:i.telephone)??null,d.client_adresse=(i==null?void 0:i.adresse)??null),Object.keys(d).length>0&&await me.from("orders").update(d).eq("id",e),Bt({includeNotifications:(n==null?void 0:n.includeNotifications)??!0});const h=await tn(e);if(!h)throw new Error("Order not found after update");return t.items?{...h,items:_z(t.items,h.items)}:h},sendOrderToKitchen:async(e,t)=>{const n=await tn(e);if(!n)throw new Error("Order not found");const r=n.items.filter(f=>f.estado==="en_attente"),i=(()=>{if(!t||t.length===0)return r;const f=new Set(t);return r.filter(h=>f.has(h.id))})();if(i.length===0)return n;const s=i.filter(f=>Gy(f.id)).map(f=>f.id);if(s.length===0)return n;const l=new Date().toISOString();await me.from("order_items").update({estado:"enviado",date_envoi:l}).in("id",s),await me.from("orders").update({estado_cocina:"recibido",date_envoi_cuisine:l}).eq("id",e),n.table_id&&await me.from("restaurant_tables").update({statut:"en_cuisine"}).eq("id",n.table_id),Bt();const d=await tn(e);if(!d)throw new Error("Order not found after sending to kitchen");return d},markOrderAsReady:async e=>{const t=new Date().toISOString();await me.from("orders").update({estado_cocina:"listo",date_listo_cuisine:t}).eq("id",e);const n=await tn(e);n!=null&&n.table_id&&await me.from("restaurant_tables").update({statut:"para_entregar"}).eq("id",n.table_id),Bt();const r=await tn(e);if(!r)throw new Error("Order not found after ready update");return r},markOrderAsServed:async e=>{const t=await tn(e);if(!t)throw new Error("Order not found");const n=new Date().toISOString();await me.from("orders").update({estado_cocina:"servido",date_servido:n}).eq("id",e),t.table_id&&await me.from("restaurant_tables").update({statut:"para_pagar"}).eq("id",t.table_id),Bt();const r=await tn(e);if(!r)throw new Error("Order not found after serve update");return r},finalizeOrder:async(e,t,n)=>{const r=await tn(e);if(!r)throw new Error("Order not found");const i=new Date().toISOString();await me.from("orders").update({statut:"finalisee",payment_status:"paid",payment_method:t,payment_receipt_url:n??null,date_servido:i}).eq("id",e),r.table_id&&await me.from("restaurant_tables").update({statut:"libre",commande_id:null,couverts:null}).eq("id",r.table_id),Bt();const s=await tn(e);if(!s)throw new Error("Order not found after finalization");const l=await m2(s);return{...s,profit:l}},submitCustomerOrder:async e=>{var l,d,f;const n=new Date().toISOString(),r=await me.from("orders").insert({type:"a_emporter",couverts:1,statut:"pendiente_validacion",estado_cocina:"no_enviado",date_creation:n,payment_status:"unpaid",total:e.items.reduce((h,p)=>h+p.prix_unitaire*p.quantite,0),client_nom:((l=e.clientInfo)==null?void 0:l.nom)??null,client_telephone:((d=e.clientInfo)==null?void 0:d.telephone)??null,client_adresse:((f=e.clientInfo)==null?void 0:f.adresse)??null,receipt_url:e.receipt_url??null,subtotal:e.subtotal??null,total_discount:e.total_discount??null,promo_code:e.promo_code??null,applied_promotions:e.applied_promotions??null}).select("*").single(),i=Xe(r);if(e.items.length>0){const h=e.items.map(g=>{const v=g.produitRef&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(g.produitRef);return{order_id:i.id,produit_id:v?g.produitRef:null,nom_produit:g.nom_produit,prix_unitaire:g.prix_unitaire,quantite:g.quantite,excluded_ingredients:g.excluded_ingredients??[],commentaire:g.commentaire,estado:g.estado??"en_attente",date_envoi:g.date_envoi?new Date(g.date_envoi).toISOString():null}}),p=await me.from("order_items").insert(h);if(p.error)throw console.error("Error inserting order items:",p.error),new Error(`Failed to insert order items: ${p.error.message}`)}Bt();const s=await tn(i.id);if(!s)throw new Error("Order not found after creation");return s},getCustomerOrderStatus:async e=>tn(e),validateTakeawayOrder:async e=>{const t=new Date().toISOString();await me.from("orders").update({statut:"en_cours",estado_cocina:"recibido",payment_status:"paid",payment_method:"carte_bancaire",date_envoi_cuisine:t}).eq("id",e),await me.from("order_items").update({estado:"enviado",date_envoi:t}).eq("order_id",e),Bt();const n=await tn(e);if(!n)throw new Error("Order not found after validation");return n},markTakeawayAsDelivered:async e=>{await me.from("orders").update({statut:"finalisee",estado_cocina:"entregada",payment_method:"transferencia"}).eq("id",e),Bt();const t=await tn(e);if(!t)throw new Error("Order not found after delivery");const n=await m2(t);return{...t,profit:n}},getNotificationCounts:async()=>{const e=await Ci(),n=Xe(e).map(Ma);return{pendingTakeaway:n.filter(r=>r.type==="a_emporter"&&r.statut==="pendiente_validacion"&&r.estado_cocina==="no_enviado").length,readyTakeaway:n.filter(r=>r.type==="a_emporter"&&r.estado_cocina==="listo").length,kitchenOrders:n.filter(r=>r.estado_cocina==="recibido").length,lowStockIngredients:(await el()).filter(r=>r.stock_actuel<=r.stock_minimum).length,readyForService:n.filter(r=>r.type==="sur_place"&&r.estado_cocina==="listo").length}},generateDailyReport:async()=>{const e=new Date,t=Yc(e),n=t.toISOString();a2(n);const[r,i,s,l]=await Promise.all([Ci().eq("statut","finalisee"),Cf(),el(),Es(M=>M)]);let d=[],f=!1;try{d=await r2(n)}catch(M){console.warn("Failed to fetch role logins for daily report",M),f=!0}const p=Xe(r).map(Ma),g=t.getTime(),v=e.getTime(),b=p.filter(M=>{const D=M.date_servido??M.date_listo_cuisine??M.date_creation;return D>=g&&D<=v}),w=b.reduce((M,D)=>M+(D.total??0),0),j=b.reduce((M,D)=>M+(D.couverts??0),0),S=b.length>0?w/b.length:0,N=new Map(s.map(M=>[M.id,M])),O=Xe(l),A=new Map(O.map(M=>{const D=gs(M,N);return[D.id,D]})),C=new Map(i.map(M=>[M.id,M.nom])),T=new Map;b.forEach(M=>{M.items.forEach(D=>{const q=A.get(D.produitRef),$=q?C.get(q.categoria_id)??"Sans catégorie":"Sans catégorie",F=q?q.categoria_id:"unknown",H=T.get(F)??{categoryName:$,products:[]},re=H.products.find(B=>B.id===D.produitRef);re?(re.quantity+=D.quantite,re.totalSales+=D.prix_unitaire*D.quantite):H.products.push({id:D.produitRef,name:D.nom_produit,quantity:D.quantite,totalSales:D.prix_unitaire*D.quantite}),T.set(F,H)})}),T.forEach(M=>{M.products.sort((D,q)=>q.quantity-D.quantity)});const k=s.filter(M=>M.stock_actuel<=M.stock_minimum);return{generatedAt:e.toISOString(),startDate:t.toISOString(),clientsDuJour:j,panierMoyen:S,ventesDuJour:w,soldProducts:Array.from(T.values()),lowStockIngredients:k,roleLogins:d,roleLoginsUnavailable:f}},getSalesHistory:async()=>{const e=await me.from("sales").select("*").order("sale_date",{ascending:!1});return Xe(e).map(wz)},getFinalizedOrders:async()=>{const e=await Ci().eq("statut","finalisee");return Xe(e).map(Ma)},logins:{fetchSince:r2,clearBefore:a2,log:n2}};let af=null;const _u=()=>{const[e,t]=x.useState(af),[n,r]=x.useState(!0),[i,s]=x.useState(null),l=x.useCallback(async()=>{r(!0);try{const f=await we.getSiteContent(),h=Hy(f??void 0);af=h,t(h),s(null)}catch(f){console.error("Failed to fetch site content",f),af=Bf,t(Bf),s(f instanceof Error?f.message:"Impossible de charger le contenu du site.")}finally{r(!1)}},[]),d=x.useCallback(async f=>{const h=await we.updateSiteContent(f),p=Hy(h);return t(p),af=p,p},[]);return x.useEffect(()=>{l()},[l]),{content:e,loading:n,error:i,refresh:l,updateContent:d}},eT=x.createContext(void 0),Cz=({children:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const h=localStorage.getItem("oui-oui-tacos-role"),p=localStorage.getItem("oui-oui-tacos-session");if(!h||!p){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session");return}const g=JSON.parse(h),v=JSON.parse(p);if(!(g!=null&&g.id)||v.roleId!==g.id){localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null);return}const b=await we.getRoleById(g.id);b?(n(b),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(b)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:b.id,authenticatedAt:Date.now()}))):(localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null))}catch(h){console.error("Failed to restore role:",h),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session"),n(null)}finally{i(!1)}})()},[]);const s=x.useCallback(async f=>{i(!0);try{const h=await we.loginWithPin(f);if(!h)throw new Error("PIN invalide");return n(h),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(h)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:h.id,authenticatedAt:Date.now()})),h}finally{i(!1)}},[]),l=x.useCallback(()=>{n(null),localStorage.removeItem("oui-oui-tacos-role"),localStorage.removeItem("oui-oui-tacos-session")},[]),d=x.useCallback(async()=>{if(t!=null&&t.id)try{const f=await we.getRoleById(t.id);f?(n(f),localStorage.setItem("oui-oui-tacos-role",JSON.stringify(f)),localStorage.setItem("oui-oui-tacos-session",JSON.stringify({roleId:f.id,authenticatedAt:Date.now()}))):l()}catch(f){console.error("Failed to refresh role:",f)}},[l,t==null?void 0:t.id]);return u.jsx(eT.Provider,{value:{role:t,loading:r,login:s,logout:l,refreshRole:d},children:e})},ma=()=>{const e=x.useContext(eT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Hf=e=>e==="editor"||e==="readonly",fb=e=>{if(!e)return null;const{homePage:t,permissions:n}=e;if(t&&Hf(n==null?void 0:n[t]))return t;const r=Kn.find(i=>Hf(n==null?void 0:n[i.permissionKey]));return r?r.href:null},Tz=["a[href]","button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(","),kz=({isOpen:e,onClose:t,notifications:n,onReportClick:r})=>{const{role:i,logout:s}=ma(),l=ha(),d=x.useRef(null),f=x.useRef(null),h=()=>{s(),l("/")},p=i==null?void 0:i.permissions,g=x.useMemo(()=>Kn.filter(j=>{const S=p==null?void 0:p[j.permissionKey];return Hf(S)}),[p]),v=x.useMemo(()=>g.find(j=>j.permissionKey===Ka),[g]),b=x.useMemo(()=>g.filter(j=>j.permissionKey!==Ka),[g]);x.useEffect(()=>{var A;if(!e||typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches)return;f.current=document.activeElement;const S=d.current,N=S==null?void 0:S.querySelectorAll(Tz);(A=N==null?void 0:N[0])==null||A.focus();const O=C=>{if(C.key==="Escape"&&(C.preventDefault(),t()),C.key==="Tab"&&N&&N.length>0){const T=N[0],k=N[N.length-1];C.shiftKey?document.activeElement===T&&(C.preventDefault(),k.focus()):document.activeElement===k&&(C.preventDefault(),T.focus())}};return document.addEventListener("keydown",O),()=>{var C,T;document.removeEventListener("keydown",O),(T=(C=f.current)==null?void 0:C.focus)==null||T.call(C)}},[e,t]);const w=()=>{typeof window<"u"&&window.matchMedia("(min-width: 768px)").matches||t()};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/50 transition-opacity duration-300 md:hidden ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,"aria-hidden":!e,onClick:t}),u.jsxs("aside",{ref:d,className:`app-sidebar fixed inset-y-0 left-0 z-50 flex w-72 flex-col transition-transform duration-300 ease-in-out md:static md:z-auto md:w-64 md:translate-x-0 ${e?"translate-x-0":"-translate-x-full md:translate-x-0"}`,"aria-label":"Navegación principal",children:[u.jsxs("div",{className:"app-sidebar__header",children:[u.jsx("span",{className:"app-sidebar__brand",children:"OUIOUI"}),u.jsx("button",{onClick:t,className:"app-sidebar__close md:hidden","aria-label":"Cerrar el menú",children:u.jsx(ca,{size:20})})]}),u.jsxs("div",{className:"app-sidebar__content",children:[u.jsx("div",{className:"app-sidebar__scroll-region",children:u.jsx("nav",{className:"app-sidebar__nav",children:b.map(j=>{let S=null;return n&&(j.href==="/para-llevar"&&(n.pendingTakeaway>0||n.readyTakeaway>0)?S=u.jsxs("span",{className:"app-sidebar__badge-group",children:[n.pendingTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.pendingTakeaway} por validar`,children:n.pendingTakeaway}),n.readyTakeaway>0&&u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--success",title:`${n.readyTakeaway} listo(s)`,children:n.readyTakeaway})]}):j.href==="/ventes"&&n.readyForService>0?S=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",title:`${n.readyForService} pedido(s) listo(s)`,children:n.readyForService})}):j.href==="/cocina"&&n.kitchenOrders>0?S=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.kitchenOrders})}):j.href==="/ingredients"&&n.lowStockIngredients>0&&(S=u.jsx("span",{className:"app-sidebar__badge-group",children:u.jsx("span",{className:"app-sidebar__badge app-sidebar__badge--danger",children:n.lowStockIngredients})}))),u.jsxs(Ey,{to:j.href,onClick:w,className:({isActive:N})=>`app-sidebar__nav-link${N?" is-active":""}`,children:[u.jsx(j.icon,{size:22}),u.jsx("span",{children:j.name}),S]},j.name)})})}),u.jsxs("div",{className:"app-sidebar__section",children:[v&&u.jsxs(Ey,{to:v.href,onClick:w,className:({isActive:j})=>`app-sidebar__action${j?" is-active":""}`,children:[u.jsx(v.icon,{size:22}),u.jsx("span",{className:"font-semibold",children:v.name})]}),u.jsxs("button",{onClick:()=>{r(),w()},className:"app-sidebar__action",children:[u.jsx(OC,{size:22}),u.jsx("span",{className:"font-semibold",children:"Reporte"})]}),u.jsxs("button",{onClick:h,className:"app-sidebar__action app-sidebar__action--logout",children:[u.jsx(UU,{size:22}),u.jsx("span",{className:"font-semibold",children:"Cerrar sesión"})]})]})]})]})]})},kn=({isOpen:e,onClose:t,title:n,children:r,size:i="md"})=>{const s={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},l=x.useId();return x.useEffect(()=>{if(!e)return;const d=f=>{f.key==="Escape"&&(f.preventDefault(),t())};return window.addEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}},[e,t]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 px-4 py-4 sm:px-6 sm:py-8",onClick:t,children:u.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:`relative flex w-full flex-col overflow-hidden rounded-2xl bg-white shadow-2xl ${s[i]} max-h-[calc(100vh-2rem)] sm:max-h-[90vh] focus:outline-none`,onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 px-4 py-3 sm:px-6",children:[u.jsx("h3",{id:l,className:"text-lg font-semibold text-slate-900 sm:text-xl",children:n}),u.jsx("button",{type:"button",onClick:t,className:"rounded-full p-1.5 text-slate-500 transition-colors hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500","aria-label":"Fermer la fenêtre modale",children:u.jsx(ca,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-5 sm:px-6 sm:py-6",children:r})]})}):null},Pz=new Intl.NumberFormat("es-CO",{maximumFractionDigits:0}),Mz=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});function tT(e){return Number.isFinite(e)?Math.round(e):0}function Rz(e){return Pz.format(tT(e))}function Ce(e){return Mz.format(tT(e))}const Fg=({icon:e,label:t,value:n})=>u.jsxs("div",{className:"bg-gray-100 p-3 sm:p-4 rounded-lg flex flex-col sm:flex-row sm:items-center items-start gap-3",children:[u.jsx("div",{className:"p-2 sm:p-3 bg-brand-primary/20 text-brand-primary rounded-full",children:e}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-semibold",children:t}),u.jsx("p",{className:"font-bold text-gray-800 text-[clamp(1.1rem,2.5vw,1.5rem)]",children:n})]})]}),Dz=({isOpen:e,onClose:t})=>{const[n,r]=x.useState(null),[i,s]=x.useState(!0),[l,d]=x.useState(null);x.useEffect(()=>{e&&(async()=>{s(!0),d(null);try{const v=await we.generateDailyReport();r(v)}catch(v){console.error("Error al generar el informe diario",v),r(null),d("No fue posible generar el informe diario. Intenta nuevamente más tarde.")}finally{s(!1)}})()},[e]);const f=g=>{const v=new Map;return g.forEach(b=>{const w=new Date(b.loginAt).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),j=v.get(b.roleName)??[];j.push(w),v.set(b.roleName,j)}),v},h=g=>{const v=[];if(v.push("*REPORTE OUIOUITACOS*"),v.push(`Generado el: ${new Date(g.generatedAt).toLocaleString("es-CO")}`),v.push(`Periodo: desde ${new Date(g.startDate).toLocaleString("es-CO")}`),v.push("---"),v.push("*Estadísticas del día*"),v.push(`- Ventas: *${Ce(g.ventesDuJour)}*`),v.push(`- Clientes: *${g.clientsDuJour}*`),v.push(`- Ticket promedio: *${Ce(g.panierMoyen)}*`),v.push("---"),v.push("*Productos vendidos*"),g.soldProducts.length===0?v.push("Ningún producto vendido."):g.soldProducts.forEach(b=>{v.push(`
_${b.categoryName}_`),b.products.forEach(w=>{v.push(`  - ${w.quantity}x ${w.name} (${Ce(w.totalSales)})`)})}),v.push("---"),v.push("*Inicios de sesión desde las 05:00*"),g.roleLoginsUnavailable)v.push("Inicios de sesión no disponibles en este dispositivo.");else{const b=f(g.roleLogins);b.size===0?v.push("No hay inicios de sesión registrados."):b.forEach((w,j)=>{v.push(`- ${j}: ${w.join(", ")}`)})}return v.push("---"),v.push("*Inventario bajo*"),g.lowStockIngredients.length===0?v.push("No hay ingredientes con inventario bajo."):g.lowStockIngredients.forEach(b=>{v.push(`- ${b.nom} (${b.stock_actuel} / ${b.stock_minimum} ${b.unite})`)}),encodeURIComponent(v.join(`
`))},p=()=>{if(!n)return;const v=`https://wa.me/?text=${h(n)}`;window.open(v,"_blank"),t()};return u.jsx(kn,{isOpen:e,onClose:t,title:"Reporte diario",size:"xl",children:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[i&&u.jsx("p",{children:"Generando el reporte..."}),!i&&l&&u.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:l}),!i&&!n&&!l&&u.jsx("p",{className:"text-red-500",children:"No fue posible generar el reporte."}),!i&&n&&u.jsxs("div",{className:"space-y-6",children:[n.roleLoginsUnavailable&&u.jsxs("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-3 text-sm text-yellow-800 flex items-start gap-2",children:[u.jsx(oa,{className:"mt-0.5 h-4 w-4"}),u.jsx("span",{children:"Los inicios de sesión de los roles no están disponibles en este dispositivo (almacenamiento local inaccesible)."})]}),u.jsxs("div",{className:"text-center border-b pb-4",children:[u.jsx("h2",{className:"font-bold text-brand-secondary text-[clamp(1.75rem,4vw,2.75rem)]",children:"Reporte OUIOUITACOS"}),u.jsxs("p",{className:"text-gray-500",children:["Generado el ",new Date(n.generatedAt).toLocaleString("es-CO")]}),u.jsxs("p",{className:"text-sm text-gray-500",children:["Datos desde ",new Date(n.startDate).toLocaleString("es-CO")]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[u.jsx(Fg,{icon:u.jsx(tu,{}),label:"Ventas del día",value:Ce(n.ventesDuJour)}),u.jsx(Fg,{icon:u.jsx(qy,{}),label:"Clientes del día",value:n.clientsDuJour}),u.jsx(Fg,{icon:u.jsx(RC,{}),label:"Ticket promedio",value:Ce(n.panierMoyen)})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(Zo,{})," Productos vendidos"]}),u.jsx("div",{className:"space-y-4",children:n.soldProducts.map(g=>u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-brand-primary",children:g.categoryName}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:g.products.map(v=>u.jsxs("li",{children:[v.quantity,"x ",v.name," - ",u.jsx("span",{className:"font-semibold",children:Ce(v.totalSales)})]},v.id))})]},g.categoryName))})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(IU,{})," Inicios de sesión desde las 05:00"]}),n.roleLoginsUnavailable?u.jsx("p",{className:"text-gray-500",children:"Inicios de sesión no disponibles: no es posible acceder al almacenamiento local."}):(()=>{const g=f(n.roleLogins);return g.size===0?u.jsx("p",{className:"text-gray-500",children:"No hay inicios de sesión registrados desde las 05:00."}):u.jsx("ul",{className:"space-y-2",children:Array.from(g.entries()).map(([v,b])=>u.jsxs("li",{className:"flex justify-between items-center bg-slate-100 p-2 rounded-md",children:[u.jsx("span",{className:"font-semibold text-gray-800",children:v}),u.jsx("span",{className:"text-sm text-gray-600",children:b.join(", ")})]},v))})})()]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2 text-gray-800",children:[u.jsx(oa,{className:"text-orange-500"})," Ingredientes con inventario bajo"]}),n.lowStockIngredients.length>0?u.jsx("ul",{className:"space-y-1",children:n.lowStockIngredients.map(g=>u.jsxs("li",{className:"flex justify-between items-center bg-orange-50 p-2 rounded-md text-orange-800",children:[u.jsx("span",{children:g.nom}),u.jsxs("span",{className:"font-bold",children:[g.stock_actuel," / ",g.stock_minimum," ",g.unite]})]},g.id))}):u.jsx("p",{className:"text-gray-500",children:"No hay ingredientes con inventario bajo."})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 p-4 border-t",children:[u.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition",children:"Cerrar"}),u.jsxs("button",{onClick:p,disabled:i||!n,className:"w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:[u.jsx(TC,{size:20})," Enviar por WhatsApp"]})]})]})})},Iz=()=>{const[e,t]=x.useState(!1),{role:n}=ma(),[r,i]=x.useState(null),[s,l]=x.useState(!1),d=()=>t(!0),f=()=>t(!1);return x.useEffect(()=>{const h=async()=>{try{const g=await we.getNotificationCounts();i(g)}catch(g){console.error("Failed to fetch notifications",g)}};h();const p=we.notifications.subscribe("notifications_updated",h);return()=>{p()}},[]),x.useEffect(()=>{if(typeof window>"u")return;const h=()=>{window.innerWidth>=768&&t(!1)};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"app-shell",children:[u.jsx(kz,{isOpen:e,onClose:f,notifications:r,onReportClick:()=>l(!0)}),u.jsxs("div",{className:"app-main",children:[u.jsxs("header",{className:"app-header",children:[u.jsx("button",{type:"button",onClick:d,className:"app-header__menu-button md:hidden","aria-label":"Abrir el menú",children:u.jsx(CC,{size:24})}),u.jsxs("h1",{className:"app-header__title",children:["Bienvenido, ",n==null?void 0:n.name]}),u.jsx("div",{className:"app-header__spacer md:hidden","aria-hidden":"true"})]}),u.jsx("main",{className:"app-content",children:u.jsx("div",{className:"app-content__inner",children:u.jsx(pI,{})})})]})]}),u.jsx(Dz,{isOpen:s,onClose:()=>l(!1)})]})},Lz=e=>{try{const t=localStorage.getItem("customer-order-history"),n=t?JSON.parse(t):[],r=n.findIndex(s=>s.id===e.id);r!==-1&&n.splice(r,1),n.unshift(e);const i=n.slice(0,10);localStorage.setItem("customer-order-history",JSON.stringify(i))}catch(t){console.error("Failed to save order to history:",t)}},nT=({orderId:e,onNewOrderClick:t,variant:n="page"})=>{var j,S,N,O;const[r,i]=x.useState(null),[s,l]=x.useState(!0),[d,f]=x.useState(!1),h=[{name:"Enviado",icon:OC},{name:"Validado",icon:$f},{name:"En preparacion",icon:jC},{name:"Listo",icon:KU}],p=x.useCallback(A=>A?A.statut==="finalisee"||A.estado_cocina==="servido"||A.estado_cocina==="entregada"||A.estado_cocina==="listo"?3:A.estado_cocina==="recibido"?2:A.statut==="en_cours"?1:A.statut==="pendiente_validacion"||A.estado_cocina==="no_enviado"?0:-1:-1,[]),g=x.useMemo(()=>p(r),[r,p]);x.useEffect(()=>{let A=!0,C;const T=async()=>{try{const k=await we.getCustomerOrderStatus(e);if(A){if(i(k),(k==null?void 0:k.statut)==="finalisee"||(k==null?void 0:k.estado_cocina)==="servido"||(k==null?void 0:k.estado_cocina)==="entregada"){C&&clearInterval(C),Lz(k);const M=k.date_servido??Date.now();GA(k.id,M+WI)}if(!k){const M=sl();(M==null?void 0:M.orderId)===e&&X0()}}}catch(k){console.error("Failed to fetch order status",k)}finally{A&&l(!1)}};return T(),C=setInterval(T,5e3),()=>{A=!1,clearInterval(C)}},[e]);const v=(r==null?void 0:r.statut)==="finalisee"||(r==null?void 0:r.estado_cocina)==="servido"||(r==null?void 0:r.estado_cocina)==="entregada"||(r==null?void 0:r.estado_cocina)==="listo",b=n==="page"?"container mx-auto p-4 lg:p-8":"flex-1 flex flex-col justify-center items-center text-center text-white p-4 bg-black bg-opacity-60 w-full",w=n==="page"?"bg-white/95 p-6 rounded-xl shadow-2xl max-w-2xl mx-auto":"max-w-4xl mx-auto";return s?u.jsx("div",{className:b,children:"Chargement du suivi de commande..."}):r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:b,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:`text-3xl font-bold text-center mb-2 ${n==="hero"?"text-white":"text-gray-800"}`,children:"Suivi de votre commande"}),u.jsxs("p",{className:`text-center font-semibold mb-8 ${n==="hero"?"text-gray-300":"text-gray-500"}`,children:["Commande #",r.id.slice(-6)]}),u.jsx("div",{className:"flex items-center mb-10 px-2",children:h.map((A,C)=>{const T=C===g,k=C===h.length-1,M=C<g||k&&v;return u.jsxs(Yn.Fragment,{children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 rounded-full border-4 transition-all duration-500 ${M?"bg-green-500 border-green-300":T?"bg-blue-600 border-blue-400 animate-pulse":"bg-gray-400 border-gray-300"}`,children:u.jsx(A.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),u.jsx("p",{className:`mt-2 text-xs sm:text-sm font-semibold text-center ${M||T?`${n==="hero"?"text-white":"text-gray-800"}`:"text-gray-400"}`,children:A.name})]}),C<h.length-1&&u.jsxs("div",{className:`flex-1 h-1.5 ${n==="hero"?"bg-gray-600":"bg-gray-300"} rounded-full mx-2 sm:mx-4 relative overflow-hidden`,children:[u.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500 transition-all duration-1000",style:{width:M?"100%":"0%"}}),T&&u.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-500",style:{width:"50%",animation:"progress-bar-pulse 2s ease-in-out infinite"}})]})]},A.name)})}),u.jsx("style",{children:`
                    @keyframes progress-bar-pulse {
                        0% { transform: translateX(-100%); opacity: 0.8; }
                        50% { opacity: 1; }
                        100% { transform: translateX(200%); opacity: 0.8; }
                    }
                    
                    .stamp-container {
                        position: relative;
                        width: 180px;
                        height: 180px;
                        animation: stamp-appear 0.5s ease-out;
                    }
                    
                    @keyframes stamp-appear {
                        0% {
                            transform: scale(0) rotate(-45deg);
                            opacity: 0;
                        }
                        60% {
                            transform: scale(1.1) rotate(0deg);
                        }
                        100% {
                            transform: scale(1) rotate(0deg);
                            opacity: 1;
                        }
                    }
                    
                    .stamp-border {
                        width: 100%;
                        height: 100%;
                        border: 4px solid #dc2626;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        background: rgba(220, 38, 38, 0.05);
                        position: relative;
                        box-shadow: 0 0 0 2px #dc2626;
                    }
                    
                    .stamp-border::before {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        border-radius: 50%;
                        background: repeating-linear-gradient(
                            45deg,
                            transparent,
                            transparent 2px,
                            rgba(220, 38, 38, 0.03) 2px,
                            rgba(220, 38, 38, 0.03) 4px
                        );
                    }
                    
                    .stamp-inner {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        text-align: center;
                        z-index: 1;
                    }
                    
                    .stamp-text {
                        font-family: 'Arial Black', 'Arial Bold', sans-serif;
                        font-weight: 900;
                        color: #dc2626;
                        text-transform: uppercase;
                        letter-spacing: 2px;
                        line-height: 1;
                        text-shadow: 
                            1px 1px 0 rgba(220, 38, 38, 0.3),
                            -1px -1px 0 rgba(220, 38, 38, 0.3);
                    }
                    
                    .stamp-text:first-child {
                        font-size: 20px;
                        margin-bottom: 6px;
                    }
                    
                    .stamp-text-large {
                        font-size: 42px;
                        font-weight: 900;
                    }
                    
                    /* Effet de texture grunge */
                    .stamp-border::after {
                        content: '';
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        border-radius: 50%;
                        background-image: 
                            radial-gradient(circle at 20% 30%, transparent 0%, transparent 2%, rgba(220, 38, 38, 0.1) 2%, transparent 3%),
                            radial-gradient(circle at 80% 70%, transparent 0%, transparent 2%, rgba(220, 38, 38, 0.1) 2%, transparent 3%),
                            radial-gradient(circle at 40% 80%, transparent 0%, transparent 1%, rgba(220, 38, 38, 0.1) 1%, transparent 2%),
                            radial-gradient(circle at 60% 20%, transparent 0%, transparent 1%, rgba(220, 38, 38, 0.1) 1%, transparent 2%);
                        opacity: 0.8;
                    }
                `}),u.jsxs("div",{className:`${n==="hero"?"bg-black/20 p-4 rounded-lg":"border-t pt-6 mt-6"} space-y-4 relative`,children:[v&&u.jsx("div",{className:"absolute top-4 right-4 z-10 pointer-events-none",children:u.jsx("div",{className:"relative",style:{transform:"rotate(15deg)"},children:u.jsx("div",{className:"stamp-container",children:u.jsx("div",{className:"stamp-border",children:u.jsxs("div",{className:"stamp-inner",children:[u.jsx("span",{className:"stamp-text",children:"PEDIDO"}),u.jsx("span",{className:"stamp-text stamp-text-large",children:"LISTO"})]})})})})}),u.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"}`,children:"Résumé de la commande"}),u.jsx("div",{className:"space-y-2",children:r.items&&r.items.length>0?r.items.map(A=>{const T=A.nom_produit==="Domicilio"&&A.prix_unitaire===0;return u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-gray-200":"text-gray-600"}`,children:[u.jsxs("span",{children:[A.quantite,"x ",A.nom_produit]}),T?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm text-gray-400 line-through",children:Ce(8e3)}),u.jsx("span",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("span",{children:Ce(A.prix_unitaire*A.quantite)})]},A.id)}):u.jsx("p",{className:`${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Aucun article enregistré pour cette commande."})}),r.subtotal!==void 0&&r.subtotal!==null&&r.subtotal!==r.total&&u.jsxs("div",{className:`flex justify-between ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{children:Ce(r.subtotal)})]}),r.promo_code&&r.total_discount&&r.total_discount>0&&u.jsxs("div",{className:`flex justify-between items-center ${n==="hero"?"text-green-400":"text-green-600"}`,children:[u.jsxs("span",{className:"text-sm",children:["🎟️ Code promo: ",r.promo_code]}),u.jsxs("span",{className:"text-sm font-semibold",children:["-",Ce(r.total_discount)]})]}),u.jsxs("div",{className:`flex justify-between font-bold text-lg border-t pt-2 ${n==="hero"?"text-white border-gray-500":"text-gray-800"}`,children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:Ce(r.total)})]}),u.jsxs("div",{className:`border-t pt-4 space-y-2 ${n==="hero"?"border-gray-500":""}`,children:[u.jsx("h3",{className:`text-xl font-bold ${n==="hero"?"text-white":"text-gray-800"} mb-2`,children:"Informations Client"}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(ob,{size:16,className:"mr-2"}),(j=r.clientInfo)==null?void 0:j.nom]}),u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(PC,{size:16,className:"mr-2"}),(S=r.clientInfo)==null?void 0:S.telephone]}),((N=r.clientInfo)==null?void 0:N.adresse)&&u.jsxs("div",{className:`flex items-center ${n==="hero"?"text-gray-200":"text-gray-700"}`,children:[u.jsx(kh,{size:16,className:"mr-2"}),(O=r.clientInfo)==null?void 0:O.adresse]}),r.receipt_url&&u.jsxs("button",{onClick:()=>f(!0),className:"flex items-center text-blue-400 hover:underline",children:[u.jsx(i$,{size:16,className:"mr-2"}),"Voir le justificatif"]})]})]}),u.jsxs("div",{className:"mt-8 text-center space-y-4",children:[v&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-green-100 px-4 py-2 text-sm font-semibold text-green-700",children:[u.jsx($f,{size:16})," Pedido listo"]})}),u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx("p",{className:`text-sm ${n==="hero"?"text-gray-300":"text-gray-600"}`,children:"Le statut de votre commande est mis à jour automatiquement."}),u.jsx("button",{onClick:v?t:void 0,disabled:!v,className:`font-bold py-3 px-6 rounded-lg transition ${v?`${n==="hero"?"bg-gray-200 text-gray-800 hover:bg-gray-300":"bg-brand-primary text-brand-secondary hover:bg-brand-primary-dark"} cursor-pointer`:"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50"}`,children:"Volver"})]})]})]})}),u.jsx(kn,{isOpen:d,onClose:()=>f(!1),title:"Justificatif de Paiement",children:r.receipt_url?u.jsx("img",{src:r.receipt_url,alt:"Justificatif",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"Aucun justificatif fourni."})})]}):n==="hero"?null:u.jsx("div",{className:b,children:u.jsxs("div",{className:w,children:[u.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Commande non trouvée"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Nous n'avons pas pu retrouver votre commande."}),u.jsx("button",{onClick:t,className:"bg-brand-primary text-brand-secondary font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 transition",children:"Passer une nouvelle commande"})]})})},Uz={"font/woff2":"woff2","application/font-woff2":"woff2","application/x-font-woff2":"woff2","font/woff":"woff","application/font-woff":"woff","application/x-font-woff":"woff","application/x-font-ttf":"truetype","font/ttf":"truetype","application/x-font-otf":"opentype","font/otf":"opentype","application/vnd.ms-fontobject":"embedded-opentype","application/x-font-eot":"embedded-opentype","image/svg+xml":"svg"},$z={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg"},hb=e=>{const t=e.trim();return(t.length>0?t:"Custom Font").replace(/"|'/g,"")},zz=e=>{if(!e)return null;const t=e.toLowerCase();for(const[n,r]of Object.entries(Uz))if(t.includes(n))return r;return null},Bz=e=>{const n=e.toLowerCase().match(/\.([a-z0-9]+)(?:\?|#|$)/);if(!n)return null;const r=n[1];return $z[r]??null},qz=e=>{const t=zz(e.format);return t||Bz(e.url)},Hz=e=>{const t=hb(e.name),n=qz(e),r=n?` format("${n}")`:"",i=`url("${e.url}")${r}`;return`@font-face {
  font-family: "${t}";
  src: ${i};
  font-style: normal;
  font-weight: 400;
  font-display: swap;
}`},Fz="data-custom-font-faces",rT=e=>{x.useEffect(()=>{if(typeof document>"u")return;const t=e.filter(s=>s.type==="font");if(t.length===0)return;const n=[],r=new Set;if(t.forEach(s=>{const l=Hz(s),d=l.match(/font-family: "([^"]+)";/),f=d?d[1]:s.name;r.has(f)||(r.add(f),n.push(l))}),n.length===0)return;const i=document.createElement("style");return i.setAttribute(Fz,"true"),i.textContent=n.join(`
`),document.head.appendChild(i),()=>{i.remove()}},[e])},aT=e=>{if(!e)return e??void 0;const t=e.trim();return t.length===0||t.includes(",")?t.length===0?void 0:t:/^(['"]).*\1$/.test(t)||!/[^a-zA-Z0-9-]/.test(t)?t:`'${t.replace(/'/g,"\\'")}'`},qr=e=>e.background.type==="image"&&e.background.image?{backgroundImage:`url('${e.background.image}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:e.background.color}:{backgroundColor:e.background.color},mb=(e,t)=>{const n=qr(e);if(e.background.type==="image"){const r=e.background.image??t;return r?{...n,backgroundImage:`url('${r}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n}return t?{...n,backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:n},Hr=e=>({color:e.textColor,fontFamily:aT(e.fontFamily)}),Ri=e=>({...Hr(e),fontSize:e.fontSize}),pb=(e,t)=>{const n={color:(t==null?void 0:t.textColor)??e.textColor,fontFamily:aT((t==null?void 0:t.fontFamily)??e.fontFamily)};return t!=null&&t.backgroundColor&&t.backgroundColor.trim().length>0&&(n.backgroundColor=t.backgroundColor),n},iT=(e,t)=>({...pb(e,t),fontSize:(t==null?void 0:t.fontSize)??e.fontSize}),sT=(e,t)=>t!=null&&t.backgroundColor?{backgroundColor:t.backgroundColor}:{},oT=(e,t,n)=>{if(!e)return e;try{const r=new URL(e);return r.searchParams.set(t,n),r.toString()}catch{const i=e.includes("?")?"&":"?",s=encodeURIComponent(t),l=encodeURIComponent(n);return`${e}${i}${s}=${l}`}},p2="/logo-brand.svg",Ba=e=>{if(e.startsWith("navigation."))return"navigation";if(e.startsWith("hero."))return"hero";if(e.startsWith("about."))return"about";if(e.startsWith("menu."))return"menu";if(e.startsWith("instagramReviews."))return"instagramReviews";if(e.startsWith("findUs."))return"findUs";if(e.startsWith("footer."))return"footer";throw new Error(`Zone introuvable pour l'élément modifiable "${e}"`)},lT=Yn.createContext(!0),Ye=({id:e,onEdit:t,children:n,label:r,className:i,buttonClassName:s,as:l="div"})=>{const d=["group relative",i].filter(Boolean).join(" "),f=Yn.useContext(lT),[h,p]=x.useState(!1);if(!f)return u.jsx(l,{className:d,children:n});const g=["customization-edit-button absolute z-30 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-white shadow-lg transition-all duration-200","opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500","hover:scale-110 hover:bg-blue-600 active:scale-95",s??"right-2 top-2"].filter(Boolean).join(" "),v=b=>{b.preventDefault(),b.stopPropagation();const w=Ba(e),j=b.currentTarget.getBoundingClientRect(),S=b.currentTarget.closest(`[data-zone="${w}"]`)??b.currentTarget.parentElement,N=(S==null?void 0:S.getBoundingClientRect())??null;t(e,{zone:w,anchor:j??N})};return u.jsxs(l,{className:d,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[u.jsx("button",{type:"button",onClick:v,className:g,"aria-label":r,"data-element-id":e,title:r,children:u.jsx(JU,{className:"h-4 w-4","aria-hidden":"true"})}),h&&u.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-blue-500 border-dashed rounded-lg opacity-50 animate-pulse"}),h&&u.jsxs("div",{className:"absolute z-40 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded shadow-lg whitespace-nowrap",children:[r,u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]}),n]})},Vo=({children:e,className:t,zone:n,activeZone:r})=>{const s=["customization-section-card relative overflow-hidden rounded-3xl border bg-white shadow-sm transition-all",r===n?"active border-brand-primary/70 shadow-brand-primary/20 ring-2 ring-brand-primary/10":"border-gray-200",t].filter(Boolean).join(" ");return u.jsx("div",{className:s,"data-zone":n,children:e})},g2=({content:e,bestSellerProducts:t,onEdit:n,activeZone:r,showEditButtons:i=!0})=>{const s=qr(e.navigation.style),l=Hr(e.navigation.style);Ri(e.navigation.style);const d=e.navigation.brandLogo??p2,f=e.navigation.staffLogo??e.navigation.brandLogo??p2,h=mb(e.hero.style,e.hero.backgroundImage),p=Hr(e.hero.style),g=Ri(e.hero.style),v=qr(e.about.style),b=Hr(e.about.style);Ri(e.about.style);const w=qr(e.menu.style),j=Hr(e.menu.style),S=Ri(e.menu.style),N=qr(e.findUs.style),O=Hr(e.findUs.style),A=qr(e.footer.style),C=Ri(e.footer.style);rT(e.assets.library);const T=e.elementStyles??{},k=e.elementRichText??{},M=X=>{var ye;const ie=k[X],se=(ye=ie==null?void 0:ie.html)==null?void 0:ye.trim();return se&&se.length>0?se:null},D=(X,ie,se,ye)=>{const je=M(X);return je?Yn.createElement(ie,{...se,dangerouslySetInnerHTML:{__html:je}}):Yn.createElement(ie,se,ye)},q={navigation:e.navigation.style,hero:e.hero.style,about:e.about.style,menu:e.menu.style,instagramReviews:e.instagramReviews.style,findUs:e.findUs.style,footer:e.footer.style},$=X=>T[X],F=X=>{const ie=Ba(X);return pb(q[ie],$(X))},H=X=>{const ie=Ba(X);return iT(q[ie],$(X))},re=X=>{const ie=Ba(X);return sT(q[ie],$(X))},B=e.findUs.address.trim(),K=e.findUs.mapUrl,I=typeof K=="string"?K.trim():"",Y=I.length>0,W=!Y&&B.length>0?encodeURIComponent(B):"",ue=Y?I:W?`https://www.google.com/maps?q=${W}`:"https://www.google.com/maps",ne=Y?oT(I,"output","embed"):W?`https://www.google.com/maps?q=${W}&output=embed`:"about:blank",R=Y||W.length>0,L=B.length>0?B:e.findUs.title;return u.jsx(lT.Provider,{value:i,children:u.jsxs("div",{className:"space-y-6 rounded-[2.5rem] border border-gray-200 bg-slate-50 p-6 shadow-inner",children:[u.jsx(Vo,{zone:"navigation",activeZone:r,children:u.jsx(Ye,{id:"navigation.style.background",label:"Modifier le fond de la navigation",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("header",{className:"login-header",style:s,children:u.jsxs("div",{className:"layout-container login-header__inner",style:l,children:[u.jsxs("div",{className:"login-brand",style:l,children:[u.jsx(Ye,{id:"navigation.brandLogo",label:"Modifier le logo principal",onEdit:n,as:"span",className:"inline-flex items-center",children:u.jsx("img",{src:d,alt:`Logo ${e.navigation.brand}`,className:"login-brand__logo"})}),u.jsx(Ye,{id:"navigation.brand",label:"Modifier le nom de la marque",onEdit:n,as:"span",className:"ml-3 inline-flex items-center",buttonClassName:"-right-3 -top-3",children:D("navigation.brand","span",{className:"login-brand__name",style:F("navigation.brand")},e.navigation.brand)})]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[u.jsx(Ye,{id:"navigation.links.home",label:"Modifier le lien Accueil",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.home","span",{className:"login-nav__link",style:H("navigation.links.home")},e.navigation.links.home)}),u.jsx(Ye,{id:"navigation.links.about",label:"Modifier le lien À propos",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.about","span",{className:"login-nav__link",style:H("navigation.links.about")},e.navigation.links.about)}),u.jsx(Ye,{id:"navigation.links.menu",label:"Modifier le lien Menu",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:D("navigation.links.menu","span",{className:"login-nav__link",style:H("navigation.links.menu")},e.navigation.links.menu)}),u.jsx(Ye,{id:"navigation.links.loginCta",label:"Modifier le bouton personnel",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("div",{className:"login-nav__staff-btn","aria-label":e.navigation.links.loginCta,role:"img",children:u.jsx(Ye,{id:"navigation.staffLogo",label:"Modifier le logo d'accès staff",onEdit:n,as:"span",className:"inline-flex",buttonClassName:"-right-2 -top-2",children:u.jsx("img",{src:f,alt:"",className:"login-brand__logo","aria-hidden":"true"})})})})]})]})})})}),u.jsx(Vo,{zone:"hero",activeZone:r,children:u.jsx(Ye,{id:"hero.backgroundImage",label:"Modifier le visuel de fond du hero",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-hero",style:{...h,...p},children:u.jsx("div",{className:"section-hero__inner",children:u.jsxs("div",{className:"hero-content",style:p,children:[u.jsx(Ye,{id:"hero.title",label:"Modifier le titre du hero",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.title","h2",{className:"hero-title",style:F("hero.title")},e.hero.title)}),u.jsx(Ye,{id:"hero.subtitle",label:"Modifier le sous-titre du hero",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("hero.subtitle","p",{className:"hero-subtitle",style:H("hero.subtitle")},e.hero.subtitle)}),u.jsx(Ye,{id:"hero.ctaLabel",label:"Modifier le texte du bouton principal",onEdit:n,className:"mt-6 inline-flex",buttonClassName:"-right-3 -top-3",children:u.jsx("button",{type:"button",className:"ui-btn ui-btn-accent hero-cta",style:{...H("hero.ctaLabel"),...re("hero.ctaLabel")},disabled:!0,children:D("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.ctaLabel")},e.hero.ctaLabel)})}),u.jsxs("div",{className:"hero-history mt-6",children:[u.jsx(Ye,{id:"hero.historyTitle",label:"Modifier le titre de l'historique",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("hero.historyTitle","p",{className:"hero-history__title",style:H("hero.historyTitle")},e.hero.historyTitle)}),u.jsx(Ye,{id:"hero.reorderCtaLabel",label:"Modifier le bouton de réassort",onEdit:n,className:"hero-history__list",buttonClassName:"right-2 top-2",children:u.jsx(u.Fragment,{children:[0,1,2].map(X=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsx("p",{className:"hero-history__date",style:g,children:"Pedido del 12/03/2024"}),u.jsxs("p",{className:"hero-history__details",style:g,children:["2 article(s) • ",Ce(32e3)]})]}),u.jsx("button",{type:"button",className:"hero-history__cta",style:{...H("hero.reorderCtaLabel"),...re("hero.reorderCtaLabel")},disabled:!0,children:D("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:H("hero.reorderCtaLabel")},e.hero.reorderCtaLabel)})]},X))})})]})]})})})})}),u.jsx(Vo,{zone:"about",activeZone:r,children:u.jsx(Ye,{id:"about.style.background",label:"Modifier le fond de la section À propos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...v,...b},children:u.jsxs("div",{className:"section-inner section-inner--center",style:b,children:[u.jsx(Ye,{id:"about.title",label:"Modifier le titre À propos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("about.title","h2",{className:"section-title",style:F("about.title")},e.about.title)}),u.jsx(Ye,{id:"about.description",label:"Modifier la description À propos",onEdit:n,className:"mt-4 block",buttonClassName:"right-0 -top-3",children:D("about.description","p",{className:"section-text section-text--muted",style:H("about.description")},e.about.description)}),e.about.image&&u.jsx(Ye,{id:"about.image",label:"Modifier l'image À propos",onEdit:n,className:"mt-6 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.about.image,alt:e.about.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})})]})})})}),u.jsx(Vo,{zone:"menu",activeZone:r,children:u.jsx(Ye,{id:"menu.style.background",label:"Modifier le fond de la section Menu",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-muted",style:{...w,...j},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:j,children:[u.jsx(Ye,{id:"menu.title",label:"Modifier le titre du menu",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("menu.title","h2",{className:"section-title",style:F("menu.title")},e.menu.title)}),e.menu.image&&u.jsx(Ye,{id:"menu.image",label:"Modifier l'image du menu",onEdit:n,className:"mb-8 block",buttonClassName:"right-4 top-4",children:u.jsx("img",{src:e.menu.image,alt:e.menu.title,className:"h-64 w-full rounded-xl object-cover shadow-lg"})}),u.jsx("div",{className:"menu-grid",children:t.length>0?t.map(X=>{const ie=!!X.image;return u.jsxs("article",{className:"ui-card menu-card",children:[ie?u.jsx("img",{src:X.image,alt:X.nom_produit,className:"h-40 w-full rounded-t-xl object-cover"}):u.jsx("div",{className:"h-40 w-full rounded-t-xl bg-gradient-to-br from-orange-200 via-amber-100 to-orange-50"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:j,children:X.nom_produit}),X.description&&u.jsx("p",{className:"menu-card__description",style:S,children:X.description}),u.jsx("p",{className:"menu-card__price",style:S,children:Ce(X.prix_vente)})]})]},X.id)}):u.jsx("div",{className:"col-span-full rounded-2xl border border-dashed border-slate-300 bg-white/70 p-6 text-center",children:u.jsx("p",{className:"text-sm text-slate-500",style:S,children:"Aucun best seller sélectionné pour le moment."})})}),u.jsx(Ye,{id:"menu.ctaLabel",label:"Modifier le bouton de commande",onEdit:n,className:"section-actions mt-8",buttonClassName:"right-2 top-2",children:u.jsxs("div",{className:"section-actions",children:[u.jsx("button",{type:"button",className:"ui-btn ui-btn-primary hero-cta",style:{...H("menu.ctaLabel"),...re("menu.ctaLabel")},disabled:!0,children:D("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:H("menu.ctaLabel")},e.menu.ctaLabel)}),u.jsx(Ye,{id:"menu.loadingLabel",label:"Modifier le texte de chargement",onEdit:n,className:"ml-4 inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("menu.loadingLabel","p",{className:"section-text section-text--muted",style:H("menu.loadingLabel")},e.menu.loadingLabel)})]})})]})})})}),u.jsx(Vo,{zone:"findUs",activeZone:r,children:u.jsx(Ye,{id:"findUs.style.background",label:"Modifier le fond de la section Encuéntranos",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("section",{className:"section section-surface",style:{...N,...O},children:u.jsxs("div",{className:"find-us-grid",style:O,children:[u.jsxs("div",{className:"find-us-panel",style:O,children:[u.jsx(Ye,{id:"findUs.title",label:"Modifier le titre Encuéntranos",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.title","h2",{className:"section-title",style:F("findUs.title")},e.findUs.title)}),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:O,children:[u.jsx(kh,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(Ye,{id:"findUs.addressLabel",label:"Modifier le libellé de l'adresse",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.addressLabel","h3",{className:"find-us-detail__title",style:F("findUs.addressLabel")},e.findUs.addressLabel)}),u.jsx(Ye,{id:"findUs.address",label:"Modifier l'adresse",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.address","p",{className:"find-us-detail__text",style:H("findUs.address")},e.findUs.address)})]})]}),u.jsxs("div",{className:"find-us-detail",style:O,children:[u.jsx(Sl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(Ye,{id:"findUs.hoursLabel",label:"Modifier le libellé des horaires",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:F("findUs.hoursLabel")},e.findUs.hoursLabel)}),u.jsx(Ye,{id:"findUs.hours",label:"Modifier les horaires",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.hours","p",{className:"find-us-detail__text",style:H("findUs.hours")},e.findUs.hours)})]})]}),u.jsxs("div",{className:"find-us-detail",style:O,children:[u.jsx(AC,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx(Ye,{id:"findUs.cityLabel",label:"Modifier le libellé de l'email",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:D("findUs.cityLabel","h3",{className:"find-us-detail__title",style:F("findUs.cityLabel")},e.findUs.cityLabel)}),u.jsx(Ye,{id:"findUs.city",label:"Modifier l'email",onEdit:n,className:"mt-1 block",buttonClassName:"right-0 -top-3",children:D("findUs.city","p",{className:"find-us-detail__text",style:H("findUs.city")},e.findUs.city)})]})]})]})]}),u.jsx("div",{className:"find-us-map",style:O,children:R?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${L}`,src:ne,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:ue,target:"_blank",rel:"noopener noreferrer",children:u.jsx(Ye,{id:"findUs.mapLabel",label:"Modifier le libellé du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})]}):u.jsx("div",{className:"find-us-map__placeholder",children:u.jsx(Ye,{id:"findUs.mapLabel",label:"Modifier le libellé du lien Google Maps",onEdit:n,className:"inline-flex",buttonClassName:"-right-3 -top-3",as:"span",children:D("findUs.mapLabel","span",{className:"find-us-map__label",style:H("findUs.mapLabel")},e.findUs.mapLabel)})})})]})})})}),u.jsx(Vo,{zone:"footer",activeZone:r,children:u.jsx(Ye,{id:"footer.style.background",label:"Modifier le fond du pied de page",onEdit:n,className:"block",buttonClassName:"right-4 top-4",children:u.jsx("footer",{className:"site-footer",style:{...A,...C},children:u.jsx("div",{className:"layout-container site-footer__inner",style:C,children:u.jsx(Ye,{id:"footer.text",label:"Modifier le texte du pied de page",onEdit:n,className:"block",buttonClassName:"right-0 -top-3",children:u.jsxs("p",{style:H("footer.text"),children:["© ",new Date().getFullYear()," ",e.navigation.brand,"."," ",D("footer.text","span",{style:H("footer.text")},e.footer.text)]})})})})})})]})})},v2="/logo-brand.svg",Kz=Bf,cT=Yn.forwardRef(({pin:e,onPinChange:t,pinLength:n,describedBy:r,disabled:i},s)=>{const l=g=>{e.length<n&&!i&&t(e+g)},d=()=>{e.length>0&&!i&&t(e.slice(0,-1))},f=g=>{if(i)return;const v=g.target.value.replace(/\D/g,"").slice(0,n);t(v)},h=g=>{if(/^\d$/.test(g.key)){g.preventDefault(),l(g.key);return}if(g.key==="Backspace"){g.preventDefault(),d();return}g.key==="Escape"&&(g.preventDefault(),t(""))},p=e.length===0?`Aucun chiffre saisi. Vous pouvez entrer ${n} chiffres.`:`${e.length} ${e.length>1?"chiffres saisis":"chiffre saisi"} sur ${n}.`;return u.jsxs("div",{className:"pin-input","aria-label":"Clavier numérique sécurisé",children:[u.jsx("input",{ref:s,id:"staff-pin-field",type:"password",inputMode:"numeric",autoComplete:"one-time-code",className:"pin-input__field",value:e,onChange:f,onKeyDown:h,"aria-describedby":r,"aria-label":`Code PIN à ${n} chiffres`,disabled:i,"aria-disabled":i,"aria-busy":i}),u.jsx("div",{className:"pin-indicator",role:"presentation",children:Array.from({length:n}).map((g,v)=>u.jsx("div",{className:"pin-indicator__slot","aria-hidden":"true",children:e[v]?"•":""},v))}),u.jsx("div",{className:"pin-input__live","aria-live":"polite",children:p}),u.jsxs("div",{className:"pin-pad",children:[[...Array(9)].map((g,v)=>u.jsx("button",{type:"button",onClick:()=>l(String(v+1)),className:"pin-pad__button",disabled:i,children:v+1},v+1)),u.jsx("div",{"aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>l("0"),className:"pin-pad__button",disabled:i,children:"0"}),u.jsx("button",{type:"button",onClick:d,className:"pin-pad__button pin-pad__button--muted",disabled:i,children:"DEL"})]})]})});cT.displayName="PinInput";const Gz=e=>e===1?"menu-grid menu-grid--single":e===2?"menu-grid menu-grid--double":e===3?"menu-grid menu-grid--triple":e>=6?"menu-grid menu-grid--six":e>0?"menu-grid menu-grid--multi":"menu-grid",Yz=e=>{const t="ui-card menu-card";return e===1?`${t} menu-card--single`:e===2?`${t} menu-card--double`:e===3?`${t} menu-card--triple`:e>=6?`${t} menu-card--compact`:t},Vz=()=>{const[e,t]=x.useState(!1),[n,r]=x.useState(""),[i,s]=x.useState(""),[l,d]=x.useState(!1),f=x.useRef(null),{login:h}=ma(),p=ha(),{content:g}=_u(),[v,b]=x.useState(()=>g);x.useEffect(()=>{g&&b(g)},[g]);const w=v??Kz;rT(w.assets.library);const{navigation:j,hero:S,about:N,menu:O,findUs:A,footer:C}=w,T=j.brandLogo??v2,k=j.brandLogo??v2,M=qr(j.style),D=Hr(j.style),q=mb(S.style,S.backgroundImage),$=Hr(S.style),F=Ri(S.style),H=qr(N.style),re=Hr(N.style),B=qr(O.style),K=Hr(O.style),I=Ri(O.style),Y=qr(A.style),W=Hr(A.style),ue=qr(C.style),ne=Ri(C.style),R=w.elementStyles??{},L={navigation:j.style,hero:S.style,about:N.style,menu:O.style,instagramReviews:w.instagramReviews.style,findUs:A.style,footer:C.style},X=Te=>R[Te],ie=Te=>{const st=Ba(Te);return pb(L[st],X(Te))},se=Te=>{const st=Ba(Te);return iT(L[st],X(Te))},ye=Te=>{const st=Ba(Te);return sT(L[st],X(Te))},je=w.elementRichText??{},fe=Te=>{var cn;const st=je[Te],Ut=(cn=st==null?void 0:st.html)==null?void 0:cn.trim();return Ut&&Ut.length>0?Ut:null},V=(Te,st,Ut,cn)=>{const Dr=fe(Te);return Dr?Yn.createElement(st,{...Ut,dangerouslySetInnerHTML:{__html:Dr}}):Yn.createElement(st,Ut,cn)},[pe,be]=x.useState([]),[le,Ve]=x.useState([]),[Me,Tt]=x.useState(!0),[kt,Ft]=x.useState(!1),[Wn,ge]=x.useState(()=>sl()),We=x.useCallback(async Te=>{d(!0),s("");try{const st=await h(Te),Ut=fb(st)??"/dashboard";t(!1),r(""),p(Ut)}catch(st){console.error("Failed to authenticate with PIN",st);const Ut=st instanceof Error&&st.message?st.message:"PIN invalide";s(Ut),r(""),requestAnimationFrame(()=>{var cn;(cn=f.current)==null||cn.focus()})}finally{d(!1)}},[h,p]);x.useEffect(()=>{if(!e)return;const Te=window.setTimeout(()=>{var st;(st=f.current)==null||st.focus()},0);return()=>window.clearTimeout(Te)},[e]),x.useEffect(()=>{n.length===6&&!l&&We(n)},[n,l,We]),x.useEffect(()=>{if(!(typeof window>"u"))try{const Te=window.localStorage.getItem("customer-order-history");if(!Te)return;const st=JSON.parse(Te);Array.isArray(st)&&Ve(st)}catch(Te){console.error("Could not load order history",Te)}},[]),x.useEffect(()=>{let Te=!0;return(async()=>{try{const Ut=await we.getBestSellerProducts();Te&&be(Ut)}catch(Ut){console.error("Could not load best seller products",Ut)}finally{Te&&Tt(!1)}})(),()=>{Te=!1}},[]);const Ke=A.address.trim(),dt=A.mapUrl,St=typeof dt=="string"?dt.trim():"",Qe=St.length>0,Xn=!Qe&&Ke.length>0?encodeURIComponent(Ke):"",Qr=Qe?St:Xn?`https://www.google.com/maps?q=${Xn}`:"https://www.google.com/maps",Jr=Qe?oT(St,"output","embed"):Xn?`https://www.google.com/maps?q=${Xn}&output=embed`:"about:blank",de=Qe||Xn.length>0,he=Ke.length>0?Ke:A.title,Ee=(Wn==null?void 0:Wn.orderId)??null,Je=pe.slice(0,6),Ze=Je.length,Pt=Gz(Ze),Ie=Yz(Ze),at=Te=>{Te.preventDefault(),n.length===6&&!l&&We(n)},yt=()=>{X0(),ge(null)},Mt=Te=>{localStorage.setItem("customer-order-reorder-id",Te),p("/commande-client")};return u.jsxs("div",{className:"login-page",children:[u.jsx("header",{className:"login-header",style:M,children:u.jsxs("div",{className:"layout-container login-header__inner",style:D,children:[u.jsxs("div",{className:"login-brand",style:D,children:[u.jsx("img",{src:T,alt:`Logo ${j.brand}`,className:"login-brand__logo"}),V("navigation.brand","span",{className:"login-brand__name",style:ie("navigation.brand")},j.brand)]}),u.jsxs("nav",{className:"login-nav","aria-label":"Navigation principale",children:[V("navigation.links.home","a",{href:"#accueil",className:"login-nav__link",style:se("navigation.links.home")},j.links.home),V("navigation.links.about","a",{href:"#apropos",className:"login-nav__link",style:se("navigation.links.about")},j.links.about),V("navigation.links.menu","a",{href:"#menu",className:"login-nav__link",style:se("navigation.links.menu")},j.links.menu),u.jsx("button",{type:"button",onClick:()=>t(!0),className:"login-nav__staff-btn","aria-label":j.links.loginCta,children:u.jsx("img",{src:k,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]}),u.jsx("button",{type:"button",onClick:()=>Ft(!0),className:"login-header__menu","aria-label":"Ouvrir le menu",children:u.jsx(CC,{size:24})})]})}),kt&&u.jsxs("div",{className:"login-menu-overlay",role:"dialog","aria-modal":"true",style:M,children:[u.jsx("button",{type:"button",onClick:()=>Ft(!1),className:"login-menu-overlay__close","aria-label":"Fermer le menu",children:u.jsx(ca,{size:28})}),u.jsxs("nav",{className:"login-menu-overlay__nav","aria-label":"Navigation mobile",style:D,children:[V("navigation.links.home","a",{href:"#accueil",onClick:()=>Ft(!1),className:"login-menu-overlay__link",style:se("navigation.links.home")},j.links.home),V("navigation.links.about","a",{href:"#apropos",onClick:()=>Ft(!1),className:"login-menu-overlay__link",style:se("navigation.links.about")},j.links.about),V("navigation.links.menu","a",{href:"#menu",onClick:()=>Ft(!1),className:"login-menu-overlay__link",style:se("navigation.links.menu")},j.links.menu),u.jsx("button",{type:"button",onClick:()=>{t(!0),Ft(!1)},className:"login-nav__staff-btn login-menu-overlay__staff-btn","aria-label":j.links.loginCta,children:u.jsx("img",{src:k,alt:"",className:"login-brand__logo","aria-hidden":"true"})})]})]}),u.jsxs("main",{children:[u.jsx("section",{id:"accueil",className:"section section-hero",style:{...q,...$},children:u.jsx("div",{className:"section-hero__inner",children:Ee?u.jsx(nT,{orderId:Ee,onNewOrderClick:yt,variant:"hero"}):u.jsxs("div",{className:"hero-content",style:$,children:[V("hero.title","h2",{className:"hero-title",style:ie("hero.title")},S.title),V("hero.subtitle","p",{className:"hero-subtitle",style:se("hero.subtitle")},S.subtitle),u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-accent hero-cta",style:{...se("hero.ctaLabel"),...ye("hero.ctaLabel")},children:V("hero.ctaLabel","span",{className:"inline-flex items-center justify-center",style:se("hero.ctaLabel")},S.ctaLabel)}),le.length>0&&u.jsxs("div",{className:"hero-history",children:[V("hero.historyTitle","p",{className:"hero-history__title",style:se("hero.historyTitle")},S.historyTitle),u.jsx("div",{className:"hero-history__list",children:le.slice(0,3).map(Te=>u.jsxs("div",{className:"hero-history__item",children:[u.jsxs("div",{className:"hero-history__meta",children:[u.jsxs("p",{className:"hero-history__date",style:F,children:["Pedido del ",new Date(Te.date_creation).toLocaleDateString()]}),u.jsxs("p",{className:"hero-history__details",style:F,children:[Te.items.length," article(s) • ",Ce(Te.total)]})]}),u.jsx("button",{type:"button",onClick:()=>Mt(Te.id),className:"hero-history__cta",style:{...se("hero.reorderCtaLabel"),...ye("hero.reorderCtaLabel")},children:V("hero.reorderCtaLabel","span",{className:"inline-flex items-center justify-center",style:se("hero.reorderCtaLabel")},S.reorderCtaLabel)})]},Te.id))})]})]})})}),u.jsx("section",{id:"apropos",className:"section section-surface",style:{...H,...re},children:u.jsxs("div",{className:"section-inner section-inner--center",style:re,children:[V("about.title","h2",{className:"section-title",style:ie("about.title")},N.title),V("about.description","p",{className:"section-text section-text--muted",style:se("about.description")},N.description),N.image&&u.jsx("img",{src:N.image,alt:N.title,className:"mt-6 h-64 w-full rounded-xl object-cover shadow-lg"})]})}),u.jsx("section",{id:"menu",className:"section section-muted",style:{...B,...K},children:u.jsxs("div",{className:"section-inner section-inner--wide section-inner--center",style:K,children:[V("menu.title","h2",{className:"section-title",style:ie("menu.title")},O.title),O.image&&u.jsx("img",{src:O.image,alt:O.title,className:"mb-8 h-64 w-full rounded-xl object-cover shadow-lg"}),Me?V("menu.loadingLabel","p",{className:"section-text section-text--muted",style:se("menu.loadingLabel")},O.loadingLabel):Je.length>0?u.jsx("div",{className:Pt,children:Je.map(Te=>u.jsxs("article",{className:Ie,children:[u.jsx("img",{src:Te.image,alt:Te.nom_produit,className:"menu-card__media"}),u.jsxs("div",{className:"menu-card__body",children:[u.jsx("h3",{className:"menu-card__title",style:K,children:Te.nom_produit}),u.jsx("p",{className:"menu-card__description",style:I,children:Te.description}),u.jsx("p",{className:"menu-card__price",style:I,children:Ce(Te.prix_vente)})]})]},Te.id))}):u.jsx("p",{className:"section-text section-text--muted",style:I,children:"Aucun produit best seller n'est disponible pour le moment."}),u.jsx("div",{className:"section-actions",children:u.jsx("button",{onClick:()=>p("/commande-client"),className:"ui-btn ui-btn-primary hero-cta",style:{...se("menu.ctaLabel"),...ye("menu.ctaLabel")},children:V("menu.ctaLabel","span",{className:"inline-flex items-center justify-center",style:se("menu.ctaLabel")},O.ctaLabel)})})]})}),u.jsx("section",{id:"find-us",className:"section section-surface",style:{...Y,...W},children:u.jsxs("div",{className:"section-inner section-inner--wide find-us-grid",style:W,children:[u.jsxs("div",{className:"find-us-panel",style:W,children:[V("findUs.title","h2",{className:"section-title",style:ie("findUs.title")},A.title),u.jsxs("div",{className:"find-us-details",children:[u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(kh,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[V("findUs.addressLabel","h3",{className:"find-us-detail__title",style:ie("findUs.addressLabel")},A.addressLabel),V("findUs.address","p",{className:"find-us-detail__text",style:se("findUs.address")},A.address)]})]}),u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(Sl,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[V("findUs.hoursLabel","h3",{className:"find-us-detail__title",style:ie("findUs.hoursLabel")},A.hoursLabel),V("findUs.hours","p",{className:"find-us-detail__text",style:se("findUs.hours")},A.hours)]})]}),u.jsxs("div",{className:"find-us-detail",style:W,children:[u.jsx(AC,{className:"find-us-detail__icon","aria-hidden":"true"}),u.jsxs("div",{children:[V("findUs.cityLabel","h3",{className:"find-us-detail__title",style:ie("findUs.cityLabel")},A.cityLabel),V("findUs.city","p",{className:"find-us-detail__text",style:se("findUs.city")},A.city)]})]})]})]}),u.jsx("div",{className:"find-us-map",style:W,children:de?u.jsxs("div",{className:"find-us-map__frame",children:[u.jsx("iframe",{title:`Carte Google Maps pour ${he}`,src:Jr,loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade"}),u.jsx("a",{className:"find-us-map__link",href:Qr,target:"_blank",rel:"noopener noreferrer",children:V("findUs.mapLabel","span",{className:"find-us-map__label",style:se("findUs.mapLabel")},A.mapLabel)})]}):u.jsx("div",{className:"find-us-map__placeholder",children:V("findUs.mapLabel","span",{className:"find-us-map__label",style:se("findUs.mapLabel")},A.mapLabel)})})]})})]}),u.jsx("footer",{className:"site-footer",style:{...ue,...ne},children:u.jsx("div",{className:"layout-container site-footer__inner",style:ne,children:u.jsxs("p",{style:se("footer.text"),children:["© ",new Date().getFullYear()," ",j.brand,"."," ",V("footer.text","span",{style:se("footer.text")},C.text)]})})}),u.jsx(kn,{isOpen:e,onClose:()=>{t(!1),r(""),s("")},title:"Connexion du personnel",size:"lg",children:u.jsx("div",{className:"login-modal",children:u.jsx("form",{onSubmit:at,className:"login-modal__form","aria-describedby":i?"staff-pin-error":void 0,children:u.jsxs("div",{className:"login-modal__panel",children:[u.jsx(cT,{ref:f,pin:n,onPinChange:r,pinLength:6,describedBy:i?"staff-pin-error":void 0,disabled:l}),i&&u.jsx("p",{id:"staff-pin-error",className:"login-modal__error",role:"alert","aria-live":"assertive",children:i})]})})})})]})};function uT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=uT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=uT(e))&&(r&&(r+=" "),r+=t);return r}var Kg={},Gg={},y2;function Wz(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Gg)),Gg}var Yg={},b2;function dT(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Yg)),Yg}var Vg={},x2;function fT(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Vg)),Vg}var Wg={},_2;function gb(){return _2||(_2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,l="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const h=n[s];d?h==="\\"&&s+1<i?(s++,l+=n[s]):h===d?d="":l+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,r.push(l),l=""):l+=h:h==="["?(f=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,s++}return l&&r.push(l),r}e.toPath=t})(Wg)),Wg}var w2;function vb(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wz(),n=dT(),r=fT(),i=gb();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,i.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function l(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}e.get=s})(Kg)),Kg}var Xg,j2;function Xz(){return j2||(j2=1,Xg=vb().get),Xg}var Qz=Xz();const Ls=Vr(Qz);var Qg={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function Jz(){if(S2)return pt;S2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case i:case r:case f:case h:case v:return j;default:switch(j=j&&j.$$typeof,j){case l:case d:case g:case p:return j;case s:return j;default:return S}}case t:return S}}}return pt.ContextConsumer=s,pt.ContextProvider=l,pt.Element=e,pt.ForwardRef=d,pt.Fragment=n,pt.Lazy=g,pt.Memo=p,pt.Portal=t,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=f,pt.SuspenseList=h,pt.isContextConsumer=function(j){return w(j)===s},pt.isContextProvider=function(j){return w(j)===l},pt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},pt.isForwardRef=function(j){return w(j)===d},pt.isFragment=function(j){return w(j)===n},pt.isLazy=function(j){return w(j)===g},pt.isMemo=function(j){return w(j)===p},pt.isPortal=function(j){return w(j)===t},pt.isProfiler=function(j){return w(j)===i},pt.isStrictMode=function(j){return w(j)===r},pt.isSuspense=function(j){return w(j)===f},pt.isSuspenseList=function(j){return w(j)===h},pt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===i||j===r||j===f||j===h||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===p||j.$$typeof===l||j.$$typeof===s||j.$$typeof===d||j.$$typeof===b||j.getModuleId!==void 0)},pt.typeOf=w,pt}var N2;function Zz(){return N2||(N2=1,Qg.exports=Jz()),Qg.exports}var e8=Zz(),mn=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,As=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Oe=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),da=e=>Oe(e)||typeof e=="string",t8=0,ru=e=>{var t=++t8;return"".concat(e||"").concat(t)},Tn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&typeof t!="string")return r;var s;if(As(t)){if(n==null)return r;var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return ur(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},hT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Nn(e,t,n){return Oe(e)&&Oe(t)?e+n*(t-e):t}function n8(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ls(r,t))===n)}var pn=e=>e===null||typeof e>"u",wu=e=>pn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),r8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function yb(e){if(typeof e!="string")return!1;var t=r8;return t.includes(e)}var a8=["viewBox","children"],E2=["points","pathLength"],Jg={svg:a8,polygon:E2,polyline:E2},i8=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{yb(i)&&(r[i]=(s=>n[i](n,s)))}),r},s8=(e,t,n)=>r=>(e(t,n,r),null),ju=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];yb(i)&&typeof s=="function"&&(r||(r={}),r[i]=s8(s,t,n))}),r},o8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mT(e){if(typeof e!="string")return!1;var t=o8;return t.includes(e)}function Hi(e){var t=Object.entries(e).filter(n=>{var[r]=n;return mT(r)});return Object.fromEntries(t)}var O2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",A2=null,Zg=null,pT=e=>{if(e===A2&&Array.isArray(Zg))return Zg;var t=[];return x.Children.forEach(e,n=>{pn(n)||(e8.isFragment(n)?t=t.concat(pT(n.props.children)):t.push(n))}),Zg=t,A2=e,t};function bb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>O2(i)):r=[O2(t)],pT(e).forEach(i=>{var s=Ls(i,"type.displayName")||Ls(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var l8=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=r&&(Jg==null?void 0:Jg[r]))!==null&&i!==void 0?i:[],l=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&s.includes(t)||mT(t)),f=!!n&&yb(t);return l||d||f},an=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var l;l8((l=r)===null||l===void 0?void 0:l[s],s,t,n)&&(i[s]=r[s])}),i},c8=["children","width","height","viewBox","className","style","title","desc"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function u8(e,t){if(e==null)return{};var n,r,i=d8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xb=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:d,title:f,desc:h}=e,p=u8(e,c8),g=s||{width:r,height:i,x:0,y:0},v=ut("recharts-surface",l);return x.createElement("svg",Vy({},an(p,!0,"svg"),{className:v,width:r,height:i,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,f),x.createElement("desc",null,h),n)}),f8=["children","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function h8(e,t){if(e==null)return{};var n,r,i=m8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vn=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=h8(e,f8),s=ut("recharts-layer",r);return x.createElement("g",Wy({className:s},an(i,!0),{ref:t}),n)}),gT=x.createContext(null),p8=()=>x.useContext(gT);function xt(e){return function(){return e}}const vT=Math.cos,Ff=Math.sin,Xr=Math.sqrt,Kf=Math.PI,Rh=2*Kf,Xy=Math.PI,Qy=2*Xy,vs=1e-6,g8=Qy-vs;function yT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function v8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yT;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class y8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yT:v8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,f=r-t,h=i-n,p=l-t,g=d-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>vs)if(!(Math.abs(g*f-h*p)>vs)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,w=i-d,j=f*f+h*h,S=b*b+w*w,N=Math.sqrt(j),O=Math.sqrt(v),A=s*Math.tan((Xy-Math.acos((j+v-S)/(2*N*O)))/2),C=A/O,T=A/N;Math.abs(C-1)>vs&&this._append`L${t+C*p},${n+C*g}`,this._append`A${s},${s},0,0,${+(g*b>p*w)},${this._x1=t+T*f},${this._y1=n+T*h}`}}arc(t,n,r,i,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),f=r*Math.sin(i),h=t+d,p=n+f,g=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>vs||Math.abs(this._y1-p)>vs)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%Qy+Qy),v>g8?this._append`A${r},${r},0,1,${g},${t-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:v>vs&&this._append`A${r},${r},0,${+(v>=Xy)},${g},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _b(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new y8(t)}function wb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dh(e){return new bT(e)}function xT(e){return e[0]}function _T(e){return e[1]}function wT(e,t){var n=xt(!0),r=null,i=Dh,s=null,l=_b(d);e=typeof e=="function"?e:e===void 0?xT:xt(e),t=typeof t=="function"?t:t===void 0?_T:xt(t);function d(f){var h,p=(f=wb(f)).length,g,v=!1,b;for(r==null&&(s=i(b=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,f),+t(g,h,f));if(b)return s=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:xt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:xt(!!f),d):n},d.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),d):i},d.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),d):r},d}function sf(e,t,n){var r=null,i=xt(!0),s=null,l=Dh,d=null,f=_b(h);e=typeof e=="function"?e:e===void 0?xT:xt(+e),t=typeof t=="function"?t:xt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?_T:xt(+n);function h(g){var v,b,w,j=(g=wb(g)).length,S,N=!1,O,A=new Array(j),C=new Array(j);for(s==null&&(d=l(O=f())),v=0;v<=j;++v){if(!(v<j&&i(S=g[v],v,g))===N)if(N=!N)b=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=v-1;w>=b;--w)d.point(A[w],C[w]);d.lineEnd(),d.areaEnd()}N&&(A[v]=+e(S,v,g),C[v]=+t(S,v,g),d.point(r?+r(S,v,g):A[v],n?+n(S,v,g):C[v]))}if(O)return d=null,O+""||null}function p(){return wT().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:xt(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:xt(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:xt(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:xt(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:xt(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:xt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:xt(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(d=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=d=null:d=l(s=g),h):s},h}class jT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function b8(e){return new jT(e,!0)}function x8(e){return new jT(e,!1)}const jb={draw(e,t){const n=Xr(t/Kf);e.moveTo(n,0),e.arc(0,0,n,0,Rh)}},_8={draw(e,t){const n=Xr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ST=Xr(1/3),w8=ST*2,j8={draw(e,t){const n=Xr(t/w8),r=n*ST;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},S8={draw(e,t){const n=Xr(t),r=-n/2;e.rect(r,r,n,n)}},N8=.8908130915292852,NT=Ff(Kf/10)/Ff(7*Kf/10),E8=Ff(Rh/10)*NT,O8=-vT(Rh/10)*NT,A8={draw(e,t){const n=Xr(t*N8),r=E8*n,i=O8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const l=Rh*s/5,d=vT(l),f=Ff(l);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*i,f*r+d*i)}e.closePath()}},ev=Xr(3),C8={draw(e,t){const n=-Xr(t/(ev*3));e.moveTo(0,n*2),e.lineTo(-ev*n,-n),e.lineTo(ev*n,-n),e.closePath()}},Sr=-.5,Nr=Xr(3)/2,Jy=1/Xr(12),T8=(Jy/2+1)*3,k8={draw(e,t){const n=Xr(t/T8),r=n/2,i=n*Jy,s=r,l=n*Jy+n,d=-s,f=l;e.moveTo(r,i),e.lineTo(s,l),e.lineTo(d,f),e.lineTo(Sr*r-Nr*i,Nr*r+Sr*i),e.lineTo(Sr*s-Nr*l,Nr*s+Sr*l),e.lineTo(Sr*d-Nr*f,Nr*d+Sr*f),e.lineTo(Sr*r+Nr*i,Sr*i-Nr*r),e.lineTo(Sr*s+Nr*l,Sr*l-Nr*s),e.lineTo(Sr*d+Nr*f,Sr*f-Nr*d),e.closePath()}};function P8(e,t){let n=null,r=_b(i);e=typeof e=="function"?e:xt(e||jb),t=typeof t=="function"?t:xt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:xt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:xt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Gf(){}function Yf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ET(e){this._context=e}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M8(e){return new ET(e)}function OT(e){this._context=e}OT.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R8(e){return new OT(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D8(e){return new AT(e)}function CT(e){this._context=e}CT.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function I8(e){return new CT(e)}function C2(e){return e<0?-1:1}function T2(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),d=(s*i+l*r)/(r+i);return(C2(s)+C2(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function k2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tv(e,t,n){var r=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-r)/3;e._context.bezierCurveTo(r+d,i+d*t,s-d,l-d*n,s,l)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tv(this,this._t0,k2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tv(this,k2(this,n=T2(this,e,t)),n);break;default:tv(this,this._t0,n=T2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function TT(e){this._context=new kT(e)}(TT.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function kT(e){this._context=e}kT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function L8(e){return new Vf(e)}function U8(e){return new TT(e)}function PT(e){this._context=e}PT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=P2(e),i=P2(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P2(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function $8(e){return new PT(e)}function Ih(e,t){this._context=e,this._t=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function z8(e){return new Ih(e,.5)}function B8(e){return new Ih(e,0)}function q8(e){return new Ih(e,1)}function ll(e,t){if((l=e.length)>1)for(var n=1,r,i,s=e[t[0]],l,d=s.length;n<l;++n)for(i=s,s=e[t[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Zy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function H8(e,t){return e[t]}function F8(e){const t=[];return t.key=e,t}function K8(){var e=xt([]),t=Zy,n=ll,r=H8;function i(s){var l=Array.from(e.apply(this,arguments),F8),d,f=l.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(l[d][h]=[0,+r(g,l[d].key,h,s)]).data=g;for(d=0,p=wb(t(l));d<f;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:xt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:xt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?Zy:typeof s=="function"?s:xt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??ll,i):n},i}function G8(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}ll(e,t)}}function Y8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var l=0,d=0;l<i;++l)d+=e[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}ll(e,t)}}function V8(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var d=0,f=0,h=0;d<l;++d){for(var p=e[t[d]],g=p[r][1]||0,v=p[r-1][1]||0,b=(g-v)/2,w=0;w<d;++w){var j=e[t[w]],S=j[r][1]||0,N=j[r-1][1]||0;b+=S-N}f+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,ll(e,t)}}var W8=["type","size","sizeType"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(r){X8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X8(e,t,n){return(t=Q8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z8(e,t){if(e==null)return{};var n,r,i=eB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MT={symbolCircle:jb,symbolCross:_8,symbolDiamond:j8,symbolSquare:S8,symbolStar:A8,symbolTriangle:C8,symbolWye:k8},tB=Math.PI/180,nB=e=>{var t="symbol".concat(wu(e));return MT[t]||jb},rB=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*tB;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aB=(e,t)=>{MT["symbol".concat(wu(e))]=t},Sb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Z8(e,W8),s=R2(R2({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var d=()=>{var v=nB(l),b=P8().type(v).size(rB(n,r,l));return b()},{className:f,cx:h,cy:p}=s,g=an(s,!0);return h===+h&&p===+p&&n===+n?x.createElement("path",e0({},g,{className:ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Sb.registerSymbol=aB;function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(r){Nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nb(e,t,n){return(t=sB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sB(e){var t=oB(e,"string");return typeof t=="symbol"?t:t+""}function oB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Er=32;class Eb extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Er/2,s=Er/6,l=Er/3,d=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Er,y2:i,className:"recharts-legend-icon"});if(f==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Er,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return x.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Er/8,"h").concat(Er,"v").concat(Er*3/4,"h").concat(-Er,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var h=iB({},t);return delete h.legendIcon,x.cloneElement(t.legendIcon,h)}return x.createElement(Sb,{fill:d,cx:i,cy:i,size:Er,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=this.props,d={x:0,y:0,width:Er,height:Er},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var v=p.formatter||i,b=ut({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var w=p.inactive?s:p.color,j=v?v(p.value,p,g):p.value;return x.createElement("li",t0({className:b,style:f,key:"legend-item-".concat(g)},ju(this.props,p,g)),x.createElement(xb,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(j," legend icon")},this.renderIcon(p,l)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},j))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Nb(Eb,"displayName","Legend");Nb(Eb,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var nv={},rv={},I2;function lB(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t})(rv)),rv}var av={},L2;function RT(){return L2||(L2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(av)),av}var iv={},sv={},ov={},U2;function cB(){return U2||(U2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ov)),ov}var $2;function Ob(){return $2||($2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cB();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(sv)),sv}var lv={},z2;function uB(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(lv)),lv}var B2;function dB(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob(),n=uB();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(iv)),iv}var cv={},uv={},q2;function fB(){return q2||(q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(uv)),uv}var dv={},fv={},hv={},mv={},H2;function DT(){return H2||(H2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(mv)),mv}var pv={},F2;function IT(){return F2||(F2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(pv)),pv}var gv={},K2;function LT(){return K2||(K2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(gv)),gv}var G2;function hB(){return G2||(G2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab(),n=DT(),r=IT(),i=LT();function s(g,v,b){return typeof b!="function"?t.isMatch(g,v):l(g,v,function w(j,S,N,O,A,C){const T=b(j,S,N,O,A,C);return T!==void 0?!!T:l(j,S,w,C)},new Map)}function l(g,v,b,w){if(v===g)return!0;switch(typeof v){case"object":return d(g,v,b,w);case"function":return Object.keys(v).length>0?l(g,{...v},b,w):i.eq(g,v);default:return n.isObject(g)?typeof v=="string"?v==="":!0:i.eq(g,v)}}function d(g,v,b,w){if(v==null)return!0;if(Array.isArray(v))return h(g,v,b,w);if(v instanceof Map)return f(g,v,b,w);if(v instanceof Set)return p(g,v,b,w);const j=Object.keys(v);if(g==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(v))return w.get(v)===g;w&&w.set(v,g);try{for(let S=0;S<j.length;S++){const N=j[S];if(!r.isPrimitive(g)&&!(N in g)||v[N]===void 0&&g[N]!==void 0||v[N]===null&&g[N]!==null||!b(g[N],v[N],N,g,v,w))return!1}return!0}finally{w&&w.delete(v)}}function f(g,v,b,w){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[j,S]of v.entries()){const N=g.get(j);if(b(N,S,j,g,v,w)===!1)return!1}return!0}function h(g,v,b,w){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const j=new Set;for(let S=0;S<v.length;S++){const N=v[S];let O=!1;for(let A=0;A<g.length;A++){if(j.has(A))continue;const C=g[A];let T=!1;if(b(C,N,S,g,v,w)&&(T=!0),T){j.add(A),O=!0;break}}if(!O)return!1}return!0}function p(g,v,b,w){return v.size===0?!0:g instanceof Set?h([...g],[...v],b,w):!1}e.isMatchWith=s,e.isSetMatch=p})(hv)),hv}var Y2;function Ab(){return Y2||(Y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hB();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(fv)),fv}var vv={},yv={},bv={},V2;function mB(){return V2||(V2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(bv)),bv}var xv={},W2;function UT(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(xv)),xv}var _v={},X2;function $T(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",b="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",D="[object BigInt64Array]",q="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=C,e.booleanTag=i,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=$,e.functionTag=g,e.int16ArrayTag=k,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=f,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=N})(_v)),_v}var wv={},Q2;function pB(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(wv)),wv}var J2;function zT(){return J2||(J2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mB(),n=UT(),r=$T(),i=IT(),s=pB();function l(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,b=new Map,w=void 0){const j=w==null?void 0:w(p,g,v,b);if(j!==void 0)return j;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const S=new Array(p.length);b.set(p,S);for(let N=0;N<p.length;N++)S[N]=d(p[N],N,v,b,w);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;b.set(p,S);for(const[N,O]of p)S.set(N,d(O,N,v,b,w));return S}if(p instanceof Set){const S=new Set;b.set(p,S);for(const N of p)S.add(d(N,void 0,v,b,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,S);for(let N=0;N<p.length;N++)S[N]=d(p[N],N,v,b,w);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,S),f(S,p,v,b,w),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return b.set(p,S),f(S,p,v,b,w),S}if(p instanceof Blob){const S=new Blob([p],{type:p.type});return b.set(p,S),f(S,p,v,b,w),S}if(p instanceof Error){const S=new p.constructor;return b.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,f(S,p,v,b,w),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return b.set(p,S),f(S,p,v,b,w),S}return p}function f(p,g,v=p,b,w){const j=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<j.length;S++){const N=j[S],O=Object.getOwnPropertyDescriptor(p,N);(O==null||O.writable)&&(p[N]=d(g[N],N,v,b,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=f})(yv)),yv}var Z2;function gB(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(vv)),vv}var eN;function vB(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab(),n=gB();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(dv)),dv}var jv={},Sv={},Nv={},tN;function yB(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),n=$T();function r(i,s){return t.cloneDeepWith(i,(l,d,f,h)=>{const p=s==null?void 0:s(l,d,f,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Nv)),Nv}var nN;function bB(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yB();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Sv)),Sv}var Ev={},Ov={},rN;function BT(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ov)),Ov}var Av={},aN;function xB(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Av)),Av}var iN;function _B(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT(),n=BT(),r=xB(),i=gb();function s(l,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?f=i.toPath(d):f=[d],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(Ev)),Ev}var sN;function wB(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab(),n=fT(),r=bB(),i=vb(),s=_B();function l(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(jv)),jv}var oN;function jB(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT(),n=fB(),r=vB(),i=wB();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=s})(cv)),cv}var lN;function SB(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lB(),n=RT(),r=dB(),i=jB();function s(l,d=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(d)):[]}e.uniqBy=s})(nv)),nv}var Cv,cN;function NB(){return cN||(cN=1,Cv=SB().uniqBy),Cv}var EB=NB();const uN=Vr(EB);function qT(e,t,n){return t===!0?uN(e,n):typeof t=="function"?uN(e,t):e}var Tv={exports:{}},kv={},Pv={exports:{}},Mv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN;function OB(){if(dN)return Mv;dN=1;var e=bl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(g,v){var b=v(),w=r({inst:{value:b,getSnapshot:v}}),j=w[0].inst,S=w[1];return s(function(){j.value=b,j.getSnapshot=v,f(j)&&S({inst:j})},[g,b,v]),i(function(){return f(j)&&S({inst:j}),g(function(){f(j)&&S({inst:j})})},[g]),l(b),b}function f(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!n(g,b)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Mv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Mv}var fN;function AB(){return fN||(fN=1,Pv.exports=OB()),Pv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function CB(){if(hN)return kv;hN=1;var e=bl(),t=AB();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,f=e.useDebugValue;return kv.useSyncExternalStoreWithSelector=function(h,p,g,v,b){var w=s(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function N(k){if(!O){if(O=!0,A=k,k=v(k),b!==void 0&&j.hasValue){var M=j.value;if(b(M,k))return C=M}return C=k}if(M=C,r(A,k))return M;var D=v(k);return b!==void 0&&b(M,D)?(A=k,M):(A=k,C=D)}var O=!1,A,C,T=g===void 0?null:g;return[function(){return N(p())},T===null?void 0:function(){return N(T())}]},[p,g,v,b]);var S=i(h,w[0],w[1]);return l(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},kv}var mN;function TB(){return mN||(mN=1,Tv.exports=CB()),Tv.exports}var kB=TB(),Cb=x.createContext(null),PB=e=>e,Dt=()=>{var e=x.useContext(Cb);return e?e.store.dispatch:PB},Tf=()=>{},MB=()=>Tf,RB=(e,t)=>e===t;function Ne(e){var t=x.useContext(Cb);return kB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:MB,t?t.store.getState:Tf,t?t.store.getState:Tf,t?e:Tf,RB)}function DB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function IB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function LB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var pN=e=>Array.isArray(e)?e:[e];function UB(e){const t=Array.isArray(e[0])?e[0]:e;return LB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $B(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var zB=class{constructor(e){this.value=e}deref(){return this.value}},BB=typeof WeakRef<"u"?WeakRef:zB,qB=0,gN=1;function of(){return{s:qB,v:void 0,o:null,p:null}}function HT(e,t={}){let n=of();const{resultEqualityCheck:r}=t;let i,s=0;function l(){var g;let d=n;const{length:f}=arguments;for(let v=0,b=f;v<b;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=of(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=of(),j.set(w,d)):d=S}}const h=d;let p;if(d.s===gN)p=d.v;else if(p=e.apply(null,arguments),s++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new BB(p):p}return h.s=gN,h.v=p,p}return l.clearCache=()=>{n=of(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function HB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,l=0,d,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),DB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:b=HT,argsMemoizeOptions:w=[]}=p,j=pN(v),S=pN(w),N=UB(i),O=g(function(){return s++,h.apply(null,arguments)},...j),A=b(function(){l++;const T=$B(N,arguments);return d=O.apply(null,T),d},...S);return Object.assign(A,{resultFunc:h,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ee=HB(HT),FB=Object.assign((e,t=ee)=>{IB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((l,d,f)=>(l[n[f]]=d,l),{}))},{withTypes:()=>FB}),Rv={},Dv={},Iv={},vN;function KB(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=t(r),d=t(i);if(l===d&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=n})(Iv)),Iv}var Lv={},Uv={},yN;function FT(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Uv)),Uv}var bN;function GB(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Lv)),Lv}var xN;function YB(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KB(),n=GB(),r=gb();function i(s,l,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const h=(b,w)=>{let j=b;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},p=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:h(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?h(w,b):typeof w=="object"?w[b]:w,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:g.map(w=>p(w,b))})).slice().sort((b,w)=>{for(let j=0;j<g.length;j++){const S=t.compareValues(b.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=i})(Dv)),Dv}var $v={},_N;function VB(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),l=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(n,0),i}e.flatten=t})($v)),$v}var zv={},wN;function KT(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),n=Ob(),r=DT(),i=LT();function s(l,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?i.eq(f[d],l):!1}e.isIterateeCall=s})(zv)),zv}var jN;function WB(){return jN||(jN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YB(),n=VB(),r=KT();function i(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,n.flatten(l),["asc"])}e.sortBy=i})(Rv)),Rv}var Bv,SN;function XB(){return SN||(SN=1,Bv=WB().sortBy),Bv}var QB=XB();const Lh=Vr(QB);var GT=e=>e.legend.settings,JB=e=>e.legend.size,ZB=e=>e.legend.payload,eq=ee([ZB,GT],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Lh(r,n):r});function tq(){return Ne(eq)}var lf=1;function YT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>lf||Math.abs(l.left-t.left)>lf||Math.abs(l.top-t.top)>lf||Math.abs(l.width-t.width)>lf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function jn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nq=typeof Symbol=="function"&&Symbol.observable||"@@observable",NN=nq,qv=()=>Math.random().toString(36).substring(7).split("").join("."),rq={INIT:`@@redux/INIT${qv()}`,REPLACE:`@@redux/REPLACE${qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qv()}`},Wf=rq;function Tb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VT(e,t,n){if(typeof e!="function")throw new Error(jn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jn(1));return n(VT)(e,t)}let r=e,i=t,s=new Map,l=s,d=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((S,N)=>{l.set(N,S)}))}function p(){if(f)throw new Error(jn(3));return i}function g(S){if(typeof S!="function")throw new Error(jn(4));if(f)throw new Error(jn(5));let N=!0;h();const O=d++;return l.set(O,S),function(){if(N){if(f)throw new Error(jn(6));N=!1,h(),l.delete(O),s=null}}}function v(S){if(!Tb(S))throw new Error(jn(7));if(typeof S.type>"u")throw new Error(jn(8));if(typeof S.type!="string")throw new Error(jn(17));if(f)throw new Error(jn(9));try{f=!0,i=r(i,S)}finally{f=!1}return(s=l).forEach(O=>{O()}),S}function b(S){if(typeof S!="function")throw new Error(jn(10));r=S,v({type:Wf.REPLACE})}function w(){const S=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(jn(11));function O(){const C=N;C.next&&C.next(p())}return O(),{unsubscribe:S(O)}},[NN](){return this}}}return v({type:Wf.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:b,[NN]:w}}function aq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wf.INIT})>"u")throw new Error(jn(12));if(typeof n(void 0,{type:Wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jn(13))})}function WT(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{aq(n)}catch(s){i=s}return function(l={},d){if(i)throw i;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],b=l[g],w=v(b,d);if(typeof w>"u")throw d&&d.type,new Error(jn(14));h[g]=w,f=f||w!==b}return f=f||r.length!==Object.keys(l).length,f?h:l}}function Xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iq(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(jn(15))};const l={getState:i.getState,dispatch:(f,...h)=>s(f,...h)},d=e.map(f=>f(l));return s=Xf(...d)(i.dispatch),{...i,dispatch:s}}}function XT(e){return Tb(e)&&"type"in e&&typeof e.type=="string"}var QT=Symbol.for("immer-nothing"),EN=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cl=Object.getPrototypeOf;function Us(e){return!!e&&!!e[dr]}function Ga(e){var t;return e?JT(e)||Array.isArray(e)||!!e[EN]||!!((t=e.constructor)!=null&&t[EN])||Su(e)||$h(e):!1}var sq=Object.prototype.constructor.toString();function JT(e){if(!e||typeof e!="object")return!1;const t=cl(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sq}function Qf(e,t){Uh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Uh(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:Su(e)?2:$h(e)?3:0}function n0(e,t){return Uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ZT(e,t,n){const r=Uh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function oq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Su(e){return e instanceof Map}function $h(e){return e instanceof Set}function ys(e){return e.copy_||e.base_}function r0(e,t){if(Su(e))return new Map(e);if($h(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=JT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[dr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(cl(e),r)}else{const r=cl(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kb(e,t=!1){return zh(e)||Us(e)||!Ga(e)||(Uh(e)>1&&Object.defineProperties(e,{set:{value:cf},add:{value:cf},clear:{value:cf},delete:{value:cf}}),Object.freeze(e),t&&Object.values(e).forEach(n=>kb(n,!0))),e}function cf(){Fr(2)}function zh(e){return Object.isFrozen(e)}var lq={};function $s(e){const t=lq[e];return t||Fr(0,e),t}var au;function ek(){return au}function cq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ON(e,t){t&&($s("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function a0(e){i0(e),e.drafts_.forEach(uq),e.drafts_=null}function i0(e){e===au&&(au=e.parent_)}function AN(e){return au=cq(au,e)}function uq(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[dr].modified_&&(a0(t),Fr(4)),Ga(e)&&(e=Jf(t,e),t.parent_||Zf(t,e)),t.patches_&&$s("Patches").generateReplacementPatches_(n[dr].base_,e,t.patches_,t.inversePatches_)):e=Jf(t,n,[]),a0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==QT?e:void 0}function Jf(e,t,n){if(zh(t))return t;const r=t[dr];if(!r)return Qf(t,(i,s)=>TN(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Zf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,l=!1;r.type_===3&&(s=new Set(i),i.clear(),l=!0),Qf(s,(d,f)=>TN(e,r,i,d,f,n,l)),Zf(e,i,!1),n&&e.patches_&&$s("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function TN(e,t,n,r,i,s,l){if(Us(i)){const d=s&&t&&t.type_!==3&&!n0(t.assigned_,r)?s.concat(r):void 0,f=Jf(e,i,d);if(ZT(n,r,f),Us(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ga(i)&&!zh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Su(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zf(e,i)}}function Zf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kb(t,n)}function dq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ek(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Pb;n&&(i=[r],s=iu);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,d}var Pb={get(e,t){if(t===dr)return e;const n=ys(e);if(!n0(n,t))return fq(e,n,t);const r=n[t];return e.finalized_||!Ga(r)?r:r===Hv(e.base_,t)?(Fv(e),e.copy_[t]=o0(r,e)):r},has(e,t){return t in ys(e)},ownKeys(e){return Reflect.ownKeys(ys(e))},set(e,t,n){const r=tk(ys(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Hv(ys(e),t),s=i==null?void 0:i[dr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(oq(n,i)&&(n!==void 0||n0(e.base_,t)))return!0;Fv(e),s0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Hv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fv(e),s0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Fr(11)},getPrototypeOf(e){return cl(e.base_)},setPrototypeOf(){Fr(12)}},iu={};Qf(Pb,(e,t)=>{iu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});iu.deleteProperty=function(e,t){return iu.set.call(this,e,t,void 0)};iu.set=function(e,t,n){return Pb.set.call(this,e[0],t,n,e[0])};function Hv(e,t){const n=e[dr];return(n?ys(n):e)[t]}function fq(e,t,n){var i;const r=tk(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function tk(e,t){if(!(t in e))return;let n=cl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=cl(n)}}function s0(e){e.modified_||(e.modified_=!0,e.parent_&&s0(e.parent_))}function Fv(e){e.copy_||(e.copy_=r0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Fr(6),r!==void 0&&typeof r!="function"&&Fr(7);let i;if(Ga(t)){const s=AN(this),l=o0(t,void 0);let d=!0;try{i=n(l),d=!1}finally{d?a0(s):i0(s)}return ON(s,r),CN(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===QT&&(i=void 0),this.autoFreeze_&&kb(i,!0),r){const s=[],l=[];$s("Patches").generateReplacementPatches_(t,i,s,l),r(s,l)}return i}else Fr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,f=>t(f,...d));let r,i;return[this.produce(t,n,(l,d)=>{r=l,i=d}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||Fr(8),Us(e)&&(e=qa(e));const t=AN(this),n=o0(e,void 0);return n[dr].isManual_=!0,i0(t),n}finishDraft(e,t){const n=e&&e[dr];(!n||!n.isManual_)&&Fr(9);const{scope_:r}=n;return ON(r,t),CN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=$s("Patches").applyPatches_;return Us(e)?r(e,t):this.produce(e,i=>r(i,t))}};function o0(e,t){const n=Su(e)?$s("MapSet").proxyMap_(e,t):$h(e)?$s("MapSet").proxySet_(e,t):dq(e,t);return(t?t.scope_:ek()).drafts_.push(n),n}function qa(e){return Us(e)||Fr(10,e),nk(e)}function nk(e){if(!Ga(e)||zh(e))return e;const t=e[dr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=r0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=r0(e,!0);return Qf(n,(r,i)=>{ZT(n,r,nk(i))}),t&&(t.finalized_=!1),n}var mq=new hq,rk=mq.produce;function ak(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var pq=ak(),gq=ak,vq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)};function Tr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(cr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>XT(r)&&r.type===e,n}var ik=class $c extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$c.prototype)}static get[Symbol.species](){return $c}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $c(...t[0].concat(this)):new $c(...t.concat(this))}};function kN(e){return Ga(e)?rk(e,()=>{}):e}function uf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function yq(e){return typeof e=="boolean"}var bq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new ik;return n&&(yq(n)?l.push(pq):l.push(gq(n.extraArgument))),l},xq="RTK_autoBatch",PN=e=>t=>{setTimeout(t,e)},_q=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,l=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PN(10):e.type==="callback"?e.queueNotification:PN(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[xq]),s=!i,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{i=!0}}})},wq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new ik(e);return r&&i.push(_q(typeof r=="object"?r:void 0)),i};function jq(e){const t=bq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Tb(n))d=WT(n);else throw new Error(cr(1));let f;typeof r=="function"?f=r(t):f=t();let h=Xf;i&&(h=vq({trace:!1,...typeof i=="object"&&i}));const p=iq(...f),g=wq(p);let v=typeof l=="function"?l(g):g();const b=h(...v);return VT(d,s,b)}function sk(e){const t={},n=[];let r;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(cr(28));if(d in t)throw new Error(cr(29));return t[d]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Sq(e){return typeof e=="function"}function Nq(e,t){let[n,r,i]=sk(t),s;if(Sq(e))s=()=>kN(e());else{const d=kN(e);s=()=>d}function l(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Us(p)){const b=g(p,f);return b===void 0?p:b}else{if(Ga(p))return rk(p,v=>g(v,f));{const v=g(p,f);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return l.getInitialState=s,l}var Eq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Oq=(e=21)=>{let t="",n=e;for(;n--;)t+=Eq[Math.random()*64|0];return t},Aq=Symbol.for("rtk-slice-createasyncthunk");function Cq(e,t){return`${e}/${t}`}function Tq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Aq];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(cr(11));const d=(typeof i.reducers=="function"?i.reducers(Pq()):i.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,T){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(cr(12));if(k in h.sliceCaseReducersByType)throw new Error(cr(13));return h.sliceCaseReducersByType[k]=T,p},addMatcher(C,T){return h.sliceMatchers.push({matcher:C,reducer:T}),p},exposeAction(C,T){return h.actionCreators[C]=T,p},exposeCaseReducer(C,T){return h.sliceCaseReducersByName[C]=T,p}};f.forEach(C=>{const T=d[C],k={reducerName:C,type:Cq(s,C),createNotation:typeof i.reducers=="function"};Rq(T)?Iq(k,T,p,t):Mq(k,T,p)});function g(){const[C={},T=[],k=void 0]=typeof i.extraReducers=="function"?sk(i.extraReducers):[i.extraReducers],M={...C,...h.sliceCaseReducersByType};return Nq(i.initialState,D=>{for(let q in M)D.addCase(q,M[q]);for(let q of h.sliceMatchers)D.addMatcher(q.matcher,q.reducer);for(let q of T)D.addMatcher(q.matcher,q.reducer);k&&D.addDefaultCase(k)})}const v=C=>C,b=new Map,w=new WeakMap;let j;function S(C,T){return j||(j=g()),j(C,T)}function N(){return j||(j=g()),j.getInitialState()}function O(C,T=!1){function k(D){let q=D[C];return typeof q>"u"&&T&&(q=uf(w,k,N)),q}function M(D=v){const q=uf(b,T,()=>new WeakMap);return uf(q,D,()=>{const $={};for(const[F,H]of Object.entries(i.selectors??{}))$[F]=kq(H,D,()=>uf(w,D,N),T);return $})}return{reducerPath:C,getSelectors:M,get selectors(){return M(k)},selectSlice:k}}const A={name:s,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...O(l),injectInto(C,{reducerPath:T,...k}={}){const M=T??l;return C.inject({reducerPath:M,reducer:S},k),{...A,...O(M,!0)}}};return A}}function kq(e,t,n,r){function i(s,...l){let d=t(s);return typeof d>"u"&&r&&(d=n()),e(d,...l)}return i.unwrapped=e,i}var hr=Tq();function Pq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Mq({type:e,reducerName:t,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Dq(r))throw new Error(cr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Tr(e,l):Tr(e))}function Rq(e){return e._reducerDefinitionType==="asyncThunk"}function Dq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Iq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(cr(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:f,settled:h,options:p}=n,g=i(e,s,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||df,pending:d||df,rejected:f||df,settled:h||df})}function df(){}var Lq="task",ok="listener",lk="completed",Mb="cancelled",Uq=`task-${Mb}`,$q=`task-${lk}`,l0=`${ok}-${Mb}`,zq=`${ok}-${lk}`,Bh=class{constructor(e){Eg(this,"name","TaskAbortError");Eg(this,"message");this.code=e,this.message=`${Lq} ${Mb} (reason: ${e})`}},Rb=(e,t)=>{if(typeof e!="function")throw new TypeError(cr(32))},eh=()=>{},ck=(e,t=eh)=>(e.catch(t),e),uk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ms=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Rs=e=>{if(e.aborted){const{reason:t}=e;throw new Bh(t)}};function dk(e,t){let n=eh;return new Promise((r,i)=>{const s=()=>i(new Bh(e.reason));if(e.aborted){s();return}n=uk(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=eh})}var Bq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Bh?"cancelled":"rejected",error:n}}finally{t==null||t()}},th=e=>t=>ck(dk(e,t).then(n=>(Rs(e),n))),fk=e=>{const t=th(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:al}=Object,MN={},qh="listenerMiddleware",qq=(e,t)=>{const n=r=>uk(e,()=>Ms(r,e.reason));return(r,i)=>{Rb(r);const s=new AbortController;n(s);const l=Bq(async()=>{Rs(e),Rs(s.signal);const d=await r({pause:th(s.signal),delay:fk(s.signal),signal:s.signal});return Rs(s.signal),d},()=>Ms(s,$q));return i!=null&&i.autoJoin&&t.push(l.catch(eh)),{result:th(e)(l),cancel(){Ms(s,Uq)}}}},Hq=(e,t)=>{const n=async(r,i)=>{Rs(t);let s=()=>{};const d=[new Promise((f,h)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await dk(t,Promise.race(d));return Rs(t),f}finally{s()}};return(r,i)=>ck(n(r,i))},hk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Tr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(cr(21));return Rb(s),{predicate:i,type:t,effect:s}},mk=al(e=>{const{type:t,predicate:n,effect:r}=hk(e);return{id:Oq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>mk}),RN=(e,t)=>{const{type:n,effect:r,predicate:i}=hk(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},c0=e=>{e.pending.forEach(t=>{Ms(t,l0)})},Fq=e=>()=>{e.forEach(c0),e.clear()},DN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},pk=al(Tr(`${qh}/add`),{withTypes:()=>pk}),Kq=Tr(`${qh}/removeAll`),gk=al(Tr(`${qh}/remove`),{withTypes:()=>gk}),Gq=(...e)=>{console.error(`${qh}/error`,...e)},Nu=(e={})=>{const t=new Map,{extra:n,onError:r=Gq}=e;Rb(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&c0(p)}),s=p=>{const g=RN(t,p)??mk(p);return i(g)};al(s,{withTypes:()=>s});const l=p=>{const g=RN(t,p);return g&&(g.unsubscribe(),p.cancelActive&&c0(g)),!!g};al(l,{withTypes:()=>l});const d=async(p,g,v,b)=>{const w=new AbortController,j=Hq(s,w.signal),S=[];try{p.pending.add(w),await Promise.resolve(p.effect(g,al({},v,{getOriginalState:b,condition:(N,O)=>j(N,O).then(Boolean),take:j,delay:fk(w.signal),pause:th(w.signal),extra:n,signal:w.signal,fork:qq(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,O,A)=>{N!==w&&(Ms(N,l0),A.delete(N))})},cancel:()=>{Ms(w,l0),p.pending.delete(w)},throwIfCancelled:()=>{Rs(w.signal)}})))}catch(N){N instanceof Bh||DN(r,N,{raisedBy:"effect"})}finally{await Promise.all(S),Ms(w,zq),p.pending.delete(w)}},f=Fq(t);return{middleware:p=>g=>v=>{if(!XT(v))return g(v);if(pk.match(v))return s(v.payload);if(Kq.match(v)){f();return}if(gk.match(v))return l(v.payload);let b=p.getState();const w=()=>{if(b===MN)throw new Error(cr(23));return b};let j;try{if(j=g(v),t.size>0){const S=p.getState(),N=Array.from(t.values());for(const O of N){let A=!1;try{A=O.predicate(v,S,b)}catch(C){A=!1,DN(r,C,{raisedBy:"predicate"})}A&&d(O,v,p,w)}}}finally{b=MN}return j},startListening:s,stopListening:l,clearListeners:f}};function cr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Yq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vk=hr({name:"chartLayout",initialState:Yq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Vq,setLayout:Wq,setChartSize:Xq,setScale:Qq}=vk.actions,Jq=vk.reducer;function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){Zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zq(e,t,n){return(t=e7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh=Math.PI/180,n7=e=>e*180/Math.PI,Jt=(e,t,n,r)=>({x:e+Math.cos(-nh*r)*n,y:t+Math.sin(-nh*r)*n}),yk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},r7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},a7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,l=r7({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:l,angle:n7(f),angleInRadian:f}},i7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},s7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return e+l*360},o7=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=a7({x:n,y:r},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:f,endAngle:h}=i7(t),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?LN(LN({},t),{},{radius:i,angle:s7(p,t)}):null};function bk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){l7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l7(e,t,n){return(t=c7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e,t,n){return pn(e)||pn(t)?n:da(t)?Ls(e,t,n):typeof t=="function"?t(e):n}var d7=(e,t,n,r,i)=>{var s,l=-1,d=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(mn(p-h)!==mn(g-p)){var b=[];if(mn(g-p)===mn(i[1]-i[0])){v=g;var w=p+i[1]-i[0];b[0]=Math.min(w,(w+h)/2),b[1]=Math.max(w,(w+h)/2)}else{v=h;var j=g+i[1]-i[0];b[0]=Math.min(p,(j+p)/2),b[1]=Math.max(p,(j+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:l}=n[f]);break}}else{var N=Math.min(h,g),O=Math.max(h,g);if(e>(N+p)/2&&e<=(O+p)/2){({index:l}=n[f]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:l}=t[A]);break}}return l},f7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&Oe(e[s]))return Ar(Ar({},e),{},{[s]:e[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&Oe(e[l]))return Ar(Ar({},e),{},{[l]:e[l]+(i||0)})}return e},Ks=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xk=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var i,s,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||l.push(t),s||l.push(n),l},_k=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:b}=e;if(!l)return null;var w=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,j=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(j=b==="angleAxis"&&s&&s.length>=2?mn(s[0]-s[1])*2*j:j,g||v){var S=(g||v||[]).map((N,O)=>{var A=r?r.indexOf(N):N;return{coordinate:l(A)+j,value:N,offset:j,index:O}});return S.filter(N=>!ur(N.coordinate))}return f&&h?h.map((N,O)=>({coordinate:l(N)+j,value:N,index:O,offset:j})):l.ticks&&p!=null?l.ticks(p).map((N,O)=>({coordinate:l(N)+j,value:N,offset:j,index:O})):l.domain().map((N,O)=>({coordinate:l(N)+j,value:r?r[N]:N,index:O,offset:j}))},$N=1e-4,h7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$N,s=Math.max(r[0],r[1])+$N,l=e(t[0]),d=e(t[n-1]);(l<i||l>s||d<i||d>s)&&e.domain([t[0],t[n-1]])}},m7=(e,t)=>{if(!t||t.length!==2||!Oe(t[0])||!Oe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Oe(e[0])||e[0]<n)&&(i[0]=n),(!Oe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},p7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,l=0;l<t;++l){var d=ur(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=i,e[l][n][1]=i+d,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+d,s=e[l][n][1])}},g7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var l=ur(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},v7={sign:p7,expand:G8,none:ll,silhouette:Y8,wiggle:V8,positive:g7},y7=(e,t,n)=>{var r=v7[n],i=K8().keys(t).value((s,l)=>+Rt(s,l,0)).order(Zy).offset(r);return i(e)};function b7(e){return e==null?void 0:String(e)}var zN=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var d=Rt(s,t.dataKey,t.scale.domain()[l]);return pn(d)?null:t.scale(d)-i/2+r},x7=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},_7=e=>{var t=e.flat(2).filter(Oe);return[Math.min(...t),Math.max(...t)]},w7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],j7=(e,t,n)=>{if(e!=null)return w7(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:l}=s,d=l.reduce((f,h)=>{var p=bk(h,t,n),g=_7(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},BN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Db=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Lh(t,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var f=i[l],h=i[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function HN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Ar(Ar({},t),{},{dataKey:n,payload:r,value:i,name:s})}function Hh(e,t){if(e)return String(e);if(typeof t=="string")return t}function S7(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?o7({x:e,y:t},r):null}var N7=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:l}=r;return Ar(Ar(Ar({},r),Jt(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:f}=r;return Ar(Ar(Ar({},r),Jt(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},E7=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Xa=e=>e.layout.width,Qa=e=>e.layout.height,O7=e=>e.layout.scale,wk=e=>e.layout.margin,Fh=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kh=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),jk="data-recharts-item-index",Sk="data-recharts-item-data-key",Eu=60;function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){A7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A7(e,t,n){return(t=C7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k7=e=>e.brush.height;function P7(e){var t=Kh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eu;return n+i}return n},0)}function M7(e){var t=Kh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eu;return n+i}return n},0)}function R7(e){var t=Fh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function D7(e){var t=Fh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var sn=ee([Xa,Qa,wk,k7,P7,M7,R7,D7,GT,JB],(e,t,n,r,i,s,l,d,f,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+d},v=ff(ff({},g),p),b=v.bottom;v.bottom+=r,v=f7(v,f,h);var w=e-v.left-v.right,j=t-v.top-v.bottom;return ff(ff({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(j,0)})}),I7=ee(sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ib=ee(Xa,Qa,(e,t)=>({x:0,y:0,width:e,height:t})),L7=x.createContext(null),Mr=()=>x.useContext(L7)!=null,Gh=e=>e.brush,Yh=ee([Gh,sn,wk],(e,t,n)=>({height:e.height,x:Oe(e.x)?e.x:t.left,y:Oe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Oe(e.width)?e.width:t.width})),Lb=()=>{var e,t=Mr(),n=Ne(I7),r=Ne(Yh),i=(e=Ne(Gh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},U7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nk=()=>{var e;return(e=Ne(sn))!==null&&e!==void 0?e:U7},Ub=()=>Ne(Xa),$b=()=>Ne(Qa),$7=()=>Ne(e=>e.layout.margin),rt=e=>e.layout.layoutType,zb=()=>Ne(rt),z7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ek=hr({name:"legend",initialState:z7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=qa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:KN,setLegendSettings:B7,addLegendPayload:Ok,removeLegendPayload:Ak}=Ek.actions,q7=Ek.reducer,H7=["contextPayload"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){Bb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bb(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7(e,t){if(e==null)return{};var n,r,i=Y7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function V7(e){return e.value}function W7(e){var{contextPayload:t}=e,n=G7(e,H7),r=qT(t,e.payloadUniqBy,V7),i=ul(ul({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(Eb,i)}function X7(e,t,n,r,i,s){var{layout:l,align:d,verticalAlign:f}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ul(ul({},h),p)}function Q7(e){var t=Dt();return x.useEffect(()=>{t(B7(e))},[t,e]),null}function J7(e){var t=Dt();return x.useEffect(()=>(t(KN(e)),()=>{t(KN({width:0,height:0}))}),[t,e]),null}function Z7(e){var t=tq(),n=p8(),r=$7(),{width:i,height:s,wrapperStyle:l,portal:d}=e,[f,h]=YT([t]),p=Ub(),g=$b();if(p==null||g==null)return null;var v=p-(r.left||0)-(r.right||0),b=su.getWidthOrHeight(e.layout,s,i,v),w=d?l:ul(ul({position:"absolute",width:(b==null?void 0:b.width)||i||"auto",height:(b==null?void 0:b.height)||s||"auto"},X7(l,e,r,p,g,f)),l),j=d??n;if(j==null)return null;var S=x.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:h},x.createElement(Q7,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(J7,{width:f.width,height:f.height}),x.createElement(W7,u0({},e,b,{margin:r,chartWidth:p,chartHeight:g,contextPayload:t})));return W0.createPortal(S,j)}class su extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Oe(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(Z7,this.props)}}Bb(su,"displayName","Legend");Bb(su,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return(t=t9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e){return Array.isArray(e)&&da(e[0])&&da(e[1])?e.join(" ~ "):e}var a9=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,b=()=>{if(s&&s.length){var T={padding:0,margin:0},k=(d?Lh(s,d):s).map((M,D)=>{if(M.type==="none")return null;var q=M.formatter||l||r9,{value:$,name:F}=M,H=$,re=F;if(q){var B=q($,F,M,D,s);if(Array.isArray(B))[H,re]=B;else if(B!=null)H=B;else return null}var K=Kv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:K},da(re)?x.createElement("span",{className:"recharts-tooltip-item-name"},re):null,da(re)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},H),x.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},k)}return null},w=Kv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=Kv({margin:0},i),S=!pn(p),N=S?p:"",O=ut("recharts-default-tooltip",f),A=ut("recharts-tooltip-label",h);S&&g&&s!==void 0&&s!==null&&(N=g(p,s));var C=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",d0({className:O,style:w},C),x.createElement("p",{className:A,style:j},x.isValidElement(N)?N:"".concat(N)),b())},Cc="recharts-tooltip-wrapper",i9={visibility:"hidden"};function s9(e){var{coordinate:t,translateX:n,translateY:r}=e;return ut(Cc,{["".concat(Cc,"-right")]:Oe(n)&&t&&Oe(t.x)&&n>=t.x,["".concat(Cc,"-left")]:Oe(n)&&t&&Oe(t.x)&&n<t.x,["".concat(Cc,"-bottom")]:Oe(r)&&t&&Oe(t.y)&&r>=t.y,["".concat(Cc,"-top")]:Oe(r)&&t&&Oe(t.y)&&r<t.y})}function VN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=e;if(s&&Oe(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=f[r];if(v==null)return 0;if(l[r]){var b=p,w=v;return b<w?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var j=g+d,S=v+h;return j>S?Math.max(p,v):Math.max(g,v)}function o9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function l9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:f}=e,h,p,g;return l.height>0&&l.width>0&&n?(p=VN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=VN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=o9({translateX:p,translateY:g,useTranslate3d:d})):h=i9,{cssProperties:h,cssClasses:s9({translateX:p,translateY:g,coordinate:n})}}function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){f0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f0(e,t,n){return(t=c9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c9(e){var t=u9(e,"string");return typeof t=="symbol"?t:t+""}function u9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class d9 extends x.PureComponent{constructor(){super(...arguments),f0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),f0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:b,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:N}=this.props,{cssClasses:O,cssProperties:A}=l9({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:b}),C=N?{}:hf(hf({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=hf(hf({},C),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:T,ref:S},s)}}var f9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gs={devToolsEnabled:!1,isSsr:f9()},Ck=()=>Ne(e=>e.rootProps.accessibilityLayer);function fr(e){return Number.isFinite(e)}function dl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){h9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h9(e,t,n){return(t=m9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JN={curveBasisClosed:R8,curveBasisOpen:D8,curveBasis:M8,curveBumpX:b8,curveBumpY:x8,curveLinearClosed:I8,curveLinear:Dh,curveMonotoneX:L8,curveMonotoneY:U8,curveNatural:$8,curveStep:z8,curveStepAfter:q8,curveStepBefore:B8},mf=e=>fr(e.x)&&fr(e.y),Tc=e=>e.x,kc=e=>e.y,g9=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(wu(e));return(n==="curveMonotone"||n==="curveBump")&&t?JN["".concat(n).concat(t==="vertical"?"Y":"X")]:JN[n]||Dh},v9=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,l=g9(t,i),d=s?n.filter(mf):n,f;if(Array.isArray(r)){var h=s?r.filter(g=>mf(g)):r,p=d.map((g,v)=>QN(QN({},g),{},{base:h[v]}));return i==="vertical"?f=sf().y(kc).x1(Tc).x0(g=>g.base.x):f=sf().x(Tc).y1(kc).y0(g=>g.base.y),f.defined(mf).curve(l),f(p)}return i==="vertical"&&Oe(r)?f=sf().y(kc).x1(Tc).x0(r):Oe(r)?f=sf().x(Tc).y1(kc).y0(r):f=wT().x(Tc).y(kc),f.defined(mf).curve(l),f(d)},Tk=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?v9(e):r;return x.createElement("path",h0({},Hi(e),i8(e),{className:ut("recharts-curve",t),d:s===null?void 0:s,ref:i}))},y9=["x","y","top","left","width","height","className"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){x9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x9(e,t,n){return(t=_9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9(e){var t=w9(e,"string");return typeof t=="symbol"?t:t+""}function w9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j9(e,t){if(e==null)return{};var n,r,i=S9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var N9=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),E9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:d}=e,f=j9(e,y9),h=b9({x:t,y:n,top:r,left:i,width:s,height:l},f);return!Oe(t)||!Oe(n)||!Oe(s)||!Oe(l)||!Oe(r)||!Oe(i)?null:x.createElement("path",m0({},an(h,!0),{className:ut("recharts-cross",d),d:N9(t,n,s,l,r,i)}))};function O9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(r){C9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C9(e,t,n){return(t=T9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dn(e,t){var n=A9({},e),r=t,i=Object.keys(t),s=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}function P9(){}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(r){M9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M9(e,t,n){return(t=R9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),kk=(e,t,n)=>e.map(r=>"".concat(I9(r)," ").concat(t,"ms ").concat(n)).join(","),L9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),ou=(e,t)=>Object.keys(t).reduce((n,r)=>nE(nE({},n),{},{[r]:e(r,t[r])}),{});function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(r){U9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U9(e,t,n){return(t=$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=(e,t,n)=>e+(t-e)*n,p0=e=>{var{from:t,to:n}=e;return t!==n},Pk=(e,t,n)=>{var r=ou((i,s)=>{if(p0(s)){var[l,d]=e(s.from,s.to,s.velocity);return Sn(Sn({},s),{},{from:l,velocity:d})}return s},t);return n<1?ou((i,s)=>p0(s)?Sn(Sn({},s),{},{velocity:rh(s.velocity,r[i].velocity,n),from:rh(s.from,r[i].from,n)}):s,t):Pk(e,r,n-1)};function B9(e,t,n,r,i,s){var l,d=r.reduce((v,b)=>Sn(Sn({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>ou((v,b)=>b.from,d),h=()=>!Object.values(d).filter(p0).length,p=null,g=v=>{l||(l=v);var b=v-l,w=b/n.dt;d=Pk(n,d,w),i(Sn(Sn(Sn({},e),t),f())),l=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{p()})}function q9(e,t,n,r,i,s,l){var d=null,f=i.reduce((g,v)=>Sn(Sn({},g),{},{[v]:[e[v],t[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/r,b=ou((j,S)=>rh(...S,n(v)),f);if(s(Sn(Sn(Sn({},e),t),b)),v<1)d=l.setTimeout(p);else{var w=ou((j,S)=>rh(...S,n(1)),f);s(Sn(Sn(Sn({},e),t),w))}};return()=>(d=l.setTimeout(p),()=>{d()})}const H9=(e,t,n,r,i,s)=>{var l=L9(e,t);return n.isStepper===!0?B9(e,t,n,l,i,s):q9(e,t,n,r,l,i,s)};var ah=1e-4,Mk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Rk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),aE=(e,t)=>n=>{var r=Mk(e,t);return Rk(r,n)},F9=(e,t)=>n=>{var r=Mk(e,t),i=[...r.map((s,l)=>s*l).slice(1),0];return Rk(i,n)},iE=function(){for(var t,n,r,i,s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,i]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([t,r,n,i]=l);var h=aE(t,n),p=aE(r,i),g=F9(t,n),v=w=>w>1?1:w<0?0:w,b=w=>{for(var j=w>1?1:w,S=j,N=0;N<8;++N){var O=h(S)-j,A=g(S);if(Math.abs(O-j)<ah||A<ah)return p(S);S=v(S-O/A)}return p(S)};return b.isStepper=!1,b},K9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(l,d,f)=>{var h=-(l-d)*n,p=f*r,g=f+(h-p)*i/1e3,v=f*i/1e3+l;return Math.abs(v-d)<ah&&Math.abs(g)<ah?[d,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},G9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iE(e);case"spring":return K9();default:if(e.split("(")[0]==="cubic-bezier")return iE(e)}return typeof e=="function"?e:null};function Y9(e){var t,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[f,...h]=d;if(typeof f=="number"){i=e.setTimeout(s.bind(null,h),f);return}s(f),i=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class V9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function W9(){return Y9(new V9)}var X9=x.createContext(W9);function Q9(e,t){var n=x.useContext(X9);return x.useMemo(()=>t??n(e),[e,t,n])}var J9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sE={t:0},Gv={t:1};function Vh(e){var t=Dn(e,J9),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:f,children:h}=t,p=Q9(t.animationId,t.animationManager),[g,v]=x.useState(n?sE:Gv),b=x.useRef(null);return x.useEffect(()=>{n||v(Gv)},[n]),x.useEffect(()=>{if(!n||!r)return P9;var w=H9(sE,Gv,G9(s),i,v,p.getTimeoutController()),j=()=>{b.current=w()};return p.start([f,l,j,i,d]),()=>{p.stop(),b.current&&b.current(),d()}},[n,r,i,s,l,f,d,p]),h(g.t)}function Wh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(ru(t)),r=x.useRef(e);return r.current!==e&&(n.current=ru(t),r.current=e),n.current}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(r){Z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z9(e,t,n){return(t=eH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(null,arguments)}var cE=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>s?s:i[g];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+d*p[0],",").concat(t)),h+="L ".concat(e+n-d*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-d*p[2],",").concat(t+r)),h+="L ".concat(e+d*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);h="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*b,`
            L `).concat(e+n,",").concat(t+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+r,`
            L `).concat(e+d*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*b," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},nH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dk=e=>{var t=Dn(e,nH),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&i(B)}catch{}},[]);var{x:s,y:l,width:d,height:f,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:j}=t,S=x.useRef(d),N=x.useRef(f),O=x.useRef(s),A=x.useRef(l),C=x.useMemo(()=>({x:s,y:l,width:d,height:f,radius:h}),[s,l,d,f,h]),T=Wh(C,"rectangle-");if(s!==+s||l!==+l||d!==+d||f!==+f||d===0||f===0)return null;var k=ut("recharts-rectangle",p);if(!j)return x.createElement("path",ih({},an(t,!0),{className:k,d:cE(s,l,d,f,h)}));var M=S.current,D=N.current,q=O.current,$=A.current,F="0px ".concat(r===-1?1:r,"px"),H="".concat(r,"px 0px"),re=kk(["strokeDasharray"],v,typeof g=="string"?g:void 0);return x.createElement(Vh,{animationId:T,key:T,canBegin:r>0,duration:v,easing:g,isActive:j,begin:b},B=>{var K=Nn(M,d,B),I=Nn(D,f,B),Y=Nn(q,s,B),W=Nn($,l,B);n.current&&(S.current=K,N.current=I,O.current=Y,A.current=W);var ue;return w?B>0?ue={transition:re,strokeDasharray:H}:ue={strokeDasharray:F}:ue={strokeDasharray:H},x.createElement("path",ih({},an(t,!0),{className:k,d:cE(Y,W,K,I,h),ref:n,style:lE(lE({},ue),t.style)}))})};function Ik(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,l=Jt(t,n,r,i),d=Jt(t,n,r,s);return{points:[l,d],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}var rH=(e,t)=>{var n=mn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},pf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:f}=e,h=d*(l?1:-1)+r,p=Math.asin(d/h)/nh,g=f?i:i+s*p,v=Jt(t,n,h,g),b=Jt(t,n,r,g),w=f?i-s*p:i,j=Jt(t,n,h*Math.cos(p*nh),w);return{center:v,circleTangency:b,lineTangency:j,theta:p}},Lk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=e,d=rH(s,l),f=s+d,h=Jt(t,n,i,s),p=Jt(t,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Jt(t,n,r,s),b=Jt(t,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},aH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:f,endAngle:h}=e,p=mn(h-f),{circleTangency:g,lineTangency:v,theta:b}=pf({cx:t,cy:n,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=pf({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),N=d?Math.abs(f-h):Math.abs(f-h)-b-S;if(N<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Lk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:C,theta:T}=pf({cx:t,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:k,lineTangency:M,theta:D}=pf({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),q=d?Math.abs(f-h):Math.abs(f-h)-T-D;if(q<0&&s===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},iH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Uk=e=>{var t=Dn(e,iH),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=t;if(s<i||h===p)return null;var v=ut("recharts-sector",g),b=s-i,w=Tn(l,b,0,!0),j;return w>0&&Math.abs(h-p)<360?j=aH({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):j=Lk({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),x.createElement("path",g0({},an(t,!0),{className:v,d:j}))};function sH(e,t,n){var r,i,s,l;if(e==="horizontal")r=t.x,s=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:h,outerRadius:p,angle:g}=t,v=Jt(d,f,h,g),b=Jt(d,f,p,g);r=v.x,i=v.y,s=b.x,l=b.y}else return Ik(t);return[{x:r,y:i},{x:s,y:l}]}var Yv={},Vv={},Wv={},uE;function oH(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Wv)),Wv}var dE;function lH(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Vv)),Vv}var fE;function cH(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT(),n=lH();function r(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=i,i+=l;return f}e.range=r})(Yv)),Yv}var Xv,hE;function uH(){return hE||(hE=1,Xv=cH().range),Xv}var dH=uH();const $k=Vr(dH);function Li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qb(e){let t,n,r;e.length!==2?(t=Li,n=(d,f)=>Li(e(d),f),r=(d,f)=>e(d)-f):(t=e===Li||e===fH?e:hH,n=e,r=e);function i(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(t(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){const g=i(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:i,center:l,right:s}}function hH(){return 0}function zk(e){return e===null?NaN:+e}function*mH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const pH=qb(Li),Ou=pH.right;qb(zk).center;class mE extends Map{constructor(t,n=yH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(pE(this,t))}has(t){return super.has(pE(this,t))}set(t,n){return super.set(gH(this,t),n)}delete(t){return super.delete(vH(this,t))}}function pE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function gH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function vH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function yH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bH(e=Li){if(e===Li)return Bk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Bk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xH=Math.sqrt(50),_H=Math.sqrt(10),wH=Math.sqrt(2);function sh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=xH?10:s>=_H?5:s>=wH?2:1;let d,f,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),f=Math.round(t*h),d/h<e&&++d,f/h>t&&--f,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),f=Math.round(t/h),d*h<e&&++d,f*h>t&&--f),f<d&&.5<=n&&n<2?sh(e,t,n*2):[d,f,h]}function v0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,l]=r?sh(t,e,n):sh(e,t,n);if(!(s>=i))return[];const d=s-i+1,f=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)f[h]=(s-h)/-l;else for(let h=0;h<d;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)f[h]=(i+h)/-l;else for(let h=0;h<d;++h)f[h]=(i+h)*l;return f}function y0(e,t,n){return t=+t,e=+e,n=+n,sh(e,t,n)[2]}function b0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?y0(t,e,n):y0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function gE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Bk:bH(i);r>n;){if(r-n>600){const f=r-n+1,h=t-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(t-h*g/f+v)),w=Math.min(r,Math.floor(t+(f-h)*g/f+v));qk(e,t,b,w,i)}const s=e[t];let l=n,d=r;for(Pc(e,n,t),i(e[r],s)>0&&Pc(e,n,r);l<d;){for(Pc(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[n],s)===0?Pc(e,n,d):(++d,Pc(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Pc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jH(e,t,n){if(e=Float64Array.from(mH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return vE(e);if(t>=1)return gE(e);var r,i=(r-1)*t,s=Math.floor(i),l=gE(qk(e,s).subarray(0,s+1)),d=vE(e.subarray(s+1));return l+(d-l)*(i-s)}}function SH(e,t,n=zk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),l=+n(e[s],s,e),d=+n(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function NH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const x0=Symbol("implicit");function Hb(){var e=new mE,t=[],n=[],r=x0;function i(s){let l=e.get(s);if(l===void 0){if(r!==x0)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new mE;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Hb(t,n).unknown(r)},Rr.apply(i,arguments),i}function Fb(){var e=Hb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,l,d=!1,f=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,b=i<r,w=b?i:r,j=b?r:i;s=(j-w)/Math.max(1,v-f+h*2),d&&(s=Math.floor(s)),w+=(j-w-s*(v-f))*p,l=s*(1-f),d&&(w=Math.round(w),l=Math.round(l));var S=NH(v).map(function(N){return w+s*N});return n(b?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,d=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return Fb(t(),[r,i]).round(d).paddingInner(f).paddingOuter(h).align(p)},Rr.apply(g(),arguments)}function Hk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Hk(t())},e}function EH(){return Hk(Fb.apply(null,arguments).paddingInner(1))}function Kb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Au(){}var lu=.7,oh=1/lu,il="\\s*([+-]?\\d+)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OH=/^#([0-9a-f]{3,8})$/,AH=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),CH=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),TH=new RegExp(`^rgba\\(${il},${il},${il},${cu}\\)$`),kH=new RegExp(`^rgba\\(${ua},${ua},${ua},${cu}\\)$`),PH=new RegExp(`^hsl\\(${cu},${ua},${ua}\\)$`),MH=new RegExp(`^hsla\\(${cu},${ua},${ua},${cu}\\)$`),yE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(Au,uu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bE,formatHex:bE,formatHex8:RH,formatHsl:DH,formatRgb:xE,toString:xE});function bE(){return this.rgb().formatHex()}function RH(){return this.rgb().formatHex8()}function DH(){return Kk(this).formatHsl()}function xE(){return this.rgb().formatRgb()}function uu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=OH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_E(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AH.exec(e))?new Gn(t[1],t[2],t[3],1):(t=CH.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TH.exec(e))?gf(t[1],t[2],t[3],t[4]):(t=kH.exec(e))?gf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PH.exec(e))?SE(t[1],t[2]/100,t[3]/100,1):(t=MH.exec(e))?SE(t[1],t[2]/100,t[3]/100,t[4]):yE.hasOwnProperty(e)?_E(yE[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function _E(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function gf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gn(e,t,n,r)}function IH(e){return e instanceof Au||(e=uu(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function _0(e,t,n,r){return arguments.length===1?IH(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Kb(Gn,_0,Fk(Au,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lu:Math.pow(lu,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(Ds(this.r),Ds(this.g),Ds(this.b),lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wE,formatHex:wE,formatHex8:LH,formatRgb:jE,toString:jE}));function wE(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function LH(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function jE(){const e=lh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${e===1?")":`, ${e})`}`}function lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cs(e){return e=Ds(e),(e<16?"0":"")+e.toString(16)}function SE(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,n,r)}function Kk(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof Au||(e=uu(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,d=s-i,f=(s+i)/2;return d?(t===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-t)/d+2:l=(t-n)/d+4,d/=f<.5?s+i:2-s-i,l*=60):d=f>0&&f<1?0:l,new Kr(l,d,f,e.opacity)}function UH(e,t,n,r){return arguments.length===1?Kk(e):new Kr(e,t,n,r??1)}function Kr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Kb(Kr,UH,Fk(Au,{brighter(e){return e=e==null?oh:Math.pow(oh,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lu:Math.pow(lu,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gn(Qv(e>=240?e-240:e+120,i,r),Qv(e,i,r),Qv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Kr(NE(this.h),vf(this.s),vf(this.l),lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lh(this.opacity);return`${e===1?"hsl(":"hsla("}${NE(this.h)}, ${vf(this.s)*100}%, ${vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NE(e){return e=(e||0)%360,e<0?e+360:e}function vf(e){return Math.max(0,Math.min(1,e||0))}function Qv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gb=e=>()=>e;function $H(e,t){return function(n){return e+n*t}}function zH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BH(e){return(e=+e)==1?Gk:function(t,n){return n-t?zH(t,n,e):Gb(isNaN(t)?n:t)}}function Gk(e,t){var n=t-e;return n?$H(e,n):Gb(isNaN(e)?t:e)}const EE=(function e(t){var n=BH(t);function r(i,s){var l=n((i=_0(i)).r,(s=_0(s)).r),d=n(i.g,s.g),f=n(i.b,s.b),h=Gk(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function qH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function HH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Nl(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(d){for(l=0;l<r;++l)s[l]=i[l](d);return s}}function KH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ch(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Nl(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var w0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jv=new RegExp(w0.source,"g");function YH(e){return function(){return e}}function VH(e){return function(t){return e(t)+""}}function WH(e,t){var n=w0.lastIndex=Jv.lastIndex=0,r,i,s,l=-1,d=[],f=[];for(e=e+"",t=t+"";(r=w0.exec(e))&&(i=Jv.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,f.push({i:l,x:ch(r,i)})),n=Jv.lastIndex;return n<t.length&&(s=t.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?VH(f[0].x):YH(t):(t=f.length,function(h){for(var p=0,g;p<t;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Nl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Gb(t):(n==="number"?ch:n==="string"?(r=uu(t))?(t=r,EE):WH:t instanceof uu?EE:t instanceof Date?KH:HH(t)?qH:Array.isArray(t)?FH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GH:ch)(e,t)}function Yb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function XH(e,t){t===void 0&&(t=e,e=Nl);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function QH(e){return function(){return e}}function uh(e){return+e}var OE=[0,1];function Rn(e){return e}function j0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:QH(isNaN(t)?NaN:.5)}function JH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ZH(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=j0(i,r),s=n(l,s)):(r=j0(r,i),s=n(s,l)),function(d){return s(r(d))}}function eF(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=j0(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(d){var f=Ou(e,d,1,r)-1;return s[f](i[f](d))}}function Cu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xh(){var e=OE,t=OE,n=Nl,r,i,s,l=Rn,d,f,h;function p(){var v=Math.min(e.length,t.length);return l!==Rn&&(l=JH(e[0],e[v-1])),d=v>2?eF:ZH,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=d(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((h||(h=d(t,e.map(r),ch)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,uh),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Yb,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Rn,p()):l!==Rn},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,b){return r=v,i=b,p()}}function Vb(){return Xh()(Rn,Rn)}function tF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fl(e){return e=dh(Math.abs(e)),e?e[1]:NaN}function nF(e,t){return function(n,r){for(var i=n.length,s=[],l=0,d=e[0],f=0;i>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(i-=d,i+d)),!((f+=d+1)>r));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function rF(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var aF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function du(e){if(!(t=aF.exec(e)))throw new Error("invalid format: "+e);var t;return new Wb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}du.prototype=Wb.prototype;function Wb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iF(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Yk;function sF(e,t){var n=dh(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Yk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+dh(e,Math.max(0,t+s-1))[0]}function AE(e,t){var n=dh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AE(e*100,t),r:AE,s:sF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TE(e){return e}var kE=Array.prototype.map,PE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oF(e){var t=e.grouping===void 0||e.thousands===void 0?TE:nF(kE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?TE:rF(kE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g){g=du(g);var v=g.fill,b=g.align,w=g.sign,j=g.symbol,S=g.zero,N=g.width,O=g.comma,A=g.precision,C=g.trim,T=g.type;T==="n"?(O=!0,T="g"):CE[T]||(A===void 0&&(A=12),C=!0,T="g"),(S||v==="0"&&b==="=")&&(S=!0,v="0",b="=");var k=j==="$"?n:j==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",M=j==="$"?r:/[%p]/.test(T)?l:"",D=CE[T],q=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function $(F){var H=k,re=M,B,K,I;if(T==="c")re=D(F)+re,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?f:D(Math.abs(F),A),C&&(F=iF(F)),Y&&+F==0&&w!=="+"&&(Y=!1),H=(Y?w==="("?w:d:w==="-"||w==="("?"":w)+H,re=(T==="s"?PE[8+Yk/3]:"")+re+(Y&&w==="("?")":""),q){for(B=-1,K=F.length;++B<K;)if(I=F.charCodeAt(B),48>I||I>57){re=(I===46?i+F.slice(B+1):F.slice(B))+re,F=F.slice(0,B);break}}}O&&!S&&(F=t(F,1/0));var W=H.length+F.length+re.length,ue=W<N?new Array(N-W+1).join(v):"";switch(O&&S&&(F=t(ue+F,ue.length?N-re.length:1/0),ue=""),b){case"<":F=H+F+re+ue;break;case"=":F=H+ue+F+re;break;case"^":F=ue.slice(0,W=ue.length>>1)+H+F+re+ue.slice(W);break;default:F=ue+H+F+re;break}return s(F)}return $.toString=function(){return g+""},$}function p(g,v){var b=h((g=du(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(fl(v)/3)))*3,j=Math.pow(10,-w),S=PE[8+w/3];return function(N){return b(j*N)+S}}return{format:h,formatPrefix:p}}var yf,Xb,Vk;lF({thousands:",",grouping:[3],currency:["$",""]});function lF(e){return yf=oF(e),Xb=yf.format,Vk=yf.formatPrefix,yf}function cF(e){return Math.max(0,-fl(Math.abs(e)))}function uF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fl(t)/3)))*3-fl(Math.abs(e)))}function dF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fl(t)-fl(e))+1}function Wk(e,t,n,r){var i=b0(e,t,n),s;switch(r=du(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=uF(i,l))&&(r.precision=s),Vk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dF(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=cF(i))&&(r.precision=s-(r.type==="%")*2);break}}return Xb(r)}function Fi(e){var t=e.domain;return e.ticks=function(n){var r=t();return v0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Wk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],d=r[s],f,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=y0(l,d,n),h===f)return r[i]=l,r[s]=d,t(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;f=h}return e},e}function Xk(){var e=Vb();return e.copy=function(){return Cu(e,Xk())},Rr.apply(e,arguments),Fi(e)}function Qk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Qk(e).unknown(t)},e=arguments.length?Array.from(e,uh):[0,1],Fi(n)}function Jk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),e[n]=t.floor(i),e[r]=t.ceil(s),e}function ME(e){return Math.log(e)}function RE(e){return Math.exp(e)}function fF(e){return-Math.log(-e)}function hF(e){return-Math.exp(-e)}function mF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pF(e){return e===10?mF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DE(e){return(t,n)=>-e(-t,n)}function Qb(e){const t=e(ME,RE),n=t.domain;let r=10,i,s;function l(){return i=gF(r),s=pF(r),n()[0]<0?(i=DE(i),s=DE(s),e(fF,hF)):e(ME,RE),t}return t.base=function(d){return arguments.length?(r=+d,l()):r},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),b=i(p),w,j;const S=d==null?10:+d;let N=[];if(!(r%1)&&b-v<S){if(v=Math.floor(v),b=Math.ceil(b),h>0){for(;v<=b;++v)for(w=1;w<r;++w)if(j=v<0?w/s(-v):w*s(v),!(j<h)){if(j>p)break;N.push(j)}}else for(;v<=b;++v)for(w=r-1;w>=1;--w)if(j=v>0?w/s(-v):w*s(v),!(j<h)){if(j>p)break;N.push(j)}N.length*2<S&&(N=v0(h,p,S))}else N=v0(v,b,Math.min(b-v,S)).map(s);return g?N.reverse():N},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=du(f)).precision==null&&(f.trim=!0),f=Xb(f)),d===1/0)return f;const h=Math.max(1,r*d/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},t.nice=()=>n(Jk(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function Zk(){const e=Qb(Xh()).domain([1,10]);return e.copy=()=>Cu(e,Zk()).base(e.base()),Rr.apply(e,arguments),e}function IE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jb(e){var t=1,n=e(IE(t),LE(t));return n.constant=function(r){return arguments.length?e(IE(t=+r),LE(t)):t},Fi(n)}function eP(){var e=Jb(Xh());return e.copy=function(){return Cu(e,eP()).constant(e.constant())},Rr.apply(e,arguments)}function UE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yF(e){return e<0?-e*e:e*e}function Zb(e){var t=e(Rn,Rn),n=1;function r(){return n===1?e(Rn,Rn):n===.5?e(vF,yF):e(UE(n),UE(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fi(t)}function ex(){var e=Zb(Xh());return e.copy=function(){return Cu(e,ex()).exponent(e.exponent())},Rr.apply(e,arguments),e}function bF(){return ex.apply(null,arguments).exponent(.5)}function $E(e){return Math.sign(e)*e*e}function xF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tP(){var e=Vb(),t=[0,1],n=!1,r;function i(s){var l=xF(e(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return e.invert($E(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,uh)).map($E)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return tP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),Fi(i)}function nP(){var e=[],t=[],n=[],r;function i(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=SH(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:t[Ou(n,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Li),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return nP().domain(e).range(t).unknown(r)},Rr.apply(s,arguments)}function rP(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Ou(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,d()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return rP().domain([e,t]).range(i).unknown(s)},Rr.apply(Fi(l),arguments)}function aP(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Ou(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return aP().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const Zv=new Date,ey=new Date;function on(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const f=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return f;let h;do f.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return f},i.filter=s=>on(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),n&&(i.count=(s,l)=>(Zv.setTime(+s),ey.setTime(+l),e(Zv),e(ey),Math.floor(n(Zv,ey))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const fh=on(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?on(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fh);fh.range;const Ua=1e3,Cr=Ua*60,$a=Cr*60,Ya=$a*24,tx=Ya*7,zE=Ya*30,ty=Ya*365,Ts=on(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCSeconds());Ts.range;const nx=on(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getMinutes());nx.range;const rx=on(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cr)},(e,t)=>(t-e)/Cr,e=>e.getUTCMinutes());rx.range;const ax=on(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ua-e.getMinutes()*Cr)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getHours());ax.range;const ix=on(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCHours());ix.range;const Tu=on(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cr)/Ya,e=>e.getDate()-1);Tu.range;const Qh=on(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>e.getUTCDate()-1);Qh.range;const iP=on(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>Math.floor(e/Ya));iP.range;function Ys(e){return on(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/tx)}const Jh=Ys(0),hh=Ys(1),_F=Ys(2),wF=Ys(3),hl=Ys(4),jF=Ys(5),SF=Ys(6);Jh.range;hh.range;_F.range;wF.range;hl.range;jF.range;SF.range;function Vs(e){return on(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tx)}const Zh=Vs(0),mh=Vs(1),NF=Vs(2),EF=Vs(3),ml=Vs(4),OF=Vs(5),AF=Vs(6);Zh.range;mh.range;NF.range;EF.range;ml.range;OF.range;AF.range;const sx=on(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sx.range;const ox=on(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ox.range;const Va=on(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:on(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Va.range;const Wa=on(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:on(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Wa.range;function sP(e,t,n,r,i,s){const l=[[Ts,1,Ua],[Ts,5,5*Ua],[Ts,15,15*Ua],[Ts,30,30*Ua],[s,1,Cr],[s,5,5*Cr],[s,15,15*Cr],[s,30,30*Cr],[i,1,$a],[i,3,3*$a],[i,6,6*$a],[i,12,12*$a],[r,1,Ya],[r,2,2*Ya],[n,1,tx],[t,1,zE],[t,3,3*zE],[e,1,ty]];function d(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const b=g&&typeof g.range=="function"?g:f(h,p,g),w=b?b.range(h,+p+1):[];return v?w.reverse():w}function f(h,p,g){const v=Math.abs(p-h)/g,b=qb(([,,S])=>S).right(l,v);if(b===l.length)return e.every(b0(h/ty,p/ty,g));if(b===0)return fh.every(Math.max(b0(h,p,g),1));const[w,j]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return w.every(j)}return[d,f]}const[CF,TF]=sP(Wa,ox,Zh,iP,ix,rx),[kF,PF]=sP(Va,sx,Jh,Tu,ax,nx);function ny(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function MF(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,f=e.shortMonths,h=Rc(i),p=Dc(i),g=Rc(s),v=Dc(s),b=Rc(l),w=Dc(l),j=Rc(d),S=Dc(d),N=Rc(f),O=Dc(f),A={a:Y,A:W,b:ue,B:ne,c:null,d:GE,e:GE,f:nK,g:fK,G:mK,H:ZF,I:eK,j:tK,L:oP,m:rK,M:aK,p:R,q:L,Q:WE,s:XE,S:iK,u:sK,U:oK,V:lK,w:cK,W:uK,x:null,X:null,y:dK,Y:hK,Z:pK,"%":VE},C={a:X,A:ie,b:se,B:ye,c:null,d:YE,e:YE,f:bK,g:CK,G:kK,H:gK,I:vK,j:yK,L:cP,m:xK,M:_K,p:je,q:fe,Q:WE,s:XE,S:wK,u:jK,U:SK,V:NK,w:EK,W:OK,x:null,X:null,y:AK,Y:TK,Z:PK,"%":VE},T={a:$,A:F,b:H,B:re,c:B,d:FE,e:FE,f:WF,g:HE,G:qE,H:KE,I:KE,j:KF,L:VF,m:FF,M:GF,p:q,q:HF,Q:QF,s:JF,S:YF,u:UF,U:$F,V:zF,w:LF,W:BF,x:K,X:I,y:HE,Y:qE,Z:qF,"%":XF};A.x=k(n,A),A.X=k(r,A),A.c=k(t,A),C.x=k(n,C),C.X=k(r,C),C.c=k(t,C);function k(V,pe){return function(be){var le=[],Ve=-1,Me=0,Tt=V.length,kt,Ft,Wn;for(be instanceof Date||(be=new Date(+be));++Ve<Tt;)V.charCodeAt(Ve)===37&&(le.push(V.slice(Me,Ve)),(Ft=BE[kt=V.charAt(++Ve)])!=null?kt=V.charAt(++Ve):Ft=kt==="e"?" ":"0",(Wn=pe[kt])&&(kt=Wn(be,Ft)),le.push(kt),Me=Ve+1);return le.push(V.slice(Me,Ve)),le.join("")}}function M(V,pe){return function(be){var le=Mc(1900,void 0,1),Ve=D(le,V,be+="",0),Me,Tt;if(Ve!=be.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(pe&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Me=ry(Mc(le.y,0,1)),Tt=Me.getUTCDay(),Me=Tt>4||Tt===0?mh.ceil(Me):mh(Me),Me=Qh.offset(Me,(le.V-1)*7),le.y=Me.getUTCFullYear(),le.m=Me.getUTCMonth(),le.d=Me.getUTCDate()+(le.w+6)%7):(Me=ny(Mc(le.y,0,1)),Tt=Me.getDay(),Me=Tt>4||Tt===0?hh.ceil(Me):hh(Me),Me=Tu.offset(Me,(le.V-1)*7),le.y=Me.getFullYear(),le.m=Me.getMonth(),le.d=Me.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Tt="Z"in le?ry(Mc(le.y,0,1)).getUTCDay():ny(Mc(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Tt+5)%7:le.w+le.U*7-(Tt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,ry(le)):ny(le)}}function D(V,pe,be,le){for(var Ve=0,Me=pe.length,Tt=be.length,kt,Ft;Ve<Me;){if(le>=Tt)return-1;if(kt=pe.charCodeAt(Ve++),kt===37){if(kt=pe.charAt(Ve++),Ft=T[kt in BE?pe.charAt(Ve++):kt],!Ft||(le=Ft(V,be,le))<0)return-1}else if(kt!=be.charCodeAt(le++))return-1}return le}function q(V,pe,be){var le=h.exec(pe.slice(be));return le?(V.p=p.get(le[0].toLowerCase()),be+le[0].length):-1}function $(V,pe,be){var le=b.exec(pe.slice(be));return le?(V.w=w.get(le[0].toLowerCase()),be+le[0].length):-1}function F(V,pe,be){var le=g.exec(pe.slice(be));return le?(V.w=v.get(le[0].toLowerCase()),be+le[0].length):-1}function H(V,pe,be){var le=N.exec(pe.slice(be));return le?(V.m=O.get(le[0].toLowerCase()),be+le[0].length):-1}function re(V,pe,be){var le=j.exec(pe.slice(be));return le?(V.m=S.get(le[0].toLowerCase()),be+le[0].length):-1}function B(V,pe,be){return D(V,t,pe,be)}function K(V,pe,be){return D(V,n,pe,be)}function I(V,pe,be){return D(V,r,pe,be)}function Y(V){return l[V.getDay()]}function W(V){return s[V.getDay()]}function ue(V){return f[V.getMonth()]}function ne(V){return d[V.getMonth()]}function R(V){return i[+(V.getHours()>=12)]}function L(V){return 1+~~(V.getMonth()/3)}function X(V){return l[V.getUTCDay()]}function ie(V){return s[V.getUTCDay()]}function se(V){return f[V.getUTCMonth()]}function ye(V){return d[V.getUTCMonth()]}function je(V){return i[+(V.getUTCHours()>=12)]}function fe(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var pe=k(V+="",A);return pe.toString=function(){return V},pe},parse:function(V){var pe=M(V+="",!1);return pe.toString=function(){return V},pe},utcFormat:function(V){var pe=k(V+="",C);return pe.toString=function(){return V},pe},utcParse:function(V){var pe=M(V+="",!0);return pe.toString=function(){return V},pe}}}var BE={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,RF=/^%/,DF=/[\\^$*+?|[\]().{}]/g;function nt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function IF(e){return e.replace(DF,"\\$&")}function Rc(e){return new RegExp("^(?:"+e.map(IF).join("|")+")","i")}function Dc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function LF(e,t,n){var r=gn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UF(e,t,n){var r=gn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $F(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zF(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function BF(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qE(e,t,n){var r=gn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function HE(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function HF(e,t,n){var r=gn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function FF(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function FE(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function KF(e,t,n){var r=gn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function KE(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function GF(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function YF(e,t,n){var r=gn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function VF(e,t,n){var r=gn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function WF(e,t,n){var r=gn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function XF(e,t,n){var r=RF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function QF(e,t,n){var r=gn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function JF(e,t,n){var r=gn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function GE(e,t){return nt(e.getDate(),t,2)}function ZF(e,t){return nt(e.getHours(),t,2)}function eK(e,t){return nt(e.getHours()%12||12,t,2)}function tK(e,t){return nt(1+Tu.count(Va(e),e),t,3)}function oP(e,t){return nt(e.getMilliseconds(),t,3)}function nK(e,t){return oP(e,t)+"000"}function rK(e,t){return nt(e.getMonth()+1,t,2)}function aK(e,t){return nt(e.getMinutes(),t,2)}function iK(e,t){return nt(e.getSeconds(),t,2)}function sK(e){var t=e.getDay();return t===0?7:t}function oK(e,t){return nt(Jh.count(Va(e)-1,e),t,2)}function lP(e){var t=e.getDay();return t>=4||t===0?hl(e):hl.ceil(e)}function lK(e,t){return e=lP(e),nt(hl.count(Va(e),e)+(Va(e).getDay()===4),t,2)}function cK(e){return e.getDay()}function uK(e,t){return nt(hh.count(Va(e)-1,e),t,2)}function dK(e,t){return nt(e.getFullYear()%100,t,2)}function fK(e,t){return e=lP(e),nt(e.getFullYear()%100,t,2)}function hK(e,t){return nt(e.getFullYear()%1e4,t,4)}function mK(e,t){var n=e.getDay();return e=n>=4||n===0?hl(e):hl.ceil(e),nt(e.getFullYear()%1e4,t,4)}function pK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function YE(e,t){return nt(e.getUTCDate(),t,2)}function gK(e,t){return nt(e.getUTCHours(),t,2)}function vK(e,t){return nt(e.getUTCHours()%12||12,t,2)}function yK(e,t){return nt(1+Qh.count(Wa(e),e),t,3)}function cP(e,t){return nt(e.getUTCMilliseconds(),t,3)}function bK(e,t){return cP(e,t)+"000"}function xK(e,t){return nt(e.getUTCMonth()+1,t,2)}function _K(e,t){return nt(e.getUTCMinutes(),t,2)}function wK(e,t){return nt(e.getUTCSeconds(),t,2)}function jK(e){var t=e.getUTCDay();return t===0?7:t}function SK(e,t){return nt(Zh.count(Wa(e)-1,e),t,2)}function uP(e){var t=e.getUTCDay();return t>=4||t===0?ml(e):ml.ceil(e)}function NK(e,t){return e=uP(e),nt(ml.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function EK(e){return e.getUTCDay()}function OK(e,t){return nt(mh.count(Wa(e)-1,e),t,2)}function AK(e,t){return nt(e.getUTCFullYear()%100,t,2)}function CK(e,t){return e=uP(e),nt(e.getUTCFullYear()%100,t,2)}function TK(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function kK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ml(e):ml.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function PK(){return"+0000"}function VE(){return"%"}function WE(e){return+e}function XE(e){return Math.floor(+e/1e3)}var Wo,dP,fP;MK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MK(e){return Wo=MF(e),dP=Wo.format,Wo.parse,fP=Wo.utcFormat,Wo.utcParse,Wo}function RK(e){return new Date(e)}function DK(e){return e instanceof Date?+e:+new Date(+e)}function lx(e,t,n,r,i,s,l,d,f,h){var p=Vb(),g=p.invert,v=p.domain,b=h(".%L"),w=h(":%S"),j=h("%I:%M"),S=h("%I %p"),N=h("%a %d"),O=h("%b %d"),A=h("%B"),C=h("%Y");function T(k){return(f(k)<k?b:d(k)<k?w:l(k)<k?j:s(k)<k?S:r(k)<k?i(k)<k?N:O:n(k)<k?A:C)(k)}return p.invert=function(k){return new Date(g(k))},p.domain=function(k){return arguments.length?v(Array.from(k,DK)):v().map(RK)},p.ticks=function(k){var M=v();return e(M[0],M[M.length-1],k??10)},p.tickFormat=function(k,M){return M==null?T:h(M)},p.nice=function(k){var M=v();return(!k||typeof k.range!="function")&&(k=t(M[0],M[M.length-1],k??10)),k?v(Jk(M,k)):p},p.copy=function(){return Cu(p,lx(e,t,n,r,i,s,l,d,f,h))},p}function IK(){return Rr.apply(lx(kF,PF,Va,sx,Jh,Tu,ax,nx,Ts,dP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LK(){return Rr.apply(lx(CF,TF,Wa,ox,Zh,Qh,ix,rx,Ts,fP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function em(){var e=0,t=1,n,r,i,s,l=Rn,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-n)*i,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var b,w;return arguments.length?([b,w]=v,l=g(b,w),h):[l(0),l(1)]}}return h.range=p(Nl),h.rangeRound=p(Yb),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function Ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hP(){var e=Fi(em()(Rn));return e.copy=function(){return Ki(e,hP())},Ja.apply(e,arguments)}function mP(){var e=Qb(em()).domain([1,10]);return e.copy=function(){return Ki(e,mP()).base(e.base())},Ja.apply(e,arguments)}function pP(){var e=Jb(em());return e.copy=function(){return Ki(e,pP()).constant(e.constant())},Ja.apply(e,arguments)}function cx(){var e=Zb(em());return e.copy=function(){return Ki(e,cx()).exponent(e.exponent())},Ja.apply(e,arguments)}function UK(){return cx.apply(null,arguments).exponent(.5)}function gP(){var e=[],t=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ou(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Li),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>jH(e,s/r))},n.copy=function(){return gP(t).domain(e)},Ja.apply(n,arguments)}function tm(){var e=0,t=.5,n=1,r=1,i,s,l,d,f,h=Rn,p,g=!1,v;function b(j){return isNaN(j=+j)?v:(j=.5+((j=+p(j))-s)*(r*j<r*s?d:f),h(g?Math.max(0,Math.min(1,j)):j))}b.domain=function(j){return arguments.length?([e,t,n]=j,i=p(e=+e),s=p(t=+t),l=p(n=+n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,b):[e,t,n]},b.clamp=function(j){return arguments.length?(g=!!j,b):g},b.interpolator=function(j){return arguments.length?(h=j,b):h};function w(j){return function(S){var N,O,A;return arguments.length?([N,O,A]=S,h=XH(j,[N,O,A]),b):[h(0),h(.5),h(1)]}}return b.range=w(Nl),b.rangeRound=w(Yb),b.unknown=function(j){return arguments.length?(v=j,b):v},function(j){return p=j,i=j(e),s=j(t),l=j(n),d=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,b}}function vP(){var e=Fi(tm()(Rn));return e.copy=function(){return Ki(e,vP())},Ja.apply(e,arguments)}function yP(){var e=Qb(tm()).domain([.1,1,10]);return e.copy=function(){return Ki(e,yP()).base(e.base())},Ja.apply(e,arguments)}function bP(){var e=Jb(tm());return e.copy=function(){return Ki(e,bP()).constant(e.constant())},Ja.apply(e,arguments)}function ux(){var e=Zb(tm());return e.copy=function(){return Ki(e,ux()).exponent(e.exponent())},Ja.apply(e,arguments)}function $K(){return ux.apply(null,arguments).exponent(.5)}const zc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fb,scaleDiverging:vP,scaleDivergingLog:yP,scaleDivergingPow:ux,scaleDivergingSqrt:$K,scaleDivergingSymlog:bP,scaleIdentity:Qk,scaleImplicit:x0,scaleLinear:Xk,scaleLog:Zk,scaleOrdinal:Hb,scalePoint:EH,scalePow:ex,scaleQuantile:nP,scaleQuantize:rP,scaleRadial:tP,scaleSequential:hP,scaleSequentialLog:mP,scaleSequentialPow:cx,scaleSequentialQuantile:gP,scaleSequentialSqrt:UK,scaleSequentialSymlog:pP,scaleSqrt:bF,scaleSymlog:eP,scaleThreshold:aP,scaleTime:IK,scaleUtc:LK,tickFormat:Wk},Symbol.toStringTag,{value:"Module"}));var Gi=e=>e.chartData,dx=ee([Gi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fx=(e,t,n,r)=>r?dx(e):Gi(e);function pl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fr(t)&&fr(n))return!0}return!1}function QE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function zK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(fr(n))i=n;else if(typeof n=="function")return;if(fr(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(pl(l))return l}}function BK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(pl(r))return QE(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Oe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&BN.test(i)){var f=BN.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(Oe(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&qN.test(s)){var p=qN.exec(s);if(p==null||t==null)d=void 0;else{var g=+p[1];d=t[1]+g}}else d=t==null?void 0:t[1];var v=[l,d];if(pl(v))return t==null?v:QE(v,t,n)}}}var El=1e9,qK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mx,Ot=!0,kr="[DecimalError] ",Is=kr+"Invalid argument: ",hx=kr+"Exponent out of range: ",Ol=Math.floor,bs=Math.pow,HK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,hn=1e7,jt=7,xP=9007199254740991,ph=Ol(xP/jt),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*jt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(e){return Ha(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,n=t.constructor;return vt(Ha(t,new n(e),0,1),n.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return Zt(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(lr))throw Error(kr+"NaN");if(n.s<1)throw Error(kr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(Ot=!1,t=Ha(fu(n,s),fu(e,s),s),Ot=!0,vt(t,i))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jP(t,e):_P(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(kr+"NaN");return n.s?(Ot=!1,t=Ha(n,e,0,1).times(e),Ot=!0,n.minus(t)):vt(new r(n),i)};xe.naturalExponential=xe.exp=function(){return wP(this)};xe.naturalLogarithm=xe.ln=function(){return fu(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_P(t,e):jP(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Is+e);if(t=Zt(i)+1,r=i.d.length-1,n=r*jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};xe.squareRoot=xe.sqrt=function(){var e,t,n,r,i,s,l,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(kr+"NaN")}for(e=Zt(d),Ot=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=la(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ol((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(Ha(d,s,l+2)).times(.5),la(s.d).slice(0,l)===(t=la(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(vt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(t!="9999")break;l+=4}return Ot=!0,vt(r,n)};xe.times=xe.mul=function(e){var t,n,r,i,s,l,d,f,h,p=this,g=p.constructor,v=p.d,b=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,f=v.length,h=b.length,f<h&&(s=v,v=b,b=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)d=s[i]+b[r]*v[i-r-1]+t,s[i--]=d%hn|0,t=d/hn|0;s[i]=(s[i]+t)%hn|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Ot?vt(e,g.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(fa(e,0,El),t===void 0?t=r.rounding:fa(t,0,8),vt(n,e+Zt(n)+1,t))};xe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=zs(r,!0):(fa(e,0,El),t===void 0?t=i.rounding:fa(t,0,8),r=vt(new i(r),e+1,t),n=zs(r,!0,e+1)),n};xe.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?zs(i):(fa(e,0,El),t===void 0?t=s.rounding:fa(t,0,8),r=vt(new s(i),e+Zt(i)+1,t),n=zs(r.abs(),!1,e+Zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return vt(new t(e),Zt(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,n,r,i,s,l,d=this,f=d.constructor,h=12,p=+(e=new f(e));if(!e.s)return new f(lr);if(d=new f(d),!d.s){if(e.s<1)throw Error(kr+"Infinity");return d}if(d.eq(lr))return d;if(r=f.precision,e.eq(lr))return vt(d,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=d.s,l){if((n=p<0?-p:p)<=xP){for(i=new f(lr),t=Math.ceil(r/jt+4),Ot=!1;n%2&&(i=i.times(d),ZE(i.d,t)),n=Ol(n/2),n!==0;)d=d.times(d),ZE(d.d,t);return Ot=!0,e.s<0?new f(lr).div(i):vt(i,r)}}else if(s<0)throw Error(kr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Ot=!1,i=e.times(fu(d,r+h)),Ot=!0,i=wP(i),i.s=s,i};xe.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Zt(i),r=zs(i,n<=s.toExpNeg||n>=s.toExpPos)):(fa(e,1,El),t===void 0?t=s.rounding:fa(t,0,8),i=vt(new s(i),e,t),n=Zt(i),r=zs(i,e<=n||n<=s.toExpNeg,e)),r};xe.toSignificantDigits=xe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(fa(e,1,El),t===void 0?t=r.rounding:fa(t,0,8)),vt(new r(n),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),n=e.constructor;return zs(e,t<=n.toExpNeg||t>=n.toExpPos)};function _P(e,t){var n,r,i,s,l,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Ot?vt(t,g):t;if(f=e.d,h=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,i=l,d=f.length),l=Math.ceil(g/jt),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/hn|0,f[s]%=hn;for(n&&(f.unshift(n),++i),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=i,Ot?vt(t,g):t}function fa(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Is+e)}function la(e){var t,n,r,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)r=e[t]+"",n=jt-r.length,n&&(s+=ki(n)),s+=r;l=e[t],r=l+"",n=jt-r.length,n&&(s+=ki(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ha=(function(){function e(r,i){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+l,r[d]=s%hn|0,l=s/hn|0;return l&&r.unshift(l),r}function t(r,i,s,l){var d,f;if(s!=l)f=s>l?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=i[d]){f=r[d]>i[d]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*hn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var d,f,h,p,g,v,b,w,j,S,N,O,A,C,T,k,M,D,q=r.constructor,$=r.s==i.s?1:-1,F=r.d,H=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(kr+"Division by zero");for(f=r.e-i.e,M=H.length,T=F.length,b=new q($),w=b.d=[],h=0;H[h]==(F[h]||0);)++h;if(H[h]>(F[h]||0)&&--f,s==null?O=s=q.precision:l?O=s+(Zt(r)-Zt(i))+1:O=s,O<0)return new q(0);if(O=O/jt+2|0,h=0,M==1)for(p=0,H=H[0],O++;(h<T||p)&&O--;h++)A=p*hn+(F[h]||0),w[h]=A/H|0,p=A%H|0;else{for(p=hn/(H[0]+1)|0,p>1&&(H=e(H,p),F=e(F,p),M=H.length,T=F.length),C=M,j=F.slice(0,M),S=j.length;S<M;)j[S++]=0;D=H.slice(),D.unshift(0),k=H[0],H[1]>=hn/2&&++k;do p=0,d=t(H,j,M,S),d<0?(N=j[0],M!=S&&(N=N*hn+(j[1]||0)),p=N/k|0,p>1?(p>=hn&&(p=hn-1),g=e(H,p),v=g.length,S=j.length,d=t(g,j,v,S),d==1&&(p--,n(g,M<v?D:H,v))):(p==0&&(d=p=1),g=H.slice()),v=g.length,v<S&&g.unshift(0),n(j,g,S),d==-1&&(S=j.length,d=t(H,j,M,S),d<1&&(p++,n(j,M<S?D:H,S))),S=j.length):d===0&&(p++,j=[0]),w[h++]=p,d&&j[0]?j[S++]=F[C]||0:(j=[F[C]],S=1);while((C++<T||j[0]!==void 0)&&O--)}return w[0]||w.shift(),b.e=f,vt(b,l?s+Zt(b)+1:s)}})();function wP(e,t){var n,r,i,s,l,d,f=0,h=0,p=e.constructor,g=p.precision;if(Zt(e)>16)throw Error(hx+Zt(e));if(!e.s)return new p(lr);for(Ot=!1,d=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(bs(2,h))/Math.LN10*2+5|0,d+=r,n=i=s=new p(lr),p.precision=d;;){if(i=vt(i.times(e),d),n=n.times(++f),l=s.plus(Ha(i,n,d)),la(l.d).slice(0,d)===la(s.d).slice(0,d)){for(;h--;)s=vt(s.times(s),d);return p.precision=g,t==null?(Ot=!0,vt(s,g)):s}s=l}}function Zt(e){for(var t=e.e*jt,n=e.d[0];n>=10;n/=10)t++;return t}function ay(e,t,n){if(t>e.LN10.sd())throw Ot=!0,n&&(e.precision=n),Error(kr+"LN10 precision limit exceeded");return vt(new e(e.LN10),t)}function ki(e){for(var t="";e--;)t+="0";return t}function fu(e,t){var n,r,i,s,l,d,f,h,p,g=1,v=10,b=e,w=b.d,j=b.constructor,S=j.precision;if(b.s<1)throw Error(kr+(b.s?"NaN":"-Infinity"));if(b.eq(lr))return new j(0);if(t==null?(Ot=!1,h=S):h=t,b.eq(10))return t==null&&(Ot=!0),ay(j,h);if(h+=v,j.precision=h,n=la(w),r=n.charAt(0),s=Zt(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=la(b.d),r=n.charAt(0),g++;s=Zt(b),r>1?(b=new j("0."+n),s++):b=new j(r+"."+n.slice(1))}else return f=ay(j,h+2,S).times(s+""),b=fu(new j(r+"."+n.slice(1)),h-v).plus(f),j.precision=S,t==null?(Ot=!0,vt(b,S)):b;for(d=l=b=Ha(b.minus(lr),b.plus(lr),h),p=vt(b.times(b),h),i=3;;){if(l=vt(l.times(p),h),f=d.plus(Ha(l,new j(i),h)),la(f.d).slice(0,h)===la(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(ay(j,h+2,S).times(s+""))),d=Ha(d,new j(g),h),j.precision=S,t==null?(Ot=!0,vt(d,S)):d;d=f,i+=2}}function JE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ol(n/jt),e.d=[],r=(n+1)%jt,n<0&&(r+=jt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=jt;r<i;)e.d.push(+t.slice(r,r+=jt));t=t.slice(r),r=jt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ot&&(e.e>ph||e.e<-ph))throw Error(hx+n)}else e.s=0,e.e=0,e.d=[0];return e}function vt(e,t,n){var r,i,s,l,d,f,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=jt,i=t,h=g[p=0];else{if(p=Math.ceil((r+1)/jt),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=jt,i=r-jt+l}if(n!==void 0&&(s=bs(10,l-i-1),d=h/s%10|0,f=t<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?i>0?h/bs(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(s=Zt(e),g.length=1,t=t-s-1,g[0]=bs(10,(jt-t%jt)%jt),e.e=Ol(-t/jt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=bs(10,jt-r),g[p]=i>0?(h/bs(10,l-i)%bs(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==hn&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=hn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Ot&&(e.e>ph||e.e<-ph))throw Error(hx+Zt(e));return e}function jP(e,t){var n,r,i,s,l,d,f,h,p,g,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Ot?vt(t,b):t;if(f=e.d,g=t.d,r=t.e,h=e.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,d=g.length):(n=g,r=h,d=f.length),i=Math.max(Math.ceil(b/jt),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,d=g.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(n=f,f=g,g=n,t.s=-t.s),d=f.length,i=g.length-d;i>0;--i)f[d++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=hn-1;--f[s],f[i]+=hn}f[i]-=g[i]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Ot?vt(t,b):t):new v(0)}function zs(e,t,n){var r,i=Zt(e),s=la(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+ki(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ki(-i-1)+s,n&&(r=n-l)>0&&(s+=ki(r))):i>=l?(s+=ki(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+ki(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=ki(r))),e.s<0?"-"+s:s}function ZE(e,t){if(e.length>t)return e.length=t,!0}function SP(e){var t,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Is+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return JE(l,s.toString())}else if(typeof s!="string")throw Error(Is+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,HK.test(s))JE(l,s);else throw Error(Is+s)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SP,i.config=i.set=FK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function FK(e){if(!e||typeof e!="object")throw Error(kr+"Object expected");var t,n,r,i=["precision",1,El,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ol(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Is+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Is+n+": "+r);return this}var mx=SP(qK);lr=new mx(1);const ct=mx;var KK=e=>e,NP={},EP=e=>e===NP,eO=e=>function t(){return arguments.length===0||arguments.length===1&&EP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OP=(e,t)=>e===1?t:eO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==NP).length;return s>=e?t(...r):OP(e-s,eO(function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];var h=r.map(p=>EP(p)?d.shift():p);return t(...h,...d)}))}),nm=e=>OP(e.length,e),S0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},GK=nm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),YK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return KK;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((d,f)=>f(d),s(...arguments))}},N0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),AP=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((l,d)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[d])})||(t=i,n=e(...i)),n}};function CP(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function TP(e,t,n){for(var r=new ct(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}nm((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});nm((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});nm((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var kP=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},PP=(e,t,n)=>{if(e.lte(0))return new ct(0);var r=CP(e.toNumber()),i=new ct(10).pow(r),s=e.div(i),l=r!==1?.05:.1,d=new ct(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=d.mul(i);return t?new ct(f.toNumber()):new ct(Math.ceil(f.toNumber()))},VK=(e,t,n)=>{var r=new ct(1),i=new ct(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new ct(10).pow(CP(e)-1),i=new ct(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new ct(Math.floor(e)))}else e===0?i=new ct(Math.floor((t-1)/2)):n||(i=new ct(Math.floor(e)));var l=Math.floor((t-1)/2),d=YK(GK(f=>i.add(new ct(f-l).mul(r)).toNumber()),S0);return d(0,t)},MP=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var l=PP(new ct(n).sub(t).div(r-1),i,s),d;t<=0&&n>=0?d=new ct(0):(d=new ct(t).add(n).div(2),d=d.sub(new ct(d).mod(l)));var f=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new ct(n).sub(d).div(l).toNumber()),p=f+h+1;return p>r?MP(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:d.sub(new ct(f).mul(l)),tickMax:d.add(new ct(h).mul(l))})};function WK(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,d]=kP([t,n]);if(l===-1/0||d===1/0){var f=d===1/0?[l,...S0(0,r-1).map(()=>1/0)]:[...S0(0,r-1).map(()=>-1/0),d];return t>n?N0(f):f}if(l===d)return VK(l,r,i);var{step:h,tickMin:p,tickMax:g}=MP(l,d,s,i,0),v=TP(p,g.add(new ct(.1).mul(h)),h);return t>n?N0(v):v}function XK(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=kP([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var d=Math.max(t,2),f=PP(new ct(l).sub(s).div(d-1),i,0),h=[...TP(new ct(s),new ct(l),f),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?N0(h):h}var QK=AP(WK),JK=AP(XK),RP=e=>e.rootProps.maxBarSize,ZK=e=>e.rootProps.barGap,DP=e=>e.rootProps.barCategoryGap,eG=e=>e.rootProps.barSize,ku=e=>e.rootProps.stackOffset,px=e=>e.options.chartName,gx=e=>e.rootProps.syncId,IP=e=>e.rootProps.syncMethod,vx=e=>e.options.eventEmitter,Ia={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},or={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},rm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},tG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:Ia.reversed,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:Ia.type,unit:void 0},nG={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:or.type,unit:void 0},rG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aG={allowDataOverflow:or.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:or.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:or.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:or.scale,tick:or.tick,tickCount:or.tickCount,ticks:void 0,type:"category",unit:void 0},yx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?rG:tG,bx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?aG:nG,am=e=>e.polarOptions,xx=ee([Xa,Qa,sn],yk),LP=ee([am,xx],(e,t)=>{if(e!=null)return Tn(e.innerRadius,t,0)}),UP=ee([am,xx],(e,t)=>{if(e!=null)return Tn(e.outerRadius,t,t*.8)}),iG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},$P=ee([am],iG);ee([yx,$P],rm);var zP=ee([xx,LP,UP],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ee([bx,zP],rm);var BP=ee([rt,am,LP,UP,Xa,Qa],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:d,startAngle:f,endAngle:h}=t;return{cx:Tn(l,i,i/2),cy:Tn(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Ct=(e,t)=>t,Pu=(e,t,n)=>n;function _x(e){return e==null?void 0:e.id}var ln=e=>{var t=rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Al=e=>e.tooltip.settings.axisId,vn=e=>{var t=ln(e),n=Al(e);return Mu(e,t,n)},qP=ee([vn],e=>e==null?void 0:e.dataKey);function HP(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return e.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=_x(d);h.forEach((g,v)=>{var b=s==null||i?v:String(Rt(g,s,null)),w=Rt(g,d.dataKey,0),j;l.has(b)?j=l.get(b):j={},Object.assign(j,{[p]:w}),l.set(b,j)})}}),Array.from(l.values())}function im(e){return e.stackId!=null&&e.dataKey!=null}function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){sG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sG(e,t,n){return(t=oG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=[0,"auto"],ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FP=(e,t)=>e.cartesianAxis.xAxis[t],Za=(e,t)=>{var n=FP(e,t);return n??ir},sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eu},KP=(e,t)=>e.cartesianAxis.yAxis[t],ei=(e,t)=>{var n=KP(e,t);return n??sr},cG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??cG},Ht=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);case"zAxis":return wx(e,n);case"angleAxis":return yx(e,n);case"radiusAxis":return bx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uG=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mu=(e,t,n)=>{switch(t){case"xAxis":return Za(e,n);case"yAxis":return ei(e,n);case"angleAxis":return yx(e,n);case"radiusAxis":return bx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},GP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function jx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Sx=e=>e.graphicalItems.cartesianItems,dG=ee([Ct,Pu],jx),Nx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ru=ee([Sx,Ht,dG],Nx),YP=ee([Ru],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(im)),VP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WP=ee([Ru],VP),Ex=e=>e.map(t=>t.data).filter(Boolean).flat(1),fG=ee([Ru],Ex),Ox=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ax=ee([fG,fx],Ox),Cx=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Rt(i,r)}))):e.map(r=>({value:r})),sm=ee([Ax,Ht,Ru],Cx);function XP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ws(e){return e.filter(t=>da(t)||t instanceof Date).map(Number).filter(t=>ur(t)===!1)}function hG(e,t,n){return!n||typeof t!="number"||ur(t)?[]:n.length?Ws(n.flatMap(r=>{var i=Rt(e,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!fr(s)||!fr(l)))return[t-s,t+l]})):[]}var mG=ee([YP,fx,vn],HP),QP=(e,t,n)=>{var r={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,d]=s,f=d.map(_x);return[l,{stackedData:y7(e,f,n),graphicalItems:d}]}))},O0=ee([mG,YP,ku],QP),JP=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=j7(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},pG=ee([O0,Gi,Ct],JP),ZP=(e,t,n,r,i)=>n.length>0?e.flatMap(s=>n.flatMap(l=>{var d,f,h=(d=r[l.id])===null||d===void 0?void 0:d.filter(g=>XP(i,g)),p=Rt(s,(f=t.dataKey)!==null&&f!==void 0?f:l.dataKey);return{value:p,errorDomain:hG(s,p,h)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Rt(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),om=e=>e.errorBars,eM=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>XP(n,r));ee([WP,om,Ct],eM);var gG=ee([Ax,Ht,WP,om,Ct],ZP);function vG(e){var{value:t}=e;if(da(t)||t instanceof Date)return t}var nO=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ws(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yG=(e,t,n)=>{var r=e.map(vG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hT(r))?$k(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Tx=e=>{var t;if(e==null||!("domain"in e))return E0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ws(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:E0},vh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},tM=e=>e.referenceElements.dots,Cl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),bG=ee([tM,Ct,Pu],Cl),nM=e=>e.referenceElements.areas,xG=ee([nM,Ct,Pu],Cl),rM=e=>e.referenceElements.lines,_G=ee([rM,Ct,Pu],Cl),aM=(e,t)=>{var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wG=ee(bG,Ct,aM),iM=(e,t)=>{var n=Ws(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jG=ee([xG,Ct],iM),sM=(e,t)=>{var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SG=ee(_G,Ct,sM),NG=ee(wG,SG,jG,(e,t,n)=>vh(e,n,t)),oM=ee([Ht],Tx),kx=(e,t,n,r,i,s,l)=>{var d=zK(t,e.allowDataOverflow);if(d!=null)return d;var f=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",h=f?vh(n,i,nO(r)):vh(i,nO(r));return BK(t,h,e.allowDataOverflow)},EG=ee([Ht,oM,pG,gG,NG,rt,Ct],kx),OG=[0,1],Px=(e,t,n,r,i,s,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:d,type:f}=e,h=Ks(t,s);return h&&d==null?$k(0,n.length):f==="category"?yG(r,e,h):i==="expand"?OG:l}},Mx=ee([Ht,rt,Ax,sm,ku,Ct,EG],Px),lM=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(wu(s));return d in zc?d:"point"}}},Tl=ee([Ht,rt,GP,px,Ct],lM);function AG(e){if(e!=null){if(e in zc)return zc[e]();var t="scale".concat(wu(e));if(t in zc)return zc[t]()}}function Rx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=AG(t);if(i!=null){var s=i.domain(n).range(r);return h7(s),s}}}var Dx=(e,t,n)=>{var r=Tx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pl(e))return QK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pl(e))return JK(e,t.tickCount,t.allowDecimals)}},Ix=ee([Mx,Mu,Tl],Dx),Lx=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],l=t[1],d=n[n.length-1];return[Math.min(i,s),Math.max(l,d)]}return t},CG=ee([Ht,Mx,Ix,Ct],Lx),TG=ee(sm,Ht,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ws(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),cM=ee(TG,rt,DP,sn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!fr(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=Tn(n,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),kG=(e,t)=>{var n=Za(e,t);return n==null||typeof n.padding!="string"?0:cM(e,"xAxis",t,n.padding)},PG=(e,t)=>{var n=ei(e,t);return n==null||typeof n.padding!="string"?0:cM(e,"yAxis",t,n.padding)},MG=ee(Za,kG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),RG=ee(ei,PG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),DG=ee([sn,MG,Yh,Gh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),IG=ee([sn,rt,RG,Yh,Gh,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Du=(e,t,n,r)=>{var i;switch(t){case"xAxis":return DG(e,n,r);case"yAxis":return IG(e,n,r);case"zAxis":return(i=wx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $P(e);case"radiusAxis":return zP(e,n);default:return}},uM=ee([Ht,Du],rm),kl=ee([Ht,Tl,CG,uM],Rx);ee([Ru,om,Ct],eM);function dM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lm=(e,t)=>t,cm=(e,t,n)=>n,LG=ee(Fh,lm,cm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(dM)),UG=ee(Kh,lm,cm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(dM)),fM=(e,t)=>({width:e.width,height:t.height}),$G=(e,t)=>{var n=typeof t.width=="number"?t.width:Eu;return{width:n,height:e.height}},hM=ee(sn,Za,fM),zG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},BG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},qG=ee(Qa,sn,LG,lm,cm,(e,t,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=fM(t,d);l==null&&(l=zG(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[d.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),HG=ee(Xa,sn,UG,lm,cm,(e,t,n,r,i)=>{var s={},l;return n.forEach(d=>{var f=$G(t,d);l==null&&(l=BG(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[d.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),FG=(e,t)=>{var n=Za(e,t);if(n!=null)return qG(e,n.orientation,n.mirror)},KG=ee([sn,Za,FG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),GG=(e,t)=>{var n=ei(e,t);if(n!=null)return HG(e,n.orientation,n.mirror)},YG=ee([sn,ei,GG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),mM=ee(sn,ei,(e,t)=>{var n=typeof t.width=="number"?t.width:Eu;return{width:n,height:e.height}}),rO=(e,t,n)=>{switch(t){case"xAxis":return hM(e,n).width;case"yAxis":return mM(e,n).height;default:return}},pM=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,d=Ks(e,r),f=t.map(h=>h.value);if(l&&d&&s==="category"&&i&&hT(f))return f}},Ux=ee([rt,sm,Ht,Ct],pM),gM=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=Ks(e,r);if(l&&(i==="number"||s!=="auto"))return t.map(d=>d.value)}},$x=ee([rt,sm,Mu,Ct],gM),aO=ee([rt,uG,Tl,kl,Ux,$x,Du,Ix,Ct],(e,t,n,r,i,s,l,d,f)=>{if(t==null)return null;var h=Ks(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}),VG=(e,t,n,r,i,s,l,d,f)=>{if(!(t==null||r==null)){var h=Ks(e,f),{type:p,ticks:g,tickCount:v}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/b:0;w=f==="angleAxis"&&s!=null&&s.length>=2?mn(s[0]-s[1])*2*w:w;var j=g||i;if(j){var S=j.map((N,O)=>{var A=l?l.indexOf(N):N;return{index:O,coordinate:r(A)+w,value:N,offset:w}});return S.filter(N=>!ur(N.coordinate))}return h&&d?d.map((N,O)=>({coordinate:r(N)+w,value:N,index:O,offset:w})):r.ticks?r.ticks(v).map(N=>({coordinate:r(N)+w,value:N,offset:w})):r.domain().map((N,O)=>({coordinate:r(N)+w,value:l?l[N]:N,index:O,offset:w}))}},vM=ee([rt,Mu,Tl,kl,Ix,Du,Ux,$x,Ct],VG),WG=(e,t,n,r,i,s,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=Ks(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?mn(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},gl=ee([rt,Mu,kl,Du,Ux,$x,Ct],WG),vl=ee(Ht,kl,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})}),XG=ee([Ht,Tl,Mx,uM],Rx);ee((e,t,n)=>wx(e,n),XG,(e,t)=>{if(!(e==null||t==null))return gh(gh({},e),{},{scale:t})});var QG=ee([rt,Fh,Kh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yM=e=>e.options.defaultTooltipEventType,bM=e=>e.options.validateTooltipEventTypes;function xM(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zx(e,t){var n=yM(e),r=bM(e);return xM(t,n,r)}function JG(e){return Ne(t=>zx(t,e))}var _M=(e,t)=>{var n,r=Number(t);if(!(ur(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},ZG=e=>e.tooltip.settings,Di={active:!1,index:null,dataKey:void 0,coordinate:void 0},eY={itemInteraction:{click:Di,hover:Di},axisInteraction:{click:Di,hover:Di},keyboardInteraction:Di,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},wM=hr({name:"tooltip",initialState:eY,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=qa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:tY,removeTooltipEntrySettings:nY,setTooltipSettingsState:rY,setActiveMouseOverItemIndex:jM,mouseLeaveItem:aY,mouseLeaveChart:SM,setActiveClickItemIndex:iY,setMouseOverAxisIndex:NM,setMouseClickAxisIndex:sY,setSyncInteraction:A0,setKeyboardInteraction:C0}=wM.actions,oY=wM.reducer;function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(r){lY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lY(e,t,n){return(t=cY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cY(e){var t=uY(e,"string");return typeof t=="symbol"?t:t+""}function uY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function fY(e){return e.index!=null}var EM=(e,t,n,r)=>{if(t==null)return Di;var i=dY(e,t,n);if(i==null)return Di;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(fY(i)){if(s)return bf(bf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return bf(bf({},Di),{},{coordinate:i.coordinate})},Bx=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!fr(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},OM=(e,t,n,r,i,s,l,d)=>{if(!(s==null||d==null)){var f=l[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},AM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},Iu=e=>e.options.tooltipPayloadSearcher,Pl=e=>e.tooltip;function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){hY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e,t){return e??t}var CM=(e,t,n,r,i,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((v,b)=>{var w,{dataDefinedOnItem:j,settings:S}=b,N=gY(j,d),O=Array.isArray(N)?bk(N,h,p):N,A=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r,C=S==null?void 0:S.nameKey,T;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?T=n8(O,r,i):T=s(O,t,f,C),Array.isArray(T))T.forEach(M=>{var D=oO(oO({},S),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(HN({tooltipEntrySettings:D,dataKey:M.dataKey,payload:M.payload,value:Rt(M.payload,M.dataKey),name:M.name}))});else{var k;v.push(HN({tooltipEntrySettings:S,dataKey:A,payload:T,value:Rt(T,A),name:(k=Rt(T,C))!==null&&k!==void 0?k:S==null?void 0:S.name}))}return v},g)}},qx=ee([vn,rt,GP,px,ln],lM),vY=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yY=ee([ln,Al],jx),Lu=ee([vY,vn,yY],Nx),bY=ee([Lu],e=>e.filter(im)),xY=ee([Lu],Ex),Ml=ee([xY,Gi],Ox),_Y=ee([bY,Gi,vn],HP),Hx=ee([Ml,vn,Lu],Cx),wY=ee([vn],Tx),jY=ee([Lu],e=>e.filter(im)),SY=ee([_Y,jY,ku],QP),NY=ee([SY,Gi,ln],JP),EY=ee([Lu],VP),OY=ee([Ml,vn,EY,om,ln],ZP),AY=ee([tM,ln,Al],Cl),CY=ee([AY,ln],aM),TY=ee([nM,ln,Al],Cl),kY=ee([TY,ln],iM),PY=ee([rM,ln,Al],Cl),MY=ee([PY,ln],sM),RY=ee([CY,MY,kY],vh),DY=ee([vn,wY,NY,OY,RY,rt,ln],kx),TM=ee([vn,rt,Ml,Hx,ku,ln,DY],Px),IY=ee([TM,vn,qx],Dx),LY=ee([vn,TM,IY,ln],Lx),kM=e=>{var t=ln(e),n=Al(e),r=!1;return Du(e,t,n,r)},PM=ee([vn,kM],rm),MM=ee([vn,qx,LY,PM],Rx),UY=ee([rt,Hx,vn,ln],pM),$Y=ee([rt,Hx,vn,ln],gM),zY=(e,t,n,r,i,s,l,d)=>{if(t){var{type:f}=t,h=Ks(e,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mn(i[0]-i[1])*2*g:g,h&&l?l.map((v,b)=>({coordinate:r(v)+g,value:v,index:b,offset:g})):r.domain().map((v,b)=>({coordinate:r(v)+g,value:s?s[v]:v,index:b,offset:g}))}}},ti=ee([rt,vn,qx,MM,kM,UY,$Y,ln],zY),Fx=ee([yM,bM,ZG],(e,t,n)=>xM(n.shared,e,t)),RM=e=>e.tooltip.settings.trigger,Kx=e=>e.tooltip.settings.defaultIndex,um=ee([Pl,Fx,RM,Kx],EM),Bs=ee([um,Ml],Bx),DM=ee([ti,Bs],_M),IM=ee([um],e=>{if(e)return e.dataKey}),LM=ee([Pl,Fx,RM,Kx],AM),BY=ee([Xa,Qa,rt,sn,ti,Kx,LM,Iu],OM),qY=ee([um,BY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),HY=ee([um],e=>e.active),FY=ee([LM,Bs,Gi,qP,DM,Iu,Fx],CM);ee([FY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(r){KY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KY(e,t,n){return(t=GY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VY=()=>Ne(vn),WY=()=>{var e=VY(),t=Ne(ti),n=Ne(MM);return Db(cO(cO({},e),{},{scale:n}),t)},XY=()=>Ne(px),Gx=(e,t)=>t,UM=(e,t,n)=>n,Yx=(e,t,n,r)=>r,QY=ee(ti,e=>Lh(e,t=>t.coordinate)),Vx=ee([Pl,Gx,UM,Yx],EM),$M=ee([Vx,Ml],Bx),JY=(e,t,n)=>{if(t!=null){var r=Pl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},zM=ee([Pl,Gx,UM,Yx],AM),yh=ee([Xa,Qa,rt,sn,ti,Yx,zM,Iu],OM),ZY=ee([Vx,yh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),BM=ee(ti,$M,_M),eV=ee([zM,$M,Gi,qP,BM,Iu,Gx],CM),tV=ee([Vx],e=>({isActive:e.active,activeIndex:e.index})),nV=(e,t,n,r,i,s,l,d)=>{if(!(!e||!t||!r||!i||!s)){var f=S7(e.chartX,e.chartY,t,n,d);if(f){var h=E7(f,t),p=d7(h,l,s,r,i),g=N7(t,s,p,f);return{activeIndex:String(p),activeCoordinate:g}}}};function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){rV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rV(e,t,n){return(t=aV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aV(e){var t=iV(e,"string");return typeof t=="symbol"?t:t+""}function iV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sV(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:l,cursor:d,tooltipEventType:f,chartName:h}=e,p=t,g=n,v=r;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var b,w;if(h==="ScatterChart")b=p,w=E9;else if(h==="BarChart")b=O9(l,p,i,s),w=Dk;else if(l==="radial"){var{cx:j,cy:S,radius:N,startAngle:O,endAngle:A}=Ik(p);b={cx:j,cy:S,startAngle:O,endAngle:A,innerRadius:N,outerRadius:N},w=Uk}else b={points:sH(l,p,i)},w=Tk;var C=typeof d=="object"&&"className"in d?d.className:void 0,T=xf(xf(xf(xf({stroke:"#ccc",pointerEvents:"none"},i),b),an(d,!1)),{},{payload:g,payloadIndex:v,className:ut("recharts-tooltip-cursor",C)});return x.isValidElement(d)?x.cloneElement(d,T):x.createElement(w,T)}function oV(e){var t=WY(),n=Nk(),r=zb(),i=XY();return x.createElement(sV,T0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var qM=x.createContext(null),lV=()=>x.useContext(qM),iy={exports:{}},dO;function cV(){return dO||(dO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,v),w=n?n+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,w=new Array(b);v<b;v++)w[v]=g[v].fn;return w},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,v,b,w){var j=n?n+h:h;if(!this._events[j])return!1;var S=this._events[j],N=arguments.length,O,A;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,b),!0;case 6:return S.fn.call(S.context,p,g,v,b,w),!0}for(A=1,O=new Array(N-1);A<N;A++)O[A-1]=arguments[A];S.fn.apply(S.context,O)}else{var C=S.length,T;for(A=0;A<C;A++)switch(S[A].once&&this.removeListener(h,S[A].fn,void 0,!0),N){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,p);break;case 3:S[A].fn.call(S[A].context,p,g);break;case 4:S[A].fn.call(S[A].context,p,g,v);break;default:if(!O)for(T=1,O=new Array(N-1);T<N;T++)O[T-1]=arguments[T];S[A].fn.apply(S[A].context,O)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,v){var b=n?n+h:h;if(!this._events[b])return this;if(!p)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&l(this,b);else{for(var j=0,S=[],N=w.length;j<N;j++)(w[j].fn!==p||v&&!w[j].once||g&&w[j].context!==g)&&S.push(w[j]);S.length?this._events[b]=S.length===1?S[0]:S:l(this,b)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(iy)),iy.exports}var uV=cV();const dV=Vr(uV);var hu=new dV,k0="recharts.syncEvent.tooltip",fO="recharts.syncEvent.brush";function HM(e,t){if(t){var n=Number.parseInt(t,10);if(!ur(n))return e==null?void 0:e[n]}}var fV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},FM=hr({name:"options",initialState:fV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hV=FM.reducer,{createEventEmitter:mV}=FM.actions;function pV(e){return e.tooltip.syncInteraction}var gV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KM=hr({name:"chartData",initialState:gV,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:hO,setDataStartEndIndexes:vV,setComputedData:Jne}=KM.actions,yV=KM.reducer,bV=["x","y"];function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){xV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xV(e,t,n){return(t=_V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _V(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jV(e,t){if(e==null)return{};var n,r,i=SV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GM=()=>{};function NV(){var e=Ne(gx),t=Ne(vx),n=Dt(),r=Ne(IP),i=Ne(ti),s=zb(),l=Lb(),d=Ne(f=>f.rootProps.className);x.useEffect(()=>{if(e==null)return GM;var f=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate){var b=p.payload.coordinate,{x:w,y:j}=b,S=jV(b,bV),N=ms(ms(ms({},S),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof j=="number"&&{y:Math.max(l.y,Math.min(j,l.y+l.height))}),O=ms(ms({},p),{},{payload:ms(ms({},p.payload),{},{coordinate:N})});n(O)}else n(p);return}if(i!=null){var A;if(typeof r=="function"){var C={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,C);A=i[T]}else r==="value"&&(A=i.find(re=>String(re.value)===p.payload.label));var{coordinate:k}=p.payload;if(A==null||p.payload.active===!1||k==null||l==null){n(A0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:M,y:D}=k,q=Math.min(M,l.x+l.width),$=Math.min(D,l.y+l.height),F={x:s==="horizontal"?A.coordinate:q,y:s==="horizontal"?$:A.coordinate},H=A0({active:p.payload.active,coordinate:F,dataKey:p.payload.dataKey,index:String(A.index),label:p.payload.label});n(H)}}};return hu.on(k0,f),()=>{hu.off(k0,f)}},[d,n,t,e,r,i,s,l])}function EV(){var e=Ne(gx),t=Ne(vx),n=Dt();x.useEffect(()=>{if(e==null)return GM;var r=(i,s,l)=>{t!==l&&e===i&&n(vV(s))};return hu.on(fO,r),()=>{hu.off(fO,r)}},[n,t,e])}function OV(){var e=Dt();x.useEffect(()=>{e(mV())},[e]),NV(),EV()}function AV(e,t,n,r,i,s){var l=Ne(v=>JY(v,e,t)),d=Ne(vx),f=Ne(gx),h=Ne(IP),p=Ne(pV),g=p==null?void 0:p.active;x.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=A0({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});hu.emit(k0,f,v,d)}},[g,n,l,i,r,d,f,h,s])}function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){CV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CV(e,t,n){return(t=TV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PV(e){return e.dataKey}function MV(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(a9,t)}var vO=[],RV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yO(e){var t=Dn(e,RV),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:l,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:v,useTranslate3d:b,wrapperStyle:w,cursor:j,shared:S,trigger:N,defaultIndex:O,portal:A,axisId:C}=t,T=Dt(),k=typeof O=="number"?String(O):O;x.useEffect(()=>{T(rY({shared:S,trigger:N,axisId:C,active:n,defaultIndex:k}))},[T,S,N,C,n,k]);var M=Lb(),D=Ck(),q=JG(S),{activeIndex:$,isActive:F}=Ne(se=>tV(se,q,N,k)),H=Ne(se=>eV(se,q,N,k)),re=Ne(se=>BM(se,q,N,k)),B=Ne(se=>ZY(se,q,N,k)),K=H,I=lV(),Y=n??F,[W,ue]=YT([K,Y]),ne=q==="axis"?re:void 0;AV(q,N,B,ne,$,Y);var R=A??I;if(R==null)return null;var L=K??vO;Y||(L=vO),d&&L.length&&(L=qT(K.filter(se=>se.value!=null&&(se.hide!==!0||t.includeHidden)),p,PV));var X=L.length>0,ie=x.createElement(d9,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:f,active:Y,coordinate:B,hasPayload:X,offset:h,position:g,reverseDirection:v,useTranslate3d:b,viewBox:M,wrapperStyle:w,lastBoundingBox:W,innerRef:ue,hasPortalFromProps:!!A},MV(l,gO(gO({},t),{},{payload:L,label:ne,active:Y,coordinate:B,accessibilityLayer:D})));return x.createElement(x.Fragment,null,W0.createPortal(ie,R),Y&&x.createElement(oV,{cursor:j,tooltipEventType:q,coordinate:B,payload:K,index:$}))}var sy={},oy={},ly={},bO;function DV(){return bO||(bO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let l,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},g=()=>{h&&p(),j()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{w(),l=void 0,d=null},S=()=>{p()},N=function(...O){if(i!=null&&i.aborted)return;l=this,d=O;const A=v==null;b(),f&&A&&p()};return N.schedule=b,N.cancel=j,N.flush=S,i==null||i.addEventListener("abort",j,{once:!0}),N}e.debounce=t})(ly)),ly}var xO;function IV(){return xO||(xO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DV();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(...j){p=r.apply(this,j),g=null},i,{edges:h}),b=function(...j){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,j),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,j),p)},w=()=>(v.flush(),p);return b.cancel=v.cancel,b.flush=w,b}e.debounce=n})(oy)),oy}var _O;function LV(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IV();function n(r,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(r,i,{leading:l,maxWait:i,trailing:d})}e.throttle=n})(sy)),sy}var cy,wO;function UV(){return wO||(wO=1,cy=LV().throttle),cy}var $V=UV();const zV=Vr($V);var Vc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(r){BV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BV(e,t,n){return(t=qV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=HV(e,"string");return typeof t=="symbol"?t:t+""}function HV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SO=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:l=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:v,onResize:b,style:w={}}=e,j=x.useRef(null),S=x.useRef();S.current=b,x.useImperativeHandle(t,()=>j.current);var[N,O]=x.useState({containerWidth:r.width,containerHeight:r.height}),A=x.useCallback((T,k)=>{O(M=>{var D=Math.round(T),q=Math.round(k);return M.containerWidth===D&&M.containerHeight===q?M:{containerWidth:D,containerHeight:q}})},[]);x.useEffect(()=>{var T=q=>{var $,{width:F,height:H}=q[0].contentRect;A(F,H),($=S.current)===null||$===void 0||$.call(S,F,H)};p>0&&(T=zV(T,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(T),{width:M,height:D}=j.current.getBoundingClientRect();return A(M,D),k.observe(j.current),()=>{k.disconnect()}},[A,p]);var C=x.useMemo(()=>{var{containerWidth:T,containerHeight:k}=N;if(T<0||k<0)return null;Vc(As(i)||As(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Vc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=As(i)?T:i,D=As(s)?k:s;return n&&n>0&&(M?D=M/n:D&&(M=D*n),f&&D>f&&(D=f)),Vc(M>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,i,s,l,d,n),x.Children.map(h,q=>x.cloneElement(q,{width:M,height:D,style:uy({width:M,height:D},q.props.style)}))},[n,h,s,f,d,l,N,i]);return x.createElement("div",{id:g?"".concat(g):void 0,className:ut("recharts-responsive-container",v),style:uy(uy({},w),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:f}),ref:j},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),Uu=e=>null;Uu.displayName="Cell";function FV(e,t,n){return(t=KV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class YV{constructor(t){FV(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){WV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WV(e,t,n){return(t=XV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JV={cacheSize:2e3,enableCache:!0},YM=VV({},JV),EO=new YV(YM.cacheSize),ZV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OO="recharts_measurement_span";function eW(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(d)}var AO=(e,t)=>{try{var n=document.getElementById(OO);n||(n=document.createElement("span"),n.setAttribute("id",OO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ZV,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gs.isSsr)return{width:0,height:0};if(!YM.enableCache)return AO(t,n);var r=eW(t,n),i=EO.get(r);if(i)return i;var s=AO(t,n);return EO.set(r,s),s},CO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rW=Object.keys(VM),tl="NaN";function aW(e,t){return e*VM[t]}class Fn{static parse(t){var n,[,r,i]=(n=nW.exec(t))!==null&&n!==void 0?n:[];return new Fn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ur(t)&&(this.unit=""),n!==""&&!tW.test(n)&&(this.num=NaN,this.unit=""),rW.includes(n)&&(this.num=aW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function WM(e){if(e.includes(tl))return tl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=CO.exec(t))!==null&&n!==void 0?n:[],l=Fn.parse(r??""),d=Fn.parse(s??""),f=i==="*"?l.multiply(d):l.divide(d);if(f.isNaN())return tl;t=t.replace(CO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=TO.exec(t))!==null&&h!==void 0?h:[],b=Fn.parse(p??""),w=Fn.parse(v??""),j=g==="+"?b.add(w):b.subtract(w);if(j.isNaN())return tl;t=t.replace(TO,j.toString())}return t}var kO=/\(([^()]*)\)/;function iW(e){for(var t=e,n;(n=kO.exec(t))!=null;){var[,r]=n;t=t.replace(kO,WM(r))}return t}function sW(e){var t=e.replace(/\s+/g,"");return t=iW(t),t=WM(t),t}function oW(e){try{return sW(e)}catch{return tl}}function dy(e){var t=oW(e.slice(5,-1));return t===tl?"":t}var lW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cW=["dx","dy","angle","className","breakAll"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}function PO(e,t){if(e==null)return{};var n,r,i=uW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XM=/[ \f\n\r\t\v\u2028\u2029]+/,QM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];pn(t)||(n?i=t.toString().split(""):i=t.toString().split(XM));var s=i.map(d=>({word:d,width:Wc(d,r).width})),l=n?0:Wc(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},dW=(e,t,n,r,i)=>{var{maxLines:s,children:l,style:d,breakAll:f}=e,h=Oe(s),p=l,g=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce((H,re)=>{var{word:B,width:K}=re,I=H[H.length-1];if(I&&(r==null||i||I.width+K+n<Number(r)))I.words.push(B),I.width+=K+n;else{var Y={words:[B],width:K};H.push(Y)}return H},[])},v=g(t),b=$=>$.reduce((F,H)=>F.width>H.width?F:H);if(!h||i)return v;var w=v.length>s||b(v).width>Number(r);if(!w)return v;for(var j="…",S=$=>{var F=p.slice(0,$),H=QM({breakAll:f,style:d,children:F+j}).wordsWithComputedWidth,re=g(H),B=re.length>s||b(re).width>Number(r);return[B,re]},N=0,O=p.length-1,A=0,C;N<=O&&A<=p.length-1;){var T=Math.floor((N+O)/2),k=T-1,[M,D]=S(k),[q]=S(T);if(!M&&!q&&(N=T+1),M&&q&&(O=T-1),!M&&q){C=D;break}A++}return C||v},MO=e=>{var t=pn(e)?[]:e.toString().split(XM);return[{words:t}]},fW=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=e;if((t||n)&&!Gs.isSsr){var d,f,h=QM({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return MO(r);return dW({breakAll:s,children:r,maxLines:l,style:i},d,f,t,n)}return MO(r)},RO="#808080",dm=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:d="start",verticalAnchor:f="end",fill:h=RO}=e,p=PO(e,lW),g=x.useMemo(()=>fW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:v,dy:b,angle:w,className:j,breakAll:S}=p,N=PO(p,cW);if(!da(n)||!da(r)||g.length===0)return null;var O=n+(Oe(v)?v:0),A=r+(Oe(b)?b:0),C;switch(f){case"start":C=dy("calc(".concat(s,")"));break;case"middle":C=dy("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:C=dy("calc(".concat(g.length-1," * -").concat(i,")"));break}var T=[];if(l){var k=g[0].width,{width:M}=p;T.push("scale(".concat(Oe(M)?M/k:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(O,", ").concat(A,")")),T.length&&(N.transform=T.join(" ")),x.createElement("text",P0({},an(N,!0),{ref:t,x:O,y:A,className:ut("recharts-text",j),textAnchor:d,fill:h.includes("url")?RO:h}),g.map((D,q)=>{var $=D.words.join(S?"":" ");return x.createElement("tspan",{x:O,dy:q===0?C:i,key:"".concat($,"-").concat(q)},$)}))});dm.displayName="Text";var hW=["labelRef"];function mW(e,t){if(e==null)return{};var n,r,i=pW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(n),!0).forEach(function(r){gW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gW(e,t,n){return(t=vW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},La.apply(null,arguments)}var JM=x.createContext(null),bW=e=>{var{x:t,y:n,width:r,height:i,children:s}=e,l=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(JM.Provider,{value:l},s)},ZM=()=>{var e=x.useContext(JM),t=Lb();return e||t},xW=x.createContext(null),_W=()=>{var e=x.useContext(xW),t=Ne(BP);return e||t},wW=e=>{var{value:t,formatter:n}=e,r=pn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Wx=e=>e!=null&&typeof e=="function",jW=(e,t)=>{var n=mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},SW=(e,t,n,r,i)=>{var{offset:s,className:l}=e,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:b}=i,w=(h+p)/2,j=jW(g,v),S=j>=0?1:-1,N,O;switch(t){case"insideStart":N=g+S*s,O=b;break;case"insideEnd":N=v-S*s,O=!b;break;case"end":N=v+S*s,O=b;break;default:throw new Error("Unsupported position ".concat(t))}O=j<=0?O:!O;var A=Jt(d,f,w,N),C=Jt(d,f,w,N+(O?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),k=pn(e.id)?ru("recharts-radial-line-"):e.id;return x.createElement("text",La({},r,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:k,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(k)},n))},NW=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:d,endAngle:f}=e,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Jt(r,i,l+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:b,y:w}=Jt(r,i,v,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},eR=e=>"cx"in e&&Oe(e.cx),EW=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!eR(n)&&(s=n);var{x:l,y:d,width:f,height:h}=t,p=h>=0?1:-1,g=p*r,v=p>0?"end":"start",b=p>0?"start":"end",w=f>=0?1:-1,j=w*r,S=w>0?"end":"start",N=w>0?"start":"end";if(i==="top"){var O={x:l+f/2,y:d-p*r,textAnchor:"middle",verticalAnchor:v};return qt(qt({},O),s?{height:Math.max(d-s.y,0),width:f}:{})}if(i==="bottom"){var A={x:l+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:b};return qt(qt({},A),s?{height:Math.max(s.y+s.height-(d+h),0),width:f}:{})}if(i==="left"){var C={x:l-j,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return qt(qt({},C),s?{width:Math.max(C.x-s.x,0),height:h}:{})}if(i==="right"){var T={x:l+f+j,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return qt(qt({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:h}:{})}var k=s?{width:f,height:h}:{};return i==="insideLeft"?qt({x:l+j,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},k):i==="insideRight"?qt({x:l+f-j,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideTop"?qt({x:l+f/2,y:d+g,textAnchor:"middle",verticalAnchor:b},k):i==="insideBottom"?qt({x:l+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:v},k):i==="insideTopLeft"?qt({x:l+j,y:d+g,textAnchor:N,verticalAnchor:b},k):i==="insideTopRight"?qt({x:l+f-j,y:d+g,textAnchor:S,verticalAnchor:b},k):i==="insideBottomLeft"?qt({x:l+j,y:d+h-g,textAnchor:N,verticalAnchor:v},k):i==="insideBottomRight"?qt({x:l+f-j,y:d+h-g,textAnchor:S,verticalAnchor:v},k):i&&typeof i=="object"&&(Oe(i.x)||As(i.x))&&(Oe(i.y)||As(i.y))?qt({x:l+Tn(i.x,f),y:d+Tn(i.y,h),textAnchor:"end",verticalAnchor:"end"},k):qt({x:l+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},OW={offset:5};function Pi(e){var t=Dn(e,OW),{viewBox:n,position:r,value:i,children:s,content:l,className:d="",textBreakAll:f,labelRef:h}=t,p=_W(),g=ZM(),v=r==="center"?g:p??g,b=n||v;if(!b||pn(i)&&pn(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var w=qt(qt({},t),{},{viewBox:b});if(x.isValidElement(l)){var{labelRef:j}=w,S=mW(w,hW);return x.cloneElement(l,S)}var N;if(typeof l=="function"){if(N=x.createElement(l,w),x.isValidElement(N))return N}else N=wW(t);var O=eR(b),A=an(t,!0);if(O&&(r==="insideStart"||r==="insideEnd"||r==="end"))return SW(t,r,N,A,b);var C=O?NW(b,t.offset,t.position):EW(t,b);return x.createElement(dm,La({ref:h,className:ut("recharts-label",d)},A,C,{breakAll:f}),N)}Pi.displayName="Label";var AW=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Pi,La({key:"label-implicit"},r)):da(e)?x.createElement(Pi,La({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Pi?x.cloneElement(e,qt({key:"label-implicit"},r)):x.createElement(Pi,La({key:"label-implicit",content:e},r)):Wx(e)?x.createElement(Pi,La({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Pi,La({},e,{key:"label-implicit"},r)):null};function CW(e){var{label:t}=e,n=ZM();return AW(t,n)||null}var fy={},hy={},IO;function TW(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(hy)),hy}var my={},LO;function kW(){return LO||(LO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(my)),my}var UO;function PW(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TW(),n=kW(),r=Ob();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(fy)),fy}var py,$O;function MW(){return $O||($O=1,py=PW().last),py}var RW=MW();const DW=Vr(RW);var IW=["valueAccessor"],LW=["dataKey","clockWise","id","textBreakAll"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function zO(e,t){if(e==null)return{};var n,r,i=UW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $W=e=>Array.isArray(e.value)?DW(e.value):e.value,tR=x.createContext(void 0),zW=tR.Provider,nR=x.createContext(void 0),BW=nR.Provider;function qW(){return x.useContext(tR)}function HW(){return x.useContext(nR)}function kf(e){var{valueAccessor:t=$W}=e,n=zO(e,IW),{dataKey:r,clockWise:i,id:s,textBreakAll:l}=n,d=zO(n,LW),f=qW(),h=HW(),p=f||h;return!p||!p.length?null:x.createElement(Vn,{className:"recharts-label-list"},p.map((g,v)=>{var b,w=pn(r)?t(g,v):Rt(g&&g.payload,r),j=pn(s)?{}:{id:"".concat(s,"-").concat(v)};return x.createElement(Pi,bh({},an(g,!0),d,j,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:l,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}kf.displayName="LabelList";function rR(e){var{label:t}=e;return t?t===!0?x.createElement(kf,{key:"labelList-implicit"}):x.isValidElement(t)||Wx(t)?x.createElement(kf,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(kf,bh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var aR=e=>e.graphicalItems.polarItems,FW=ee([Ct,Pu],jx),Xx=ee([aR,Ht,FW],Nx),KW=ee([Xx],Ex),Qx=ee([KW,dx],Ox),GW=ee([Qx,Ht,Xx],Cx),YW=ee([Qx,Ht,Xx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,l=Rt(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),BO=()=>{},VW=ee([Ht,oM,BO,YW,BO,rt,Ct],kx),iR=ee([Ht,rt,Qx,GW,ku,Ct,VW],Px),WW=ee([iR,Ht,Tl],Dx);ee([Ht,iR,WW,Ct],Lx);var XW={radiusAxis:{},angleAxis:{}},sR=hr({name:"polarAxis",initialState:XW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Zne,removeRadiusAxis:ere,addAngleAxis:tre,removeAngleAxis:nre}=sR.actions,QW=sR.reducer;function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX=(e,t)=>t,Jx=ee([aR,tX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),nX=[],Zx=(e,t,n)=>(n==null?void 0:n.length)===0?nX:n,oR=ee([dx,Jx,Zx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>HO(HO({},t.presentationProps),s.props))),i!=null)return i}}),rX=ee([oR,Jx,Zx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,l=Rt(r,t.nameKey,t.name),d;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:Hh(l,t.dataKey),color:d,payload:r,type:t.legendType}})}),aX=ee([oR,Jx,Zx,sn],(e,t,n,r)=>{if(!(t==null||e==null))return rQ({offset:r,pieSettings:t,displayedData:e,cells:n})}),gy={},FO;function iX(){return FO||(FO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(gy)),gy}var vy,KO;function sX(){return KO||(KO=1,vy=iX().isPlainObject),vy}var oX=sX();const lX=Vr(oX);function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){cX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cX(e,t,n){return(t=uX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}var VO=(e,t,n,r,i)=>{var s=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-s/2,",").concat(t+i),l+="L ".concat(e+n-s/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},fX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hX=e=>{var t=Dn(e,fX),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=x.useRef(),[b,w]=x.useState(-1),j=x.useRef(i),S=x.useRef(s),N=x.useRef(l),O=x.useRef(n),A=x.useRef(r),C=Wh(e,"trapezoid-");if(x.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var B=v.current.getTotalLength();B&&w(B)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var T=ut("recharts-trapezoid",d);if(!g)return x.createElement("g",null,x.createElement("path",xh({},an(t,!0),{className:T,d:VO(n,r,i,s,l)})));var k=j.current,M=S.current,D=N.current,q=O.current,$=A.current,F="0px ".concat(b===-1?1:b,"px"),H="".concat(b,"px 0px"),re=kk(["strokeDasharray"],h,f);return x.createElement(Vh,{animationId:C,key:C,canBegin:b>0,duration:h,easing:f,isActive:g,begin:p},B=>{var K=Nn(k,i,B),I=Nn(M,s,B),Y=Nn(D,l,B),W=Nn(q,n,B),ue=Nn($,r,B);v.current&&(j.current=K,S.current=I,N.current=Y,O.current=W,A.current=ue);var ne=B>0?{transition:re,strokeDasharray:H}:{strokeDasharray:F};return x.createElement("path",xh({},an(t,!0),{className:T,d:VO(W,ue,K,I,Y),ref:v,style:YO(YO({},ne),t.style)}))})},mX=["option","shapeType","propTransformer","activeClassName","isActive"];function pX(e,t){if(e==null)return{};var n,r,i=gX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xX(e,t){return _h(_h({},t),e)}function _X(e,t){return e==="symbols"}function XO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(Dk,n);case"trapezoid":return x.createElement(hX,n);case"sector":return x.createElement(Uk,n);case"symbols":if(_X(t))return x.createElement(Sb,n);break;default:return null}}function wX(e){return x.isValidElement(e)?e.props:e}function lR(e){var{option:t,shapeType:n,propTransformer:r=xX,activeClassName:i="recharts-active-shape",isActive:s}=e,l=pX(e,mX),d;if(x.isValidElement(t))d=x.cloneElement(t,_h(_h({},l),wX(t)));else if(typeof t=="function")d=t(l);else if(lX(t)&&typeof t!="boolean"){var f=r(t,l);d=x.createElement(XO,{shapeType:n,elementProps:f})}else{var h=l;d=x.createElement(XO,{shapeType:n,elementProps:h})}return s?x.createElement(Vn,{className:i},d):d}var e_=(e,t)=>{var n=Dt();return(r,i)=>s=>{e==null||e(r,i,s),n(jM({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},t_=e=>{var t=Dt();return(n,r)=>i=>{e==null||e(n,r,i),t(aY())}},n_=(e,t)=>{var n=Dt();return(r,i)=>s=>{e==null||e(r,i,s),n(iY({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function cR(e){var{fn:t,args:n}=e,r=Dt(),i=Mr();return x.useEffect(()=>{if(!i){var s=t(n);return r(tY(s)),()=>{r(nY(s))}}},[t,n,r,i]),null}var uR=()=>{};function jX(e){var{legendPayload:t}=e,n=Dt(),r=Mr();return x.useEffect(()=>r?uR:(n(Ok(t)),()=>{n(Ak(t))}),[n,r,t]),null}function SX(e){var{legendPayload:t}=e,n=Dt(),r=Ne(rt);return x.useEffect(()=>r!=="centric"&&r!=="radial"?uR:(n(Ok(t)),()=>{n(Ak(t))}),[n,r,t]),null}var yy,NX=()=>{var[e]=x.useState(()=>ru("uid-"));return e},EX=(yy=g4.useId)!==null&&yy!==void 0?yy:NX;function OX(e,t){var n=EX();return t||(e?"".concat(e,"-").concat(n):n)}var AX=x.createContext(void 0),dR=e=>{var{id:t,type:n,children:r}=e,i=OX("recharts-".concat(n),t);return x.createElement(AX.Provider,{value:i},r(i))},CX={cartesianItems:[],polarItems:[]},fR=hr({name:"graphicalItems",initialState:CX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=qa(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=qa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=qa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:TX,replaceCartesianGraphicalItem:kX,removeCartesianGraphicalItem:PX,addPolarGraphicalItem:MX,removePolarGraphicalItem:RX}=fR.actions,DX=fR.reducer;function IX(e){var t=Dt(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(TX(e)):n.current!==e&&t(kX({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(PX(n.current)),n.current=null)},[t]),null}function LX(e){var t=Dt();return x.useEffect(()=>(t(MX(e)),()=>{t(RX(e))}),[t,e]),null}var UX=["onMouseEnter","onClick","onMouseLeave"],$X=["id"],zX=["id"];function r_(e,t){if(e==null)return{};var n,r,i=BX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(r){qX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qX(e,t,n){return(t=HX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function KX(e){var t=x.useMemo(()=>bb(e.children,Uu),[e.children]),n=Ne(r=>rX(r,e.id,t));return n==null?null:x.createElement(SX,{legendPayload:n})}function GX(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:d,hide:f,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:t,nameKey:n,name:Hh(d,t),hide:f,type:h,color:l,unit:""}}}var YX=(e,t)=>e>t?"start":e<t?"end":"middle",VX=(e,t,n)=>Tn(typeof t=="function"?t(e):t,n,n*.8),WX=(e,t,n)=>{var{top:r,left:i,width:s,height:l}=t,d=yk(s,l),f=i+Tn(e.cx,s,s/2),h=r+Tn(e.cy,l,l/2),p=Tn(e.innerRadius,d,0),g=VX(n,e.outerRadius,d),v=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:v}},XX=(e,t)=>{var n=mn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function QX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var JX=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ut("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(Tk,$i({},t,{type:"linear",className:n}))},ZX=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=ut("recharts-pie-label-text",QX(e));return x.createElement(dm,$i({},t,{alignmentBaseline:"middle",className:i}),r)};function eQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!t)return null;var d=Hi(n),f=an(i,!1),h=an(s,!1),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,b)=>{var w=(v.startAngle+v.endAngle)/2,j=Jt(v.cx,v.cy,v.outerRadius+p,w),S=Et(Et(Et(Et({},d),v),{},{stroke:"none"},f),{},{index:b,textAnchor:YX(j.x,v.cx)},j),N=Et(Et(Et(Et({},d),v),{},{fill:"none",stroke:v.fill},h),{},{index:b,points:[Jt(v.cx,v.cy,v.outerRadius,w),j],key:"line"});return x.createElement(Vn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},s&&JX(s,N),ZX(i,S,Rt(v,l)))});return x.createElement(Vn,{className:"recharts-pie-labels"},g)}function tQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(rR,{label:i}):x.createElement(eQ,{sectors:t,props:n,showLabels:r})}function nQ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,s=Ne(Bs),{onMouseEnter:l,onClick:d,onMouseLeave:f}=i,h=r_(i,UX),p=e_(l,i.dataKey),g=t_(f),v=n_(d,i.dataKey);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((b,w)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var j=n&&String(w)===s,S=s?r:null,N=j?n:S,O=Et(Et({},b),{},{stroke:b.stroke,tabIndex:-1,[jk]:w,[Sk]:i.dataKey});return x.createElement(Vn,$i({tabIndex:-1,className:"recharts-pie-sector"},ju(h,b,w),{onMouseEnter:p(b,w),onMouseLeave:g(b,w),onClick:v(b,w),key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(w)}),x.createElement(lR,$i({option:N,isActive:j,shapeType:"sector"},O)))}))}function rQ(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),b=XX(d,f),w=Math.abs(b),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(k=>Rt(k,h,0)!==0).length,N=(w>=360?S:S-1)*j,O=w-S*v-N,A=r.reduce((k,M)=>{var D=Rt(M,h,0);return k+(Oe(D)?D:0)},0),C;if(A>0){var T;C=r.map((k,M)=>{var D=Rt(k,h,0),q=Rt(k,p,M),$=WX(n,s,k),F=(Oe(D)?D:0)/A,H,re=Et(Et({},k),i&&i[M]&&i[M].props);M?H=T.endAngle+mn(b)*j*(D!==0?1:0):H=d;var B=H+mn(b)*((D!==0?v:0)+F*O),K=(H+B)/2,I=($.innerRadius+$.outerRadius)/2,Y=[{name:q,value:D,payload:re,dataKey:h,type:g}],W=Jt($.cx,$.cy,I,K);return T=Et(Et(Et(Et({},n.presentationProps),{},{percent:F,cornerRadius:l,name:q,tooltipPayload:Y,midAngle:K,middleRadius:I,tooltipPosition:W},re),$),{},{value:D,startAngle:H,endAngle:B,payload:re,paddingAngle:mn(b)*j}),T})}return C}function aQ(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,t]);return x.createElement(BW,{value:t?i:void 0},r)}function iQ(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=t,v=Wh(t,"recharts-pie-"),b=n.current,[w,j]=x.useState(!1),S=x.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),N=x.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return x.createElement(aQ,{showLabels:!w,sectors:r},x.createElement(Vh,{animationId:v,begin:s,duration:l,isActive:i,easing:d,onAnimationStart:N,onAnimationEnd:S,key:v},O=>{var A=[],C=r&&r[0],T=C==null?void 0:C.startAngle;return r==null||r.forEach((k,M)=>{var D=b&&b[M],q=M>0?Ls(k,"paddingAngle",0):0;if(D){var $=Nn(D.endAngle-D.startAngle,k.endAngle-k.startAngle,O),F=Et(Et({},k),{},{startAngle:T+q,endAngle:T+$+q});A.push(F),T=F.endAngle}else{var{endAngle:H,startAngle:re}=k,B=Nn(0,H-re,O),K=Et(Et({},k),{},{startAngle:T+q,endAngle:T+B+q});A.push(K),T=K.endAngle}}),n.current=A,x.createElement(Vn,null,x.createElement(nQ,{sectors:A,activeShape:f,inactiveShape:h,allOtherPieProps:t}))}),x.createElement(tQ,{showLabels:!w,sectors:r,props:t}),t.children)}var sQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Gs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function oQ(e){var{id:t}=e,n=r_(e,$X),{hide:r,className:i,rootTabIndex:s}=e,l=x.useMemo(()=>bb(e.children,Uu),[e.children]),d=Ne(p=>aX(p,t,l)),f=x.useRef(null),h=ut("recharts-pie",i);return r||d==null?(f.current=null,x.createElement(Vn,{tabIndex:s,className:h})):x.createElement(x.Fragment,null,x.createElement(cR,{fn:GX,args:Et(Et({},e),{},{sectors:d})}),x.createElement(Vn,{tabIndex:s,className:h},x.createElement(iQ,{props:Et(Et({},n),{},{sectors:d}),previousSectorsRef:f})))}function hR(e){var t=Dn(e,sQ),{id:n}=t,r=r_(t,zX),i=Hi(r);return x.createElement(dR,{id:n,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(LX,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(KX,$i({},r,{id:s})),x.createElement(oQ,$i({},r,{id:s}))))}hR.displayName="Pie";function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){lQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lQ(e,t,n){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dQ={xAxis:{},yAxis:{},zAxis:{}},mR=hr({name:"cartesianAxis",initialState:dQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=ZO(ZO({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:fQ,removeXAxis:hQ,addYAxis:mQ,removeYAxis:pQ,addZAxis:rre,removeZAxis:are,updateYAxisWidth:gQ}=mR.actions,vQ=mR.reducer,yQ=ee([sn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),bQ=ee([yQ,Xa,Qa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),pR=()=>Ne(bQ),xQ="Invariant failed";function _Q(e,t){throw new Error(xQ)}var wQ=["x","y"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){jQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jQ(e,t,n){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e,t){if(e==null)return{};var n,r,i=OQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AQ(e,t){var{x:n,y:r}=e,i=EQ(e,wQ),s="".concat(n),l=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),g="".concat(t.width||i.width),v=parseInt(g,10);return Ic(Ic(Ic(Ic(Ic({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function a_(e){return x.createElement(lR,M0({shapeType:"rectangle",propTransformer:AQ,activeClassName:"recharts-active-bar"},e))}var CQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Oe(t))return t;var s=Oe(r)||pn(r);return s?t(r,i):(s||_Q(),n)}},TQ={},gR=hr({name:"errorBars",initialState:TQ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ire,replaceErrorBar:sre,removeErrorBar:ore}=gR.actions,kQ=gR.reducer,PQ=["children"];function MQ(e,t){if(e==null)return{};var n,r,i=RQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IQ=x.createContext(DQ);function LQ(e){var{children:t}=e,n=MQ(e,PQ);return x.createElement(IQ.Provider,{value:n},t)}function vR(e,t){var n,r,i=Ne(h=>Za(h,e)),s=Ne(h=>ei(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:sr.allowDataOverflow,f=l||d;return{needClip:f,needClipX:l,needClipY:d}}function UQ(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=pR(),{needClipX:s,needClipY:l,needClip:d}=vR(t,n);if(!d)return null;var{x:f,y:h,width:p,height:g}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var $Q=["onMouseEnter","onMouseLeave","onClick"],zQ=["value","background","tooltipPosition"],BQ=["id"],qQ=["onMouseEnter","onClick","onMouseLeave"];function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){HQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HQ(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(e,t){if(e==null)return{};var n,r,i=GQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YQ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:Hh(n,t),payload:e}]};function VQ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Hh(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:d}}}function WQ(e){var t=Ne(Bs),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:f}=s,h=wh(s,$Q),p=e_(l,r),g=t_(d),v=n_(f,r);if(!i||n==null)return null;var b=an(i,!1);return x.createElement(x.Fragment,null,n.map((w,j)=>{var{value:S,background:N,tooltipPosition:O}=w,A=wh(w,zQ);if(!N)return null;var C=p(w,j),T=g(w,j),k=v(w,j),M=Mn(Mn(Mn(Mn(Mn({option:i,isActive:String(j)===t},A),{},{fill:"#eee"},N),b),ju(h,w,j)),{},{onMouseEnter:C,onMouseLeave:T,onClick:k,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return x.createElement(a_,zi({key:"background-bar-".concat(M.index)},M))}))}function XQ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,height:s.height};return Mn(Mn({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return x.createElement(zW,{value:t?i:void 0},n)}function QQ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=e,d=Ne(Bs),f=Ne(IM),h=n&&String(s)===d&&(f==null||l===f),p=h?n:t;return x.createElement(a_,zi({},r,i,{isActive:h,option:p,index:s,dataKey:l}))}function JQ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return x.createElement(a_,zi({},n,r,{isActive:!1,option:t,index:i,dataKey:s}))}function ZQ(e){var{data:t,props:n}=e,r=Hi(n),{id:i}=r,s=wh(r,BQ),{shape:l,dataKey:d,activeBar:f}=n,{onMouseEnter:h,onClick:p,onMouseLeave:g}=n,v=wh(n,qQ),b=e_(h,d),w=t_(g),j=n_(p,d);return t?x.createElement(x.Fragment,null,t.map((S,N)=>x.createElement(Vn,zi({className:"recharts-bar-rectangle"},ju(v,S,N),{onMouseEnter:b(S,N),onMouseLeave:w(S,N),onClick:j(S,N),key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(N)}),f?x.createElement(QQ,{shape:l,activeBar:f,baseProps:s,entry:S,index:N,dataKey:d}):x.createElement(JQ,{shape:l,baseProps:s,entry:S,index:N,dataKey:d})))):null}function eJ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=t,g=n.current,v=Wh(t,"recharts-bar-"),[b,w]=x.useState(!1),j=!b,S=x.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),N=x.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return x.createElement(XQ,{showLabels:j,rects:r},x.createElement(Vh,{animationId:v,begin:l,duration:d,isActive:s,easing:f,onAnimationEnd:S,onAnimationStart:N,key:v},O=>{var A=O===1?r:r==null?void 0:r.map((C,T)=>{var k=g&&g[T];if(k)return Mn(Mn({},C),{},{x:Nn(k.x,C.x,O),y:Nn(k.y,C.y,O),width:Nn(k.width,C.width,O),height:Nn(k.height,C.height,O)});if(i==="horizontal"){var M=Nn(0,C.height,O);return Mn(Mn({},C),{},{y:C.y+C.height-M,height:M})}var D=Nn(0,C.width,O);return Mn(Mn({},C),{},{width:D})});return O>0&&(n.current=A??null),A==null?null:x.createElement(Vn,null,x.createElement(ZQ,{props:t,data:A}))}),x.createElement(rR,{label:t.label}),t.children)}function tJ(e){var t=x.useRef(null);return x.createElement(eJ,{previousRectanglesRef:t,props:e})}var yR=0,nJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Rt(e,t)}};class rJ extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:d,background:f,id:h}=this.props;if(t||n==null)return null;var p=ut("recharts-bar",i),g=h;return x.createElement(Vn,{className:p,id:h},d&&x.createElement("defs",null,x.createElement(UQ,{clipPathId:g,xAxisId:s,yAxisId:l})),x.createElement(Vn,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},x.createElement(WQ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),x.createElement(tJ,this.props)))}}var aJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Gs.isSsr,legendType:"rect",minPointSize:yR,xAxisId:0,yAxisId:0};function iJ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=e,{needClip:g}=vR(t,n),v=zb(),b=Mr(),w=bb(e.children,Uu),j=Ne(O=>MJ(O,t,n,b,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var S,N=j==null?void 0:j[0];return N==null||N.height==null||N.width==null?S=0:S=v==="vertical"?N.height/2:N.width/2,x.createElement(LQ,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:nJ,errorBarOffset:S},x.createElement(rJ,zi({},e,{layout:v,needClip:g,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function sJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:v,cells:b,parentViewBox:w}=e,j=t==="horizontal"?d:l,S=p?j.scale.domain():null,N=x7({numericAxis:j});return g.map((O,A)=>{var C,T,k,M,D,q;p?C=m7(p[A],S):(C=Rt(O,n),Array.isArray(C)||(C=[N,C]));var $=CQ(r,yR)(C[1],A);if(t==="horizontal"){var F,[H,re]=[d.scale(C[0]),d.scale(C[1])];T=zN({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:O,index:A}),k=(F=re??H)!==null&&F!==void 0?F:void 0,M=i.size;var B=H-re;if(D=ur(B)?0:B,q={x:T,y:v.top,width:M,height:v.height},Math.abs($)>0&&Math.abs(D)<Math.abs($)){var K=mn(D||$)*(Math.abs($)-Math.abs(D));k-=K,D+=K}}else{var[I,Y]=[l.scale(C[0]),l.scale(C[1])];if(T=I,k=zN({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:O,index:A}),M=Y-I,D=i.size,q={x:v.left,y:k,width:v.width,height:D},Math.abs($)>0&&Math.abs(M)<Math.abs($)){var W=mn(M||$)*(Math.abs($)-Math.abs(M));M+=W}}if(T==null||k==null||M==null||D==null)return null;var ue=Mn(Mn({},O),{},{x:T,y:k,width:M,height:D,value:p?C:C[1],payload:O,background:q,tooltipPosition:{x:T+M/2,y:k+D/2},parentViewBox:w},b&&b[A]&&b[A].props);return ue}).filter(Boolean)}function oJ(e){var t=Dn(e,aJ),n=Mr();return x.createElement(dR,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(jX,{legendPayload:YQ(t)}),x.createElement(cR,{fn:VQ,args:t}),x.createElement(IX,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:b7(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(iJ,zi({},t,{id:r}))))}var R0=x.memo(oJ);R0.displayName="Bar";function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){lJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lJ(e,t,n){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dJ=(e,t)=>t,fJ=(e,t,n)=>n,hJ=(e,t,n,r)=>r,mJ=(e,t,n,r,i)=>i,$u=ee([Sx,mJ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),pJ=ee([$u],e=>e==null?void 0:e.maxBarSize),gJ=(e,t,n,r,i,s)=>s,rA=(e,t,n)=>{var r=n??e;if(!pn(r))return Tn(r,t,0)},vJ=ee([rt,Sx,dJ,fJ,hJ],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),yJ=(e,t,n,r)=>{var i=rt(e);return i==="horizontal"?O0(e,"yAxis",n,r):O0(e,"xAxis",t,r)},bJ=(e,t,n)=>{var r=rt(e);return r==="horizontal"?rO(e,"xAxis",t):rO(e,"yAxis",n)},xJ=(e,t,n)=>{var r={},i=e.filter(im),s=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,g]=h,v=g.map(w=>w.dataKey),b=rA(t,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:b}}),f=s.map(h=>{var p=[h.dataKey].filter(v=>v!=null),g=rA(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},_J=ee([vJ,eG,bJ],xJ),wJ=(e,t,n,r,i)=>{var s,l,d=$u(e,t,n,r,i);if(d!=null){var f=rt(e),h=RP(e),{maxBarSize:p}=d,g=pn(p)?h:p,v,b;return f==="horizontal"?(v=vl(e,"xAxis",t,r),b=gl(e,"xAxis",t,r)):(v=vl(e,"yAxis",n,r),b=gl(e,"yAxis",n,r)),(s=(l=Db(v,b,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},bR=(e,t,n,r)=>{var i=rt(e),s,l;return i==="horizontal"?(s=vl(e,"xAxis",t,r),l=gl(e,"xAxis",t,r)):(s=vl(e,"yAxis",n,r),l=gl(e,"yAxis",n,r)),Db(s,l)};function jJ(e,t,n,r,i){var s=r.length;if(!(s<1)){var l=Tn(e,n,0,!0),d,f=[];if(fr(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((N,O)=>N+(O.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var v=(n-g)/2>>0,b={offset:v-l,size:0};d=r.reduce((N,O)=>{var A,C={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:b.offset+b.size+l,size:h?p:(A=O.barSize)!==null&&A!==void 0?A:0}},T=[...N,C];return b=T[T.length-1].position,T},f)}else{var w=Tn(t,n,0,!0);n-2*w-(s-1)*l<=0&&(l=0);var j=(n-2*w-(s-1)*l)/s;j>1&&(j>>=0);var S=fr(i)?Math.min(j,i):j;d=r.reduce((N,O,A)=>[...N,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:w+(j+l)*A+(j-S)/2,size:S}}],f)}return d}}var SJ=(e,t,n,r,i,s,l)=>{var d=pn(l)?t:l,f=jJ(n,r,i!==s?i:s,e,d);return i!==s&&f!=null&&(f=f.map(h=>_f(_f({},h),{},{position:_f(_f({},h.position),{},{offset:h.position.offset-i/2})}))),f},NJ=ee([_J,RP,ZK,DP,wJ,bR,pJ],SJ),EJ=(e,t,n,r)=>vl(e,"xAxis",t,r),OJ=(e,t,n,r)=>vl(e,"yAxis",n,r),AJ=(e,t,n,r)=>gl(e,"xAxis",t,r),CJ=(e,t,n,r)=>gl(e,"yAxis",n,r),TJ=ee([NJ,$u],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),kJ=(e,t)=>{var n=_x(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},PJ=ee([yJ,$u],kJ),MJ=ee([sn,Ib,EJ,OJ,AJ,CJ,TJ,rt,fx,bR,PJ,$u,gJ],(e,t,n,r,i,s,l,d,f,h,p,g,v)=>{var{chartData:b,dataStartIndex:w,dataEndIndex:j}=f;if(!(g==null||l==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:S}=g,N;if(S!=null&&S.length>0?N=S:N=b==null?void 0:b.slice(w,j+1),N!=null)return sJ({layout:d,barSettings:g,pos:l,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:N,offset:e,cells:v})}}),xR=e=>{var{chartData:t}=e,n=Dt(),r=Mr();return x.useEffect(()=>r?()=>{}:(n(hO(t)),()=>{n(hO(void 0))}),[t,n,r]),null},aA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_R=hr({name:"brush",initialState:aA,reducers:{setBrushSettings(e,t){return t.payload==null?aA:t.payload}}}),{setBrushSettings:lre}=_R.actions,RJ=_R.reducer;function DJ(e,t,n){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IJ(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class i_{static create(t){return new i_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}DJ(i_,"EPS",1e-4);function UJ(e){return(e%180+180)%180}var $J=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=UJ(i),l=s*Math.PI/180,d=Math.atan(r/n),f=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},zJ={dots:[],areas:[],lines:[]},wR=hr({name:"referenceElements",initialState:zJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=qa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=qa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=qa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:cre,removeDot:ure,addArea:dre,removeArea:fre,addLine:hre,removeLine:mre}=wR.actions,BJ=wR.reducer,qJ=x.createContext(void 0),HJ=e=>{var{children:t}=e,[n]=x.useState("".concat(ru("recharts"),"-clip")),r=pR();if(r==null)return null;var{x:i,y:s,width:l,height:d}=r;return x.createElement(qJ.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:s,height:d,width:l}))),t)};function yl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function jR(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function FJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $J(r,n)}function KJ(e,t,n){var r=n==="width",{x:i,y:s,width:l,height:d}=e;return t===1?{start:r?i:s,end:r?i+l:s+d}:{start:r?i+l:s+d,end:r?i:s}}function jh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function GJ(e,t){return jR(e,t+1)}function YJ(e,t,n,r,i){for(var s=(r||[]).slice(),{start:l,end:d}=t,f=0,h=1,p=l,g=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:jR(r,h)};var j=f,S,N=()=>(S===void 0&&(S=n(w,j)),S),O=w.coordinate,A=f===0||jh(e,O,N,p,d);A||(f=0,p=l,h+=1),A&&(p=O+e*(N()/2+i),f+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJ(e,t,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:d}=t,{end:f}=t,h=function(v){var b=s[v],w,j=()=>(w===void 0&&(w=n(b,v)),w);if(v===l-1){var S=e*(b.coordinate+e*j()/2-f);s[v]=b=An(An({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else s[v]=b=An(An({},b),{},{tickCoord:b.coordinate});var N=jh(e,b.tickCoord,j,d,f);N&&(f=b.tickCoord-e*(j()/2+i),s[v]=An(An({},b),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function JJ(e,t,n,r,i,s){var l=(r||[]).slice(),d=l.length,{start:f,end:h}=t;if(s){var p=r[d-1],g=n(p,d-1),v=e*(p.coordinate+e*g/2-h);l[d-1]=p=An(An({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var b=jh(e,p.tickCoord,()=>g,f,h);b&&(h=p.tickCoord-e*(g/2+i),l[d-1]=An(An({},p),{},{isShow:!0}))}for(var w=s?d-1:d,j=function(O){var A=l[O],C,T=()=>(C===void 0&&(C=n(A,O)),C);if(O===0){var k=e*(A.coordinate-e*T()/2-f);l[O]=A=An(An({},A),{},{tickCoord:k<0?A.coordinate-k*e:A.coordinate})}else l[O]=A=An(An({},A),{},{tickCoord:A.coordinate});var M=jh(e,A.tickCoord,T,f,h);M&&(f=A.tickCoord+e*(T()/2+i),l[O]=An(An({},A),{},{isShow:!0}))},S=0;S<w;S++)j(S);return l}function s_(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(Oe(f)||Gs.isSsr){var v;return(v=GJ(i,Oe(f)?f:0))!==null&&v!==void 0?v:[]}var b=[],w=d==="top"||d==="bottom"?"width":"height",j=p&&w==="width"?Wc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(A,C)=>{var T=typeof h=="function"?h(A.value,C):A.value;return w==="width"?FJ(Wc(T,{fontSize:t,letterSpacing:n}),j,g):Wc(T,{fontSize:t,letterSpacing:n})[w]},N=i.length>=2?mn(i[1].coordinate-i[0].coordinate):1,O=KJ(s,N,w);return f==="equidistantPreserveStart"?YJ(N,O,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=JJ(N,O,S,i,l,f==="preserveStartEnd"):b=QJ(N,O,S,i,l),b.filter(A=>A.isShow))}var ZJ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){t.forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=i+s,h=l+f+d+(n?r:0);return Math.round(h)}return 0},eZ=["axisLine","width","height","className","hide","ticks"],tZ=["viewBox"],nZ=["viewBox"];function D0(e,t){if(e==null)return{};var n,r,i=rZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(null,arguments)}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){aZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t,n){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iZ(e){var t=sZ(e,"string");return typeof t=="symbol"?t:t+""}function sZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o_={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function oZ(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:d,otherSvgProps:f}=e;if(!d)return null;var h=rn(rn(rn({},f),an(d,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=rn(rn({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=rn(rn({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return x.createElement("line",qs({},h,{className:ut("recharts-cartesian-axis-line",Ls(d,"className"))}))}function lZ(e,t,n,r,i,s,l,d,f){var h,p,g,v,b,w,j=d?-1:1,S=e.tickSize||l,N=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=n+ +!d*i,g=v-j*S,w=g-j*f,b=N;break;case"left":g=v=e.coordinate,p=t+ +!d*r,h=p-j*S,b=h-j*f,w=N;break;case"right":g=v=e.coordinate,p=t+ +d*r,h=p+j*S,b=h+j*f,w=N;break;default:h=p=e.coordinate,v=n+ +d*i,g=v+j*S,w=g+j*f,b=N;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x:b,y:w}}}function cZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function uZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function dZ(e){var{option:t,tickProps:n,value:r}=e,i,s=ut(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,rn(rn({},n),{},{className:s}));else if(typeof t=="function")i=t(rn(rn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ut(l,t==null?void 0:t.className)),i=x.createElement(dm,qs({},n,{className:l}),r)}return i}function fZ(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:l,padding:d,tickTextProps:f,orientation:h,mirror:p,x:g,y:v,width:b,height:w,tickSize:j,tickMargin:S,fontSize:N,letterSpacing:O,getTicksConfig:A,events:C}=e,T=s_(rn(rn({},A),{},{ticks:t}),N,O),k=cZ(h,p),M=uZ(h,p),D=Hi(A),q=an(n,!1),$=rn(rn({},D),{},{fill:"none"},an(r,!1)),F=T.map((H,re)=>{var{line:B,tick:K}=lZ(H,g,v,b,w,h,j,p,S),I=rn(rn(rn(rn({textAnchor:k,verticalAnchor:M},D),{},{stroke:"none",fill:i},q),K),{},{index:re,payload:H,visibleTicksCount:T.length,tickFormatter:s,padding:d},f);return x.createElement(Vn,qs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},ju(C,H,re)),r&&x.createElement("line",qs({},$,B,{className:ut("recharts-cartesian-axis-tick-line",Ls(r,"className"))})),n&&x.createElement(dZ,{option:n,tickProps:I,value:"".concat(typeof s=="function"?s(H.value,re):H.value).concat(l||"")}))});return F.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var hZ=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:d}=e,f=D0(e,eZ),[h,p]=x.useState(""),[g,v]=x.useState(""),b=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return ZJ({ticks:b.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(j=>{if(j){var S=j.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=Array.from(S);var N=S[0];if(N){var O=window.getComputedStyle(N),A=O.fontSize,C=O.letterSpacing;(A!==h||C!==g)&&(p(A),v(C))}}},[h,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(Vn,{className:ut("recharts-cartesian-axis",s),ref:w},x.createElement(oZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Hi(e)}),x.createElement(fZ,{ticks:d,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:g,getTicksConfig:e,events:f}),x.createElement(bW,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(CW,{label:e.label}),e.children))}),mZ=x.memo(hZ,(e,t)=>{var{viewBox:n}=e,r=D0(e,tZ),{viewBox:i}=t,s=D0(t,nZ);return yl(n,i)&&yl(r,s)}),l_=x.forwardRef((e,t)=>{var n=Dn(e,o_);return x.createElement(mZ,qs({},n,{ref:t}))});l_.displayName="CartesianAxis";var pZ=["x1","y1","x2","y2","key"],gZ=["offset"],vZ=["xAxisId","yAxisId"],yZ=["xAxisId","yAxisId"];function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){bZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bZ(e,t,n){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ks.apply(null,arguments)}function Sh(e,t){if(e==null)return{};var n,r,i=wZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:d}=e;return x.createElement("rect",{x:r,y:i,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function SR(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:s,y2:l,key:d}=t,f=Sh(t,pZ),h=Hi(f),{offset:p}=h,g=Sh(h,gZ);n=x.createElement("line",ks({},g,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:d}))}return n}function SZ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=Sh(e,vZ),f=i.map((h,p)=>{var g=Cn(Cn({},d),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return SR(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function NZ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=Sh(e,yZ),f=i.map((h,p)=>{var g=Cn(Cn({},d),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return SR(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function EZ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var b=!h[v+1],w=b?i+l-g:h[v+1]-g;if(w<=0)return null;var j=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:s,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function OZ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var h=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var b=!h[v+1],w=b?i+l-g:h[v+1]-g;if(w<=0)return null;var j=v%n.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var AZ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return xk(s_(Cn(Cn(Cn({},o_),n),{},{ticks:_k(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},CZ=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return xk(s_(Cn(Cn(Cn({},o_),n),{},{ticks:_k(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},TZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function NR(e){var t=Ub(),n=$b(),r=Nk(),i=Cn(Cn({},Dn(e,TZ)),{},{x:Oe(e.x)?e.x:r.left,y:Oe(e.y)?e.y:r.top,width:Oe(e.width)?e.width:r.width,height:Oe(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:b}=i,w=Mr(),j=Ne(q=>aO(q,"xAxis",s,w)),S=Ne(q=>aO(q,"yAxis",l,w));if(!Oe(h)||h<=0||!Oe(p)||p<=0||!Oe(d)||d!==+d||!Oe(f)||f!==+f)return null;var N=i.verticalCoordinatesGenerator||AZ,O=i.horizontalCoordinatesGenerator||CZ,{horizontalPoints:A,verticalPoints:C}=i;if((!A||!A.length)&&typeof O=="function"){var T=v&&v.length,k=O({yAxis:S?Cn(Cn({},S),{},{ticks:T?v:S.ticks}):void 0,width:t,height:n,offset:r},T?!0:g);Vc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}if((!C||!C.length)&&typeof N=="function"){var M=b&&b.length,D=N({xAxis:j?Cn(Cn({},j),{},{ticks:M?b:j.ticks}):void 0,width:t,height:n,offset:r},M?!0:g);Vc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(jZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(EZ,ks({},i,{horizontalPoints:A})),x.createElement(OZ,ks({},i,{verticalPoints:C})),x.createElement(SZ,ks({},i,{offset:r,horizontalPoints:A,xAxis:j,yAxis:S})),x.createElement(NZ,ks({},i,{offset:r,verticalPoints:C,xAxis:j,yAxis:S})))}NR.displayName="CartesianGrid";var kZ=["dangerouslySetInnerHTML","ticks"],PZ=["id"],MZ=["domain"],RZ=["domain"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function Nh(e,t){if(e==null)return{};var n,r,i=DZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IZ(e){var t=Dt();return x.useEffect(()=>(t(fQ(e)),()=>{t(hQ(e))}),[e,t]),null}var LZ=e=>{var{xAxisId:t,className:n}=e,r=Ne(Ib),i=Mr(),s="xAxis",l=Ne(S=>kl(S,s,t,i)),d=Ne(S=>vM(S,s,t,i)),f=Ne(S=>hM(S,t)),h=Ne(S=>KG(S,t)),p=Ne(S=>FP(S,t));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,b=Nh(e,kZ),{id:w}=p,j=Nh(p,PZ);return x.createElement(l_,I0({},b,j,{scale:l,x:h.x,y:h.y,width:f.width,height:f.height,className:ut("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d}))},UZ={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,height:ir.height,hide:!1,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tickCount:ir.tickCount,type:ir.type,xAxisId:0},$Z=e=>{var t,n,r,i,s,l=Dn(e,UZ);return x.createElement(x.Fragment,null,x.createElement(IZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),x.createElement(LZ,l))},zZ=(e,t)=>{var{domain:n}=e,r=Nh(e,MZ),{domain:i}=t,s=Nh(t,RZ);return yl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yl({domain:n},{domain:i}):!1},ER=x.memo($Z,zZ);ER.displayName="XAxis";var BZ=["dangerouslySetInnerHTML","ticks"],qZ=["id"],HZ=["domain"],FZ=["domain"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(null,arguments)}function Eh(e,t){if(e==null)return{};var n,r,i=KZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GZ(e){var t=Dt();return x.useEffect(()=>(t(mQ(e)),()=>{t(pQ(e))}),[e,t]),null}var YZ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=x.useRef(null),l=x.useRef(null),d=Ne(Ib),f=Mr(),h=Dt(),p="yAxis",g=Ne(T=>kl(T,p,t,f)),v=Ne(T=>mM(T,t)),b=Ne(T=>YG(T,t)),w=Ne(T=>vM(T,p,t,f)),j=Ne(T=>KP(T,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Wx(i)||x.isValidElement(i)||j==null)){var T=s.current;if(T){var k=T.getCalculatedWidth();Math.round(v.width)!==Math.round(k)&&h(gQ({id:t,width:k}))}}},[w,v,h,i,t,r,j]),v==null||b==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:N}=e,O=Eh(e,BZ),{id:A}=j,C=Eh(j,qZ);return x.createElement(l_,L0({},O,C,{ref:s,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:ut("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w}))},VZ={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,hide:!1,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tickCount:sr.tickCount,type:sr.type,width:sr.width,yAxisId:0},WZ=e=>{var t,n,r,i,s,l=Dn(e,VZ);return x.createElement(x.Fragment,null,x.createElement(GZ,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),x.createElement(YZ,l))},XZ=(e,t)=>{var{domain:n}=e,r=Eh(e,HZ),{domain:i}=t,s=Eh(t,FZ);return yl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yl({domain:n},{domain:i}):!1},OR=x.memo(WZ,XZ);OR.displayName="YAxis";var by={exports:{}},xy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function QZ(){if(lA)return xy;lA=1;var e=bl();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return xy.useSyncExternalStoreWithSelector=function(f,h,p,g,v){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function S(T){if(!N){if(N=!0,O=T,T=g(T),v!==void 0&&w.hasValue){var k=w.value;if(v(k,T))return A=k}return A=T}if(k=A,n(O,T))return k;var M=g(T);return v!==void 0&&v(k,M)?(O=T,k):(O=T,A=M)}var N=!1,O,A,C=p===void 0?null:p;return[function(){return S(h())},C===null?void 0:function(){return S(C())}]},[h,p,g,v]);var j=r(f,b[0],b[1]);return s(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},xy}var cA;function JZ(){return cA||(cA=1,by.exports=QZ()),by.exports}JZ();function ZZ(e){e()}function eee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ZZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var uA={notify(){},get:()=>[]};function tee(e,t){let n,r=uA,i=0,s=!1;function l(j){p();const S=r.subscribe(j);let N=!1;return()=>{N||(N=!0,S(),g())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(f),r=eee())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uA)}function v(){s||(s=!0,p())}function b(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return w}var nee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ree=nee(),aee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iee=aee(),see=()=>ree||iee?x.useLayoutEffect:x.useEffect,oee=see(),_y=Symbol.for("react-redux-context"),wy=typeof globalThis<"u"?globalThis:{};function lee(){if(!x.createContext)return{};const e=wy[_y]??(wy[_y]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var cee=lee();function uee(e){const{children:t,context:n,serverState:r,store:i}=e,s=x.useMemo(()=>{const f=tee(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=x.useMemo(()=>i.getState(),[i]);oee(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const d=n||cee;return x.createElement(d.Provider,{value:s},t)}var dee=uee,fee=(e,t)=>t,c_=ee([fee,rt,BP,ln,PM,ti,QY,sn],nV),u_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},AR=Tr("mouseClick"),CR=Nu();CR.startListening({actionCreator:AR,effect:(e,t)=>{var n=e.payload,r=c_(t.getState(),u_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(sY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var U0=Tr("mouseMove"),TR=Nu();TR.startListening({actionCreator:U0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=zx(r,r.tooltip.settings.shared),s=c_(r,u_(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(NM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(SM()))}});var dA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},kR=hr({name:"rootProps",initialState:dA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:dA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),hee=kR.reducer,{updateOptions:mee}=kR.actions,PR=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pee}=PR.actions,gee=PR.reducer,MR=Tr("keyDown"),RR=Tr("focus"),d_=Nu();d_.startListening({actionCreator:MR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(Bx(i,Ml(n))),d=ti(n);if(s==="Enter"){var f=yh(n,"axis","hover",String(i.index));t.dispatch(C0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=QG(n),p=h==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*p;if(!(d==null||v>=d.length||v<0)){var b=yh(n,"axis","hover",String(v));t.dispatch(C0({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});d_.startListening({actionCreator:RR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=yh(n,"axis","hover",String(s));t.dispatch(C0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Or=Tr("externalEvent"),DR=Nu();DR.startListening({actionCreator:Or,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:qY(n),activeDataKey:IM(n),activeIndex:Bs(n),activeLabel:DM(n),activeTooltipIndex:Bs(n),isTooltipActive:HY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var vee=ee([Pl],e=>e.tooltipItemPayloads),yee=ee([vee,Iu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,n);return l}}}),IR=Tr("touchMove"),LR=Nu();LR.startListening({actionCreator:IR,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=zx(r,r.tooltip.settings.shared);if(i==="axis"){var s=c_(r,u_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(NM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(jk),p=(l=f.getAttribute(Sk))!==null&&l!==void 0?l:void 0,g=yee(t.getState(),h,p);t.dispatch(jM({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}});var bee=WT({brush:RJ,cartesianAxis:vQ,chartData:yV,errorBars:kQ,graphicalItems:DX,layout:Jq,legend:q7,options:hV,polarAxis:QW,polarOptions:gee,referenceElements:BJ,rootProps:hee,tooltip:oY}),xee=function(t){return jq({reducer:bee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([CR.middleware,TR.middleware,d_.middleware,DR.middleware,LR.middleware]),devTools:Gs.devToolsEnabled})};function UR(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Mr(),s=x.useRef(null);if(i)return n;s.current==null&&(s.current=xee(t));var l=Cb;return x.createElement(dee,{context:l,store:s.current},n)}function $R(e){var{layout:t,width:n,height:r,margin:i}=e,s=Dt(),l=Mr();return x.useEffect(()=>{l||(s(Wq(t)),s(Xq({width:n,height:r})),s(Vq(i)))},[s,l,t,n,r,i]),null}function zR(e){var t=Dt();return x.useEffect(()=>{t(mee(e))},[t,e]),null}var _ee=["children"];function wee(e,t){if(e==null)return{};var n,r,i=jee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(null,arguments)}var See={width:"100%",height:"100%"},Nee=x.forwardRef((e,t)=>{var n=Ub(),r=$b(),i=Ck();if(!dl(n)||!dl(r))return null;var{children:s,otherAttributes:l,title:d,desc:f}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,x.createElement(xb,Oh({},l,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:See,ref:t}),s)}),Eee=e=>{var{children:t}=e,n=Ne(Yh);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return x.createElement(xb,{width:r,height:i,x:l,y:s},t)},fA=x.forwardRef((e,t)=>{var{children:n}=e,r=wee(e,_ee),i=Mr();return i?x.createElement(Eee,null,n):x.createElement(Nee,Oh({ref:t},r),n)});function Oee(){var e=Dt(),[t,n]=x.useState(null),r=Ne(O7);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;fr(s)&&s!==r&&e(Qq(s))}},[t,e,r]),n}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pee=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:b,onTouchMove:w,onTouchStart:j,style:S,width:N}=e,O=Dt(),[A,C]=x.useState(null),[T,k]=x.useState(null);OV();var M=Oee(),D=x.useCallback(L=>{M(L),typeof t=="function"&&t(L),C(L),k(L)},[M,t,C,k]),q=x.useCallback(L=>{O(AR(L)),O(Or({handler:s,reactEvent:L}))},[O,s]),$=x.useCallback(L=>{O(U0(L)),O(Or({handler:h,reactEvent:L}))},[O,h]),F=x.useCallback(L=>{O(SM()),O(Or({handler:p,reactEvent:L}))},[O,p]),H=x.useCallback(L=>{O(U0(L)),O(Or({handler:g,reactEvent:L}))},[O,g]),re=x.useCallback(()=>{O(RR())},[O]),B=x.useCallback(L=>{O(MR(L.key))},[O]),K=x.useCallback(L=>{O(Or({handler:l,reactEvent:L}))},[O,l]),I=x.useCallback(L=>{O(Or({handler:d,reactEvent:L}))},[O,d]),Y=x.useCallback(L=>{O(Or({handler:f,reactEvent:L}))},[O,f]),W=x.useCallback(L=>{O(Or({handler:v,reactEvent:L}))},[O,v]),ue=x.useCallback(L=>{O(Or({handler:j,reactEvent:L}))},[O,j]),ne=x.useCallback(L=>{O(IR(L)),O(Or({handler:w,reactEvent:L}))},[O,w]),R=x.useCallback(L=>{O(Or({handler:b,reactEvent:L}))},[O,b]);return x.createElement(qM.Provider,{value:A},x.createElement(gT.Provider,{value:T},x.createElement("div",{className:ut("recharts-wrapper",r),style:Aee({position:"relative",cursor:"default",width:N,height:i},S),onClick:q,onContextMenu:K,onDoubleClick:I,onFocus:re,onKeyDown:B,onMouseDown:Y,onMouseEnter:$,onMouseLeave:F,onMouseMove:H,onMouseUp:W,onTouchEnd:R,onTouchMove:ne,onTouchStart:ue,ref:D},n)))}),Mee=["children","className","width","height","style","compact","title","desc"];function Ree(e,t){if(e==null)return{};var n,r,i=Dee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BR=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:l,compact:d,title:f,desc:h}=e,p=Ree(e,Mee),g=Hi(p);return d?x.createElement(fA,{otherAttributes:g,title:f,desc:h},n):x.createElement(Pee,{className:r,style:l,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(fA,{otherAttributes:g,title:f,desc:h,ref:t},x.createElement(HJ,null,n)))}),Iee=["width","height"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function Lee(e,t){if(e==null)return{};var n,r,i=Uee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $ee={top:5,right:5,bottom:5,left:5},zee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$ee,reverseStackOrder:!1,syncMethod:"index"},Bee=x.forwardRef(function(t,n){var r,i=Dn(t.categoricalChartProps,zee),{width:s,height:l}=i,d=Lee(i,Iee);if(!dl(s)||!dl(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return x.createElement(UR,{preloadedState:{options:b},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},x.createElement(xR,{chartData:v.data}),x.createElement($R,{width:s,height:l,layout:i.layout,margin:i.margin}),x.createElement(zR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(BR,$0({},d,{width:s,height:l,ref:n})))}),qee=["axis","item"],Hee=x.forwardRef((e,t)=>x.createElement(Bee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qee,tooltipPayloadSearcher:HM,categoricalChartProps:e,ref:t}));function Fee(e){var t=Dt();return x.useEffect(()=>{t(pee(e))},[t,e]),null}var Kee=["width","height","layout"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}function Gee(e,t){if(e==null)return{};var n,r,i=Yee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vee={top:5,right:5,bottom:5,left:5},Wee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Xee=x.forwardRef(function(t,n){var r,i=Dn(t.categoricalChartProps,Wee),{width:s,height:l,layout:d}=i,f=Gee(i,Kee);if(!dl(s)||!dl(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,b={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return x.createElement(UR,{preloadedState:{options:b},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},x.createElement(xR,{chartData:i.data}),x.createElement($R,{width:s,height:l,layout:d,margin:i.margin}),x.createElement(zR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Fee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(BR,z0({width:s,height:l},f,{ref:n})))}),Qee=["item"],Jee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zee=x.forwardRef((e,t)=>{var n=Dn(e,Jee);return x.createElement(Xee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qee,tooltipPayloadSearcher:HM,categoricalChartProps:n,ref:t})});const mA=[{value:"editor",label:"Éditeur",headerDescription:"Gestion complète",helper:"Créer, modifier et valider le contenu.",tooltip:"Autorise toutes les actions, y compris la modification et la validation des données."},{value:"readonly",label:"Lecture seule",headerDescription:"Consultation",helper:"Visualiser les informations sans modifier.",tooltip:"Permet uniquement de consulter les informations sans pouvoir les modifier."},{value:"none",label:"Aucun",headerDescription:"Accès bloqué",helper:"Masquer totalement la section.",tooltip:"Bloque complètement l’accès à la section ou à la fonctionnalité."}],ete=({permissionKeys:e,permissions:t,onChange:n,getPermissionLabel:r,customPermissions:i,onRemoveCustomPermission:s})=>{const l=x.useMemo(()=>{if(e.length===0)return[];const f=Kn.map(b=>b.permissionKey),h=new Set(f),p=f.filter(b=>e.includes(b)),g=e.filter(b=>!h.has(b)).sort((b,w)=>r(b).localeCompare(r(w),"fr")),v=[];return p.length>0&&v.push({id:"navigation",title:"Navigation principale",keys:p}),g.length>0&&v.push({id:"custom",title:"Permissions personnalisées",keys:g}),v},[r,e]),d=f=>{e.forEach(h=>{(t[h]??"none")!==f&&n(h,f)})};return e.length===0?u.jsx("div",{className:"rounded-xl border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm font-medium text-gray-900",children:"Aucune permission disponible pour ce rôle pour le moment."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("editor"),title:"Autoriser toutes les sections en mode édition.",children:"Tout autoriser"}),u.jsx("button",{type:"button",className:"permission-action-button",onClick:()=>d("readonly"),title:"Basculer toutes les sections en lecture seule.",children:"Lecture seule partout"}),u.jsx("button",{type:"button",className:"permission-action-button is-danger",onClick:()=>d("none"),title:"Révoquer toutes les permissions.",children:"Tout bloquer"})]}),u.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:u.jsx("div",{className:"max-h-96 overflow-auto",children:u.jsx("div",{className:"min-w-full",children:u.jsxs("div",{className:"grid grid-cols-[minmax(220px,2fr)_repeat(3,minmax(140px,1fr))]",children:[u.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:"Section / permission"}),mA.map(f=>u.jsxs("div",{className:"border-b border-l border-gray-200 bg-gray-50 px-4 py-3 text-sm font-semibold text-gray-900",children:[u.jsx("div",{children:f.label}),u.jsx("p",{className:"mt-1 text-xs font-medium text-gray-900",children:f.headerDescription})]},f.value)),l.map(f=>u.jsxs(Yn.Fragment,{children:[u.jsx("div",{className:"col-span-4 border-t border-gray-200 bg-gray-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-gray-900",children:f.title}),f.keys.map(h=>{const p=t[h]??"none",g=`permission-${h.replace(/[^a-zA-Z0-9_-]/g,"_")}`,v=h in i;return u.jsxs(Yn.Fragment,{children:[u.jsx("div",{className:"border-t border-gray-100 px-4 py-3",children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(h)}),v&&s&&u.jsx("button",{type:"button",onClick:()=>s(h),className:"text-gray-700 transition-colors hover:text-red-600",title:"Supprimer cette permission personnalisée",children:u.jsx(Fs,{className:"h-4 w-4"})})]})}),mA.map(b=>{const w=p===b.value;return u.jsx("div",{className:"border-t border-l border-gray-100 px-4 py-3",children:u.jsxs("label",{className:`permission-choice${w?" is-active":""}`,title:b.tooltip,children:[u.jsx("input",{type:"radio",className:"sr-only",name:g,value:b.value,checked:w,onChange:()=>n(h,b.value)}),u.jsx("span",{className:"permission-choice__label",children:b.label}),u.jsx("span",{className:"permission-choice__helper",children:b.helper})]})},b.value)})]},h)})]},f.id))]})})})})]})},tte=({mode:e,formState:t,onSubmit:n,onInputChange:r,onHomePageChange:i,onPermissionChange:s,onAddCustomPermission:l,onRemoveCustomPermission:d,onCancel:f,isSubmitting:h,hasAccessibleHomePage:p,permissionKeys:g,getPermissionLabel:v,isPermissionGranted:b})=>{const[w,j]=x.useState(!1),[S,N]=x.useState(""),[O,A]=x.useState(""),[C,T]=x.useState(null),k=()=>{j(!1),N(""),A(""),T(null)},M=()=>{const D=S.trim(),q=O.trim();if(!D||!q){T("La clé technique et le nom affiché sont obligatoires.");return}if(g.includes(D)){T("Cette clé de permission existe déjà.");return}l(D,q),k()};return u.jsxs("div",{children:[u.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900",children:e==="edit"?"Modifier le rôle sélectionné":"Créer un nouveau rôle"}),u.jsxs("form",{onSubmit:n,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-name",className:"mb-1 block text-sm font-medium text-gray-900",children:"Nom du rôle"}),u.jsx("input",{id:"role-name",name:"name",value:t.name,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. Manager"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-pin",className:"mb-1 block text-sm font-medium text-gray-900",children:"Code PIN d'accès"}),u.jsx("input",{id:"role-pin",name:"pin",value:t.pin,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"Ex. 1234"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role-home-page",className:"mb-1 block text-sm font-medium text-gray-900",children:"Page d'accueil par défaut"}),u.jsx("select",{id:"role-home-page",name:"homePage",value:t.homePage,onChange:D=>i(D.target.value),disabled:!p,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:cursor-not-allowed disabled:bg-gray-100",children:Kn.map(D=>{const q=b(t.permissions[D.permissionKey]);return u.jsxs("option",{value:D.permissionKey,disabled:!q,children:[v(D.permissionKey),q?"":" (accès requis)"]},D.permissionKey)})}),p?u.jsx("p",{className:"mt-1 text-xs text-gray-900",children:"Les pages sans permission sont désactivées."}):u.jsx("p",{className:"mt-1 text-xs font-medium text-red-700",children:"Accordez au moins une permission pour choisir une page d'accueil."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-2 text-sm font-semibold text-gray-900",children:"Permissions par page"}),u.jsx(ete,{permissionKeys:g,permissions:t.permissions,onChange:s,getPermissionLabel:v,customPermissions:t.customPermissions,onRemoveCustomPermission:d}),u.jsx("div",{className:"mt-4 space-y-3",children:w?u.jsxs("div",{className:"rounded-md border border-dashed border-brand-primary/50 bg-brand-primary/5 p-4",children:[u.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Clé technique"}),u.jsx("input",{type:"text",value:S,onChange:D=>{N(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. /rapports"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-1 block text-xs font-semibold uppercase text-gray-900",children:"Nom affiché"}),u.jsx("input",{type:"text",value:O,onChange:D=>{A(D.target.value),T(null)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-brand-primary focus:outline-none focus:ring-1 focus:ring-brand-primary",placeholder:"ex. Rapports"})]})]}),C&&u.jsx("p",{className:"mt-2 text-xs font-medium text-red-700",children:C}),u.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[u.jsx("button",{type:"button",onClick:k,className:"rounded-md border border-gray-300 px-3 py-1.5 text-xs font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsx("button",{type:"button",onClick:M,className:"rounded-md bg-brand-primary px-3 py-1.5 text-xs font-semibold text-white hover:bg-brand-primary/90",children:"Ajouter"})]})]}):u.jsx("button",{type:"button",onClick:()=>{j(!0),T(null)},className:"text-sm font-semibold text-brand-primary hover:underline",children:"Ajouter une permission"})})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[e==="edit"&&u.jsx("button",{type:"button",onClick:f,className:"rounded-md border border-gray-300 px-3 py-2 text-sm font-semibold text-gray-900 hover:bg-gray-100",children:"Annuler"}),u.jsxs("button",{type:"submit",disabled:h,className:"inline-flex items-center rounded-md bg-brand-primary px-4 py-2 text-sm font-semibold text-white shadow hover:bg-brand-primary/90 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(c$,{className:"mr-2 h-4 w-4"}),h?"Enregistrement...":e==="edit"?"Mettre à jour":"Créer"]})]})]})]})},nte=({roles:e,isFetching:t,onCreateRole:n,onSelectRole:r,onDeleteRole:i,selectedRoleId:s,isEditing:l,deletingRoleId:d,getPermissionLabel:f})=>{const h=!t&&e.length===0;return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Rôles existants"}),u.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center rounded-md border border-brand-primary px-2 py-1 text-sm font-medium text-brand-primary transition-colors hover:bg-brand-primary/10",children:[u.jsx(yu,{className:"mr-1.5 h-4 w-4"}),"Nouveau rôle"]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto rounded-md border border-gray-200 p-3",children:t?u.jsx("p",{className:"text-sm text-gray-900",children:"Chargement des rôles..."}):h?u.jsx("p",{className:"text-sm text-gray-900",children:"Aucun rôle configuré pour le moment."}):u.jsx("div",{className:"space-y-3",children:e.map(p=>{const g=l&&s===p.id;return u.jsxs("div",{className:`flex items-center justify-between rounded-md border px-3 py-2 transition-colors ${g?"border-brand-primary bg-brand-primary/10":"border-gray-200"}`,children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-semibold text-gray-900",children:p.name}),u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["PIN : ",p.pin??"—"]}),p.homePage&&u.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["Accueil : ",f(p.homePage)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>r(p),className:"rounded-md border border-gray-300 px-2 py-1 text-xs font-semibold text-gray-900 transition-colors hover:bg-gray-100",children:"Modifier"}),u.jsxs("button",{type:"button",onClick:()=>i(p.id),disabled:d===p.id,className:"inline-flex items-center rounded-md border border-red-300 px-2 py-1 text-xs font-semibold text-red-600 transition-colors hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[u.jsx(Fs,{className:"mr-1 h-3 w-3"}),"Supprimer"]})]})]},p.id)})})})]})};var TA;const rte=((TA=Kn[0])==null?void 0:TA.permissionKey)??"/dashboard",ate=e=>{if(!e)return!1;const t=e.trim().toLowerCase();return t===LC.ADMIN||t==="administrateur"},xs=(e,t,n={})=>{const r={...e||{}};return delete r[Ps],Kn.forEach(i=>{i.permissionKey in r||(i.permissionKey===Ka&&ate(t)?r[i.permissionKey]="editor":r[i.permissionKey]="none")}),Object.keys(n).forEach(i=>{i in r||(r[i]="none")}),r},_s=e=>{const t=Kn.find(n=>ws(e[n.permissionKey]));return(t==null?void 0:t.permissionKey)??rte},pA=e=>{const t=xs(void 0,void 0,e);return{name:"",pin:"",permissions:t,homePage:_s(t),customPermissions:{...e}}},ws=e=>e==="editor"||e==="readonly",ite=({isOpen:e,onClose:t})=>{const{refreshRole:n,role:r}=ma(),[i,s]=x.useState([]),[l,d]=x.useState({}),[f,h]=x.useState(()=>pA({})),[p,g]=x.useState("create"),[v,b]=x.useState(!1),[w,j]=x.useState(!1),[S,N]=x.useState(null),[O,A]=x.useState(null),[C,T]=x.useState(null),k=x.useMemo(()=>{const ne=Kn.map(L=>L.permissionKey),R=new Set;return Object.keys(l).forEach(L=>{ne.includes(L)||R.add(L)}),i.forEach(L=>{Object.keys(L.permissions).forEach(X=>{X!==Ps&&(ne.includes(X)||R.add(X))})}),[...ne,...Array.from(R)]},[i,l]),M=x.useMemo(()=>Kn.some(ne=>ws(f.permissions[ne.permissionKey])),[f.permissions]),D=x.useCallback(async()=>{b(!0);try{const ne=await we.getRoles();s(ne),d(R=>{const L={...R};let X=!1;const ie=new Set(Kn.map(se=>se.permissionKey));return ne.forEach(se=>{Object.keys(se.permissions).forEach(ye=>{ye===Ps||ie.has(ye)||ye in L||(L[ye]=ye,X=!0)})}),X?L:R}),T(null)}catch(ne){console.error("Failed to load roles:",ne),T("Impossible de charger les rôles.")}finally{b(!1)}},[]),q=x.useCallback(()=>{g("create"),h(pA(l))},[l]);x.useEffect(()=>{e&&(A(null),T(null),q(),D())},[e,D,q]),x.useEffect(()=>{h(ne=>{const R=ne.homePage;if(ws(ne.permissions[R]))return ne;const L=_s(ne.permissions);return L===R?ne:{...ne,homePage:L}})},[f.permissions]),x.useEffect(()=>{h(ne=>{const R=ne.customPermissions,L=l,X=Object.keys(R),ie=Object.keys(L);if(X.length===ie.length&&X.every(je=>L[je]===R[je]))return ne;const se=xs(ne.permissions,ne.name,L),ye=ws(se[ne.homePage])?ne.homePage:_s(se);return{...ne,customPermissions:{...L},permissions:se,homePage:ye}})},[l]);const $=x.useCallback(ne=>{const R=Kn.find(L=>L.permissionKey===ne);return R?R.name:l[ne]??ne},[l]);return{roles:i,formState:f,mode:p,isFetching:v,isSubmitting:w,deletingRoleId:S,statusMessage:O,errorMessage:C,permissionKeys:k,hasAccessibleHomePage:M,handleInputChange:ne=>{const{name:R,value:L}=ne.target;h(X=>({...X,[R]:L}))},handlePermissionChange:(ne,R)=>{h(L=>({...L,permissions:{...L.permissions,[ne]:R}}))},handleHomePageChange:ne=>{h(R=>({...R,homePage:ne}))},handleSelectRole:ne=>{const R=new Set(Kn.map(se=>se.permissionKey)),L={...l};let X=!1;Object.keys(ne.permissions).forEach(se=>{se===Ps||R.has(se)||se in L||(L[se]=se,X=!0)}),X&&d(L);const ie=xs(ne.permissions,ne.name,X?L:l);g("edit"),h({id:ne.id,name:ne.name,pin:ne.pin??"",permissions:ie,homePage:ne.homePage??_s(ie),customPermissions:{...X?L:l}}),A(null),T(null)},handleDeleteRole:async ne=>{if(confirm("Supprimer ce rôle ? Cette action est irréversible.")){N(ne),A(null),T(null);try{await we.deleteRole(ne),A("Rôle supprimé avec succès."),p==="edit"&&f.id===ne&&q(),await D(),(r==null?void 0:r.id)===ne&&await n()}catch(R){console.error("Failed to delete role:",R),T("Impossible de supprimer le rôle.")}finally{N(null)}}},handleSubmit:async ne=>{if(ne.preventDefault(),T(null),A(null),!f.name.trim()||!f.pin.trim()){T("Le nom et le code PIN sont obligatoires.");return}j(!0);try{const R=xs(f.permissions,f.name,l),L=ws(R[f.homePage])?f.homePage:_s(R);if(p==="create")await we.createRole({name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:L}),A("Rôle créé avec succès."),await D(),await n(),q();else if(f.id){const X=await we.updateRole(f.id,{name:f.name.trim(),pin:f.pin.trim(),permissions:R,homePage:L});A("Rôle mis à jour avec succès.");const ie=xs(X.permissions,X.name,l);h({id:X.id,name:X.name,pin:X.pin??"",permissions:ie,homePage:X.homePage??_s(ie),customPermissions:{...l}}),await D(),(r==null?void 0:r.id)===X.id&&await n()}}catch(R){console.error("Failed to save role:",R),T("Impossible d'enregistrer le rôle.")}finally{j(!1)}},handleClose:()=>{q(),A(null),T(null),t()},resetForm:q,getPermissionLabel:$,isPermissionGranted:ws,handleAddCustomPermission:(ne,R)=>{Kn.some(L=>L.permissionKey===ne)||d(L=>{if(L[ne]===R)return L;const X={...L,[ne]:R};return h(ie=>{const se=xs(ie.permissions,ie.name,X);return ne in se||(se[ne]="none"),{...ie,customPermissions:{...X},permissions:se}}),X})},handleRemoveCustomPermission:ne=>{Kn.some(R=>R.permissionKey===ne)||d(R=>{if(!(ne in R))return R;const L={...R};return delete L[ne],h(X=>{const{[ne]:ie,...se}=X.customPermissions,ye={...X.permissions};delete ye[ne];const je=xs(ye,X.name,L),fe=ws(je[X.homePage])?X.homePage:_s(je);return{...X,customPermissions:{...se},permissions:je,homePage:fe}}),L})}}},ste=({isOpen:e,onClose:t})=>{const{roles:n,formState:r,mode:i,isFetching:s,isSubmitting:l,deletingRoleId:d,statusMessage:f,errorMessage:h,permissionKeys:p,hasAccessibleHomePage:g,handleInputChange:v,handlePermissionChange:b,handleHomePageChange:w,handleSelectRole:j,handleDeleteRole:S,handleSubmit:N,handleClose:O,resetForm:A,getPermissionLabel:C,isPermissionGranted:T,handleAddCustomPermission:k,handleRemoveCustomPermission:M}=ite({isOpen:e,onClose:t});return u.jsx(kn,{isOpen:e,onClose:O,title:"Gestion des rôles",size:"xl",children:u.jsxs("div",{className:"flex flex-col gap-6",children:[f&&u.jsx("div",{className:"rounded-md bg-green-100 px-4 py-2 text-sm font-medium text-green-900",children:f}),h&&u.jsx("div",{className:"rounded-md bg-red-100 px-4 py-2 text-sm font-medium text-red-900",children:h}),u.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start md:gap-8",children:[u.jsx("div",{className:"md:w-[38%] md:flex-shrink-0 lg:w-[35%]",children:u.jsx(nte,{roles:n,isFetching:s,onCreateRole:A,onSelectRole:j,onDeleteRole:S,selectedRoleId:r.id,isEditing:i==="edit",deletingRoleId:d,getPermissionLabel:C})}),u.jsx("div",{className:"flex-1",children:u.jsx(tte,{mode:i,formState:r,onSubmit:N,onInputChange:v,onHomePageChange:w,onPermissionChange:b,onAddCustomPermission:k,onRemoveCustomPermission:M,onCancel:A,isSubmitting:l,hasAccessibleHomePage:g,permissionKeys:p,getPermissionLabel:C,isPermissionGranted:T})})]})]})})},wf=({title:e,value:t,icon:n})=>u.jsxs("div",{className:"ui-card p-6 flex flex-col items-center justify-center text-center gap-4 min-w-0",children:[u.jsx("div",{className:"p-4 bg-brand-primary/20 text-brand-primary rounded-full",children:n}),u.jsxs("div",{className:"w-full space-y-2",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-500 text-center",children:e}),u.jsx("div",{className:"w-full flex justify-center",children:u.jsx("p",{className:"font-bold text-gray-800 leading-none text-center break-words",style:{fontSize:"clamp(1.25rem, 3vw, 2rem)",letterSpacing:"-0.01em"},children:t})})]})]}),jf=({title:e,value:t,icon:n,onClick:r})=>u.jsxs("div",{className:`ui-card p-4 flex items-center space-x-3 min-w-0 ${r?"cursor-pointer hover:bg-gray-50":""}`,onClick:r,children:[u.jsx("div",{className:"p-3 bg-gray-100 text-gray-600 rounded-lg",children:n}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-gray-500",children:e}),u.jsx("p",{className:"text-lg sm:text-xl xl:text-2xl font-bold text-gray-800 break-words leading-tight",children:t})]})]}),qR={week:{label:"Últimos 7 días",days:7},month:{label:"Últimos 30 días",days:30}},ote=e=>{const{days:t}=qR[e],n=new Date(Yc());n.setDate(n.getDate()+1);const r=new Date(n);return r.setDate(r.getDate()-t),{start:r,end:n}},lte=()=>{const[e,t]=x.useState(null),[n,r]=x.useState([]),[i,s]=x.useState(!0),[l,d]=x.useState("category"),[f,h]=x.useState(!1),[p,g]=x.useState(!1),[v,b]=x.useState("week");if(x.useEffect(()=>{(async()=>{const{start:O,end:A}=ote(v),C=O.toISOString(),T=A.toISOString();s(!0);try{const[k,M]=await Promise.all([we.getDashboardStats(v),we.getSalesByProduct({start:C,end:T})]);t(k),r(M)}catch(k){console.error("Failed to fetch dashboard stats",k)}finally{s(!1)}})()},[v]),i)return u.jsx("div",{className:"text-gray-800",children:"Cargando datos del panel..."});if(!e)return u.jsx("div",{className:"text-red-500",children:"No fue posible cargar los datos."});const w=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560","#775DD0"],j=l==="category"?e.ventesParCategorie:n,S=j.length>0;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsx("div",{className:"inline-flex rounded-lg bg-gray-100 p-1 text-sm font-semibold text-gray-600",children:Object.entries(qR).map(([N,O])=>{const A=N,C=v===A;return u.jsx("button",{onClick:()=>b(A),className:`px-3 py-1.5 rounded-md transition-colors ${C?"bg-white text-gray-900 shadow":"hover:text-gray-900"}`,children:O.label},A)})}),u.jsxs("button",{onClick:()=>g(!0),className:"ui-btn-primary",children:[u.jsx(g$,{className:"mr-2 h-4 w-4"}),"Gestión de roles"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(wf,{title:`Ventas (${e.periodLabel})`,value:Ce(e.ventesPeriode),icon:u.jsx(tu,{size:28})}),u.jsx(wf,{title:`Beneficio (${e.periodLabel})`,value:Ce(e.beneficePeriode),icon:u.jsx(tu,{size:28})}),u.jsx(wf,{title:`Clientes (${e.periodLabel})`,value:e.clientsPeriode.toString(),icon:u.jsx(qy,{size:28})}),u.jsx(wf,{title:"Ticket promedio",value:Ce(e.panierMoyen),icon:u.jsx(G6,{size:28})})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(jf,{title:"Mesas ocupadas",value:e.tablesOccupees,icon:u.jsx(ab,{size:24})}),u.jsx(jf,{title:"Clientes actuales",value:e.clientsActuels,icon:u.jsx(qy,{size:24})}),u.jsx(jf,{title:"En cocina",value:e.commandesEnCuisine,icon:u.jsx(DC,{size:24})}),u.jsx(jf,{title:"Ingredientes bajos",value:e.ingredientsStockBas.length,icon:u.jsx(oa,{size:24,className:e.ingredientsStockBas.length>0?"text-red-500":"text-gray-600"}),onClick:()=>h(!0)})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:["Ventas durante ",e.periodLabel]}),u.jsx(SO,{width:"100%",height:300,children:u.jsxs(Hee,{data:e.ventesPeriodeSeries,children:[u.jsx(NR,{strokeDasharray:"3 3"}),u.jsx(ER,{dataKey:"name"}),u.jsx(OR,{}),u.jsx(yO,{}),u.jsx(su,{}),u.jsx(R0,{dataKey:"ventes",fill:"#8884d8",name:`${e.periodLabel}`}),u.jsx(R0,{dataKey:"ventesPeriodePrecedente",fill:"#d8d6f5",name:"Periodo anterior"})]})})]}),u.jsxs("div",{className:"ui-card p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Distribución de ventas (",e.periodLabel,")"]}),u.jsxs("div",{className:"flex p-1 bg-gray-200 rounded-lg",children:[u.jsx("button",{onClick:()=>d("category"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="category"?"bg-white shadow":""}`,children:"Por categoría"}),u.jsx("button",{onClick:()=>d("product"),className:`px-3 py-1 text-sm font-semibold rounded-md ${l==="product"?"bg-white shadow":""}`,children:"Por producto"})]})]}),S?u.jsx(SO,{width:"100%",height:300,children:u.jsxs(Zee,{children:[u.jsx(hR,{data:j,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",label:!0,children:j.map((N,O)=>u.jsx(Uu,{fill:w[O%w.length]},`cell-${O}`))}),u.jsx(yO,{formatter:N=>Ce(N)}),u.jsx(su,{})]})}):u.jsx("div",{style:{height:300},className:"flex items-center justify-center text-gray-500",children:"No hay datos para el periodo seleccionado."})]}),u.jsx(kn,{isOpen:f,onClose:()=>h(!1),title:"Ingredientes con inventario bajo",children:e.ingredientsStockBas.length>0?u.jsx("ul",{className:"space-y-2",children:e.ingredientsStockBas.map(N=>u.jsxs("li",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[u.jsx("span",{className:"font-semibold text-red-800",children:N.nom}),u.jsxs("span",{className:"font-bold text-red-600",children:[N.stock_actuel," / ",N.stock_minimum," ",N.unite]})]},N.id))}):u.jsx("p",{className:"text-gray-600 text-center",children:"No hay ingredientes con inventario bajo por el momento."})}),u.jsx(ste,{isOpen:p,onClose:()=>g(!1)})]})},cte=e=>{const t=Number.isFinite(e)?Math.max(0,e):0,n=Math.floor(t/1e3),r=Math.floor(n/60),i=n%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},f_=({startTime:e,className:t=""})=>{const[n,r]=x.useState(Date.now()-e);x.useEffect(()=>{const d=setInterval(()=>{r(Date.now()-e)},1e3);return()=>clearInterval(d)},[e]);const i=Math.floor(n/6e4),s=cte(n),l=()=>i>=20?"bg-red-500 text-white shadow-lg":i>=10?"bg-yellow-400 text-black shadow-md":"bg-brand-primary text-brand-secondary shadow-md ring-1 ring-black/5";return u.jsxs("div",{className:`flex items-center space-x-2 px-2 py-1 rounded-full text-lg font-bold border-2 border-white ${l()} ${t}`,children:[u.jsx(Sl,{size:20}),u.jsx("span",{children:s})]})},gA={nom:"",capacite:"",couverts:""},ute=({isOpen:e,onClose:t,mode:n,initialValues:r,onSubmit:i,showCouvertsField:s=!1})=>{const[l,d]=x.useState(gA),[f,h]=x.useState({}),[p,g]=x.useState(null),[v,b]=x.useState(!1),w=x.useMemo(()=>n==="create"?"Ajouter une table":"Modifier la table",[n]);x.useEffect(()=>{if(!e){d(gA),h({}),g(null),b(!1);return}const O={nom:(r==null?void 0:r.nom)??"",capacite:r!=null&&r.capacite?String(r.capacite):"",couverts:s&&(r==null?void 0:r.couverts)!==void 0?String(r.couverts):""};d(O),h({}),g(null)},[r==null?void 0:r.capacite,r==null?void 0:r.couverts,r==null?void 0:r.nom,e,s]);const j=O=>{const{name:A,value:C}=O.target;d(T=>({...T,[A]:C}))},S=()=>{const O={},A=l.nom.trim(),C=l.capacite.trim();A||(O.nom="Le nom est requis.");let T=null;if(!C)O.capacite="La capacité est requise.";else{const k=Number(C);!Number.isInteger(k)||k<=0?O.capacite="La capacité doit être un entier positif.":T=k}if(s){const k=l.couverts.trim();if(!k)O.couverts="Le nombre de couverts est requis.";else{const M=Number(k);!Number.isInteger(M)||M<=0?O.couverts="Les couverts doivent être un entier positif.":T!==null&&M>T&&(O.couverts="Les couverts ne peuvent pas dépasser la capacité.")}}return O},N=async O=>{O.preventDefault(),h({}),g(null);const A=S();if(Object.keys(A).length>0){h(A);return}const C={nom:l.nom.trim(),capacite:Number(l.capacite.trim())};if(s){const T=l.couverts.trim();T&&(C.couverts=Number(T))}b(!0);try{await i(C)}catch(T){const k=T instanceof Error&&T.message?T.message:"Une erreur est survenue. Veuillez réessayer.";g(k)}finally{b(!1)}};return u.jsx(kn,{isOpen:e,onClose:t,title:w,size:"md",children:u.jsxs("form",{onSubmit:N,className:"space-y-5",children:[p&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:p}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-name",className:"block text-sm font-medium text-gray-700",children:"Nom de la table"}),u.jsx("input",{id:"table-name",name:"nom",type:"text",className:"ui-input mt-1",value:l.nom,onChange:j,disabled:v,placeholder:"Ex. Terrasse 1",autoFocus:!0}),f.nom&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.nom})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-capacity",className:"block text-sm font-medium text-gray-700",children:"Capacité (nombre de places)"}),u.jsx("input",{id:"table-capacity",name:"capacite",type:"number",min:1,className:"ui-input mt-1",value:l.capacite,onChange:j,disabled:v,placeholder:"Ex. 4"}),f.capacite&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.capacite})]}),s&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"table-couverts",className:"block text-sm font-medium text-gray-700",children:"Couverts (actuels)"}),u.jsx("input",{id:"table-couverts",name:"couverts",type:"number",min:1,className:"ui-input mt-1",value:l.couverts,onChange:j,disabled:v,placeholder:"Ex. 2"}),f.couverts&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.couverts})]}),u.jsxs("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",disabled:v,children:"Annuler"}),u.jsx("button",{type:"submit",className:"w-full ui-btn-primary py-3 disabled:opacity-60",disabled:v,children:v?"Enregistrement...":"Enregistrer"})]})]})})},Oi={libre:{text:"Libre",statusClass:"status--free",Icon:ab},en_cuisine:{text:"En cuisine",statusClass:"status--preparing",Icon:R$},para_entregar:{text:"Para entregar",statusClass:"status--ready",Icon:NU},para_pagar:{text:"Para pagar",statusClass:"status--payment",Icon:tu}},dte=e=>{const t=e.trim();if(!t)return e;const n=t.split(/\s+/);if(n.length<2)return t;const[r,...i]=n;let s=0;for(;s<i.length&&i[s].toLowerCase()===r.toLowerCase();)s+=1;return[r,...i.slice(s)].join(" ")},fte=e=>{switch(e.statut){case"libre":return Oi.libre;case"en_cuisine":return Oi.en_cuisine;case"para_entregar":return Oi.para_entregar;case"para_pagar":return Oi.para_pagar;default:return e.estado_cocina==="servido"||e.estado_cocina==="entregada"?Oi.para_pagar:e.estado_cocina==="listo"?Oi.para_entregar:e.commandeId?Oi.en_cuisine:Oi.libre}},hte=({table:e,onServe:t,canEdit:n,onEdit:r,onDelete:i,isDeleting:s})=>{const l=ha(),{text:d,statusClass:f,Icon:h}=fte(e),[p,g]=x.useState(!1),v=x.useRef(null),b=()=>{l(`/commande/${e.id}`)},w=C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),b())},j=C=>{C.stopPropagation(),e.commandeId&&t(e.commandeId)},S=C=>{C.stopPropagation(),g(T=>!T)};x.useEffect(()=>{if(!p)return;const C=T=>{v.current&&!v.current.contains(T.target)&&g(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[p]);const N=C=>{C.stopPropagation(),g(!1),r==null||r(e)},O=async C=>{if(C.stopPropagation(),g(!1),!!i)try{await i(e)}catch(T){console.error("Failed to delete table from card:",T)}},A=dte(e.nom);return u.jsxs("div",{onClick:b,onKeyDown:w,className:`ui-card status-card ${f} relative`,role:"button",tabIndex:0,children:[e.statut==="para_entregar"&&e.readyOrdersCount&&e.readyOrdersCount>0&&u.jsx("div",{className:"absolute left-3 top-3 z-10",children:u.jsx("span",{className:"table-notification-badge",children:e.readyOrdersCount})}),n&&u.jsxs("div",{className:"absolute right-3 top-3",ref:v,children:[u.jsx("button",{type:"button",onClick:S,className:"flex h-9 w-9 items-center justify-center rounded-full text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60","aria-haspopup":"menu","aria-expanded":p,"aria-label":"Options de la table",disabled:s,children:u.jsx(EC,{size:18})}),p&&u.jsxs("div",{className:"absolute right-0 mt-2 w-44 rounded-md border border-gray-200 bg-white py-1 text-sm shadow-lg",children:[u.jsxs("button",{type:"button",onClick:N,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-gray-700 transition hover:bg-gray-100",children:[u.jsx(e$,{size:16}),"Modifier"]}),u.jsxs("button",{type:"button",onClick:O,className:"flex w-full items-center gap-2 px-3 py-2 text-left text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:s,children:[u.jsx(Fs,{size:16}),s?"Suppression…":"Supprimer"]})]})]}),u.jsxs("div",{className:"status-card__header",children:[u.jsx("h3",{className:"status-card__title",children:A}),e.date_envoi_cuisine&&e.statut!=="libre"&&u.jsx("div",{className:"status-card__timer",children:u.jsx(f_,{startTime:e.date_envoi_cuisine,className:"w-full justify-center"})})]}),u.jsxs("div",{className:"status-card__body",children:[u.jsx(h,{size:56,className:"status-card__icon"}),u.jsx("p",{className:"status-card__state",children:d})]}),u.jsxs("div",{className:"status-card__footer",children:[e.statut!=="libre"?u.jsxs("p",{className:"status-card__meta",children:["Couverts : ",e.couverts]}):u.jsxs("p",{className:"status-card__meta",children:["Capacité : ",e.capacite]}),(e.estado_cocina==="listo"||e.statut==="para_entregar")&&u.jsx("button",{type:"button",onClick:j,className:"ui-btn ui-btn-accent status-card__cta",children:"ENTREGADA"})]})]})},mte=()=>{var B;const{role:e}=ma(),t=((B=e==null?void 0:e.permissions)==null?void 0:B["/ventes"])==="editor",[n,r]=x.useState([]),[i,s]=x.useState(!0),[l,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState(null),[v,b]=x.useState(!1),[w,j]=x.useState("create"),[S,N]=x.useState(null),[O,A]=x.useState(null),C=x.useRef(0),T=x.useCallback(async()=>{const K=++C.current;try{const I=await we.getTables();K===C.current&&(r(I),d(null))}catch(I){console.error("Failed to fetch tables",I),K===C.current&&d("Impossible de charger le plan de salle. Veuillez réessayer.")}finally{K===C.current&&s(!1)}},[]);x.useEffect(()=>{s(!0),T();const K=setInterval(T,1e4),I=we.notifications.subscribe("orders_updated",T);return()=>{clearInterval(K),I()}},[T]);const k=x.useCallback(()=>{b(!1),N(null)},[]),M=x.useCallback(()=>{j("create"),N(null),h(null),g(null),b(!0)},[]),D=x.useCallback(K=>{j("edit"),N(K),h(null),g(null),b(!0)},[]),q=x.useCallback(async K=>{h(null),g(null);try{let I="";if(w==="create")await we.createTable(K),I="Table créée avec succès.";else{if(!S){const Y="Aucune table sélectionnée pour la mise à jour.";throw h(Y),new Error(Y)}await we.updateTable(S.id,K),I="Table mise à jour avec succès."}await T(),k(),g(I)}catch(I){console.error("Failed to save table:",I);const Y=w==="create"?"Impossible de créer la table. Veuillez réessayer.":"Impossible de mettre à jour la table. Veuillez réessayer.";throw h(Y),new Error(Y)}},[T,k,w,S]),$=x.useCallback(async K=>{if(confirm("Supprimer cette table ? Cette action est irréversible.")){h(null),g(null),A(K.id);try{await we.deleteTable(K.id),await T(),g("Table supprimée avec succès.")}catch(I){console.error("Failed to delete table:",I),h("Impossible de supprimer la table. Veuillez réessayer.")}finally{A(null)}}},[T]),F=x.useCallback(async K=>{h(null),g(null);const I=n.find(Y=>Y.commandeId===K);if(I){r(Y=>Y.map(W=>W.id===I.id?{...W,statut:"para_pagar",estado_cocina:"servido"}:W));try{await we.markOrderAsServed(K),await T()}catch(Y){console.error("Failed to mark order as served:",Y),h("Impossible de marquer la commande comme servie. Veuillez réessayer."),await T()}}},[T,n]);if(i)return u.jsx("p",{className:"section-text section-text--muted",children:"Chargement du plan de salle..."});const H=w==="edit"&&S?{nom:S.nom,capacite:S.capacite,couverts:S.couverts}:void 0,re=w==="edit"&&!!(S!=null&&S.commandeId);return u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[t&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"button",onClick:M,className:"ui-btn ui-btn-primary flex items-center gap-2",children:[u.jsx(yu,{size:18}),"Ajouter une table"]})}),l&&u.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:l}),f&&u.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:f}),p&&u.jsx("div",{className:"rounded-md border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:p})]}),u.jsx("div",{className:"mt-6 status-grid",children:n.map(K=>u.jsx(hte,{table:K,onServe:F,canEdit:!!t,onEdit:D,onDelete:$,isDeleting:O===K.id},K.id))}),u.jsx(ute,{isOpen:v,onClose:k,mode:w,initialValues:H,onSubmit:q,showCouvertsField:re})]})},pte=({isOpen:e,onClose:t,order:n,onFinalize:r})=>{const[i,s]=x.useState("efectivo"),[l,d]=x.useState(null),[f,h]=x.useState(!1),p=async g=>{g.preventDefault(),i&&(h(!0),await r(i,l),h(!1),t())};return u.jsx(kn,{isOpen:e,onClose:t,title:`Finalizar el pedido #${n.id.slice(-4)}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600",children:"Total a pagar"}),u.jsx("p",{className:"text-4xl font-extrabold text-gray-900",children:Ce(n.total)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Método de pago"}),u.jsxs("select",{value:i,onChange:g=>s(g.target.value),className:"mt-1 ui-select",children:[u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),i==="transferencia"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante (opcional)"}),u.jsxs("label",{htmlFor:"payment-receipt",className:"mt-1 flex w-full cursor-pointer items-center gap-2 rounded-lg border border-gray-300 bg-white p-2 text-gray-500 shadow-sm hover:bg-gray-50",children:[u.jsx(bu,{size:18}),u.jsx("span",{children:l?l.name:"Selecciona un archivo..."})]}),u.jsx("input",{id:"payment-receipt",type:"file",accept:"image/*,.pdf",onChange:g=>d(g.target.files?g.target.files[0]:null),className:"hidden"})]}),u.jsxs("div",{className:"pt-4 flex flex-col sm:flex-row gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Finalizando...":"Confirmar pago"})]})]})})},gte=e=>e??"",vte=e=>!e||e.length===0?[]:e.slice().sort(),Pf=(e=[])=>{const t=new Map;for(const n of e)t.set(n.id,{quantite:n.quantite,commentaire:gte(n.commentaire),excludedIngredients:vte(n.excluded_ingredients)});return{size:e.length,itemsById:t}},vA=(e,t)=>{if(e===t)return!0;if(e.size!==t.size)return!1;for(const[n,r]of e.itemsById){const i=t.itemsById.get(n);if(!i||r.quantite!==i.quantite||r.commentaire!==i.commentaire||r.excludedIngredients.length!==i.excludedIngredients.length)return!1;for(let s=0;s<r.excludedIngredients.length;s+=1)if(r.excludedIngredients[s]!==i.excludedIngredients[s])return!1}return!0},yte=({filteredProducts:e,quantities:t,onAdd:n,activeCategoryId:r,categories:i,onSelectCategory:s,isProductAvailable:l,handleProductPointerDown:d,handleProductKeyDown:f})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs("div",{className:"flex space-x-2 mt-4 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r==="all"?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:"Tous"}),i.map(h=>u.jsx("button",{onClick:()=>s(h.id),className:`px-4 py-2 rounded-full font-semibold whitespace-nowrap ${r===h.id?"bg-brand-primary text-brand-secondary":"bg-gray-200 text-gray-700"}`,children:h.nom},h.id))]})}),u.jsx("div",{className:"p-4 grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-y-auto",children:e.map(h=>{const p=!l(h),g=t[h.id]||0,v=()=>n(h),b=d(h),w=f(h);return u.jsxs("button",{type:"button",onClick:v,onPointerDown:b,onKeyDown:w,className:`border rounded-lg p-2 flex flex-col items-center justify-between text-center cursor-pointer hover:shadow-lg transition-all relative focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-gray-900 ${p?"border-yellow-500 border-2":""}`,children:[g>0&&u.jsx("div",{className:"absolute top-1 left-1 bg-brand-accent text-white rounded-full h-5 w-5 flex items-center justify-center text-xs font-bold",children:g}),p&&u.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 text-white rounded-full p-1",title:"Stock bas",children:u.jsx(oa,{size:16})}),u.jsx("img",{src:h.image,alt:h.nom_produit,className:"w-24 h-24 object-cover rounded-md mb-2"}),u.jsx("p",{className:"font-semibold text-sm text-gray-800",children:h.nom_produit}),u.jsx("p",{className:"text-xs text-gray-600 px-1 h-10 overflow-hidden flex-grow",children:h.description}),u.jsx("p",{className:"font-bold text-brand-primary mt-1",children:Ce(h.prix_vente)})]},h.id)})})]}),bte=x.memo(yte),xte=({categorizedItems:e,total:t,onQuantityChange:n,onCommentChange:r,onPersistComment:i,onStartEditingComment:s,onSendToKitchen:l,onServeOrder:d,onOpenPayment:f,isSending:h,hasPending:p,orderStatus:g,editingCommentId:v})=>{const b=e.pending.length+e.sent.length;return u.jsxs("div",{className:"ui-card flex flex-col",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h2",{className:"text-2xl font-semibold text-brand-secondary",children:"Commande"})}),u.jsx("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:b===0?u.jsx("p",{className:"text-gray-500",children:"La commande est vide."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Articles à envoyer"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.pending.length})]}),e.pending.length===0?u.jsx("p",{className:"text-sm text-gray-500",children:"Aucun article en attente."}):e.pending.map(({item:w,index:j})=>u.jsxs("div",{className:"p-3 rounded-lg bg-yellow-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Ce(w.quantite*w.prix_unitaire)})]}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("p",{className:"text-sm text-gray-700",children:[Ce(w.prix_unitaire)," /u"]}),u.jsxs("div",{className:"flex items-center space-x-2 text-gray-800",children:[u.jsx("button",{onClick:()=>n(j,-1),className:"p-1",children:u.jsx(aU,{size:20})}),u.jsx("span",{className:"font-bold w-6 text-center",children:w.quantite}),u.jsx("button",{onClick:()=>n(j,1),className:"p-1",children:u.jsx(ib,{size:20})})]})]}),v===w.id||w.commentaire?u.jsx("input",{type:"text",placeholder:"Ajouter un commentaire...",value:w.commentaire??"",onChange:S=>r(j,S.target.value),onBlur:()=>i(j),autoFocus:v===w.id,className:"mt-2 ui-input text-sm"}):u.jsxs("button",{onClick:()=>s(w.id),className:"mt-2 text-xs text-blue-600 hover:underline flex items-center gap-1",children:[u.jsx(TC,{size:12})," Ajouter un commentaire"]})]},w.id))]}),e.sent.length>0&&u.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-brand-secondary",children:"Envoyés en cuisine"}),u.jsx("span",{className:"text-sm text-gray-500",children:e.sent.length})]}),e.sent.map(({item:w})=>u.jsxs("div",{className:"p-3 rounded-lg bg-green-100",children:[u.jsxs("div",{className:"flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-full bg-green-600 text-base font-bold text-white shadow-md",children:w.quantite}),u.jsx("p",{className:"font-bold text-gray-900",children:w.nom_produit})]}),u.jsx("p",{className:"font-bold text-gray-900 whitespace-nowrap",children:Ce(w.quantite*w.prix_unitaire)})]}),u.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[Ce(w.prix_unitaire)," /u"]}),w.commentaire&&u.jsxs("p",{className:"mt-2 text-sm italic text-gray-600 pl-2",children:['"',w.commentaire,'"']})]},w.id))]})]})}),u.jsxs("div",{className:"p-4 border-t space-y-4",children:[u.jsxs("div",{className:"flex justify-between text-2xl font-semibold text-brand-secondary",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:Ce(t)})]}),g==="listo"&&u.jsxs("button",{onClick:d,className:"w-full ui-btn-info justify-center py-3",children:[u.jsx(V6,{size:20}),u.jsx("span",{children:"Entregada"})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:l,disabled:h||!p,className:"flex-1 ui-btn-accent justify-center py-3 disabled:opacity-60",children:[u.jsx(f$,{size:20}),u.jsx("span",{children:h?"Synchronisation…":"Envoyer en Cuisine"})]}),u.jsxs("button",{onClick:f,disabled:g!=="servido",className:"flex-1 ui-btn-success justify-center py-3 disabled:opacity-60",children:[u.jsx(tu,{size:20}),u.jsx("span",{children:"Finaliser"})]})]})]})]})},_te=({isOpen:e,product:t,onClose:n,onSave:r})=>{const[i,s]=x.useState(1),[l,d]=x.useState("");if(x.useEffect(()=>{e&&(s(1),d(""))},[e,t==null?void 0:t.id]),!t)return null;const f=()=>{s(g=>Math.max(1,g-1))},h=()=>{s(g=>g+1)},p=()=>{r({quantity:i,comment:l})};return u.jsx(kn,{isOpen:e,onClose:n,title:t.nom_produit,children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("img",{src:t.image,alt:t.nom_produit,className:"w-full h-48 object-cover rounded-lg"}),t.description&&u.jsx("p",{className:"text-gray-200 text-sm",children:t.description}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-200",children:"Commentaire"}),u.jsx("textarea",{value:l,onChange:g=>d(g.target.value),rows:2,className:"mt-1 block w-full rounded-md border border-gray-600 bg-gray-900/60 py-2 px-3 text-sm text-gray-100 focus:border-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Allergies, instructions spécifiques…"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Diminuer la quantité",children:u.jsx(kC,{size:18})}),u.jsx("span",{className:"w-8 text-center text-lg font-bold text-gray-100",children:i}),u.jsx("button",{type:"button",onClick:h,className:"p-2 rounded-full bg-gray-800 text-gray-100 hover:bg-gray-700","aria-label":"Augmenter la quantité",children:u.jsx(yu,{size:18})})]}),u.jsxs("button",{type:"button",onClick:p,className:"rounded-lg bg-brand-primary py-2 px-6 font-semibold text-brand-secondary transition hover:bg-yellow-400",children:["Ajouter (",Ce(t.prix_vente*i),")"]})]})]})})},jy=e=>!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),ra=e=>JSON.parse(JSON.stringify(e)),yA=(()=>{let e=0;return()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`tmp-${crypto.randomUUID()}`:(e+=1,`tmp-${Date.now()}-${e}`)})(),bA=e=>(e??"").trim(),wte=(e=[],t=[])=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>i===r[s])},jte=(e,t,n,r,i=[])=>{const s=bA(n.comment),l=Number.isFinite(n.quantity)?Math.max(1,Math.floor(n.quantity)):1,d=e.findIndex(h=>h.produitRef===t.id&&h.estado==="en_attente"&&bA(h.commentaire)===s&&wte(h.excluded_ingredients??[],i));if(d>-1)return e.map((h,p)=>p===d?{...h,quantite:h.quantite+l}:h);const f={id:r(),produitRef:t.id,nom_produit:t.nom_produit,prix_unitaire:t.prix_vente,quantite:l,excluded_ingredients:[...i],commentaire:s,estado:"en_attente"};return[...e,f]},xA=Pf([]),Ste=()=>{const{tableId:e}=tI(),t=ha(),[n,r]=x.useState(null),[i,s]=x.useState(null),[l,d]=x.useState([]),[f,h]=x.useState([]),[p,g]=x.useState([]),[v,b]=x.useState("all"),[w,j]=x.useState(!0),[S,N]=x.useState(!1),[O,A]=x.useState(!1),[C,T]=x.useState(null),[k,M]=x.useState(!1),[D,q]=x.useState(null),$=x.useRef(n),F=x.useRef(i),H=x.useRef(null),re=x.useRef(null),B=x.useRef(null),K=x.useRef(Promise.resolve()),I=x.useRef(null),Y=x.useRef(null),W=x.useCallback((de,he,Ee)=>{if(!he||he.length===0)return de.current=null,xA;const Je=Ee??Pf(he);return de.current={source:he,snapshot:Je},Je},[]),ue=x.useCallback((de,he)=>{if(!de||de.length===0)return he.current=null,xA;const Ee=he.current;return Ee&&Ee.source===de?Ee.snapshot:W(he,de)},[W]);x.useEffect(()=>{$.current=n},[n]),x.useEffect(()=>{F.current=i},[i]);const ne=x.useCallback(de=>{const he=$.current;if(!he)return!0;const Ee=de??F.current;if(!Ee)return!0;const Je=ue(he.items,I),Ze=de?Pf(Ee.items):ue(Ee.items,Y);return vA(Ze,Je)},[ue]),R=x.useCallback(()=>{const de=re.current;if(!de)return;const he=Pf(de.items);H.current=ra(de);const Ee=$.current;if(Ee){const Ze=ue(Ee.items,I);if(vA(Ze,he)){re.current=null;return}}re.current=null,$.current=de,r(de),W(I,de.items,he);const Je=ra(de);F.current=Je,s(Je),W(Y,Je.items)},[ue,W]),L=x.useCallback(async(de=!1)=>{if(e)try{if(de||j(!0),de){const Ie=await we.createOrGetOrderByTableId(e),at=ra(Ie);if(H.current=at,ne()){re.current=null,r(Ie),$.current=Ie,W(I,Ie.items);const Mt=ra(Ie);F.current=Mt,s(Mt),W(Y,Mt.items)}else{const Mt=F.current;Mt&&JSON.stringify(Mt)===JSON.stringify(Ie)?re.current=null:re.current=at}return}const[he,Ee,Je,Ze]=await Promise.all([we.createOrGetOrderByTableId(e),we.getProducts(),we.getCategories(),we.getIngredients()]);H.current=ra(he),r(he),$.current=he,W(I,he.items);const Pt=ra(he);s(Pt),F.current=Pt,W(Y,Pt.items),d(Ee),h(Je),g(Ze),re.current=null}catch(he){console.error("Failed to load order data",he),t("/ventes")}finally{de||j(!1)}},[ne,t,e,W]);x.useEffect(()=>{L()},[L]),x.useEffect(()=>{ne()&&R()},[R,ne,n,i]),x.useEffect(()=>{const de=we.notifications.subscribe("orders_updated",()=>L(!0));return()=>de()},[L]);const X=x.useMemo(()=>!ne(),[ne,n,i]),ie=x.useMemo(()=>n?n.items.reduce((de,he)=>(he.estado!=="en_attente"||(de[he.produitRef]=(de[he.produitRef]||0)+he.quantite),de),{}):{},[n]),se=x.useMemo(()=>v==="all"?l:l.filter(de=>de.categoria_id===v),[v,l]),ye=x.useCallback(de=>{if(!de.recipe||de.recipe.length===0)return!0;for(const he of de.recipe){const Ee=p.find(Je=>Je.id===he.ingredient_id);if(!Ee||Ee.stock_actuel<=Ee.stock_minimum)return!1}return!0},[p]);x.useEffect(()=>()=>{B.current!==null&&(window.clearTimeout(B.current),B.current=null)},[]);const je=x.useCallback(async(de,he)=>{const Ee=$.current;if(!Ee)return;const Je=Mt=>typeof de=="function"?de(Mt):de,Pt=(he!=null&&he.isLocalUpdate?Ee.items:(he==null?void 0:he.removalSourceItems)??Ee.items).map(Mt=>({...Mt})),Ie=Je(Pt),at={...Ee,items:Ie,total:Ie.reduce((Mt,Te)=>Mt+Te.quantite*Te.prix_unitaire,0)};if(r(at),$.current=at,W(I,at.items),he!=null&&he.isLocalUpdate)return;const yt=async()=>{try{let Mt=re.current??H.current??null;if(!Mt){const Kt=await we.getOrderById(Ee.id);Kt?(Mt=Kt,H.current=ra(Kt)):Mt=Ee}if(!Mt)return;const Te=$.current.items.map(Kt=>({...Kt})),Ut=((he==null?void 0:he.removalSourceItems)??Ee.items).filter(Kt=>jy(Kt.id)&&!Te.some(Qs=>Qs.id===Kt.id)).map(Kt=>Kt.id),cn=await we.updateOrder(Ee.id,{items:Te,removedItemIds:Ut},{includeNotifications:!1});r(cn),$.current=cn,W(I,cn.items);const Dr=ra(cn);s(Dr),F.current=Dr,W(Y,Dr.items),H.current=ra(cn),we.getIngredients().then(g).catch(Kt=>{console.error("Failed to refresh ingredients",Kt)}),R()}catch(Mt){console.error("Failed to update order:",Mt),alert("Une erreur est survenue lors de la mise à jour de la commande."),L(!0)}};K.current=K.current.then(yt,yt),await K.current},[R,L,W]),fe=x.useCallback((de=300)=>{B.current!==null&&window.clearTimeout(B.current);const he=de>0?de:1;B.current=window.setTimeout(async()=>{if(B.current=null,!$.current)return;const Ee=$.current.items.map(Ze=>({...Ze})),Je=H.current?H.current.items.map(Ze=>({...Ze})):Ee.map(Ze=>({...Ze}));await je(Ee,{removalSourceItems:Je})},he)},[je]),V=x.useCallback(de=>{$.current&&(je(de,{isLocalUpdate:!0}),fe())},[fe,je]),pe=x.useCallback(de=>{q(de)},[]),be=x.useCallback(()=>{q(null)},[]),le=x.useCallback(de=>{D&&(V(he=>jte(he,D,de,yA)),q(null))},[V,D]),Ve=x.useCallback((de,he)=>{const Ee=$.current;if(!Ee||!Ee.items[de])return;const Je=Ee.items[de].id;V(Ze=>{const Pt=Ze.findIndex(at=>at.id===Je);if(Pt===-1)return Ze;const Ie=Ze[Pt].quantite+he;return Ie<=0?Ze.filter(at=>at.id!==Je):Ze.map(at=>at.id===Je?{...at,quantite:Ie}:at)})},[V]),Me=x.useCallback((de,he)=>{const Ee=$.current;if(!Ee||!Ee.items[de])return;const Je=Ee.items[de].id;je(Ze=>{const Pt=Ze.findIndex(yt=>yt.id===Je);if(Pt===-1)return Ze;const Ie=Ze.map(yt=>({...yt})),at=Ie[Pt];if(at.quantite>1&&!at.commentaire&&he){at.quantite-=1;const yt={...at,id:yA(),quantite:1,commentaire:he};Ie.push(yt),T(yt.id)}else at.commentaire=he;return Ie},{isLocalUpdate:!0})},[je]),Tt=x.useCallback(de=>{$.current&&(je($.current.items.map(he=>({...he}))),T(null))},[je]),kt=x.useCallback(async()=>{if($.current){M(!0);try{let de=$.current;for(;de&&de.items.some(Ie=>Ie.estado==="en_attente"&&!jy(Ie.id));)await je(de.items.map(Ie=>({...Ie}))),de=$.current;if(de=$.current,!de)return;const he=de.items.filter(Ie=>Ie.estado==="en_attente");if(he.length===0)return;if(he.filter(Ie=>!jy(Ie.id)).length>0){console.warn("Des articles non persistés subsistent après synchronisation, envoi annulé.");return}const Je=he.map(Ie=>Ie.id),Ze=await we.sendOrderToKitchen(de.id,Je);r(Ze),$.current=Ze,W(I,Ze.items);const Pt=ra(Ze);s(Pt),F.current=Pt,W(Y,Pt.items),t("/ventes")}catch(de){console.error("Failed to send order to kitchen",de),alert("Erreur lors de l'envoi en cuisine.")}finally{M(!1)}}},[t,je,W]),Ft=x.useCallback(async()=>{if(n)try{const de=await we.markOrderAsServed(n.id);r(de),$.current=de,W(I,de.items)}catch(de){console.error("Failed to mark order as served",de)}},[n,W]),Wn=async(de,he)=>{if(n)try{let Ee=n.payment_receipt_url??void 0;if(he&&he instanceof File)try{Ee=await vC(he,{orderId:n.id})}catch(Je){console.error("Failed to upload receipt",Je)}await we.finalizeOrder(n.id,de,Ee),t("/ventes")}catch(Ee){console.error("Failed to finalize order",Ee),alert("Erreur lors de la finalisation de la commande. Veuillez réessayer.")}},ge=()=>{if(n&&n.estado_cocina==="no_enviado"&&n.items.length>0){A(!0);return}X?A(!0):t("/ventes")},We=async()=>{try{n&&n.estado_cocina==="no_enviado"?await we.cancelUnsentTableOrder(n.id):i&&!ne(i)&&await je(i.items)}catch(de){console.error("Failed to cancel unsent order before exiting",de)}finally{A(!1),t("/ventes")}},Ke=(n==null?void 0:n.items)??[],dt=x.useMemo(()=>Ke.reduce((de,he,Ee)=>(he.estado==="en_attente"?de.pending.push({item:he,index:Ee}):de.sent.push({item:he,index:Ee}),de),{pending:[],sent:[]}),[Ke]),St=x.useCallback(de=>he=>{he.preventDefault(),he.currentTarget.focus()},[]),Qe=x.useCallback(de=>he=>{(he.key==="Enter"||he.key===" ")&&(he.preventDefault(),pe(de))},[pe]),Xn=x.useCallback(()=>{N(!0)},[]),Qr=x.useCallback(de=>{T(de)},[]),Jr=x.useMemo(()=>dt.pending.length>0,[dt]);return w?u.jsx("div",{className:"text-center p-10 text-gray-800",children:"Chargement de la commande..."}):n?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-[calc(100vh-12rem)] lg:h-[calc(100vh-10rem)]",children:[u.jsxs("div",{className:"lg:col-span-2 ui-card flex flex-col",children:[u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[u.jsxs("button",{onClick:ge,className:"ui-btn-dark",title:"Retour au plan de salle",children:[u.jsx(wC,{size:20}),u.jsx("span",{children:"Retour plan de salle"})]}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["Table ",n.table_nom]})]})}),u.jsx(bte,{filteredProducts:se,quantities:ie,onAdd:pe,activeCategoryId:v,categories:f,onSelectCategory:b,isProductAvailable:ye,handleProductPointerDown:St,handleProductKeyDown:Qe})]}),u.jsx(xte,{categorizedItems:dt,total:n.total,onQuantityChange:Ve,onCommentChange:Me,onPersistComment:Tt,onStartEditingComment:Qr,onSendToKitchen:kt,onServeOrder:Ft,onOpenPayment:Xn,isSending:k,hasPending:Jr,orderStatus:n.estado_cocina,editingCommentId:C})]}),u.jsx(_te,{isOpen:D!==null,product:D,onClose:be,onSave:le}),u.jsx(pte,{isOpen:S,onClose:()=>N(!1),order:n,onFinalize:Wn}),u.jsxs(kn,{isOpen:O,onClose:()=>A(!1),title:"Quitter sans envoyer ?",children:[u.jsx("p",{className:"text-gray-700",children:"Vous avez des articles non envoyés en cuisine. Si vous quittez, ils seront annulés. Voulez-vous continuer ?"}),u.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[u.jsx("button",{onClick:()=>A(!1),className:"ui-btn-secondary",children:"Non, rester"}),u.jsx("button",{onClick:We,className:"ui-btn-danger",children:"Oui, quitter"})]})]})]}):u.jsx("div",{className:"text-center p-10 text-red-500",children:"Commande non trouvée."})},Nte={critical:{border:"border-4 border-solid border-red-500",accent:"bg-red-500 urgency-accent-critical",badge:"bg-red-100 text-red-700 ring-1 ring-inset ring-red-300 urgency-badge-critical",icon:"text-red-500 urgency-icon-critical",background:"bg-red-100"},warning:{border:"border-[3px] border-solid border-yellow-400",accent:"bg-yellow-400 urgency-accent-warning",badge:"bg-yellow-100 text-yellow-800 ring-1 ring-inset ring-yellow-300 urgency-badge-warning",icon:"text-yellow-500 urgency-icon-warning",background:"bg-yellow-100"},normal:{border:"border-2 border-solid border-brand-accent",accent:"bg-brand-accent urgency-accent-normal",badge:"bg-blue-100 text-blue-700 ring-1 ring-inset ring-blue-200 urgency-badge-normal",icon:"text-brand-accent urgency-icon-normal",background:"bg-blue-100"}},Ete=e=>{if(!e)return"normal";const t=(Date.now()-e)/6e4;return t>=20?"critical":t>=10?"warning":"normal"},HR=e=>{const t=Ete(e),n=Nte[t];return{level:t,border:n.border,accent:n.accent,badge:n.badge,icon:n.icon,background:n.background}},Ote=({order:e,onReady:t,canMarkReady:n})=>{const r=HR(e.date_envoi_cuisine||Date.now()),i=x.useMemo(()=>{const d=[],f=new Map;return e.items.forEach(h=>{var w;const p=(w=h.commentaire)==null?void 0:w.trim(),g=p||"no_comment",v=`${h.produitRef}::${g}`;if(p){d.push({key:`${v}::${h.id}`,nom_produit:h.nom_produit,quantite:h.quantite,commentaire:p});return}const b=f.get(v);if(b!==void 0){d[b].quantite+=h.quantite;return}f.set(v,d.length),d.push({key:v,nom_produit:h.nom_produit,quantite:h.quantite})}),d},[e.items]),l=new Date(e.date_envoi_cuisine||Date.now()).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:`flex h-full flex-col overflow-hidden rounded-xl text-gray-900 shadow-lg transition-shadow duration-300 hover:shadow-xl ${r.border} ${r.background}`,children:[u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-4",children:[u.jsx("h3",{className:"w-full text-center text-xl font-semibold text-gray-900 sm:text-left sm:text-2xl truncate",children:e.table_nom||`Para llevar #${e.id.slice(-4)}`}),u.jsx(f_,{startTime:e.date_envoi_cuisine||Date.now(),className:"w-full justify-center rounded-xl px-0 text-xl sm:justify-start sm:rounded-full sm:px-4 sm:text-2xl"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:u.jsx("ul",{className:"space-y-3",children:i.map(d=>u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-2 py-1 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full text-2xl font-bold text-white shadow-md ${r.accent}`,children:d.quantite}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 truncate",children:d.nom_produit})]}),d.commentaire&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium italic text-blue-800",children:d.commentaire})]},d.key))})}),u.jsx("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:u.jsxs("div",{className:"flex w-full flex-col gap-3",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["Enviado ",l]}),n&&u.jsxs("button",{onClick:()=>t(e.id,e.date_envoi_cuisine),className:"group inline-flex w-full items-center justify-center gap-3 rounded-lg border-2 border-transparent bg-black px-4 py-3 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/70 focus-visible:ring-offset-2 hover:bg-neutral-900",children:[u.jsx(jC,{size:22,className:"shrink-0"}),u.jsx("span",{children:"LISTO"})]})]})})]})},Ate=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),{role:i}=ma(),s=(i==null?void 0:i.permissions["/cocina"])==="editor",l=x.useCallback(async()=>{try{const f=await we.getKitchenOrders();t(f)}catch(f){console.error("Failed to fetch kitchen orders",f)}finally{r(!1)}},[]);x.useEffect(()=>{l();const f=setInterval(l,5e3),h=we.notifications.subscribe("orders_updated",l);return()=>{clearInterval(f),h()}},[l]);const d=async(f,h)=>{try{await we.markOrderAsReady(f,h),l()}catch(p){console.error("Failed to mark order as ready",p)}};return n?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos de cocina..."}):u.jsx("div",{className:"flex h-full flex-col",children:e.length===0?u.jsx("div",{className:"mt-6 flex flex-1 items-center justify-center text-2xl text-gray-500",children:"No hay pedidos en preparación."}):u.jsx("div",{className:"mt-6 grid flex-1 grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(f=>u.jsx(Ote,{order:f,onReady:d,canMarkReady:s},f.ticketKey))})})},_A=({order:e,onValidate:t,onDeliver:n,isProcessing:r})=>{const[i,s]=x.useState(!1),l=e.table_nom||`Pedido #${e.id.slice(-6)}`,d=e.date_envoi_cuisine||e.date_creation,f=HR(d),h={normal:"Normal",warning:"En seguimiento",critical:"Crítico"};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative flex h-full flex-col overflow-hidden rounded-xl border text-gray-900 shadow-md transition-shadow duration-300 hover:shadow-lg ${f.border} ${f.background}`,children:[u.jsx("span",{"aria-hidden":!0,className:`absolute inset-y-0 left-0 w-1 ${f.accent}`}),u.jsx("header",{className:"border-b border-gray-200 px-5 pt-5 pb-4",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"text-lg sm:text-xl md:text-2xl font-semibold leading-tight text-gray-900",children:l}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Pedido enviado ",new Date(d).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"})]})]}),u.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] ${f.badge}`,children:[u.jsx("span",{className:`h-2 w-2 rounded-full ${f.accent}`}),u.jsx("span",{children:h[f.level]})]})]}),u.jsx(f_,{startTime:d,className:"text-sm sm:text-base"})]})}),u.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto px-5 py-4",children:[e.clientInfo&&u.jsxs("div",{className:"space-y-2 rounded-lg border border-gray-200 bg-gray-50 p-4 shadow-sm",children:[e.clientInfo.nom&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[u.jsx(ob,{size:16,className:f.icon}),u.jsx("span",{className:"font-medium",children:e.clientInfo.nom})]}),e.clientInfo.telephone&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 ml-6",children:[u.jsx(PC,{size:14,className:"text-gray-500"}),u.jsx("span",{children:e.clientInfo.telephone})]})]}),e.clientInfo.adresse&&u.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[u.jsx(kh,{size:16,className:`mt-0.5 text-gray-500 ${f.icon}`}),u.jsx("span",{className:"text-gray-700",children:e.clientInfo.adresse})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h5",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-gray-500",children:"Artículos"}),e.items.length>0?u.jsx("ul",{className:"space-y-2",children:e.items.map(p=>{var v;const g=(v=p.commentaire)==null?void 0:v.trim();return u.jsxs("li",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-sm text-gray-900 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("span",{className:`flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-base font-bold text-white shadow-md ${f.accent}`,children:p.quantite}),u.jsx("span",{className:"font-semibold text-gray-900",children:p.nom_produit})]}),u.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-900 whitespace-nowrap",children:Ce(p.prix_unitaire*p.quantite)})]}),g&&u.jsx("p",{className:"mt-2 rounded-md border border-dashed border-blue-200 bg-blue-50 px-3 py-2 text-xs font-medium italic text-blue-800",children:g})]},p.id)})}):u.jsx("p",{className:"rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 text-xs text-gray-500 shadow-sm",children:"Este pedido aún no tiene artículos registrados."})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-4 py-3 font-semibold text-gray-900 shadow-sm",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{className:"text-lg sm:text-xl text-gray-900",children:Ce(e.total)})]})]}),u.jsxs("footer",{className:"border-t border-gray-200 px-5 pb-5 pt-4",children:[e.statut==="pendiente_validacion"&&t&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>s(!0),className:"w-full ui-btn ui-btn-secondary",type:"button",children:[u.jsx(By,{size:16,className:f.icon})," ",e.receipt_url?"Ver comprobante":"Comprobante no disponible"]}),u.jsx("button",{onClick:()=>t(e.id),disabled:r,className:"w-full ui-btn ui-btn-info uppercase",type:"button",children:r?"Validando...":"Validar"})]}),e.estado_cocina==="listo"&&n&&u.jsx("button",{onClick:()=>n(e.id),disabled:r,className:"w-full ui-btn ui-btn-success uppercase",type:"button",children:r?"Procesando...":"Entregar"})]})]}),u.jsx(kn,{isOpen:i,onClose:()=>s(!1),title:"Comprobante de pago",children:e.receipt_url?u.jsx("img",{src:e.receipt_url,alt:"Comprobante",className:"w-full h-auto rounded-md"}):u.jsx("p",{children:"No se proporcionó comprobante."})})]})},Cte=()=>{const[e,t]=x.useState([]),[n,r]=x.useState([]),[i,s]=x.useState(!0),[l,d]=x.useState(null),f=x.useCallback(async()=>{try{const{pending:g,ready:v}=await we.getTakeawayOrders();t(g.sort((b,w)=>b.date_creation-w.date_creation)),r(v.sort((b,w)=>(b.date_listo_cuisine||0)-(w.date_listo_cuisine||0)))}catch(g){console.error("Failed to fetch takeaway orders",g)}finally{s(!1)}},[]);x.useEffect(()=>{s(!0),f();const g=setInterval(f,1e4),v=we.notifications.subscribe("orders_updated",f);return()=>{clearInterval(g),v()}},[f]);const h=async g=>{if(!l){d(g);try{await we.validateTakeawayOrder(g),await f()}catch(v){console.error("Failed to validate order:",v),alert(`No se pudo validar el pedido: ${v.message}`)}finally{d(null)}}},p=async g=>{if(!l){d(g);try{await we.markTakeawayAsDelivered(g),await f()}catch(v){console.error("Failed to mark order as delivered:",v),alert("Ocurrió un error al finalizar el pedido.")}finally{d(null)}}};return i?u.jsx("div",{className:"text-gray-700",children:"Cargando pedidos para llevar..."}):u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8 md:grid-cols-2",children:[u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-blue-700",children:["Pendientes de validación (",e.length,")"]}),u.jsx("div",{className:"space-y-4",children:e.length>0?e.map(g=>u.jsx(_A,{order:g,onValidate:h,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos para validar."})})]}),u.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl",children:[u.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-center text-green-700",children:["Pedidos listos (",n.length,")"]}),u.jsx("div",{className:"space-y-4",children:n.length>0?n.map(g=>u.jsx(_A,{order:g,onDeliver:p,isProcessing:l===g.id},g.id)):u.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay pedidos listos."})})]})]})})},Tte=()=>{const{role:e}=ma(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[s,l]=x.useState(null),[d,f]=x.useState(""),[h,p]=x.useState(!1),[g,v]=x.useState(!1),[b,w]=x.useState(!1),[j,S]=x.useState(null),[N,O]=x.useState("add"),A=(e==null?void 0:e.permissions["/ingredients"])==="editor",C=x.useCallback(async()=>{try{const M=await we.getIngredients();n(M),l(null)}catch(M){l("Impossible de charger les ingrédients."),console.error(M)}finally{i(!1)}},[]);x.useEffect(()=>{i(!0),C()},[C]);const T=x.useMemo(()=>t.filter(M=>M.nom.toLowerCase().includes(d.toLowerCase())),[t,d]),k=(M,D=null)=>{S(D),M==="add"||M==="edit"?(O(M),p(!0)):M==="resupply"?v(!0):M==="delete"&&w(!0)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[u.jsxs("div",{className:"relative w-full md:w-80",children:[u.jsx(sb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un ingrédient...",value:d,onChange:M=>f(M.target.value),className:"ui-input pl-10 sm:w-64"})]}),A&&u.jsxs("button",{onClick:()=>k("add"),className:"w-full md:w-auto ui-btn-primary",children:[u.jsx(ib,{size:20}),"Ajouter un ingrédient"]})]}),r?u.jsx("p",{className:"text-gray-800",children:"Chargement..."}):s?u.jsx("p",{className:"text-red-500",children:s}):u.jsx("div",{className:"ui-card p-4 overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actuel"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Stock Minimum"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire moyen"}),A&&u.jsx("th",{className:"p-3 text-right text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{children:T.map(M=>{const D=M.stock_actuel<=M.stock_minimum;return u.jsxs("tr",{className:`border-b hover:bg-gray-50 ${D?"bg-red-50":""}`,children:[u.jsx("td",{className:`p-3 font-semibold ${D?"text-red-900":"text-gray-900"}`,children:M.nom}),u.jsxs("td",{className:`p-3 font-bold ${D?"text-red-700":"text-gray-800"}`,children:[M.stock_actuel," ",M.unite]}),u.jsxs("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:[M.stock_minimum," ",M.unite]}),u.jsx("td",{className:`p-3 ${D?"text-red-800":"text-gray-700"}`,children:Ce(M.prix_unitaire)}),A&&u.jsx("td",{className:"p-3 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>k("resupply",M),title:"Réapprovisionner",className:"p-2 text-green-600 hover:bg-green-100 rounded-full",children:u.jsx(YU,{size:20})}),u.jsx("button",{onClick:()=>k("edit",M),title:"Modifier",className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:u.jsx(IC,{size:20})}),u.jsx("button",{onClick:()=>k("delete",M),title:"Supprimer",className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:u.jsx(Fs,{size:20})})]})})]},M.id)})})]})}),h&&A&&u.jsx(kte,{isOpen:h,onClose:()=>p(!1),onSuccess:C,ingredient:j,mode:N}),g&&A&&j&&u.jsx(Pte,{isOpen:g,onClose:()=>v(!1),onSuccess:C,ingredient:j}),b&&A&&j&&u.jsx(Mte,{isOpen:b,onClose:()=>w(!1),onSuccess:C,ingredient:j})]})},kte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r,mode:i})=>{const[s,l]=x.useState({nom:(r==null?void 0:r.nom)||"",unite:(r==null?void 0:r.unite)||"g",stock_minimum:(r==null?void 0:r.stock_minimum)||0}),[d,f]=x.useState(!1),h=async p=>{p.preventDefault(),f(!0);try{i==="edit"&&r?await we.updateIngredient(r.id,s):await we.addIngredient(s),n(),t()}catch(g){console.error("Failed to save ingredient",g)}finally{f(!1)}};return u.jsx(kn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Ingrédient":"Modifier l'Ingrédient",children:u.jsxs("form",{onSubmit:h,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",id:"nom",value:s.nom,onChange:p=>l({...s,nom:p.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"unite",className:"block text-sm font-medium text-gray-700",children:"Unité"}),u.jsxs("select",{id:"unite",value:s.unite,onChange:p=>l({...s,unite:p.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"g",children:"Grammes (g)"}),u.jsx("option",{value:"kg",children:"Kilogrammes (kg)"}),u.jsx("option",{value:"ml",children:"Millilitres (ml)"}),u.jsx("option",{value:"L",children:"Litres (L)"}),u.jsx("option",{value:"unite",children:"Unité"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"stock_minimum",className:"block text-sm font-medium text-gray-700",children:"Stock Minimum"}),u.jsx("input",{type:"number",id:"stock_minimum",min:"0",value:s.stock_minimum,onChange:p=>l({...s,stock_minimum:parseFloat(p.target.value)}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:d,className:"w-full ui-btn-primary py-3 disabled:opacity-60",children:d?"Sauvegarde...":"Sauvegarder"})]})]})})},Pte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,s]=x.useState(0),[l,d]=x.useState(0),[f,h]=x.useState(!1),p=async g=>{if(g.preventDefault(),!(i<=0||l<0)){h(!0);try{await we.resupplyIngredient(r.id,i,l),n(),t()}catch(v){console.error("Failed to resupply ingredient",v)}finally{h(!1)}}};return u.jsx(kn,{isOpen:e,onClose:t,title:`Réapprovisionner: ${r.nom}`,children:u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700",children:["Quantité Achetée (",r.unite,")"]}),u.jsx("input",{type:"number",id:"quantity",min:"0.01",step:"0.01",value:i,onChange:g=>s(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"unitPrice",className:"block text-sm font-medium text-gray-700",children:["Prix par unité (",r.unite,")"]}),u.jsx("input",{type:"number",id:"unitPrice",min:"0",step:"0.01",value:l,onChange:g=>d(parseFloat(g.target.value)),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:f,className:"w-full ui-btn-success py-3 disabled:opacity-60",children:f?"Ajout...":"Ajouter au Stock"})]})]})})},Mte=({isOpen:e,onClose:t,onSuccess:n,ingredient:r})=>{const[i,s]=x.useState(!1),[l,d]=x.useState(null),f=async()=>{s(!0),d(null);try{await we.deleteIngredient(r.id),n(),t()}catch(h){console.error("Failed to delete ingredient",h),d("Impossible de supprimer cet ingrédient car il est utilisé dans au moins une recette.")}finally{s(!1)}};return u.jsxs(kn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer l'ingrédient ",u.jsx("strong",{className:"text-gray-900",children:r.nom})," ? Cette action est irréversible."]}),l&&u.jsx("p",{className:"mt-4 text-sm text-red-600",children:l}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:f,disabled:i,className:"w-full ui-btn-danger py-3 disabled:opacity-60",children:i?"Suppression...":"Supprimer"})]})]})},wA=[1,2,3,4,5,6],jA=e=>{switch(e){case"disponible":return{text:"Disponible",color:"bg-green-100 text-green-800",Icon:$f};case"agotado_temporal":return{text:"Rupture (Temp.)",color:"bg-yellow-100 text-yellow-800",Icon:Sl};case"agotado_indefinido":return{text:"Indisponible",color:"bg-red-100 text-red-800",Icon:cU};default:return{text:"Inconnu",color:"bg-gray-100 text-gray-800",Icon:oU}}},Rte=()=>{const{role:e}=ma(),[t,n]=x.useState([]),[r,i]=x.useState([]),[s,l]=x.useState([]),[d,f]=x.useState(!0),[h,p]=x.useState(null),[g,v]=x.useState(""),[b,w]=x.useState("all"),[j,S]=x.useState(!1),[N,O]=x.useState(!1),[A,C]=x.useState(!1),[T,k]=x.useState(null),[M,D]=x.useState("add"),q=(e==null?void 0:e.permissions["/produits"])==="editor",$=x.useCallback(async()=>{try{f(!0);const[K,I,Y]=await Promise.all([we.getProducts(),we.getCategories(),we.getIngredients()]);n(K),i(I),l(Y),p(null)}catch(K){p("Impossible de charger les données des produits."),console.error(K)}finally{f(!1)}},[]);x.useEffect(()=>{$()},[$]);const F=x.useMemo(()=>t.filter(K=>K.nom_produit.toLowerCase().includes(g.toLowerCase())&&(b==="all"||K.categoria_id===b)),[t,g,b]),H=x.useMemo(()=>{const K=new Map;return t.forEach(I=>{I.is_best_seller&&I.best_seller_rank!=null&&K.set(I.best_seller_rank,I)}),K},[t]),re=(K,I="add",Y=null)=>{K==="product"?(D(I),k(Y),S(!0)):K==="category"?O(!0):K==="delete"&&Y&&(k(Y),C(!0))},B=async(K,I)=>{try{await we.updateProduct(K.id,{estado:I}),$()}catch(Y){console.error("Failed to update status",Y);const W=Y instanceof Error?Y.message:"Une erreur inconnue s'est produite.";alert(`Échec de la mise à jour du statut du produit : ${W}`)}};return d?u.jsx("p",{className:"text-gray-800",children:"Chargement des produits..."}):h?u.jsx("p",{className:"text-red-500",children:h}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"mt-6 ui-card p-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:[u.jsxs("div",{className:"relative flex-grow md:max-w-md",children:[u.jsx(sb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:g,onChange:K=>v(K.target.value),className:"ui-input pl-10"})]}),u.jsxs("select",{value:b,onChange:K=>w(K.target.value),className:"ui-select md:w-56",children:[u.jsx("option",{value:"all",children:"Toutes les catégories"}),r.map(K=>u.jsx("option",{value:K.id,children:K.nom},K.id))]})]}),q&&u.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[u.jsx("button",{onClick:()=>O(!0),className:"flex-1 lg:flex-initial ui-btn-secondary",children:u.jsx(m$,{size:20})}),u.jsxs("button",{onClick:()=>re("product","add"),className:"flex-1 lg:flex-initial ui-btn-primary",children:[u.jsx(ib,{size:20}),"Ajouter Produit"]})]})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:F.map(K=>u.jsx(Dte,{product:K,category:r.find(I=>I.id===K.categoria_id),onEdit:()=>re("product","edit",K),onDelete:()=>re("delete","edit",K),onStatusChange:B,canEdit:q},K.id))}),j&&q&&u.jsx(Ite,{isOpen:j,onClose:()=>S(!1),onSuccess:$,product:T,mode:M,categories:r,ingredients:s,occupiedPositions:H}),N&&q&&u.jsx(Lte,{isOpen:N,onClose:()=>O(!1),onSuccess:$,categories:r}),A&&q&&T&&u.jsx(Ute,{isOpen:A,onClose:()=>C(!1),onSuccess:$,product:T})]})},Dte=({product:e,category:t,onEdit:n,onDelete:r,onStatusChange:i,canEdit:s})=>{const{text:l,color:d,Icon:f}=jA(e.estado),[h,p]=x.useState(!1),g=e.prix_vente-(e.cout_revient||0);return e.prix_vente>0&&g/e.prix_vente*100,u.jsxs("div",{className:"ui-card flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-full h-40 object-cover"}),e.is_best_seller&&u.jsxs("span",{className:"absolute top-2 left-2 rounded-full bg-brand-primary/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white shadow-md",children:["Best seller",e.best_seller_rank?` #${e.best_seller_rank}`:""]})]}),u.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.nom)||"Sans catégorie"}),u.jsx("h3",{className:"font-bold text-lg text-gray-900",children:e.nom_produit})]}),u.jsx("p",{className:"text-xl font-extrabold text-brand-primary",children:Ce(e.prix_vente)})]}),u.jsx("p",{className:"text-xs text-gray-600 mt-1 flex-grow",children:e.description}),u.jsxs("div",{className:"flex justify-between items-center mt-4",children:[u.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full flex items-center gap-1 ${d}`,children:[u.jsx(f,{size:14})," ",l]}),s&&u.jsxs("div",{className:"relative",children:[u.jsx("button",{onClick:()=>p(!h),className:"p-1 text-gray-500 hover:text-gray-800",children:u.jsx(EC,{size:20})}),h&&u.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-48 bg-white rounded-md shadow-lg z-10 border",children:[u.jsx("button",{onClick:()=>{n(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Modifier"}),u.jsx("button",{onClick:()=>{r(),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Supprimer"}),u.jsx("div",{className:"border-t my-1"}),u.jsx("p",{className:"px-4 pt-2 pb-1 text-xs text-gray-500",children:"Changer statut :"}),["disponible","agotado_temporal","agotado_indefinido"].map(v=>u.jsx("button",{onClick:()=>{i(e,v),p(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:jA(v).text},v))]})]})]})]})]})},Ite=({isOpen:e,onClose:t,onSuccess:n,product:r,mode:i,categories:s,ingredients:l,occupiedPositions:d})=>{var q;const[f,h]=x.useState({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||(((q=s[0])==null?void 0:q.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),[p,g]=x.useState(null),[v,b]=x.useState(!1);x.useEffect(()=>{var $;e&&(h({nom_produit:(r==null?void 0:r.nom_produit)||"",prix_vente:(r==null?void 0:r.prix_vente)||0,categoria_id:(r==null?void 0:r.categoria_id)||((($=s[0])==null?void 0:$.id)??""),estado:(r==null?void 0:r.estado)||"disponible",image:(r==null?void 0:r.image)??"",description:(r==null?void 0:r.description)||"",recipe:(r==null?void 0:r.recipe)||[],is_best_seller:(r==null?void 0:r.is_best_seller)??!1,best_seller_rank:(r==null?void 0:r.best_seller_rank)??null}),g(null))},[e,r,s]);const w=x.useCallback(()=>{for(const $ of wA){const F=d.get($);if(!F||F.id===(r==null?void 0:r.id))return $}return null},[d,r==null?void 0:r.id]),j=x.useCallback($=>{h(F=>{if($){const H=F.best_seller_rank??w();return{...F,is_best_seller:!0,best_seller_rank:H??null}}return{...F,is_best_seller:!1,best_seller_rank:null}})},[w]),S=x.useCallback($=>{const F=$.target.value;h(H=>({...H,best_seller_rank:F?Number(F):null}))},[]),N=x.useMemo(()=>new Map(l.map($=>[$.id,$])),[l]),O=x.useMemo(()=>f.recipe.reduce(($,F)=>{const H=N.get(F.ingredient_id);if(!H)return $;let re=H.prix_unitaire;return(H.unite==="kg"||H.unite==="L")&&(re=re/1e3),$+re*F.qte_utilisee},0),[f.recipe,N]),A=f.prix_vente-O,C=f.prix_vente>0?A/f.prix_vente*100:0,T=($,F,H)=>{const re=[...f.recipe];if(F==="qte_utilisee"){const{valueAsNumber:B,value:K}=H.currentTarget,I=Number.isNaN(B)?Number(K.replace(",",".")):B;re[$]={...re[$],[F]:Number.isNaN(I)?re[$].qte_utilisee:I}}else re[$]={...re[$],[F]:H.currentTarget.value};h(B=>({...B,recipe:re}))},k=()=>{l.length!==0&&h({...f,recipe:[...f.recipe,{ingredient_id:l[0].id,qte_utilisee:0}]})},M=$=>{const F=f.recipe.filter((H,re)=>re!==$);h({...f,recipe:F})},D=async $=>{var F;if($.preventDefault(),f.recipe.length===0){alert("Veuillez ajouter au moins un ingrédient à la recette.");return}if(f.is_best_seller){if(f.best_seller_rank==null){alert("Veuillez sélectionner une position de best seller disponible.");return}const H=d.get(f.best_seller_rank);if(H&&H.id!==(r==null?void 0:r.id)){alert(`La position ${f.best_seller_rank} est déjà occupée par ${H.nom_produit}.`);return}}b(!0);try{let H=((F=f.image)==null?void 0:F.trim())??"";p&&(H=await O6(p,f.nom_produit));const re={...f,image:H,is_best_seller:f.is_best_seller,best_seller_rank:f.is_best_seller?f.best_seller_rank:null};i==="edit"&&r?await we.updateProduct(r.id,re):await we.addProduct(re),n(),g(null),t()}catch(H){console.error("Failed to save product",H);const re=H instanceof Error?H.message:"Une erreur inconnue s'est produite.";alert(`Échec du téléversement de l'image du produit : ${re}`)}finally{b(!1)}};return u.jsx(kn,{isOpen:e,onClose:t,title:i==="add"?"Ajouter un Produit":"Modifier le Produit",size:"lg",children:u.jsxs("form",{onSubmit:D,className:"space-y-4",children:[u.jsxs("div",{className:"max-h-[65vh] overflow-y-auto pr-2 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom"}),u.jsx("input",{type:"text",value:f.nom_produit,onChange:$=>h({...f,nom_produit:$.target.value}),required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prix de vente"}),u.jsx("input",{type:"number",step:"0.01",min:"0",value:f.prix_vente,onChange:$=>{const{valueAsNumber:F,value:H}=$.currentTarget,re=Number.isNaN(F)?Number(H.replace(",",".")):F;h(B=>({...B,prix_vente:Number.isNaN(re)?B.prix_vente:re}))},required:!0,className:"mt-1 ui-input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Catégorie"}),u.jsx("select",{value:f.categoria_id,onChange:$=>h({...f,categoria_id:$.target.value}),required:!0,className:"mt-1 ui-select",children:s.map($=>u.jsx("option",{value:$.id,children:$.nom},$.id))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),u.jsxs("select",{value:f.estado,onChange:$=>h({...f,estado:$.target.value}),required:!0,className:"mt-1 ui-select",children:[u.jsx("option",{value:"disponible",children:"Disponible"}),u.jsx("option",{value:"agotado_temporal",children:"Rupture (Temp.)"}),u.jsx("option",{value:"agotado_indefinido",children:"Indisponible"})]})]}),u.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-2",children:[u.jsx("input",{id:"best-seller-toggle",type:"checkbox",checked:f.is_best_seller,onChange:$=>j($.target.checked),className:"h-4 w-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),u.jsx("label",{htmlFor:"best-seller-toggle",className:"text-sm font-medium text-gray-700",children:"Best seller"})]}),u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"best-seller-rank",children:"Position dans le classement"}),u.jsxs("select",{id:"best-seller-rank",value:f.best_seller_rank??"",onChange:S,disabled:!f.is_best_seller,className:"mt-1 ui-select",children:[u.jsx("option",{value:"",children:"Sélectionner une position"}),wA.map($=>{const F=d.get($),H=(F==null?void 0:F.id)===(r==null?void 0:r.id),re=!!(F&&!H),B=F?H?`${$} – Position actuelle`:`${$} – Occupé par ${F.nom_produit}`:`${$}`;return u.jsx("option",{value:$,disabled:re,children:B},$)})]}),f.is_best_seller&&f.best_seller_rank===null&&u.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Sélectionnez une position disponible pour ce best seller."})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Coût de revient"}),u.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ce(O)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge"}),u.jsx("p",{className:`text-lg font-semibold ${A>=0?"text-emerald-600":"text-red-600"}`,children:Ce(A)})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Marge %"}),u.jsxs("p",{className:`text-lg font-semibold ${C>=0?"text-emerald-600":"text-red-600"}`,children:[Number.isFinite(C)?Rz(C):"0","%"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),u.jsx("textarea",{rows:3,value:f.description,onChange:$=>h({...f,description:$.target.value}),className:"mt-1 ui-textarea",placeholder:"Courte description du produit..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image du produit"}),u.jsxs("div",{className:"mt-1 flex items-center gap-4",children:[u.jsx("img",{src:p?URL.createObjectURL(p):gC(f.image),alt:"Aperçu",className:"w-20 h-20 object-cover rounded-md bg-gray-100"}),u.jsxs("label",{htmlFor:"product-image-upload",className:"cursor-pointer bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-primary",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bu,{size:16}),u.jsx("span",{children:"Changer l'image"})]}),u.jsx("input",{id:"product-image-upload",type:"file",className:"sr-only",onChange:$=>g($.target.files?$.target.files[0]:null)})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-md font-semibold text-gray-800 border-b pb-2 mb-2",children:"Recette"}),f.recipe.length===0&&u.jsx("div",{className:"text-center p-2 my-2 bg-red-50 border border-red-200 rounded-md",children:u.jsx("p",{className:"text-sm text-red-600",children:"Un produit doit contenir au moins un ingrédient."})}),u.jsx("div",{className:"space-y-2",children:f.recipe.map(($,F)=>{var H,re;return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(jU,{className:"text-gray-400 cursor-move",size:16}),u.jsx("select",{value:$.ingredient_id,onChange:B=>T(F,"ingredient_id",B),className:"ui-select flex-grow",children:l.map(B=>u.jsx("option",{value:B.id,children:B.nom},B.id))}),u.jsx("input",{type:"number",placeholder:"Qté",value:$.qte_utilisee,onChange:B=>T(F,"qte_utilisee",B),className:"ui-input w-24"}),u.jsx("span",{className:"text-gray-500 text-sm w-12",children:((H=l.find(B=>B.id===$.ingredient_id))==null?void 0:H.unite)==="kg"?"g":(re=l.find(B=>B.id===$.ingredient_id))==null?void 0:re.unite}),u.jsx("button",{type:"button",onClick:()=>M(F),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Fs,{size:16})})]},F)})}),u.jsx("button",{type:"button",onClick:k,className:"mt-2 text-sm text-blue-600 hover:underline",children:"Ajouter un ingrédient"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{type:"submit",disabled:v||f.recipe.length===0,className:"w-full sm:w-auto ui-btn-primary py-3 disabled:opacity-60",children:v?"Sauvegarde...":"Sauvegarder"})]})]})})},Lte=({isOpen:e,onClose:t,onSuccess:n,categories:r})=>{const[i,s]=x.useState(""),[l,d]=x.useState(""),f=async()=>{if(i.trim())try{await we.addCategory(i),s(""),n()}catch(p){console.error(p)}},h=async p=>{d("");try{await we.deleteCategory(p),n()}catch(g){d(g.message),console.error(g)}};return u.jsx(kn,{isOpen:e,onClose:t,title:"Gérer les Catégories",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"Nom de la nouvelle catégorie",className:"ui-input flex-grow"}),u.jsx("button",{onClick:f,className:"ui-btn-primary px-4",children:"Ajouter"})]}),l&&u.jsx("p",{className:"text-red-500 text-sm",children:l}),u.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(p=>u.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[u.jsx("span",{className:"text-gray-800",children:p.nom}),u.jsx("button",{onClick:()=>h(p.id),className:"p-1 text-red-500 hover:bg-red-100 rounded-full",children:u.jsx(Fs,{size:16})})]},p.id))}),u.jsx("div",{className:"pt-4 flex",children:u.jsx("button",{type:"button",onClick:t,className:"w-full ui-btn-secondary py-3",children:"Fermer"})})]})})},Ute=({isOpen:e,onClose:t,onSuccess:n,product:r})=>{const[i,s]=x.useState(!1),l=async()=>{s(!0);try{await we.deleteProduct(r.id),n(),t()}catch(d){console.error("Failed to delete product",d)}finally{s(!1)}};return u.jsxs(kn,{isOpen:e,onClose:t,title:"Confirmer la Suppression",children:[u.jsxs("p",{className:"text-gray-700",children:["Êtes-vous sûr de vouloir supprimer le produit ",u.jsx("strong",{className:"text-gray-900",children:r.nom_produit})," ? Cette action est irréversible."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[u.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto ui-btn-secondary py-3",children:"Annuler"}),u.jsx("button",{onClick:l,disabled:i,className:"w-full sm:w-auto ui-btn-danger py-3",children:i?"Suppression...":"Supprimer"})]})]})},Xs=e=>{if(e.error)throw new Error(e.error.message);return e.data},$te=async()=>{const e=await me.from("promotions").select("*").order("priority",{ascending:!1});return Xs(e)},fm=async()=>{const e=new Date().toISOString(),t=await me.from("promotions").select("*").eq("active",!0).lte("start_date",e).or(`end_date.is.null,end_date.gte.${e}`).order("priority",{ascending:!1});return Xs(t).filter(r=>r.usage_limit&&r.usage_count>=r.usage_limit?!1:lb(r))},zte=async e=>{const t=await me.from("promotions").insert({name:e.name,description:e.description,active:e.active,start_date:e.start_date,end_date:e.end_date,conditions:e.conditions,config:e.config,priority:e.priority,stackable:e.stackable,usage_limit:e.usage_limit,usage_count:0}).select().single();return Xs(t)},Bte=async(e,t)=>{const n=await me.from("promotions").update({name:t.name,description:t.description,active:t.active,start_date:t.start_date,end_date:t.end_date,conditions:t.conditions,config:t.config,priority:t.priority,stackable:t.stackable,usage_limit:t.usage_limit}).eq("id",e).select().single();return Xs(n)},qte=async e=>{const t=await me.from("promotions").delete().eq("id",e);Xs(t)},Hte=async(e,t)=>{const n=await me.from("promotions").update({active:t}).eq("id",e).select().single();return Xs(n)},Fte=async e=>(await fm()).find(n=>{var r;return((r=n.config.promo_code)==null?void 0:r.toLowerCase())===e.toLowerCase()})||null,Kte=async e=>{const t=await me.from("promotion_usages").select("*").eq("promotion_id",e).order("applied_at",{ascending:!1});return Xs(t)},SA=(e,t)=>{if(!UC(e)||!lb(e))return!1;const n=e.config;return!(n.min_order_amount&&(!t.total||t.total<n.min_order_amount)||n.min_items_count&&t.items.reduce((i,s)=>i+s.quantite,0)<n.min_items_count||n.product_ids&&n.product_ids.length>0&&!t.items.some(i=>{var s;return(s=n.product_ids)==null?void 0:s.includes(i.produitRef)})||n.category_ids&&n.category_ids.length>0&&!t.items.some(i=>{var s;return(s=n.category_ids)==null?void 0:s.includes(i.categoria_id)}))},NA=(e,t)=>{const n=e.config;if(n.discount_type==="percentage"){let r=0;n.applies_to==="total"?r=t.subtotal||t.total:n.applies_to==="products"&&n.product_ids?r=t.items.filter(s=>{var l;return(l=n.product_ids)==null?void 0:l.includes(s.produitRef)}).reduce((s,l)=>s+l.prix_unitaire*l.quantite,0):n.applies_to==="category"&&n.category_ids?r=t.items.filter(s=>{var l;return(l=n.category_ids)==null?void 0:l.includes(s.categoria_id)}).reduce((s,l)=>s+l.prix_unitaire*l.quantite,0):n.applies_to==="shipping"&&(r=0);let i=r*(n.discount_value/100);return n.max_discount_amount&&i>n.max_discount_amount&&(i=n.max_discount_amount),i}return n.discount_type==="fixed_amount"?n.discount_value:0},Gte=async e=>{const t=await fm(),n=e.total;let r=0;const i=[];if(e.promo_code){const s=await Fte(e.promo_code);if(s&&SA(s,e)){const l=NA(s,e);l>0&&(r+=l,i.push({promotion_id:s.id,name:s.name,discount_amount:l}))}}for(const s of t)if(!s.config.promo_code&&!(!s.stackable&&i.length>0)&&SA(s,e)){const l=NA(s,e);if(l>0&&(r+=l,i.push({promotion_id:s.id,name:s.name,discount_amount:l}),!s.stackable))break}return{...e,subtotal:n,total_discount:r,total:n-r,applied_promotions:i}},Yte=async(e,t)=>Hte(e,t==="active"),Vte=[{value:"percentage",label:"Pourcentage"},{value:"fixed_amount",label:"Montant fixe"},{value:"promo_code",label:"Code promo"},{value:"buy_x_get_y",label:"2x1 / Achetez X, obtenez Y"},{value:"free_product",label:"Produit gratuit"},{value:"free_shipping",label:"Livraison gratuite"},{value:"combo",label:"Combo"},{value:"threshold",label:"Palier"},{value:"happy_hour",label:"Happy hour"}],Wte=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"scheduled",label:"Programmée"},{value:"expired",label:"Expirée"}],EA=({isOpen:e,onClose:t,onSave:n,promotion:r})=>{var H,re;const[i,s]=x.useState(""),[l,d]=x.useState("percentage"),[f,h]=x.useState("active"),[p,g]=x.useState(0),[v,b]=x.useState({}),[w,j]=x.useState({type:"percentage",value:0,applies_to:"total"}),[S,N]=x.useState({}),[O,A]=x.useState(!1),[C,T]=x.useState(null),[k,M]=x.useState("general"),[D,q]=x.useState(!1);x.useEffect(()=>{r&&(s(r.name),d(r.type),h(r.status),g(r.priority),b(r.conditions),j(r.discount),N(r.visuals||{}))},[r]);const $=async B=>{B.preventDefault(),A(!0),T(null);try{r?await Bte(r.id,{name:i,type:l,status:f,priority:p,conditions:v,discount:w,visuals:S}):await zte({name:i,type:l,status:f,priority:p,conditions:v,discount:w,visuals:S}),n()}catch(K){T(K instanceof Error?K.message:"Une erreur est survenue")}finally{A(!1)}},F=async B=>{var I;const K=(I=B.target.files)==null?void 0:I[0];if(K){q(!0);try{const Y=await eu(K);N({...S,banner_image:Ui(Y)})}catch{T("Erreur lors du téléchargement de l'image")}finally{q(!1)}}};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r?"Modifier la promotion":"Nouvelle promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(ca,{size:24})})]}),C&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:C}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${k==="general"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("general"),children:"Général"}),u.jsx("button",{className:`px-4 py-3 font-medium ${k==="conditions"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("conditions"),children:"Conditions"}),u.jsx("button",{className:`px-4 py-3 font-medium ${k==="discount"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("discount"),children:"Réduction"}),u.jsx("button",{className:`px-4 py-3 font-medium ${k==="visuals"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>M("visuals"),children:"Affichage"})]}),u.jsxs("form",{onSubmit:$,className:"overflow-y-auto p-6",children:[k==="general"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de la promotion"}),u.jsx("input",{type:"text",id:"name",value:i,onChange:B=>s(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de promotion"}),u.jsx("select",{id:"type",value:l,onChange:B=>d(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:Vte.map(B=>u.jsx("option",{value:B.value,children:B.label},B.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),u.jsx("select",{id:"status",value:f,onChange:B=>h(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:Wte.map(B=>u.jsx("option",{value:B.value,children:B.label},B.value))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),u.jsx("input",{type:"number",id:"priority",value:p,onChange:B=>g(parseInt(B.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:"100"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Plus la valeur est élevée, plus la promotion est prioritaire."})]})]}),k==="conditions"&&u.jsxs("div",{className:"space-y-6",children:[l==="promo_code"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code promo"}),u.jsx("input",{type:"text",id:"promo_code",value:v.promo_code||"",onChange:B=>b({...v,promo_code:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:l==="promo_code"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant minimum de commande"}),u.jsx("input",{type:"number",id:"min_order_amount",value:v.min_order_amount||"",onChange:B=>b({...v,min_order_amount:parseFloat(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_order_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de commande"}),u.jsx("input",{type:"number",id:"max_order_amount",value:v.max_order_amount||"",onChange:B=>b({...v,max_order_amount:parseFloat(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),u.jsx("input",{type:"datetime-local",id:"start_date",value:v.start_date?new Date(v.start_date).toISOString().slice(0,16):"",onChange:B=>b({...v,start_date:B.target.value?new Date(B.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),u.jsx("input",{type:"datetime-local",id:"end_date",value:v.end_date?new Date(v.end_date).toISOString().slice(0,16):"",onChange:B=>b({...v,end_date:B.target.value?new Date(B.target.value).toISOString():void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jours de la semaine"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"].map((B,K)=>{var I;return u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"checkbox",checked:((I=v.days_of_week)==null?void 0:I.includes(K))||!1,onChange:Y=>{const W=v.days_of_week||[];Y.target.checked?b({...v,days_of_week:[...W,K]}):b({...v,days_of_week:W.filter(ue=>ue!==K)})},className:"form-checkbox h-4 w-4 text-brand-primary"}),u.jsx("span",{className:"ml-2 text-sm",children:B})]},K)})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_start",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de début"}),u.jsx("input",{type:"time",id:"hours_start",value:((H=v.hours_of_day)==null?void 0:H.start)||"",onChange:B=>b({...v,hours_of_day:{...v.hours_of_day||{},start:B.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"hours_end",className:"block text-sm font-medium text-gray-700 mb-1",children:"Heure de fin"}),u.jsx("input",{type:"time",id:"hours_end",value:((re=v.hours_of_day)==null?void 0:re.end)||"",onChange:B=>b({...v,hours_of_day:{...v.hours_of_day||{},end:B.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre maximum d'utilisations"}),u.jsx("input",{type:"number",id:"max_uses",value:v.max_uses_total||"",onChange:B=>b({...v,max_uses_total:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_uses_per_customer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum par client"}),u.jsx("input",{type:"number",id:"max_uses_per_customer",value:v.max_uses_per_customer||"",onChange:B=>b({...v,max_uses_per_customer:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0"})]})]}),l==="buy_x_get_y"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"buy_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité à acheter"}),u.jsx("input",{type:"number",id:"buy_quantity",value:v.buy_quantity||"",onChange:B=>b({...v,buy_quantity:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"get_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité offerte"}),u.jsx("input",{type:"number",id:"get_quantity",value:v.get_quantity||"",onChange:B=>b({...v,get_quantity:parseInt(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"1",required:l==="buy_x_get_y"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"first_order_only",checked:v.first_order_only||!1,onChange:B=>b({...v,first_order_only:B.target.checked}),className:"h-4 w-4 text-brand-primary"}),u.jsx("label",{htmlFor:"first_order_only",className:"ml-2 text-sm text-gray-700",children:"Uniquement pour la première commande"})]})]}),k==="discount"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de réduction"}),u.jsxs("select",{id:"discount_type",value:w.type,onChange:B=>j({...w,type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"discount_value",className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur de la réduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"discount_value",value:w.value,onChange:B=>j({...w,value:parseFloat(B.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:(w.type==="percentage","0.01"),required:!0}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:w.type==="percentage"?"%":"€"})]})]})]}),w.type==="percentage"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_discount_amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant maximum de la réduction"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",id:"max_discount_amount",value:w.max_discount_amount||"",onChange:B=>j({...w,max_discount_amount:parseFloat(B.target.value)||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",step:"0.01"}),u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:"€"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"applies_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Application de la réduction"}),u.jsxs("select",{id:"applies_to",value:w.applies_to,onChange:B=>j({...w,applies_to:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[u.jsx("option",{value:"total",children:"Total de la commande"}),u.jsx("option",{value:"products",children:"Produits spécifiques"}),u.jsx("option",{value:"shipping",children:"Frais de livraison"})]})]})]}),k==="visuals"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du badge"}),u.jsx("input",{type:"text",id:"badge_text",value:S.badge_text||"",onChange:B=>N({...S,badge_text:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: 2x1, -20%, etc."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur du texte du badge"}),u.jsx("input",{type:"color",id:"badge_color",value:S.badge_color||"#FFFFFF",onChange:B=>N({...S,badge_color:B.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_color",className:"block text-sm font-medium text-gray-700 mb-1",children:"Couleur de fond du badge"}),u.jsx("input",{type:"color",id:"badge_bg_color",value:S.badge_bg_color||"#F9A826",onChange:B=>N({...S,badge_bg_color:B.target.value}),className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"badge_bg_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de fond du badge (optionnel)"}),u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Si vous uploadez une image, elle remplacera la couleur de fond du badge"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"badge_bg_image",onChange:async B=>{var I;const K=(I=B.target.files)==null?void 0:I[0];if(K){q(!0);try{const Y=await eu(K,{tags:["badge-background"]});N({...S,badge_bg_image:Ui(Y)})}catch{T("Erreur lors du téléchargement de l'image du badge")}finally{q(!1)}}},className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Téléchargement...":"Choisir une image"})]}),S.badge_bg_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:S.badge_bg_image,alt:"Aperçu de l'image de fond du badge",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>N({...S,badge_bg_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(ca,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_text",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte de la bannière"}),u.jsx("input",{type:"text",id:"banner_text",value:S.banner_text||"",onChange:B=>N({...S,banner_text:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: Offre spéciale : 20% de réduction sur tous les tacos !"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image de la bannière"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("label",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md cursor-pointer bg-white hover:bg-gray-50",children:[u.jsx("input",{type:"file",id:"banner_image",onChange:F,className:"sr-only",accept:"image/*"}),u.jsx("span",{children:D?"Téléchargement...":"Choisir une image"})]}),S.banner_image&&u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:S.banner_image,alt:"Aperçu de la bannière",className:"h-16 w-auto object-cover rounded"}),u.jsx("button",{type:"button",onClick:()=>N({...S,banner_image:void 0}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:u.jsx(ca,{size:12})})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"banner_cta",className:"block text-sm font-medium text-gray-700 mb-1",children:"Texte du bouton d'appel à l'action"}),u.jsx("input",{type:"text",id:"banner_cta",value:S.banner_cta||"",onChange:B=>N({...S,banner_cta:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ex: En profiter maintenant"})]})]})]}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:O,children:"Annuler"}),u.jsx("button",{type:"submit",onClick:$,className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary-dark flex items-center gap-2",disabled:O,children:O?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),u.jsx("span",{children:"Enregistrement..."})]}):u.jsx("span",{children:"Enregistrer"})})]})]})}):null},Xte={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},Qte={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},Jte={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},Zte=({isOpen:e,onClose:t,promotion:n})=>{const[r,i]=x.useState([]),[s,l]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState("details");x.useEffect(()=>{e&&n&&g()},[e,n]);const g=async()=>{l(!0),f(null);try{const b=await Kte(n.id);i(b)}catch(b){f("Erreur lors du chargement des utilisations"),console.error(b)}finally{l(!1)}},v=b=>{const w=new Date(b);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(w)};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Détails de la promotion"}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(ca,{size:24})})]}),u.jsxs("div",{className:"flex border-b",children:[u.jsx("button",{className:`px-4 py-3 font-medium ${h==="details"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("details"),children:"Détails"}),u.jsxs("button",{className:`px-4 py-3 font-medium ${h==="usages"?"border-b-2 border-brand-primary text-brand-primary":"text-gray-600"}`,onClick:()=>p("usages"),children:["Utilisations (",n.usage_count,")"]})]}),u.jsxs("div",{className:"overflow-y-auto p-6",children:[h==="details"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:n.name}),u.jsxs("div",{className:"flex items-center mt-1",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Jte[n.status]}`,children:Qte[n.status]}),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:Xte[n.type]})]})]}),u.jsx("div",{className:"mt-2 md:mt-0",children:u.jsxs("span",{className:"text-sm text-gray-500",children:["Priorité: ",n.priority]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(CU,{size:16,className:"mr-1"}),"Informations générales"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"ID:"}),u.jsx("span",{className:"text-sm font-mono",children:n.id})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Créée le:"}),u.jsx("span",{className:"text-sm",children:v(n.created_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Mise à jour:"}),u.jsx("span",{className:"text-sm",children:v(n.updated_at)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations:"}),u.jsx("span",{className:"text-sm",children:n.usage_count})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(Ph,{size:16,className:"mr-1"}),"Réduction"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),u.jsx("span",{className:"text-sm",children:n.discount.type==="percentage"?"Pourcentage":"Montant fixe"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Valeur:"}),u.jsxs("span",{className:"text-sm font-medium",children:[n.discount.value,n.discount.type==="percentage"?"%":"€"]})]}),n.discount.max_discount_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.max_discount_amount,"€"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Application:"}),u.jsxs("span",{className:"text-sm",children:[n.discount.applies_to==="total"&&"Total de la commande",n.discount.applies_to==="products"&&"Produits spécifiques",n.discount.applies_to==="shipping"&&"Frais de livraison"]})]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(q6,{size:16,className:"mr-1"}),"Conditions"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.conditions.promo_code&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Code promo:"}),u.jsx("span",{className:"text-sm font-mono bg-gray-100 px-2 py-0.5 rounded",children:n.conditions.promo_code})]}),n.conditions.min_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant minimum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.min_order_amount,"€"]})]}),n.conditions.max_order_amount&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Montant maximum:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.max_order_amount,"€"]})]}),n.conditions.start_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de début:"}),u.jsx("span",{className:"text-sm",children:v(n.conditions.start_date)})]}),n.conditions.end_date&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Date de fin:"}),u.jsx("span",{className:"text-sm",children:v(n.conditions.end_date)})]}),n.conditions.days_of_week&&n.conditions.days_of_week.length>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Jours:"}),u.jsx("span",{className:"text-sm",children:n.conditions.days_of_week.map(b=>["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"][b]).join(", ")})]}),n.conditions.hours_of_day&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Heures:"}),u.jsxs("span",{className:"text-sm",children:[n.conditions.hours_of_day.start," - ",n.conditions.hours_of_day.end]})]}),n.conditions.max_uses_total&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Utilisations max:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_total})]}),n.conditions.max_uses_per_customer&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Max par client:"}),u.jsx("span",{className:"text-sm",children:n.conditions.max_uses_per_customer})]}),n.conditions.first_order_only&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Première commande:"}),u.jsx("span",{className:"text-sm",children:"Oui"})]}),n.type==="buy_x_get_y"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Achetez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.buy_quantity})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Obtenez:"}),u.jsx("span",{className:"text-sm",children:n.conditions.get_quantity})]})]})]})]}),n.visuals&&Object.keys(n.visuals).length>0&&u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[u.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[u.jsx(zf,{size:16,className:"mr-1"}),"Éléments visuels"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.visuals.badge_text&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Badge:"}),u.jsx("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:n.visuals.badge_color||"#F9A826",color:"#ffffff"},children:n.visuals.badge_text})]}),n.visuals.banner_text&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Texte bannière:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_text})]}),n.visuals.banner_cta&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Bouton:"}),u.jsx("span",{className:"text-sm",children:n.visuals.banner_cta})]})]}),n.visuals.banner_image&&u.jsxs("div",{className:"mt-4",children:[u.jsx("span",{className:"text-sm text-gray-600 block mb-2",children:"Image de bannière:"}),u.jsx("img",{src:n.visuals.banner_image,alt:"Bannière promotionnelle",className:"w-full h-auto max-h-40 object-cover rounded-lg"})]})]})]}),h==="usages"&&u.jsxs("div",{children:[d&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d}),s?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]}):r.length===0?u.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune utilisation enregistrée pour cette promotion"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Commande"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Client"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Montant"})]})}),u.jsx("tbody",{children:r.map(b=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:v(b.applied_at)}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("a",{href:"#",className:"text-brand-primary hover:underline flex items-center",onClick:w=>{w.preventDefault()},children:[b.order_id.substring(0,8),"...",u.jsx(gU,{size:14,className:"ml-1"})]})}),u.jsx("td",{className:"px-4 py-3",children:b.customer_phone||"-"}),u.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:[b.discount_amount.toFixed(2),"€"]})]},b.id))})]})})]})]}),u.jsx("div",{className:"flex justify-end p-6 border-t",children:u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fermer"})})]})}):null},ene=({isOpen:e,onClose:t,onConfirm:n,title:r,message:i,confirmLabel:s="Confirmer",cancelLabel:l="Annuler",confirmButtonClass:d="bg-brand-primary hover:bg-brand-primary-dark"})=>e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold",children:r}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx(ca,{size:24})})]}),u.jsx("div",{className:"p-6",children:u.jsx("p",{className:"text-gray-700",children:i})}),u.jsxs("div",{className:"flex justify-end items-center gap-3 p-6 border-t",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:l}),u.jsx("button",{type:"button",onClick:n,className:`px-4 py-2 text-white rounded-md ${d}`,children:s})]})]})}):null,tne={active:"Active",inactive:"Inactive",scheduled:"Programmée",expired:"Expirée"},nne={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",scheduled:"bg-blue-100 text-blue-800",expired:"bg-red-100 text-red-800"},rne={percentage:"Pourcentage",fixed_amount:"Montant fixe",promo_code:"Code promo",buy_x_get_y:"2x1 / Achetez X, obtenez Y",free_product:"Produit gratuit",free_shipping:"Livraison gratuite",combo:"Combo",threshold:"Palier",happy_hour:"Happy hour"},ane={percentage:u.jsx(Ph,{size:16}),fixed_amount:u.jsx(zf,{size:16}),promo_code:u.jsx(zf,{size:16}),buy_x_get_y:u.jsx(Zo,{size:16}),free_product:u.jsx(Zo,{size:16}),free_shipping:u.jsx(Zo,{size:16}),combo:u.jsx(Zo,{size:16}),threshold:u.jsx(NC,{size:16}),happy_hour:u.jsx(Sl,{size:16})},ine=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,s]=x.useState(null),[l,d]=x.useState(!1),[f,h]=x.useState(!1),[p,g]=x.useState(!1),[v,b]=x.useState(!1),[w,j]=x.useState(null),[S,N]=x.useState(""),[O,A]=x.useState("all"),[C,T]=x.useState("all"),[k,M]=x.useState("priority"),[D,q]=x.useState("desc"),$=async()=>{r(!0),s(null);try{const R=await $te();t(R)}catch(R){s("Erreur lors du chargement des promotions"),console.error(R)}finally{r(!1)}};x.useEffect(()=>{$()},[]);const F=()=>{j(null),d(!0)},H=R=>{j(R),h(!0)},re=R=>{j(R),g(!0)},B=R=>{j(R),b(!0)},K=async R=>{try{const L=R.active?"inactive":"active",X=await Yte(R.id,L);t(e.map(ie=>ie.id===R.id?X:ie))}catch(L){s("Erreur lors de la mise à jour du statut"),console.error(L)}},I=async()=>{if(w)try{await qte(w.id),t(e.filter(R=>R.id!==w.id)),b(!1)}catch(R){s("Erreur lors de la suppression de la promotion"),console.error(R)}},Y=R=>{k===R?q(D==="asc"?"desc":"asc"):(M(R),q("desc"))},W=e.filter(R=>{const L=R.name.toLowerCase().includes(S.toLowerCase()),X=O==="all"||R.status===O,ie=C==="all"||R.type===C;return L&&X&&ie}).sort((R,L)=>{let X=0;switch(k){case"name":X=R.name.localeCompare(L.name);break;case"priority":X=R.priority-L.priority;break;case"created_at":X=new Date(R.created_at).getTime()-new Date(L.created_at).getTime();break;case"usage_count":X=R.usage_count-L.usage_count;break}return D==="asc"?X:-X}),ue=R=>k!==R?null:D==="asc"?u.jsx(NC,{size:16}):u.jsx(SC,{size:16}),ne=R=>{const L=new Date(R);return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(L)};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des promotions"}),u.jsxs("button",{onClick:F,className:"bg-brand-primary hover:bg-brand-primary-dark text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(yu,{size:20}),"Nouvelle promotion"]})]}),i&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Rechercher une promotion...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg",value:S,onChange:R=>N(R.target.value)}),u.jsx(sb,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:O,onChange:R=>A(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les statuts"}),u.jsx("option",{value:"active",children:"Actives"}),u.jsx("option",{value:"inactive",children:"Inactives"}),u.jsx("option",{value:"scheduled",children:"Programmées"}),u.jsx("option",{value:"expired",children:"Expirées"})]}),u.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:C,onChange:R=>T(R.target.value),children:[u.jsx("option",{value:"all",children:"Tous les types"}),u.jsx("option",{value:"percentage",children:"Pourcentage"}),u.jsx("option",{value:"fixed_amount",children:"Montant fixe"}),u.jsx("option",{value:"promo_code",children:"Code promo"}),u.jsx("option",{value:"buy_x_get_y",children:"2x1 / Achetez X, obtenez Y"}),u.jsx("option",{value:"free_product",children:"Produit gratuit"}),u.jsx("option",{value:"free_shipping",children:"Livraison gratuite"}),u.jsx("option",{value:"combo",children:"Combo"}),u.jsx("option",{value:"threshold",children:"Palier"}),u.jsx("option",{value:"happy_hour",children:"Happy hour"})]}),u.jsxs("button",{onClick:$,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-2",children:[u.jsx(o$,{size:18}),u.jsx("span",{className:"hidden md:inline",children:"Actualiser"})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 border-b",children:[u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("name"),children:["Nom ",ue("name")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Type"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Statut"}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("priority"),children:["Priorité ",ue("priority")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("created_at"),children:["Créée le ",ue("created_at")]})}),u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsxs("button",{className:"flex items-center gap-1 font-semibold text-gray-700",onClick:()=>Y("usage_count"),children:["Utilisations ",ue("usage_count")]})}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),u.jsx("tbody",{children:n?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center",children:u.jsxs("div",{className:"flex justify-center items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-primary"}),u.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):W.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Aucune promotion trouvée"})}):W.map(R=>u.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[u.jsxs("td",{className:"px-4 py-4",children:[u.jsx("div",{className:"font-medium",children:R.name}),R.type==="promo_code"&&R.conditions.promo_code&&u.jsxs("div",{className:"text-sm text-gray-500",children:["Code: ",u.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:R.conditions.promo_code})]})]}),u.jsx("td",{className:"px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[ane[R.type],u.jsx("span",{children:rne[R.type]})]})}),u.jsx("td",{className:"px-4 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${nne[R.status]}`,children:tne[R.status]})}),u.jsx("td",{className:"px-4 py-4",children:R.priority}),u.jsx("td",{className:"px-4 py-4",children:ne(R.created_at)}),u.jsx("td",{className:"px-4 py-4",children:R.usage_count}),u.jsx("td",{className:"px-4 py-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>K(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:R.status==="active"?"Désactiver":"Activer",children:R.status==="active"?u.jsx(yU,{size:18}):u.jsx(By,{size:18})}),u.jsx("button",{onClick:()=>re(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Voir les détails",children:u.jsx(By,{size:18})}),u.jsx("button",{onClick:()=>H(R),className:"p-1.5 rounded-md hover:bg-gray-100",title:"Modifier",children:u.jsx(IC,{size:18})}),u.jsx("button",{onClick:()=>B(R),className:"p-1.5 rounded-md hover:bg-gray-100 text-red-500",title:"Supprimer",children:u.jsx(Fs,{size:18})})]})})]},R.id))})]})})]}),l&&u.jsx(EA,{isOpen:l,onClose:()=>d(!1),onSave:()=>{d(!1),$()}}),f&&w&&u.jsx(EA,{isOpen:f,onClose:()=>h(!1),onSave:()=>{h(!1),$()},promotion:w}),p&&w&&u.jsx(Zte,{isOpen:p,onClose:()=>g(!1),promotion:w}),v&&w&&u.jsx(ene,{isOpen:v,onClose:()=>b(!1),onConfirm:I,title:"Supprimer la promotion",message:`Êtes-vous sûr de vouloir supprimer la promotion "${w.name}" ? Cette action est irréversible.`,confirmLabel:"Supprimer",cancelLabel:"Annuler",confirmButtonClass:"bg-red-600 hover:bg-red-700"})]})},sne=({promotion:e,className:t=""})=>{const n=e.config,r=n.visuals||{};let i=r.badge_text||"",s=r.description||e.description||"";i||(n.discount_type==="percentage"?(i=`-${n.discount_value}%`,s=s||`${n.discount_value}% de descuento`):n.discount_type==="fixed_amount"?(i=`-$${n.discount_value.toLocaleString()}`,s=s||`$${n.discount_value.toLocaleString()} de descuento`):n.buy_quantity&&n.get_quantity?(i=`${n.buy_quantity}x${n.get_quantity}`,s=s||`Compra ${n.buy_quantity}, lleva ${n.get_quantity}`):n.applies_to==="shipping"?(i="ENVÍO GRATIS",s=s||"Envío gratis en este producto"):(i="PROMO",s=s||e.name));const l=r.badge_color||"#FFFFFF",d=r.badge_bg_color||"#E63946",f=r.badge_position||"top-right",h={"top-left":"top-2 left-2","top-right":"top-2 right-2","bottom-left":"bottom-2 left-2","bottom-right":"bottom-2 right-2"},p=r.badge_bg_image;return u.jsxs("div",{className:`absolute ${h[f]} z-10 px-3 py-1 rounded-full font-bold text-sm shadow-lg transform rotate-3 ${t}`,style:{backgroundColor:p?"transparent":d,backgroundImage:p?`url(${p})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:l,animation:"pulse 2s infinite",textShadow:p?"0 1px 3px rgba(0,0,0,0.8)":"none"},title:s,children:[i,u.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0% {
            transform: rotate(3deg) scale(1);
          }
          50% {
            transform: rotate(3deg) scale(1.05);
          }
          100% {
            transform: rotate(3deg) scale(1);
          }
        }
      `})]})},one=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[s,l]=x.useState(null);x.useEffect(()=>{if(!e){n([]),i(!1);return}(async()=>{try{i(!0);const g=(await fm().catch(v=>(console.error("[useProductPromotions] Error fetching active promotions from API:",v),[]))).filter(v=>{if(!UC(v)||!lb(v))return!1;const b=v.config,w=v.conditions||[];return!b.product_ids&&!b.category_ids&&w.length===0?!1:b.product_ids&&b.product_ids.length>0&&b.product_ids.includes(e.id)||b.category_ids&&b.category_ids.length>0&&b.category_ids.includes(e.categoria_id)?!0:w.some(S=>S.type==="specific_product"&&Array.isArray(S.value)?S.value.includes(e.id):S.type==="specific_category"&&Array.isArray(S.value)?S.value.includes(e.categoria_id):!1)}).sort((v,b)=>(b.priority||0)-(v.priority||0));n(g)}catch(h){console.error("[useProductPromotions] Error during promotion processing:",h),l(h instanceof Error?h:new Error("Une erreur est survenue")),n([])}finally{i(!1)}})()},[e]);const d=t.length>0?t[0]:null;return{promotions:t,bestPromotion:d,loading:r,error:s}},lne=({product:e,onClick:t})=>{const{promotions:n,loading:r}=one(e);return u.jsxs("div",{onClick:()=>e.estado==="disponible"&&t(),className:`relative border rounded-2xl p-6 flex flex-col items-center text-center transition-shadow bg-white/90 shadow-md ${e.estado==="disponible"?"cursor-pointer hover:shadow-xl":"opacity-50"}`,children:[!r&&n.length>0&&e.estado==="disponible"&&u.jsx("div",{className:"absolute top-2 right-2 flex flex-col space-y-1 z-10",children:n.map((i,s)=>u.jsx(sne,{promotion:i},i.id||s))}),u.jsx("img",{src:e.image,alt:e.nom_produit,className:"w-36 h-36 md:w-40 md:h-40 object-cover rounded-xl mb-4"}),u.jsx("p",{className:"font-semibold text-lg flex-grow text-gray-800",children:e.nom_produit}),u.jsx("p",{className:"text-base text-gray-600 mt-2 px-1 max-h-20 overflow-hidden",children:e.description}),u.jsx("p",{className:"font-bold text-2xl text-gray-800 mt-3",children:Ce(e.prix_vente)}),e.estado!=="disponible"&&u.jsx("span",{className:"text-xs text-red-500 font-bold mt-1",children:"Agotado"})]})},cne=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const f=await fm();t(f)}catch(f){console.error("Error loading promotions:",f)}finally{r(!1)}})()},[]);const i=e.filter(d=>{const f=d.config,h=d.conditions;return!(f.promo_code||h&&h.some(p=>p.type==="promo_code")||d.description&&/code|código|promo code/i.test(d.description))});if(n||i.length===0)return null;const s=d=>{const f=d.config;return f.applies_to==="shipping"?u.jsx(O$,{size:20}):f.discount_type==="percentage"?u.jsx(Ph,{size:20}):f.hours_of_day?u.jsx(Sl,{size:20}):f.buy_quantity?u.jsx(s2,{size:20}):u.jsx(zf,{size:20})},l=d=>{const f=d.config,h=d.conditions;let p=d.description||d.name;const g=h.find(v=>v.type==="min_order_amount");return g&&(p+=` (Mínimo: $${g.value.toLocaleString()})`),f.hours_of_day&&(p+=` (${f.hours_of_day.start} - ${f.hours_of_day.end})`),f.promo_code&&(p+=` (Código: ${f.promo_code})`),p};return u.jsxs("div",{className:"mb-6 space-y-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[u.jsx(s2,{className:"mr-2",size:24}),"Promociones Activas"]}),u.jsx("div",{className:"space-y-2",children:i.map(d=>{var p,g;const f=d.config,h=((p=f.visuals)==null?void 0:p.badge_bg_color)||"#4CAF50";return u.jsxs("div",{className:"flex items-start p-4 rounded-lg shadow-md border-l-4 transition-transform hover:scale-[1.02]",style:{borderLeftColor:h,background:`linear-gradient(to right, ${h}15, white)`},children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full mr-3 flex-shrink-0",style:{backgroundColor:h,color:((g=f.visuals)==null?void 0:g.badge_color)||"#FFFFFF"},children:s(d)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-800",children:d.name}),u.jsx("p",{className:"text-sm text-gray-600",children:l(d)})]})]},d.id)})})]})},une=({isOpen:e,order:t,whatsappNumber:n="573238090562"})=>{const r=ha();if(!e||!t)return null;const i=()=>{var v,b,w;const l=t.items.filter(j=>{var S;return!((S=j.nom_produit)!=null&&S.toLowerCase().includes("domicilio"))}).map(j=>`- ${j.quantite}x ${j.nom_produit} (${Ce(j.prix_unitaire)})`).join(`
`),d=`Total: ${Ce(t.total)}`,f=`Cliente: ${(v=t.clientInfo)==null?void 0:v.nom} (${(b=t.clientInfo)==null?void 0:b.telephone})
Dirección: ${(w=t.clientInfo)==null?void 0:w.adresse}`,h=`Método de pago: ${t.payment_method==="transferencia"?"Transferencia":"Efectivo"}`,p=t.receipt_url?`Comprobante: ${t.receipt_url}`:"",g=`Pedido #${t.id.slice(-6)}`;return encodeURIComponent(`¡Hola! Aquí está mi pedido:

${g}

${l}

${d}

${f}
${h}
${p}`)},s=()=>{const l=i(),d=`https://wa.me/${n}?text=${l}`;window.open(d,"_blank"),r(`/suivi-commande/${t.id}`)};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 text-white",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx($f,{size:64,className:"mb-3"}),u.jsx("h2",{className:"text-2xl font-bold text-center",children:"¡Pedido Confirmado!"}),u.jsxs("p",{className:"text-green-100 mt-2",children:["Pedido #",t.id.slice(-6)]})]})}),u.jsxs("div",{className:"p-6 text-center",children:[u.jsxs("p",{className:"text-gray-700 mb-6",children:["Total: ",u.jsx("span",{className:"font-bold text-2xl text-green-600",children:Ce(t.total)})]}),u.jsxs("button",{onClick:s,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg flex items-center justify-center gap-3 transition-all transform hover:scale-105 shadow-lg",children:[u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Enviar por WhatsApp"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Haz clic para enviar tu pedido por WhatsApp y ver el seguimiento"})]})]})})},Bc=8e3,h_="Domicilio",OA=e=>e.nom_produit===h_,dne=(e=!1)=>({id:`delivery-${Date.now()}`,produitRef:"delivery-fee",nom_produit:h_,prix_unitaire:e?0:Bc,quantite:1,excluded_ingredients:[],commentaire:"",estado:"en_attente"}),fne=({isOpen:e,onClose:t,selectedProduct:n,onAddToCart:r})=>{var b;const[i,s]=x.useState(1),[l,d]=x.useState(""),[f,h]=x.useState([]);if(x.useEffect(()=>{e&&(s((n==null?void 0:n.quantite)||1),d((n==null?void 0:n.commentaire)||""),h((n==null?void 0:n.excluded_ingredients)||[]))},[e,n]),!e||!n)return null;const p=()=>{const w=n.product;r({id:`oi${Date.now()}`,produitRef:w.id,nom_produit:w.nom_produit,prix_unitaire:w.prix_vente,quantite:i,commentaire:l.trim()||void 0,excluded_ingredients:f.length>0?f:void 0})},g=w=>{f.includes(w)?h(f.filter(j=>j!==w)):h([...f,w])},v=((b=n.product.ingredients)==null?void 0:b.split(",").map(w=>w.trim()).filter(Boolean))||[];return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:n.product.nom_produit}),u.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("img",{src:n.product.image,alt:n.product.nom_produit,className:"w-full h-48 object-cover rounded-lg mb-4"}),u.jsx("p",{className:"text-gray-600 mb-4",children:n.product.description}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"font-bold text-gray-800 mb-2",children:["Precio: ",Ce(n.product.prix_vente)]}),u.jsxs("div",{className:"flex items-center mt-2",children:[u.jsx("button",{onClick:()=>s(Math.max(1,i-1)),className:"bg-gray-200 text-gray-700 rounded-l-lg px-3 py-1",children:"-"}),u.jsx("span",{className:"bg-gray-100 px-4 py-1",children:i}),u.jsx("button",{onClick:()=>s(i+1),className:"bg-gray-200 text-gray-700 rounded-r-lg px-3 py-1",children:"+"})]})]}),v.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"Ingredientes:"}),u.jsx("div",{className:"space-y-2",children:v.map((w,j)=>u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:`ingredient-${j}`,checked:!f.includes(w),onChange:()=>g(w),className:"mr-2"}),u.jsx("label",{htmlFor:`ingredient-${j}`,className:"text-gray-700",children:w})]},j))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"comment",className:"block font-bold text-gray-800 mb-2",children:"Comentarios adicionales:"}),u.jsx("textarea",{id:"comment",value:l,onChange:w=>d(w.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-gray-700",rows:3,placeholder:"Instrucciones especiales, alergias, etc."})]}),u.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-3 px-4 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg transform hover:scale-105",children:["Agregar al carrito - ",Ce(n.product.prix_vente*i)]})]})})})},hne=({onOrderSubmitted:e})=>{const{content:t}=_u(),[n,r]=x.useState([]),[i,s]=x.useState([]),[l,d]=x.useState(!0),[f,h]=x.useState(null),[p,g]=x.useState("all"),[v,b]=x.useState([]),[w,j]=x.useState(!1),[S,N]=x.useState(null),[O,A]=x.useState({nom:"",adresse:"",telephone:""}),[C,T]=x.useState("transferencia"),[k,M]=x.useState(null),[D,q]=x.useState(!1),[$,F]=x.useState(!1),[H,re]=x.useState(null),[B,K]=x.useState([]),[I,Y]=x.useState(""),[W,ue]=x.useState(""),[ne,R]=x.useState(""),[L,X]=x.useState(0),[ie,se]=x.useState(!1),[ye,je]=x.useState(8e4),[fe,V]=x.useState("pedir_en_linea");x.useEffect(()=>{(async()=>{try{const[We,Ke]=await Promise.all([we.getProducts(),we.getCategories()]);r(We),s(Ke);const dt=sl();if(dt)try{const St=await we.getOrderById(dt);St&&K([St])}catch(St){console.error("Error fetching active order:",St)}}catch(We){console.error("Error fetching data:",We),h("Error al cargar los datos. Por favor, intenta de nuevo más tarde.")}finally{d(!1)}})()},[]);const pe=x.useMemo(()=>p==="all"?n:n.filter(ge=>ge.categoria_id===p),[n,p]),be=x.useMemo(()=>{const ge=v.reduce((St,Qe)=>St+Qe.quantite*Qe.prix_unitaire,0);if(v.length===0)return se(!1),ge;const We=ge>=ye;se(We);const dt=ge+(We?0:Bc);return Math.max(0,dt-L)},[v,L,ye]),le=ge=>{N({product:ge}),j(!0)},Ve=ge=>{let We=[...v];if(ge.commentaire)We.push({...ge,id:`oi${Date.now()}`});else{const Ke=We.findIndex(dt=>dt.produitRef===ge.produitRef&&!dt.commentaire);Ke>-1?We[Ke].quantite+=ge.quantite:We.push(ge)}b(We),j(!1)},Me=(ge,We)=>{const Ke=v.findIndex(Qe=>Qe.id===ge);if(Ke===-1)return;let dt=[...v];const St=dt[Ke].quantite+We;St<=0?dt.splice(Ke,1):dt[Ke].quantite=St,b(dt)},Tt=async()=>{R("");try{const ge={id:"temp-order",items:v.filter(Ke=>!OA(Ke)),clientInfo:O,total:v.reduce((Ke,dt)=>Ke+dt.quantite*dt.prix_unitaire,0),promo_code:I,applied_promotions:[],subtotal:0,total_discount:0},We=await Gte(ge);We.total_discount>0?(ue(I),X(We.total_discount),R("")):R("Código de promoción inválido o no aplicable.")}catch(ge){console.error("Error applying promo code:",ge),R("Error al aplicar el código de promoción")}},kt=()=>{Y(""),ue(""),X(0),R("")},Ft=async ge=>{ge.preventDefault();const We=fe==="pedir_en_linea";if(!(!O.nom||!O.telephone||We&&!O.adresse||!k||!C)){q(!0);try{let Ke;k&&(Ke=await vC(k,{customerReference:O.telephone||O.nom}));const dt=fe==="pedir_en_linea"&&v.length>0?[...v,dne(ie)]:v,St=v.reduce((he,Ee)=>he+Ee.prix_unitaire*Ee.quantite,0),Xn=St+(fe==="pedir_en_linea"&&!ie?Bc:0),Qr=Math.max(0,Xn-L),Jr={type:fe,items:dt,clientInfo:O,receipt_url:Ke,payment_method:C,promo_code:W||void 0,subtotal:St,total_discount:L,applied_promotions:W?[{code:W,discount:L}]:void 0},de=await we.submitCustomerOrder(Jr);re(de),F(!0),b([]),A({nom:"",adresse:"",telephone:""}),M(null),T("transferencia"),GA(de.id),e&&e(de)}catch(Ke){alert("Ocurrió un error al enviar el pedido o subir el comprobante."),console.error(Ke)}finally{q(!1)}}},Wn=ge=>{const We=Date.now(),Ke=[],dt=ge.items.reduce((St,Qe,Xn)=>{if(OA(Qe))return St;const Qr=n.find(de=>de.id===Qe.produitRef);if(!Qr)return Ke.push(Qe.nom_produit||Qe.produitRef),St;const Jr={...Qe,id:`oi-${We}-${Xn}`,prix_unitaire:Qr.prix_vente};return[...St,Jr]},[]);Ke.length>0&&alert(`Algunos productos no están disponibles: ${Ke.join(", ")}. Se han omitido del pedido.`),b(dt),K([])};return u.jsxs("div",{className:"flex flex-col lg:flex-row",children:[u.jsxs("div",{className:"flex-1 p-4 lg:p-8",children:[B.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg max-w-md",children:[u.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Pedido anterior:"}),B.map(ge=>{const We=ge.created_at?new Date(ge.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"Fecha no disponible";return u.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded shadow-sm",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-xs text-gray-500",children:We}),u.jsx("p",{className:"text-sm font-bold text-blue-600",children:Ce(ge.total)})]}),u.jsxs("button",{onClick:()=>Wn(ge),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors",children:[u.jsx(OU,{size:14,className:"mr-1"}),"Reordenar"]})]},ge.id)})]}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Realizar Pedido"}),u.jsx(cne,{}),u.jsxs("div",{className:"flex space-x-3 mb-6 overflow-x-auto pb-2",children:[u.jsx("button",{onClick:()=>g("all"),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${p==="all"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:"Todos"}),i.map(ge=>u.jsx("button",{onClick:()=>g(ge.id),className:`px-5 py-2 rounded-full text-sm font-bold transition-all ${p===ge.id?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg scale-105 border-2 border-orange-600":"bg-white text-gray-800 shadow-md hover:bg-gray-100 border-2 border-gray-300"}`,children:ge.nom},ge.id))]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:pe.map(ge=>u.jsx(lne,{product:ge,onClick:()=>le(ge)},ge.id))})]}),u.jsxs("div",{className:"lg:w-96 bg-white p-4 lg:p-6 shadow-lg flex flex-col",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Mi Carrito"}),v.length===0?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[u.jsx(RC,{size:48,className:"mb-3"}),u.jsx("p",{children:"Tu carrito está vacío."})]}):u.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 -mr-2",children:[v.map(ge=>u.jsxs("div",{className:"flex items-start justify-between py-4 border-b border-gray-200 last:border-b-0 bg-white rounded-lg px-3 mb-2 shadow-sm",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-lg text-gray-900 mb-1",children:ge.nom_produit}),ge.commentaire&&u.jsxs("p",{className:"text-sm text-gray-600 italic mb-1 bg-yellow-50 p-2 rounded border-l-2 border-yellow-400",children:["💬 ",ge.commentaire]}),ge.excluded_ingredients&&ge.excluded_ingredients.length>0&&u.jsxs("p",{className:"text-sm text-red-600 mb-1 bg-red-50 p-2 rounded border-l-2 border-red-400",children:["🚫 Sin: ",ge.excluded_ingredients.join(", ")]}),u.jsx("p",{className:"text-base font-semibold text-brand-primary mt-2",children:Ce(ge.prix_unitaire)})]}),u.jsxs("div",{className:"flex flex-col items-center ml-4",children:[u.jsxs("div",{className:"flex items-center bg-gray-100 rounded-full p-1",children:[u.jsx("button",{onClick:()=>Me(ge.id,-1),className:"text-brand-primary hover:text-brand-primary-dark p-2 hover:bg-gray-200 rounded-full transition",children:u.jsx(kC,{size:18})}),u.jsx("span",{className:"mx-3 text-gray-900 font-bold text-lg min-w-[24px] text-center",children:ge.quantite}),u.jsx("button",{onClick:()=>Me(ge.id,1),className:"text-brand-primary hover:text-brand-primary-dark p-2 hover:bg-gray-200 rounded-full transition",children:u.jsx(yu,{size:18})})]}),u.jsx("p",{className:"text-sm font-semibold text-gray-700 mt-2",children:Ce(ge.prix_unitaire*ge.quantite)})]})]},ge.id)),v.length>0&&u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[u.jsx("p",{className:"font-medium text-gray-800",children:h_}),ie?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"text-sm text-gray-400 line-through",children:Ce(Bc)}),u.jsx("p",{className:"text-sm font-bold text-green-600",children:"GRATIS"})]}):u.jsx("p",{className:"text-sm text-gray-600",children:Ce(Bc)})]})]}),u.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"promoCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Código de Promoción:"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"text",id:"promoCode",value:I,onChange:ge=>Y(ge.target.value.toUpperCase()),placeholder:"Ingresa tu código",className:"flex-1 border border-gray-300 rounded-md shadow-sm p-2 uppercase"}),u.jsx("button",{type:"button",onClick:Tt,disabled:!I.trim()||W===I,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-md hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Aplicar"})]}),W&&u.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-green-700 font-medium",children:['✓ Código "',W,'" aplicado']}),u.jsx("button",{type:"button",onClick:kt,className:"text-red-500 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]}),ne&&u.jsx("p",{className:"mt-2 text-sm text-red-600",children:ne})]}),L>0&&u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("p",{className:"text-sm text-green-600",children:"Descuento por promoción:"}),u.jsxs("p",{className:"text-sm font-bold text-green-600",children:["- ",Ce(L)]})]}),u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("p",{className:"text-lg font-bold text-gray-800",children:"Total:"}),u.jsx("p",{className:"text-xl font-bold text-brand-primary",children:Ce(be)})]}),u.jsxs("form",{onSubmit:Ft,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de pedido:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${fe==="pedir_en_linea"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"orderType",value:"pedir_en_linea",checked:fe==="pedir_en_linea",onChange:()=>V("pedir_en_linea"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"🚚 Domicilio (con entrega)"})]}),u.jsxs("label",{className:`flex items-center p-3 border-2 rounded-lg cursor-pointer transition ${fe==="a_emporter"?"border-brand-primary bg-brand-primary/5":"border-gray-300 hover:border-brand-primary/50"}`,children:[u.jsx("input",{type:"radio",name:"orderType",value:"a_emporter",checked:fe==="a_emporter",onChange:()=>V("a_emporter"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"🏪 Para llevar (recoger en tienda)"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:["Nombre: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientName",value:O.nom,onChange:ge=>A({...O,nom:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ingresa tu nombre completo"})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientPhone",className:"block text-sm font-medium text-gray-700",children:["Teléfono: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",id:"clientPhone",value:O.telephone,onChange:ge=>A({...O,telephone:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Ej: 3001234567"})]}),fe==="pedir_en_linea"&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"clientAddress",className:"block text-sm font-medium text-gray-700",children:["Dirección: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",id:"clientAddress",value:O.adresse,onChange:ge=>A({...O,adresse:ge.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,placeholder:"Calle, número, barrio, ciudad"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Método de Pago:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center p-3 border-2 border-brand-primary rounded-lg cursor-pointer hover:bg-brand-primary/5 transition",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"transferencia",checked:C==="transferencia",onChange:()=>T("transferencia"),className:"form-radio text-brand-primary"}),u.jsx("span",{className:"ml-3 font-medium",children:"Transferencia"})]}),u.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-300 rounded-lg opacity-50 cursor-not-allowed bg-gray-100",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"efectivo",disabled:!0,className:"form-radio"}),u.jsxs("span",{className:"ml-3 text-gray-500",children:["Efectivo ",u.jsx("span",{className:"text-xs",children:"(no disponible por el momento)"})]})]})]}),u.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("p",{className:"text-sm font-medium text-blue-800",children:[u.jsx("span",{className:"font-bold",children:"Nequi / BRE-B:"})," 3238090562"]})})]}),C==="transferencia"&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"paymentProof",className:"block text-sm font-medium text-gray-700 mb-2",children:["Comprobante de Pago: ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"file",id:"paymentProof",accept:"image/*",onChange:ge=>M(ge.target.files?ge.target.files[0]:null),className:`mt-1 block w-full text-sm text-gray-800 font-medium
                                        file:mr-4 file:py-3 file:px-6 
                                        file:rounded-lg file:border-2 file:border-brand-primary
                                        file:text-sm file:font-bold 
                                        file:bg-brand-primary file:text-white 
                                        hover:file:bg-brand-primary-dark hover:file:shadow-lg
                                        file:transition-all file:cursor-pointer
                                        border-2 border-gray-300 rounded-lg p-2`,required:!0}),!k&&u.jsx("p",{className:"mt-2 text-xs text-red-600 font-medium",children:"* El comprobante de pago es obligatorio para confirmar tu pedido"})]}),u.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed shadow-md",disabled:D||v.length===0||C==="transferencia"&&!k,children:D?"Enviando...":"Confirmar Pedido"}),C==="transferencia"&&!k&&v.length>0&&u.jsx("p",{className:"text-center text-sm text-red-600 font-medium mt-2",children:"Debes subir el comprobante de pago para confirmar tu pedido"})]})]})]}),u.jsx(fne,{isOpen:w,onClose:()=>j(!1),selectedProduct:S,onAddToCart:Ve}),u.jsx(une,{isOpen:$,order:H,whatsappNumber:(t==null?void 0:t.whatsappNumber)||"573238090562"})]})},mne=()=>{const e=ha(),[t,n]=x.useState(()=>{const d=sl();return d?d.orderId:null}),{content:r}=_u(),i=d=>{n(d.id)},s=()=>{X0(),n(null)},l=r?mb(r.hero.style,r.hero.backgroundImage):{};return u.jsxs("div",{className:"min-h-screen",style:l,children:[u.jsx("header",{className:"bg-white/90 backdrop-blur shadow-md p-4 sticky top-0 z-40",children:u.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[(r==null?void 0:r.navigation.brandLogo)&&u.jsx("img",{src:r.navigation.brandLogo,alt:`Logo ${r.navigation.brand}`,className:"h-10 w-10 rounded-full object-cover"}),u.jsx("span",{className:"text-2xl font-bold text-gray-800",children:(r==null?void 0:r.navigation.brand)||"OUIOUITACOS"})]}),u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition",children:[u.jsx(wC,{size:16})," Volver al inicio"]})]})}),t?u.jsx(nT,{orderId:t,onNewOrderClick:s,variant:"page"}):u.jsx(hne,{onOrderSubmitted:i})]})},pne=()=>u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center",children:[u.jsx("h1",{className:"text-9xl font-extrabold text-brand-primary tracking-widest",children:"404"}),u.jsx("div",{className:"bg-brand-accent px-2 text-sm rounded rotate-12 absolute",children:"Page Non Trouvée"}),u.jsx("p",{className:"text-2xl md:text-3xl font-light text-gray-700 mt-4",children:"Désolé, la page que vous recherchez n'existe pas."}),u.jsx(V0,{to:"/",className:"mt-8 px-8 py-3 bg-brand-primary text-brand-secondary font-semibold rounded-lg hover:bg-yellow-400 transition",children:"Retour à l'accueil"})]}),gne=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,s]=x.useState(null),[l,d]=x.useState({startDate:"",endDate:"",paymentMethod:"all"});x.useEffect(()=>{(async()=>{try{const b=await we.getFinalizedOrders();t([...b].sort((w,j)=>j.date_creation-w.date_creation))}catch(b){console.error("Failed to fetch finalized orders",b)}finally{r(!1)}})()},[]);const f=x.useMemo(()=>e.filter(v=>{const b=new Date(v.date_creation),w=l.startDate?new Date(l.startDate):null,j=l.endDate?new Date(l.endDate):null;w&&w.setHours(0,0,0,0),j&&j.setHours(23,59,59,999);const S=w?b>=w:!0,N=j?b<=j:!0,O=l.paymentMethod==="all"||v.payment_method===l.paymentMethod;return S&&N&&O}),[e,l]),h=v=>{d({...l,[v.target.name]:v.target.value})},p=()=>{const w=[["Fecha","Tipo","Mesa/Cliente","Comensales","Venta total","Beneficio","Método de pago"].join(","),...f.map(O=>{var A;return[new Date(O.date_creation).toLocaleString("es-CO"),O.type==="sur_place"?"En el local":"Para llevar",`"${O.type==="sur_place"?O.table_nom||"N/A":((A=O.clientInfo)==null?void 0:A.nom)||"N/A"}"`,O.couverts,Ce(O.total),Ce(O.profit||0),O.payment_method||"N/A"].join(",")})].join(`
`),j=new Blob([`\uFEFF${w}`],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(j),N=document.createElement("a");N.href=S,N.download=`resumen_pedidos_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(S)},g=x.useMemo(()=>f.reduce((v,b)=>(v.totalSales+=b.total,v.totalProfit+=b.profit||0,v),{totalSales:0,totalProfit:0}),[f]);return n?u.jsx("div",{className:"text-gray-800",children:"Cargando el resumen de ventas..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"mt-6 space-y-4 rounded-xl bg-white p-4 shadow-md",children:u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de inicio"}),u.jsx("input",{type:"date",name:"startDate",value:l.startDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de fin"}),u.jsx("input",{type:"date",name:"endDate",value:l.endDate,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900"})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Método de pago"}),u.jsxs("select",{name:"paymentMethod",value:l.paymentMethod,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-primary focus:border-brand-primary text-gray-900",children:[u.jsx("option",{value:"all",children:"Todas"}),u.jsx("option",{value:"efectivo",children:"Efectivo"}),u.jsx("option",{value:"transferencia",children:"Transferencia"}),u.jsx("option",{value:"tarjeta",children:"Tarjeta"})]})]}),u.jsxs("button",{onClick:p,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 transition h-12 sm:h-full sm:self-end",children:[u.jsx(hU,{size:18})," Export CSV"]})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-md",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Mesa/Cliente"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Ventas"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider text-right",children:"Beneficio"}),u.jsx("th",{className:"p-3 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Pago"})]})}),u.jsx("tbody",{children:f.map(v=>{var b;return u.jsxs(Yn.Fragment,{children:[u.jsxs("tr",{onClick:()=>s(i===v.id?null:v.id),className:"border-b hover:bg-gray-50 cursor-pointer",children:[u.jsx("td",{className:"p-3",children:i===v.id?u.jsx(SC,{size:16}):u.jsx(J6,{size:16})}),u.jsx("td",{className:"p-3 text-sm text-gray-700 whitespace-nowrap",children:new Date(v.date_creation).toLocaleString("es-CO")}),u.jsx("td",{className:"p-3 text-sm",children:v.type==="sur_place"?u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(ob,{size:12})," En el local"]}):u.jsxs("span",{className:"inline-flex items-center gap-1.5 py-1 px-2 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[u.jsx(MC,{size:12})," Para llevar"]})}),u.jsx("td",{className:"p-3 font-semibold text-gray-900",children:v.type==="sur_place"?v.table_nom||"N/A":((b=v.clientInfo)==null?void 0:b.nom)||"N/A"}),u.jsx("td",{className:"p-3 text-gray-800 font-bold text-right",children:Ce(v.total)}),u.jsx("td",{className:"p-3 font-semibold text-green-600 text-right",children:Ce(v.profit||0)}),u.jsx("td",{className:"p-3 text-gray-700 capitalize",children:v.payment_method||"N/A"})]}),i===v.id&&u.jsx("tr",{className:"bg-gray-50",children:u.jsx("td",{colSpan:7,className:"p-4",children:u.jsxs("div",{className:"p-2 bg-white rounded-md border",children:[u.jsx("h4",{className:"font-semibold mb-2 text-gray-800",children:"Detalle de artículos:"}),u.jsx("ul",{className:"list-disc list-inside pl-2 text-gray-700",children:v.items.map(w=>u.jsxs("li",{children:[w.quantite,"x ",w.nom_produit," - ",u.jsx("span",{className:"font-semibold",children:Ce(w.prix_unitaire*w.quantite)})]},w.id))})]})})})]},v.id)})}),u.jsx("tfoot",{className:"border-t-2 border-gray-300",children:u.jsxs("tr",{className:"font-bold text-gray-900",children:[u.jsx("td",{colSpan:4,className:"p-3 text-right",children:"TOTALES"}),u.jsx("td",{className:"p-3 text-right",children:Ce(g.totalSales)}),u.jsx("td",{className:"p-3 text-right text-green-700",children:Ce(g.totalProfit)}),u.jsx("td",{})]})})]})}),f.length===0&&u.jsx("p",{className:"text-center p-8 text-gray-500",children:"Ningún pedido finalizado coincide con tus filtros."})]})]})},Sf="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:border-brand-primary/50 hover:text-brand-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary disabled:opacity-50",vne=({id:e,value:t,fallback:n,onChange:r,className:i,placeholder:s})=>{const l=x.useRef(null),[d,f]=x.useState(()=>((t==null?void 0:t.plainText)??n).trim().length===0),h=()=>{const O=l.current;if(!O){f(!0);return}const A=O.textContent??"";f(A.trim().length===0)};x.useEffect(()=>{const O=l.current;if(O){if(t&&typeof t.html=="string"){O.innerHTML!==t.html&&(O.innerHTML=t.html),h();return}O.textContent!==n&&(O.textContent=n,h())}},[t,n]);const p=()=>{const O=l.current;if(!O){r(null),f(!0);return}const A=O.innerHTML,C=O.innerText,T=cb({html:A,plainText:C});r(T),h()},g=O=>{var A;document.execCommand("styleWithCSS",!1,"false"),document.execCommand(O),(A=l.current)==null||A.focus(),p()},v=O=>{var C;const A=O.target.value;document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,A),(C=l.current)==null||C.focus(),p()},b=()=>{var O;document.execCommand("removeFormat"),document.execCommand("unlink"),(O=l.current)==null||O.focus(),p()},w=()=>{p()},j=()=>{p()},S=O=>{O.preventDefault();const A=O.clipboardData.getData("text/plain");document.execCommand("insertText",!1,A),p()},N=O=>{if((O.metaKey||O.ctrlKey)&&O.key.toLowerCase()==="b"){O.preventDefault(),g("bold");return}if((O.metaKey||O.ctrlKey)&&O.key.toLowerCase()==="i"){O.preventDefault(),g("italic");return}(O.metaKey||O.ctrlKey)&&O.key.toLowerCase()==="x"&&O.shiftKey&&(O.preventDefault(),g("strikeThrough"))};return u.jsxs("div",{className:`space-y-2 ${i??""}`,children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",className:Sf,onClick:()=>g("bold"),"aria-label":"Mettre en gras",children:u.jsx(U6,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:Sf,onClick:()=>g("italic"),"aria-label":"Mettre en italique",children:u.jsx(kU,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsx("button",{type:"button",className:Sf,onClick:()=>g("strikeThrough"),"aria-label":"Barrer",children:u.jsx(w$,{className:"h-4 w-4","aria-hidden":"true"})}),u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[u.jsx(XU,{className:"h-4 w-4","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Choisir une couleur"}),u.jsx("input",{type:"color",className:"h-8 w-8 cursor-pointer rounded-full border border-slate-200",onChange:v,"aria-label":"Sélectionner une couleur de texte"})]}),u.jsx("button",{type:"button",className:Sf,onClick:b,"aria-label":"Supprimer la mise en forme",children:u.jsx(ca,{className:"h-4 w-4","aria-hidden":"true"})})]}),u.jsxs("div",{className:"relative",children:[s&&d&&u.jsx("div",{className:"pointer-events-none absolute left-4 top-3 text-sm text-slate-400",children:s}),u.jsx("div",{id:e,ref:l,className:"ui-textarea w-full min-h-[120px] whitespace-pre-wrap break-words px-4 py-3",contentEditable:!0,role:"textbox","aria-multiline":"true",suppressContentEditableWarning:!0,onInput:w,onBlur:j,onKeyDown:N,onPaste:S})]})]})},yne=["Inter","Poppins","Roboto","Montserrat","Playfair Display","Lora","Open Sans","Georgia, serif","Arial, sans-serif"],bne=["14px","16px","18px","20px","24px","clamp(1rem, 2vw, 1.5rem)"],FR=["#0f172a","#111827","#f8fafc","#ffffff","#e2e8f0","#f97316","transparent","currentColor"],xne=new Set(B$),_ne=new Set(["navigation.style.background","hero.style.background","about.style.background","menu.style.background","findUs.style.background","footer.style.background"]),wne=new Set(["hero.backgroundImage","about.image","menu.image","navigation.brandLogo","navigation.staffLogo"]),jne={"navigation.brand":"Nom de la marque","navigation.brandLogo":"Logo principal","navigation.staffLogo":"Logo d'accès équipe","navigation.links.home":"Lien Accueil","navigation.links.about":"Lien À propos","navigation.links.menu":"Lien Menu","navigation.links.contact":"Lien Contact","navigation.links.loginCta":"Bouton d'accès staff","navigation.style.background":"Fond de la navigation","hero.title":"Titre du hero","hero.subtitle":"Sous-titre du hero","hero.ctaLabel":"Bouton principal du hero","hero.historyTitle":"Titre de l'historique","hero.reorderCtaLabel":"Bouton de réassort","hero.backgroundImage":"Image du hero","hero.style.background":"Fond du hero","about.title":"Titre À propos","about.description":"Texte À propos","about.image":"Image À propos","about.style.background":"Fond À propos","menu.title":"Titre du menu","menu.ctaLabel":"Bouton du menu","menu.loadingLabel":"Texte de chargement du menu","menu.image":"Image du menu","menu.style.background":"Fond du menu","findUs.title":"Titre Encuéntranos","findUs.addressLabel":"Libellé de l'adresse (Encuéntranos)","findUs.address":"Adresse (Encuéntranos)","findUs.cityLabel":"Libellé de contact","findUs.city":"Email (Encuéntranos)","findUs.hoursLabel":"Libellé des horaires","findUs.hours":"Horaires","findUs.mapLabel":"Libellé du lien carte","findUs.style.background":"Fond Encuéntranos","footer.text":"Texte du pied de page","footer.style.background":"Fond du pied de page"},Sne={...jne},Nne=[{id:"preview",label:"Aperçu"},{id:"custom",label:"Personnalisation"}],Ene=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`asset-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,hm=e=>{var i;const{type:t,name:n}=e;if(t.startsWith("image/"))return"image";if(t.startsWith("video/"))return"video";if(t.startsWith("audio/"))return"audio";if(t.includes("font"))return"font";const r=(i=n.split(".").pop())==null?void 0:i.toLowerCase();return r&&["ttf","otf","woff","woff2"].includes(r)?"font":"raw"},Nf=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),KR=(e,t,n)=>{const r=t.split("."),i=r.pop();if(!i)return;let s=e;r.forEach(l=>{if(s&&typeof s=="object"){const d=s[l];d&&typeof d=="object"?s[l]=Array.isArray(d)?[...d]:{...d}:s[l]={},s=s[l]}}),s&&typeof s=="object"&&(s[i]=n)},One=(e,t,n)=>{const r={};n.fontFamily&&n.fontFamily.trim().length>0&&(r.fontFamily=n.fontFamily.trim()),n.fontSize&&n.fontSize.trim().length>0&&(r.fontSize=n.fontSize.trim()),n.textColor&&n.textColor.trim().length>0&&(r.textColor=n.textColor.trim()),n.backgroundColor&&n.backgroundColor.trim().length>0&&(r.backgroundColor=n.backgroundColor.trim());const i={...e.elementStyles};Object.keys(r).length===0?delete i[t]:i[t]=r,e.elementStyles=i},Ane=(e,t,n)=>{const r={...e.elementRichText};n&&n.html.trim().length>0?r[t]=n:delete r[t],e.elementRichText=r},Cne=(e,t,n)=>{const r=Ba(t),i={...e[r]},s={...i.style,background:{...n}};i.style=s,e[r]=i},Tne=(e,t)=>{var s;const n=((s=e.assets)==null?void 0:s.library)??[],r=n.findIndex(l=>l.url===t.url||l.id===t.id),i=r>=0?n.map((l,d)=>d===r?t:l):[...n,t];e.assets={...e.assets,library:i}},GR=(e,t)=>{const n=t.split(".");let r=e;for(const i of n){if(!r||typeof r!="object")return"";r=r[i]}return typeof r=="string"?r:""},kne=(e,t)=>{const n=GR(e,t);return n.trim().length>0?n:null},Pne=(e,t)=>e.elementStyles[t]??{},Mne=(e,t)=>e.elementRichText[t]??null,Rne=(e,t)=>{const n=Ba(t);return e[n].style.background},m_=(e,t)=>{const n=e.name.replace(/\.[^/.]+$/,"").trim()||"media",r=hm(e),i=r==="font"?hb(n):n;return{id:Ene(),name:i,url:t,format:e.type||"application/octet-stream",bytes:e.size,type:r,createdAt:new Date().toISOString()}},AA='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',Dne=typeof window<"u"?x.useLayoutEffect:x.useEffect,CA=e=>typeof window<"u"&&window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(e):e.replace(/"/g,'\\"'),Ine=e=>{if(!e)return null;const{x:t,y:n,top:r,left:i,bottom:s,right:l,width:d,height:f}=e;return{x:t,y:n,top:r,left:i,bottom:s,right:l,width:d,height:f}},p_=({title:e,onClose:t,children:n,footer:r,anchor:i,elementId:s})=>{const l=x.useId(),d=x.useRef(null),[f,h]=x.useState({top:0,left:0}),[p,g]=x.useState("top"),[v,b]=x.useState(!1),[w,j]=x.useState(!1),[S,N]=x.useState(null);x.useEffect(()=>{b(!0)},[]);const O=x.useCallback(()=>{if(typeof window>"u")return;const C=d.current;if(!C)return;const T=`[data-element-id="${CA(s)}"]`,k=document.querySelector(T),M=(k==null?void 0:k.getBoundingClientRect())??i,{width:D,height:q}=C.getBoundingClientRect(),$=document.documentElement.clientWidth,F=window.innerHeight,H=16,re=12;if(!M){const R=Math.max(H,($-D)/2),L=Math.max(H,(F-q)/2);h({top:L,left:R}),g("top"),j(!0),N(null);return}let B=M.top-q-re,K="top";if(B<H&&(B=M.bottom+re,K="bottom"),B+q>F-H){const R=M.top-H,L=F-M.bottom-H;R>L?(B=Math.max(H,M.top-q-re),K="top"):(B=Math.min(F-q-H,M.bottom+re),K="bottom")}const I=M.left+M.width/2-D/2,Y=$-D-H,W=Math.max(H,Math.min(I,Y));h({top:B,left:W}),g(K),j(!0);const ue=Math.max(W+12,Math.min(M.left+M.width/2,W+D-12)),ne=K==="top"?B+q-6:B-6;N({top:ne,left:ue-6})},[i,s]);if(Dne(()=>{v&&O()},[O,v]),x.useEffect(()=>{if(!v)return;const C=()=>O();window.addEventListener("scroll",C,!0),window.addEventListener("resize",C);const T=`[data-element-id="${CA(s)}"]`,k=document.querySelector(T),M=[];if(typeof ResizeObserver<"u"){const D=new ResizeObserver(()=>O());k&&D.observe(k);const q=d.current;q&&D.observe(q),M.push(D)}return()=>{window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",C),M.forEach(D=>D.disconnect())}},[O,s,v]),x.useEffect(()=>{if(!v)return;const C=T=>{if(T.key==="Escape"){T.preventDefault(),t();return}if(T.key==="Tab"){const k=d.current;if(!k)return;const M=Array.from(k.querySelectorAll(AA)).filter($=>$.tabIndex!==-1&&!$.hasAttribute("disabled")&&!$.getAttribute("aria-hidden"));if(M.length===0){T.preventDefault(),k.focus();return}const D=M[0],q=M[M.length-1];if(T.shiftKey){(document.activeElement===D||!k.contains(document.activeElement))&&(T.preventDefault(),q.focus());return}document.activeElement===q&&(T.preventDefault(),D.focus())}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[t,v]),x.useEffect(()=>{if(!v)return;const C=T=>{const k=d.current;k&&(k.contains(T.target)||t())};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[t,v]),x.useEffect(()=>{if(!v)return;const C=d.current;if(!C)return;(C.querySelectorAll(AA)[0]??C).focus({preventScroll:!0})},[v]),typeof document>"u"||!v)return null;const A=u.jsxs("div",{className:"fixed inset-0 z-[60] pointer-events-none",children:[u.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-labelledby":l,tabIndex:-1,className:"pointer-events-auto flex w-[min(90vw,32rem)] flex-col overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200",style:{position:"absolute",top:f.top,left:f.left,opacity:w?1:0},children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[u.jsx("h2",{id:l,className:"text-lg font-semibold text-slate-900",children:e}),u.jsxs("button",{type:"button",onClick:t,className:"rounded-full p-1 text-slate-500 transition hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary",children:[u.jsx(ca,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("span",{className:"sr-only",children:"Fermer"})]})]}),u.jsx("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-5",children:n}),u.jsx("div",{className:"flex items-center justify-end gap-3 border-t border-slate-200 bg-slate-50 px-6 py-4",children:r})]}),S?u.jsx("span",{"aria-hidden":"true",className:`pointer-events-none absolute h-3 w-3 rotate-45 rounded-sm bg-white shadow-[0_0_0_1px_rgba(148,163,184,0.35)] ${p==="top"?"translate-y-[-4px]":"translate-y-[4px]"}`,style:{top:S.top,left:S.left,opacity:w?1:0}}):null]});return W0.createPortal(A,document.body)},Lne=({element:e,label:t,draft:n,onApply:r,onClose:i,fontOptions:s,onAssetAdded:l,anchor:d})=>{const f=`${e.replace(/\./g,"-")}-text-form`,h=GR(n,e),p=Mne(n,e),g=Pne(n,e),[v,b]=x.useState(h),[w,j]=x.useState(p),[S,N]=x.useState(g.fontFamily??""),[O,A]=x.useState(g.fontSize??""),[C,T]=x.useState(g.textColor??""),[k,M]=x.useState(g.backgroundColor??""),[D,q]=x.useState(null),[$,F]=x.useState(!1);x.useEffect(()=>{b(h),j(p),N(g.fontFamily??""),A(g.fontSize??""),T(g.textColor??""),M(g.backgroundColor??"")},[h,p,g.fontFamily,g.fontSize,g.textColor,g.backgroundColor]);const H=K=>{K.preventDefault();const I=v;r(Y=>(KR(Y,e,I),Ane(Y,e,w),One(Y,e,{fontFamily:S,fontSize:O,textColor:C,backgroundColor:k}),Y)),i()},re=async K=>{var Y;const I=(Y=K.target.files)==null?void 0:Y[0];if(I){q(null),F(!0);try{const W=await eu(I,{tags:[hm(I)]}),ue=m_(I,W);l(ue),N(ue.name)}catch(W){q(W instanceof Error?W.message:"Impossible de téléverser la police. Réessayez plus tard.")}finally{F(!1),K.target.value=""}}},B=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:f,className:"ui-btn-primary",children:"Enregistrer"})]});return u.jsx(p_,{title:`Personnaliser ${t}`,onClose:i,footer:B,anchor:d,elementId:e,children:u.jsxs("form",{id:f,onSubmit:H,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-plain`,className:"block text-sm font-medium text-slate-700",children:"Texte de base"}),u.jsx("textarea",{id:`${f}-plain`,className:"ui-textarea mt-2 w-full",value:v,onChange:K=>{b(K.target.value),j(null)},rows:3})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Mise en forme avancée"}),u.jsx(vne,{id:`${f}-rich`,value:w,fallback:v,onChange:K=>{j(K),K&&b(K.plainText)},className:"mt-2",placeholder:"Saisissez votre texte..."}),u.jsx("button",{type:"button",className:"mt-2 text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>j(null),children:"Supprimer la mise en forme personnalisée"})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-font`,className:"block text-sm font-medium text-slate-700",children:"Police"}),u.jsx("input",{id:`${f}-font`,className:"ui-input mt-2 w-full",value:S,onChange:K=>N(K.target.value),list:`${f}-font-options`,placeholder:"Ex: Poppins"}),u.jsx("datalist",{id:`${f}-font-options`,children:s.map(K=>u.jsx("option",{value:K},K))}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:".woff,.woff2,.ttf,.otf",className:"absolute inset-0 cursor-pointer opacity-0",onChange:re,disabled:$}),u.jsx(bu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une police"]}),$&&u.jsx(nu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"})]}),D&&u.jsx("p",{className:"mt-2 text-sm text-amber-600",children:D})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-size`,className:"block text-sm font-medium text-slate-700",children:"Taille du texte"}),u.jsx("input",{id:`${f}-size`,className:"ui-input mt-2 w-full",value:O,onChange:K=>A(K.target.value),list:`${f}-size-options`,placeholder:"Ex: 18px"}),u.jsx("datalist",{id:`${f}-size-options`,children:bne.map(K=>u.jsx("option",{value:K},K))})]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-text-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur du texte"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-text-color`,className:"ui-input w-full",value:C,onChange:K=>T(K.target.value),placeholder:"Ex: #0f172a"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:C||"#000000",onChange:K=>T(K.target.value),"aria-label":"Choisir la couleur du texte"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:FR.map(K=>u.jsx("button",{type:"button",onClick:()=>T(K),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:K==="transparent"?"#ffffff":K},title:K},K))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${f}-bg-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur de fond"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${f}-bg-color`,className:"ui-input w-full",value:k,onChange:K=>M(K.target.value),placeholder:"Ex: rgba(255,255,255,0.8)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:k||"#ffffff",onChange:K=>M(K.target.value),"aria-label":"Choisir la couleur d'arrière-plan"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Laissez un champ vide pour hériter du style par défaut."}),u.jsx("button",{type:"button",className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",onClick:()=>{N(""),A(""),T(""),M("")},children:"Réinitialiser le style"})]})]})})},Une=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:s,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-image-form`,f=kne(n,e)??"",[h,p]=x.useState(f),[g,v]=x.useState(null),[b,w]=x.useState(!1);x.useEffect(()=>{p(f)},[f]);const j=A=>{A.preventDefault();const C=h.trim(),T=Ui(C)??(C.length>0?C:null);r(k=>(KR(k,e,T),k)),i()},S=async A=>{var T;const C=(T=A.target.files)==null?void 0:T[0];if(C){v(null),w(!0);try{const k=await eu(C,{tags:[hm(C)]}),M=m_(C,k);s(M),p(k)}catch(k){v(k instanceof Error?k.message:"Téléversement impossible. Vérifiez votre connexion.")}finally{w(!1),A.target.value=""}}},N=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),O=h.trim();return u.jsx(p_,{title:`Personnaliser ${t}`,onClose:i,footer:N,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:j,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-input`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-input`,className:"ui-input mt-2 w-full",value:h,onChange:A=>p(A.target.value),placeholder:"https://..."}),u.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Fournissez une URL Cloudinary ou téléversez un fichier pour l'ajouter automatiquement."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*,video/*,audio/*,.ttf,.otf,.woff,.woff2",className:"absolute inset-0 cursor-pointer opacity-0",onChange:S,disabled:b}),u.jsx(bu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer un média"]}),b&&u.jsx(nu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>p(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Supprimer le média"})]}),g&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(oa,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:g})]}),O&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:O,alt:"Aperçu",className:"h-56 w-full object-cover"})})]})})},$ne=({element:e,label:t,draft:n,onApply:r,onClose:i,onAssetAdded:s,anchor:l})=>{const d=`${e.replace(/\./g,"-")}-background-form`,f=Rne(n,e),[h,p]=x.useState(f.type),[g,v]=x.useState(f.color),[b,w]=x.useState(f.image??""),[j,S]=x.useState(null),[N,O]=x.useState(!1);x.useEffect(()=>{p(f.type),v(f.color),w(f.image??"")},[f.type,f.color,f.image]);const A=M=>{M.preventDefault();const D=g.trim()||"transparent",q=b.trim(),$=Ui(q)??(q.length>0?q:null);r(F=>(Cne(F,e,{type:h,color:D,image:h==="image"?$:null}),F)),i()},C=async M=>{var q;const D=(q=M.target.files)==null?void 0:q[0];if(D){S(null),O(!0);try{const $=await eu(D,{tags:[hm(D)]}),F=m_(D,$);s(F),w($),p("image")}catch($){S($ instanceof Error?$.message:"Téléversement impossible.")}finally{O(!1),M.target.value=""}}},T=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:i,className:"ui-btn-secondary",children:"Annuler"}),u.jsx("button",{type:"submit",form:d,className:"ui-btn-primary",children:"Enregistrer"})]}),k=b.trim();return u.jsx(p_,{title:`Personnaliser ${t}`,onClose:i,footer:T,anchor:l,elementId:e,children:u.jsxs("form",{id:d,onSubmit:A,className:"space-y-6",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="color"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("color"),children:"Couleur"}),u.jsx("button",{type:"button",className:`ui-btn-secondary flex-1 ${h==="image"?"ring-2 ring-brand-primary":""}`,onClick:()=>p("image"),children:"Image"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-color`,className:"block text-sm font-medium text-slate-700",children:"Couleur"}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsx("input",{id:`${d}-color`,className:"ui-input w-full",value:g,onChange:M=>v(M.target.value),placeholder:"Ex: rgba(15,23,42,0.75)"}),u.jsx("input",{type:"color",className:"h-10 w-10 rounded border border-slate-200",value:g||"#ffffff",onChange:M=>v(M.target.value),"aria-label":"Choisir la couleur d'arrière-plan"})]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:FR.map(M=>u.jsx("button",{type:"button",onClick:()=>v(M),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:M==="transparent"?"#ffffff":M},title:M},M))})]}),h==="image"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:`${d}-image`,className:"block text-sm font-medium text-slate-700",children:"URL de l'image"}),u.jsx("input",{id:`${d}-image`,className:"ui-input mt-2 w-full",value:b,onChange:M=>w(M.target.value),placeholder:"https://..."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("label",{className:"ui-btn-secondary relative cursor-pointer",children:[u.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 cursor-pointer opacity-0",onChange:C,disabled:N}),u.jsx(bu,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Importer une image"]}),N&&u.jsx(nu,{className:"h-4 w-4 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("button",{type:"button",onClick:()=>w(""),className:"text-sm font-medium text-brand-primary hover:text-brand-primary/80",children:"Retirer l'image"})]}),j&&u.jsxs("div",{className:"flex items-start gap-2 rounded-2xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-700",children:[u.jsx(oa,{className:"mt-0.5 h-4 w-4","aria-hidden":"true"}),u.jsx("p",{children:j})]}),k&&u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:u.jsx("img",{src:k,alt:"Aperçu",className:"h-48 w-full object-cover"})})]})]})})},zne=()=>{const{content:e,loading:t,error:n,updateContent:r}=_u(),[i,s]=x.useState(()=>e?Nf(e):null),[l,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState("custom"),[v,b]=x.useState(null),[w,j]=x.useState(!1),[S,N]=x.useState(null),[O,A]=x.useState(null),[C,T]=x.useState([]),[k,M]=x.useState(!1),[D,q]=x.useState(null);x.useEffect(()=>{e&&s(Nf(e))},[e]),x.useEffect(()=>{let W=!0;return(async()=>{M(!0),q(null);try{const ne=await we.getBestSellerProducts();W&&T(ne)}catch(ne){W&&q(ne instanceof Error?ne.message:"Impossible de charger les produits mis en avant.")}finally{W&&M(!1)}})(),()=>{W=!1}},[]),x.useEffect(()=>{if(!O)return;const W=setTimeout(()=>A(null),4e3);return()=>clearTimeout(W)},[O]);const $=x.useCallback(W=>{s(ue=>{if(!ue)return ue;const ne=Nf(ue);return W(ne)})},[]),F=x.useCallback(W=>{s(ue=>{if(!ue)return ue;const ne=Nf(ue);return Tne(ne,W),ne})},[]),H=x.useCallback((W,ue)=>{d(W),h(ue.zone),b(Ine(ue.anchor))},[]),re=x.useCallback(()=>{d(null),h(null),b(null)},[]),B=async()=>{j(!0),N(null),A(null);try{if(!i)throw new Error("Le brouillon est indisponible.");const W=await r(i);s(W),A("Modifications enregistrées avec succès.")}catch(W){N(W instanceof Error?W.message:"Une erreur est survenue lors de la sauvegarde.")}finally{j(!1)}},K=x.useMemo(()=>{const W=Array.from(yne);if(!i)return W;const ue=i.assets.library.filter(ne=>ne.type==="font").map(ne=>hb(ne.name));return Array.from(new Set([...W,...ue]))},[i]),I=l?Sne[l]??l:null,Y=l?_ne.has(l)?"background":wne.has(l)?"image":(xne.has(l),"text"):null;return t?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(nu,{className:"h-10 w-10 animate-spin text-brand-primary","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Chargement du contenu du site…"})]}):!e||!i?u.jsxs("div",{className:"flex h-full min-h-[60vh] flex-col items-center justify-center gap-3",children:[u.jsx(oa,{className:"h-6 w-6 text-amber-500","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Le contenu du site est en cours d'initialisation…"})]}):u.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-0",children:[u.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Site public"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Cliquez sur l'icône en forme de crayon pour personnaliser chaque bloc de contenu, image ou logo."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[O&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-emerald-50 px-4 py-2 text-sm text-emerald-700",children:[u.jsx(nU,{className:"h-4 w-4","aria-hidden":"true"}),O]}),S&&u.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-amber-50 px-4 py-2 text-sm text-amber-700",children:[u.jsx(oa,{className:"h-4 w-4","aria-hidden":"true"}),S]}),u.jsx("button",{type:"button",onClick:B,className:"ui-btn-primary",disabled:w,children:w?"Enregistrement…":"Enregistrer les modifications"})]})]}),n&&u.jsxs("div",{className:"flex items-start gap-3 rounded-3xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(oa,{className:"h-5 w-5","aria-hidden":"true"}),u.jsxs("div",{children:[u.jsx("p",{children:n}),u.jsx("p",{className:"mt-1",children:"Les valeurs affichées correspondent à la configuration par défaut."})]})]}),u.jsx("nav",{className:"flex w-full items-center gap-2 overflow-x-auto rounded-full bg-slate-100 p-1",children:Nne.map(W=>u.jsx("button",{type:"button",onClick:()=>g(W.id),className:`flex-1 rounded-full px-4 py-2 text-sm font-medium transition ${p===W.id?"bg-white text-slate-900 shadow":"text-slate-500 hover:text-slate-700"}`,children:W.label},W.id))}),u.jsx("div",{children:p==="preview"?u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx("div",{className:"rounded-[2.5rem] border border-slate-200 bg-slate-50 p-6",children:u.jsx(g2,{content:i,bestSellerProducts:C,onEdit:()=>{},activeZone:null,showEditButtons:!1})})}):u.jsxs("div",{className:"space-y-4",children:[D&&u.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-700",children:[u.jsx(oa,{className:"h-5 w-5","aria-hidden":"true"}),u.jsx("p",{children:D})]}),u.jsx("div",{className:"mx-auto w-full max-w-6xl",children:u.jsx(g2,{content:i,bestSellerProducts:C,onEdit:(W,ue)=>H(W,ue),activeZone:f})}),k&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx(nu,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}),"Chargement des produits populaires…"]})]})}),l&&Y==="text"&&I&&u.jsx(Lne,{element:l,label:I,draft:i,onApply:$,onClose:re,fontOptions:K,onAssetAdded:F,anchor:v}),l&&Y==="image"&&I&&u.jsx(Une,{element:l,label:I,draft:i,onApply:$,onClose:re,onAssetAdded:F,anchor:v}),l&&Y==="background"&&I&&u.jsx($ne,{element:l,label:I,draft:i,onApply:$,onClose:re,onAssetAdded:F,anchor:v})]})},YR=({onLogout:e})=>{const t=ha(),n=Yn.useCallback(()=>{e&&e(),t("/login",{replace:!0})},[t,e]);return u.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 px-4 text-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Accès non autorisé"}),u.jsx("p",{className:"text-base text-gray-600",children:"Votre rôle ne dispose actuellement d'aucune page accessible. Veuillez contacter un administrateur ou revenir à l'écran de connexion."})]}),u.jsx("button",{type:"button",onClick:n,className:"rounded-md bg-brand-primary px-6 py-3 text-white transition hover:bg-brand-primary/90 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2",children:"Retour à la connexion"})]})},VR=()=>u.jsx("div",{className:"flex items-center justify-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-brand-primary"})}),zr=({children:e,permissionKey:t})=>{var d;const{role:n,loading:r,logout:i}=ma();if(r)return u.jsx(VR,{});if(!n)return u.jsx(Rf,{to:"/",replace:!0});const s=t?(d=n.permissions)==null?void 0:d[t]:void 0;if(!(t?Hf(s):!0)){const f=fb(n);return f?u.jsx(Rf,{to:f,replace:!0}):u.jsx(YR,{onLogout:i})}return e},Bne=()=>{const{role:e,loading:t,logout:n}=ma();ha();const[r,i]=x.useState(()=>{const l=sl();return l?l.orderId:null});if(_u(),x.useEffect(()=>{const l=()=>{const d=sl();i(d?d.orderId:null)};return window.addEventListener("storage",l),()=>window.removeEventListener("storage",l)},[]),t)return u.jsx(VR,{});if(!e)return u.jsx(Vz,{});const s=fb(e);return s?u.jsx(Rf,{to:s,replace:!0}):u.jsx(YR,{onLogout:n})},qne=()=>u.jsx(zr,{children:u.jsx(Iz,{})}),Hne=()=>u.jsxs(vI,{children:[u.jsx(On,{path:"/",element:u.jsx(Bne,{})}),u.jsx(On,{path:"/login",element:u.jsx(Rf,{to:"/",replace:!0})}),u.jsx(On,{path:"/commande-client",element:u.jsx(mne,{})}),u.jsxs(On,{element:u.jsx(qne,{}),children:[u.jsx(On,{path:"/dashboard",element:u.jsx(zr,{permissionKey:"/dashboard",children:u.jsx(lte,{})})}),u.jsx(On,{path:"/para-llevar",element:u.jsx(zr,{permissionKey:"/para-llevar",children:u.jsx(Cte,{})})}),u.jsx(On,{path:"/ventes",element:u.jsx(zr,{permissionKey:"/ventes",children:u.jsx(mte,{})})}),u.jsx(On,{path:"/commande/:tableId",element:u.jsx(zr,{permissionKey:"/ventes",children:u.jsx(Ste,{})})}),u.jsx(On,{path:"/cocina",element:u.jsx(zr,{permissionKey:"/cocina",children:u.jsx(Ate,{})})}),u.jsx(On,{path:"/resume-ventes",element:u.jsx(zr,{permissionKey:"/resume-ventes",children:u.jsx(gne,{})})}),u.jsx(On,{path:"/ingredients",element:u.jsx(zr,{permissionKey:"/ingredients",children:u.jsx(Tte,{})})}),u.jsx(On,{path:"/produits",element:u.jsx(zr,{permissionKey:"/produits",children:u.jsx(Rte,{})})}),u.jsx(On,{path:"/promotions",element:u.jsx(zr,{permissionKey:"/promotions",children:u.jsx(ine,{})})}),u.jsx(On,{path:Ka,element:u.jsx(zr,{permissionKey:Ka,children:u.jsx(zne,{})})})]}),u.jsx(On,{path:"*",element:u.jsx(pne,{})})]}),Fne=()=>u.jsx(Cz,{children:u.jsx(zI,{children:u.jsx(Hne,{})})}),WR=document.getElementById("root");if(!WR)throw new Error("Could not find root element to mount to");const Kne=j4.createRoot(WR);Kne.render(u.jsx(Yn.StrictMode,{children:u.jsx(Fne,{})}));
